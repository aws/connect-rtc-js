(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _toArray2 = require("babel-runtime/helpers/toArray");

var _toArray3 = _interopRequireDefault(_toArray2);

var _slicedToArray2 = require("babel-runtime/helpers/slicedToArray");

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

!function (e, t) {
    "object" == (typeof exports === "undefined" ? "undefined" : (0, _typeof3.default)(exports)) && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? git : e || self).dcvwebrtc = {});
}(undefined, function (e) {
    "use strict";
    var t = { major: 0, minor: 3, patch: 3, buildNumber: 0, gitHash: "2a04538bd16eaa144c6a87ab71a77e2e314f348f", versionStr: "0.3.3+build.0" },
        n = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};function r(e) {
        return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
    }var i = { exports: {} };!function (e) {
        var t, r;t = n, r = function r() {
            var e = function e() {},
                t = "undefined",
                n = (typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t && (0, _typeof3.default)(window.navigator) !== t && /Trident\/|MSIE /.test(window.navigator.userAgent),
                r = ["trace", "debug", "info", "warn", "error"],
                i = {},
                s = null;function a(e, t) {
                var n = e[t];if ("function" == typeof n.bind) return n.bind(e);try {
                    return Function.prototype.bind.call(n, e);
                } catch (t) {
                    return function () {
                        return Function.prototype.apply.apply(n, [e, arguments]);
                    };
                }
            }function o() {
                console.log && (console.log.apply ? console.log.apply(console, arguments) : Function.prototype.apply.apply(console.log, [console, arguments])), console.trace && console.trace();
            }function d() {
                for (var n = this.getLevel(), i = 0; i < r.length; i++) {
                    var s = r[i];this[s] = i < n ? e : this.methodFactory(s, n, this.name);
                }if (this.log = this.debug, (typeof console === "undefined" ? "undefined" : (0, _typeof3.default)(console)) === t && n < this.levels.SILENT) return "No console available for logging";
            }function c(e) {
                return function () {
                    (typeof console === "undefined" ? "undefined" : (0, _typeof3.default)(console)) !== t && (d.call(this), this[e].apply(this, arguments));
                };
            }function l(r, i, s) {
                return function (r) {
                    return "debug" === r && (r = "log"), (typeof console === "undefined" ? "undefined" : (0, _typeof3.default)(console)) !== t && ("trace" === r && n ? o : void 0 !== console[r] ? a(console, r) : void 0 !== console.log ? a(console, "log") : e);
                }(r) || c.apply(this, arguments);
            }function h(e, n) {
                var a,
                    o,
                    c,
                    h = this,
                    u = "loglevel";function _() {
                    var e;if ((typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t && u) {
                        try {
                            e = window.localStorage[u];
                        } catch (e) {}if ((typeof e === "undefined" ? "undefined" : (0, _typeof3.default)(e)) === t) try {
                            var n = window.document.cookie,
                                r = encodeURIComponent(u),
                                i = n.indexOf(r + "=");-1 !== i && (e = /^([^;]+)/.exec(n.slice(i + r.length + 1))[1]);
                        } catch (e) {}return void 0 === h.levels[e] && (e = void 0), e;
                    }
                }function f(e) {
                    var t = e;if ("string" == typeof t && void 0 !== h.levels[t.toUpperCase()] && (t = h.levels[t.toUpperCase()]), "number" == typeof t && t >= 0 && t <= h.levels.SILENT) return t;throw new TypeError("log.setLevel() called with invalid level: " + e);
                }"string" == typeof e ? u += ":" + e : "symbol" == (typeof e === "undefined" ? "undefined" : (0, _typeof3.default)(e)) && (u = void 0), h.name = e, h.levels = { TRACE: 0, DEBUG: 1, INFO: 2, WARN: 3, ERROR: 4, SILENT: 5 }, h.methodFactory = n || l, h.getLevel = function () {
                    return null != c ? c : null != o ? o : a;
                }, h.setLevel = function (e, n) {
                    return c = f(e), !1 !== n && function (e) {
                        var n = (r[e] || "silent").toUpperCase();if ((typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t && u) {
                            try {
                                return void (window.localStorage[u] = n);
                            } catch (e) {}try {
                                window.document.cookie = encodeURIComponent(u) + "=" + n + ";";
                            } catch (e) {}
                        }
                    }(c), d.call(h);
                }, h.setDefaultLevel = function (e) {
                    o = f(e), _() || h.setLevel(e, !1);
                }, h.resetLevel = function () {
                    c = null, function () {
                        if ((typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t && u) {
                            try {
                                window.localStorage.removeItem(u);
                            } catch (e) {}try {
                                window.document.cookie = encodeURIComponent(u) + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC";
                            } catch (e) {}
                        }
                    }(), d.call(h);
                }, h.enableAll = function (e) {
                    h.setLevel(h.levels.TRACE, e);
                }, h.disableAll = function (e) {
                    h.setLevel(h.levels.SILENT, e);
                }, h.rebuild = function () {
                    if (s !== h && (a = f(s.getLevel())), d.call(h), s === h) for (var e in i) {
                        i[e].rebuild();
                    }
                }, a = f(s ? s.getLevel() : "WARN");var E = _();null != E && (c = f(E)), d.call(h);
            }(s = new h()).getLogger = function (e) {
                if ("symbol" != (typeof e === "undefined" ? "undefined" : (0, _typeof3.default)(e)) && "string" != typeof e || "" === e) throw new TypeError("You must supply a name when creating a logger.");var t = i[e];return t || (t = i[e] = new h(e, s.methodFactory)), t;
            };var u = (typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t ? window.log : void 0;return s.noConflict = function () {
                return (typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) !== t && window.log === s && (window.log = u), s;
            }, s.getLoggers = function () {
                return i;
            }, s.default = s, s;
        }, e.exports ? e.exports = r() : t.log = r();
    }(i);var s = r(i.exports);var a = Object.freeze({ HELLO_API_NAME: "hello", GETUSERMEDIA_API_NAME: "navigator.mediaDevices.getUserMedia", ENUMERATEDEVICES_API_NAME: "navigator.mediaDevices.enumerateDevices", GENERATE_CERTIFICATE_API_NAME: "RTCPeerConnection.generateCertificate", NEWRTCPEERCONNECTION_API_NAME: "new.RTCPeerConnection", PC_GET_CONFIGURATION: "pcs.getConfiguration", NEW_AUDIO_CONTEXT: "new.AudioContext", CREATE_WORKER: "new.Worker", WORKER_POST_MESSAGE: "workers.postMessage", WORKER_TERMINATE: "workers.terminate", AUDIO_CTX_CREATE_AUDIO_NODE: "audioContexts.createAudioNode", AUDIO_CTX_CLOSE: "audioContexts.close", AUDIO_NODE_CONNECT: "audioNodes.connect", AUDIO_NODE_DISCONNECT: "audioNodes.disconnect", AUDIO_PARAM_SET_VALUE_AT_TIME: "audioParams.setValueAtTime", AUDIO_PARAM_SET_RAMP_TO_VALUE_AT_TIME: "audioParams.linearRampToValueAtTime", AUDIO_NODE_SET_TYPE: "audioNodes.setType", AUDIO_NODE_START: "audioNodes.start", AUDIO_NODE_STOP: "audioNodes.stop", PC_CLOSE_API_NAME: "pcs.close", ADDSTREAM_API_NAME: "pcs.addStream", STREAM_REMOVE_TRACK: "streams.removeTrack", STREAM_ADD_TRACK: "streams.addTrack", GET_STATS_API_NAME: "pcs.getStats", CREATE_OFFER_API_NAME: "pcs.createOffer", SET_LOCAL_DESCRIPTION_API_NAME: "pcs.setLocalDescription", ADD_PC_EVENT_LISTENER: "pcs.addEventListener", ADD_TRACK_EVENT_LISTENER: "tracks.addEventListener", ADD_DTMF_EVENT_LISTENER: "dtmfs.addEventListener", ADD_WORKER_EVENT_LISTENER: "workers.addEventListener", SET_REMOTE_DESCRIPTION_API_NAME: "pcs.setRemoteDescription", ADD_ICE_CANDIDATE_API_NAME: "pcs.addIceCandidate", CREATE_MEDIA_ELEMENT_API_NAME: "document.createElement", MEDIA_ELEMENT_SET_SINK_ID_API_NAME: "mediaElements.setSinkId", MEDIA_ELEMENT_REMOVE: "mediaElements.remove", CREATE_ANSWER_API_NAME: "pcs.createAnswer", UNLOAD_EVENT_NAME: "unload", TOGGLE_TRACK_ENABLED_API_NAME: "tracks.enabled", TRACK_STOP_API_NAME: "tracks.stop", TRACK_GET_SETTINGS: "tracks.getSettings", GET_RECEIVERS_API_NAME: "pcs.getReceivers", ADD_TRACK_API_NAME: "pcs.addTrack", GET_SENDERS_API_NAME: "pcs.getSenders", GET_SENDER_STATS_API_NAME: "senders.getStats", GET_RECEIVER_STATS_API_NAME: "receivers.getStats", SET_MEDIA_SRC_OBJ_API_NAME: "mediaElements.srcObject", SET_MEDIA_HIDDEN_API_NAME: "mediaElements.hidden", SET_MEDIA_VOLUME_API_NAME: "mediaElements.volume", MEDIA_ELEMENT_PLAY_API_NAME: "mediaElements.play", MEDIA_ELEMENT_PAUSE_API_NAME: "mediaElements.pause", MEDIA_ELEMENT_MUTED: "mediaElements.muted", ADD_TRANSCEIVER_API_NAME: "pcs.addTransceiver", GET_TRANSCEIVERS_API_NAME: "pcs.getTransceivers", TRANSCEIVER_SET_CODEC_PREFS: "transceivers.setCodecPreferences", REPLACE_SENDER_TRACK_API_NAME: "senders.replaceTrack", PC_REMOVE_TRACK_API_NAME: "pcs.removeTrack", INSERT_DTMF_API_NAME: "dtmfSenders.insertDTMF", SENDER_CREATE_ENCODED_STREAMS: "senders.createEncodedStreams", RECEIVER_CREATE_ENCODED_STREAMS: "receivers.createEncodedStreams" }),
        o = Object.freeze({ SIG_STATE_CHANGE: "signalingstatechange", TRACK: "track", CONN_STATE_CHANGE: "connectionstatechange", ICE_CONN_STATE_CHANGE: "iceconnectionstatechange", ICE_GATHER_STATE_CHANGE: "icegatheringstatechange", ICE_CANDIDATE: "icecandidate", NEGOTIATION_NEEDED: "negotiationneeded" }),
        d = Object.freeze({ ENDED: "ended", MUTE: "mute", UNMUTE: "unmute" }),
        c = Object.freeze({ TONECHANGE: "tonechange" }),
        l = Object.freeze({ ERROR: "error", MESSAGE: "message", MESSAGE_ERROR: "messageerror" }),
        h = Object.freeze({ NEW: "new", AVAILABLE: "available", UNAVAILABLE: "unavailable" }),
        u = Object.freeze({ CHROME: "diilpfplcnhehakckkpmcmibmhbingnd", EDGE: "kjbbkjjiecchbcdoollhgffghfjnbhef" });for (var _ = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", f = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), E = 0; E < 64; E++) {
        f[_.charCodeAt(E)] = E;
    }var p = function p(e) {
        var t,
            n = new Uint8Array(e),
            r = n.length,
            i = "";for (t = 0; t < r; t += 3) {
            i += _[n[t] >> 2], i += _[(3 & n[t]) << 4 | n[t + 1] >> 4], i += _[(15 & n[t + 1]) << 2 | n[t + 2] >> 6], i += _[63 & n[t + 2]];
        }return r % 3 == 2 ? i = i.substring(0, i.length - 1) + "=" : r % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="), i;
    },
        g = function g(e) {
        var t,
            n,
            r,
            i,
            s,
            a = .75 * e.length,
            o = e.length,
            d = 0;"=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--);var c = new ArrayBuffer(a),
            l = new Uint8Array(c);for (t = 0; t < o; t += 4) {
            n = f[e.charCodeAt(t)], r = f[e.charCodeAt(t + 1)], i = f[e.charCodeAt(t + 2)], s = f[e.charCodeAt(t + 3)], l[d++] = n << 2 | r >> 4, l[d++] = (15 & r) << 4 | i >> 2, l[d++] = (3 & i) << 6 | 63 & s;
        }return c;
    },
        m = { exports: {} };
    /*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
    !function (e, t) {
        !function (e) {
            function t(e) {
                var t = e.length;for (; --t >= 0;) {
                    e[t] = 0;
                }
            }var n = 256,
                r = 286,
                i = 30,
                s = 15,
                a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]),
                o = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]),
                d = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]),
                c = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
                l = new Array(576);t(l);var h = new Array(60);t(h);var u = new Array(512);t(u);var _ = new Array(256);t(_);var f = new Array(29);t(f);var E = new Array(i);function p(e, t, n, r, i) {
                this.static_tree = e, this.extra_bits = t, this.extra_base = n, this.elems = r, this.max_length = i, this.has_stree = e && e.length;
            }var g = void 0,
                m = void 0,
                A = void 0;function v(e, t) {
                this.dyn_tree = e, this.max_code = 0, this.stat_desc = t;
            }t(E);var w = function w(e) {
                return e < 256 ? u[e] : u[256 + (e >>> 7)];
            },
                T = function T(e, t) {
                e.pending_buf[e.pending++] = 255 & t, e.pending_buf[e.pending++] = t >>> 8 & 255;
            },
                y = function y(e, t, n) {
                e.bi_valid > 16 - n ? (e.bi_buf |= t << e.bi_valid & 65535, T(e, e.bi_buf), e.bi_buf = t >> 16 - e.bi_valid, e.bi_valid += n - 16) : (e.bi_buf |= t << e.bi_valid & 65535, e.bi_valid += n);
            },
                b = function b(e, t, n) {
                y(e, n[2 * t], n[2 * t + 1]);
            },
                R = function R(e, t) {
                var n = 0;do {
                    n |= 1 & e, e >>>= 1, n <<= 1;
                } while (--t > 0);return n >>> 1;
            },
                k = function k(e, t, n) {
                var r = new Array(16);var i = void 0,
                    a = void 0,
                    o = 0;for (i = 1; i <= s; i++) {
                    o = o + n[i - 1] << 1, r[i] = o;
                }for (a = 0; a <= t; a++) {
                    var _t2 = e[2 * a + 1];0 !== _t2 && (e[2 * a] = R(r[_t2]++, _t2));
                }
            },
                I = function I(e) {
                var t = void 0;for (t = 0; t < r; t++) {
                    e.dyn_ltree[2 * t] = 0;
                }for (t = 0; t < i; t++) {
                    e.dyn_dtree[2 * t] = 0;
                }for (t = 0; t < 19; t++) {
                    e.bl_tree[2 * t] = 0;
                }e.dyn_ltree[512] = 1, e.opt_len = e.static_len = 0, e.sym_next = e.matches = 0;
            },
                N = function N(e) {
                e.bi_valid > 8 ? T(e, e.bi_buf) : e.bi_valid > 0 && (e.pending_buf[e.pending++] = e.bi_buf), e.bi_buf = 0, e.bi_valid = 0;
            },
                S = function S(e, t, n, r) {
                var i = 2 * t,
                    s = 2 * n;return e[i] < e[s] || e[i] === e[s] && r[t] <= r[n];
            },
                C = function C(e, t, n) {
                var r = e.heap[n];var i = n << 1;for (; i <= e.heap_len && (i < e.heap_len && S(t, e.heap[i + 1], e.heap[i], e.depth) && i++, !S(t, r, e.heap[i], e.depth));) {
                    e.heap[n] = e.heap[i], n = i, i <<= 1;
                }e.heap[n] = r;
            },
                P = function P(e, t, r) {
                var i = void 0,
                    s = void 0,
                    d = void 0,
                    c = void 0,
                    l = 0;if (0 !== e.sym_next) do {
                    i = 255 & e.pending_buf[e.sym_buf + l++], i += (255 & e.pending_buf[e.sym_buf + l++]) << 8, s = e.pending_buf[e.sym_buf + l++], 0 === i ? b(e, s, t) : (d = _[s], b(e, d + n + 1, t), c = a[d], 0 !== c && (s -= f[d], y(e, s, c)), i--, d = w(i), b(e, d, r), c = o[d], 0 !== c && (i -= E[d], y(e, i, c)));
                } while (l < e.sym_next);b(e, 256, t);
            },
                D = function D(e, t) {
                var n = t.dyn_tree,
                    r = t.stat_desc.static_tree,
                    i = t.stat_desc.has_stree,
                    a = t.stat_desc.elems;var o = void 0,
                    d = void 0,
                    c = void 0,
                    l = -1;for (e.heap_len = 0, e.heap_max = 573, o = 0; o < a; o++) {
                    0 !== n[2 * o] ? (e.heap[++e.heap_len] = l = o, e.depth[o] = 0) : n[2 * o + 1] = 0;
                }for (; e.heap_len < 2;) {
                    c = e.heap[++e.heap_len] = l < 2 ? ++l : 0, n[2 * c] = 1, e.depth[c] = 0, e.opt_len--, i && (e.static_len -= r[2 * c + 1]);
                }for (t.max_code = l, o = e.heap_len >> 1; o >= 1; o--) {
                    C(e, n, o);
                }c = a;do {
                    o = e.heap[1], e.heap[1] = e.heap[e.heap_len--], C(e, n, 1), d = e.heap[1], e.heap[--e.heap_max] = o, e.heap[--e.heap_max] = d, n[2 * c] = n[2 * o] + n[2 * d], e.depth[c] = (e.depth[o] >= e.depth[d] ? e.depth[o] : e.depth[d]) + 1, n[2 * o + 1] = n[2 * d + 1] = c, e.heap[1] = c++, C(e, n, 1);
                } while (e.heap_len >= 2);e.heap[--e.heap_max] = e.heap[1], function (e, t) {
                    var n = t.dyn_tree,
                        r = t.max_code,
                        i = t.stat_desc.static_tree,
                        a = t.stat_desc.has_stree,
                        o = t.stat_desc.extra_bits,
                        d = t.stat_desc.extra_base,
                        c = t.stat_desc.max_length;var l = void 0,
                        h = void 0,
                        u = void 0,
                        _ = void 0,
                        f = void 0,
                        E = void 0,
                        p = 0;for (_ = 0; _ <= s; _++) {
                        e.bl_count[_] = 0;
                    }for (n[2 * e.heap[e.heap_max] + 1] = 0, l = e.heap_max + 1; l < 573; l++) {
                        h = e.heap[l], _ = n[2 * n[2 * h + 1] + 1] + 1, _ > c && (_ = c, p++), n[2 * h + 1] = _, h > r || (e.bl_count[_]++, f = 0, h >= d && (f = o[h - d]), E = n[2 * h], e.opt_len += E * (_ + f), a && (e.static_len += E * (i[2 * h + 1] + f)));
                    }if (0 !== p) {
                        do {
                            for (_ = c - 1; 0 === e.bl_count[_];) {
                                _--;
                            }e.bl_count[_]--, e.bl_count[_ + 1] += 2, e.bl_count[c]--, p -= 2;
                        } while (p > 0);for (_ = c; 0 !== _; _--) {
                            for (h = e.bl_count[_]; 0 !== h;) {
                                u = e.heap[--l], u > r || (n[2 * u + 1] !== _ && (e.opt_len += (_ - n[2 * u + 1]) * n[2 * u], n[2 * u + 1] = _), h--);
                            }
                        }
                    }
                }(e, t), k(n, l, e.bl_count);
            },
                x = function x(e, t, n) {
                var r = void 0,
                    i = void 0,
                    s = -1,
                    a = t[1],
                    o = 0,
                    d = 7,
                    c = 4;for (0 === a && (d = 138, c = 3), t[2 * (n + 1) + 1] = 65535, r = 0; r <= n; r++) {
                    i = a, a = t[2 * (r + 1) + 1], ++o < d && i === a || (o < c ? e.bl_tree[2 * i] += o : 0 !== i ? (i !== s && e.bl_tree[2 * i]++, e.bl_tree[32]++) : o <= 10 ? e.bl_tree[34]++ : e.bl_tree[36]++, o = 0, s = i, 0 === a ? (d = 138, c = 3) : i === a ? (d = 6, c = 3) : (d = 7, c = 4));
                }
            },
                O = function O(e, t, n) {
                var r = void 0,
                    i = void 0,
                    s = -1,
                    a = t[1],
                    o = 0,
                    d = 7,
                    c = 4;for (0 === a && (d = 138, c = 3), r = 0; r <= n; r++) {
                    if (i = a, a = t[2 * (r + 1) + 1], !(++o < d && i === a)) {
                        if (o < c) do {
                            b(e, i, e.bl_tree);
                        } while (0 != --o);else 0 !== i ? (i !== s && (b(e, i, e.bl_tree), o--), b(e, 16, e.bl_tree), y(e, o - 3, 2)) : o <= 10 ? (b(e, 17, e.bl_tree), y(e, o - 3, 3)) : (b(e, 18, e.bl_tree), y(e, o - 11, 7));o = 0, s = i, 0 === a ? (d = 138, c = 3) : i === a ? (d = 6, c = 3) : (d = 7, c = 4);
                    }
                }
            };var M = !1;var L = function L(e, t, n, r) {
                y(e, 0 + (r ? 1 : 0), 3), N(e), T(e, n), T(e, ~n), n && e.pending_buf.set(e.window.subarray(t, t + n), e.pending), e.pending += n;
            };var U = function U(e, t, r, i) {
                var s = void 0,
                    a = void 0,
                    o = 0;e.level > 0 ? (2 === e.strm.data_type && (e.strm.data_type = function (e) {
                    var t = void 0,
                        r = 4093624447;for (t = 0; t <= 31; t++, r >>>= 1) {
                        if (1 & r && 0 !== e.dyn_ltree[2 * t]) return 0;
                    }if (0 !== e.dyn_ltree[18] || 0 !== e.dyn_ltree[20] || 0 !== e.dyn_ltree[26]) return 1;for (t = 32; t < n; t++) {
                        if (0 !== e.dyn_ltree[2 * t]) return 1;
                    }return 0;
                }(e)), D(e, e.l_desc), D(e, e.d_desc), o = function (e) {
                    var t = void 0;for (x(e, e.dyn_ltree, e.l_desc.max_code), x(e, e.dyn_dtree, e.d_desc.max_code), D(e, e.bl_desc), t = 18; t >= 3 && 0 === e.bl_tree[2 * c[t] + 1]; t--) {}return e.opt_len += 3 * (t + 1) + 5 + 5 + 4, t;
                }(e), s = e.opt_len + 3 + 7 >>> 3, a = e.static_len + 3 + 7 >>> 3, a <= s && (s = a)) : s = a = r + 5, r + 4 <= s && -1 !== t ? L(e, t, r, i) : 4 === e.strategy || a === s ? (y(e, 2 + (i ? 1 : 0), 3), P(e, l, h)) : (y(e, 4 + (i ? 1 : 0), 3), function (e, t, n, r) {
                    var i = void 0;for (y(e, t - 257, 5), y(e, n - 1, 5), y(e, r - 4, 4), i = 0; i < r; i++) {
                        y(e, e.bl_tree[2 * c[i] + 1], 3);
                    }O(e, e.dyn_ltree, t - 1), O(e, e.dyn_dtree, n - 1);
                }(e, e.l_desc.max_code + 1, e.d_desc.max_code + 1, o + 1), P(e, e.dyn_ltree, e.dyn_dtree)), I(e), i && N(e);
            },
                z = { _tr_init: function _tr_init(e) {
                    M || (function () {
                        var e = void 0,
                            t = void 0,
                            n = void 0,
                            c = void 0,
                            v = void 0;var w = new Array(16);for (n = 0, c = 0; c < 28; c++) {
                            for (f[c] = n, e = 0; e < 1 << a[c]; e++) {
                                _[n++] = c;
                            }
                        }for (_[n - 1] = c, v = 0, c = 0; c < 16; c++) {
                            for (E[c] = v, e = 0; e < 1 << o[c]; e++) {
                                u[v++] = c;
                            }
                        }for (v >>= 7; c < i; c++) {
                            for (E[c] = v << 7, e = 0; e < 1 << o[c] - 7; e++) {
                                u[256 + v++] = c;
                            }
                        }for (t = 0; t <= s; t++) {
                            w[t] = 0;
                        }for (e = 0; e <= 143;) {
                            l[2 * e + 1] = 8, e++, w[8]++;
                        }for (; e <= 255;) {
                            l[2 * e + 1] = 9, e++, w[9]++;
                        }for (; e <= 279;) {
                            l[2 * e + 1] = 7, e++, w[7]++;
                        }for (; e <= 287;) {
                            l[2 * e + 1] = 8, e++, w[8]++;
                        }for (k(l, 287, w), e = 0; e < i; e++) {
                            h[2 * e + 1] = 5, h[2 * e] = R(e, 5);
                        }g = new p(l, a, 257, r, s), m = new p(h, o, 0, i, s), A = new p(new Array(0), d, 0, 19, 7);
                    }(), M = !0), e.l_desc = new v(e.dyn_ltree, g), e.d_desc = new v(e.dyn_dtree, m), e.bl_desc = new v(e.bl_tree, A), e.bi_buf = 0, e.bi_valid = 0, I(e);
                }, _tr_stored_block: L, _tr_flush_block: U, _tr_tally: function _tr_tally(e, t, r) {
                    return e.pending_buf[e.sym_buf + e.sym_next++] = t, e.pending_buf[e.sym_buf + e.sym_next++] = t >> 8, e.pending_buf[e.sym_buf + e.sym_next++] = r, 0 === t ? e.dyn_ltree[2 * r]++ : (e.matches++, t--, e.dyn_ltree[2 * (_[r] + n + 1)]++, e.dyn_dtree[2 * w(t)]++), e.sym_next === e.sym_end;
                }, _tr_align: function _tr_align(e) {
                    y(e, 2, 3), b(e, 256, l), function (e) {
                        16 === e.bi_valid ? (T(e, e.bi_buf), e.bi_buf = 0, e.bi_valid = 0) : e.bi_valid >= 8 && (e.pending_buf[e.pending++] = 255 & e.bi_buf, e.bi_buf >>= 8, e.bi_valid -= 8);
                    }(e);
                } },
                G = function G(e, t, n, r) {
                var i = 65535 & e,
                    s = e >>> 16 & 65535,
                    a = 0;for (; 0 !== n;) {
                    a = n > 2e3 ? 2e3 : n, n -= a;do {
                        i = i + t[r++] | 0, s = s + i | 0;
                    } while (--a);i %= 65521, s %= 65521;
                }return i | s << 16;
            };var V = new Uint32Array(function () {
                var e = void 0,
                    t = [];for (var n = 0; n < 256; n++) {
                    e = n;for (var r = 0; r < 8; r++) {
                        e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1;
                    }t[n] = e;
                }return t;
            }());var q = function q(e, t, n, r) {
                var i = V,
                    s = r + n;e ^= -1;for (var _n2 = r; _n2 < s; _n2++) {
                    e = e >>> 8 ^ i[255 & (e ^ t[_n2])];
                }return ~e;
            },
                F = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" },
                H = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_MEM_ERROR: -4, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
            var j = z._tr_init,
                B = z._tr_stored_block,
                Z = z._tr_flush_block,
                W = z._tr_tally,
                K = z._tr_align,
                $ = H.Z_NO_FLUSH,
                J = H.Z_PARTIAL_FLUSH,
                Y = H.Z_FULL_FLUSH,
                X = H.Z_FINISH,
                Q = H.Z_BLOCK,
                ee = H.Z_OK,
                te = H.Z_STREAM_END,
                ne = H.Z_STREAM_ERROR,
                re = H.Z_DATA_ERROR,
                ie = H.Z_BUF_ERROR,
                se = H.Z_DEFAULT_COMPRESSION,
                ae = H.Z_FILTERED,
                oe = H.Z_HUFFMAN_ONLY,
                de = H.Z_RLE,
                ce = H.Z_FIXED,
                le = H.Z_DEFAULT_STRATEGY,
                he = H.Z_UNKNOWN,
                ue = H.Z_DEFLATED,
                _e = 258,
                fe = 262,
                Ee = 42,
                pe = 113,
                ge = 666,
                me = function me(e, t) {
                return e.msg = F[t], t;
            },
                Ae = function Ae(e) {
                return 2 * e - (e > 4 ? 9 : 0);
            },
                ve = function ve(e) {
                var t = e.length;for (; --t >= 0;) {
                    e[t] = 0;
                }
            },
                we = function we(e) {
                var t = void 0,
                    n = void 0,
                    r = void 0,
                    i = e.w_size;t = e.hash_size, r = t;do {
                    n = e.head[--r], e.head[r] = n >= i ? n - i : 0;
                } while (--t);t = i, r = t;do {
                    n = e.prev[--r], e.prev[r] = n >= i ? n - i : 0;
                } while (--t);
            };

            var Te = function Te(e, t, n) {
                return (t << e.hash_shift ^ n) & e.hash_mask;
            };var ye = function ye(e) {
                var t = e.state;var n = t.pending;n > e.avail_out && (n = e.avail_out), 0 !== n && (e.output.set(t.pending_buf.subarray(t.pending_out, t.pending_out + n), e.next_out), e.next_out += n, t.pending_out += n, e.total_out += n, e.avail_out -= n, t.pending -= n, 0 === t.pending && (t.pending_out = 0));
            },
                be = function be(e, t) {
                Z(e, e.block_start >= 0 ? e.block_start : -1, e.strstart - e.block_start, t), e.block_start = e.strstart, ye(e.strm);
            },
                Re = function Re(e, t) {
                e.pending_buf[e.pending++] = t;
            },
                ke = function ke(e, t) {
                e.pending_buf[e.pending++] = t >>> 8 & 255, e.pending_buf[e.pending++] = 255 & t;
            },
                Ie = function Ie(e, t, n, r) {
                var i = e.avail_in;return i > r && (i = r), 0 === i ? 0 : (e.avail_in -= i, t.set(e.input.subarray(e.next_in, e.next_in + i), n), 1 === e.state.wrap ? e.adler = G(e.adler, t, i, n) : 2 === e.state.wrap && (e.adler = q(e.adler, t, i, n)), e.next_in += i, e.total_in += i, i);
            },
                Ne = function Ne(e, t) {
                var n = void 0,
                    r = void 0,
                    i = e.max_chain_length,
                    s = e.strstart,
                    a = e.prev_length,
                    o = e.nice_match;var d = e.strstart > e.w_size - fe ? e.strstart - (e.w_size - fe) : 0,
                    c = e.window,
                    l = e.w_mask,
                    h = e.prev,
                    u = e.strstart + _e;var _ = c[s + a - 1],
                    f = c[s + a];e.prev_length >= e.good_match && (i >>= 2), o > e.lookahead && (o = e.lookahead);do {
                    if (n = t, c[n + a] === f && c[n + a - 1] === _ && c[n] === c[s] && c[++n] === c[s + 1]) {
                        s += 2, n++;do {} while (c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && c[++s] === c[++n] && s < u);if (r = _e - (u - s), s = u - _e, r > a) {
                            if (e.match_start = t, a = r, r >= o) break;_ = c[s + a - 1], f = c[s + a];
                        }
                    }
                } while ((t = h[t & l]) > d && 0 != --i);return a <= e.lookahead ? a : e.lookahead;
            },
                Se = function Se(e) {
                var t = e.w_size;var n = void 0,
                    r = void 0,
                    i = void 0;do {
                    if (r = e.window_size - e.lookahead - e.strstart, e.strstart >= t + (t - fe) && (e.window.set(e.window.subarray(t, t + t - r), 0), e.match_start -= t, e.strstart -= t, e.block_start -= t, e.insert > e.strstart && (e.insert = e.strstart), we(e), r += t), 0 === e.strm.avail_in) break;if (n = Ie(e.strm, e.window, e.strstart + e.lookahead, r), e.lookahead += n, e.lookahead + e.insert >= 3) for (i = e.strstart - e.insert, e.ins_h = e.window[i], e.ins_h = Te(e, e.ins_h, e.window[i + 1]); e.insert && (e.ins_h = Te(e, e.ins_h, e.window[i + 3 - 1]), e.prev[i & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = i, i++, e.insert--, !(e.lookahead + e.insert < 3));) {}
                } while (e.lookahead < fe && 0 !== e.strm.avail_in);
            },
                Ce = function Ce(e, t) {
                var n = void 0,
                    r = void 0,
                    i = void 0,
                    s = e.pending_buf_size - 5 > e.w_size ? e.w_size : e.pending_buf_size - 5,
                    a = 0,
                    o = e.strm.avail_in;do {
                    if (n = 65535, i = e.bi_valid + 42 >> 3, e.strm.avail_out < i) break;if (i = e.strm.avail_out - i, r = e.strstart - e.block_start, n > r + e.strm.avail_in && (n = r + e.strm.avail_in), n > i && (n = i), n < s && (0 === n && t !== X || t === $ || n !== r + e.strm.avail_in)) break;a = t === X && n === r + e.strm.avail_in ? 1 : 0, B(e, 0, 0, a), e.pending_buf[e.pending - 4] = n, e.pending_buf[e.pending - 3] = n >> 8, e.pending_buf[e.pending - 2] = ~n, e.pending_buf[e.pending - 1] = ~n >> 8, ye(e.strm), r && (r > n && (r = n), e.strm.output.set(e.window.subarray(e.block_start, e.block_start + r), e.strm.next_out), e.strm.next_out += r, e.strm.avail_out -= r, e.strm.total_out += r, e.block_start += r, n -= r), n && (Ie(e.strm, e.strm.output, e.strm.next_out, n), e.strm.next_out += n, e.strm.avail_out -= n, e.strm.total_out += n);
                } while (0 === a);return o -= e.strm.avail_in, o && (o >= e.w_size ? (e.matches = 2, e.window.set(e.strm.input.subarray(e.strm.next_in - e.w_size, e.strm.next_in), 0), e.strstart = e.w_size, e.insert = e.strstart) : (e.window_size - e.strstart <= o && (e.strstart -= e.w_size, e.window.set(e.window.subarray(e.w_size, e.w_size + e.strstart), 0), e.matches < 2 && e.matches++, e.insert > e.strstart && (e.insert = e.strstart)), e.window.set(e.strm.input.subarray(e.strm.next_in - o, e.strm.next_in), e.strstart), e.strstart += o, e.insert += o > e.w_size - e.insert ? e.w_size - e.insert : o), e.block_start = e.strstart), e.high_water < e.strstart && (e.high_water = e.strstart), a ? 4 : t !== $ && t !== X && 0 === e.strm.avail_in && e.strstart === e.block_start ? 2 : (i = e.window_size - e.strstart, e.strm.avail_in > i && e.block_start >= e.w_size && (e.block_start -= e.w_size, e.strstart -= e.w_size, e.window.set(e.window.subarray(e.w_size, e.w_size + e.strstart), 0), e.matches < 2 && e.matches++, i += e.w_size, e.insert > e.strstart && (e.insert = e.strstart)), i > e.strm.avail_in && (i = e.strm.avail_in), i && (Ie(e.strm, e.window, e.strstart, i), e.strstart += i, e.insert += i > e.w_size - e.insert ? e.w_size - e.insert : i), e.high_water < e.strstart && (e.high_water = e.strstart), i = e.bi_valid + 42 >> 3, i = e.pending_buf_size - i > 65535 ? 65535 : e.pending_buf_size - i, s = i > e.w_size ? e.w_size : i, r = e.strstart - e.block_start, (r >= s || (r || t === X) && t !== $ && 0 === e.strm.avail_in && r <= i) && (n = r > i ? i : r, a = t === X && 0 === e.strm.avail_in && n === r ? 1 : 0, B(e, e.block_start, n, a), e.block_start += n, ye(e.strm)), a ? 3 : 1);
            },
                Pe = function Pe(e, t) {
                var n = void 0,
                    r = void 0;for (;;) {
                    if (e.lookahead < fe) {
                        if (Se(e), e.lookahead < fe && t === $) return 1;if (0 === e.lookahead) break;
                    }if (n = 0, e.lookahead >= 3 && (e.ins_h = Te(e, e.ins_h, e.window[e.strstart + 3 - 1]), n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart), 0 !== n && e.strstart - n <= e.w_size - fe && (e.match_length = Ne(e, n)), e.match_length >= 3) {
                        if (r = W(e, e.strstart - e.match_start, e.match_length - 3), e.lookahead -= e.match_length, e.match_length <= e.max_lazy_match && e.lookahead >= 3) {
                            e.match_length--;do {
                                e.strstart++, e.ins_h = Te(e, e.ins_h, e.window[e.strstart + 3 - 1]), n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart;
                            } while (0 != --e.match_length);e.strstart++;
                        } else e.strstart += e.match_length, e.match_length = 0, e.ins_h = e.window[e.strstart], e.ins_h = Te(e, e.ins_h, e.window[e.strstart + 1]);
                    } else r = W(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++;if (r && (be(e, !1), 0 === e.strm.avail_out)) return 1;
                }return e.insert = e.strstart < 2 ? e.strstart : 2, t === X ? (be(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.sym_next && (be(e, !1), 0 === e.strm.avail_out) ? 1 : 2;
            },
                De = function De(e, t) {
                var n = void 0,
                    r = void 0,
                    i = void 0;for (;;) {
                    if (e.lookahead < fe) {
                        if (Se(e), e.lookahead < fe && t === $) return 1;if (0 === e.lookahead) break;
                    }if (n = 0, e.lookahead >= 3 && (e.ins_h = Te(e, e.ins_h, e.window[e.strstart + 3 - 1]), n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart), e.prev_length = e.match_length, e.prev_match = e.match_start, e.match_length = 2, 0 !== n && e.prev_length < e.max_lazy_match && e.strstart - n <= e.w_size - fe && (e.match_length = Ne(e, n), e.match_length <= 5 && (e.strategy === ae || 3 === e.match_length && e.strstart - e.match_start > 4096) && (e.match_length = 2)), e.prev_length >= 3 && e.match_length <= e.prev_length) {
                        i = e.strstart + e.lookahead - 3, r = W(e, e.strstart - 1 - e.prev_match, e.prev_length - 3), e.lookahead -= e.prev_length - 1, e.prev_length -= 2;do {
                            ++e.strstart <= i && (e.ins_h = Te(e, e.ins_h, e.window[e.strstart + 3 - 1]), n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart);
                        } while (0 != --e.prev_length);if (e.match_available = 0, e.match_length = 2, e.strstart++, r && (be(e, !1), 0 === e.strm.avail_out)) return 1;
                    } else if (e.match_available) {
                        if (r = W(e, 0, e.window[e.strstart - 1]), r && be(e, !1), e.strstart++, e.lookahead--, 0 === e.strm.avail_out) return 1;
                    } else e.match_available = 1, e.strstart++, e.lookahead--;
                }return e.match_available && (r = W(e, 0, e.window[e.strstart - 1]), e.match_available = 0), e.insert = e.strstart < 2 ? e.strstart : 2, t === X ? (be(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.sym_next && (be(e, !1), 0 === e.strm.avail_out) ? 1 : 2;
            };function xe(e, t, n, r, i) {
                this.good_length = e, this.max_lazy = t, this.nice_length = n, this.max_chain = r, this.func = i;
            }var Oe = [new xe(0, 0, 0, 0, Ce), new xe(4, 4, 8, 4, Pe), new xe(4, 5, 16, 8, Pe), new xe(4, 6, 32, 32, Pe), new xe(4, 4, 16, 16, De), new xe(8, 16, 32, 32, De), new xe(8, 16, 128, 128, De), new xe(8, 32, 128, 256, De), new xe(32, 128, 258, 1024, De), new xe(32, 258, 258, 4096, De)];function Me() {
                this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = ue, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new Uint16Array(1146), this.dyn_dtree = new Uint16Array(122), this.bl_tree = new Uint16Array(78), ve(this.dyn_ltree), ve(this.dyn_dtree), ve(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new Uint16Array(16), this.heap = new Uint16Array(573), ve(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new Uint16Array(573), ve(this.depth), this.sym_buf = 0, this.lit_bufsize = 0, this.sym_next = 0, this.sym_end = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
            }var Le = function Le(e) {
                if (!e) return 1;var t = e.state;return !t || t.strm !== e || t.status !== Ee && 57 !== t.status && 69 !== t.status && 73 !== t.status && 91 !== t.status && 103 !== t.status && t.status !== pe && t.status !== ge ? 1 : 0;
            },
                Ue = function Ue(e) {
                if (Le(e)) return me(e, ne);e.total_in = e.total_out = 0, e.data_type = he;var t = e.state;return t.pending = 0, t.pending_out = 0, t.wrap < 0 && (t.wrap = -t.wrap), t.status = 2 === t.wrap ? 57 : t.wrap ? Ee : pe, e.adler = 2 === t.wrap ? 0 : 1, t.last_flush = -2, j(t), ee;
            },
                ze = function ze(e) {
                var t = Ue(e);var n;return t === ee && ((n = e.state).window_size = 2 * n.w_size, ve(n.head), n.max_lazy_match = Oe[n.level].max_lazy, n.good_match = Oe[n.level].good_length, n.nice_match = Oe[n.level].nice_length, n.max_chain_length = Oe[n.level].max_chain, n.strstart = 0, n.block_start = 0, n.lookahead = 0, n.insert = 0, n.match_length = n.prev_length = 2, n.match_available = 0, n.ins_h = 0), t;
            },
                Ge = function Ge(e, t, n, r, i, s) {
                if (!e) return ne;var a = 1;if (t === se && (t = 6), r < 0 ? (a = 0, r = -r) : r > 15 && (a = 2, r -= 16), i < 1 || i > 9 || n !== ue || r < 8 || r > 15 || t < 0 || t > 9 || s < 0 || s > ce || 8 === r && 1 !== a) return me(e, ne);8 === r && (r = 9);var o = new Me();return e.state = o, o.strm = e, o.status = Ee, o.wrap = a, o.gzhead = null, o.w_bits = r, o.w_size = 1 << o.w_bits, o.w_mask = o.w_size - 1, o.hash_bits = i + 7, o.hash_size = 1 << o.hash_bits, o.hash_mask = o.hash_size - 1, o.hash_shift = ~~((o.hash_bits + 3 - 1) / 3), o.window = new Uint8Array(2 * o.w_size), o.head = new Uint16Array(o.hash_size), o.prev = new Uint16Array(o.w_size), o.lit_bufsize = 1 << i + 6, o.pending_buf_size = 4 * o.lit_bufsize, o.pending_buf = new Uint8Array(o.pending_buf_size), o.sym_buf = o.lit_bufsize, o.sym_end = 3 * (o.lit_bufsize - 1), o.level = t, o.strategy = s, o.method = n, ze(e);
            };var Ve = { deflateInit: function deflateInit(e, t) {
                    return Ge(e, t, ue, 15, 8, le);
                }, deflateInit2: Ge, deflateReset: ze, deflateResetKeep: Ue, deflateSetHeader: function deflateSetHeader(e, t) {
                    return Le(e) || 2 !== e.state.wrap ? ne : (e.state.gzhead = t, ee);
                }, deflate: function deflate(e, t) {
                    if (Le(e) || t > Q || t < 0) return e ? me(e, ne) : ne;var n = e.state;if (!e.output || 0 !== e.avail_in && !e.input || n.status === ge && t !== X) return me(e, 0 === e.avail_out ? ie : ne);var r = n.last_flush;if (n.last_flush = t, 0 !== n.pending) {
                        if (ye(e), 0 === e.avail_out) return n.last_flush = -1, ee;
                    } else if (0 === e.avail_in && Ae(t) <= Ae(r) && t !== X) return me(e, ie);if (n.status === ge && 0 !== e.avail_in) return me(e, ie);if (n.status === Ee && 0 === n.wrap && (n.status = pe), n.status === Ee) {
                        var _t3 = ue + (n.w_bits - 8 << 4) << 8,
                            _r = -1;if (_r = n.strategy >= oe || n.level < 2 ? 0 : n.level < 6 ? 1 : 6 === n.level ? 2 : 3, _t3 |= _r << 6, 0 !== n.strstart && (_t3 |= 32), _t3 += 31 - _t3 % 31, ke(n, _t3), 0 !== n.strstart && (ke(n, e.adler >>> 16), ke(n, 65535 & e.adler)), e.adler = 1, n.status = pe, ye(e), 0 !== n.pending) return n.last_flush = -1, ee;
                    }if (57 === n.status) if (e.adler = 0, Re(n, 31), Re(n, 139), Re(n, 8), n.gzhead) Re(n, (n.gzhead.text ? 1 : 0) + (n.gzhead.hcrc ? 2 : 0) + (n.gzhead.extra ? 4 : 0) + (n.gzhead.name ? 8 : 0) + (n.gzhead.comment ? 16 : 0)), Re(n, 255 & n.gzhead.time), Re(n, n.gzhead.time >> 8 & 255), Re(n, n.gzhead.time >> 16 & 255), Re(n, n.gzhead.time >> 24 & 255), Re(n, 9 === n.level ? 2 : n.strategy >= oe || n.level < 2 ? 4 : 0), Re(n, 255 & n.gzhead.os), n.gzhead.extra && n.gzhead.extra.length && (Re(n, 255 & n.gzhead.extra.length), Re(n, n.gzhead.extra.length >> 8 & 255)), n.gzhead.hcrc && (e.adler = q(e.adler, n.pending_buf, n.pending, 0)), n.gzindex = 0, n.status = 69;else if (Re(n, 0), Re(n, 0), Re(n, 0), Re(n, 0), Re(n, 0), Re(n, 9 === n.level ? 2 : n.strategy >= oe || n.level < 2 ? 4 : 0), Re(n, 3), n.status = pe, ye(e), 0 !== n.pending) return n.last_flush = -1, ee;if (69 === n.status) {
                        if (n.gzhead.extra) {
                            var _t4 = n.pending,
                                _r2 = (65535 & n.gzhead.extra.length) - n.gzindex;for (; n.pending + _r2 > n.pending_buf_size;) {
                                var _i2 = n.pending_buf_size - n.pending;if (n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex, n.gzindex + _i2), n.pending), n.pending = n.pending_buf_size, n.gzhead.hcrc && n.pending > _t4 && (e.adler = q(e.adler, n.pending_buf, n.pending - _t4, _t4)), n.gzindex += _i2, ye(e), 0 !== n.pending) return n.last_flush = -1, ee;_t4 = 0, _r2 -= _i2;
                            }var _i = new Uint8Array(n.gzhead.extra);n.pending_buf.set(_i.subarray(n.gzindex, n.gzindex + _r2), n.pending), n.pending += _r2, n.gzhead.hcrc && n.pending > _t4 && (e.adler = q(e.adler, n.pending_buf, n.pending - _t4, _t4)), n.gzindex = 0;
                        }n.status = 73;
                    }if (73 === n.status) {
                        if (n.gzhead.name) {
                            var _t5 = void 0,
                                _r3 = n.pending;do {
                                if (n.pending === n.pending_buf_size) {
                                    if (n.gzhead.hcrc && n.pending > _r3 && (e.adler = q(e.adler, n.pending_buf, n.pending - _r3, _r3)), ye(e), 0 !== n.pending) return n.last_flush = -1, ee;_r3 = 0;
                                }_t5 = n.gzindex < n.gzhead.name.length ? 255 & n.gzhead.name.charCodeAt(n.gzindex++) : 0, Re(n, _t5);
                            } while (0 !== _t5);n.gzhead.hcrc && n.pending > _r3 && (e.adler = q(e.adler, n.pending_buf, n.pending - _r3, _r3)), n.gzindex = 0;
                        }n.status = 91;
                    }if (91 === n.status) {
                        if (n.gzhead.comment) {
                            var _t6 = void 0,
                                _r4 = n.pending;do {
                                if (n.pending === n.pending_buf_size) {
                                    if (n.gzhead.hcrc && n.pending > _r4 && (e.adler = q(e.adler, n.pending_buf, n.pending - _r4, _r4)), ye(e), 0 !== n.pending) return n.last_flush = -1, ee;_r4 = 0;
                                }_t6 = n.gzindex < n.gzhead.comment.length ? 255 & n.gzhead.comment.charCodeAt(n.gzindex++) : 0, Re(n, _t6);
                            } while (0 !== _t6);n.gzhead.hcrc && n.pending > _r4 && (e.adler = q(e.adler, n.pending_buf, n.pending - _r4, _r4));
                        }n.status = 103;
                    }if (103 === n.status) {
                        if (n.gzhead.hcrc) {
                            if (n.pending + 2 > n.pending_buf_size && (ye(e), 0 !== n.pending)) return n.last_flush = -1, ee;Re(n, 255 & e.adler), Re(n, e.adler >> 8 & 255), e.adler = 0;
                        }if (n.status = pe, ye(e), 0 !== n.pending) return n.last_flush = -1, ee;
                    }if (0 !== e.avail_in || 0 !== n.lookahead || t !== $ && n.status !== ge) {
                        var _r5 = 0 === n.level ? Ce(n, t) : n.strategy === oe ? function (e, t) {
                            var n = void 0;for (;;) {
                                if (0 === e.lookahead && (Se(e), 0 === e.lookahead)) {
                                    if (t === $) return 1;break;
                                }if (e.match_length = 0, n = W(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++, n && (be(e, !1), 0 === e.strm.avail_out)) return 1;
                            }return e.insert = 0, t === X ? (be(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.sym_next && (be(e, !1), 0 === e.strm.avail_out) ? 1 : 2;
                        }(n, t) : n.strategy === de ? function (e, t) {
                            var n = void 0,
                                r = void 0,
                                i = void 0,
                                s = void 0;var a = e.window;for (;;) {
                                if (e.lookahead <= _e) {
                                    if (Se(e), e.lookahead <= _e && t === $) return 1;if (0 === e.lookahead) break;
                                }if (e.match_length = 0, e.lookahead >= 3 && e.strstart > 0 && (i = e.strstart - 1, r = a[i], r === a[++i] && r === a[++i] && r === a[++i])) {
                                    s = e.strstart + _e;do {} while (r === a[++i] && r === a[++i] && r === a[++i] && r === a[++i] && r === a[++i] && r === a[++i] && r === a[++i] && r === a[++i] && i < s);e.match_length = _e - (s - i), e.match_length > e.lookahead && (e.match_length = e.lookahead);
                                }if (e.match_length >= 3 ? (n = W(e, 1, e.match_length - 3), e.lookahead -= e.match_length, e.strstart += e.match_length, e.match_length = 0) : (n = W(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++), n && (be(e, !1), 0 === e.strm.avail_out)) return 1;
                            }return e.insert = 0, t === X ? (be(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.sym_next && (be(e, !1), 0 === e.strm.avail_out) ? 1 : 2;
                        }(n, t) : Oe[n.level].func(n, t);if (3 !== _r5 && 4 !== _r5 || (n.status = ge), 1 === _r5 || 3 === _r5) return 0 === e.avail_out && (n.last_flush = -1), ee;if (2 === _r5 && (t === J ? K(n) : t !== Q && (B(n, 0, 0, !1), t === Y && (ve(n.head), 0 === n.lookahead && (n.strstart = 0, n.block_start = 0, n.insert = 0))), ye(e), 0 === e.avail_out)) return n.last_flush = -1, ee;
                    }return t !== X ? ee : n.wrap <= 0 ? te : (2 === n.wrap ? (Re(n, 255 & e.adler), Re(n, e.adler >> 8 & 255), Re(n, e.adler >> 16 & 255), Re(n, e.adler >> 24 & 255), Re(n, 255 & e.total_in), Re(n, e.total_in >> 8 & 255), Re(n, e.total_in >> 16 & 255), Re(n, e.total_in >> 24 & 255)) : (ke(n, e.adler >>> 16), ke(n, 65535 & e.adler)), ye(e), n.wrap > 0 && (n.wrap = -n.wrap), 0 !== n.pending ? ee : te);
                }, deflateEnd: function deflateEnd(e) {
                    if (Le(e)) return ne;var t = e.state.status;return e.state = null, t === pe ? me(e, re) : ee;
                }, deflateSetDictionary: function deflateSetDictionary(e, t) {
                    var n = t.length;if (Le(e)) return ne;var r = e.state,
                        i = r.wrap;if (2 === i || 1 === i && r.status !== Ee || r.lookahead) return ne;if (1 === i && (e.adler = G(e.adler, t, n, 0)), r.wrap = 0, n >= r.w_size) {
                        0 === i && (ve(r.head), r.strstart = 0, r.block_start = 0, r.insert = 0);var _e2 = new Uint8Array(r.w_size);_e2.set(t.subarray(n - r.w_size, n), 0), t = _e2, n = r.w_size;
                    }var s = e.avail_in,
                        a = e.next_in,
                        o = e.input;for (e.avail_in = n, e.next_in = 0, e.input = t, Se(r); r.lookahead >= 3;) {
                        var _e3 = r.strstart,
                            _t7 = r.lookahead - 2;do {
                            r.ins_h = Te(r, r.ins_h, r.window[_e3 + 3 - 1]), r.prev[_e3 & r.w_mask] = r.head[r.ins_h], r.head[r.ins_h] = _e3, _e3++;
                        } while (--_t7);r.strstart = _e3, r.lookahead = 2, Se(r);
                    }return r.strstart += r.lookahead, r.block_start = r.strstart, r.insert = r.lookahead, r.lookahead = 0, r.match_length = r.prev_length = 2, r.match_available = 0, e.next_in = a, e.input = o, e.avail_in = s, r.wrap = i, ee;
                }, deflateInfo: "pako deflate (from Nodeca project)" };var qe = function qe(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            };var Fe = function Fe(e) {
                var t = Array.prototype.slice.call(arguments, 1);for (; t.length;) {
                    var _n3 = t.shift();if (_n3) {
                        if ("object" != (typeof _n3 === "undefined" ? "undefined" : (0, _typeof3.default)(_n3))) throw new TypeError(_n3 + "must be non-object");for (var _t8 in _n3) {
                            qe(_n3, _t8) && (e[_t8] = _n3[_t8]);
                        }
                    }
                }return e;
            },
                He = function He(e) {
                var t = 0;for (var _n4 = 0, _r6 = e.length; _n4 < _r6; _n4++) {
                    t += e[_n4].length;
                }var n = new Uint8Array(t);for (var _t9 = 0, _r7 = 0, _i3 = e.length; _t9 < _i3; _t9++) {
                    var _i4 = e[_t9];n.set(_i4, _r7), _r7 += _i4.length;
                }return n;
            };var je = !0;try {
                String.fromCharCode.apply(null, new Uint8Array(1));
            } catch (e) {
                je = !1;
            }var Be = new Uint8Array(256);for (var _e4 = 0; _e4 < 256; _e4++) {
                Be[_e4] = _e4 >= 252 ? 6 : _e4 >= 248 ? 5 : _e4 >= 240 ? 4 : _e4 >= 224 ? 3 : _e4 >= 192 ? 2 : 1;
            }Be[254] = Be[254] = 1;var Ze = function Ze(e) {
                if ("function" == typeof TextEncoder && TextEncoder.prototype.encode) return new TextEncoder().encode(e);var t = void 0,
                    n = void 0,
                    r = void 0,
                    i = void 0,
                    s = void 0,
                    a = e.length,
                    o = 0;for (i = 0; i < a; i++) {
                    n = e.charCodeAt(i), 55296 == (64512 & n) && i + 1 < a && (r = e.charCodeAt(i + 1), 56320 == (64512 & r) && (n = 65536 + (n - 55296 << 10) + (r - 56320), i++)), o += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
                }for (t = new Uint8Array(o), s = 0, i = 0; s < o; i++) {
                    n = e.charCodeAt(i), 55296 == (64512 & n) && i + 1 < a && (r = e.charCodeAt(i + 1), 56320 == (64512 & r) && (n = 65536 + (n - 55296 << 10) + (r - 56320), i++)), n < 128 ? t[s++] = n : n < 2048 ? (t[s++] = 192 | n >>> 6, t[s++] = 128 | 63 & n) : n < 65536 ? (t[s++] = 224 | n >>> 12, t[s++] = 128 | n >>> 6 & 63, t[s++] = 128 | 63 & n) : (t[s++] = 240 | n >>> 18, t[s++] = 128 | n >>> 12 & 63, t[s++] = 128 | n >>> 6 & 63, t[s++] = 128 | 63 & n);
                }return t;
            },
                We = function We(e, t) {
                var n = t || e.length;if ("function" == typeof TextDecoder && TextDecoder.prototype.decode) return new TextDecoder().decode(e.subarray(0, t));var r = void 0,
                    i = void 0;var s = new Array(2 * n);for (i = 0, r = 0; r < n;) {
                    var _t10 = e[r++];if (_t10 < 128) {
                        s[i++] = _t10;continue;
                    }var _a = Be[_t10];if (_a > 4) s[i++] = 65533, r += _a - 1;else {
                        for (_t10 &= 2 === _a ? 31 : 3 === _a ? 15 : 7; _a > 1 && r < n;) {
                            _t10 = _t10 << 6 | 63 & e[r++], _a--;
                        }_a > 1 ? s[i++] = 65533 : _t10 < 65536 ? s[i++] = _t10 : (_t10 -= 65536, s[i++] = 55296 | _t10 >> 10 & 1023, s[i++] = 56320 | 1023 & _t10);
                    }
                }return function (e, t) {
                    if (t < 65534 && e.subarray && je) return String.fromCharCode.apply(null, e.length === t ? e : e.subarray(0, t));var n = "";for (var _r8 = 0; _r8 < t; _r8++) {
                        n += String.fromCharCode(e[_r8]);
                    }return n;
                }(s, i);
            },
                Ke = function Ke(e, t) {
                (t = t || e.length) > e.length && (t = e.length);var n = t - 1;for (; n >= 0 && 128 == (192 & e[n]);) {
                    n--;
                }return n < 0 || 0 === n ? t : n + Be[e[n]] > t ? n : t;
            },
                $e = function $e() {
                this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
            };var Je = Object.prototype.toString,
                Ye = H.Z_NO_FLUSH,
                Xe = H.Z_SYNC_FLUSH,
                Qe = H.Z_FULL_FLUSH,
                et = H.Z_FINISH,
                tt = H.Z_OK,
                nt = H.Z_STREAM_END,
                rt = H.Z_DEFAULT_COMPRESSION,
                it = H.Z_DEFAULT_STRATEGY,
                st = H.Z_DEFLATED;function at(e) {
                this.options = Fe({ level: rt, method: st, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: it }, e || {});var t = this.options;t.raw && t.windowBits > 0 ? t.windowBits = -t.windowBits : t.gzip && t.windowBits > 0 && t.windowBits < 16 && (t.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new $e(), this.strm.avail_out = 0;var n = Ve.deflateInit2(this.strm, t.level, t.method, t.windowBits, t.memLevel, t.strategy);if (n !== tt) throw new Error(F[n]);if (t.header && Ve.deflateSetHeader(this.strm, t.header), t.dictionary) {
                    var _e5 = void 0;if (_e5 = "string" == typeof t.dictionary ? Ze(t.dictionary) : "[object ArrayBuffer]" === Je.call(t.dictionary) ? new Uint8Array(t.dictionary) : t.dictionary, n = Ve.deflateSetDictionary(this.strm, _e5), n !== tt) throw new Error(F[n]);this._dict_set = !0;
                }
            }function ot(e, t) {
                var n = new at(t);if (n.push(e, !0), n.err) throw n.msg || F[n.err];return n.result;
            }at.prototype.push = function (e, t) {
                var n = this.strm,
                    r = this.options.chunkSize;var i = void 0,
                    s = void 0;if (this.ended) return !1;for (s = t === ~~t ? t : !0 === t ? et : Ye, "string" == typeof e ? n.input = Ze(e) : "[object ArrayBuffer]" === Je.call(e) ? n.input = new Uint8Array(e) : n.input = e, n.next_in = 0, n.avail_in = n.input.length;;) {
                    if (0 === n.avail_out && (n.output = new Uint8Array(r), n.next_out = 0, n.avail_out = r), (s === Xe || s === Qe) && n.avail_out <= 6) this.onData(n.output.subarray(0, n.next_out)), n.avail_out = 0;else {
                        if (i = Ve.deflate(n, s), i === nt) return n.next_out > 0 && this.onData(n.output.subarray(0, n.next_out)), i = Ve.deflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === tt;if (0 !== n.avail_out) {
                            if (s > 0 && n.next_out > 0) this.onData(n.output.subarray(0, n.next_out)), n.avail_out = 0;else if (0 === n.avail_in) break;
                        } else this.onData(n.output);
                    }
                }return !0;
            }, at.prototype.onData = function (e) {
                this.chunks.push(e);
            }, at.prototype.onEnd = function (e) {
                e === tt && (this.result = He(this.chunks)), this.chunks = [], this.err = e, this.msg = this.strm.msg;
            };var dt = { Deflate: at, deflate: ot, deflateRaw: function deflateRaw(e, t) {
                    return (t = t || {}).raw = !0, ot(e, t);
                }, gzip: function gzip(e, t) {
                    return (t = t || {}).gzip = !0, ot(e, t);
                }, constants: H };var ct = 16209;var lt = function lt(e, t) {
                var n = void 0,
                    r = void 0,
                    i = void 0,
                    s = void 0,
                    a = void 0,
                    o = void 0,
                    d = void 0,
                    c = void 0,
                    l = void 0,
                    h = void 0,
                    u = void 0,
                    _ = void 0,
                    f = void 0,
                    E = void 0,
                    p = void 0,
                    g = void 0,
                    m = void 0,
                    A = void 0,
                    v = void 0,
                    w = void 0,
                    T = void 0,
                    y = void 0,
                    b = void 0,
                    R = void 0;var k = e.state;n = e.next_in, b = e.input, r = n + (e.avail_in - 5), i = e.next_out, R = e.output, s = i - (t - e.avail_out), a = i + (e.avail_out - 257), o = k.dmax, d = k.wsize, c = k.whave, l = k.wnext, h = k.window, u = k.hold, _ = k.bits, f = k.lencode, E = k.distcode, p = (1 << k.lenbits) - 1, g = (1 << k.distbits) - 1;e: do {
                    _ < 15 && (u += b[n++] << _, _ += 8, u += b[n++] << _, _ += 8), m = f[u & p];t: for (;;) {
                        if (A = m >>> 24, u >>>= A, _ -= A, A = m >>> 16 & 255, 0 === A) R[i++] = 65535 & m;else {
                            if (!(16 & A)) {
                                if (!(64 & A)) {
                                    m = f[(65535 & m) + (u & (1 << A) - 1)];continue t;
                                }if (32 & A) {
                                    k.mode = 16191;break e;
                                }e.msg = "invalid literal/length code", k.mode = ct;break e;
                            }v = 65535 & m, A &= 15, A && (_ < A && (u += b[n++] << _, _ += 8), v += u & (1 << A) - 1, u >>>= A, _ -= A), _ < 15 && (u += b[n++] << _, _ += 8, u += b[n++] << _, _ += 8), m = E[u & g];n: for (;;) {
                                if (A = m >>> 24, u >>>= A, _ -= A, A = m >>> 16 & 255, !(16 & A)) {
                                    if (!(64 & A)) {
                                        m = E[(65535 & m) + (u & (1 << A) - 1)];continue n;
                                    }e.msg = "invalid distance code", k.mode = ct;break e;
                                }if (w = 65535 & m, A &= 15, _ < A && (u += b[n++] << _, _ += 8, _ < A && (u += b[n++] << _, _ += 8)), w += u & (1 << A) - 1, w > o) {
                                    e.msg = "invalid distance too far back", k.mode = ct;break e;
                                }if (u >>>= A, _ -= A, A = i - s, w > A) {
                                    if (A = w - A, A > c && k.sane) {
                                        e.msg = "invalid distance too far back", k.mode = ct;break e;
                                    }if (T = 0, y = h, 0 === l) {
                                        if (T += d - A, A < v) {
                                            v -= A;do {
                                                R[i++] = h[T++];
                                            } while (--A);T = i - w, y = R;
                                        }
                                    } else if (l < A) {
                                        if (T += d + l - A, A -= l, A < v) {
                                            v -= A;do {
                                                R[i++] = h[T++];
                                            } while (--A);if (T = 0, l < v) {
                                                A = l, v -= A;do {
                                                    R[i++] = h[T++];
                                                } while (--A);T = i - w, y = R;
                                            }
                                        }
                                    } else if (T += l - A, A < v) {
                                        v -= A;do {
                                            R[i++] = h[T++];
                                        } while (--A);T = i - w, y = R;
                                    }for (; v > 2;) {
                                        R[i++] = y[T++], R[i++] = y[T++], R[i++] = y[T++], v -= 3;
                                    }v && (R[i++] = y[T++], v > 1 && (R[i++] = y[T++]));
                                } else {
                                    T = i - w;do {
                                        R[i++] = R[T++], R[i++] = R[T++], R[i++] = R[T++], v -= 3;
                                    } while (v > 2);v && (R[i++] = R[T++], v > 1 && (R[i++] = R[T++]));
                                }break;
                            }
                        }break;
                    }
                } while (n < r && i < a);v = _ >> 3, n -= v, _ -= v << 3, u &= (1 << _) - 1, e.next_in = n, e.next_out = i, e.avail_in = n < r ? r - n + 5 : 5 - (n - r), e.avail_out = i < a ? a - i + 257 : 257 - (i - a), k.hold = u, k.bits = _;
            };var ht = 15,
                ut = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]),
                _t = new Uint8Array([16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]),
                ft = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]),
                Et = new Uint8Array([16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]);var pt = function pt(e, t, n, r, i, s, a, o) {
                var d = o.bits;var c = void 0,
                    l = void 0,
                    h = void 0,
                    u = void 0,
                    _ = void 0,
                    f = void 0,
                    E = 0,
                    p = 0,
                    g = 0,
                    m = 0,
                    A = 0,
                    v = 0,
                    w = 0,
                    T = 0,
                    y = 0,
                    b = 0,
                    R = null;var k = new Uint16Array(16),
                    I = new Uint16Array(16);var N = void 0,
                    S = void 0,
                    C = void 0,
                    P = null;for (E = 0; E <= ht; E++) {
                    k[E] = 0;
                }for (p = 0; p < r; p++) {
                    k[t[n + p]]++;
                }for (A = d, m = ht; m >= 1 && 0 === k[m]; m--) {}if (A > m && (A = m), 0 === m) return i[s++] = 20971520, i[s++] = 20971520, o.bits = 1, 0;for (g = 1; g < m && 0 === k[g]; g++) {}for (A < g && (A = g), T = 1, E = 1; E <= ht; E++) {
                    if (T <<= 1, T -= k[E], T < 0) return -1;
                }if (T > 0 && (0 === e || 1 !== m)) return -1;for (I[1] = 0, E = 1; E < ht; E++) {
                    I[E + 1] = I[E] + k[E];
                }for (p = 0; p < r; p++) {
                    0 !== t[n + p] && (a[I[t[n + p]]++] = p);
                }if (0 === e ? (R = P = a, f = 20) : 1 === e ? (R = ut, P = _t, f = 257) : (R = ft, P = Et, f = 0), b = 0, p = 0, E = g, _ = s, v = A, w = 0, h = -1, y = 1 << A, u = y - 1, 1 === e && y > 852 || 2 === e && y > 592) return 1;for (;;) {
                    N = E - w, a[p] + 1 < f ? (S = 0, C = a[p]) : a[p] >= f ? (S = P[a[p] - f], C = R[a[p] - f]) : (S = 96, C = 0), c = 1 << E - w, l = 1 << v, g = l;do {
                        l -= c, i[_ + (b >> w) + l] = N << 24 | S << 16 | C;
                    } while (0 !== l);for (c = 1 << E - 1; b & c;) {
                        c >>= 1;
                    }if (0 !== c ? (b &= c - 1, b += c) : b = 0, p++, 0 == --k[E]) {
                        if (E === m) break;E = t[n + a[p]];
                    }if (E > A && (b & u) !== h) {
                        for (0 === w && (w = A), _ += g, v = E - w, T = 1 << v; v + w < m && (T -= k[v + w], !(T <= 0));) {
                            v++, T <<= 1;
                        }if (y += 1 << v, 1 === e && y > 852 || 2 === e && y > 592) return 1;h = b & u, i[h] = A << 24 | v << 16 | _ - s;
                    }
                }return 0 !== b && (i[_ + b] = E - w << 24 | 64 << 16), o.bits = A, 0;
            };
            var gt = H.Z_FINISH,
                mt = H.Z_BLOCK,
                At = H.Z_TREES,
                vt = H.Z_OK,
                wt = H.Z_STREAM_END,
                Tt = H.Z_NEED_DICT,
                yt = H.Z_STREAM_ERROR,
                bt = H.Z_DATA_ERROR,
                Rt = H.Z_MEM_ERROR,
                kt = H.Z_BUF_ERROR,
                It = H.Z_DEFLATED,
                Nt = 16180,
                St = 16190,
                Ct = 16191,
                Pt = 16192,
                Dt = 16194,
                xt = 16199,
                Ot = 16200,
                Mt = 16206,
                Lt = 16209,
                Ut = function Ut(e) {
                return (e >>> 24 & 255) + (e >>> 8 & 65280) + ((65280 & e) << 8) + ((255 & e) << 24);
            };

            function zt() {
                this.strm = null, this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new Uint16Array(320), this.work = new Uint16Array(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
            }var Gt = function Gt(e) {
                if (!e) return 1;var t = e.state;return !t || t.strm !== e || t.mode < Nt || t.mode > 16211 ? 1 : 0;
            },
                Vt = function Vt(e) {
                if (Gt(e)) return yt;var t = e.state;return e.total_in = e.total_out = t.total = 0, e.msg = "", t.wrap && (e.adler = 1 & t.wrap), t.mode = Nt, t.last = 0, t.havedict = 0, t.flags = -1, t.dmax = 32768, t.head = null, t.hold = 0, t.bits = 0, t.lencode = t.lendyn = new Int32Array(852), t.distcode = t.distdyn = new Int32Array(592), t.sane = 1, t.back = -1, vt;
            },
                qt = function qt(e) {
                if (Gt(e)) return yt;var t = e.state;return t.wsize = 0, t.whave = 0, t.wnext = 0, Vt(e);
            },
                Ft = function Ft(e, t) {
                var n = void 0;if (Gt(e)) return yt;var r = e.state;return t < 0 ? (n = 0, t = -t) : (n = 5 + (t >> 4), t < 48 && (t &= 15)), t && (t < 8 || t > 15) ? yt : (null !== r.window && r.wbits !== t && (r.window = null), r.wrap = n, r.wbits = t, qt(e));
            },
                Ht = function Ht(e, t) {
                if (!e) return yt;var n = new zt();e.state = n, n.strm = e, n.window = null, n.mode = Nt;var r = Ft(e, t);return r !== vt && (e.state = null), r;
            };var jt = void 0,
                Bt = void 0,
                Zt = !0;var Wt = function Wt(e) {
                if (Zt) {
                    jt = new Int32Array(512), Bt = new Int32Array(32);var _t11 = 0;for (; _t11 < 144;) {
                        e.lens[_t11++] = 8;
                    }for (; _t11 < 256;) {
                        e.lens[_t11++] = 9;
                    }for (; _t11 < 280;) {
                        e.lens[_t11++] = 7;
                    }for (; _t11 < 288;) {
                        e.lens[_t11++] = 8;
                    }for (pt(1, e.lens, 0, 288, jt, 0, e.work, { bits: 9 }), _t11 = 0; _t11 < 32;) {
                        e.lens[_t11++] = 5;
                    }pt(2, e.lens, 0, 32, Bt, 0, e.work, { bits: 5 }), Zt = !1;
                }e.lencode = jt, e.lenbits = 9, e.distcode = Bt, e.distbits = 5;
            },
                Kt = function Kt(e, t, n, r) {
                var i = void 0;var s = e.state;return null === s.window && (s.wsize = 1 << s.wbits, s.wnext = 0, s.whave = 0, s.window = new Uint8Array(s.wsize)), r >= s.wsize ? (s.window.set(t.subarray(n - s.wsize, n), 0), s.wnext = 0, s.whave = s.wsize) : (i = s.wsize - s.wnext, i > r && (i = r), s.window.set(t.subarray(n - r, n - r + i), s.wnext), (r -= i) ? (s.window.set(t.subarray(n - r, n), 0), s.wnext = r, s.whave = s.wsize) : (s.wnext += i, s.wnext === s.wsize && (s.wnext = 0), s.whave < s.wsize && (s.whave += i))), 0;
            };var $t = { inflateReset: qt, inflateReset2: Ft, inflateResetKeep: Vt, inflateInit: function inflateInit(e) {
                    return Ht(e, 15);
                }, inflateInit2: Ht, inflate: function inflate(e, t) {
                    var n = void 0,
                        r = void 0,
                        i = void 0,
                        s = void 0,
                        a = void 0,
                        o = void 0,
                        d = void 0,
                        c = void 0,
                        l = void 0,
                        h = void 0,
                        u = void 0,
                        _ = void 0,
                        f = void 0,
                        E = void 0,
                        p = void 0,
                        g = void 0,
                        m = void 0,
                        A = void 0,
                        v = void 0,
                        w = void 0,
                        T = void 0,
                        y = void 0,
                        b = 0;var R = new Uint8Array(4);var k = void 0,
                        I = void 0;var N = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);if (Gt(e) || !e.output || !e.input && 0 !== e.avail_in) return yt;n = e.state, n.mode === Ct && (n.mode = Pt), a = e.next_out, i = e.output, d = e.avail_out, s = e.next_in, r = e.input, o = e.avail_in, c = n.hold, l = n.bits, h = o, u = d, y = vt;e: for (;;) {
                        switch (n.mode) {case Nt:
                                if (0 === n.wrap) {
                                    n.mode = Pt;break;
                                }for (; l < 16;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if (2 & n.wrap && 35615 === c) {
                                    0 === n.wbits && (n.wbits = 15), n.check = 0, R[0] = 255 & c, R[1] = c >>> 8 & 255, n.check = q(n.check, R, 2, 0), c = 0, l = 0, n.mode = 16181;break;
                                }if (n.head && (n.head.done = !1), !(1 & n.wrap) || (((255 & c) << 8) + (c >> 8)) % 31) {
                                    e.msg = "incorrect header check", n.mode = Lt;break;
                                }if ((15 & c) !== It) {
                                    e.msg = "unknown compression method", n.mode = Lt;break;
                                }if (c >>>= 4, l -= 4, T = 8 + (15 & c), 0 === n.wbits && (n.wbits = T), T > 15 || T > n.wbits) {
                                    e.msg = "invalid window size", n.mode = Lt;break;
                                }n.dmax = 1 << n.wbits, n.flags = 0, e.adler = n.check = 1, n.mode = 512 & c ? 16189 : Ct, c = 0, l = 0;break;case 16181:
                                for (; l < 16;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if (n.flags = c, (255 & n.flags) !== It) {
                                    e.msg = "unknown compression method", n.mode = Lt;break;
                                }if (57344 & n.flags) {
                                    e.msg = "unknown header flags set", n.mode = Lt;break;
                                }n.head && (n.head.text = c >> 8 & 1), 512 & n.flags && 4 & n.wrap && (R[0] = 255 & c, R[1] = c >>> 8 & 255, n.check = q(n.check, R, 2, 0)), c = 0, l = 0, n.mode = 16182;case 16182:
                                for (; l < 32;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }n.head && (n.head.time = c), 512 & n.flags && 4 & n.wrap && (R[0] = 255 & c, R[1] = c >>> 8 & 255, R[2] = c >>> 16 & 255, R[3] = c >>> 24 & 255, n.check = q(n.check, R, 4, 0)), c = 0, l = 0, n.mode = 16183;case 16183:
                                for (; l < 16;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }n.head && (n.head.xflags = 255 & c, n.head.os = c >> 8), 512 & n.flags && 4 & n.wrap && (R[0] = 255 & c, R[1] = c >>> 8 & 255, n.check = q(n.check, R, 2, 0)), c = 0, l = 0, n.mode = 16184;case 16184:
                                if (1024 & n.flags) {
                                    for (; l < 16;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }n.length = c, n.head && (n.head.extra_len = c), 512 & n.flags && 4 & n.wrap && (R[0] = 255 & c, R[1] = c >>> 8 & 255, n.check = q(n.check, R, 2, 0)), c = 0, l = 0;
                                } else n.head && (n.head.extra = null);n.mode = 16185;case 16185:
                                if (1024 & n.flags && (_ = n.length, _ > o && (_ = o), _ && (n.head && (T = n.head.extra_len - n.length, n.head.extra || (n.head.extra = new Uint8Array(n.head.extra_len)), n.head.extra.set(r.subarray(s, s + _), T)), 512 & n.flags && 4 & n.wrap && (n.check = q(n.check, r, _, s)), o -= _, s += _, n.length -= _), n.length)) break e;n.length = 0, n.mode = 16186;case 16186:
                                if (2048 & n.flags) {
                                    if (0 === o) break e;_ = 0;do {
                                        T = r[s + _++], n.head && T && n.length < 65536 && (n.head.name += String.fromCharCode(T));
                                    } while (T && _ < o);if (512 & n.flags && 4 & n.wrap && (n.check = q(n.check, r, _, s)), o -= _, s += _, T) break e;
                                } else n.head && (n.head.name = null);n.length = 0, n.mode = 16187;case 16187:
                                if (4096 & n.flags) {
                                    if (0 === o) break e;_ = 0;do {
                                        T = r[s + _++], n.head && T && n.length < 65536 && (n.head.comment += String.fromCharCode(T));
                                    } while (T && _ < o);if (512 & n.flags && 4 & n.wrap && (n.check = q(n.check, r, _, s)), o -= _, s += _, T) break e;
                                } else n.head && (n.head.comment = null);n.mode = 16188;case 16188:
                                if (512 & n.flags) {
                                    for (; l < 16;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }if (4 & n.wrap && c !== (65535 & n.check)) {
                                        e.msg = "header crc mismatch", n.mode = Lt;break;
                                    }c = 0, l = 0;
                                }n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head.done = !0), e.adler = n.check = 0, n.mode = Ct;break;case 16189:
                                for (; l < 32;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }e.adler = n.check = Ut(c), c = 0, l = 0, n.mode = St;case St:
                                if (0 === n.havedict) return e.next_out = a, e.avail_out = d, e.next_in = s, e.avail_in = o, n.hold = c, n.bits = l, Tt;e.adler = n.check = 1, n.mode = Ct;case Ct:
                                if (t === mt || t === At) break e;case Pt:
                                if (n.last) {
                                    c >>>= 7 & l, l -= 7 & l, n.mode = Mt;break;
                                }for (; l < 3;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }switch (n.last = 1 & c, c >>>= 1, l -= 1, 3 & c) {case 0:
                                        n.mode = 16193;break;case 1:
                                        if (Wt(n), n.mode = xt, t === At) {
                                            c >>>= 2, l -= 2;break e;
                                        }break;case 2:
                                        n.mode = 16196;break;case 3:
                                        e.msg = "invalid block type", n.mode = Lt;}c >>>= 2, l -= 2;break;case 16193:
                                for (c >>>= 7 & l, l -= 7 & l; l < 32;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if ((65535 & c) != (c >>> 16 ^ 65535)) {
                                    e.msg = "invalid stored block lengths", n.mode = Lt;break;
                                }if (n.length = 65535 & c, c = 0, l = 0, n.mode = Dt, t === At) break e;case Dt:
                                n.mode = 16195;case 16195:
                                if (_ = n.length, _) {
                                    if (_ > o && (_ = o), _ > d && (_ = d), 0 === _) break e;i.set(r.subarray(s, s + _), a), o -= _, s += _, d -= _, a += _, n.length -= _;break;
                                }n.mode = Ct;break;case 16196:
                                for (; l < 14;) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if (n.nlen = 257 + (31 & c), c >>>= 5, l -= 5, n.ndist = 1 + (31 & c), c >>>= 5, l -= 5, n.ncode = 4 + (15 & c), c >>>= 4, l -= 4, n.nlen > 286 || n.ndist > 30) {
                                    e.msg = "too many length or distance symbols", n.mode = Lt;break;
                                }n.have = 0, n.mode = 16197;case 16197:
                                for (; n.have < n.ncode;) {
                                    for (; l < 3;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }n.lens[N[n.have++]] = 7 & c, c >>>= 3, l -= 3;
                                }for (; n.have < 19;) {
                                    n.lens[N[n.have++]] = 0;
                                }if (n.lencode = n.lendyn, n.lenbits = 7, k = { bits: n.lenbits }, y = pt(0, n.lens, 0, 19, n.lencode, 0, n.work, k), n.lenbits = k.bits, y) {
                                    e.msg = "invalid code lengths set", n.mode = Lt;break;
                                }n.have = 0, n.mode = 16198;case 16198:
                                for (; n.have < n.nlen + n.ndist;) {
                                    for (; b = n.lencode[c & (1 << n.lenbits) - 1], p = b >>> 24, g = b >>> 16 & 255, m = 65535 & b, !(p <= l);) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }if (m < 16) c >>>= p, l -= p, n.lens[n.have++] = m;else {
                                        if (16 === m) {
                                            for (I = p + 2; l < I;) {
                                                if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                            }if (c >>>= p, l -= p, 0 === n.have) {
                                                e.msg = "invalid bit length repeat", n.mode = Lt;break;
                                            }T = n.lens[n.have - 1], _ = 3 + (3 & c), c >>>= 2, l -= 2;
                                        } else if (17 === m) {
                                            for (I = p + 3; l < I;) {
                                                if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                            }c >>>= p, l -= p, T = 0, _ = 3 + (7 & c), c >>>= 3, l -= 3;
                                        } else {
                                            for (I = p + 7; l < I;) {
                                                if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                            }c >>>= p, l -= p, T = 0, _ = 11 + (127 & c), c >>>= 7, l -= 7;
                                        }if (n.have + _ > n.nlen + n.ndist) {
                                            e.msg = "invalid bit length repeat", n.mode = Lt;break;
                                        }for (; _--;) {
                                            n.lens[n.have++] = T;
                                        }
                                    }
                                }if (n.mode === Lt) break;if (0 === n.lens[256]) {
                                    e.msg = "invalid code -- missing end-of-block", n.mode = Lt;break;
                                }if (n.lenbits = 9, k = { bits: n.lenbits }, y = pt(1, n.lens, 0, n.nlen, n.lencode, 0, n.work, k), n.lenbits = k.bits, y) {
                                    e.msg = "invalid literal/lengths set", n.mode = Lt;break;
                                }if (n.distbits = 6, n.distcode = n.distdyn, k = { bits: n.distbits }, y = pt(2, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, k), n.distbits = k.bits, y) {
                                    e.msg = "invalid distances set", n.mode = Lt;break;
                                }if (n.mode = xt, t === At) break e;case xt:
                                n.mode = Ot;case Ot:
                                if (o >= 6 && d >= 258) {
                                    e.next_out = a, e.avail_out = d, e.next_in = s, e.avail_in = o, n.hold = c, n.bits = l, lt(e, u), a = e.next_out, i = e.output, d = e.avail_out, s = e.next_in, r = e.input, o = e.avail_in, c = n.hold, l = n.bits, n.mode === Ct && (n.back = -1);break;
                                }for (n.back = 0; b = n.lencode[c & (1 << n.lenbits) - 1], p = b >>> 24, g = b >>> 16 & 255, m = 65535 & b, !(p <= l);) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if (g && !(240 & g)) {
                                    for (A = p, v = g, w = m; b = n.lencode[w + ((c & (1 << A + v) - 1) >> A)], p = b >>> 24, g = b >>> 16 & 255, m = 65535 & b, !(A + p <= l);) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }c >>>= A, l -= A, n.back += A;
                                }if (c >>>= p, l -= p, n.back += p, n.length = m, 0 === g) {
                                    n.mode = 16205;break;
                                }if (32 & g) {
                                    n.back = -1, n.mode = Ct;break;
                                }if (64 & g) {
                                    e.msg = "invalid literal/length code", n.mode = Lt;break;
                                }n.extra = 15 & g, n.mode = 16201;case 16201:
                                if (n.extra) {
                                    for (I = n.extra; l < I;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }n.length += c & (1 << n.extra) - 1, c >>>= n.extra, l -= n.extra, n.back += n.extra;
                                }n.was = n.length, n.mode = 16202;case 16202:
                                for (; b = n.distcode[c & (1 << n.distbits) - 1], p = b >>> 24, g = b >>> 16 & 255, m = 65535 & b, !(p <= l);) {
                                    if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                }if (!(240 & g)) {
                                    for (A = p, v = g, w = m; b = n.distcode[w + ((c & (1 << A + v) - 1) >> A)], p = b >>> 24, g = b >>> 16 & 255, m = 65535 & b, !(A + p <= l);) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }c >>>= A, l -= A, n.back += A;
                                }if (c >>>= p, l -= p, n.back += p, 64 & g) {
                                    e.msg = "invalid distance code", n.mode = Lt;break;
                                }n.offset = m, n.extra = 15 & g, n.mode = 16203;case 16203:
                                if (n.extra) {
                                    for (I = n.extra; l < I;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }n.offset += c & (1 << n.extra) - 1, c >>>= n.extra, l -= n.extra, n.back += n.extra;
                                }if (n.offset > n.dmax) {
                                    e.msg = "invalid distance too far back", n.mode = Lt;break;
                                }n.mode = 16204;case 16204:
                                if (0 === d) break e;if (_ = u - d, n.offset > _) {
                                    if (_ = n.offset - _, _ > n.whave && n.sane) {
                                        e.msg = "invalid distance too far back", n.mode = Lt;break;
                                    }_ > n.wnext ? (_ -= n.wnext, f = n.wsize - _) : f = n.wnext - _, _ > n.length && (_ = n.length), E = n.window;
                                } else E = i, f = a - n.offset, _ = n.length;_ > d && (_ = d), d -= _, n.length -= _;do {
                                    i[a++] = E[f++];
                                } while (--_);0 === n.length && (n.mode = Ot);break;case 16205:
                                if (0 === d) break e;i[a++] = n.length, d--, n.mode = Ot;break;case Mt:
                                if (n.wrap) {
                                    for (; l < 32;) {
                                        if (0 === o) break e;o--, c |= r[s++] << l, l += 8;
                                    }if (u -= d, e.total_out += u, n.total += u, 4 & n.wrap && u && (e.adler = n.check = n.flags ? q(n.check, i, u, a - u) : G(n.check, i, u, a - u)), u = d, 4 & n.wrap && (n.flags ? c : Ut(c)) !== n.check) {
                                        e.msg = "incorrect data check", n.mode = Lt;break;
                                    }c = 0, l = 0;
                                }n.mode = 16207;case 16207:
                                if (n.wrap && n.flags) {
                                    for (; l < 32;) {
                                        if (0 === o) break e;o--, c += r[s++] << l, l += 8;
                                    }if (4 & n.wrap && c !== (4294967295 & n.total)) {
                                        e.msg = "incorrect length check", n.mode = Lt;break;
                                    }c = 0, l = 0;
                                }n.mode = 16208;case 16208:
                                y = wt;break e;case Lt:
                                y = bt;break e;case 16210:
                                return Rt;default:
                                return yt;}
                    }return e.next_out = a, e.avail_out = d, e.next_in = s, e.avail_in = o, n.hold = c, n.bits = l, (n.wsize || u !== e.avail_out && n.mode < Lt && (n.mode < Mt || t !== gt)) && Kt(e, e.output, e.next_out, u - e.avail_out), h -= e.avail_in, u -= e.avail_out, e.total_in += h, e.total_out += u, n.total += u, 4 & n.wrap && u && (e.adler = n.check = n.flags ? q(n.check, i, u, e.next_out - u) : G(n.check, i, u, e.next_out - u)), e.data_type = n.bits + (n.last ? 64 : 0) + (n.mode === Ct ? 128 : 0) + (n.mode === xt || n.mode === Dt ? 256 : 0), (0 === h && 0 === u || t === gt) && y === vt && (y = kt), y;
                }, inflateEnd: function inflateEnd(e) {
                    if (Gt(e)) return yt;var t = e.state;return t.window && (t.window = null), e.state = null, vt;
                }, inflateGetHeader: function inflateGetHeader(e, t) {
                    if (Gt(e)) return yt;var n = e.state;return 2 & n.wrap ? (n.head = t, t.done = !1, vt) : yt;
                }, inflateSetDictionary: function inflateSetDictionary(e, t) {
                    var n = t.length;var r = void 0,
                        i = void 0,
                        s = void 0;return Gt(e) ? yt : (r = e.state, 0 !== r.wrap && r.mode !== St ? yt : r.mode === St && (i = 1, i = G(i, t, n, 0), i !== r.check) ? bt : (s = Kt(e, t, n, n), s ? (r.mode = 16210, Rt) : (r.havedict = 1, vt)));
                }, inflateInfo: "pako inflate (from Nodeca project)" },
                Jt = function Jt() {
                this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1;
            };var Yt = Object.prototype.toString,
                Xt = H.Z_NO_FLUSH,
                Qt = H.Z_FINISH,
                en = H.Z_OK,
                tn = H.Z_STREAM_END,
                nn = H.Z_NEED_DICT,
                rn = H.Z_STREAM_ERROR,
                sn = H.Z_DATA_ERROR,
                an = H.Z_MEM_ERROR;function on(e) {
                this.options = Fe({ chunkSize: 65536, windowBits: 15, to: "" }, e || {});var t = this.options;t.raw && t.windowBits >= 0 && t.windowBits < 16 && (t.windowBits = -t.windowBits, 0 === t.windowBits && (t.windowBits = -15)), !(t.windowBits >= 0 && t.windowBits < 16) || e && e.windowBits || (t.windowBits += 32), t.windowBits > 15 && t.windowBits < 48 && !(15 & t.windowBits) && (t.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new $e(), this.strm.avail_out = 0;var n = $t.inflateInit2(this.strm, t.windowBits);if (n !== en) throw new Error(F[n]);if (this.header = new Jt(), $t.inflateGetHeader(this.strm, this.header), t.dictionary && ("string" == typeof t.dictionary ? t.dictionary = Ze(t.dictionary) : "[object ArrayBuffer]" === Yt.call(t.dictionary) && (t.dictionary = new Uint8Array(t.dictionary)), t.raw && (n = $t.inflateSetDictionary(this.strm, t.dictionary), n !== en))) throw new Error(F[n]);
            }function dn(e, t) {
                var n = new on(t);if (n.push(e), n.err) throw n.msg || F[n.err];return n.result;
            }on.prototype.push = function (e, t) {
                var n = this.strm,
                    r = this.options.chunkSize,
                    i = this.options.dictionary;var s = void 0,
                    a = void 0,
                    o = void 0;if (this.ended) return !1;for (a = t === ~~t ? t : !0 === t ? Qt : Xt, "[object ArrayBuffer]" === Yt.call(e) ? n.input = new Uint8Array(e) : n.input = e, n.next_in = 0, n.avail_in = n.input.length;;) {
                    for (0 === n.avail_out && (n.output = new Uint8Array(r), n.next_out = 0, n.avail_out = r), s = $t.inflate(n, a), s === nn && i && (s = $t.inflateSetDictionary(n, i), s === en ? s = $t.inflate(n, a) : s === sn && (s = nn)); n.avail_in > 0 && s === tn && n.state.wrap > 0 && 0 !== e[n.next_in];) {
                        $t.inflateReset(n), s = $t.inflate(n, a);
                    }switch (s) {case rn:case sn:case nn:case an:
                            return this.onEnd(s), this.ended = !0, !1;}if (o = n.avail_out, n.next_out && (0 === n.avail_out || s === tn)) if ("string" === this.options.to) {
                        var _e6 = Ke(n.output, n.next_out),
                            _t12 = n.next_out - _e6,
                            _i5 = We(n.output, _e6);n.next_out = _t12, n.avail_out = r - _t12, _t12 && n.output.set(n.output.subarray(_e6, _e6 + _t12), 0), this.onData(_i5);
                    } else this.onData(n.output.length === n.next_out ? n.output : n.output.subarray(0, n.next_out));if (s !== en || 0 !== o) {
                        if (s === tn) return s = $t.inflateEnd(this.strm), this.onEnd(s), this.ended = !0, !0;if (0 === n.avail_in) break;
                    }
                }return !0;
            }, on.prototype.onData = function (e) {
                this.chunks.push(e);
            }, on.prototype.onEnd = function (e) {
                e === en && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = He(this.chunks)), this.chunks = [], this.err = e, this.msg = this.strm.msg;
            };var cn = { Inflate: on, inflate: dn, inflateRaw: function inflateRaw(e, t) {
                    return (t = t || {}).raw = !0, dn(e, t);
                }, ungzip: dn, constants: H };var ln = dt.Deflate,
                hn = dt.deflate,
                un = dt.deflateRaw,
                _n = dt.gzip,
                fn = cn.Inflate,
                En = cn.inflate,
                pn = cn.inflateRaw,
                gn = cn.ungzip;
            var mn = ln,
                An = hn,
                vn = un,
                wn = _n,
                Tn = fn,
                yn = En,
                bn = pn,
                Rn = gn,
                kn = H,
                In = { Deflate: mn, deflate: An, deflateRaw: vn, gzip: wn, Inflate: Tn, inflate: yn, inflateRaw: bn, ungzip: Rn, constants: kn };e.Deflate = mn, e.Inflate = Tn, e.constants = kn, e.default = In, e.deflate = An, e.deflateRaw = vn, e.gzip = wn, e.inflate = yn, e.inflateRaw = bn, e.ungzip = Rn, Object.defineProperty(e, "__esModule", { value: !0 });
        }(t);
    }(0, m.exports);var A = r(m.exports);function v() {
        return function () {
            var e = window.navigator.userAgent.toLowerCase();return e.indexOf("edg/") > -1 || e.indexOf("edge") > -1;
        }() ? u.EDGE : u.CHROME;
    }
    var w = function () {
        function w(e) {
            (0, _classCallCheck3.default)(this, w);
            if (this.version = t, this.config = e, this.logger = e.logger, this.clientInfo = null, this.certParams = { name: "ECDSA", namedCurve: "P-256" }, this.extensionId = v(), this.pcProxies = new Map(), this.audioContextProxies = new Map(), this.audioNodeProxies = new Map(), this.workerProxies = new Map(), this.streamProxies = new Map(), this.eventListeners = new Map(), this.mediaElementProxies = new Map(), this.transceiverProxies = new Map(), this.senderProxies = new Map(), this.dtmfProxies = new Map(), this.receiverProxies = new Map(), this.trackProxies = new Map(), this.overridenApis = new Map(), this.decoder = new TextDecoder("utf-8"), this.logger.debug("Checking for chrome extension.  Chrome runtime: " + chrome.runtime), void 0 === chrome.runtime) throw new Error("Chrome runtime not available.  DCV WebRTC chrome extension may not be active.");this.overridenApis.set("navigator.mediaDevices.getUserMedia", navigator.mediaDevices.getUserMedia), this.overridenApis.set("navigator.mediaDevices.enumerateDevices", navigator.mediaDevices.enumerateDevices), this.overridenApis.set("window.RTCPeerConnection", window.RTCPeerConnection), this.overridenApis.set("window.RTCPeerConnection.generateCertificate", window.RTCPeerConnection.generateCertificate), this.overridenApis.set("window.AudioContext", window.AudioContext), this.overridenApis.set("window.Worker", window.Worker), this.status = h.NEW, this.statusChangeEventListeners = [], this.lastHeartbeat = Date.now(), this.heartbeatTimeout = null, this.heartbeatTimeoutMs = 1e4, this.heartbeatIntervalPeriodMs = 1e3, this.heartbeatInterval = null;
        }

        (0, _createClass3.default)(w, [{
            key: "clearHeartbeatInterval",
            value: function clearHeartbeatInterval() {
                this.heartbeatTimeout && (clearTimeout(this.heartbeatTimeout), this.heartbeatTimeout = null), this.hearbeatInterval && (clearInterval(this.hearbeatInterval), this.hearbeatInterval = null);
            }
        }, {
            key: "resetHeartbeat",
            value: function resetHeartbeat(e) {
                var t = this;this.clearHeartbeatInterval(), this.heartbeatTimeoutMs = e && e.heartbeatTimeoutMs ? e.heartbeatTimeoutMs : this.heartbeatTimeoutMs, this.heartbeatIntervalPeriodMs = e && e.heartbeatIntervalPeriodMs ? e.heartbeatIntervalPeriodMs : this.heartbeatIntervalPeriodMs, this.hearbeatInterval = setInterval((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                    return _regenerator2.default.wrap(function _callee$(_context) {
                        while (1) {
                            switch (_context.prev = _context.next) {
                                case 0:
                                    t.heartbeatTimeout || (t.heartbeatTimeout = setTimeout(function () {
                                        t.logger.debug("heartbeatTimeout reached, current status: " + t.status + ", last hb: " + (Date.now() - t.lastHeartbeat) + "ms ago."), t.status !== h.UNAVAILABLE && (t.status = h.UNAVAILABLE, t.statusChangeEventListeners.forEach(function (e) {
                                            e({ status: t.status, data: t.clientInfo, lastHeartbeat: t.lastHeartbeat });
                                        }));
                                    }, t.heartbeatTimeoutMs));_context.prev = 1;
                                    _context.next = 4;
                                    return t.sendApiRequest(a.HELLO_API_NAME, []);

                                case 4:
                                    t.clientInfo = _context.sent;

                                    if (t.clientInfo) {
                                        _context.next = 7;
                                        break;
                                    }

                                    throw new Error("Failed to get clientInfo.");

                                case 7:
                                    t.heartbeatTimeout && (clearTimeout(t.heartbeatTimeout), t.heartbeatTimeout = null), t.status !== h.AVAILABLE && (t.status = h.AVAILABLE, t.statusChangeEventListeners.forEach(function (e) {
                                        e({ status: t.status, data: t.clientInfo });
                                    })), t.lastHeartbeat = Date.now();_context.next = 13;
                                    break;

                                case 10:
                                    _context.prev = 10;
                                    _context.t0 = _context["catch"](1);
                                    t.logger.debug("Heartbeat ping failed.  Last heartbeat received " + (Date.now() - t.lastHeartbeat) + "ms ago.");
                                case 13:
                                case "end":
                                    return _context.stop();
                            }
                        }
                    }, _callee, this, [[1, 10]]);
                })), this.heartbeatIntervalPeriodMs);
            }
        }, {
            key: "makeMediaDeviceInfoProxies",
            value: function makeMediaDeviceInfoProxies(e) {
                return e.forEach(function (e) {
                    e.toJSON = function () {
                        return e;
                    };
                }), e;
            }
        }, {
            key: "makeTrackProxy",
            value: function makeTrackProxy(e) {
                var t = this;if (this.trackProxies.has(e.id)) {
                    var _t13 = this.trackProxies.get(e.id);return Object.assign(_t13, e), _t13;
                }return this.trackProxies.set(e.id, e), e.pendingEvents = new Map(), e.stop = function () {
                    t.sendApiRequest(a.TRACK_STOP_API_NAME, [e.id]);
                }, e.getSettings = function () {
                    return t.sendApiRequest(a.TRACK_GET_SETTINGS, [e.id]).then(function (t) {
                        t && (e.settings = t);
                    }), e.settings;
                }, e.addEventListener = function (n, r, i) {
                    t.logger.debug("Setting ended event listener via addEventListener."), t.addTrackEventListener(e.id, n, r, i);
                }, e.removeEventListener = function (n, r) {
                    t.removeEventListener(e.id, n, r);
                }, Object.defineProperty(e, "onended", { set: function set(n) {
                        t.addTrackEventListener(e.id, d.ENDED, n);
                    }, get: function get() {
                        return null;
                    } }), Object.defineProperty(e, "onmute", { set: function set(n) {
                        t.addTrackEventListener(e.id, d.MUTE, n);
                    }, get: function get() {
                        return null;
                    } }), Object.defineProperty(e, "onunmute", { set: function set(n) {
                        t.addTrackEventListener(e.id, d.UNMUTE, n);
                    }, get: function get() {
                        return null;
                    } }), e.trackEnabled = e.enabled, Object.defineProperty(e, "enabled", { set: function set(n) {
                        e.trackEnabled = n, t.sendApiRequest(a.TOGGLE_TRACK_ENABLED_API_NAME, [e.id, n]).then(function (n) {
                            n && (t.trackProxies.get(e.id).trackEnabled = n.enabled);
                        });
                    }, get: function get() {
                        return e.trackEnabled;
                    } }), this.preRegisterEvents(d, e, this.addTrackEventListener), e;
            }
        }, {
            key: "makeStreamProxy",
            value: function makeStreamProxy(e) {
                var t = this;this.streamProxies.set(e.id, e);var n = new MediaStream();n.type = "proxy", n.proxy = e;var r = e.tracks ? e.tracks.map(function (e) {
                    return t.makeTrackProxy(e);
                }) : [];return e.tracks = r, n.getTracks = function () {
                    return r;
                }, n.getAudioTracks = function () {
                    return r.filter(function (e) {
                        return "audio" === e.kind;
                    });
                }, n.getVideoTracks = function () {
                    return r.filter(function (e) {
                        return "video" === e.kind;
                    });
                }, n.getTrackById = function (e) {
                    return r.find(function (t) {
                        return t.id === e;
                    });
                }, n.createMediaElement = function (e) {
                    return t.createMediaElement(e);
                }, n.addTrack = function (n) {
                    t.sendApiRequest(a.STREAM_ADD_TRACK, [e.id, n.id]);
                }, n.removeTrack = function (n) {
                    t.sendApiRequest(a.STREAM_REMOVE_TRACK, [e.id, n.id]);
                }, n;
            }
        }, {
            key: "updateTransceiverProxy",
            value: function updateTransceiverProxy(e) {
                var t = this.transceiverProxies.get(e.id);return t || (t = {}), Object.assign(t, e), e.receiver && "proxy" === e.receiver.type && (t.receiver = this.updateReceiverProxy(e.receiver)), e.sender && "proxy" === e.sender.type && (t.sender = this.updateSenderProxy(e.sender)), this.transceiverProxies.set(e.id, t), t;
            }
        }, {
            key: "updatePCSenders",
            value: function updatePCSenders(e, t) {
                var n = this;var r = t.map(function (e) {
                    return n.updateSenderProxy(e);
                });this.pcProxies.get(e).senders = r;
            }
        }, {
            key: "updatePCReceivers",
            value: function updatePCReceivers(e, t) {
                var n = this;var r = t.map(function (e) {
                    return n.updateReceiverProxy(e);
                });this.pcProxies.get(e).receivers = r;
            }
        }, {
            key: "updatePCTransceivers",
            value: function updatePCTransceivers(e, t) {
                var n = this;var r = t;r.forEach(function (e) {
                    n.updateTransceiverProxy(e);
                }), this.pcProxies.get(e).transceivers = r;
            }
        }, {
            key: "isValidApi",
            value: function isValidApi(e) {
                var t = !1;for (var _n5 in a) {
                    if (a[_n5] === e) {
                        t = !0;break;
                    }
                }return t;
            }
        }, {
            key: "sendApiRequest",
            value: function () {
                var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(e, t) {
                    var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crypto.randomUUID();

                    var _r9, _i6, _s, _a2, _o, _d, _e7, _e8, _t14, _e9, _e10;

                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                        while (1) {
                            switch (_context2.prev = _context2.next) {
                                case 0:
                                    this.logger.debug(e, t, n);_context2.prev = 1;
                                    _r9 = { api: e, args: t };
                                    _i6 = A.deflateRaw(JSON.stringify(_r9));
                                    _s = { requestId: n, message: _i6, type: "request" };
                                    this.logger.debug("Sending request:", JSON.stringify(_s));_context2.next = 8;
                                    return chrome.runtime.sendMessage(this.extensionId, _s);

                                case 8:
                                    _a2 = _context2.sent;
                                    _i6 = _a2.message;_o = A.inflateRaw(_i6), _d = this.decoder.decode(_o);

                                    if (!(_a2.message = JSON.parse(_d), this.logger.debug("Received response: ", JSON.stringify(_a2)), !_a2 || !_a2.message || !_a2.type)) {
                                        _context2.next = 14;
                                        break;
                                    }

                                    _e7 = "Received empty message or type, extensionResponse: " + JSON.stringify(_a2) + ", request: " + JSON.stringify(_s) + ", message: " + JSON.stringify(_r9);
                                    return _context2.abrupt("return", (this.logger.warn(_e7), null));

                                case 14:
                                    if (!("error" === _a2.type)) {
                                        _context2.next = 19;
                                        break;
                                    }

                                    _e8 = "Received error: " + JSON.stringify(_a2) + ", for request: " + JSON.stringify(_s) + ", message: " + JSON.stringify(_r9), _t14 = null;

                                    if (!(this.logger.debug(_e8), _a2.message.error && _a2.message.error.message && _a2.message.error && _a2.message.error.name)) {
                                        _context2.next = 18;
                                        break;
                                    }

                                    throw _e8 = _a2.message.error.message, _t14 = _a2.message.error.name, new DOMException(_e8, _t14);

                                case 18:
                                    return _context2.abrupt("return", null);

                                case 19:
                                    if (!("response" !== _a2.type && "event" !== _a2.type && "error" !== _a2.type)) {
                                        _context2.next = 22;
                                        break;
                                    }

                                    _e9 = "Received invalid message type, type: " + JSON.stringify(_a2.type) + ", event: " + JSON.stringify(_a2) + ", request: " + JSON.stringify(_s) + ", message: " + JSON.stringify(_r9);
                                    return _context2.abrupt("return", (this.logger.warn(_e9), null));

                                case 22:
                                    if (!(_a2.message.api && !this.isValidApi(_a2.message.api))) {
                                        _context2.next = 25;
                                        break;
                                    }

                                    _e10 = "Received invalid message api, event: " + JSON.stringify(_a2) + ", request: " + JSON.stringify(_s) + ", message: " + JSON.stringify(_r9);
                                    return _context2.abrupt("return", (this.logger.warn(_e10), null));

                                case 25:
                                    return _context2.abrupt("return", "event" === _a2.type ? _a2.message.event : _a2.message.response);

                                case 28:
                                    _context2.prev = 28;
                                    _context2.t0 = _context2["catch"](1);
                                    return _context2.abrupt("return", (this.logger.warn("Failed to send api request: api: " + e + ", args: " + t + ", requestId: " + n, _context2.t0), null));

                                case 31:
                                case "end":
                                    return _context2.stop();
                            }
                        }
                    }, _callee2, this, [[1, 28]]);
                }));

                function sendApiRequest(_x2, _x3) {
                    return _ref2.apply(this, arguments);
                }

                return sendApiRequest;
            }()
        }, {
            key: "getUserMediaInternal",
            value: function () {
                var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(e) {
                    var t;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                        while (1) {
                            switch (_context3.prev = _context3.next) {
                                case 0:
                                    _context3.next = 2;
                                    return this.sendApiRequest(a.GETUSERMEDIA_API_NAME, [e]);

                                case 2:
                                    t = _context3.sent;
                                    return _context3.abrupt("return", t ? this.makeStreamProxy(t) : null);

                                case 4:
                                case "end":
                                    return _context3.stop();
                            }
                        }
                    }, _callee3, this);
                }));

                function getUserMediaInternal(_x4) {
                    return _ref3.apply(this, arguments);
                }

                return getUserMediaInternal;
            }()
        }, {
            key: "getOverridenApi",
            value: function getOverridenApi(e) {
                return this.overridenApis.get(e);
            }
        }, {
            key: "getUserMedia",
            value: function () {
                var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(e) {
                    var t, _e11, _n6, _e12, _e13, n;

                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                        while (1) {
                            switch (_context4.prev = _context4.next) {
                                case 0:
                                    t = Object.freeze(e);

                                    if (!(t.audio && t.video)) {
                                        _context4.next = 14;
                                        break;
                                    }

                                    _context4.next = 4;
                                    return navigator.permissions.query({ name: "microphone" });

                                case 4:
                                    _e11 = _context4.sent;
                                    _context4.next = 7;
                                    return navigator.permissions.query({ name: "camera" });

                                case 7:
                                    _n6 = _context4.sent;

                                    if (!(_e11 && "granted" === _e11.state && _n6 && "granted" === _n6.state)) {
                                        _context4.next = 12;
                                        break;
                                    }

                                    _context4.next = 11;
                                    return this.getUserMediaInternal(t);

                                case 11:
                                    return _context4.abrupt("return", _context4.sent);

                                case 12:
                                    _context4.next = 32;
                                    break;

                                case 14:
                                    if (!t.audio) {
                                        _context4.next = 24;
                                        break;
                                    }

                                    _context4.next = 17;
                                    return navigator.permissions.query({ name: "microphone" });

                                case 17:
                                    _e12 = _context4.sent;

                                    if (!(_e12 && "granted" === _e12.state)) {
                                        _context4.next = 22;
                                        break;
                                    }

                                    _context4.next = 21;
                                    return this.getUserMediaInternal(t);

                                case 21:
                                    return _context4.abrupt("return", _context4.sent);

                                case 22:
                                    _context4.next = 32;
                                    break;

                                case 24:
                                    if (!t.video) {
                                        _context4.next = 32;
                                        break;
                                    }

                                    _context4.next = 27;
                                    return navigator.permissions.query({ name: "camera" });

                                case 27:
                                    _e13 = _context4.sent;

                                    if (!(_e13 && "granted" === _e13.state)) {
                                        _context4.next = 32;
                                        break;
                                    }

                                    _context4.next = 31;
                                    return this.getUserMediaInternal(t);

                                case 31:
                                    return _context4.abrupt("return", _context4.sent);

                                case 32:
                                    n = [];
                                    _context4.t0 = t.video;

                                    if (!_context4.t0) {
                                        _context4.next = 39;
                                        break;
                                    }

                                    _context4.next = 37;
                                    return this.getOverridenApi("navigator.mediaDevices.enumerateDevices").apply(navigator.mediaDevices);

                                case 37:
                                    n = _context4.sent;
                                    n = n.filter(function (e) {
                                        return e.kind && e.kind.indexOf("video") > -1;
                                    });

                                case 39:
                                    if (!(t.audio && !t.video || t.video && n.length > 0)) {
                                        _context4.next = 44;
                                        break;
                                    }

                                    _context4.next = 42;
                                    return this.getOverridenApi("navigator.mediaDevices.getUserMedia").apply(navigator.mediaDevices, [t]);

                                case 42:
                                    _context4.t1 = function (e) {
                                        e.stop();
                                    };

                                    _context4.sent.getTracks().forEach(_context4.t1);

                                case 44:
                                    _context4.next = 46;
                                    return this.getUserMediaInternal(t);

                                case 46:
                                    return _context4.abrupt("return", _context4.sent);

                                case 47:
                                case "end":
                                    return _context4.stop();
                            }
                        }
                    }, _callee4, this);
                }));

                function getUserMedia(_x5) {
                    return _ref4.apply(this, arguments);
                }

                return getUserMedia;
            }()
        }, {
            key: "enumerateDevices",
            value: function () {
                var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
                    var e;
                    return _regenerator2.default.wrap(function _callee5$(_context5) {
                        while (1) {
                            switch (_context5.prev = _context5.next) {
                                case 0:
                                    _context5.next = 2;
                                    return this.sendApiRequest(a.ENUMERATEDEVICES_API_NAME, []);

                                case 2:
                                    e = _context5.sent;
                                    return _context5.abrupt("return", e ? this.makeMediaDeviceInfoProxies(e) : null);

                                case 4:
                                case "end":
                                    return _context5.stop();
                            }
                        }
                    }, _callee5, this);
                }));

                function enumerateDevices() {
                    return _ref5.apply(this, arguments);
                }

                return enumerateDevices;
            }()
        }, {
            key: "getVersion",
            value: function getVersion() {
                return t;
            }
        }, {
            key: "makeReceiverProxy",
            value: function makeReceiverProxy(e) {
                var t = this;return e.track && (e.track = this.makeTrackProxy(e.track)), e.getSynchronizationSources = function () {
                    return e.synchronizationSources;
                }, e.getStats = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
                    var n, r;
                    return _regenerator2.default.wrap(function _callee6$(_context6) {
                        while (1) {
                            switch (_context6.prev = _context6.next) {
                                case 0:
                                    _context6.next = 2;
                                    return t.sendApiRequest(a.GET_RECEIVER_STATS_API_NAME, [e.id]);

                                case 2:
                                    n = _context6.sent;
                                    r = new Map();
                                    return _context6.abrupt("return", (n && n.forEach(function (e) {
                                        r.set(e.id, e);
                                    }), r));

                                case 5:
                                case "end":
                                    return _context6.stop();
                            }
                        }
                    }, _callee6, this);
                })), e.createEncodedStreams = function () {
                    var n = { id: crypto.randomUUID(), type: "proxy", readable: { id: crypto.randomUUID(), type: "proxy" }, writable: { id: crypto.randomUUID(), type: "proxy" } };return t.streamProxies.set(n.id, n), t.sendApiRequest(a.RECEIVER_CREATE_ENCODED_STREAMS, [e.id, n]), n;
                }, this.receiverProxies.set(e.id, e), e;
            }
        }, {
            key: "makeDTMFProxy",
            value: function makeDTMFProxy(e) {
                var t = this;var n = e;return this.dtmfProxies.has(n.id) ? (n = this.dtmfProxies.get(n.id), Object.assign(n, e)) : (this.dtmfProxies.set(n.id, n), n.pendingEvents = new Map(), n.insertDTMF = function (e, r, i) {
                    t.sendApiRequest(a.INSERT_DTMF_API_NAME, [n.id, e, r, i]);
                }, n.addEventListener = function (e, r, i) {
                    t.addDtmfEventListener(n.id, e, r, i);
                }, n.removeEventListener = function (e, r) {
                    t.removeEventListener(n.id, e, r);
                }, Object.defineProperty(n, "ontonechange", { set: function set(e) {
                        t.addDtmfEventListener(n.id, c.TONECHANGE, e);
                    }, get: function get() {
                        return null;
                    } }), this.preRegisterEvents(c, n, this.addDtmfEventListener)), n;
            }
        }, {
            key: "makeSenderProxy",
            value: function makeSenderProxy(e) {
                var t = this;return e.track && (e.track = this.makeTrackProxy(e.track)), e.dtmf && (e.dtmf = this.makeDTMFProxy(e.dtmf)), e.getStats = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
                    var n;
                    return _regenerator2.default.wrap(function _callee7$(_context7) {
                        while (1) {
                            switch (_context7.prev = _context7.next) {
                                case 0:
                                    _context7.next = 2;
                                    return t.sendApiRequest(a.GET_SENDER_STATS_API_NAME, [e.id]);

                                case 2:
                                    n = _context7.sent;
                                    return _context7.abrupt("return", (n && (n.has = function (e) {
                                        return void 0 !== n.find(function (t) {
                                            return t.id === e;
                                        });
                                    }, n.get = function (e) {
                                        return n.find(function (t) {
                                            return t.id === e;
                                        });
                                    }), n));

                                case 4:
                                case "end":
                                    return _context7.stop();
                            }
                        }
                    }, _callee7, this);
                })), e.replaceTrack = function (n) {
                    return e.track = n, t.sendApiRequest(a.REPLACE_SENDER_TRACK_API_NAME, [e.id, n]);
                }, e.createEncodedStreams = function () {
                    var n = { id: crypto.randomUUID(), type: "proxy", readable: { type: "proxy", id: crypto.randomUUID() }, writable: { type: "proxy", id: crypto.randomUUID() } };return t.streamProxies.set(n.id, n), t.sendApiRequest(a.SENDER_CREATE_ENCODED_STREAMS, [e.id, n]), n;
                }, e;
            }
        }, {
            key: "updateSenderProxy",
            value: function updateSenderProxy(e) {
                var t = this.senderProxies.get(e.id);return t ? Object.assign(t, e) : (t = e, this.senderProxies.set(e.id, t)), this.makeSenderProxy(t);
            }
        }, {
            key: "updateReceiverProxy",
            value: function updateReceiverProxy(e) {
                var t = this.receiverProxies.get(e.id);return t ? Object.assign(t, e) : (t = e, this.receiverProxies.set(e.id, t)), this.makeReceiverProxy(t);
            }
        }, {
            key: "addTrack",
            value: function addTrack(e, t) {
                var n = this;var r = crypto.randomUUID();this.sendApiRequest(a.ADD_TRACK_API_NAME, [r].concat(Array.prototype.slice.call(arguments))).then(function (e) {
                    e && (n.updateSenderProxy(e), n.updatePCSenders(e.pcId, e.senders), n.updatePCReceivers(e.pcId, e.receivers), n.updatePCTransceivers(e.pcId, e.transceivers));
                });var i = this.updateSenderProxy({ id: r });return this.pcProxies.get(e).senders.push(i), i;
            }
        }, {
            key: "updatePeerConnectionProxy",
            value: function updatePeerConnectionProxy(e) {
                var t = this.pcProxies.get(e.pcId);Object.assign(t, e), this.updatePCSenders(e.pcId, e.senders), this.updatePCReceivers(e.pcId, e.receivers), this.updatePCTransceivers(e.pcId, e.transceivers);
            }
        }, {
            key: "createPeerConnection",
            value: function createPeerConnection(e, t) {
                var n = this;var r = crypto.randomUUID(),
                    i = this;this.logger.debug("Creating RTCPeerConnection with id: " + r);var s = { type: "proxy", id: r, signalingState: "new", connectionState: "new", iceConnectionState: "new", iceGatheringState: "new", receivers: [], senders: [], transceivers: [], pendingEvents: new Map(), configuration: e, close: function close() {
                        n.close(r);
                    }, addStream: function addStream(e) {
                        n.addStream(r, e);
                    }, getConfiguration: function getConfiguration() {
                        return n.sendApiRequest(a.PC_GET_CONFIGURATION, [r]).then(function (e) {
                            e && (s.configuration = e);
                        }), s.configuration;
                    }, getStats: function getStats(e) {
                        return n.getStats(r, e);
                    }, createOffer: function createOffer(e) {
                        return n.createOffer(r, e);
                    }, createAnswer: function createAnswer(e) {
                        return n.createAnswer(r, e);
                    }, setLocalDescription: function setLocalDescription(e) {
                        return n.setLocalDescription(r, e);
                    }, addEventListener: function addEventListener(e, t) {
                        n.addPeerConnectionEventListener(r, e, t);
                    }, removeEventListener: function removeEventListener(e, t) {
                        n.removeEventListener(r, e, t);
                    }, getEventListener: function getEventListener(e) {
                        return n.eventListeners.get(r).get(e);
                    }, set onicecandidate(e) {
                        this.addEventListener(o.ICE_CANDIDATE, e);
                    }, get onicecandidate() {
                        return this.getEventListener(o.ICE_CANDIDATE);
                    }, set ontrack(e) {
                        this.addEventListener(o.TRACK, e);
                    }, get ontrack() {
                        return this.getEventListener(o.TRACK);
                    }, get onsignalingstatechange() {
                        return this.getEventListener(o.SIG_STATE_CHANGE);
                    }, set onsignalingstatechange(e) {
                        this.addEventListener(o.SIG_STATE_CHANGE, e);
                    }, get onconnectionstatechange() {
                        return this.getEventListener(o.CONN_STATE_CHANGE);
                    }, set onconnectionstatechange(e) {
                        this.addEventListener(o.CONN_STATE_CHANGE, e);
                    }, get oniceconnectionstatechange() {
                        return this.getEventListener(o.ICE_CONN_STATE_CHANGE);
                    }, set oniceconnectionstatechange(e) {
                        this.addEventListener(o.ICE_CONN_STATE_CHANGE, e);
                    }, get onicegatheringstatechange() {
                        return this.getEventListener(o.ICE_GATHER_STATE_CHANGE);
                    }, set onicegatheringstatechange(e) {
                        this.addEventListener(o.ICE_GATHER_STATE_CHANGE, e);
                    }, get onnegotiationneeded() {
                        return this.getEventListener(o.NEGOTIATION_NEEDED);
                    }, set onnegotiationneeded(e) {
                        this.addEventListener(o.NEGOTIATION_NEEDED, e);
                    }, setRemoteDescription: function setRemoteDescription(e) {
                        return n.setRemoteDescription(r, e);
                    }, addIceCandidate: function addIceCandidate(e) {
                        return n.addIceCandidate(r, e);
                    }, getRemoteStreams: function getRemoteStreams() {
                        return n.logger.warn("getRemoteStreams not implemented on proxy."), [];
                    }, getReceivers: function getReceivers() {
                        return n.getReceivers(r);
                    }, getSenders: function getSenders() {
                        return n.getSenders(r);
                    }, addTrack: function addTrack(e) {
                        var t = [r].concat(Array.prototype.slice.call(arguments));return i.addTrack.apply(i, t);
                    }, addTransceiver: function addTransceiver(e, t) {
                        return n.addTransceiver(r, e, t);
                    }, getTransceivers: function getTransceivers() {
                        return n.getTransceivers(r);
                    }, removeTrack: function removeTrack(e) {
                        n.removeTrack(r, e);
                    } };return this.pcProxies.set(r, s), this.sendApiRequest(a.NEWRTCPEERCONNECTION_API_NAME, [r, e, t], r).then(function (e) {
                    e && n.updatePeerConnectionProxy(e);
                }, function (e) {
                    n.logger.error("Error creating proxied RTCPeerConnection: " + e);
                }), this.preRegisterEvents(o, this.pcProxies.get(r), this.addPeerConnectionEventListener), this.pcProxies.get(r);
            }
        }, {
            key: "preRegisterEvents",
            value: function preRegisterEvents(e, t, n) {
                for (var _r10 in e) {
                    "string" == typeof e[_r10] && n.apply(this, [t.id, e[_r10], function (e) {
                        t.pendingEvents.has(e.eventName) || t.pendingEvents.set(e.eventName, []), t.pendingEvents.get(e.eventName).push(e);
                    }]);
                }
            }
        }, {
            key: "updateAudioContextProxy",
            value: function updateAudioContextProxy(e) {
                var t = this.audioContextProxies.get(e.id);Object.assign(t, e);
            }
        }, {
            key: "updateAudioNodeProxy",
            value: function updateAudioNodeProxy(e) {
                var t = this.audioNodeProxies.get(e.id);Object.assign(t, e), e.stream && this.makeStreamProxy(e.stream);
            }
        }, {
            key: "makeAudioNodeProxy",
            value: function makeAudioNodeProxy(e, t) {
                var n = this;return { type: "proxy", id: t, context: this.audioContextProxies.get(e), connect: function connect(e, r, i) {
                        return n.sendApiRequest(a.AUDIO_NODE_CONNECT, [t, e, r, i]), e;
                    }, disconnect: function disconnect(e, r, i) {
                        n.sendApiRequest(a.AUDIO_NODE_DISCONNECT, [t, e, r, i]);
                    } };
            }
        }, {
            key: "createAudioNode",
            value: function createAudioNode(e, t, n) {
                var r = this;var i = crypto.randomUUID();return this.audioNodeProxies.set(i, this.makeAudioNodeProxy(e, i)), this.sendApiRequest(a.AUDIO_CTX_CREATE_AUDIO_NODE, [e, i, t, n], i).then(function (e) {
                    e && r.updateAudioNodeProxy(e);
                }, function (e) {
                    r.logger.error("Error creating proxied " + t + ": " + e);
                }), this.audioNodeProxies.get(i);
            }
        }, {
            key: "makeWorkerProxy",
            value: function makeWorkerProxy(e) {
                var t = this;var n = { id: e, pendingEvents: new Map(), type: "proxy", postMessage: function postMessage(n, r) {
                        t.sendApiRequest(a.WORKER_POST_MESSAGE, [e, n, r]);
                    }, terminate: function terminate() {
                        t.sendApiRequest(a.WORKER_TERMINATE, [e]);
                    }, addEventListener: function addEventListener(e, r, i) {
                        t.addWorkerEventListener(n.id, e, r, i);
                    }, removeEventListener: function removeEventListener(e, r) {
                        t.removeEventListener(n.id, e, r);
                    } };return Object.defineProperty(n, "onerror", { set: function set(e) {
                        t.addWorkerEventListener(n.id, l.ERROR, e);
                    }, get: function get() {
                        return null;
                    } }), Object.defineProperty(n, "onmessage", { set: function set(e) {
                        t.addWorkerEventListener(n.id, l.MESSAGE, e);
                    }, get: function get() {
                        return null;
                    } }), Object.defineProperty(n, "onmessageerror", { set: function set(e) {
                        t.addWorkerEventListener(n.id, l.MESSAGE_ERROR, e);
                    }, get: function get() {
                        return null;
                    } }), n;
            }
        }, {
            key: "createWorker",
            value: function createWorker(e, t) {
                var n = this;var r = crypto.randomUUID(),
                    i = this.makeWorkerProxy(r);return this.workerProxies.set(r, i), fetch(e).then(function (e) {
                    e.blob().then(function (e) {
                        e.arrayBuffer().then(function (i) {
                            var s = p(i);n.sendApiRequest(a.CREATE_WORKER, [r, e.type, s, t]).then(function (e) {
                                n.logger.debug("Created worker: " + JSON.stringify(e));
                            });
                        });
                    });
                }), this.logger.debug("Preregistering events for worker: " + JSON.stringify(i)), this.preRegisterEvents(l, i, this.addWorkerEventListener), i;
            }
        }, {
            key: "createAudioContext",
            value: function createAudioContext() {
                var e = this;var t = crypto.randomUUID(),
                    n = crypto.randomUUID();return this.audioContextProxies.set(t, { type: "proxy", id: t, destination: this.makeAudioNodeProxy(t, n), createGain: function createGain() {
                        var n = e.createAudioNode(t, "Gain", []),
                            r = { setValueAtTime: function setValueAtTime(t, i) {
                                return r.currentValue = t, e.sendApiRequest(a.AUDIO_PARAM_SET_VALUE_AT_TIME, [n.id, t, i]), r;
                            }, linearRampToValueAtTime: function linearRampToValueAtTime(t, i) {
                                return e.sendApiRequest(a.AUDIO_PARAM_SET_RAMP_TO_VALUE_AT_TIME, [n.id, t, i]), r;
                            } };return Object.defineProperty(r, "value", { set: function set(e) {
                                return r.setValueAtTime(e, 0);
                            }, get: function get() {
                                return r.currentValue;
                            } }), n.gain = r, n;
                    }, createOscillator: function createOscillator() {
                        var n = e.createAudioNode(t, "Oscillator", []);n.start = function () {
                            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                            e.sendApiRequest(a.AUDIO_NODE_START, [n.id, t]);
                        }, n.stop = function () {
                            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                            e.sendApiRequest(a.AUDIO_NODE_STOP, [n.id, t]);
                        }, Object.defineProperty(n, "type", { set: function set(t) {
                                n.currentType = t, e.sendApiRequest(a.AUDIO_NODE_SET_TYPE, [n.id, t]);
                            }, get: function get() {
                                return n.currentType;
                            } });var r = { setValueAtTime: function setValueAtTime(t, i) {
                                return e.sendApiRequest(a.AUDIO_PARAM_SET_VALUE_AT_TIME, [n.id, t, i]), r;
                            } };return Object.defineProperty(r, "value", { set: function set(e) {
                                return r.setValueAtTime(e, 0);
                            }, get: function get() {
                                return r.currentValue;
                            } }), n.frequency = r, n;
                    }, createMediaStreamSource: function createMediaStreamSource(n) {
                        return e.createAudioNode(t, "MediaStreamSource", [n.proxy]);
                    }, createAnalyser: function createAnalyser() {
                        return e.createAudioNode(t, "Analyser", []);
                    }, createMediaStreamDestination: function createMediaStreamDestination() {
                        var n = e.createAudioNode(t, "MediaStreamDestination", []);return n.stream = e.makeStreamProxy({ id: n.id, tracks: [{ id: n.id, kind: "audio" }] }), n;
                    }, close: function close() {
                        return e.sendApiRequest(a.AUDIO_CTX_CLOSE, [t]);
                    } }), this.sendApiRequest(a.NEW_AUDIO_CONTEXT, [t, n], t).then(function (t) {
                    t && e.updateAudioContextProxy(t);
                }, function (t) {
                    e.logger.error("Error creating proxied AudioContext: " + t);
                }), this.audioContextProxies.get(t);
            }
        }, {
            key: "close",
            value: function close(e) {
                this.eventListeners.get(e).clear(), this.sendApiRequest(a.PC_CLOSE_API_NAME, [e]);
            }
        }, {
            key: "addStream",
            value: function addStream(e, t) {
                this.sendApiRequest(a.ADDSTREAM_API_NAME, [e, t.proxy]);
            }
        }, {
            key: "getStats",
            value: function getStats(e, t) {
                return "function" == typeof t ? Promise.reject(new Error("callback based getStats is obsolete.")) : this.sendApiRequest(a.GET_STATS_API_NAME, [e, t]);
            }
        }, {
            key: "createOffer",
            value: function createOffer(e, t) {
                return this.sendApiRequest(a.CREATE_OFFER_API_NAME, [e, t]);
            }
        }, {
            key: "createAnswer",
            value: function createAnswer(e, t) {
                return this.sendApiRequest(a.CREATE_ANSWER_API_NAME, [e, t]);
            }
        }, {
            key: "setLocalDescription",
            value: function setLocalDescription(e, t) {
                return this.pcProxies.get(e).localDescription = t, this.sendApiRequest(a.SET_LOCAL_DESCRIPTION_API_NAME, [e, t]);
            }
        }, {
            key: "setRemoteDescription",
            value: function setRemoteDescription(e, t) {
                return this.sendApiRequest(a.SET_REMOTE_DESCRIPTION_API_NAME, [e, t]);
            }
        }, {
            key: "handleAddEventListenerResponse",
            value: function handleAddEventListenerResponse(e) {
                var t = this;e.eventName === o.SIG_STATE_CHANGE ? this.updatePeerConnectionProxy(e) : e.eventName === o.TRACK ? (e.streams = e.streams.map(function (e) {
                    return t.makeStreamProxy(e);
                }), e.track = this.makeTrackProxy(e.track), this.updatePeerConnectionProxy(e)) : (e.eventName === o.CONN_STATE_CHANGE || e.eventName === o.ICE_CONN_STATE_CHANGE || e.eventName === o.ICE_GATHER_STATE_CHANGE || e.eventName === o.ICE_CANDIDATE || e.eventName === o.NEGOTIATION_NEEDED) && this.updatePeerConnectionProxy(e), this.fireUpEventHandlers(this.pcProxies.get(e.pcId), e), this.sendApiRequest(a.ADD_PC_EVENT_LISTENER, [e.pcId, e.eventName]).then(function (e) {
                    e && t.handleAddEventListenerResponse(e);
                });
            }
        }, {
            key: "fireUpEventHandlers",
            value: function fireUpEventHandlers(e, t) {
                if (e && this.eventListeners.get(e.id).has(t.eventName)) {
                    var _n7 = e.pendingEvents;this.eventListeners.get(e.id).get(t.eventName).forEach(function (e, r) {
                        0 === r ? e(t) : _n7.get(t.eventName).forEach(function (t) {
                            e(t);
                        });
                    }), _n7.set(t.eventName, []);
                }
            }
        }, {
            key: "handleAddTrackEventListenerResponse",
            value: function handleAddTrackEventListenerResponse(e) {
                var t = this;"mute" !== e.eventName && "unmute" !== e.eventName || (this.trackProxies.get(e.trackId).muted = e.muted), this.fireUpEventHandlers(this.trackProxies.get(e.trackId), e), this.sendApiRequest(a.ADD_TRACK_EVENT_LISTENER, [e.trackId, e.eventName]).then(function (e) {
                    e && t.handleAddTrackEventListenerResponse(e);
                });
            }
        }, {
            key: "handleAddDtmfEventListenerResponse",
            value: function handleAddDtmfEventListenerResponse(e) {
                var t = this;this.fireUpEventHandlers(this.dtmfProxies.get(e.dtmfId), e), this.sendApiRequest(a.ADD_DTMF_EVENT_LISTENER, [e.dtmfId, e.eventName]).then(function (e) {
                    e && t.handleAddDtmfEventListenerResponse(e);
                });
            }
        }, {
            key: "handleAddWorkerEventListenerResponse",
            value: function handleAddWorkerEventListenerResponse(e) {
                var t = this;this.fireUpEventHandlers(this.workerProxies.get(e.wId), e), this.sendApiRequest(a.ADD_WORKER_EVENT_LISTENER, [e.wId, e.eventName]).then(function (e) {
                    e && t.handleAddWorkerEventListenerResponse(e);
                });
            }
        }, {
            key: "addEventListener",
            value: function addEventListener(e, t, n) {
                this.eventListeners.has(e) || this.eventListeners.set(e, new Map()), this.eventListeners.get(e).has(t) || this.eventListeners.get(e).set(t, []), this.eventListeners.get(e).get(t).push(n);
            }
        }, {
            key: "addPeerConnectionEventListener",
            value: function addPeerConnectionEventListener(e, t, n) {
                var r = this;this.addEventListener(e, t, n), this.sendApiRequest(a.ADD_PC_EVENT_LISTENER, [e, t]).then(function (e) {
                    e && r.handleAddEventListenerResponse(e);
                });
            }
        }, {
            key: "addTrackEventListener",
            value: function addTrackEventListener(e, t, n, r) {
                var i = this;this.addEventListener(e, t, n), this.sendApiRequest(a.ADD_TRACK_EVENT_LISTENER, [e, t, r]).then(function (e) {
                    e && i.handleAddTrackEventListenerResponse(e);
                });
            }
        }, {
            key: "addDtmfEventListener",
            value: function addDtmfEventListener(e, t, n, r) {
                var i = this;this.addEventListener(e, t, n), this.sendApiRequest(a.ADD_DTMF_EVENT_LISTENER, [e, t, r]).then(function (e) {
                    e && i.handleAddDtmfEventListenerResponse(e);
                });
            }
        }, {
            key: "addWorkerEventListener",
            value: function addWorkerEventListener(e, t, n) {
                var r = this;this.addEventListener(e, t, n), this.sendApiRequest(a.ADD_WORKER_EVENT_LISTENER, [e, t]).then(function (e) {
                    e && r.handleAddWorkerEventListenerResponse(e);
                });
            }
        }, {
            key: "removeEventListener",
            value: function removeEventListener(e, t, n) {
                var r = this.eventListeners.get(e).get(t);var i = r.indexOf(n);i > -1 && r.splice(i, 1);
            }
        }, {
            key: "addIceCandidate",
            value: function addIceCandidate(e, t) {
                var n = t ? { sdpMLineIndex: t.sdpMLineIndex, sdpMid: t.sdpMid, candidate: t.candidate } : null;return this.sendApiRequest(a.ADD_ICE_CANDIDATE_API_NAME, [e, n]);
            }
        }, {
            key: "createMediaElement",
            value: function createMediaElement(e) {
                var t = this;var n = crypto.randomUUID();this.sendApiRequest(a.CREATE_MEDIA_ELEMENT_API_NAME, [n, e], n).then(function (e) {
                    if (e) {
                        t.mediaElementProxies.get(e.id).sinkId = e.sinkId;
                    }
                });var r = { id: n, type: "proxy", classList: new Set(), isMuted: !1, play: function play() {
                        t.sendApiRequest(a.MEDIA_ELEMENT_PLAY_API_NAME, [n]);
                    }, pause: function pause() {
                        t.sendApiRequest(a.MEDIA_ELEMENT_PAUSE_API_NAME, [n]);
                    }, setSinkId: function setSinkId(e) {
                        return t.sendApiRequest(a.MEDIA_ELEMENT_SET_SINK_ID_API_NAME, [n, e]);
                    }, remove: function remove() {
                        return t.sendApiRequest(a.MEDIA_ELEMENT_REMOVE, [n]);
                    } };return this.mediaElementProxies.set(n, r), r.classList.remove = function (e) {
                    r.classList.delete(e);
                }, Object.assign(r, e), Object.defineProperty(r, "srcObject", { set: function set(e) {
                        r.stream = e, t.sendApiRequest(a.SET_MEDIA_SRC_OBJ_API_NAME, [r.id, e && e.proxy ? e.proxy : e]);
                    }, get: function get() {
                        return r.stream;
                    } }), Object.defineProperty(r, "hidden", { set: function set(e) {
                        t.sendApiRequest(a.SET_MEDIA_HIDDEN_API_NAME, [r.id, e]);
                    }, get: function get() {
                        return r.hidden;
                    } }), Object.defineProperty(r, "volume", { set: function set(e) {
                        t.sendApiRequest(a.SET_MEDIA_VOLUME_API_NAME, [r.id, e]);
                    }, get: function get() {
                        return r.volume;
                    } }), Object.defineProperty(r, "muted", { set: function set(e) {
                        r.isMuted = e, t.sendApiRequest(a.MEDIA_ELEMENT_MUTED, [r.id, e]).then(function (e) {
                            e && (r.isMuted = e.muted);
                        });
                    }, get: function get() {
                        return r.isMuted;
                    } }), r;
            }
        }, {
            key: "generateCertificate",
            value: function generateCertificate(e) {
                return this.sendApiRequest(a.GENERATE_CERTIFICATE_API_NAME, [e]);
            }
        }, {
            key: "getReceivers",
            value: function getReceivers(e) {
                var t = this;return this.sendApiRequest(a.GET_RECEIVERS_API_NAME, [e]).then(function (e) {
                    e && t.updatePCReceivers(e.pcId, e.receivers);
                }), this.pcProxies.get(e).receivers;
            }
        }, {
            key: "getSenders",
            value: function getSenders(e) {
                var t = this;return this.sendApiRequest(a.GET_SENDERS_API_NAME, [e]).then(function (e) {
                    e && t.updatePCSenders(e.pcId, e.senders);
                }), this.pcProxies.get(e).senders;
            }
        }, {
            key: "removeTrack",
            value: function removeTrack(e, t) {
                this.sendApiRequest(a.PC_REMOVE_TRACK_API_NAME, [e, t]);
            }
        }, {
            key: "getTransceivers",
            value: function getTransceivers(e) {
                var t = this;return this.sendApiRequest(a.GET_TRANSCEIVERS_API_NAME, [e]).then(function (e) {
                    e && t.updatePCTransceivers(e.pcId, e.transceivers);
                }), this.pcProxies.get(e).transceivers;
            }
        }, {
            key: "addTransceiver",
            value: function addTransceiver(e, t, n) {
                var r = this;var i = crypto.randomUUID(),
                    s = { type: "proxy", id: i, sender: this.makeSenderProxy({ id: crypto.randomUUID() }), receiver: this.makeReceiverProxy({ id: crypto.randomUUID() }), setCodecPreferences: function setCodecPreferences(e) {
                        r.sendApiRequest(a.TRANSCEIVER_SET_CODEC_PREFS, [i, e]);
                    } };return this.transceiverProxies.set(s.id, s), this.pcProxies.get(e).transceivers.push(s), this.pcProxies.get(e).receivers.push(s.receiver), this.pcProxies.get(e).senders.push(s.sender), this.sendApiRequest(a.ADD_TRANSCEIVER_API_NAME, [e, s, "string" == typeof t ? t : this.makeTrackProxy(t), n]).then(function (e) {
                    e && (r.updateTransceiverProxy(e), r.updatePCSenders(e.pcId, e.senders), r.updatePCReceivers(e.pcId, e.receivers), r.updatePCTransceivers(e.pcId, e.transceivers));
                }), s;
            }
        }, {
            key: "setLogger",
            value: function setLogger(e) {
                this.logger = e;
            }
        }, {
            key: "overrideWebRTC",
            value: function overrideWebRTC() {
                var e = this;this.logger.info("Overriding WebRTC interfaces for the current webapp.");var t = this;navigator.mediaDevices.getUserMedia = function (t) {
                    return e.getUserMedia(t);
                }, navigator.mediaDevices.enumerateDevices = function () {
                    return e.enumerateDevices();
                }, window.RTCPeerConnection = function (e, n) {
                    return t.createPeerConnection(e, n);
                }, window.RTCPeerConnection.generateCertificate = function (e) {
                    return t.generateCertificate(e);
                }, window.AudioContext = function () {
                    return t.createAudioContext();
                }, window.Worker = function (e, n) {
                    return t.createWorker(e, n);
                };
            }
        }, {
            key: "removeStatusChangeEventListener",
            value: function removeStatusChangeEventListener(e) {
                this.statusChangeEventListeners = this.statusChangeEventListeners.filter(function (t) {
                    return t !== e;
                });
            }
        }, {
            key: "addStatusChangeEventListener",
            value: function addStatusChangeEventListener(e) {
                this.statusChangeEventListeners.push(e);
            }
        }, {
            key: "sendHelloRequest",
            value: function () {
                var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
                    var e, n;
                    return _regenerator2.default.wrap(function _callee8$(_context8) {
                        while (1) {
                            switch (_context8.prev = _context8.next) {
                                case 0:
                                    e = this;
                                    _context8.next = 3;
                                    return this.sendApiRequest(a.HELLO_API_NAME, []);

                                case 3:
                                    n = _context8.sent;
                                    return _context8.abrupt("return", (n && !globalThis.DCVWebRTCRedirProxy && (this.status = h.AVAILABLE, this.logger.info("Running in a DCV WebRTC redirection env, proxy version: " + t.versionStr + " - " + t.gitHash), this.logger.info("Client info: " + JSON.stringify(n)), window.addEventListener("beforeunload", function (t) {
                                        var n = { pcIds: [], streamIds: [], mediaElementIds: [], transceiverIds: [], senderIds: [], receiverIds: [], trackIds: [], workerIds: [] };e.pcProxies.forEach(function (e, t) {
                                            n.pcIds.push(t);
                                        }), e.streamProxies.forEach(function (e, t) {
                                            n.streamIds.push(t);
                                        }), e.trackProxies.forEach(function (e, t) {
                                            n.trackIds.push(t);
                                        }), e.workerProxies.forEach(function (e, t) {
                                            n.workerIds.push(t);
                                        }), e.mediaElementProxies.forEach(function (e, t) {
                                            n.mediaElementIds.push(t);
                                        }), e.transceiverProxies.forEach(function (e, t) {
                                            n.transceiverIds.push(t);
                                        }), e.senderProxies.forEach(function (e, t) {
                                            n.senderIds.push(t);
                                        }), e.receiverProxies.forEach(function (e, t) {
                                            n.receiverIds.push(t);
                                        }), e.sendApiRequest(a.UNLOAD_EVENT_NAME, [n]);
                                    })), n));

                                case 5:
                                case "end":
                                    return _context8.stop();
                            }
                        }
                    }, _callee8, this);
                }));

                function sendHelloRequest() {
                    return _ref8.apply(this, arguments);
                }

                return sendHelloRequest;
            }()
        }], [{
            key: "setInitCallback",
            value: function setInitCallback(e, t) {
                var n = globalThis.DCVWebRTCRedirProxy;if (n) e({ success: !0, proxy: n });else {
                    w.initCallbacks || (w.initCallbacks = new Map());var _n8 = setTimeout(function (e) {
                        e({ success: !1, error: "Failed to initialize DCVWebRTCPeerConnectionProxy in " + t + "ms" }), w.initCallbacks.delete(e);
                    }, t, e);w.initCallbacks.set(e, _n8);
                }
            }
        }]);
        return w;
    }();

    function T(e, t, n) {
        globalThis.DCVWebRTCRedirProxy = t, w.initCallbacks ? (w.initCallbacks.forEach(function (r, i) {
            clearTimeout(r), i({ success: e, proxy: t, error: n });
        }), w.initCallbacks.clear()) : s.debug("No DCVWebRTCPeerConnectionProxy.initCallback was specified.");
    }try {
        window.DCVWebRTCPeerConnectionProxy = w;var _e14 = new w({ logger: s });_e14.sendHelloRequest().then(function (t) {
            s.debug("Successfully received hello response from client: " + JSON.stringify(t)), _e14.clientInfo = t, _e14.resetHeartbeat(null), T(!0, _e14);
        }).catch(function (e) {
            var t = "Running in an invalid dcv webrtc env, skipping setting up proxy: " + JSON.stringify(e);s.debug(t), T(!1, null, t);
        });
    } catch (e) {
        var _t15 = e.message;T(!1, null, _t15), s.debug("Skipping setting up proxy in client env: " + _t15);
    }e.DCVWebRTCRedirClient = function () {
        function _class(e) {
            (0, _classCallCheck3.default)(this, _class);
            this.version = t, this.config = e, this.logger = e.logger ? e.logger : s, this.channel = e.channel, this.decoder = new TextDecoder("utf-8"), this.messageBuffer = null, this.pcs = new Map(), this.pcPromises = new Map(), this.audioContexts = new Map(), this.audioNodes = new Map(), this.workers = new Map(), this.workerPromises = new Map(), this.certs = new Map(), this.streams = new Map(), this.tracks = new Map(), this.offers = new Map(), this.answers = new Map(), this.remoteDescriptions = new Map(), this.mediaElements = new Map(), this.senders = new Map(), this.dtmfSenders = new Map(), this.receivers = new Map(), this.transceivers = new Map(), this.logger.info("Created WebRTC Redirection Client version: " + t.versionStr + " - " + t.gitHash);
        }

        (0, _createClass3.default)(_class, [{
            key: "encodeBase64",
            value: function encodeBase64(e) {
                return p(e);
            }
        }, {
            key: "decodeBase64",
            value: function decodeBase64(e) {
                return g(e);
            }
        }, {
            key: "getVersion",
            value: function getVersion() {
                return this.version;
            }
        }, {
            key: "concatUint8Arrays",
            value: function concatUint8Arrays(e) {
                var t = e.reduce(function (e, t) {
                    return e + t.byteLength;
                }, 0),
                    n = new Uint8Array(t);var r = 0;return e.forEach(function (e) {
                    n.set(e, r), r += e.byteLength;
                }), n;
            }
        }, {
            key: "parseHeader",
            value: function parseHeader(e) {
                return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0];
            }
        }, {
            key: "onMessageReceived",
            value: function onMessageReceived(e) {
                this.logger.debug("onMessageReceived, binaryPayload.byteLength: " + e.byteLength);try {
                    var _t16 = 0;for (null === this.messageBuffer ? this.messageBuffer = new Uint8Array(e) : this.messageBuffer = this.concatUint8Arrays([this.messageBuffer, new Uint8Array(e)]), this.messageBuffer.byteLength >= 4 && (_t16 = this.parseHeader(this.messageBuffer)); _t16 > 0 && this.messageBuffer.byteLength >= _t16 + 4;) {
                        var _e15 = 4,
                            _n9 = 4 + _t16,
                            _r11 = this.messageBuffer.slice(_e15, _n9);this.logger.debug("Decoding payload: ", _r11);var _i7 = this.decoder.decode(_r11);this.logger.debug("Received message: " + _i7);var _s2 = JSON.parse(_i7);this.logger.debug("Received json: ", _s2), this.handleMessage(_s2), this.messageBuffer = this.messageBuffer.slice(_n9), _t16 = this.messageBuffer.byteLength >= 4 ? this.parseHeader(this.messageBuffer) : 0;
                    }
                } catch (e) {
                    this.logger.error("Failed to parse JSON from binaryPayload: " + e), this.messageBuffer = null;
                }
            }
        }, {
            key: "getPeerConnection",
            value: function getPeerConnection(e) {
                var t = this;return this.pcs.has(e) ? this.pcs.get(e) : (this.pcPromises.has(e) || this.pcPromises.set(e, []), new Promise(function (n, r) {
                    t.pcPromises.get(e).push({ resolve: n, reject: r });
                }));
            }
        }, {
            key: "closePeerConnection",
            value: function closePeerConnection(e) {
                var t = this;if (this.pcs.has(e)) {
                    var _n10 = this.pcs.get(e);_n10.getTransceivers().forEach(function (e) {
                        e.sender && (e.sender.dtmf && t.dtmfSenders.forEach(function (n, r) {
                            n === e.sender.dtmf && t.dtmfSenders.delete(r);
                        }), t.senders.forEach(function (n, r) {
                            n === e.sender && t.senders.delete(r);
                        })), e.receiver && t.receivers.forEach(function (n, r) {
                            n === e.receiver && t.receivers.delete(r);
                        }), t.transceivers.forEach(function (n, r) {
                            n === e && t.transceivers.delete(r);
                        });
                    }), _n10.getSenders().forEach(function (e) {
                        t.senders.forEach(function (n, r) {
                            n === e && t.senders.delete(r);
                        });
                    }), _n10.getReceivers(function (e) {
                        t.receivers.forEach(function (n, r) {
                            n === e && t.receivers.delete(r);
                        });
                    }), _n10.localDescription && (this.offers.forEach(function (e, r) {
                        _n10.localDescription.type === e.type && _n10.localDescription.sdp === e.sdp && t.offers.delete(r);
                    }), this.answers.forEach(function (e, r) {
                        _n10.localDescription.type === e.type && _n10.localDescription.sdp === e.sdp && t.offers.delete(r);
                    })), _n10.remoteDescription && this.remoteDescriptions.forEach(function (e, r) {
                        _n10.remoteDescription.type === e.type && _n10.remoteDescription.sdp === e.sdp && t.remoteDescriptions.delete(r);
                    }), this.pcPromises.has(e) && (this.pcPromises.get(e).forEach(function (e) {
                        e.reject(null);
                    }), this.pcPromises.delete(e)), _n10.close(), this.pcs.delete(e);
                }
            }
        }, {
            key: "getPendingEvent",
            value: function getPendingEvent(e, t) {
                return e.pendingEvents.has(t) && e.pendingEvents.get(t).length > 0 ? e.pendingEvents.get(t).shift() : (e.eventPromises.has(t) || e.eventPromises.set(t, []), new Promise(function (n, r) {
                    e.eventPromises.get(t).push({ resolve: n, reject: r });
                }));
            }
        }, {
            key: "getStream",
            value: function getStream(e) {
                return this.streams.get(e);
            }
        }, {
            key: "makeTrackTO",
            value: function makeTrackTO(e) {
                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.id ? e.id : crypto.randomUUID();
                return this.tracks.set(t, e), { type: "proxy", contentHint: e.contentHint, enabled: e.enabled, id: t, kind: e.kind, label: e.label, muted: e.muted, readyState: e.readyState, settings: e.getSettings() };
            }
        }, {
            key: "makeStreamTO",
            value: function makeStreamTO(e) {
                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.id ? e.id : crypto.randomUUID();
                var n = this;this.streams.set(t, e);var r = e.getTracks().map(function (e) {
                    return n.makeTrackTO(e);
                });return { type: "proxy", id: t, active: e.active, tracks: r };
            }
        }, {
            key: "makeSyncronizationSourceTO",
            value: function makeSyncronizationSourceTO(e) {
                return { audioLevel: e.audioLevel, rtpTimestamp: e.rtpTimestamp, source: e.source, timestamp: e.timestamp };
            }
        }, {
            key: "makeReceiverTO",
            value: function makeReceiverTO(e) {
                var t = this;var n = e.getSynchronizationSources();n = n.map(function (e) {
                    return t.makeSyncronizationSourceTO(e);
                });var r = { id: e.id ? e.id : crypto.randomUUID(), type: "proxy", track: e.track ? this.makeTrackTO(e.track) : null, synchronizationSources: n, stats: [] };return e.id = r.id, this.receivers.set(r.id, e), r;
            }
        }, {
            key: "makeDTMFSenderTO",
            value: function makeDTMFSenderTO(e) {
                var t = { id: e.id ? e.id : crypto.randomUUID(), type: "proxy", toneBuffer: e.toneBuffer };return e.id = t.id, this.dtmfSenders.set(t.id, e), t;
            }
        }, {
            key: "makeSenderTO",
            value: function makeSenderTO(e) {
                var t = { id: e.id ? e.id : crypto.randomUUID(), type: "proxy", track: e.track ? this.makeTrackTO(e.track) : null, dtmf: e.dtmf ? this.makeDTMFSenderTO(e.dtmf) : null };return e.id = t.id, this.senders.set(t.id, e), t;
            }
        }, {
            key: "makeTransceiverTO",
            value: function makeTransceiverTO(e) {
                return { id: e.id, type: "proxy", currentDirection: e.currentDirection, direction: e.direction, mid: e.mid, receiver: e.receiver ? this.makeReceiverTO(e.receiver) : null, sender: e.sender ? this.makeSenderTO(e.sender) : null, stopped: e.stopped };
            }
        }, {
            key: "findProxySubject",
            value: function findProxySubject(e) {
                return this.pcs.has(e) ? this.pcs.get(e) : this.audioContexts.has(e) ? this.audioContexts.get(e) : this.audioNodes.has(e) ? this.audioNodes.get(e) : this.workers.has(e) ? this.workers.get(e) : this.certs.has(e) ? this.certs.get(e) : this.streams.has(e) ? this.streams.get(e) : this.offers.has(e) ? this.offers.get(e) : this.answers.has(e) ? this.answers.get(e) : this.remoteDescriptions.has(e) ? this.remoteDescriptions.get(e) : this.mediaElements.has(e) ? this.mediaElements.get(e) : this.senders.has(e) ? this.senders.get(e) : this.dtmfSenders.has(e) ? this.dtmfSenders.get(e) : this.receivers.has(e) ? this.receivers.get(e) : this.transceivers.has(e) ? this.transceivers.get(e) : this.tracks.has(e) ? this.tracks.get(e) : null;
            }
        }, {
            key: "traverse",
            value: function traverse(e, t) {
                if ("object" == (typeof e === "undefined" ? "undefined" : (0, _typeof3.default)(e))) for (var _n11 in e) {
                    Object.prototype.hasOwnProperty.call(e, _n11) && (t.apply(this, [e, _n11, e[_n11]]), null !== e[_n11] && "object" == (0, _typeof3.default)(e[_n11]) && this.traverse(e[_n11], t));
                }
            }
        }, {
            key: "getWorker",
            value: function getWorker(e) {
                var t = this;return this.workers.has(e) ? this.workers.get(e) : (this.workerPromises.has(e) || this.workerPromises.set(e, []), new Promise(function (n, r) {
                    t.workerPromises.get(e).push({ resolve: n, reject: r });
                }));
            }
        }, {
            key: "gatherPeerConnectionState",
            value: function gatherPeerConnectionState(e, t) {
                var n = this;e.canTrickleIceCandidates = t.canTrickleIceCandidates, e.connectionState = t.connectionState, e.currentLocalDescription = t.currentLocalDescription, e.currentRemoteDescription = t.currentRemoteDescription, e.iceConnectionState = t.iceConnectionState, e.iceGatheringState = t.iceGatheringState, e.iceGatheringState = t.iceGatheringState, e.localDescription = t.localDescription, e.peerIdentity = t.peerIdentity, e.pendingLocalDescription = t.pendingLocalDescription, e.pendingRemoteDescription = t.pendingRemoteDescription, e.remoteDescription = t.remoteDescription, e.sctp = t.sctp, e.signalingState = t.signalingState, e.configuration = t.getConfiguration(), e.transceivers = t.getTransceivers().map(function (e) {
                    return n.makeTransceiverTO(e);
                }), e.senders = t.getSenders().map(function (e) {
                    return n.makeSenderTO(e);
                }), e.receivers = t.getReceivers().map(function (e) {
                    return n.makeReceiverTO(e);
                });
            }
        }, {
            key: "callWebRTCApi",
            value: function () {
                var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(e, t, n) {
                    var r, _n12, _e16, _t17, _n13, _e17, _t18, _r12, _i8, _n14, _e18, _t19, _r13, _i9, _n15, _e19, _r14, _n16, _e20, _t20, _i10, _e21, _s3, _a3, _n17, _e22, _n18, _e23, _t21, _r15, _i11, _s4, _a4, _o2, _d2, _n19, _e24, _n20, _e25, _t22, _i12, _s5, _n21, _e26, _t23, _r16, _n22, _e27, _t24, _i13, _s6, _n23, _a5, _o3, _d3, _e28, _n24, _e29, _n25, _e30, _t25, _r17, _i14, _s7, _a6, _n26, _e31, _t26, _r18, _i15, _s8, _a7, _n27, _e32, _t27, _n28, _e33, _t28, _n29, _e34, _t29, _n30, _e35, _t30, _r19, _n31, _n32, _e36, _t31, _r20, _n33, _n34, _e37, _n35, _e38, _n36, _e39, _t32, _r21, _i16, _s9, _n37, _e40, _t33, _n38, _e41, _t34, _i17, _s10, _a8, _o4, _d4, _n39, _i18, _s11, _n40, _e42, _t35, _i19, _s12, _a9, _e43, _o5, _d5, _n42, _e44, _n43, _e45, _t36, _r22, _n44, _e46, _t37, _r23, _i20, _s13, _n45, _e47, _t38, _n46, _n47, _e48, _t39, _n48, _n49, _e49, _t40, _r24, _i21, _n50, _e50, _t41, _r25, _i22, _n51, _e51, _r26, _i23, _s14, _n52, _e52, _r27, _i24, _s15, _n53, _e53, _t42, _r28, _i25, _n54, _n55, _e54, _t43, _r29, _n56, _e55, _t44, _r30, _n57, _e56, _i26, _s16, _e57, _n58, _n59, _e58, _i27, _s17, _o6, _e59, _n60, _n61, _e60, _i29, _s18, _e61, _n62, _n63, _e62, _i31, _s19, _o7, _e63, _n64, _n65, _e64, _t46, _r31, _n66, _e65, _t47, _r32, _n67, _e66, _t48, _r33, _n68, _e67, _t49, _n69, _e68, _t50, _r34, _n70, _e69, _t51, _n71, _e70, _n72, _e71, _n73, _e72, _n74, _e73, _t52, _r35, _n75, _e74, _t53, _n76, _e75, _t54, _n77, _e76, _t55, _n78, _n79, _e77, _t56, _n80, _n81, _e78;

                    return _regenerator2.default.wrap(function _callee9$(_context9) {
                        while (1) {
                            switch (_context9.prev = _context9.next) {
                                case 0:
                                    r = this;
                                    _context9.t0 = e;
                                    _context9.next = _context9.t0 === a.HELLO_API_NAME ? 4 : _context9.t0 === a.GETUSERMEDIA_API_NAME ? 5 : _context9.t0 === a.ENUMERATEDEVICES_API_NAME ? 11 : _context9.t0 === a.STREAM_ADD_TRACK ? 15 : _context9.t0 === a.STREAM_REMOVE_TRACK ? 17 : _context9.t0 === a.GENERATE_CERTIFICATE_API_NAME ? 19 : _context9.t0 === a.NEWRTCPEERCONNECTION_API_NAME ? 25 : _context9.t0 === a.PC_GET_CONFIGURATION ? 31 : _context9.t0 === a.CREATE_WORKER ? 35 : _context9.t0 === a.WORKER_TERMINATE ? 37 : _context9.t0 === a.WORKER_POST_MESSAGE ? 39 : _context9.t0 === a.NEW_AUDIO_CONTEXT ? 47 : _context9.t0 === a.AUDIO_CTX_CREATE_AUDIO_NODE ? 49 : _context9.t0 === a.AUDIO_CTX_CLOSE ? 59 : _context9.t0 === a.AUDIO_NODE_CONNECT ? 62 : _context9.t0 === a.AUDIO_NODE_DISCONNECT ? 64 : _context9.t0 === a.AUDIO_NODE_SET_TYPE ? 66 : _context9.t0 === a.AUDIO_NODE_START ? 69 : _context9.t0 === a.AUDIO_NODE_STOP ? 72 : _context9.t0 === a.AUDIO_PARAM_SET_VALUE_AT_TIME ? 75 : _context9.t0 === a.AUDIO_PARAM_SET_RAMP_TO_VALUE_AT_TIME ? 78 : _context9.t0 === a.GET_RECEIVERS_API_NAME ? 81 : _context9.t0 === a.GET_SENDERS_API_NAME ? 88 : _context9.t0 === a.INSERT_DTMF_API_NAME ? 95 : _context9.t0 === a.GET_TRANSCEIVERS_API_NAME ? 97 : _context9.t0 === a.TRANSCEIVER_SET_CODEC_PREFS ? 103 : _context9.t0 === a.ADD_TRACK_API_NAME ? 104 : _context9.t0 === a.ADD_TRANSCEIVER_API_NAME ? 121 : _context9.t0 === a.PC_CLOSE_API_NAME ? 134 : _context9.t0 === a.ADDSTREAM_API_NAME ? 136 : _context9.t0 === a.GET_STATS_API_NAME ? 142 : _context9.t0 === a.GET_SENDER_STATS_API_NAME ? 153 : _context9.t0 === a.GET_RECEIVER_STATS_API_NAME ? 161 : _context9.t0 === a.REPLACE_SENDER_TRACK_API_NAME ? 169 : _context9.t0 === a.PC_REMOVE_TRACK_API_NAME ? 175 : _context9.t0 === a.CREATE_OFFER_API_NAME ? 183 : _context9.t0 === a.CREATE_ANSWER_API_NAME ? 193 : _context9.t0 === a.SET_LOCAL_DESCRIPTION_API_NAME ? 203 : _context9.t0 === a.SET_REMOTE_DESCRIPTION_API_NAME ? 213 : _context9.t0 === a.ADD_ICE_CANDIDATE_API_NAME ? 222 : _context9.t0 === a.ADD_PC_EVENT_LISTENER ? 228 : _context9.t0 === a.ADD_TRACK_EVENT_LISTENER ? 243 : _context9.t0 === a.ADD_WORKER_EVENT_LISTENER ? 255 : _context9.t0 === a.ADD_DTMF_EVENT_LISTENER ? 270 : _context9.t0 === a.CREATE_MEDIA_ELEMENT_API_NAME ? 280 : _context9.t0 === a.MEDIA_ELEMENT_SET_SINK_ID_API_NAME ? 285 : _context9.t0 === a.SET_MEDIA_SRC_OBJ_API_NAME ? 291 : _context9.t0 === a.MEDIA_ELEMENT_MUTED ? 293 : _context9.t0 === a.SET_MEDIA_HIDDEN_API_NAME ? 295 : _context9.t0 === a.SET_MEDIA_VOLUME_API_NAME ? 297 : _context9.t0 === a.MEDIA_ELEMENT_PLAY_API_NAME ? 299 : _context9.t0 === a.MEDIA_ELEMENT_PAUSE_API_NAME ? 301 : _context9.t0 === a.MEDIA_ELEMENT_REMOVE ? 303 : _context9.t0 === a.TOGGLE_TRACK_ENABLED_API_NAME ? 305 : _context9.t0 === a.TRACK_STOP_API_NAME ? 307 : _context9.t0 === a.TRACK_GET_SETTINGS ? 309 : _context9.t0 === a.SENDER_CREATE_ENCODED_STREAMS ? 311 : _context9.t0 === a.RECEIVER_CREATE_ENCODED_STREAMS ? 316 : _context9.t0 === a.UNLOAD_EVENT_NAME ? 321 : 323;
                                    break;

                                case 4:
                                    return _context9.abrupt("return", { version: this.version, platform: "web", userAgent: navigator.userAgent });

                                case 5:
                                    _n12 = (0, _slicedToArray3.default)(n, 1);
                                    _e16 = _n12[0];
                                    _context9.next = 9;
                                    return navigator.mediaDevices.getUserMedia(_e16);

                                case 9:
                                    _t17 = _context9.sent;
                                    return _context9.abrupt("return", this.makeStreamTO(_t17));

                                case 11:
                                    _context9.next = 13;
                                    return navigator.mediaDevices.enumerateDevices();

                                case 13:
                                    _context9.t1 = function (e) {
                                        return e.toJSON();
                                    };

                                    return _context9.abrupt("return", _context9.sent.map(_context9.t1));

                                case 15:
                                    _n13 = (0, _slicedToArray3.default)(n, 2), _e17 = _n13[0], _t18 = _n13[1], _r12 = this.streams.get(_e17), _i8 = this.tracks.get(_t18);
                                    return _context9.abrupt("return", (_r12 && _i8 && _r12.addTrack(_i8), {}));

                                case 17:
                                    _n14 = (0, _slicedToArray3.default)(n, 2), _e18 = _n14[0], _t19 = _n14[1], _r13 = this.streams.get(_e18), _i9 = this.tracks.get(_t19);
                                    return _context9.abrupt("return", (_r13 && _i9 && _r13.removeTrack(_i9), {}));

                                case 19:
                                    _n15 = (0, _slicedToArray3.default)(n, 1);
                                    _e19 = _n15[0];
                                    _context9.next = 23;
                                    return RTCPeerConnection.generateCertificate(_e19);

                                case 23:
                                    _r14 = _context9.sent;
                                    return _context9.abrupt("return", (this.certs.set(t, _r14), { type: "proxy", id: t, expires: _r14.expires, fingerprints: _r14.getFingerprints() }));

                                case 25:
                                    _n16 = (0, _slicedToArray3.default)(n, 3), _e20 = _n16[0], _t20 = _n16[1], _i10 = _n16[2];
                                    if (_t20 && _t20.certificates) {
                                        _e21 = _t20.certificates.map(function (e) {
                                            return r.certs.get(e.id);
                                        });
                                        _t20.certificates = _e21;
                                    }_s3 = new RTCPeerConnection(_t20, _i10);
                                    this.pcs.set(_e20, _s3), this.pcPromises.has(_e20) && (this.pcPromises.get(_e20).forEach(function (e) {
                                        e.resolve(e);
                                    }), this.pcPromises.set(_e20, []));_a3 = { type: "proxy", pcId: _e20 };
                                    return _context9.abrupt("return", (this.gatherPeerConnectionState(_a3, _s3), _a3));

                                case 31:
                                    _n17 = (0, _slicedToArray3.default)(n, 1), _e22 = _n17[0];
                                    _context9.next = 34;
                                    return this.getPeerConnection(_e22);

                                case 34:
                                    return _context9.abrupt("return", _context9.sent.getConfiguration());

                                case 35:
                                    _n18 = (0, _slicedToArray3.default)(n, 4), _e23 = _n18[0], _t21 = _n18[1], _r15 = _n18[2], _i11 = _n18[3], _s4 = g(_r15), _a4 = new Blob([_s4], { type: _t21 }), _o2 = URL.createObjectURL(_a4), _d2 = new Worker(_o2, _i11);
                                    return _context9.abrupt("return", (this.workers.set(_e23, _d2), this.workerPromises.has(_e23) && (this.workerPromises.get(_e23).forEach(function (e) {
                                        e.resolve(_d2);
                                    }), this.workerPromises.set(_e23, [])), { type: "proxy", id: _e23 }));

                                case 37:
                                    _n19 = (0, _slicedToArray3.default)(n, 1), _e24 = _n19[0];
                                    return _context9.abrupt("return", (this.workers.has(_e24) && (this.workers.get(_e24).terminate(), this.workerPromises.has(_e24) && this.workerPromises.get(_e24).forEach(function (e) {
                                        e.reject(null);
                                    }), this.workerPromises.delete(_e24), this.workers.delete(_e24)), {}));

                                case 39:
                                    _n20 = (0, _slicedToArray3.default)(n, 3);
                                    _e25 = _n20[0];
                                    _t22 = _n20[1];
                                    _i12 = _n20[2];
                                    _context9.next = 45;
                                    return this.getWorker(_e25);

                                case 45:
                                    _s5 = _context9.sent;
                                    return _context9.abrupt("return", (this.logger.debug("Message before traversing: ", JSON.stringify(_t22)), this.traverse(_t22, function (e, t, n) {
                                        "proxy" === n.type && n.id && (e[t] = r.findProxySubject(n.id));
                                    }), this.logger.debug("Message after traversing: ", _t22), this.logger.debug("Options before traversing: ", JSON.stringify(_i12)), this.traverse(_i12, function (e, t, n) {
                                        "proxy" === n.type && n.id && (e[t] = r.findProxySubject(n.id));
                                    }), this.logger.debug("Options after traversing: ", _i12), _s5.postMessage(_t22, _i12), { type: "proxy", id: _e25 }));

                                case 47:
                                    _n21 = (0, _slicedToArray3.default)(n, 2), _e26 = _n21[0], _t23 = _n21[1], _r16 = new AudioContext();
                                    return _context9.abrupt("return", (this.audioContexts.set(_e26, _r16), this.audioNodes.set(_t23, _r16.destination), { type: "proxy", id: _e26, baseLatency: _r16.baseLatency, currentTime: _r16.currentTime, outputLatency: _r16.outputLatency, sampleRate: _r16.sampleRate, sinkId: _r16.sinkId, state: _r16.state }));

                                case 49:
                                    _n22 = (0, _slicedToArray3.default)(n, 4), _e27 = _n22[0], _t24 = _n22[1], _i13 = _n22[2], _s6 = _n22[3];

                                    if (!this.audioContexts.has(_e27)) {
                                        _context9.next = 58;
                                        break;
                                    }

                                    _n23 = this.audioContexts.get(_e27), _a5 = _n23["create" + _i13];
                                    _s6 = _s6.map(function (e) {
                                        return "proxy" === e.type ? r.findProxySubject(e.id) : e;
                                    });_o3 = _a5.apply(_n23, _s6);
                                    this.audioNodes.set(_t24, _o3);_d3 = null;
                                    if (_o3.stream) {
                                        _e28 = _o3.stream.getTracks().map(function (e) {
                                            return r.makeTrackTO(e, _t24);
                                        });
                                        _d3 = this.makeStreamTO(_o3.stream, _t24), _d3.tracks = _e28;
                                    }return _context9.abrupt("return", { id: _t24, channelCount: _o3.channelCount, channelCountMode: _o3.channelCountMode, channelInterpretation: _o3.channelInterpretation, numberOfInputs: _o3.numberOfInputs, numberOfOutputs: _o3.numberOfOutputs, fftSize: _o3.fftSize, frequencyBinCount: _o3.frequencyBinCount, maxDecibels: _o3.maxDecibels, minDecibels: _o3.minDecibels, smoothingTimeConstant: _o3.smoothingTimeConstant, stream: _d3 });

                                case 58:
                                    return _context9.abrupt("return", {});

                                case 59:
                                    _n24 = (0, _slicedToArray3.default)(n, 1), _e29 = _n24[0];
                                    if (this.audioContexts.has(_e29)) {
                                        this.audioContexts.get(_e29).close(), this.audioContexts.delete(_e29);
                                    }return _context9.abrupt("return", {});

                                case 62:
                                    _n25 = (0, _slicedToArray3.default)(n, 4), _e30 = _n25[0], _t25 = _n25[1], _r17 = _n25[2], _i14 = _n25[3], _s7 = this.audioNodes.get(_e30), _a6 = this.findProxySubject(_t25.id);
                                    return _context9.abrupt("return", (_s7 && _a6 && _s7.connect(_a6, _r17 || 0, _i14 || 0), {}));

                                case 64:
                                    _n26 = (0, _slicedToArray3.default)(n, 4), _e31 = _n26[0], _t26 = _n26[1], _r18 = _n26[2], _i15 = _n26[3], _s8 = this.audioNodes.get(_e31), _a7 = this.findProxySubject(_t26.id);
                                    return _context9.abrupt("return", (_s8 && _a7 && _s8.disconnect(_a7, _r18 || 0, _i15 || 0), {}));

                                case 66:
                                    _n27 = (0, _slicedToArray3.default)(n, 2), _e32 = _n27[0], _t27 = _n27[1];
                                    if (this.audioNodes.has(_e32)) {
                                        this.audioNodes.get(_e32).type = _t27;
                                    }return _context9.abrupt("return", {});

                                case 69:
                                    _n28 = (0, _slicedToArray3.default)(n, 2), _e33 = _n28[0], _t28 = _n28[1];
                                    if (this.audioNodes.has(_e33)) {
                                        this.audioNodes.get(_e33).start(_t28);
                                    }return _context9.abrupt("return", {});

                                case 72:
                                    _n29 = (0, _slicedToArray3.default)(n, 2), _e34 = _n29[0], _t29 = _n29[1];
                                    if (this.audioNodes.has(_e34)) {
                                        this.audioNodes.get(_e34).stop(_t29);
                                    }return _context9.abrupt("return", {});

                                case 75:
                                    _n30 = (0, _slicedToArray3.default)(n, 3), _e35 = _n30[0], _t30 = _n30[1], _r19 = _n30[2];
                                    if (this.audioNodes.has(_e35)) {
                                        _n31 = this.audioNodes.get(_e35);
                                        _n31.gain ? _n31.gain.setValueAtTime(_t30, _r19 || _n31.context.currentTime) : _n31.frequency && _n31.frequency.setValueAtTime(_t30, _r19 || _n31.context.currentTime);
                                    }return _context9.abrupt("return", {});

                                case 78:
                                    _n32 = (0, _slicedToArray3.default)(n, 3), _e36 = _n32[0], _t31 = _n32[1], _r20 = _n32[2];
                                    if (this.audioNodes.has(_e36)) {
                                        _n33 = this.audioNodes.get(_e36);
                                        _n33.frequency && _n33.frequency.linearRampToValueAtTime(_t31, _r20 || _n33.context.currentTime);
                                    }return _context9.abrupt("return", {});

                                case 81:
                                    _n34 = (0, _slicedToArray3.default)(n, 1), _e37 = _n34[0];
                                    _context9.t2 = _e37;
                                    _context9.next = 85;
                                    return this.getPeerConnection(_e37);

                                case 85:
                                    _context9.t3 = function (e) {
                                        return r.makeReceiverTO(e);
                                    };

                                    _context9.t4 = _context9.sent.getReceivers().map(_context9.t3);
                                    return _context9.abrupt("return", {
                                        pcId: _context9.t2,
                                        receivers: _context9.t4
                                    });

                                case 88:
                                    _n35 = (0, _slicedToArray3.default)(n, 1), _e38 = _n35[0];
                                    _context9.t5 = _e38;
                                    _context9.next = 92;
                                    return this.getPeerConnection(_e38);

                                case 92:
                                    _context9.t6 = function (e) {
                                        return r.makeSenderTO(e);
                                    };

                                    _context9.t7 = _context9.sent.getSenders().map(_context9.t6);
                                    return _context9.abrupt("return", {
                                        pcId: _context9.t5,
                                        senders: _context9.t7
                                    });

                                case 95:
                                    _n36 = (0, _slicedToArray3.default)(n, 4), _e39 = _n36[0], _t32 = _n36[1], _r21 = _n36[2], _i16 = _n36[3], _s9 = this.dtmfSenders.get(_e39);
                                    return _context9.abrupt("return", (_s9 && _s9.insertDTMF(_t32, _r21, _i16), {}));

                                case 97:
                                    _n37 = (0, _slicedToArray3.default)(n, 1);
                                    _e40 = _n37[0];
                                    _context9.next = 101;
                                    return this.getPeerConnection(_e40);

                                case 101:
                                    _t33 = _context9.sent.getTransceivers();
                                    return _context9.abrupt("return", (_t33 = _t33.map(function (e) {
                                        return e.id = e.id ? e.id : crypto.randomUUID(), r.makeTransceiverTO(e);
                                    }), { pcId: _e40, transceivers: _t33 }));

                                case 103:
                                    return _context9.abrupt("return", {});

                                case 104:
                                    _n38 = (0, _toArray3.default)(n);
                                    _e41 = _n38[0];
                                    _t34 = _n38[1];
                                    _i17 = _n38[2];
                                    _s10 = _n38.slice(3);
                                    _context9.next = 111;
                                    return this.getPeerConnection(_t34);

                                case 111:
                                    _a8 = _context9.sent;
                                    _o4 = [];
                                    _s10.forEach(function (e) {
                                        var t = r.streams.get(e.proxy.id);t && _o4.push(t);
                                    });_d4 = this.tracks.get(_i17.id);

                                    if (!_d4) {
                                        _context9.next = 120;
                                        break;
                                    }

                                    _n39 = [_d4].concat(_o4), _i18 = _a8.addTrack.apply(_a8, _n39);
                                    _i18.id = _e41;_s11 = this.makeSenderTO(_i18);
                                    return _context9.abrupt("return", (_s11.pcId = _t34, _s11.senders = _a8.getSenders().map(function (e) {
                                        return r.makeSenderTO(e);
                                    }), _s11.receivers = _a8.getReceivers().map(function (e) {
                                        return r.makeReceiverTO(e);
                                    }), _s11.transceivers = _a8.getTransceivers().map(function (e) {
                                        return r.makeTransceiverTO(e);
                                    }), _s11));

                                case 120:
                                    return _context9.abrupt("return", {});

                                case 121:
                                    _n40 = (0, _slicedToArray3.default)(n, 4);
                                    _e42 = _n40[0];
                                    _t35 = _n40[1];
                                    _i19 = _n40[2];
                                    _s12 = _n40[3];
                                    _context9.next = 128;
                                    return this.getPeerConnection(_e42);

                                case 128:
                                    _a9 = _context9.sent;
                                    if ("string" != typeof _i19 && (_i19 = this.tracks.get(_i19.id)), _s12 && _s12.streams) {
                                        _e43 = [];
                                        _s12.streams.forEach(function (t) {
                                            if (t.proxy) {
                                                var _n41 = r.streams.get(t.proxy.id);_e43.push(_n41);
                                            }
                                        }), _s12.streams = _e43;
                                    }_o5 = _a9.addTransceiver(_i19, _s12);
                                    _o5.id = _t35.id, this.transceivers.set(_t35.id, _o5), _o5.sender && (_o5.sender.id = _t35.sender.id, this.senders.set(_t35.sender.id, _o5.sender)), _o5.receiver && (_o5.receiver.id = _t35.receiver.id, this.receivers.set(_t35.receiver.id, _o5.receiver));_d5 = this.makeTransceiverTO(_o5);
                                    return _context9.abrupt("return", (_d5.pcId = _e42, _d5.senders = _a9.getSenders().map(function (e) {
                                        return r.makeSenderTO(e);
                                    }), _d5.receivers = _a9.getReceivers().map(function (e) {
                                        return r.makeReceiverTO(e);
                                    }), _d5.transceivers = _a9.getTransceivers().map(function (e) {
                                        return r.makeTransceiverTO(e);
                                    }), _d5));

                                case 134:
                                    _n42 = (0, _slicedToArray3.default)(n, 1), _e44 = _n42[0];
                                    return _context9.abrupt("return", (this.closePeerConnection(_e44), {}));

                                case 136:
                                    _n43 = (0, _slicedToArray3.default)(n, 2), _e45 = _n43[0], _t36 = _n43[1], _r22 = this.streams.get(_t36.id);
                                    _context9.next = 139;
                                    return this.getPeerConnection(_e45);

                                case 139:
                                    _context9.t8 = _r22;

                                    _context9.sent.addStream(_context9.t8);

                                    return _context9.abrupt("return", _t36);

                                case 142:
                                    _n44 = (0, _slicedToArray3.default)(n, 2);
                                    _e46 = _n44[0];
                                    _t37 = _n44[1];
                                    _context9.next = 147;
                                    return this.getPeerConnection(_e46);

                                case 147:
                                    _r23 = _context9.sent;
                                    _context9.next = 150;
                                    return _r23.getStats(_t37);

                                case 150:
                                    _i20 = _context9.sent;
                                    _s13 = [];
                                    return _context9.abrupt("return", (_i20.forEach(function (e) {
                                        var t = Object.assign({}, e);_s13.push(t);
                                    }), _s13));

                                case 153:
                                    _n45 = (0, _slicedToArray3.default)(n, 1), _e47 = _n45[0];

                                    if (!this.senders.has(_e47)) {
                                        _context9.next = 160;
                                        break;
                                    }

                                    _context9.next = 157;
                                    return this.senders.get(_e47).getStats();

                                case 157:
                                    _t38 = _context9.sent;
                                    _n46 = [];
                                    return _context9.abrupt("return", (_t38.forEach(function (e) {
                                        var t = Object.assign({}, e);_n46.push(t);
                                    }), _n46));

                                case 160:
                                    return _context9.abrupt("return", []);

                                case 161:
                                    _n47 = (0, _slicedToArray3.default)(n, 1), _e48 = _n47[0];

                                    if (!this.receivers.has(_e48)) {
                                        _context9.next = 168;
                                        break;
                                    }

                                    _context9.next = 165;
                                    return this.receivers.get(_e48).getStats();

                                case 165:
                                    _t39 = _context9.sent;
                                    _n48 = [];
                                    return _context9.abrupt("return", (_t39.forEach(function (e) {
                                        var t = { id: e.id ? e.id : crypto.randomUUID(), type: e.type, concealedSamples: e.concealedSamples };_n48.push(t);
                                    }), _n48));

                                case 168:
                                    return _context9.abrupt("return", {});

                                case 169:
                                    _n49 = (0, _slicedToArray3.default)(n, 2), _e49 = _n49[0], _t40 = _n49[1], _r24 = this.senders.get(_e49), _i21 = _t40 ? this.tracks.get(_t40.id) : null;
                                    _context9.t9 = _i21 && _r24;

                                    if (!_context9.t9) {
                                        _context9.next = 174;
                                        break;
                                    }

                                    _context9.next = 174;
                                    return _r24.replaceTrack(_i21);

                                case 174:
                                    return _context9.abrupt("return", {});

                                case 175:
                                    _n50 = (0, _slicedToArray3.default)(n, 2);
                                    _e50 = _n50[0];
                                    _t41 = _n50[1];
                                    _context9.next = 180;
                                    return this.getPeerConnection(_e50);

                                case 180:
                                    _r25 = _context9.sent;
                                    _i22 = this.senders.get(_t41.id);
                                    return _context9.abrupt("return", (_i22 && _r25.removeTrack(_i22), {}));

                                case 183:
                                    _n51 = (0, _slicedToArray3.default)(n, 2);
                                    _e51 = _n51[0];
                                    _r26 = _n51[1];
                                    _context9.next = 188;
                                    return this.getPeerConnection(_e51);

                                case 188:
                                    _i23 = _context9.sent;
                                    _context9.next = 191;
                                    return _i23.createOffer(_r26);

                                case 191:
                                    _s14 = _context9.sent;
                                    return _context9.abrupt("return", (this.offers.set(t, _s14), { id: t, type: _s14.type, sdp: _s14.sdp }));

                                case 193:
                                    _n52 = (0, _slicedToArray3.default)(n, 2);
                                    _e52 = _n52[0];
                                    _r27 = _n52[1];
                                    _context9.next = 198;
                                    return this.getPeerConnection(_e52);

                                case 198:
                                    _i24 = _context9.sent;
                                    _context9.next = 201;
                                    return _i24.createAnswer(_r27);

                                case 201:
                                    _s15 = _context9.sent;
                                    return _context9.abrupt("return", (this.answers.set(t, _s15), { id: t, type: _s15.type, sdp: _s15.sdp }));

                                case 203:
                                    _n53 = (0, _slicedToArray3.default)(n, 2), _e53 = _n53[0], _t42 = _n53[1], _r28 = "offer" === _t42.type ? this.offers : this.answers, _i25 = _t42.id ? _r28.get(_t42.id) : _t42;

                                    if (!_i25) {
                                        _context9.next = 212;
                                        break;
                                    }

                                    _i25.sdp = _t42.sdp;_context9.next = 208;
                                    return this.getPeerConnection(_e53);

                                case 208:
                                    _n54 = _context9.sent;
                                    _context9.next = 211;
                                    return _n54.setLocalDescription(_i25);

                                case 211:
                                    return _context9.abrupt("return", _t42);

                                case 212:
                                    return _context9.abrupt("return", {});

                                case 213:
                                    _n55 = (0, _slicedToArray3.default)(n, 2);
                                    _e54 = _n55[0];
                                    _t43 = _n55[1];
                                    _context9.next = 218;
                                    return this.getPeerConnection(_e54);

                                case 218:
                                    _r29 = _context9.sent;
                                    _context9.next = 221;
                                    return _r29.setRemoteDescription(_t43);

                                case 221:
                                    return _context9.abrupt("return", _t43);

                                case 222:
                                    _n56 = (0, _slicedToArray3.default)(n, 2), _e55 = _n56[0], _t44 = _n56[1], _r30 = _t44 ? new RTCIceCandidate({ sdpMLineIndex: _t44.sdpMLineIndex, candidate: _t44.candidate }) : null;
                                    _context9.next = 225;
                                    return this.getPeerConnection(_e55);

                                case 225:
                                    _context9.t10 = _r30;

                                    _context9.sent.addIceCandidate(_context9.t10);

                                    return _context9.abrupt("return", _t44);

                                case 228:
                                    _n57 = (0, _slicedToArray3.default)(n, 2);
                                    _e56 = _n57[0];
                                    _i26 = _n57[1];
                                    _context9.next = 233;
                                    return this.getPeerConnection(_e56);

                                case 233:
                                    _s16 = _context9.sent;

                                    if (!(_s16.pendingEvents || (_s16.pendingEvents = new Map()), _s16.eventPromises || (_s16.eventPromises = new Map()), _s16.pendingEvents.has(_i26))) {
                                        _context9.next = 241;
                                        break;
                                    }

                                    _context9.next = 237;
                                    return this.getPendingEvent(_s16, _i26);

                                case 237:
                                    _e57 = _context9.sent;
                                    this.sendEvent(a.ADD_PC_EVENT_LISTENER, t, _e57);_context9.next = 242;
                                    break;

                                case 241:
                                    if (!_s16[_i26]) {
                                        _n58 = function _n58(n) {
                                            var i = null;if (n.type === o.ICE_CANDIDATE) {
                                                r.logger.debug("event: ", n);var _t45 = n.candidate,
                                                    _a10 = null;_t45 && (_a10 = { sdpMLineIndex: _t45.sdpMLineIndex, sdpMid: _t45.sdpMid, candidate: _t45.candidate, type: _t45.type, foundation: _t45.foundation, protocol: _t45.protocol, address: _t45.address, port: _t45.port, priority: _t45.priority, url: _t45.url, relayProtocol: _t45.relayProtocol, component: _t45.compoonent, relatedAddress: _t45.relatedAddress, relatedPort: _t45.relatedPort, tcpType: _t45.tcpType, usernameFragment: _t45.usernameFragment }), i = { pcId: _e56, eventName: n.type, type: "proxy", candidate: _a10 }, r.gatherPeerConnectionState(i, _s16);
                                            } else n.type === o.SIG_STATE_CHANGE ? (i = { pcId: _e56, eventName: n.type, type: "proxy" }, r.gatherPeerConnectionState(i, _s16)) : n.type === o.TRACK ? (i = { pcId: _e56, eventName: n.type, type: "proxy", streams: [], senders: [], receivers: [], track: r.makeTrackTO(n.track) }, i.streams = n.streams.map(function (e) {
                                                return r.makeStreamTO(e);
                                            }), r.gatherPeerConnectionState(i, _s16)) : n.type === o.CONN_STATE_CHANGE || n.type === o.ICE_CONN_STATE_CHANGE || n.type === o.ICE_GATHER_STATE_CHANGE || n.type === o.NEGOTIATION_NEEDED ? (i = { pcId: _e56, eventName: n.type, type: "proxy" }, r.gatherPeerConnectionState(i, _s16)) : r.logger.warn("Ignored event, type: " + n.type + ", event: " + JSON.stringify(n));i && r.processPendingEvents(_s16, n, i, a.ADD_PC_EVENT_LISTENER, t);
                                        };

                                        _s16[_i26] = _n58, _s16.addEventListener(_i26, _n58);
                                    }

                                case 242:
                                    return _context9.abrupt("return", null);

                                case 243:
                                    _n59 = (0, _slicedToArray3.default)(n, 3), _e58 = _n59[0], _i27 = _n59[1], _s17 = _n59[2], _o6 = this.tracks.get(_e58);

                                    if (!_o6) {
                                        _context9.next = 254;
                                        break;
                                    }

                                    if (!(_o6.pendingEvents || (_o6.pendingEvents = new Map()), _o6.eventPromises || (_o6.eventPromises = new Map()), _o6.pendingEvents.has(_i27))) {
                                        _context9.next = 252;
                                        break;
                                    }

                                    _context9.next = 248;
                                    return this.getPendingEvent(_o6, _i27);

                                case 248:
                                    _e59 = _context9.sent;
                                    this.sendEvent(a.ADD_TRACK_EVENT_LISTENER, t, _e59);_context9.next = 253;
                                    break;

                                case 252:
                                    if (!_o6[_i27]) {
                                        _n60 = function _n60(n) {
                                            if (Object.values(d).includes(_i27)) {
                                                var _i28 = { trackId: _e58, eventName: n.type, type: "proxy" };_i28 && r.processPendingEvents(_o6, n, _i28, a.ADD_TRACK_EVENT_LISTENER, t);
                                            } else r.logger.warn("Ignored event: " + JSON.stringify(n));
                                        };

                                        _o6[_i27] = _n60, _o6.addEventListener(_i27, _n60, _s17);
                                    }

                                case 253:
                                    return _context9.abrupt("return", null);

                                case 254:
                                    return _context9.abrupt("return", {});

                                case 255:
                                    _n61 = (0, _slicedToArray3.default)(n, 2);
                                    _e60 = _n61[0];
                                    _i29 = _n61[1];
                                    _context9.next = 260;
                                    return this.getWorker(_e60);

                                case 260:
                                    _s18 = _context9.sent;

                                    if (!(_s18.pendingEvents || (_s18.pendingEvents = new Map()), _s18.eventPromises || (_s18.eventPromises = new Map()), _s18.pendingEvents.has(_i29))) {
                                        _context9.next = 268;
                                        break;
                                    }

                                    _context9.next = 264;
                                    return this.getPendingEvent(_s18, _i29);

                                case 264:
                                    _e61 = _context9.sent;
                                    this.sendEvent(a.ADD_WORKER_EVENT_LISTENER, t, _e61);_context9.next = 269;
                                    break;

                                case 268:
                                    if (!_s18[_i29]) {
                                        _n62 = function _n62(n) {
                                            if (r.logger.debug("Received event: ", n), Object.values(l).includes(_i29)) {
                                                var _i30 = { wId: _e60, eventName: n.type, type: "proxy", data: n.data };_i30 && r.processPendingEvents(_s18, n, _i30, a.ADD_WORKER_EVENT_LISTENER, t);
                                            } else r.logger.warn("Ignored event: " + JSON.stringify(n), n);
                                        };

                                        _s18[_i29] = _n62, _s18.addEventListener(_i29, _n62);
                                    }

                                case 269:
                                    return _context9.abrupt("return", null);

                                case 270:
                                    _n63 = (0, _slicedToArray3.default)(n, 3), _e62 = _n63[0], _i31 = _n63[1], _s19 = _n63[2], _o7 = this.dtmfSenders.get(_e62);

                                    if (!(_o7.pendingEvents || (_o7.pendingEvents = new Map()), _o7.eventPromises || (_o7.eventPromises = new Map()), _o7.pendingEvents.has(_i31))) {
                                        _context9.next = 278;
                                        break;
                                    }

                                    _context9.next = 274;
                                    return this.getPendingEvent(_o7, _i31);

                                case 274:
                                    _e63 = _context9.sent;
                                    this.sendEvent(a.ADD_DTMF_EVENT_LISTENER, t, _e63);_context9.next = 279;
                                    break;

                                case 278:
                                    if (!_o7[_i31]) {
                                        _n64 = function _n64(n) {
                                            if (Object.values(c).includes(_i31)) {
                                                var _i32 = { dtmfId: _e62, eventName: n.type, type: n.type, tone: n.tone };r.processPendingEvents(_o7, n, _i32, a.ADD_DTMF_EVENT_LISTENER, t);
                                            } else r.logger.warn("Ignored event: " + JSON.stringify(n));
                                        };

                                        _o7[_i31] = _n64, _o7.addEventListener(_i31, _n64, _s19);
                                    }

                                case 279:
                                    return _context9.abrupt("return", null);

                                case 280:
                                    _n65 = (0, _slicedToArray3.default)(n, 2), _e64 = _n65[0], _t46 = _n65[1];

                                    if (!("audio" !== _t46.kind && "video" !== _t46.kind)) {
                                        _context9.next = 283;
                                        break;
                                    }

                                    return _context9.abrupt("return", (this.logger.warn("Invalid media type: " + JSON.stringify(_t46)), null));

                                case 283:
                                    _r31 = document.createElement(_t46.kind);
                                    return _context9.abrupt("return", (Object.assign(_r31, _t46), document.body.appendChild(_r31), this.mediaElements.set(_e64, _r31), { id: _e64, sinkId: _r31.sinkId }));

                                case 285:
                                    _n66 = (0, _slicedToArray3.default)(n, 2), _e65 = _n66[0], _t47 = _n66[1], _r32 = this.mediaElements.get(_e65);

                                    if (!_r32) {
                                        _context9.next = 290;
                                        break;
                                    }

                                    _context9.next = 289;
                                    return _r32.setSinkId(_t47);

                                case 289:
                                    return _context9.abrupt("return", { id: _e65, sinkId: _r32.sinkId });

                                case 290:
                                    return _context9.abrupt("return", {});

                                case 291:
                                    _n67 = (0, _slicedToArray3.default)(n, 2), _e66 = _n67[0], _t48 = _n67[1], _r33 = _t48 ? this.getStream(_t48.id) : null;
                                    return _context9.abrupt("return", (this.mediaElements.has(_e66) && (this.mediaElements.get(_e66).srcObject = _r33), {}));

                                case 293:
                                    _n68 = (0, _slicedToArray3.default)(n, 2), _e67 = _n68[0], _t49 = _n68[1];
                                    return _context9.abrupt("return", (this.mediaElements.has(_e67) && (this.mediaElements.get(_e67).muted = _t49), { id: _e67, muted: _t49 }));

                                case 295:
                                    _n69 = (0, _slicedToArray3.default)(n, 2), _e68 = _n69[0], _t50 = _n69[1], _r34 = this.mediaElements.get(_e68);
                                    return _context9.abrupt("return", (_r34 && (_r34.hidden = _t50), {}));

                                case 297:
                                    _n70 = (0, _slicedToArray3.default)(n, 2), _e69 = _n70[0], _t51 = _n70[1];
                                    return _context9.abrupt("return", (this.mediaElements.has(_e69) && (this.mediaElements.get(_e69).volume = _t51), {}));

                                case 299:
                                    _n71 = (0, _slicedToArray3.default)(n, 1), _e70 = _n71[0];
                                    return _context9.abrupt("return", (this.mediaElements.has(_e70) && this.mediaElements.get(_e70).play(), {}));

                                case 301:
                                    _n72 = (0, _slicedToArray3.default)(n, 1), _e71 = _n72[0];
                                    return _context9.abrupt("return", (this.mediaElements.has(_e71) && this.mediaElements.get(_e71).pause(), {}));

                                case 303:
                                    _n73 = (0, _slicedToArray3.default)(n, 1), _e72 = _n73[0];
                                    return _context9.abrupt("return", (this.mediaElements.has(_e72) && (this.mediaElements.get(_e72).remove(), this.mediaElements.delete(_e72)), {}));

                                case 305:
                                    _n74 = (0, _slicedToArray3.default)(n, 2), _e73 = _n74[0], _t52 = _n74[1], _r35 = this.tracks.get(_e73);
                                    return _context9.abrupt("return", _r35 ? (_r35.enabled = _t52, this.makeTrackTO(_r35)) : {});

                                case 307:
                                    _n75 = (0, _slicedToArray3.default)(n, 1), _e74 = _n75[0], _t53 = this.tracks.get(_e74);
                                    return _context9.abrupt("return", (_t53 && (_t53.stop(), this.tracks.delete(_e74)), {}));

                                case 309:
                                    _n76 = (0, _slicedToArray3.default)(n, 1), _e75 = _n76[0], _t54 = this.tracks.get(_e75);
                                    return _context9.abrupt("return", _t54 ? _t54.getSettings() : {});

                                case 311:
                                    _n77 = (0, _slicedToArray3.default)(n, 2), _e76 = _n77[0], _t55 = _n77[1];

                                    if (!this.senders.has(_e76)) {
                                        _context9.next = 315;
                                        break;
                                    }

                                    _n78 = this.senders.get(_e76).createEncodedStreams();
                                    return _context9.abrupt("return", (this.streams.set(_t55.id, _n78), this.streams.set(_t55.readable.id, _n78.readable), this.streams.set(_t55.writable.id, _n78.writable), _t55));

                                case 315:
                                    return _context9.abrupt("return", {});

                                case 316:
                                    _n79 = (0, _slicedToArray3.default)(n, 2), _e77 = _n79[0], _t56 = _n79[1];

                                    if (!this.receivers.has(_e77)) {
                                        _context9.next = 320;
                                        break;
                                    }

                                    _n80 = this.receivers.get(_e77).createEncodedStreams();
                                    return _context9.abrupt("return", (this.streams.set(_t56.id, _n80), this.streams.set(_t56.readable.id, _n80.readable), this.streams.set(_t56.writable.id, _n80.writable), _t56));

                                case 320:
                                    return _context9.abrupt("return", {});

                                case 321:
                                    _n81 = (0, _slicedToArray3.default)(n, 1), _e78 = _n81[0];
                                    return _context9.abrupt("return", (_e78.pcIds.forEach(function (e) {
                                        r.closePeerConnection(e);
                                    }), _e78.streamIds.forEach(function (e) {
                                        var t = r.streams.get(e);t && ("function" == typeof t.getTracks && t.getTracks().forEach(function (e) {
                                            e.stop();
                                        }), r.streams.delete(e));
                                    }), _e78.trackIds.forEach(function (e) {
                                        r.tracks.delete(e);
                                    }), _e78.workerIds.forEach(function (e) {
                                        var t = r.workers.get(e);t && t.terminate(), r.workers.delete(e);
                                    }), _e78.mediaElementIds.forEach(function (e) {
                                        var t = r.mediaElements.get(e);t && (t.remove(), r.mediaElements.delete(e));
                                    }), _e78.transceiverIds.forEach(function (e) {
                                        r.transceivers.delete(e);
                                    }), _e78.senderIds.forEach(function (e) {
                                        r.senders.delete(e);
                                    }), _e78.receiverIds.forEach(function (e) {
                                        r.receivers.delete(e);
                                    }), {}));

                                case 323:
                                    return _context9.abrupt("return", null);

                                case 324:
                                case "end":
                                    return _context9.stop();
                            }
                        }
                    }, _callee9, this);
                }));

                function callWebRTCApi(_x10, _x11, _x12) {
                    return _ref9.apply(this, arguments);
                }

                return callWebRTCApi;
            }()
        }, {
            key: "sendMessage",
            value: function sendMessage(e) {
                this.logger.debug("Sending message: " + JSON.stringify(e));var t = e.message,
                    n = A.deflateRaw(JSON.stringify(t));e.message = n;var r = new TextEncoder().encode(JSON.stringify(e)),
                    i = r.byteLength,
                    s = new Uint8Array([i, i >> 8, i >> 16, i >> 24]);this.channel.sendMessage(s), this.channel.sendMessage(r);
            }
        }, {
            key: "sendEvent",
            value: function sendEvent(e, t, n) {
                var r = { requestId: t, type: "event", message: { api: e, event: n } };this.sendMessage(r);
            }
        }, {
            key: "sendResponse",
            value: function sendResponse(e, t, n) {
                var r = { requestId: t, type: "response", message: { api: e, response: n } };this.sendMessage(r);
            }
        }, {
            key: "sendError",
            value: function sendError(e, t, n) {
                var r = { requestId: t, type: "error", message: { api: e, error: n } };this.sendMessage(r);
            }
        }, {
            key: "handleWebRTCApi",
            value: function () {
                var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(e) {
                    var _t57;

                    return _regenerator2.default.wrap(function _callee10$(_context10) {
                        while (1) {
                            switch (_context10.prev = _context10.next) {
                                case 0:
                                    _context10.prev = 0;
                                    _context10.next = 3;
                                    return this.callWebRTCApi(e.message.api, e.requestId, e.message.args);

                                case 3:
                                    _t57 = _context10.sent;
                                    _t57 && this.sendResponse(e.message.api, e.requestId, _t57);_context10.next = 10;
                                    break;

                                case 7:
                                    _context10.prev = 7;
                                    _context10.t0 = _context10["catch"](0);
                                    this.logger.error("Error handling WebRTC API: " + JSON.stringify(e) + ", message: " + (_context10.t0.message ? _context10.t0.message : "(no message)") + ", error: " + JSON.stringify(_context10.t0)), this.logger.trace(_context10.t0), this.sendError(e.message.api, e.requestId, { name: _context10.t0.name, message: _context10.t0.message });
                                case 10:
                                case "end":
                                    return _context10.stop();
                            }
                        }
                    }, _callee10, this, [[0, 7]]);
                }));

                function handleWebRTCApi(_x13) {
                    return _ref10.apply(this, arguments);
                }

                return handleWebRTCApi;
            }()
        }, {
            key: "processPendingEvents",
            value: function processPendingEvents(e, t, n, r, i) {
                if (e.pendingEvents.has(t.type)) {
                    e.pendingEvents.get(t.type).push(n);var _r36 = e.eventPromises.get(t.type);_r36 && _r36.forEach(function (e) {
                        e.resolve(n);
                    });
                } else this.sendEvent(r, i, n), e.pendingEvents.set(t.type, []);
            }
        }, {
            key: "handleMessage",
            value: function handleMessage(e) {
                var t = e.message,
                    n = A.inflateRaw(t),
                    r = this.decoder.decode(n);e.message = JSON.parse(r), e.message.api && e.requestId && e.message.args ? this.handleWebRTCApi(e) : (this.logger.error("Invalid message format: " + JSON.stringify(e)), this.logger.trace(e));
            }
        }, {
            key: "onClose",
            value: function onClose(e) {
                this.logger.info("WebRTC redir custom channel closed: " + JSON.stringify(e) + "\""), this.release();
            }
        }, {
            key: "release",
            value: function release() {
                var e = this;this.streams.forEach(function (e) {
                    e.getTracks().forEach(function (e) {
                        e.stop();
                    });
                }), this.mediaElements.forEach(function (e) {
                    e.remove();
                }), this.pcs.forEach(function (t, n) {
                    e.closePeerConnection(n);
                }), this.certs.clear();
            }
        }]);
        return _class;
    }();
});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/slicedToArray":22,"babel-runtime/helpers/toArray":23,"babel-runtime/helpers/typeof":24,"babel-runtime/regenerator":27}],2:[function(require,module,exports){
(function (global){(function (){
//===============================================
// By using these Developer Materials, you accept and agree to comply with
// the terms of the Cloud Software Group Developer Terms of Use found here
// (https://www.cloud.com/legal)
//===============================================



var $jscomp={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return"jscomp_symbol_"+e+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();if(e[$jscomp.global.Symbol.iterator])return e[$jscomp.global.Symbol.iterator]();var l=0;return{next:function(){return l==e.length?{done:!0}:{done:!1,value:e[l++]}}}};
$jscomp.arrayFromIterator=function(e){for(var l,p=[];!(l=e.next()).done;)p.push(l.value);return p};$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};
$jscomp.inherits=function(e,l){function p(){}p.prototype=l.prototype;e.prototype=new p;e.prototype.constructor=e;for(var b in l)if($jscomp.global.Object.defineProperties){var a=$jscomp.global.Object.getOwnPropertyDescriptor(l,b);a&&$jscomp.global.Object.defineProperty(e,b,a)}else e[b]=l[b]};$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};
$jscomp.array.arrayIterator_=function(e,l){e instanceof String&&(e=String(e));var p=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var b={},a=(b.next=function(){if(p<e.length){var b=p++;return{value:l(b,e[b]),done:!1}}a.next=$jscomp.array.done_;return $jscomp.array.done_()},b[Symbol.iterator]=function(){return a},b);return a};
$jscomp.array.findInternal_=function(e,l,p){e instanceof String&&(e=String(e));for(var b=e.length,a=0;a<b;a++){var c=e[a];if(l.call(p,c,a,e))return{i:a,v:c}}return{i:-1,v:void 0}};
$jscomp.array.from=function(e,l,p){l=void 0===l?function(a){return a}:l;var b=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(e[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();e=e[Symbol.iterator]();for(var a;!(a=e.next()).done;)b.push(l.call(p,a.value))}else{a=e.length;for(var c=0;c<a;c++)b.push(l.call(p,e[c]))}return b};$jscomp.array.of=function(e){for(var l=[],p=0;p<arguments.length;++p)l[p-0]=arguments[p];return $jscomp.array.from(l)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(e,l){return[e,l]})};$jscomp.array.entries$install=function(){Array.prototype.entries||(Array.prototype.entries=$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(e){return e})};$jscomp.array.keys$install=function(){Array.prototype.keys||(Array.prototype.keys=$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(e,l){return l})};
$jscomp.array.values$install=function(){Array.prototype.values||(Array.prototype.values=$jscomp.array.values)};$jscomp.array.copyWithin=function(e,l,p){var b=this.length;e=Number(e);l=Number(l);p=Number(null!=p?p:b);if(e<l)for(p=Math.min(p,b);l<p;)l in this?this[e++]=this[l++]:(delete this[e++],l++);else for(p=Math.min(p,b+l-e),e+=p-l;p>l;)--p in this?this[--e]=this[p]:delete this[e];return this};$jscomp.array.copyWithin$install=function(){Array.prototype.copyWithin||(Array.prototype.copyWithin=$jscomp.array.copyWithin)};
$jscomp.array.fill=function(e,l,p){null!=p&&e.length||(p=this.length||0);p=Number(p);for(l=Number((void 0===l?0:l)||0);l<p;l++)this[l]=e;return this};$jscomp.array.fill$install=function(){Array.prototype.fill||(Array.prototype.fill=$jscomp.array.fill)};$jscomp.array.find=function(e,l){return $jscomp.array.findInternal_(this,e,l).v};$jscomp.array.find$install=function(){Array.prototype.find||(Array.prototype.find=$jscomp.array.find)};
$jscomp.array.findIndex=function(e,l){return $jscomp.array.findInternal_(this,e,l).i};$jscomp.array.findIndex$install=function(){Array.prototype.findIndex||(Array.prototype.findIndex=$jscomp.array.findIndex)};$jscomp.Map=function(e){e=void 0===e?[]:e;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(e){e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next())l=l.value,this.set(l[0],l[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var e=$jscomp.global.Map;if(!e||!e.prototype.entries||!Object.seal)return!1;try{var l=Object.seal({x:4}),p=new e($jscomp.makeIterator([[l,"s"]]));if("s"!=p.get(l)||1!=p.size||p.get({x:4})||p.set({x:4},"t")!=p||2!=p.size)return!1;var b=p.entries(),a=b.next();if(a.done||a.value[0]!=l||"s"!=a.value[1])return!1;a=b.next();return a.done||4!=a.value[0].x||"t"!=a.value[1]||!b.next().done?!1:!0}catch(c){return!1}};
$jscomp.Map.createHead_=function(){var e={};return e.previous=e.next=e.head=e};$jscomp.Map.getId_=function(e){if(!(e instanceof Object))return String(e);$jscomp.Map.key_ in e||e instanceof Object&&Object.isExtensible&&Object.isExtensible(e)&&$jscomp.Map.defineProperty_(e,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in e?e[$jscomp.Map.key_]:" "+e};
$jscomp.Map.prototype.set=function(e,l){var p=this.maybeGetEntry_(e),b=p.id,a=p.list,p=p.entry;a||(a=this.data_[b]=[]);p?p.value=l:(p={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:l},a.push(p),this.head_.previous.next=p,this.head_.previous=p,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(e){var l=this.maybeGetEntry_(e);e=l.id;var p=l.list,b=l.index;return(l=l.entry)&&p?(p.splice(b,1),p.length||delete this.data_[e],l.previous.next=l.next,l.next.previous=l.previous,l.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(e){return!!this.maybeGetEntry_(e).entry};
$jscomp.Map.prototype.get=function(e){return(e=this.maybeGetEntry_(e).entry)&&e.value};$jscomp.Map.prototype.maybeGetEntry_=function(e){var l=$jscomp.Map.getId_(e),p=this.data_[l];if(p)for(var b=0;b<p.length;b++){var a=p[b];if(e!==e&&a.key!==a.key||e===a.key)return{id:l,list:p,index:b,entry:a}}return{id:l,list:p,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(e){return[e.key,e.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(e){return e.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(e){return e.value})};$jscomp.Map.prototype.forEach=function(e,l){for(var p=$jscomp.makeIterator(this.entries()),b=p.next();!b.done;b=p.next())b=b.value,e.call(l,b[1],b[0],this)};
$jscomp.Map.prototype.iter_=function(e){var l=this,p=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var b={};return b.next=function(){if(p){for(;p.head!=l.head_;)p=p.previous;for(;p.next!=p.head;)return p=p.next,{done:!1,value:e(p)};p=null}return{done:!0,value:void 0}},b[Symbol.iterator]=function(){return this},b};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(e,l,p){Object.defineProperty(e,l,{value:String(p)})}:function(e,l,p){e[l]=String(p)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(e){e=Number(e)>>>0;if(0===e)return 32;var l=0;0===(e&4294901760)&&(e<<=16,l+=16);0===(e&4278190080)&&(e<<=8,l+=8);0===(e&4026531840)&&(e<<=4,l+=4);0===(e&3221225472)&&(e<<=2,l+=2);0===(e&2147483648)&&l++;return l};$jscomp.math.imul=function(e,l){e=Number(e);l=Number(l);var p=e&65535,b=l&65535;return p*b+((e>>>16&65535)*b+p*(l>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(e){e=Number(e);return 0===e||isNaN(e)?e:0<e?1:-1};
$jscomp.math.log10=function(e){return Math.log(e)/Math.LN10};$jscomp.math.log2=function(e){return Math.log(e)/Math.LN2};$jscomp.math.log1p=function(e){e=Number(e);if(.25>e&&-.25<e){for(var l=e,p=1,b=e,a=0,c=1;a!=b;)l*=e,c*=-1,b=(a=b)+c*l/++p;return b}return Math.log(1+e)};$jscomp.math.expm1=function(e){e=Number(e);if(.25>e&&-.25<e){for(var l=e,p=1,b=e,a=0;a!=b;)l*=e/++p,b=(a=b)+l;return b}return Math.exp(e)-1};$jscomp.math.cosh=function(e){e=Number(e);return(Math.exp(e)+Math.exp(-e))/2};
$jscomp.math.sinh=function(e){e=Number(e);return 0===e?e:(Math.exp(e)-Math.exp(-e))/2};$jscomp.math.tanh=function(e){e=Number(e);if(0===e)return e;var l=Math.exp(2*-Math.abs(e)),l=(1-l)/(1+l);return 0>e?-l:l};$jscomp.math.acosh=function(e){e=Number(e);return Math.log(e+Math.sqrt(e*e-1))};$jscomp.math.asinh=function(e){e=Number(e);if(0===e)return e;var l=Math.log(Math.abs(e)+Math.sqrt(e*e+1));return 0>e?-l:l};
$jscomp.math.atanh=function(e){e=Number(e);return($jscomp.math.log1p(e)-$jscomp.math.log1p(-e))/2};
$jscomp.math.hypot=function(e,l,p){for(var b=[],a=2;a<arguments.length;++a)b[a-2]=arguments[a];e=Number(e);l=Number(l);for(var c=Math.max(Math.abs(e),Math.abs(l)),Q=$jscomp.makeIterator(b),a=Q.next();!a.done;a=Q.next())c=Math.max(c,Math.abs(a.value));if(1E100<c||1E-100>c){e/=c;l/=c;Q=e*e+l*l;b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a=a.value,a=Number(a)/c,Q+=a*a;return Math.sqrt(Q)*c}c=e*e+l*l;b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a=a.value,a=Number(a),c+=
a*a;return Math.sqrt(c)};$jscomp.math.trunc=function(e){e=Number(e);if(isNaN(e)||Infinity===e||-Infinity===e||0===e)return e;var l=Math.floor(Math.abs(e));return 0>e?-l:l};$jscomp.math.cbrt=function(e){if(0===e)return e;e=Number(e);var l=Math.pow(Math.abs(e),1/3);return 0>e?-l:l};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(e){return"number"!==typeof e?!1:!isNaN(e)&&Infinity!==e&&-Infinity!==e};
$jscomp.number.isInteger=function(e){return $jscomp.number.isFinite(e)?e===Math.floor(e):!1};$jscomp.number.isNaN=function(e){return"number"===typeof e&&isNaN(e)};$jscomp.number.isSafeInteger=function(e){return $jscomp.number.isInteger(e)&&Math.abs(e)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(e,l){for(var p=[],b=1;b<arguments.length;++b)p[b-1]=arguments[b];p=$jscomp.makeIterator(p);for(b=p.next();!b.done;b=p.next())if(b=b.value)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(e[a]=b[a]);return e};$jscomp.object.is=function(e,l){return e===l?0!==e||1/e===1/l:e!==e&&l!==l};$jscomp.Set=function(e){e=void 0===e?[]:e;this.map_=new $jscomp.Map;if(e){e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next())this.add(l.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var e=$jscomp.global.Set;if(!e||!e.prototype.entries||!Object.seal)return!1;var l=Object.seal({x:4}),e=new e($jscomp.makeIterator([l]));if(e.has(l)||1!=e.size||e.add(l)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var e=e.entries(),p=e.next();if(p.done||p.value[0]!=l||p.value[1]!=l)return!1;p=e.next();return p.done||p.value[0]==l||4!=p.value[0].x||p.value[1]!=p.value[0]?!1:e.next().done};
$jscomp.Set.prototype.add=function(e){this.map_.set(e,e);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(e){e=this.map_["delete"](e);this.size=this.map_.size;return e};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(e){return this.map_.has(e)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(e,l){var p=this;this.map_.forEach(function(b){return e.call(l,b,b,p)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noRegExp_=function(e,l){if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+l+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(e){for(var l=[],p=0;p<arguments.length;++p)l[p-0]=arguments[p];for(var p="",l=$jscomp.makeIterator(l),b=l.next();!b.done;b=l.next()){b=b.value;b=+b;if(0>b||1114111<b||b!==Math.floor(b))throw new RangeError("invalid_code_point "+b);65535>=b?p+=String.fromCharCode(b):(b-=65536,p+=String.fromCharCode(b>>>10&1023|55296),p+=String.fromCharCode(b&1023|56320))}return p};
$jscomp.string.repeat=function(e){var l=this.toString();if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var p="";e;)if(e&1&&(p+=l),e>>>=1)l+=l;return p};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(e){var l=this.toString(),p=l.length;e=Number(e)||0;if(0<=e&&e<p){e|=0;var b=l.charCodeAt(e);if(55296>b||56319<b||e+1===p)return b;e=l.charCodeAt(e+1);return 56320>e||57343<e?b:1024*(b-55296)+e+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(e,l){l=void 0===l?0:l;$jscomp.string.noRegExp_(e,"includes");return-1!==this.toString().indexOf(e,l)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(e,l){l=void 0===l?0:l;$jscomp.string.noRegExp_(e,"startsWith");var p=this.toString();e+="";for(var b=p.length,a=e.length,c=Math.max(0,Math.min(l|0,p.length)),Q=0;Q<a&&c<b;)if(p[c++]!=e[Q++])return!1;return Q>=a};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(e,l){$jscomp.string.noRegExp_(e,"endsWith");var p=this.toString();e+="";void 0===l&&(l=p.length);for(var b=Math.max(0,Math.min(l|0,p.length)),a=e.length;0<a&&0<b;)if(p[--b]!=e[--a])return!1;return 0>=a};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
(function(e,l){"object"===typeof exports&&"object"===typeof module?module.exports=l():"function"===typeof define&&define.amd?define([],l):"object"===typeof exports?exports.CitrixWebRTC=l():e.CitrixWebRTC=l()})(self,function(){return function(){function e(b){var a=p[b];if(void 0!==a)return a.exports;a=p[b]={exports:{}};l[b].call(a.exports,a,a.exports,e);return a.exports}var l={945:function(b,a,c){var e=this&&this.__extends||function(){var a=function(k,v){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,g){a.__proto__=g}||function(a,g){for(var k in g)g.hasOwnProperty(k)&&(a[k]=g[k])};return a(k,v)};return function(k,v){function b(){this.constructor=k}a(k,v);k.prototype=null===v?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(a,"__esModule",{value:!0});a.AudioElement=void 0;var u=c(658),h=c(550),d=c(851),w=c(946),q;(function(a){a.Init="Init";a.PlayStarted="PlayStarted";a.PauseCalled="PauseCalled"})(q||(q={}));b=function(a){function k(){var k=a.call(this,
null,h.class_id_t.AudioElement,0,u.ProxyMode.Local)||this;k.sinkId_="";k.srcObject_=null;k.loop_=!1;k.notiState=q.Init;return k}e(k,a);k.prototype.setSinkId=function(a){var k=this;d.logger.log(this.user_friendly_id()+".setSinkId: set sinkId to "+a);return new Promise(function(g,b){k.waitUntilConnected("AudioElement.sinkId").then(function(){var b=k.remoteInvoke(!0,h.method_id_AudioElement_t.sinkId,a);w.getRedirector().getFeatureValue(h.FEATURE_ms_teams_pstn)||(k.sinkId_=a,g());return b}).then(function(){d.logger.log(k.user_friendly_id()+
".setSinkId: success! resolving...");k.sinkId_=a;g()})["catch"](function(a){a=k.logRemoteInvokeError(a,".sinkId setter: failed to connect!");b(a)})})};Object.defineProperty(k.prototype,"sinkId",{get:function(){return this.sinkId_},set:function(a){this.setSinkId(a)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"srcObject",{get:function(){return this.srcObject_},set:function(a){var k=this;d.logger.log(this.user_friendly_id()+".srcObject: set srcObject to "+JSON.stringify(a));a!==
this.srcObject_&&(this.srcObject_=a,this.waitUntilConnected("AudioElement.srcObject").then(function(){return a.syncBarrier()}).then(function(a){d.logger.log(k.user_friendly_id()+".srcObject: set srcObject to s "+JSON.stringify(a));return k.remoteInvoke(!0,h.method_id_AudioElement_t.srcObject,null!==a&&void 0!==a?a.id:"null")}).then(function(){d.logger.log(k.user_friendly_id()+".srcObject setter: remote success!")})["catch"](function(a){k.logRemoteInvokeError(a,".srcObject setter: failed to connect!")}))},
enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"src",{get:function(){return this.src_},set:function(a){var k=this;d.logger.log(this.user_friendly_id()+".src: set src to "+a);this.src_=a;this.waitUntilConnected("AudioElement.src").then(function(){k.remoteInvoke(!0,h.method_id_AudioElement_t.src,a)})["catch"](function(a){k.logRemoteInvokeError(a,".src setter: failed to connect!")})},enumerable:!1,configurable:!0});k.prototype.play=function(){var a=this;d.logger.log(this.user_friendly_id()+
".play() called.");this.toggleAudio(!0);return new Promise(function(k,g){a.waitUntilConnected("AudioElement.play").then(function(){return a.remoteInvoke(!1,h.method_id_AudioElement_t.play)}).then(function(){k()})["catch"](function(k){a.logRemoteInvokeError(k,".play: failed to connect!");g(k)})})};k.prototype.playEx=function(a,k,g){var b=this;d.logger.log(this.user_friendly_id()+".playEx() src:"+a+" sinkId:"+k+" loop:"+g);this.notiState=q.PlayStarted;this.waitUntilConnected("AudioElement.playEx").then(function(){var a=
[];k&&a.push(b.setSinkId(k));void 0!==g&&null!==g&&(b.loop_=g,a.push(b.remoteInvoke(!0,h.method_id_AudioElement_t.loop,g)));return Promise.all(a)}).then(function(){b.src_=a;return b.remoteInvoke(!0,h.method_id_AudioElement_t.src,a)}).then(function(){return b.play()}).then(function(){if(b.notiState==q.PauseCalled)return d.logger.log(b.user_friendly_id()+".playEx() run deferred pause"),b.doPauseAndDispose()}).then(function(){b.notiState=q.Init;d.logger.log(b.user_friendly_id()+".playEx() done")})["catch"](function(a){b.notiState=
q.Init;b.logRemoteInvokeError(a,".playEx() failed!")})};k.prototype.pause=function(){var a=this;d.logger.log(this.user_friendly_id()+".pause() called.");this.toggleAudio(!1);return new Promise(function(k,g){a.waitUntilConnected("AudioElement.pause").then(function(){return a.remoteInvoke(!1,h.method_id_AudioElement_t.pause)}).then(function(){k()})["catch"](function(k){a.logRemoteInvokeError(k,".pause: failed!");g()})})};k.prototype.doPauseAndDispose=function(){var a=this;d.logger.log(this.user_friendly_id()+
".doPauseAndDispose() called.");this.toggleAudio(!1);return new Promise(function(k,g){a.waitUntilConnected("AudioElement.doPauseAndDispose").then(function(){return a.remoteInvoke(!1,h.method_id_AudioElement_t.pause,[])}).then(function(){d.logger.log(a.user_friendly_id()+".doPauseAndDispose() resolving...");k();a.dispose()})["catch"](function(g){a.logRemoteInvokeError(g,".doPauseAndDispose: failed to connect!")})})};k.prototype.pauseAndDispose=function(){this.notiState==q.PlayStarted?(d.logger.log(this.user_friendly_id()+
".pauseAndDispose() deferred"),this.notiState=q.PauseCalled):this.doPauseAndDispose()};k.prototype.toggleAudio=function(a){this.srcObject_&&(d.logger.log(this.user_friendly_id()+".toggleAudio() toggle audio tracks:"+a),this.srcObject_.toggleAudio(a))};Object.defineProperty(k.prototype,"loop",{get:function(){return this.loop_},set:function(a){var k=this;d.logger.log(this.user_friendly_id()+".loop: set loop to "+a);this.loop_=a;this.waitUntilConnected("AudioElement.loop").then(function(){k.remoteInvoke(!0,
h.method_id_AudioElement_t.loop,a)})["catch"](function(a){k.logRemoteInvokeError(a,".loop setter: failed to connect!")})},enumerable:!1,configurable:!0});k.prototype.dispose=function(){d.logger.log(this.user_friendly_id()+".dispose()");this.src_=this.sinkId_="";this.srcObject_=null;this.loop_=!1;this.release()};return k}(u.ProxyObject);a.AudioElement=b},239:function(b,a,c){a.E=void 0;var e=c(945),u=c(851),h=function(){function a(){this.sinkId=void 0;this.src="";this.loop=void 0;this.element=null}
a.prototype.getSrc=function(){return this.src};a.prototype.setSinkId=function(a){this.sinkId=a};a.prototype.getLoop=function(){return!0===this.loop};a.prototype.setLoop=function(a){this.loop=a};a.prototype.play=function(a){this.element=new e.AudioElement;this.src=a;this.element.playEx(this.src,this.sinkId,this.loop)};a.prototype.pause=function(){this.element&&(this.element.pauseAndDispose(),this.element=null)};a.prototype.release=function(){this.element&&(this.element.dispose(),this.element=null)};
return a}();b=function(){function a(){this.audioIdMap=null;this.audioIdMap=new Map}a.prototype.getNotificationInfo=function(a){if(this.audioIdMap.has(a))return this.audioIdMap.get(a);var b=new h;this.audioIdMap.set(a,b);return b};a.prototype.playNotifyAudio=function(a,b){b&&(u.logger.log("AudioNotification.playNotifyAudio, Remote to Thin Client audioId:"+a+" src:"+b),this.getNotificationInfo(a).play(b))};a.prototype.pauseNotifyAudio=function(a,b){if(this.audioIdMap.has(a)){var d=this.audioIdMap.get(a);
b&&b!=d.getSrc()&&u.logger.log("AudioNotification.pauseNotifyAudio warning: for audioId:"+a+", different param src:"+b+" from org src:"+d.getSrc());d.pause()}else u.logger.log("AudioNotification.pauseNotifyAudio no audioId:"+a+" src:"+b)};a.prototype.setSinkId=function(a,b){if(null!=b&&b.startsWith("speaker:")){u.logger.log("AudioNotification.setSinkId before parsing audioId:"+a+" sinkId:"+b);var d=b.slice(8);u.logger.log("AudioNotification.setSinkId after parsing audioId:"+a+" speakersinkId:"+d);
b=d}this.getNotificationInfo(a).setSinkId(b)};a.prototype.getLoop=function(a){return this.getNotificationInfo(a).getLoop()};a.prototype.setLoop=function(a,b){this.getNotificationInfo(a).setLoop(b)};a.prototype.release=function(){this.audioIdMap.forEach(function(a,b,d){a.release()});this.audioIdMap.clear()};return a}();a.E=b},613:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function k(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(k.prototype=d.prototype,new k)}}();Object.defineProperty(a,"__esModule",{value:!0});a.E911Service=void 0;var u=c(550),h=c(658),d=c(851);b=function(a){function b(){var d=a.call(this,null,u.class_id_t.E911Service,0,h.ProxyMode.Local)||this;d.preE911Info_=null;return d}e(b,a);b.prototype.isSameInfo=function(a){if(null==this.preE911Info_&&
null!=a||null!=this.preE911Info_&&null==a||this.preE911Info_.e911.length!=a.e911.length||this.preE911Info_.bssid!=a.bssid||this.preE911Info_.ipv4!=a.ipv4||this.preE911Info_.subnetLengthIpv4!=a.subnetLengthIpv4||this.preE911Info_.ipv6!=a.ipv6||this.preE911Info_.subnetLengthIpv6!=a.subnetLengthIpv6||this.preE911Info_.mac!=a.mac||1E-4<=Math.abs(this.preE911Info_.latitude-a.latitude)||1E-4<=Math.abs(this.preE911Info_.longitude-a.longitude))return!1;for(var k=0;k<a.e911.length;k++)if(this.preE911Info_.e911[k].chassisId!=
a.e911[k].chassisId||this.preE911Info_.e911[k].portId!=a.e911[k].portId)return!1;return!0};Object.defineProperty(b.prototype,"onupdate",{get:function(){return this.onupdate_},set:function(a){var k=this;this.onupdate_=a;this.waitUntilConnected(this.user_friendly_id()+".onupdate").then(function(){var a=k.registerCallbacks(!1,k.isNullCallback(k.onupdate_),u.method_id_E911Service_t.onupdate);a.then(function(a){a=a.params;var g=a[0];a.slice(1);null!==k.preE911Info_&&k.isSameInfo(g)||(d.logger.log(k.user_friendly_id()+
".onupdate",JSON.stringify(g)),k.onupdate_&&k.onupdate_(g),k.preE911Info_=g)});return k.remoteInvoke(!0,u.method_id_E911Service_t.onupdate,a.success)})["catch"](function(){return d.logger.log(k.user_friendly_id()+".onupdate, could not set listener")})},enumerable:!1,configurable:!0});b.prototype.getE911Info=function(){var a=this;return new Promise(function(k,b){a.waitUntilConnected(a.user_friendly_id()+".getE911Info").then(function(){return a.remoteInvoke(!1,u.method_id_E911Service_t.getE911Info)}).then(function(b){d.logger.log(a.user_friendly_id()+
".getE911Info",JSON.stringify(a.param0(b)));k(a.param0(b))})["catch"](function(){d.logger.log(a.user_friendly_id()+".getE911Info promise rejected");b()})})};b.prototype.updateE911Info=function(){var a=this;this.getE911Info().then(function(b){return a.onupdate&&a.onupdate(b)})["catch"](function(){return d.logger.log("Fail to get e911 information!")})};return b}(h.ProxyObject);a.E911Service=b},9:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,k){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g])};return a(b,k)};return function(b,k){function d(){this.constructor=b}a(b,k);b.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});a.EngineControl=a.VersionType=void 0;var u=c(550),h=c(946),d=c(658),w=c(851);(function(a){a[a.Webrpc=0]="Webrpc";a[a.WebrtcCodecs=1]="WebrtcCodecs";a[a.Receiver=2]="Receiver";a[a.Vda=3]="Vda";a[a.Endpoint=
4]="Endpoint";a[a.TypeScript=5]="TypeScript";a[a.HdxRtcEngine=6]="HdxRtcEngine";a[a.Max=7]="Max"})(a.VersionType||(a.VersionType={}));b=function(a){function b(k){var c=a.call(this,null,u.class_id_t.EngineControl,0,d.ProxyMode.Local)||this;c.clientInfo_="";c.clientInfo_=k;return c}e(b,a);b.prototype.bind=function(){w.logger.log(this.user_friendly_id()+".bind() called.");this.reconstructor(null,u.class_id_t.EngineControl,0)};b.prototype.syncBarrier=function(){var a=this;w.logger.log(this.user_friendly_id()+
".syncBarrier() called.");return new Promise(function(b,d){a.syncBarrierDeep(b,d)&&a.waitUntilConnected("EngineControl.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,u.method_id_EngineControl_t.version,{major:0,minor:0,revision:0,build:0}),a.remoteInvoke(!1,u.method_id_EngineControl_t.feature_flags,[])])}).then(function(b){w.logger.log(a.user_friendly_id()+"received webrpc version and supported feature list.");b=b.map(function(b){return a.param0(b)});a.version_=b[0];a.features_=
b[1];h.getRedirector().setFeatures(a.features_);a.remoteInvoke(!1,u.method_id_EngineControl_t.set_client_info,(a.clientInfo_||"Unknown")+"; vdiShim/"+u.HDXMS_VERSION,h.getRedirector().sessionClientId)["catch"](function(){return w.logger.log(a.user_friendly_id()+" could not set client info")});b=[];for(var d=0,t=a.features_;d<t.length;d++){var m=t[d];"ms_teams_desktop_sharing"===m.name&&m.value?b.push(a.remoteInvoke(!1,u.method_id_EngineControl_t.version_info,[])):"ms_teams_osinfo"===m.name&&m.value?
b.push(a.remoteInvoke(!1,u.method_id_EngineControl_t.osinfo,{family:"",version:"",architecture:"",distro:"",edition:""})):"ms_teams_endpoint_id"===m.name&&m.value?b.push(a.remoteInvoke(!1,u.method_id_EngineControl_t.endpoint_id,{machine_id:"",user_id:""})):"ms_teams_hardware_info"===m.name&&m.value&&b.push(a.remoteInvoke(!1,u.method_id_EngineControl_t.hardware_info))}if(0<b.length)return Promise.all(b)}).then(function(b){if(void 0===b)w.logger.log(a.user_friendly_id()+"release-1905 client.");else{w.logger.log(a.user_friendly_id()+
"release-1906 or later client: received detailed client version list.");for(var d=0;d<b.length;d++){var t=b[d];t.hdr.proc.iid==u.class_id_t.EngineControl&&t.hdr.proc.methodid==u.method_id_EngineControl_t.version_info?a.versions_=a.param0(t):t.hdr.proc.iid==u.class_id_t.EngineControl&&t.hdr.proc.methodid==u.method_id_EngineControl_t.osinfo?a.osinfo_=a.param0(t):t.hdr.proc.iid==u.class_id_t.EngineControl&&t.hdr.proc.methodid==u.method_id_EngineControl_t.endpoint_id?a.endpointid_=a.param0(t):t.hdr.proc.iid==
u.class_id_t.EngineControl&&t.hdr.proc.methodid==u.method_id_EngineControl_t.hardware_info&&(a.hardwareinfo_=a.param0(t))}}a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,"failure to retrieve version/feature related client info.");a.syncBarrierReject(b)})})};return b}(d.ProxyObject);a.EngineControl=b},368:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.Frames=a.FrameTracker=void 0;var e=c(851),u=c(946),h=c(679),d=function(){return function(a,b){this.resolve=
a;this.reject=b}}(),w=function(){function a(){this.name="overlay";this.reqs_=[];u.getRedirector().addProtocolHandler(this)}a.prototype.init=function(a){};a.prototype.reset=function(){this.reqs_.forEach(function(a,b){a.reject()});this.reqs_=[]};a.prototype.on_message=function(a){var b=this;e.logger.log("HDXMS: Overlay <<< "+JSON.stringify(a));if("capabilities"==a.command)new Promise(function(a,k){b.reqs_.push(new d(a,k));u.getRedirector().WSSendObject({v:"overlay",command:"configure",caps:[]})});else{var c=
this.reqs_.shift();void 0!=c?1==a.status&&("track_window"==a.command?c.resolve(a.windowId):"untrack_window"==a.command?c.resolve(a.windowHandle):"configure"==a.command?c.resolve({}):c.reject({})):e.logger.log("spurious response for message: "+a.command)}};a.prototype.registerWindowWithService=function(a){var b=this;return new Promise(function(c,g){var B=u.getRedirector();if(void 0==a){e.logger.log("FrameTrackerProtocol.registerWindowWithService: legacy case");var t=window.getWindowHandleAsHex.bind(window);
if(void 0===t||null===t)e.logger.log("FrameTrackerProtocol.registerWindowWithService: getWindowHandle method is undefined or null"),g({});Promise.all([t(),B.startRedirection(!1,"registerWindowWithService")]).then(function(a){e.logger.log("FrameTracker.registerWindowWithService: set window handle: "+a[0]);B.WSSendObject({v:"overlay",command:"window",windowHandle:a[0]});c(void 0)})}else e.logger.log("FrameTrackerProtocol.registerWindowWithService: new MW case"),B.startRedirection(!1,"registerWindowWithService").then(function(){b.reqs_.push(new d(c,
g));B.WSSendObject({v:"overlay",command:"track_window",windowHandle:a})})})};a.prototype.unregisterWindowWithService=function(a){var b=this;e.logger.log("FrameTrackerProtocol.unregisterWindowWithService(handle: "+a+")");return new Promise(function(c,g){void 0==a?g({}):(b.reqs_.push(new d(c,g)),u.getRedirector().WSSendObject({v:"overlay",command:"untrack_window",windowHandle:a}))})};return a}(),q=function(){function a(b){var d=this;this.running_=!1;this.elements_=[];this.clipRects=new Set;this.videos_=
[];this.connected_=!1;this.yClientAreaOffset_=this.xClientAreaOffset_=0;this.wheelEventHandler=function(a){setTimeout(function(){d.updateAll()},10)};this.scrollEventHandler=function(a){d.updateAll()};this.keyupEventHandler=function(a){"Tab"!=a.code&&"ArrowUp"!=a.code&&"ArrowDown"!=a.code&&"ArrowLeft"!=a.code&&"ArrowRight"!=a.code&&"PageUp"!=a.code&&"PageDown"!=a.code&&"Home"!=a.code&&"End"!=a.code||d.updateAll()};this.resizeEventHandler=function(a){e.logger.log("onWindowResize... update video elements position");
d.updateAll()};e.logger.log("FrameTracker.constructor: (handle: "+b+")");this.handle_=b;this.connectToService();this.observer_=new MutationObserver(function(a){d.updateAll()})}a.prototype.connectToService=function(){var b=this;a.Protocol.registerWindowWithService(this.handle_).then(function(a){e.logger.log("FrameTracker: connected to service. (windowId="+a+")");b.connected_=!0;b.windowId_=a;b.videos_.forEach(function(a){a.sinkId=JSON.stringify(b.windowId_)});b.videos_=[]})};Object.defineProperty(a.prototype,
"handle",{get:function(){return this.handle_},enumerable:!1,configurable:!0});a.prototype.getWindowFromElement=function(a){return a.ownerDocument.defaultView};a.prototype.rectanglesIntersect=function(a,b){return a.x<b.x+b.width&&a.x+a.width>b.x&&a.y<b.y+b.height&&a.y+a.height>b.y?!0:!1};a.prototype.intersectingRect=function(a,b){var d=Math.max(a.left,b.left),g=Math.max(a.top,b.top);return new DOMRect(d,g,Math.min(a.right,b.right)-d,Math.min(a.bottom,b.bottom)-g)};a.prototype.pedigreeCount=function(a,
b){for(var d=0,g=a.parentElement;null!=g&&g!=b;)d++,g=g.parentElement;return{isAncestor:null!=g,pedigree:d}};a.prototype.selectTopmost=function(a,b){var d=this.getBoundingClientRect(a),g=this.getBoundingClientRect(b),d=this.intersectingRect(d,g),g=a.ownerDocument.elementFromPoint(d.left+d.width/2,d.top+d.height/2);if(g==a)return a;if(g==b)return b;d=this.pedigreeCount(a,g);g=this.pedigreeCount(b,g);if(d.isAncestor&&g.isAncestor){if(d.pedigree<g.pedigree)return a;if(g.pedigree<d.pedigree)return b}else{if(d.isAncestor)return a;
if(g.isAncestor)return b}};a.prototype.checkOverlappingVideos=function(a){var b=this,d=this.getBoundingClientRect(a.target);a.overlaps.forEach(function(b){a.target.remoteVideoElement.removeClipRect(b.rect)});a.overlaps=[];this.elements_.forEach(function(g){if(g!=a){var c=g.overlaps.map(function(a){return a.element}).indexOf(a.target);-1!=c&&(c=g.overlaps.splice(c,1)[0],g.target.remoteVideoElement.removeClipRect(c.rect));c=b.getBoundingClientRect(g.target);if(b.rectanglesIntersect(d,c)){var t=b.selectTopmost(a.target,
g.target);t==a.target?(g.overlaps.push({element:a.target,rect:d}),g.target.remoteVideoElement.addClipRect(d)):t==g.target&&(a.overlaps.push({element:g.target,rect:c}),a.target.remoteVideoElement.addClipRect(c))}}})};a.prototype.updateAll=function(){var a=this;this.elements_.forEach(function(b){var d=a.getBoundingClientRect(b.target);if(void 0!==d){var g=b.clientRect;if(void 0===g||g.x!==d.x||g.y!==d.y||g.width!==d.width||g.height!==d.height)b.clientRect=d,b.callback(d),a.checkOverlappingVideos(b)}})};
a.prototype.track=function(a,b){var d=this,g=this.getBoundingClientRect(a);e.logger.log("Track (handle: "+this.handle_+") element frame",a,JSON.stringify(g));console.log(a);this.elements_.push({target:a,clientRect:void 0,callback:b,overlaps:[]});try{e.logger.log("[HdxWebRTC.js] Initializing occlusion for new videoElement"),this.clipRects.forEach(function(b){d.applyOcclusion(a,JSON.parse(b))})}catch(c){e.logger.log("[HdxWebRTC.js] addOcclusionInit failed! "+c)}this.running_||(e.logger.log("Start FrameTracker observer..."),
this.observer_.observe(a.ownerDocument.body,{attributes:!0,childList:!0,subtree:!0}),g=this.getWindowFromElement(a),g.addEventListener("wheel",this.wheelEventHandler),g.addEventListener("scroll",this.scrollEventHandler),g.addEventListener("keyup",this.keyupEventHandler),g.addEventListener("resize",this.resizeEventHandler),this.running_=!0);this.updateAll()};a.prototype.untrack=function(a){e.logger.log("Untrack (handle: "+this.handle_+") element frame",a);var b=-1;this.elements_.forEach(function(g,
d){g.target===a&&(b=d)});if(0<=b&&(this.elements_.splice(b,1),0===this.elements_.length)){e.logger.log("Stop FrameTracker observer...");this.observer_.disconnect();var d=this.getWindowFromElement(a);d.removeEventListener("wheel",this.wheelEventHandler);d.removeEventListener("scroll",this.scrollEventHandler);d.removeEventListener("keyup",this.keyupEventHandler);d.removeEventListener("resize",this.resizeEventHandler);this.running_=!1}};a.prototype.applyOcclusion=function(a,b){var d=this.getBoundingClientRect(a);
this.rectanglesIntersect(b,d)&&void 0!==a.remoteVideoElement&&a.remoteVideoElement.addClipRect(b)};a.prototype.addOcclusion=function(a){var b=this;e.logger.log("[HdxWebRTC.js] Adding occlusion "+JSON.stringify(a));e.logger.log("[HdxWebRTC.js] Tracking '"+this.elements_.length+"' elements.");this.clipRects.add(JSON.stringify(a));this.elements_.forEach(function(d){b.applyOcclusion(d.target,a)})};a.prototype.removeOcclusion=function(a){e.logger.log("[HdxWebRTC.js] Removing occlusion "+JSON.stringify(a));
e.logger.log("[HdxWebRTC.js] Tracking '"+this.elements_.length+"' elements.");this.clipRects["delete"](JSON.stringify(a));this.elements_.forEach(function(b){void 0!==b.target.remoteVideoElement&&b.target.remoteVideoElement.removeClipRect(a)})};a.prototype.setClientAreaOffset=function(a,b){this.xClientAreaOffset_=a;this.yClientAreaOffset_=b};a.prototype.getBoundingClientRect=function(a){a=a.getBoundingClientRect();a.x+=this.xClientAreaOffset_;a.y+=this.yClientAreaOffset_;return a};a.prototype.newVideoElement=
function(b){var d=this;e.logger.log("FrameTracker.newVideoElement: (id: "+b.id+")");if(void 0!==b.remoteVideoElement)e.logger.log("Video element is already configured!!!");else{b.id||(b.id="ctx-vid-"+a.videoElementIDs++);var c=new h.VideoElement(b.id,this.getWindowFromElement(b));this.connected_?(e.logger.log("FrameTracker.newVideoElement: initializing video element with sink id "+this.windowId_),c.sinkId=JSON.stringify(this.windowId_)):(e.logger.log("FrameTracker.newVideoElement: video element awaiting stable window state"),
this.videos_.push(c));c.onloadedmetadata=function(){b.dispatchEvent(new Event("loadedmetadata"))};c.ontimeupdate=function(){b.dispatchEvent(new Event("timeupdate"))};c.onconnectionstatechange=function(){"connected"==c.connectionState?d.track(b,function(a){c.setFrame(a)}):d.untrack(b)};delete b.remoteVideoElement;Object.defineProperty(b,"remoteVideoElement",{writable:!0,configurable:!0,value:null});b.remoteVideoElement=c;delete b.srcObject;Object.defineProperty(b,"srcObject",{configurable:!0,get:function(){return c.srcObject},
set:function(a){e.logger.log("VDI Shim set video element srcObject "+a);c.srcObject=a}});delete b.videoWidth;Object.defineProperty(b,"videoWidth",{configurable:!0,get:function(){return c.videoWidth}});delete b.videoHeight;Object.defineProperty(b,"videoHeight",{configurable:!0,get:function(){return c.videoHeight}})}};a.prototype.disposeVideoElement=function(a){e.logger.log("FrameTracker.disposeVideoElement: (id: "+a.id+")");var b=a.remoteVideoElement;if(void 0!=b){var d=this.videos_.findIndex(function(a){return a.Id==
b.Id});-1<d&&this.videos_.splice(d,1);b.dispose();a.remoteVideoElement=void 0}};a.videoElementIDs=0;a.Protocol=new w;return a}();a.FrameTracker=q;b=function(){function a(b){this.frames_=[];b&&this.frames_.push(new q(void 0))}a.prototype.newFrame=function(a){e.logger.log("Frames.newFrame: (handle: "+a+")");var b=this.findFrame(a);void 0==b&&(b=new q(a),this.frames_.push(b));return b};a.prototype.disposeFrame=function(a){e.logger.log("Frames.disposeFrame: (handle: "+a+")");var b=this.frames_.findIndex(function(b){return b.handle==
a});-1<b&&(q.Protocol.unregisterWindowWithService(a).then(function(a){e.logger.log("Untrack window (handle: "+a+") successful")}),this.frames_.splice(b,1))};a.prototype.findFrame=function(a){e.logger.log("Frames.findFrame: (handle: "+a+")");return void 0!=a?this.frames_.find(function(b){return b.handle==a}):this.frames_[0]};a.prototype.reconnect=function(){e.logger.log("Frames.reconnect()");this.frames_.forEach(function(a){a.connectToService()})};return a}();a.Frames=b},247:function(b,a){Object.defineProperty(a,
"__esModule",{value:!0});a.getGC=a.GC=void 0;var c=function(){function a(b){this.parent_=this.object_=null;this.children_=[];this.object_=b}a.prototype.addChild=function(a){a.parent_!=this&&(a.parent_=this,this.children_.push(a))};a.prototype.removeChild=function(a){var b=this.children_.indexOf(a);this.children_.splice(b,1);a.parent_=null};return a}(),e=function(){function a(){this.root_=new c(null)}a.prototype.trackObject=function(a,b){void 0===b&&(b=null);if(null===this.findNode(a,this.root_)){var e=
this.findNode(b,this.root_),h=new c(a);e?e.addChild(h):this.root_.addChild(h)}};a.prototype.releaseObject=function(a){a=this.findNode(a,this.root_);if(null===a||a===this.root_)return!1;this.destroyNodeObjectRecurse(a);a.parent_.removeChild(a);return!0};a.prototype.destroyNodeObjectRecurse=function(a){for(var b=0,c=a.children_;b<c.length;b++)this.destroyNodeObjectRecurse(c[b]);a.object_.destroy()};a.prototype.setParent=function(a,b){var c=this.findNode(a,this.root_);if(null===c)return!1;var e=this.findNode(b,
this.root_);if(null===e)return!1;if(c.parent_===e)return!0;c.parent_.removeChild(c);e.addChild(c);return!0};a.prototype.reset=function(){this.root_.children_=[]};a.prototype.findNode=function(a,b){if(b.object_===a)return b;for(var c=null,e=0,k=b.children_;e<k.length&&(c=this.findNode(a,k[e]),null===c);e++);return c};return a}();a.GC=e;var u=new e;a.getGC=function(){return u}},946:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.getRedirector=a.HdxMediaStream=a.RedirectionStatus=
a.WebrpcStatusCode=void 0;var e=c(658),u=c(851),h=c(550),d=c(545),w=c(394),q=c(691),n=function(){return function(a,b,d,m,c,k,x,r){void 0===r&&(r=void 0);this.resolve=a;this.reject=b;this.iid=d;this.oid=m;this.cbid=c;this.oneShot=k;this.mid=x;this.completion_cb=r}}(),k;(function(a){a[a.rpc_status_success=0]="rpc_status_success";a[a.rpc_status_unspecified_error=1]="rpc_status_unspecified_error";a[a.rpc_status_unexpected=2]="rpc_status_unexpected";a[a.rpc_status_index_out_of_bounds=3]="rpc_status_index_out_of_bounds";
a[a.rpc_status_missing_parameter=4]="rpc_status_missing_parameter";a[a.rpc_status_missing_return_value=5]="rpc_status_missing_return_value";a[a.rpc_status_invalid_object=6]="rpc_status_invalid_object";a[a.rpc_status_user_exception=7]="rpc_status_user_exception";a[a.rpc_status_system_error=8]="rpc_status_system_error"})(k=a.WebrpcStatusCode||(a.WebrpcStatusCode={}));var v;(function(a){a[a.NotRedirected=0]="NotRedirected";a[a.Connecting=1]="Connecting";a[a.Binding=2]="Binding";a[a.Redirected=3]="Redirected"})(v=
a.RedirectionStatus||(a.RedirectionStatus={}));b=function(){function a(){this.sessionId_="";this.handlers_=[];this.pingactive=!1;this.status=v.NotRedirected;this.reqs=[];this.cbs=[];this.deferredActions=[];this.telemetry_=new w.Telemetry;this.screenshare_=new q.ScreenShareUtil;this.stateChangeNotifcations=[];this.vdafeatures_=[]}Object.defineProperty(a.prototype,"telemetry",{get:function(){return this.telemetry_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"screenshare",{get:function(){return this.screenshare_},
enumerable:!1,configurable:!0});a.prototype.setRemoteSessionInfoCb=function(a){this.remoteSessionInfoCb=a};a.prototype.setFeatures=function(a){this.features=a;this.screenshare.onInitComplete();this.handlers_.forEach(function(b,d){b.init(a)})};a.prototype.getFeatureValue=function(a){if(this.features){var b=this.features.find(function(b){return b.name===a});return void 0!==b?b.value:!1}return!1};a.prototype.getVDAFeatureValue=function(a){return void 0!==this.vdafeatures_.find(function(b){return b===
a})?!0:!1};a.prototype.onRedirectionComplete=function(){for(;this.deferredActions&&0<this.deferredActions.length;)this.deferredActions.shift().post(this.status==v.Redirected)};a.prototype.connectToService=function(){u.logger.log("Redirection status: Connecting...");this.status=v.Connecting;return new Promise(function(a,b){var d=new WebSocket("wss://127.0.0.1:9002");d.onopen=function(){a(d)};d.onerror=function(a){u.logger.log("websocket connection error: "+a.type);b(a)}})};a.prototype.waitUntilRedirected=
function(a){var b=this;return new Promise(function(d,c){b.status==v.Redirected?d():0>=a?c():setTimeout(function(){u.logger.log("waitUntilRedirected() timeout. count="+a);b.status!=v.Redirected?b.waitUntilRedirected(--a).then(function(){d()})["catch"](function(){c()}):d()},2E3)})};a.prototype.handleRemoteSessionInfo=function(){var a=this;u.logger.log("handleRemoteSessionInfo called.");var b=this;b.remoteSessionInfoCb?b.remoteSessionInfoCb().then(function(d){u.logger.log("remoteSessionInfo success! info:"+
JSON.stringify(d));u.logger.log("Redirection status: Redirected");b.status=v.Redirected;b.pingConnectionEnd();(d=window.onVdiClientConnected)&&d();a.telemetry.SendTelemetryInit();b.onRedirectionComplete()})["catch"](function(){u.logger.log("remoteSessionInfo failure!");b.suspendRedirection(!0);b.onRedirectionComplete()}):(u.logger.log("remoteSessionInfoCb is invalid!"),b.suspendRedirection(!0),b.onRedirectionComplete())};a.prototype.startRedirection=function(a,b){var d=this,c=window.onVdiClientDisconnected;
return new Promise(function(g,k){d.status!=v.Redirected?(u.logger.log("Attempting to start redirection: "+b),!1===a?d.deferredActions.push(new e.deferred_action(g,k,b)):d.connectToService().then(function(a){u.logger.log("Redirection status: Binding...");d.status=v.Binding;d.websocket=a;d.websocket.onmessage=function(a){d.onWSMessage(a)};d.websocket.onclose=function(a){d.onWSClose(a)};g();d.handleRemoteSessionInfo()})["catch"](function(a){u.logger.log("Unable to connect to websocket service! "+a);
k();d.suspendRedirection(!0);d.onRedirectionComplete();c&&c(!0)})):(u.logger.log("Redirection already started."),g())})};a.prototype.terminateOptimization=function(){this.websocket.close(1E3,"normal disconnecting!")};a.prototype.suspendRedirection=function(a){var b=this;u.logger.log("Suspending redirection.");this.handlers_.forEach(function(a,b){a.reset()});var d=window.onVdiClientDisconnected;try{d&&d(!1)}catch(c){u.logger.log("suspendRedirection(): exception during vdiClientDisconnect: "+c.message)}u.logger.log("Redirection status: NotRedirected");
var g=this.status;this.status=v.NotRedirected;var k=!1,d=window.getCitrixMSTeamsRedir,x=window.getCitrixWebrtcRedir,r;d?r=d:x&&(r=x);r&&r().then(function(d){u.logger.log("sucesss on disconnect"+d);"1"==d&&(k=!0,u.logger.log("Reg key exists while disconnecting"));a&&g===v.Redirected&&1==k&&(u.logger.log("Calling ping not normal disconnect"),b.pingConnectionBegin(!1))})["catch"](function(){u.logger.log("Failure to Read MS Teams redir Reg Key, not retrying...")});this.dispatchStateChangeNotifications()};
a.prototype.onWSOpen=function(){};a.prototype.onWSClose=function(a){u.logger.log("disconnected from websocket service. "+JSON.stringify(a));try{a&&1E3==a.code?this.suspendRedirection(!1):this.suspendRedirection(!0)}catch(b){u.logger.log("suspendRedirection(): exception closing WebSocket: "+b.message)}};a.prototype.onWSError=function(){try{this.suspendRedirection(!0)}catch(a){u.logger.log("suspendRedirection(): exception on WebSocket error: "+a.message)}};a.prototype.WSSendObjectWrapper=function(a,
b,d,c){var g=!0;b!=h.class_id_t.EngineControl||d!=h.method_id_EngineControl_t.ctor&&d!=h.method_id_EngineControl_t.version&&d!=h.method_id_EngineControl_t.feature_flags||(g=!1);var k=!0;if(g&&(k=!1,void 0!=this.features))for(var g=0,r=this.features;g<r.length;g++){var A=r[g];if(!0===A.value&&A.name==a){k=!0;break}}return 1==k?this.WSSendObject(c):Promise.reject("Cannot invoke method that is not supported by webrpc: iid("+b+") mid("+d+")")};a.prototype.WSSendObject=function(a){var b=this;return new Promise(function(d,
c){if("webrtc"==a.v){var g=a.hdr.proc.iid,k=a.hdr.proc.methodid,r=a.objref.oid;a.hdr.destroy||(g=new n(d,c,g,r,0,!0,k),b.reqs.push(g));g=JSON.stringify(a);u.logger.trace("WSSendObject: >>> "+h.WebrpcClassLibInfoUtil.composeClassInfoData(a)+" "+g);try{b.websocket.readyState==WebSocket.OPEN?b.websocket.send(g):(u.logger.log("WSSendObject(): warinig: web socket is not open, dropping the message!"),d({}))}catch(A){u.logger.log("WSSendObject(): exception: "+A.message),c(A.message)}}else if("overlay"==
a.v){g=JSON.stringify(a);u.logger.log("HDXMS: SendOverlayData: >>> "+g+"'");try{b.websocket.readyState==WebSocket.OPEN?b.websocket.send(g):(u.logger.log("WSSendObject(): warinig: web socket is not open, dropping the message!"),d({}))}catch(A){u.logger.log("WSSendObject(): exception: "+A.message),c(A.message)}}else if("telemetry"==a.v){g=JSON.stringify(a);u.logger.log("HDXMS: SendTelemetryData: >>> "+g+"'");try{b.websocket.readyState==WebSocket.OPEN?b.websocket.send(g):(u.logger.log("WSSendObject(): warinig: web socket is not open, dropping the message!"),
d({}))}catch(A){u.logger.log("WSSendObject(): exception: "+A.message),c(A.message)}}else if("appsharing"==a.v){g=JSON.stringify(a);u.logger.log("HDXMS: SendScreenSharingData: >>> "+g+"'");try{b.websocket.readyState==WebSocket.OPEN?b.websocket.send(g):(u.logger.log("WSSendObject(): warinig: web socket is not open, dropping the message!"),d({}))}catch(A){u.logger.log("WSSendObject(): exception: "+A.message),c(A.message)}}else u.logger.log("HDXMS: WSSendObject: Unknown protocol: '"+JSON.stringify(a)+
"'")})};a.prototype.webrpcStatusCodeToName=function(a){switch(a){case k.rpc_status_success:a="rpc_status_success";break;case k.rpc_status_unspecified_error:a="rpc_status_unspecified_error";break;case k.rpc_status_unexpected:a="rpc_status_unexpected";break;case k.rpc_status_index_out_of_bounds:a="rpc_status_index_out_of_bounds";break;case k.rpc_status_missing_parameter:a="rpc_status_missing_parameter";break;case k.rpc_status_missing_return_value:a="rpc_status_missing_return_value";break;case k.rpc_status_invalid_object:a=
"rpc_status_invalid_object";break;case k.rpc_status_user_exception:a="rpc_status_user_exception";break;case k.rpc_status_system_error:a="rpc_status_system_error";break;default:a="unknown"}return a};a.prototype.parceWebrpcError=function(a,b){void 0===a&&(a=b&&0<b.length?b[0].category||b[0].code||b[0].message?k.rpc_status_system_error:k.rpc_status_user_exception:k.rpc_status_unspecified_error);var d;switch(a){case k.rpc_status_unspecified_error:case k.rpc_status_unexpected:case k.rpc_status_index_out_of_bounds:case k.rpc_status_missing_parameter:case k.rpc_status_missing_return_value:case k.rpc_status_invalid_object:d=
new DOMException(this.webrpcStatusCodeToName(a),this.webrpcStatusCodeToName(a));break;case k.rpc_status_user_exception:d=b&&0<b.length?new DOMException(b[0],this.webrpcStatusCodeToName(a)):new DOMException(this.webrpcStatusCodeToName(a),this.webrpcStatusCodeToName(a));break;case k.rpc_status_system_error:if(b&&0<b.length){d=Object.create(DOMException);var g={value:null,writable:!0,enumerable:!1,Configurable:!0};g.value=b[0].category;Object.defineProperty(d,"name",g);g.value=b[0].code;Object.defineProperty(d,
"code",g);g.value=b[0].message;Object.defineProperty(d,"message",g)}else d=new DOMException(this.webrpcStatusCodeToName(a),this.webrpcStatusCodeToName(a))}return d};a.prototype.onWSMessage=function(a){a=a.data;var b;try{b=JSON.parse(a)}catch(g){u.logger.log("invalid JSON!!!");u.logger.log(g);u.logger.log(a);return}if("webrtc"==b.v){u.logger.trace("onWSMessage: <<< "+h.WebrpcClassLibInfoUtil.composeClassInfoData(b)+" "+a);var c=b.hdr.proc.iid,k=b.hdr.proc.methodid,e=b.objref.oid,x=b.status;if(b.hdr.msg_type==
d.WsJsonUtil.getMsgType(d.ws_msg_type_t.reply))a=this.reqs.findIndex(function(a){return a.iid==c&&a.oid==e&&a.mid==k}),0<=a?0==x?this.reqs.splice(a,1).shift().resolve(b):(x=this.parceWebrpcError(x,b.params),this.reqs.splice(a,1).shift().reject(x)):(u.logger.log("HDXMS didnt find this one. (reqs)"),u.logger.log(this.reqs));else if(b.hdr.msg_type==d.WsJsonUtil.getMsgType(d.ws_msg_type_t.event_req)){var r=b.func.id;a=this.cbs.findIndex(function(a){return a.iid==c&&a.oid==e&&a.cbid==r>>16});0<=a?(0==
(r&65535)?this.cbs[a].resolve(b):(x=this.parceWebrpcError(x,b.params),this.cbs[a].reject(x)),1==this.cbs[a].oneShot&&(this.cbs[a].completion_cb?this.cbs[a].completion_cb(this.cbs[a].cbid,this.cbs[a].mid):u.logger.log("HDXMS didnt find completion_cb for oneShot callback, something went wrong!!!! cbid="+this.cbs[a].cbid+" (iid, mid)=("+this.cbs[a].iid,","+this.cbs[a].mid+")"))):(u.logger.log("HDXMS didnt find this one. (cbs)"),u.logger.log(JSON.stringify(this.cbs)))}else u.logger.log("HDXMS Received bogus message: "+
a+"'")}else if("telemetry"==b.v)0==b.status&&(x=b.hdr.command,2==(x&2147483647)&&(a=b.hdr.id,this.telemetry.onInitialized(a),u.logger.log("Telemetry init response received")));else if("features"==b.v){a=b.features;if("feature-support"==b.command)for(u.logger.log("features capabilities received, features:"+a),this.vdafeatures_=a,x=0;x<a.length;x++)if(a[x]===h.FEATURE_vda_app_sharing)this.screenshare.onInitialized(!0);this.clientViewportMode_=b.client_viewport_mode;u.logger.log("features client_viewport_mode value: "+
this.clientViewportMode_);this.sessionId_=b.client_session_id}else if("appsharing"==b.v)a=b.status,0==a?(x=b.hdr.command,a=b.hdr.id,(x&2147483647)==q.sshare_cmd.GetSources?(u.logger.log("appsharing GetSources response received"),x=b.data,this.screenshare.onGetSources(a,x)):(x&2147483647)==q.sshare_cmd.SetActive?(u.logger.log("appsharing SetActive response received"),x=b.data,this.screenshare.onSetActive(a,x)):(x&2147483647)==q.sshare_cmd.TopologyChanged?(u.logger.log("appsharing Window topology changed cmd received"),
this.screenshare.onToplogyChanged()):(u.logger.log("invalid command reply:"+x),this.screenshare.onError(a))):(u.logger.log("invalid status reply:"+a),a=b.hdr.id,this.screenshare.onError(a));else if(x=this.handlers_.find(function(a){return a.name==b.v}),void 0!=x)x.on_message(b);else u.logger.log("HDXMS: onWSMessage: Unknown protocol: "+a+"'")};a.prototype.clearReqs=function(){u.logger.log("clearReqs()");this.reqs.forEach(function(a,b){a.reject()});this.reqs=[]};a.prototype.registerHandler=function(a,
b,d,g){a=new n(g.resolve.bind(g),g.reject.bind(g),a,b,g.id,g.oneShot,d,g.completion_cb);this.cbs.push(a)};a.prototype.unregisterHandler=function(a,b,d){var g=this.cbs.findIndex(function(g){return g.iid==a&&g.oid==b&&g.cbid==d});0<=g?this.cbs.splice(g,1):(u.logger.log("HDXMS Didnt find this callback in the list!"),u.logger.log(JSON.stringify(this.cbs)))};a.prototype.isRedirected=function(){return this.status===v.Redirected||this.status===v.Binding||this.status===v.Connecting};a.prototype.isConnected=
function(){return this.status==v.Redirected};a.prototype.isPingActive=function(){return this.pingactive};a.prototype.pingConnectionBegin=function(a){u.logger.log("Started timer");this.pingactive=!0;var b=window.onVdiClientDisconnectedTimer;1==a?(u.logger.log("checking if we are connected..."),b()):this.conntimer=setTimeout(function(){u.logger.log("checking if we are connected...");b&&b()},15E3)};a.prototype.pingConnectionEnd=function(){this.pingactive=!1;clearTimeout(this.conntimer)};a.prototype.SendTelemetryData_Speaker=
function(a){this.telemetry.SendTelemetryData(w.tel_cmd.Data,w.tel_key_SpeakerDeviceUsed,a,0)};a.prototype.registerStateChangeNotification=function(a){this.stateChangeNotifcations.push(a)};a.prototype.unregisterStateChangeNotification=function(a){this.stateChangeNotifcations=this.stateChangeNotifcations.filter(function(b){return b!=a})};a.prototype.dispatchStateChangeNotifications=function(){this.stateChangeNotifcations.forEach(function(a){a()})};a.prototype.vdabufferNoLimit=function(){for(var a=!1,
b=0,d=this.vdafeatures_;b<d.length;b++)if(d[b]===h.FEATURE_vda_service_no_buffer_limit){a=!0;break}return a};Object.defineProperty(a.prototype,"clientViewportMode",{get:function(){return this.clientViewportMode_||"unknown"},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"sessionClientId",{get:function(){return this.sessionId_||""},enumerable:!1,configurable:!0});a.prototype.addProtocolHandler=function(a){void 0==this.handlers_.find(function(b){return b.name==a.name})&&this.handlers_.push(a)};
return a}();a.HdxMediaStream=b;var z=new b;a.getRedirector=function(){return z}},985:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),u=this&&this.__spreadArrays||function(){for(var a=
0,b=0,d=arguments.length;b<d;b++)a+=arguments[b].length;for(var a=Array(a),c=0,b=0;b<d;b++)for(var e=arguments[b],g=0,h=e.length;g<h;g++,c++)a[c]=e[g];return a};Object.defineProperty(a,"__esModule",{value:!0});a.IceCandidatePair=a.IceCandidate=void 0;var h=c(658),d=c(550),w=c(851);b=function(a){function b(c,e,z){for(var g=[],h=3;h<arguments.length;h++)g[h-3]=arguments[h];return a.apply(this,u([c,d.class_id_t.RTCIceCandidate,e,z,null,[]],g))||this}e(b,a);Object.defineProperty(b.prototype,"candidate",
{get:function(){return this.candidate_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"sdpMid",{get:function(){return this.sdpMid_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"sdpMLineIndex",{get:function(){return this.sdpMLineIndex_},enumerable:!1,configurable:!0});b.prototype.syncBarrier=function(){var a=this;w.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("IceCandidate.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,
d.method_id_RTCIceCandidate_t.candidate,""),a.remoteInvoke(!1,d.method_id_RTCIceCandidate_t.sdpMid,""),a.remoteInvoke(!1,d.method_id_RTCIceCandidate_t.sdpMLineIndex,0)])}).then(function(b){b=b.map(function(b){return a.param0(b)});a.candidate_=b[0];a.sdpMid_=b[1];a.sdpMLineIndex_=b[2];a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier failed!");a.syncBarrierReject(b)})})};return b}(h.ProxyObject);a.IceCandidate=b;b=function(a){function b(c,e){return a.call(this,
c,d.class_id_t.RTCIceCandidatePair,e,h.ProxyMode.Remote)||this}e(b,a);Object.defineProperty(b.prototype,"local",{get:function(){return this.local_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"remote",{get:function(){return this.remote_},enumerable:!1,configurable:!0});b.prototype.syncBarrier=function(){var a=this;w.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("IceCandidatePair.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,
d.method_id_RTCIceCandidatePair_t.local,{}),a.remoteInvoke(!1,d.method_id_RTCIceCandidatePair_t.remote,{})])}).then(function(b){b=b.map(function(b){return a.param0(b)});a.local_=b[0];a.remote_=b[1];a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier failed!");a.syncBarrierReject(b)})})};return b}(h.ProxyObject);a.IceCandidatePair=b},851:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.logger=a.Logger=void 0;var e=c(550);b=function(){function a(b){this.tracing=
!1;this.mslogger_=void 0;this.enable_timestamp_=!1;this.tag=b;this.enabled=!0;e.BUILD_TYPE_SDK&&(this.enable_timestamp_=!0)}a.prototype.setMSLogger=function(a,b){this.mslogger_=a;void 0!=b&&(this.enable_timestamp_=b)};a.prototype.log=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.enabled&&(a=this.tag+" "+a,this.enable_timestamp_&&(b=new Date,a="["+b.getTime()+"] "+b.toISOString()+" "+a),void 0!=this.mslogger_?this.mslogger_.info(a):console.log(a))};a.prototype.logx=function(a){for(var b=
[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];a||this.log(b)};a.prototype.trace=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.tracing&&this.log.apply(this,a)};return a}();a.Logger=b;a.logger=new b("[HdxWebRTC.js]");a.logger.enabled=!0},360:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,
d)};return function(b,d){function f(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=this&&this.__awaiter||function(a,b,d,f){function c(a){return a instanceof d?a:new d(function(f){f(a)})}return new (d||(d=Promise))(function(d,K){function g(a){try{m(f.next(a))}catch(b){K(b)}}function r(a){try{m(f["throw"](a))}catch(b){K(b)}}function m(a){a.done?d(a.value):c(a.value).then(g,r)}m((f=f.apply(a,b||[])).next())})},h=this&&this.__generator||function(a,
b){function d(a){return function(b){return f([a,b])}}function f(f){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,r&&(m=f[0]&2?r["return"]:f[0]?r["throw"]||((m=r["return"])&&m.call(r),0):r.next)&&!(m=m.call(r,f[1])).done)return m;if(r=0,m)f=[f[0]&2,m.value];switch(f[0]){case 0:case 1:m=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++;r=f[1];f=[0];continue;case 7:f=c.ops.pop();c.trys.pop();continue;default:if(!(m=c.trys,m=0<m.length&&m[m.length-
1])&&(6===f[0]||2===f[0])){c=0;continue}if(3===f[0]&&(!m||f[1]>m[0]&&f[1]<m[3]))c.label=f[1];else if(6===f[0]&&c.label<m[1])c.label=m[1],m=f;else if(m&&c.label<m[2])c.label=m[2],c.ops.push(f);else{m[2]&&c.ops.pop();c.trys.pop();continue}}f=b.call(a,c)}catch(d){f=[6,d],r=0}finally{g=m=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},g,r,m,e;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
return e={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e},d=this&&this.__spreadArrays||function(){for(var a=0,b=0,d=arguments.length;b<d;b++)a+=arguments[b].length;for(var a=Array(a),f=0,b=0;b<d;b++)for(var c=arguments[b],g=0,r=c.length;g<r;g++,f++)a[f]=c[g];return a};Object.defineProperty(a,"__esModule",{value:!0});a.PeerConnection=a.SessionDescription=a.SessionDescriptionInit=a.RtcConfiguration=a.RtcIceServer=a.IceCandidateEvent=
void 0;var w=c(946),q=c(144),n=c(589),k=c(658),v=c(985),z=c(377),g=c(650),B=c(24),t=c(550),m=c(851),D=c(517),y=c(394),x=function(a){function b(d,f,c){d=a.call(this,d,t.class_id_t.RTCIceCandidateEvent,f,k.ProxyMode.Remote)||this;d.target=c;d.type="icecandidate";return d}e(b,a);Object.defineProperty(b.prototype,"candidate",{get:function(){return this.candidate_},enumerable:!1,configurable:!0});b.prototype.syncBarrier=function(){var a=this;m.logger.log(this.user_friendly_id()+".syncBarrier() called.");
return new Promise(function(f,b){a.syncBarrierDeep(f,b)&&a.waitUntilConnected(a.user_friendly_id()+".syncBarrier").then(function(){return a.remoteInvoke(!1,t.method_id_RTCIceCandidateEvent_t.candidate,{oid:0})}).then(function(f){f=a.param0(f);return!1===f.is_null?(new v.IceCandidate(a,f.oid,k.ProxyMode.Remote)).syncBarrier():Promise.resolve(null)}).then(function(f){m.logger.log(a.user_friendly_id()+".onicecandidate: icecandidate available!");a.candidate_=f;a.syncBarrierResolve(a)})["catch"](function(f){f=
a.logRemoteInvokeError(f,".onicecandidate() failed!");a.syncBarrierReject(f)})})};return b}(k.ProxyObject);a.IceCandidateEvent=x;var r=function(){function a(b,d){this.state_="new";this.candidates_=[];this.gatheringstateupdatecb_=void 0;this.pc_=b;this.gatheringstateupdatecb_=d}a.prototype.pushState=function(a){m.logger.log(this.pc_.user_friendly_id()+".onicegatheringstatechange: new state is "+a);this.state_=a;"gathering"==this.state_?(this.candidates_=[],this.postUpdate()):this.processRemaining()};
a.prototype.addIceCandidate=function(a){var b=this;this.candidates_.push(a);var f=[];f.push(a.syncBarrier());f.push(this.pc_.updateSdpDescription(!0));Promise.all(f).then(function(a){m.logger.log(b.pc_.user_friendly_id()+".onicecandidate: icecandidate available!");b.postIceCandidate(a[0])})};a.prototype.postIceCandidate=function(a){m.logger.log(this.pc_.user_friendly_id()+".onicecandidate: posting ice candidate now!");if(null!=this.pc_.onicecandidate)this.pc_.onicecandidate(a);else m.logger.log(this.pc_.user_friendly_id()+
"onicecandidate is NULL!!!");this.candidates_.shift();this.processRemaining()};a.prototype.postUpdate=function(){m.logger.log(this.pc_.user_friendly_id()+".onicegatheringstatechange: posting event now!");var a=new p("onicegatheringstatechange",this.pc_);this.gatheringstateupdatecb_&&this.gatheringstateupdatecb_(this.state_);this.pc_.onicegatheringstatechange(a)};a.prototype.processRemaining=function(){0==this.candidates_.length&&"complete"==this.state_?(this.pc_.onicecandidate({candidate:null,target:this}),
this.postUpdate()):m.logger.log(this.pc_.user_friendly_id()+".onicecandidate: candidates remaining=["+this.candidates_.map(function(a){return a.object_id()})+"], state="+this.state_)};return a}(),A=function(){function a(){}a.toRtcIceServer=function(a,b){var f={urls:[],credential:"",username:""};a&&(a.urls?Array.isArray(a.urls)?f.urls=a.urls:f.urls.push(a.urls):m.logger.log("RtcIceServer.toRtcIceServer().urls property is missing! this is required property!"),a.credential&&(a.credential.hasOwnProperty("accessToken")?
f.credential=a.credential.accessToken:f.credential=a.credential),a.username&&(f.username=a.username));if(1==b)for(var d in a)"urls"!=d&&"credential"!=d&&"username"!=d&&m.logger.log("RtcIceServer.toRtcIceServer() warning: unsupported property:"+d);return f};return a}();a.RtcIceServer=A;var M=function(){function a(){}a.toRtcConfiguration=function(a,b){1==b&&m.logger.log("RtcConfiguration.toRtcConfiguration() in RTCConfiguration config:"+JSON.stringify(a));var f={};if(a){if(a.iceServers){f.iceServers=
[];for(var d=0,c=a.iceServers;d<c.length;d++)f.iceServers.push(A.toRtcIceServer(c[d],b))}a.iceTransportPolicy&&(f.iceTransportPolicy=a.iceTransportPolicy);a.bundlePolicy&&(f.bundlePolicy=a.bundlePolicy);a.rtcpMuxPolicy&&(f.rtcpMuxPolicy=a.rtcpMuxPolicy);a.iceTransports&&(f.iceTransports=a.iceTransports);a.sdpSemantics&&(f.sdpSemantics=a.sdpSemantics);a.enableDtlsSrtp&&(f.enableDtlsSrtp=a.enableDtlsSrtp);a.enableDscp&&(f.enableDscp=a.enableDscp)}if(1==b){for(var g in a)"iceServers"!=g&&"iceTransportPolicy"!=
g&&"bundlePolicy"!=g&&"rtcpMuxPolicy"!=g&&"iceTransports"!=g&&"sdpSemantics"!=g&&"enableDtlsSrtp"!=g&&"enableDscp"!=g&&m.logger.log("RtcConfiguration.toRtcConfiguration() warning: unsupported property:"+g);m.logger.log("RtcConfiguration.toRtcConfiguration() converted RtcConfiguration config:"+JSON.stringify(f))}return f};return a}();a.RtcConfiguration=M;var F=function(){return function(a,b){this.sdp=b;this.type=a}}();a.SessionDescriptionInit=F;var l=function(a){function b(c,f,g){for(var r=[],m=3;m<
arguments.length;m++)r[m-3]=arguments[m];return a.apply(this,d([c,t.class_id_t.RTCSessionDescription,f,g,null,[]],r))||this}e(b,a);b.prototype.toJSON=function(){return{type:this.type_,sdp:this.sdp_}};Object.defineProperty(b.prototype,"sdp",{get:function(){return this.sdp_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"type",{get:function(){return this.type_},enumerable:!1,configurable:!0});b.prototype.syncBarrier=function(){var a=this;m.logger.log(this.user_friendly_id()+".syncBarrier() called.");
return new Promise(function(f,b){a.syncBarrierDeep(f,b)&&a.waitUntilConnected(a.user_friendly_id()+".syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,t.method_id_RTCSessionDescription_t.type,0),a.remoteInvoke(!1,t.method_id_RTCSessionDescription_t.sdp,"")])}).then(function(f){a.type_=a.convertType(a.param0(f[0]));a.sdp_=a.param0(f[1]);a.syncBarrierResolve(a)})["catch"](function(f){f=a.logRemoteInvokeError(f,".syncBarrier() failed!");a.syncBarrierReject(f)})})};b.prototype.convertType=
function(a){return 0==a?"offer":1==a?"pranswer":2==a?"answer":"rollback"};b.convertC2H=function(a){return"offer"==a?0:"pranswer"==a?1:"answer"==a?2:3};return b}(k.ProxyObject);a.SessionDescription=l;var p=function(){return function(a,b){this.type=a;this.target=b}}(),L=function(){return function(){}}(),P=function(){function a(b,d){this.local=b;this.remote=d}Object.defineProperty(a.prototype,"active",{get:function(){var a=!1;if(1==this.local||1==this.remote)a=!0;return a},enumerable:!1,configurable:!0});
return a}();b=function(a){function b(d){var f=a.call(this,null,t.class_id_t.RTCPeerConnection,0,k.ProxyMode.Local,null,[],b.ensure_config_defined(d,!1),{})||this;f.timeerstarted_=!1;f.firsttimeremoteoffer_=!1;f.firststable_=!1;f.firsttimelocaloffer_=!1;f.audiocall_=new P(!1,!1);f.videocall_=new P(!1,!1);f.screensharingcall_=new P(!1,!1);f.conferencecall_=!1;f.incomingcall_=!1;f.outgoingcall_=!1;f.usingasynconly_=!1;f.rtcconfig_=b.ensure_config_defined(d,!0);m.logger.log(f.user_friendly_id()+".constructor sdpSemantics="+
f.rtcconfig_.sdpSemantics);if(!t.BUILD_TYPE_SDK&&f.isUnified()&&!w.getRedirector().getFeatureValue(t.FEATURE_ms_teams_webrtc_1dot0))throw new DOMException("CWA client does not support unified sdpSemantic","createPeerConnection");f.pendingtransceiver_=0;f.pendingtrack_=0;f.deferredOfferAnswers=[];f.localStreams=[];f.remoteStreams=[];f.onaddstream_=null;f.signalingState_="stable";f.iceConnectionState_="new";f.iceGatheringState_="new";f.iceQ_=new r(f,function(a){f.onicegatheringstateupdate(a)});f.receivers_=
[];f.senders_=[];f.transceivers_=[];f.registerStateChangeNotification(f.onStateChange);f.localdatachannel_=null;f.remotedatachannel_=null;return f}e(b,a);b.ensure_config_defined=function(a,f){return M.toRtcConfiguration(a,f)};b.prototype.dumpSdp=function(a){m.logger.log(this.user_friendly_id()+".dumpSdp");a&&(m.logger.log(this.user_friendly_id()+"  -- type: "+a.type),m.logger.log(this.user_friendly_id()+"  -- sdp: "+a.sdp))};Object.defineProperty(b.prototype,"localDescription",{get:function(){m.logger.log(this.user_friendly_id()+
".get_localDescription() called.");return this.localDescription_},set:function(a){m.logger.log(this.user_friendly_id()+".set_localDescription() called.");this.localDescription_=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"remoteDescription",{get:function(){m.logger.log(this.user_friendly_id()+".get_remoteDescription() called.");return this.remoteDescription_},set:function(a){m.logger.log(this.user_friendly_id()+".get_remoteDescription() called.");this.remoteDescription_=a},
enumerable:!1,configurable:!0});b.prototype.isUnified=function(){return"unified"==this.rtcconfig_.sdpSemantics||"unified-plan"==this.rtcconfig_.sdpSemantics};b.prototype.onStateChange=function(){var a=new p("iceconnectionstatechange",this);if(this.oniceconnectionstatechange_)this.oniceconnectionstatechange_(a)};b.prototype.addIceCandidate=function(a){var f=this;m.logger.log(this.user_friendly_id()+".addIceCandidate() called.");this.waitUntilConnected(this.user_friendly_id()+".addIceCandidate").then(function(){var b=
{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex};if(void 0==b.candidate||null==b.candidate)b.candidate="";void 0==b.sdpMid&&(b.sdpMid=null);void 0==b.sdpMLineIndex&&(b.sdpMLineIndex=null);return(new v.IceCandidate(f,0,k.ProxyMode.Local,b)).syncBarrier()}).then(function(a){return f.remoteInvokeEx(!1,t.method_id_RTCPeerConnection_t.addIceCandidate,[a],{})}).then(function(){m.logger.log(f.user_friendly_id()+".addIceCandidate() success.");return f.updateSdpDescription(!1)}).then(function(){m.logger.log(f.user_friendly_id()+
".addIceCandidate() - sync remote sdp success.")})["catch"](function(a){f.logRemoteInvokeError(a,".addIceCandidate() failed!")})};Object.defineProperty(b.prototype,"onicecandidate",{get:function(){return this.onicecandidate_},set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_onicecandidate() called.");this.onicecandidate_=a;this.waitUntilConnected(this.user_friendly_id()+".onicecandidate").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.onicecandidate);
b.then(function(a){m.logger.log(f.user_friendly_id()+".onicecandidate callback received!!!");a=new x(f,f.param0(a).oid,f);null!=f.iceQ_&&f.iceQ_.addIceCandidate(a)});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.onicecandidate,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_onicecandidate() failed!")})},enumerable:!1,configurable:!0});b.prototype.convertIceConnectionState=function(a){return 0==a?"new":1==a?"checking":2==a?"connected":3==a?"completed":4==a?"failed":5==a?
"disconnected":"closed"};b.prototype.convertConnectionState=function(a){if(0!=a){if(1==a)return"connecting";if(2==a)return"connected";if(3==a)return"disconnected";if(4==a)return"failed";if(5==a)return"closed"}return"new"};Object.defineProperty(b.prototype,"onconnectionstatechange",{get:function(){return this.onconnectionstatechange_},set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_onconnectionstatechange() called.");this.onconnectionstatechange_=a;this.waitUntilConnected(this.user_friendly_id()+
".onconnectionstatechange").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.onconnectionstatechange);b.then(function(a){m.logger.log(f.user_friendly_id()+".onconnectionstatechange(): success callback received!!!");f.connectionState_=f.convertConnectionState(f.param0(a));m.logger.log(f.user_friendly_id()+" connectionState=:"+f.connectionState_);a=new p("connectionstatechange",f);if(f.onconnectionstatechange_)f.onconnectionstatechange_(a)});return f.remoteInvoke(!0,
t.method_id_RTCPeerConnection_t.onconnectionstatechange,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_onconnectionstatechange() failed!")})},enumerable:!1,configurable:!0});b.prototype.get_connectionState=function(){m.logger.log(this.user_friendly_id()+".get_connectionState() called, value = "+this.connectionState_);return this.isRedirected()?this.connectionState_:"failed"};Object.defineProperty(b.prototype,"oniceconnectionstatechange",{get:function(){return this.oniceconnectionstatechange_},
set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_oniceconnectionstatechange() called.");this.oniceconnectionstatechange_=a;this.waitUntilConnected(this.user_friendly_id()+".oniceconnectionstatechange").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.oniceconnectionstatechange);b.then(function(a){m.logger.log(f.user_friendly_id()+".oniceconnectionstatechange(): success callback received!!!");f.iceConnectionState_=f.convertIceConnectionState(f.param0(a));
a=new p("iceconnectionstatechange",f);if(f.oniceconnectionstatechange_)f.oniceconnectionstatechange_(a)});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.oniceconnectionstatechange,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_oniceconnectionstatechange() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"iceConnectionState",{get:function(){m.logger.log(this.user_friendly_id()+".get_iceConnectionState() called, value = "+this.iceConnectionState_);
return this.isRedirected()?this.iceConnectionState_:"failed"},enumerable:!1,configurable:!0});b.prototype.convertIceGatheringState=function(a){return 0==a?"new":1==a?"gathering":"complete"};b.prototype.onicegatheringstateupdate=function(a){m.logger.log(this.user_friendly_id()+".onicegatheringstateupdate() current:"+this.iceGatheringState_+" updating to:"+a);this.iceGatheringState_=a;m.logger.log(this.user_friendly_id()+".onicegatheringstateupdate() after update: iceGatheringState_:"+this.iceGatheringState_)};
Object.defineProperty(b.prototype,"onicegatheringstatechange",{get:function(){return this.onicegatheringstatechange_},set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_onicegatheringstatechange() called.");this.onicegatheringstatechange_=a;this.waitUntilConnected(this.user_friendly_id()+".onicegatheringstatechange").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.onicegatheringstatechange);b.then(function(a){m.logger.log(f.user_friendly_id()+
".onicegatheringstatechange(): callback received!!!");a=f.convertIceGatheringState(f.param0(a));null!=f.iceQ_&&f.iceQ_.pushState(a)});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.onicegatheringstatechange,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_onicegatheringstatechange() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"iceGatheringState",{get:function(){m.logger.log(this.user_friendly_id()+".get_iceGatheringState() called, value = "+
this.iceGatheringState_);return this.iceGatheringState_},enumerable:!1,configurable:!0});b.prototype.convertSignalState=function(a){return 0==a?"stable":1==a?"have-local-offer":2==a?"have-local-pranswer":3==a?"have-remote-offer":4==a?"have-remote-pranswer":"closed"};b.prototype.TelemtryReadings_=function(){var a=this;"have-local-offer"==this.signalingState_&&0==this.firsttimelocaloffer_&&0==this.firsttimeremoteoffer_&&(this.outgoingcallstart_=(new Date).getTime(),0==this.outgoingcall_&&(this.SendTelemetryData(y.tel_key_PerfCallState,
y.tel_CallState.active,1),this.SendTelemetryData(y.tel_key_PerfCallDirection,y.tel_CallDirection.outgoing,1),this.outgoingcall_=!0),this.firsttimelocaloffer_=!0);"have-remote-offer"==this.signalingState_&&0==this.firsttimeremoteoffer_&&0==this.firsttimelocaloffer_&&(this.incomingcallstart_=(new Date).getTime(),0==this.incomingcall_&&(this.SendTelemetryData(y.tel_key_PerfCallState,y.tel_CallState.active,1),this.SendTelemetryData(y.tel_key_PerfCallDirection,y.tel_CallDirection.incoming,1),this.incomingcall_=
!0),this.firsttimeremoteoffer_=!0);"stable"==this.signalingState_&&0==this.firststable_&&(this.callstartTime_=(new Date).getTime(),this.firststable_=this.timeerstarted_=!0);if("stable"==this.signalingState_){for(var f=0,b=this.localStreams;f<b.length;f++){var d=b[f];1<=d.getAudioTracks().length&&0==this.audiocall_.local&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.audio,1),this.audiocall_.local=!0);d=d.getVideoTracks();if(1<=d.length)for(var c=0,g=d;c<g.length;c++)d=g[c],1==d.getSettings().deviceId.includes("display")?
0==this.screensharingcall_.local&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.dshare,1),this.screensharingcall_.local=!0):0==this.videocall_.local&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.video,1),this.videocall_.local=!0)}f=0;for(b=this.remoteStreams;f<b.length;f++)if(d=b[f],1<=d.getAudioTracks().length&&0==this.audiocall_.remote&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.audio,1),this.audiocall_.remote=!0),c=d.getVideoTracks(),1<=c.length)for(d=
0;d<c.length;d++)1==c[d].id.includes("applicationsharingVideo")?0==this.screensharingcall_.remote&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.dshare,1),this.screensharingcall_.remote=!0):0==this.videocall_.remote&&(this.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.video,1),this.videocall_.remote=!0);this.getReceiversAsync().then(function(f){2<f.length&&0==a.conferencecall_&&(a.SendTelemetryData(y.tel_key_PerfCallType,y.tel_CallType.multi,1),a.conferencecall_=!0)})}};
Object.defineProperty(b.prototype,"onsignalingstatechange",{set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_onsignalingstatechange() called.");this.onsignalingstatechange_=a;this.waitUntilConnected(this.user_friendly_id()+".onsignalingstatechanged").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.onsignalingstatechange);b.then(function(a){m.logger.log(f.user_friendly_id()+".onsignalingstatechange(): callback received!!!");f.signalingState_=
f.convertSignalState(f.param0(a));a=new p("onsignalingstatechange",f);if(f.onsignalingstatechange_)f.onsignalingstatechange_(a);f.TelemtryReadings_()});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.onsignalingstatechange,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_onsignalingstatechange() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onsignalingstatechanged",{get:function(){return this.onsignalingstatechange_},enumerable:!1,configurable:!0});
Object.defineProperty(b.prototype,"ontrack",{get:function(){return this.ontrack_},set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_ontrack() called.");this.ontrack_=a;this.waitUntilConnected(this.user_friendly_id()+".ontrack").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.ontrack);b.then(function(a){return u(f,void 0,void 0,function(){var f,b,d,c,r,K,C,e,x,A,t,v=this;return h(this,function(h){m.logger.log(this.user_friendly_id()+
".ontrack(): callback received!!!");f=new L;b=[];d=this.param0(a);void 0!=d.track&&!1===d.track.is_null&&(m.logger.log(this.user_friendly_id()+" adding a RemoteMediaTrack with oid:"+d.track.oid),c=new q.RemoteMediaTrack(this,d.track.oid),b.push(c.syncBarrier()));f.track=c;void 0!=d.receiver&&!1===d.receiver.is_null&&(r=this.receivers_.find(function(a){return a.object_id()===d.receiver.oid}),void 0===r&&(m.logger.log(this.user_friendly_id()+" adding a RtpReceiver with oid:"+d.receiver.oid),r=new n.RtpReceiver(this,
d.receiver.oid,k.ProxyMode.Remote,this.isUnified(),c)),b.push(r.syncBarrier()));f.receiver=r;g.RemoteSession.isFeatureWebrtc1dot0Supported()&&void 0!=d.transceiver&&!1===d.transceiver.is_null&&(K=this.transceivers_.find(function(a){return a.object_id()===d.transceiver.oid}),void 0===K&&(m.logger.log(this.user_friendly_id()+" adding a RtpTransceiver with oid:"+d.transceiver.oid),K=new z.RtpTransceiver(this,d.transceiver.oid,k.ProxyMode.Remote,this.isUnified(),z.RtcRtpTransceiverDirection.inactive,
r),this.transceivers_.push(K)),b.push(K.syncBarrier()));f.transceiver=K;f.streams=[];if(void 0!=d.streams)for(C=function(a){var d=e.remoteStreams.find(function(f){return!1===a.is_null&&f.object_id()===a.oid});void 0===d&&(m.logger.log(e.user_friendly_id()+" adding a RemoteStream with oid:"+a.oid),d=new q.RemoteStream(e,a.oid,k.ProxyMode.Remote),e.remoteStreams.push(d));b.push(d.syncBarrier());f.streams.push(d)},e=this,x=0,A=d.streams;x<A.length;x++)t=A[x],C(t);m.logger.log(this.user_friendly_id()+
".ontrack(): .prop.syncBarrier start");Promise.all(b).then(function(){m.logger.log(v.user_friendly_id()+".ontrack(): notified!!! with evt: "+f);for(var a=0,b=f.streams;a<b.length;a++)b[a].toggleAudio(!1);if(v.ontrack_)v.ontrack_(f)})["catch"](function(a){v.logRemoteInvokeError(a,".ontrack(): .prop.syncBarrier failed.")});return[2]})})});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.ontrack,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_ontrack(): failed.")})},enumerable:!1,
configurable:!0});Object.defineProperty(b.prototype,"signalingState",{get:function(){m.logger.log(this.user_friendly_id()+".get_signalingState() called, value = "+this.signalingState_);return this.signalingState_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onnegotiationneeded",{get:function(){return this.onnegotiationneeded_},set:function(a){var f=this;m.logger.log(this.user_friendly_id()+".set_onnegotiationneeded() called.");this.onnegotiationneeded_=a;this.waitUntilConnected(this.user_friendly_id()+
".onnegotiationneeded").then(function(){var b=f.registerCallbacks(!1,f.isNullCallback(a),t.method_id_RTCPeerConnection_t.onnegotiationneeded);b.then(function(){m.logger.log(f.user_friendly_id()+".onnegotiationneeded(): callback received!!!");var a=new p("negotiationneeded",f);if(f.onnegotiationneeded_)f.onnegotiationneeded_(a)});return f.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.onnegotiationneeded,b.success)})["catch"](function(a){f.logRemoteInvokeError(a,".set_onnegotiationneeded(): failed.")})},
enumerable:!1,configurable:!0});b.prototype.dumpConstraints=function(a){m.logger.log(this.user_friendly_id()+"constraints: "+a);void 0!==a&&0!==Object.keys(a).length||m.logger.log(this.user_friendly_id()+"constraints either undefined or empty!");a&&(m.logger.log(this.user_friendly_id()+"  -- video: "+a.offerToReceiveVideo),m.logger.log(this.user_friendly_id()+"  -- audio: "+a.offerToReceiveAudio),m.logger.log(this.user_friendly_id()+"  -- iceRestart: "+a.iceRestart),m.logger.log(this.user_friendly_id()+
"  -- voiceActivityDetection: "+a.voiceActivityDetection))};b.prototype.fix_constraints=function(a){this.dumpConstraints(a);var f={};this.isUnified()||(f={audio:!0,video:!0});if(a){if(void 0!==a.video||void 0!==a.offerToReceiveVideo)f.video=a.offerToReceiveVideo;if(void 0!==a.audio||void 0!==a.offerToReceiveAudio)f.audio=a.offerToReceiveAudio;void 0!==a.iceRestart&&(f.iceRestart=a.iceRestart);void 0!==a.voiceActivityDetection&&(f.voiceActivityDetection=a.voiceActivityDetection)}return f};b.prototype.createOffer=
function(a,f,b){m.logger.log(this.user_friendly_id()+".createOffer() called.",JSON.stringify(a));return this.isUnified()?void 0==a?this.createOffer_v2():a?this.createOffer_v2(a):this.createOffer_v1(a,f,b):this.createOffer_v1(a,f,b)};b.prototype.createOffer_v2=function(a){var f=this;m.logger.log(this.user_friendly_id()+".createOffer_v2() called.",JSON.stringify(a));return new Promise(function(b,d){f.createOffer_v1(function(a){m.logger.log(f.user_friendly_id()+".createOffer_v2(): got sdp!!!",JSON.stringify(a));
a=new F(a.type,a.sdp);b(a)},function(a){void 0!=a&&(a=f.logRemoteInvokeError(a,".createOffer_v2() failed."),d(a))},a)})};b.prototype.createOffer_v1=function(a,f,b){var d=this;m.logger.log(this.user_friendly_id()+".createOffer_v1().",JSON.stringify(b));var c=[this.waitUntilConnected(this.user_friendly_id()+".createOffer_v1"),this.waitTransceiverAndTrackReady(this.user_friendly_id()+".createOffer_v1")];Promise.all(c).then(function(){var a=d.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.createOffer);
d.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.createOffer,a.success,a.fail,d.fix_constraints(b));return a.prom()}).then(function(a){m.logger.log(d.user_friendly_id()+".createOffer_v1(): success callback received!!!");return(new l(d,d.param0(a).oid,k.ProxyMode.Remote)).syncBarrier()}).then(function(f){a&&a(f)})["catch"](function(a){void 0!=a&&(a=d.logRemoteInvokeError(a,".createOffer_v1() failed."),f&&f(a))})};b.prototype.createAnswer=function(a,f,b){m.logger.log(this.user_friendly_id()+".createAnswer() called.",
JSON.stringify(a));return this.isUnified()?void 0==a?this.createAnswer_v2():a?this.createAnswer_v2(a):this.createAnswer_v1(a,f,b):this.createAnswer_v1(a,f,b)};b.prototype.createAnswer_v2=function(a){var f=this;m.logger.log(this.user_friendly_id()+".createAnswer_v2() called.",JSON.stringify(a));return new Promise(function(b,d){f.createAnswer_v1(function(a){m.logger.log(f.user_friendly_id()+".createAnswer_v2(): got sdp!!!",JSON.stringify(a));a=new F(a.type,a.sdp);b(a)},function(a){void 0!=a&&(a=f.logRemoteInvokeError(a,
".createAnswer_v2() failed."),d(a))},a)})};b.prototype.createAnswer_v1=function(a,f,b){var d=this;m.logger.log(this.user_friendly_id()+".createAnswer_v1() called.",JSON.stringify(b));var c=[this.waitUntilConnected(this.user_friendly_id()+".createAnswer_v1"),this.waitTransceiverAndTrackReady(this.user_friendly_id()+".createAnswer_v1")];Promise.all(c).then(function(){var a=d.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.createAnswer);d.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.createAnswer,
a.success,a.fail,d.fix_constraints(b),{});return a.prom()}).then(function(a){m.logger.log(d.user_friendly_id()+".createAnswer_v1(): success callback received!!!");return(new l(d,d.param0(a).oid,k.ProxyMode.Remote)).syncBarrier()}).then(function(f){a&&a(f)})["catch"](function(a){a=d.logRemoteInvokeError(a,".createAnswer_v1() failed.");f&&f(a.message)})};b.prototype.updateSdpDescription=function(a){m.logger.log(this.user_friendly_id()+".updateSdpDescription() called.");var f=this;return new Promise(function(b,
d){var c=[];1==a?c.push(f.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.localDescription,{oid:0})):c.push(f.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.remoteDescription,{oid:0}));Promise.all(c).then(function(a){m.logger.log(f.user_friendly_id()+".updateSdpDescription() resolved.");return(new l(f,f.param0(a[0]).oid,k.ProxyMode.Remote)).syncBarrier()}).then(function(d){1==a?f.localDescription_=d:f.remoteDescription_=d;m.logger.log(f.user_friendly_id()+".updateSdpDescription() updated sdp");b()})["catch"](function(a){f.logRemoteInvokeError(a,
"sdp.syncBarrier() failed!");d()})})};b.prototype.sdpToString=function(a){var f="",b=0;for(a=a?a.split(/\r?\n/):[];b<a.length;b++){var d=a[b];-1!=d.indexOf("m=",0)?f+=d+"\\r\\n":-1!=d.indexOf("o=-",0)?f+=d+"\\r\\n":-1!=d.indexOf("a=ssrc",0)&&(f+=d+"\\r\\n")}return f};b.prototype.setLocalDescription=function(a,f,b){m.logger.log(this.user_friendly_id()+".setLocalDescription() called.",this.sdpToString(a.sdp));if(a instanceof F)return this.setLocalDescription_v2(a);if(a instanceof RTCSessionDescription&&
f)return this.setLocalDescription_v1(a,f,b);f=void 0;a?f=new F(a.type,a.sdp):(m.logger.log(this.user_friendly_id()+".setLocalDescription() empty param1, setting sdp type to rollback"),a=void 0,a="have-remote-offer"==this.signalingState_?"answer":"have-local-pranswer"==this.signalingState_||"have-remote-pranswer"==this.signalingState_?"pranswer":"offer",f=new F(a,""));return this.setLocalDescription_v2(f)};b.prototype.setLocalDescription_v2=function(a){var f=this;m.logger.log(this.user_friendly_id()+
".setLocalDescription_v2() called.");return new Promise(function(b,d){f.waitUntilConnected(f.user_friendly_id()+".setLocalDescription_v2").then(function(){return(new l(f,0,k.ProxyMode.Local,{type:l.convertC2H(a.type),sdp:a.sdp})).syncBarrier()}).then(function(c){var g=f.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.setLocalDescription_v2),r={type:l.convertC2H(a.type),sdp:a.sdp};f.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.setLocalDescription_v2,r,g.success,g.fail);g.prom().then(function(){m.logger.log(f.user_friendly_id()+
".setLocalDescription_v2(): success callback received!!!");f.localDescription_=c;m.logger.log(f.user_friendly_id()+".setLocalDescription_v2(): updated localDescription_");Promise.all([]).then(function(){m.logger.log(f.user_friendly_id()+".setLocalDescription_v2() success.");b()})["catch"](function(a){a=f.logRemoteInvokeError(a,".prop.setLocalDescription_v2() failed!");d(a)})})["catch"](function(a){a=f.logRemoteInvokeError(a,"setLocalDescription_v2() error callback received!");d(a)})})["catch"](function(a){a=
f.logRemoteInvokeError(a,".setLocalDescription_v2() failed.");d(a)})})};b.prototype.setLocalDescription_v1=function(a,f,b){var d=this;m.logger.log(this.user_friendly_id()+".setLocalDescription_v1() called.");this.waitUntilConnected(this.user_friendly_id()+".setLocalDescription_v1").then(function(){return(new l(d,0,k.ProxyMode.Local,{type:l.convertC2H(a.type),sdp:a.sdp})).syncBarrier()}).then(function(a){var c=d.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.setLocalDescription);d.remoteInvokeEx(!1,
t.method_id_RTCPeerConnection_t.setLocalDescription,[a],c.success,c.fail);c.prom().then(function(){m.logger.log(d.user_friendly_id()+".setLocalDescription_v1(): success callback received!!!");d.localDescription_=a;m.logger.log(d.user_friendly_id()+".setLocalDescription_v1(): updated localDescription_");Promise.all([]).then(function(){m.logger.log(d.user_friendly_id()+".setLocalDescription_v1() success.");f&&f()})["catch"](function(a){a=d.logRemoteInvokeError(a,".prop.setLocalDescription_v1() failed.");
b&&b(a.message)})})["catch"](function(a){a=d.logRemoteInvokeError(a,".setLocalDescription_v1() error callback received.");b&&b(a.message)})})["catch"](function(a){a=d.logRemoteInvokeError(a,".setLocalDescription_v1() failed.");b&&b(a.message)})};b.prototype.setRemoteDescription=function(a,f,b){m.logger.log(this.user_friendly_id()+".setRemoteDescription() called.",this.sdpToString(a.sdp));if(a instanceof F)return this.setRemoteDescription_v2(a);if(a instanceof RTCSessionDescription&&f)return this.setRemoteDescription_v1(a,
f,b);f=void 0;a?f=new F(a.type,a.sdp):(m.logger.log(this.user_friendly_id()+".setRemoteDescription() empty param1, setting sdp type to rollback"),a=void 0,a="have-remote-offer"==this.signalingState_?"answer":"have-local-pranswer"==this.signalingState_||"have-remote-pranswer"==this.signalingState_?"pranswer":"offer",f=new F(a,""));return this.setRemoteDescription_v2(f)};b.prototype.setRemoteDescription_v2=function(a){var f=this;m.logger.log(this.user_friendly_id()+".setRemoteDescription_v2() called.");
return new Promise(function(b,d){f.waitUntilConnected(f.user_friendly_id()+".setRemoteDescription_v2").then(function(){var c=new l(f,0,k.ProxyMode.Local,{type:l.convertC2H(a.type),sdp:a.sdp}),g=[];g.push(c.syncBarrier());var c=f.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.setRemoteDescription_v2),r={type:l.convertC2H(a.type),sdp:a.sdp};f.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.setRemoteDescription_v2,r,c.success,c.fail);g.push(c.prom());Promise.all(g).then(function(a){m.logger.log(f.user_friendly_id()+
".setRemoteDescription_v2(): remote success.");f.remoteDescription_=a[0];g=[];f.usingasynconly_||(f.isUnified()?g.push(f.getTransceiversAsync()):g.push(f.getSendersAsync()));Promise.all(g).then(function(a){m.logger.log(f.user_friendly_id()+".setRemoteDescription_v2(): final success.");b()})["catch"](function(a){a=f.logRemoteInvokeError(a,".prop.setRemoteDescription_v2() final failed.");d(a)})})["catch"](function(a){a=f.logRemoteInvokeError(a,".prop.setRemoteDescription_v2() remote failed.");d(a)})})["catch"](function(a){a=
f.logRemoteInvokeError(a,".setRemoteDescription_v2() failed.");d(a)})})};b.prototype.setRemoteDescription_v1=function(a,f,b){var d=this;m.logger.log(this.user_friendly_id()+".setRemoteDescription_v1() called.");this.waitUntilConnected(this.user_friendly_id()+".setRemoteDescription_v1").then(function(){return(new l(d,0,k.ProxyMode.Local,{type:l.convertC2H(a.type),sdp:a.sdp})).syncBarrier()}).then(function(a){var c=d.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.setRemoteDescription);d.remoteInvokeEx(!1,
t.method_id_RTCPeerConnection_t.setRemoteDescription,[a],c.success,c.fail);c.prom().then(function(){m.logger.log(d.user_friendly_id()+".setRemoteDescription_v1(): success callback received!!!");d.remoteDescription_=a;m.logger.log(d.user_friendly_id()+".setRemoteDescription_v1(): updated remoteDescription_");var c=[];d.usingasynconly_||(d.isUnified()?c.push(d.getTransceiversAsync()):c.push(d.getSendersAsync()));Promise.all(c).then(function(){m.logger.log(d.user_friendly_id()+".setRemoteDescription_v1(): success.");
f&&f()})["catch"](function(a){a=d.logRemoteInvokeError(a,".prop.setRemoteDescription_v1() failed.");b&&b(a.message)})})})["catch"](function(a){a=d.logRemoteInvokeError(a,".setRemoteDescription_v1() failed.");b&&b(a.message)})};b.prototype.getLocalStreams=function(){m.logger.log("PeerConnection.getLocalStreams() called. [oid="+this.object_id()+"]");for(var a=0,f=this.localStreams;a<f.length;a++)m.logger.log(JSON.stringify(f[a]));return this.localStreams};b.prototype.getRemoteStreams=function(){m.logger.log(this.user_friendly_id()+
".getRemoteStreams() called.");for(var a=0,f=this.remoteStreams;a<f.length;a++)m.logger.log(JSON.stringify(f[a]));return this.remoteStreams};b.prototype.addTrack=function(a,f){return this.addTrackInternal(a,f,!1)};b.prototype.addTrackAsync=function(a,f){return this.addTrackInternal(a,f,!0)};b.prototype.addTrackInternal=function(a,f,b){var d=this;m.logger.log(this.user_friendly_id()+".addTrackInternal() called. track.id = "+a.id+", streams = "+JSON.stringify(f)+", isAsync = "+b);this.incrementPendingTrackCount();
var c=[];if(f)if(f instanceof q.RemoteStream)c.push(f.id),this.localStreams.push(f);else for(var g=0;g<f.length;g++)c.push(f[g].id),this.localStreams.push(f[g]);else m.logger.log(this.user_friendly_id()+".addTrackInternal() empty streams passed in, continue with empty array");var r=new n.RtpSender(this,0,k.ProxyMode.Pseudo,this.isUnified());this.senders_.push(r);f=new Promise(function(f,b){d.waitUntilConnected(d.user_friendly_id()+".addTrackInternal").then(function(){return d.remoteInvokeEx(!1,t.method_id_RTCPeerConnection_t.addTrack,
[a],c)}).then(function(a){m.logger.log(d.user_friendly_id()+".addTrackInternal() success with oid: "+d.param0(a).oid);r.bind(d,d.param0(a).oid);r.syncBarrier().then(function(){m.logger.log(d.user_friendly_id()+"sender.syncBarrier(): success");!d.usingasynconly_&&d.isUnified()?d.getTransceiversAsync().then(function(){d.decrementPendingTrackCount();f(r)})["catch"](function(a){d.logRemoteInvokeError(a,".addTrackInternal() getTransceiversAsync() failed!");d.decrementPendingTrackCount();b()}):(d.decrementPendingTrackCount(),
f(r))})["catch"](function(a){d.logRemoteInvokeError(a,"sender.syncBarrier() failed!");d.decrementPendingTrackCount();b()})})["catch"](function(a){d.logRemoteInvokeError(a,"addTrack() failed!");d.decrementPendingTrackCount();b()})});if(b)return f;m.logger.log(this.user_friendly_id()+".addTrack() returning: "+r);return r};b.prototype.removeTrack=function(a){m.logger.log(this.user_friendly_id()+".removeTrack() called.");this.removeTrackAsync(a)};b.prototype.removeTrackAsync=function(a){var f=this;m.logger.log(this.user_friendly_id()+
".removeTrackAsync() called.");this.incrementPendingTrackCount();for(var b=0;b<this.senders_.length;b++)this.senders_[b]==a&&this.senders_.splice(b,1);return new Promise(function(b,d){f.waitUntilConnected(f.user_friendly_id()+".removeTrackAsync").then(function(){return f.remoteInvokeEx(!1,t.method_id_RTCPeerConnection_t.removeTrack,[a])}).then(function(){m.logger.log(f.user_friendly_id()+".removeTrackAsync() success.");!f.usingasynconly_&&f.isUnified()?f.getTransceiversAsync().then(function(){f.decrementPendingTrackCount();
b()})["catch"](function(a){f.logRemoteInvokeError(a,"removeTrackAsync() getTransceiversAsync() failed!");f.decrementPendingTrackCount();d(a)}):(f.decrementPendingTrackCount(),b())})["catch"](function(a){f.logRemoteInvokeError(a,"removeTrackAsync() failed!");f.decrementPendingTrackCount();d(a)})})};b.prototype.addStream=function(a){var b=this;m.logger.log(this.user_friendly_id()+".addStream() called: "+JSON.stringify(a));this.localStreams.push(a);this.waitUntilConnected(this.user_friendly_id()+".addStream").then(function(){return b.remoteInvokeEx(!1,
t.method_id_RTCPeerConnection_t.addStream,[a],{})}).then(function(){m.logger.log(b.user_friendly_id()+".addStream() success.")})["catch"](function(a){b.logRemoteInvokeError(a,"addStream() failed.")})};b.prototype.removeStream=function(a){var b=this;m.logger.log(this.user_friendly_id()+".removeStream() called: "+JSON.stringify(a));for(var d=0;d<this.localStreams.length;d++)this.localStreams[d]==a&&this.localStreams.splice(d,1);this.waitUntilConnected(this.user_friendly_id()+".removeStream").then(function(){return b.remoteInvokeEx(!1,
t.method_id_RTCPeerConnection_t.removeStream,[a])}).then(function(){m.logger.log(b.user_friendly_id()+".removeStream() success.")})["catch"](function(a){b.logRemoteInvokeError(a,"removeStream() failed.")})};Object.defineProperty(b.prototype,"onaddstream",{get:function(){return this.onaddstream_},set:function(a){var b=this;m.logger.log(this.user_friendly_id()+".set_onaddstream() called.");this.onaddstream_=a;this.waitUntilConnected(this.user_friendly_id()+".onaddstream").then(function(){var d=b.registerCallbacks(!1,
b.isNullCallback(a),t.method_id_RTCPeerConnection_t.onaddstream);d.then(function(a){(new q.RemoteStreamEvent(b,b.param0(a).oid)).syncBarrier().then(function(a){m.logger.log(b.user_friendly_id()+".onaddstream callback received!");void 0===b.remoteStreams.find(function(b){return void 0!=a.stream&&b.object_id()===a.stream.object_id()})&&b.remoteStreams.push(a.stream);b.onaddstream_&&(m.logger.log(b.user_friendly_id()+".onaddstream notified!!! "+a.stream.id),b.onaddstream_(a))})});return b.remoteInvoke(!0,
t.method_id_RTCPeerConnection_t.onaddstream,d.success)})["catch"](function(a){b.logRemoteInvokeError(a,"set_onaddstream() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onremovestream",{get:function(){return this.onremovestream_},set:function(a){var b=this;m.logger.log(this.user_friendly_id()+".set_onremovestream() called.");this.onremovestream_=a;this.waitUntilConnected(this.user_friendly_id()+".onremovestream").then(function(){var d=b.registerCallbacks(!1,b.isNullCallback(a),
t.method_id_RTCPeerConnection_t.onremovestream);d.then(function(a){(new q.RemoteStreamEvent(b,b.param0(a).oid)).syncBarrier().then(function(a){m.logger.log(b.user_friendly_id()+".onremovestream callback received! "+a.stream.id);var d=b.remoteStreams.findIndex(function(b){return b.id==a.stream.id});0<=d&&b.remoteStreams.splice(d,1);if(b.onremovestream_)b.onremovestream_(a)})});return b.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.onremovestream,d.success)})["catch"](function(a){b.logRemoteInvokeError(a,
"set_onremovestream() failed!")})},enumerable:!1,configurable:!0});b.prototype.getStats=function(a){var b=this;return new Promise(function(d,c){b.isRedirected()?b.waitUntilConnected(b.user_friendly_id()+".getStats").then(function(){var c=b.registerCallbacks(!0,!1,t.method_id_RTCPeerConnection_t.getStats);c.then(function(b){void 0===b.params||0===b.params.length||0===b.params[0].length?d():a?(a(D.StatsReport.fromJSON(JSON.parse(b.params[0]))),d()):d(D.StatsReport.toRTCStatsReport(JSON.parse(b.params[0])))});
return a?b.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.getStats,c.success):b.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.getStats_v2,c.success)})["catch"](function(a){b&&(a=b.logRemoteInvokeError(a,".getStats() failed!"),c(a))}):(a({}),d())})};b.prototype.SendTelemetryData=function(a,b,d){w.getRedirector().telemetry.SendTelemetryData(y.tel_cmd.Data,a,b,d)};b.prototype.MillisecondstoDisplayformat_=function(a){var b,d;d=Math.floor(a/1E3);b=Math.floor(d/60);a=Math.floor(b/60);m.logger.log(Math.floor(a/
24)+":"+a%24+":"+b%60+":"+d%60)};b.prototype.CalculateCallDurationandType_=function(){if(1==this.timeerstarted_){this.timeerstarted_=!1;this.callendTime_=(new Date).getTime();var a=this.callendTime_-this.callstartTime_;this.MillisecondstoDisplayformat_(a);a=Math.round(a/1E3);m.logger.log("Call Duration "+a);1==this.conferencecall_?this.SendTelemetryData(y.tel_key_ConferenceCallDuration,a,1):(1==this.audiocall_.active&&this.SendTelemetryData(y.tel_key_AudioCallDuration,a,1),1==this.videocall_.active&&
this.SendTelemetryData(y.tel_key_VideoCallDuration,a,1),1==this.screensharingcall_.active&&this.SendTelemetryData(y.tel_key_ScreensharingCallDuration,a,1));var b;1==this.firsttimelocaloffer_&&(b=this.callstartTime_-this.outgoingcallstart_);1==this.firsttimeremoteoffer_&&(b=this.callstartTime_-this.incomingcallstart_);this.MillisecondstoDisplayformat_(b);b=Math.round(b/1E3);m.logger.log("Call Establish Time "+b);1==this.incomingcall_?this.SendTelemetryData(y.tel_key_CallEstIncoming,b,1):1==this.outgoingcall_&&
this.SendTelemetryData(y.tel_key_CallEstOutgoing,b,1);this.SendTelemetryData(y.tel_key_PerfCallState,y.tel_CallState.idle,1)}};b.prototype.close=function(){var a=this;m.logger.log(this.user_friendly_id()+".close() called.");this.CalculateCallDurationandType_();this.unregisterStateChangeNotification(this.onStateChange);this.onnegotiationneeded=this.onsignalingstatechange=this.onicegatheringstatechange=this.oniceconnectionstatechange=this.onicecandidate=this.onaddstream=null;this.waitUntilConnected(this.user_friendly_id()+
".close").then(function(){return a.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.close)}).then(function(){a.iceQ_=null;a.release();m.logger.log(a.user_friendly_id()+".close() success.")})["catch"](function(b){a.logRemoteInvokeError(b,".close() failed.");a.iceQ_=null;a.release()})};b.prototype.createDTMFSender=function(a){m.logger.log(this.user_friendly_id()+".createDTMFSender() called.");var b,d=this.senders_;if(void 0===d||0===d.length)d=this.getSenders();void 0!=d&&(d=d.find(function(b){return b.track.id===
a.id}),void 0!=d&&(m.logger.log(this.user_friendly_id()+" returning RtpSender with oid:"+d.object_id()),b=d.dtmf));return b};Object.defineProperty(b.prototype,"usingAsyncOnly",{get:function(){return this.usingasynconly_},set:function(a){m.logger.log(this.user_friendly_id()+".usingAsyncOnly() called with async:"+a);void 0!=a&&null!=a&&(this.usingasynconly_=a)},enumerable:!1,configurable:!0});b.prototype.getSendersAsync=function(){m.logger.log(this.user_friendly_id()+".getSendersAsync() called.");return this.getSendersAsyncInternal()};
b.prototype.getSenders=function(){m.logger.log(this.user_friendly_id()+".getSenders() called. ");if(this.usingasynconly_)throw m.logger.log(this.user_friendly_id()+".getSenders(): throwing exception: not allowed when usingAsyncOnly is true!!!"),new DOMException(".getSenders() not allowed when usingAsyncOnly is true!!!");this.getSendersAsyncInternal();m.logger.log(this.user_friendly_id()+".getSenders() returning:"+this.senders_.length+" items");return this.senders_};b.prototype.getSendersAsyncInternal=
function(){var a=this;m.logger.log(this.user_friendly_id()+".getSendersAsyncInternal() called. "+this.senders_);return new Promise(function(b,d){a.waitUntilConnected(a.user_friendly_id()+".getSendersAsyncInternal").then(function(){m.logger.log(a.user_friendly_id()+".getSendersAsyncInternal invoking remote");return a.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.getSenders)}).then(function(d){m.logger.log(a.user_friendly_id()+".getSendersAsyncInternal remote success");var c=[],g=[];d.params[0].forEach(function(b){var f=
a.senders_.find(function(a){return a.object_id()===b.oid});void 0===f&&(m.logger.log(a.user_friendly_id()+" adding a RtpSender with oid:"+b.oid),f=new n.RtpSender(a,b.oid,k.ProxyMode.Remote,a.isUnified()));g.push(f.syncBarrier());c.push(f)});Promise.all(g).then(function(){a.senders_=c;m.logger.log(a.user_friendly_id()+".getSendersAsyncInternal: returning senders with ids ["+a.senders_.map(function(a){return a.object_id()})+"]");b(a.senders_)})["catch"](function(d){a.logRemoteInvokeError(d,".prop.getSendersAsyncInternal() failed.");
a.senders_=[];b(a.senders_)})})["catch"](function(d){a.logRemoteInvokeError(d,".getSendersAsyncInternal() failed.");a.senders_=[];b(a.senders_)})})};b.prototype.getReceiversAsync=function(){m.logger.log(this.user_friendly_id()+".getReceiversAsync() called.");return this.getReceiversAsyncInternal()};b.prototype.getReceivers=function(){m.logger.log(this.user_friendly_id()+".getReceivers() called. ");if(this.usingasynconly_)throw m.logger.log(this.user_friendly_id()+".getReceivers(): throwing exception: not allowed when usingAsyncOnly is true!!!"),
new DOMException(".getReceivers() not allowed when usingAsyncOnly is true!!!");this.getReceiversAsyncInternal();m.logger.log(this.user_friendly_id()+".getReceivers() returning:"+this.receivers_.length+" items");return this.receivers_};b.prototype.getReceiversAsyncInternal=function(){var a=this;m.logger.log(this.user_friendly_id()+".getReceiversAsyncInternal() called. "+this.receivers_);return new Promise(function(b,d){a.waitUntilConnected(a.user_friendly_id()+".getReceiversAsyncInternal").then(function(){return a.remoteInvoke(!1,
t.method_id_RTCPeerConnection_t.getReceivers)}).then(function(d){m.logger.log(a.user_friendly_id()+".getReceiversAsyncInternal: remote success.");var c=[],g=[];d.params[0].forEach(function(b){var f=a.receivers_.find(function(a){return a.object_id()===b.oid});void 0===f&&(m.logger.log(a.user_friendly_id()+" adding a RtpReceiver with oid:"+b.oid),f=new n.RtpReceiver(a,b.oid,k.ProxyMode.Remote,a.isUnified()));g.push(f.syncBarrier());c.push(f)});Promise.all(g).then(function(){a.receivers_=c;m.logger.log(a.user_friendly_id()+
".getReceiversAsyncInternal: returning receiver with ids ["+a.receivers_.map(function(a){return a.object_id()})+"]");b(a.receivers_)})["catch"](function(d){a.logRemoteInvokeError(d,".prop.getReceiversAsyncInternal() failed!");a.receivers_=[];b(a.receivers_)})})["catch"](function(d){a.logRemoteInvokeError(d,".getReceiversAsyncInternal() failed!");a.receivers_=[];b(a.receivers_)})})};b.prototype.addTransceiver=function(a,b){m.logger.log(this.user_friendly_id()+".addTransceiver() called: "+JSON.stringify(a)+
" init="+JSON.stringify(b));return this.addTransceiverInternal(a,b,!1)};b.prototype.addTransceiverAsync=function(a,b){m.logger.log(this.user_friendly_id()+".addTransceiverAsync() called: "+JSON.stringify(a)+" init="+JSON.stringify(b));return this.addTransceiverInternal(a,b,!0)};b.prototype.addTransceiverInternal=function(a,b,d){var c=this;m.logger.log(this.user_friendly_id()+".addTransceiverInternal() called: "+JSON.stringify(a)+" init="+JSON.stringify(b));this.incrementPendingTransceiverCount();
var r=z.RtcRtpTransceiverDirection.sendrecv,e=void 0;b&&(e=z.RtcRtpTransceiverInit.toRtcRtpTransceiverInit(b),e.direction&&(r=e.direction));var C=b;g.RemoteSession.isFeatureCallConstraintsSupported()&&(C=e);var x=new z.RtpTransceiver(this,0,k.ProxyMode.Pseudo,this.isUnified(),r);this.transceivers_.push(x);b=new Promise(function(b,f){c.waitUntilConnected(c.user_friendly_id()+".addTransceiverInternal").then(function(){return"string"===typeof a?c.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.addTransceiverWithKind,
a,C):c.remoteInvokeEx(!1,t.method_id_RTCPeerConnection_t.addTransceiverWithTrack,[a],C)}).then(function(a){m.logger.log(c.user_friendly_id()+".addTransceiverInternal() success with oid: "+c.param0(a).oid);x.bind(c,c.param0(a).oid);x.syncBarrier().then(function(){m.logger.log(c.user_friendly_id()+".addTransceiverInternal(): success");c.decrementPendingTransceiverCount();b(x)})["catch"](function(a){c.logRemoteInvokeError(a,".prop.addTransceiverInternal() failed!");c.decrementPendingTransceiverCount();
f()})})["catch"](function(a){c.logRemoteInvokeError(a,"addTransceiverInternal() failed!");c.decrementPendingTransceiverCount();f()})});m.logger.log(this.user_friendly_id()+".addTransceiverInternal() returning:");return d?b:x};b.prototype.incrementPendingTransceiverCount=function(){++this.pendingtransceiver_};b.prototype.decrementPendingTransceiverCount=function(){0<this.pendingtransceiver_&&--this.pendingtransceiver_};b.prototype.incrementPendingTrackCount=function(){++this.pendingtrack_};b.prototype.decrementPendingTrackCount=
function(){0<this.pendingtrack_&&--this.pendingtrack_};b.prototype.waitTransceiverAndTrackReady=function(a){var b=this;return new Promise(function(d,c){m.logger.trace(b.user_friendly_id()+".waitTransceiverAndTrackReady(): pendingtransceiver_="+b.pendingtransceiver_+", pendingtrack_="+b.pendingtrack_);if(0==b.pendingtransceiver_&&0==b.pendingtrack_){for(;b.deferredOfferAnswers&&0<b.deferredOfferAnswers.length;)b.deferredOfferAnswers.shift().post(!0);d()}else b.deferredOfferAnswers.push(new k.deferred_action(d,
c,a)),b.checkTransceiverAndTrack(600,25)})};b.prototype.checkTransceiverAndTrack=function(a,b){var d=this;if(0>=a)for(m.logger.log(".checkTransceiverAndTrack() timeout waiting for transceiver ready!");this.deferredOfferAnswers&&0<this.deferredOfferAnswers.length;)this.deferredOfferAnswers.shift().post(!1);else setTimeout(function(a){if(0==d.pendingtransceiver_&&0==d.pendingtrack_)for(;d.deferredOfferAnswers&&0<d.deferredOfferAnswers.length;)d.deferredOfferAnswers.shift().post(!0);else m.logger.log('.checkTransceiverAndTrack(): count= "'+
a),d.checkTransceiverAndTrack(--a,b)},b,a)};b.prototype.getTransceivers=function(){m.logger.log(this.user_friendly_id()+".getTransceivers() called. ");if(this.usingasynconly_)throw m.logger.log(this.user_friendly_id()+".getTransceivers(): throwing exception: not allowed when usingAsyncOnly is true!!!"),new DOMException(".getTransceivers() not allowed when usingAsyncOnly is true!!!");this.getTransceiversAsync();m.logger.log(this.user_friendly_id()+".getTransceivers() returning:"+this.transceivers_.length+
" items");return this.transceivers_};b.prototype.getTransceiversAsync=function(){var a=this;m.logger.log(this.user_friendly_id()+".getTransceiversAsync() called. ");return new Promise(function(b,d){if(!a.isUnified())return m.logger.log(a.user_friendly_id()+".getTransceiversAsync() called in non-Unified. "),Promise.resolve(a.transceivers_);a.waitUntilConnected(a.user_friendly_id()+".getTransceiversAsync").then(function(){return a.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.getTransceivers)}).then(function(d){m.logger.log(a.user_friendly_id()+
".getTransceiversAsync() remote success.");var c=[],g=[];d.params[0].forEach(function(b){var f=a.transceivers_.find(function(a){return a.object_id()===b.oid});void 0===f&&(m.logger.log(a.user_friendly_id()+" adding a RtpTransceiver with oid:"+b.oid),f=new z.RtpTransceiver(a,b.oid,k.ProxyMode.Remote,a.isUnified()));g.push(f.syncBarrier());c.push(f)});Promise.all(g).then(function(){a.transceivers_=c;m.logger.log(a.user_friendly_id()+".prop.getTransceiversAsync: returning transceiver with ids ["+a.transceivers_.map(function(a){return a.object_id()})+
"]");b(a.transceivers_)})["catch"](function(d){a.logRemoteInvokeError(d,".prop.getTransceiversAsync() failed!");a.transceivers_=[];b(a.transceivers_)})})["catch"](function(d){a.logRemoteInvokeError(d,".getTransceiversAsync() failed!");a.transceivers_=[];b(a.transceivers_)})})};Object.defineProperty(b.prototype,"sctp",{get:function(){return this.sctp_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"ondatachannel",{get:function(){return this.ondatachannel_},set:function(a){var b=
this;m.logger.log(this.user_friendly_id()+".set_ondatachannel() called.");this.ondatachannel_=a;this.waitUntilConnected(this.user_friendly_id()+".ondatachannel").then(function(){var d=b.registerCallbacks(!1,b.isNullCallback(a),t.method_id_RTCPeerConnection_t.ondatachannel);d.then(function(a){m.logger.log(b.user_friendly_id()+".ondatachannel callback received!!!");if(null===b.remotedatachannel_||b.remotedatachannel_.object_id()!=b.param0(a).oid)b.remotedatachannel_=new B.RtcDataChannel(b,b.param0(a).oid,
k.ProxyMode.Remote),b.remotedatachannel_.syncBarrier().then(function(){m.logger.log(b.user_friendly_id()+"remotedatachannel_.syncBarrier(): success");var a=new Event("ondatachannel");a.channel=b.remotedatachannel_;if(b.localdatachannel_&&!b.localdatachannel_.isdestroyed())b.localdatachannel_.syncBarrier().then(function(){m.logger.log(b.user_friendly_id()+"ondatachannel(): notifying...");if(b.ondatachannel_)b.ondatachannel_(a)})["catch"](function(){m.logger.log(b.user_friendly_id()+"localdatachannel_.syncBarrier(): failed!")});
else if(m.logger.log(b.user_friendly_id()+"ondatachannel(): notifying..."),b.ondatachannel_)b.ondatachannel_(a)})["catch"](function(){m.logger.log(b.user_friendly_id()+"remotedatachannel_.syncBarrier(): failed!")})});return b.remoteInvoke(!0,t.method_id_RTCPeerConnection_t.ondatachannel,d.success)})["catch"](function(){m.logger.log(b.user_friendly_id()+".ondatachannel() failed.")})},enumerable:!1,configurable:!0});b.prototype.fixDataChannelConfig=function(a){m.logger.log(this.user_friendly_id()+".fixDataChannelConfig() called: "+
a);void 0==a&&(a={});void 0==a.negotiated&&void 0==a.id&&(a.negotiated=!1,a.id=-1);return a};b.prototype.createDataChannel=function(a,b){var d=this;m.logger.log(this.user_friendly_id()+".createDataChannel() called. label:"+a);this.localdatachannel_=new B.RtcDataChannel(this,0,k.ProxyMode.Pseudo);this.waitUntilConnected(this.user_friendly_id()+".createDataChannel").then(function(){return d.remoteInvoke(!1,t.method_id_RTCPeerConnection_t.createDataChannel,a,d.fixDataChannelConfig(b))}).then(function(a){m.logger.log(d.user_friendly_id()+
".createDataChannel() success with oid: "+d.param0(a).oid);d.localdatachannel_.bind(d,d.param0(a).oid);d.localdatachannel_.syncBarrier().then(function(){m.logger.log(d.user_friendly_id()+"channel.syncBarrier(): success")})["catch"](function(){m.logger.log(d.user_friendly_id()+"channel.syncBarrier(): failed!")})})["catch"](function(a){a=d.param0(a);m.logger.log(d.user_friendly_id()+".createDataChannel() failed with error: "+a)});m.logger.log(this.user_friendly_id()+".createDataChannel() returning: "+
this.localdatachannel_);return this.localdatachannel_};return b}(k.ProxyObject);a.PeerConnection=b},658:function(b,a,c){var e=this&&this.__spreadArrays||function(){for(var a=0,b=0,d=arguments.length;b<d;b++)a+=arguments[b].length;for(var a=Array(a),c=0,b=0;b<d;b++)for(var g=arguments[b],r=0,e=g.length;r<e;r++,c++)a[c]=g[r];return a};Object.defineProperty(a,"__esModule",{value:!0});a.ProxyObject=a.ProxyMode=a.ProxyReadyState=a.number_allocator=a.callback=a.rpc_callback=a.deferred_action=void 0;var u=
c(946),h=c(851),d=c(545),w=c(247),q=c(550),n=function(){function a(b,d,c){this.resolve=b;this.reject=d;this.name_=c}Object.defineProperty(a.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0});a.prototype.post=function(a){1==a?(h.logger.log('deferred_action.post(): resolving "'+this.name_+'"'),this.resolve()):(h.logger.log('deferred_action.post(): rejecting "'+this.name_+'"'),this.reject())};a.prototype.postWithResult=function(a,b){1==a?(h.logger.log('deferred_action.post(): resolving "'+
this.name_+'"'),this.resolve(b)):(h.logger.log('deferred_action.post(): rejecting "'+this.name_+'"'),this.reject())};a.prototype.postResolve=function(a){this.resolve(a)};a.prototype.postReject=function(a){void 0==a?this.reject():this.reject(a)};return a}();a.deferred_action=n;var k=function(){return function(a,b){this.id=a;this.is_null=b}}();a.rpc_callback=k;var v=function(){function a(b,d,c){this.success=new k(b<<16,d);this.fail=new k(b<<16|1,d);this.id=b;this.oneShot=c}a.prototype.resolve=function(a){h.logger.trace("callback.resolve() called. [id="+
this.id+"]");null!=this.handler&&this.handler(a)};a.prototype.reject=function(a){null!=this.err_handler&&this.err_handler(a)};a.prototype.then=function(a){this.handler=a};a.prototype.prom=function(){var a=this;return new Promise(function(b,d){a.handler=b;a.err_handler=d})};return a}();a.callback=v;var z=function(){function a(b,d,c){this.min_=b<a.BOUND_LOW||b>a.BOUND_HIGH?a.DEF_MIN:b;this.max_=d<a.BOUND_LOW||d>a.BOUND_HIGH?a.DEF_MAX:d;this.interval_=c<a.BOUND_LOW||c>a.BOUND_HIGH?a.DEF_INTERVAL:c;this.numbers_=
new Map;this.numbers_.set(this.min_,this.max_)}Object.defineProperty(a.prototype,"max",{get:function(){return this.max_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"min",{get:function(){return this.min_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"interval",{get:function(){return this.interval_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"numbers",{get:function(){return this.numbers_},enumerable:!1,configurable:!0});a.prototype.allocate=
function(){var a=-1;if(0<this.numbers_.size){var b=Array.from(this.numbers_.keys()).sort(function(a,b){return a-b})[0],d=this.numbers_.get(b),a=this.min_+(b-this.min_)*this.interval_;this.numbers_["delete"](b);b+=1;b<d&&this.numbers_.set(b,d)}return a};a.prototype.deallocate=function(a){var b=Array.from(this.numbers_.keys()).sort(function(a,b){return a-b});a=(a-this.min_)/this.interval_;for(var d=!1,c=0;c<b.length&&(b[c]==a+1?(this.numbers_.set(a,this.numbers_.get(b[c])),this.numbers_["delete"](b[c]),
d=!0):this.numbers_.get(b[c])==a&&(this.numbers_.set(b[c],a+1),c+1<b.length&&b[c+1]==a+1&&(this.numbers_.set(b[c],this.numbers_.get(b[c+1])),this.numbers_["delete"](b[c+1])),d=!0),!d);c++);d||this.numbers_.set(a,a+1)};a.BOUND_LOW=0;a.BOUND_HIGH=4294967295;a.DEF_MIN=0;a.DEF_MAX=1024;a.DEF_INTERVAL=1;return a}();a.number_allocator=z;var g;(function(a){a[a.NotConfigured=0]="NotConfigured";a[a.Configured=1]="Configured";a[a.Error=2]="Error";a[a.Destroyed=3]="Destroyed"})(g=a.ProxyReadyState||(a.ProxyReadyState=
{}));var B;(function(a){a[a.Local=0]="Local";a[a.Remote=1]="Remote";a[a.Pseudo=2]="Pseudo"})(B=a.ProxyMode||(a.ProxyMode={}));b=function(){function a(b,c,k,x,r,A){var z=this;void 0===r&&(r=null);void 0===A&&(A=[]);for(var v=[],n=6;n<arguments.length;n++)v[n-6]=arguments[n];this.hdxms=u.getRedirector();this.iid=c;this.oid=k;this.mode=x;this.proxystate=g.NotConfigured;this.deferredActions=[];this.pendingSyncBarriers=[];this.cbs=new Map;if(x===B.Local){n=!1;this.iid===q.class_id_t.EngineControl&&(n=
!0);var l=this;this.hdxms.startRedirection(n,this.user_friendly_id()).then(function(){z.oid=a.nextId++;h.logger.log(z.user_friendly_id()+" assigned local oid:"+z.oid);return new Promise(function(a,b){l.waitUntilConnectedEx(l.user_friendly_id()+".ctor()",A).then(function(){h.logger.log(l.user_friendly_id()+".ctor() all parameter rpc objects are ready.");var a=l.oidsFromProxyOjbects(A).concat(v),b=q.WebrpcClassLibInfoUtil.getMethodFeatureByid(c,0);return l.hdxms.WSSendObjectWrapper(b,c,0,d.WsJsonUtil.createMessageByid.apply(d.WsJsonUtil,
e([!1,!1,d.ws_msg_type_t.req,c,0,l.oid],a)))}).then(function(b){h.logger.log(l.user_friendly_id()+".ctor() success.");a(b)})["catch"](function(){h.logger.log(l.user_friendly_id()+".ctor() failed.");b()})})}).then(function(a){h.logger.trace("ProxyObject: setting state to configured. (iid: "+z.iid+" oid: "+z.oid+")");var d=z.oid;l.proxystate=g.Configured;l.oid=z.param0(a);h.logger.log(z.user_friendly_id()+" assigned remote oid for local oid:"+d);l.onConnected();r&&r();w.getGC().trackObject(z,b)})["catch"](function(){l.proxystate=
g.Error;l.onConnected()})}else x===B.Remote&&(this.proxystate=g.Configured,w.getGC().trackObject(this,b))}a.prototype.syncBarrierDeep=function(a,b){var d=!0;0<this.pendingSyncBarriers.length&&(d=!1);this.pendingSyncBarriers.push(new n(a,b,this.user_friendly_id()+".syncBarrier"));h.logger.log(this.user_friendly_id()+".syncBarrierDeep() queing request for:"+this.oid+", rv:"+d+", items:"+this.pendingSyncBarriers.length);return d};a.prototype.syncBarrierResolve=function(a){for(h.logger.log(this.user_friendly_id()+
".syncBarrierResolve() items:"+this.pendingSyncBarriers.length);this.pendingSyncBarriers&&0<this.pendingSyncBarriers.length;)h.logger.log(this.user_friendly_id()+".syncBarrierResolve() items:"+this.pendingSyncBarriers.length+" resolving request for:"+this.oid),this.pendingSyncBarriers.shift().postResolve(a)};a.prototype.syncBarrierReject=function(a){for(h.logger.log(this.user_friendly_id()+".syncBarrierReject() items:"+this.pendingSyncBarriers.length);this.pendingSyncBarriers&&0<this.pendingSyncBarriers.length;)h.logger.log(this.user_friendly_id()+
".syncBarrierReject() rejecting request for:"+this.oid),this.pendingSyncBarriers.shift().postReject(a)};Object.defineProperty(a.prototype,"proxyreadystate",{get:function(){return this.proxystate},set:function(a){this.proxystate=a},enumerable:!1,configurable:!0});a.prototype.bind=function(a,b){h.logger.trace("ProxyObject: binding object. (iid: "+this.iid+" oid: "+b+" mode: "+this.mode+")");if(this.mode===B.Pseudo){this.proxystate=g.Configured;var d=this.oid;this.oid=b;h.logger.log(this.user_friendly_id()+
" assigned remote oid for local oid:"+d);this.onConnected();w.getGC().trackObject(this,a);this.mode=B.Remote}else this.mode===B.Remote?h.logger.log("ProxyObject: binding already complete."):h.logger.log("ProxyObject: binding failure. incorrect mode!")};a.prototype.reconstructor=function(a,b,c){for(var x=this,r=[],A=3;A<arguments.length;A++)r[A-3]=arguments[A];this.proxystate=g.NotConfigured;this.deferredActions=[];A=q.WebrpcClassLibInfoUtil.getMethodFeatureByid(b,0);this.hdxms.WSSendObjectWrapper(A,
b,0,d.WsJsonUtil.createMessageByid.apply(d.WsJsonUtil,e([!1,!1,d.ws_msg_type_t.req,b,0,this.oid],r))).then(function(b){h.logger.trace("ProxyObject: setting state to configured. (iid: "+x.iid+" oid: "+x.oid+")");var d=x.oid;x.proxystate=g.Configured;x.oid=x.param0(b);h.logger.log(x.user_friendly_id()+" assigned remote oid for local oid:"+d);x.onConnected();w.getGC().trackObject(x,a)})["catch"](function(){x.proxystate=g.Error;x.onConnected()})};a.prototype.setParent=function(a){w.getGC().setParent(this,
a)};a.prototype.release=function(){h.logger.log(this.user_friendly_id()+".release() called.");w.getGC().releaseObject(this)};a.prototype.destroy=function(){h.logger.log(this.user_friendly_id()+".destroy() called.");this.proxystate=g.Destroyed;var a=q.WebrpcClassLibInfoUtil.getMethodFeatureByid(this.iid,0);this.hdxms.WSSendObjectWrapper(a,this.iid,0,d.WsJsonUtil.createMessageByid(!1,!0,d.ws_msg_type_t.req,this.iid,0,this.oid));this.clearCallbacks()};a.prototype.isdestroyed=function(){return this.proxystate==
g.Destroyed};a.prototype.onConnected=function(){for(;this.deferredActions&&0<this.deferredActions.length;)this.deferredActions.shift().post(this.proxystate==g.Configured)};a.prototype.isPseudo=function(){return this.mode==B.Pseudo};a.prototype.checkState=function(a,b,d){var c=this;0>=a?(h.logger.log("ProxyObject.checkState() timeout waiting for connection response! failed. (iid: "+c.iid+" oid: "+c.oid+"name: "+d+")"),c.onConnected()):setTimeout(function(a,d){if(c.proxystate==g.Configured)c.onConnected();
else if(c.proxystate==g.Error)c.onConnected();else if(c.proxystate==g.Destroyed)c.onConnected();else c.checkState(--a,b,d)},b,a,d)};a.prototype.waitUntilConnected=function(a){var b=this;return new Promise(function(d,c){b?(h.logger.trace("ProxyObject.waitUntilConnected(): readyState="+b.proxystate+". (iid: "+b.iid+" oid: "+b.oid+")"),b.proxystate==g.Destroyed?(b.onConnected(),h.logger.trace("rejecting already destroyed Object:"+b.user_friendly_id()),c("Object already destroyed :"+b.user_friendly_id())):
b.proxystate==g.Configured?(b.onConnected(),d()):b.proxystate==g.Error?(h.logger.trace("ProxyObject.waitUntilConnected(): readyState="+b.proxystate+". (iid: "+b.iid+" oid: "+b.oid+")"),b.onConnected(),c()):(h.logger.log('ProxyObject.waitUntilConnected(): deferring action "'+a+'". (iid: '+b.iid+" oid: "+b.oid+")"),b.deferredActions.push(new n(d,c,a)),b.checkState(600,25,a))):c("Invalid Object")})};a.prototype.remoteInvoke=function(a,b){for(var c=[],k=2;k<arguments.length;k++)c[k-2]=arguments[k];if(this.proxystate==
g.Destroyed)return h.logger.trace("rejecting already destroyed Object:"+this.user_friendly_id()),Promise.reject("Cannot invoke destroyed object :"+this.user_friendly_id());if(this.proxystate==g.Error)return h.logger.trace("rejecting already error state Object:"+this.user_friendly_id()),Promise.reject("Cannot invoke object in Error state:"+this.user_friendly_id());k=q.WebrpcClassLibInfoUtil.getMethodFeatureByid(this.iid,b);return this.hdxms.WSSendObjectWrapper(k,this.iid,b,d.WsJsonUtil.createMessageByid.apply(d.WsJsonUtil,
e([a,!1,d.ws_msg_type_t.req,this.iid,b,this.oid],c)))};a.prototype.waitUntilConnectedEx=function(a,b){var d=this;return new Promise(function(c,g){if(d){for(var e=[],k=0;k<b.length;k++){var z=b[k];if(z instanceof Array)for(var v=0;v<z.length;v++){var t=z[v];e.push(t.waitUntilConnected(a+"."+t.user_friendly_id()))}else e.push(z.waitUntilConnected(a+"."+z.user_friendly_id()))}Promise.all(e).then(function(){h.logger.log(d.user_friendly_id()+".waitUntilConnectedEx() success.");c()})["catch"](function(a){d.logRemoteInvokeError(a,
".waitUntilConnectedEx(): failed.");g()})}else g("Invalid Object")})};a.prototype.oidsFromProxyOjbects=function(a){for(var b=[],d=0;d<a.length;d++){var c=a[d];if(c instanceof Array){for(var g=[],e=0;e<c.length;e++)g.push({oid:c[e].object_id()});b.push(g)}else b.push({oid:c.object_id()})}return b};a.prototype.remoteInvokeEx=function(a,b,c){for(var k=[],r=3;r<arguments.length;r++)k[r-3]=arguments[r];if(this.proxystate==g.Destroyed)return h.logger.trace("rejecting already destroyed Object:"+this.user_friendly_id()),
Promise.reject("Cannot invoke destroyed object :"+this.user_friendly_id());if(this.proxystate==g.Error)return h.logger.trace("rejecting already error state Object:"+this.user_friendly_id()),Promise.reject("Cannot invoke object in Error state:"+this.user_friendly_id());var A=this;return new Promise(function(g,r){A.waitUntilConnectedEx(A.user_friendly_id()+".remoteInvokeEx",c).then(function(){h.logger.log(A.user_friendly_id()+".remoteInvokeEx() all parameter rpc objects are ready.");var g=A.oidsFromProxyOjbects(c).concat(k),
r=q.WebrpcClassLibInfoUtil.getMethodFeatureByid(A.iid,b);return A.hdxms.WSSendObjectWrapper(r,A.iid,b,d.WsJsonUtil.createMessageByid.apply(d.WsJsonUtil,e([a,!1,d.ws_msg_type_t.req,A.iid,b,A.oid],g)))}).then(function(a){h.logger.log(A.user_friendly_id()+".remoteInvokeEx() success.");g(a)})["catch"](function(){h.logger.log(A.user_friendly_id()+".remoteInvokeEx() failed.");r()})})};a.prototype.logRemoteInvokeError=function(a,b){var d="",c=a;c?d=b+" with error: "+JSON.stringify(c.message):(d=this.param0(a),
c=0!==Object.keys(d).length?new DOMException(b+" with error: "+JSON.stringify(d),this.user_friendly_id()):new DOMException(b,this.user_friendly_id()),d=c.message);h.logger.logx(this.isdestroyed(),this.user_friendly_id()+d);return c};a.prototype.allocate_cbid=function(){return a.cbid_allocator_.allocate()};a.prototype.deallocate_cbid=function(b){a.cbid_allocator_.deallocate(b)};a.prototype.registerCallbacks=function(a,b,d){var c=this,g=this.allocate_cbid();a=new v(g,b,a);0>g&&h.logger.log(this.user_friendly_id()+
".registerCallbacks(). !!!! ran out of cbid !!!!");b||(this.cbs.set(g,d),a.completion_cb=function(a,b){c.unregisterCallbacks(a)},this.hdxms.registerHandler(this.iid,this.oid,d,a));return a};a.prototype.unregisterCallbacks=function(a){this.cbs.has(a)?(this.hdxms.unregisterHandler(this.iid,this.oid,a),this.deallocate_cbid(a),this.cbs["delete"](a)):h.logger.log(this.user_friendly_id()+".unregisterCallbacks(). mid="+this.cbs.get(a)+" cbid="+a+" Cant find callback handler registration!!!!")};a.prototype.clearCallbacks=
function(){h.logger.log(this.user_friendly_id()+".clearCallbacks().");for(var a=0,b=Array.from(this.cbs.keys());a<b.length;a++){var d=b[a];this.hdxms.unregisterHandler(this.iid,this.oid,d);this.deallocate_cbid(d)}this.cbs.clear()};a.prototype.object_id=function(){return this.oid};a.prototype.param0=function(a){var b={};a&&a.params&&(b=a.params[0]);return b};a.prototype.isNullCallback=function(a){return void 0==a||null==a};a.prototype.user_friendly_id=function(){var a=this.constructor.name;0<=this.iid&&
(a=q.class_id_t[this.iid]);return a+"["+this.oid+"]"};a.prototype.isRedirected=function(){return this.hdxms.isRedirected()};a.prototype.isValid=function(){return!(this.proxystate===g.Error||this.proxystate===g.Destroyed)};a.prototype.registerStateChangeNotification=function(a){this.hdxms.registerStateChangeNotification(a)};a.prototype.unregisterStateChangeNotification=function(a){this.hdxms.unregisterStateChangeNotification(a)};a.nextId=0;a.CBID_MAX=65536;a.cbid_allocator_=new z(0,a.CBID_MAX,1);return a}();
a.ProxyObject=b},144:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),u=this&&this.__awaiter||function(a,b,d,c){function g(a){return a instanceof d?a:new d(function(b){b(a)})}return new (d||
(d=Promise))(function(f,d){function r(a){try{C(c.next(a))}catch(b){d(b)}}function e(a){try{C(c["throw"](a))}catch(b){d(b)}}function C(a){a.done?f(a.value):g(a.value).then(r,e)}C((c=c.apply(a,b||[])).next())})},h=this&&this.__generator||function(a,b){function d(a){return function(b){return c([a,b])}}function c(d){if(f)throw new TypeError("Generator is already executing.");for(;g;)try{if(f=1,r&&(e=d[0]&2?r["return"]:d[0]?r["throw"]||((e=r["return"])&&e.call(r),0):r.next)&&!(e=e.call(r,d[1])).done)return e;
if(r=0,e)d=[d[0]&2,e.value];switch(d[0]){case 0:case 1:e=d;break;case 4:return g.label++,{value:d[1],done:!1};case 5:g.label++;r=d[1];d=[0];continue;case 7:d=g.ops.pop();g.trys.pop();continue;default:if(!(e=g.trys,e=0<e.length&&e[e.length-1])&&(6===d[0]||2===d[0])){g=0;continue}if(3===d[0]&&(!e||d[1]>e[0]&&d[1]<e[3]))g.label=d[1];else if(6===d[0]&&g.label<e[1])g.label=e[1],e=d;else if(e&&g.label<e[2])g.label=e[2],g.ops.push(d);else{e[2]&&g.ops.pop();g.trys.pop();continue}}d=b.call(a,g)}catch(C){d=
[6,C],r=0}finally{f=e=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}var g={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},f,r,e,k;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();return k={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(a,"__esModule",{value:!0});a.NavigatorUserMedia=a.RemoteMediaStreamConstraints=a.RemoteMediaTrackConstraints=a.RemoteMediaTrackConstraintSet=
a.RemoteDevices=a.RemoteDeviceInfo=a.DeviceInfo=a.RemoteStreamEvent=a.RemoteStream=a.RemoteMediaTrack=a.enumeratedDevices=void 0;var d=c(550),w=c(658),q=c(851),n=c(946),k=c(394),v=c(259),z=c(650),g=c(973),l;a.enumeratedDevices=l;var t=function(){return function(a,b){this.type=a;this.target=b}}(),m=function(){function a(){this.is_local_clone=!1;this.clone_id=this.clone_count=0}a.prototype.clone=function(){this.clone_count++;var b=new a;b.is_local_clone=!0;b.clone_id=this.clone_count;return b};a.prototype.synchronize=
function(a){return u(this,void 0,void 0,function(){return h(this,function(b){return this.is_local_clone?[2,a.asyncClone()]:[2,Promise.resolve(a)]})})};return a}(),p=function(a){function b(c,g,r){void 0===r&&(r=w.ProxyMode.Remote);c=a.call(this,c,d.class_id_t.MediaStreamTrack,g,r)||this;c.refCount_=0;c.refCount_++;c.clone_state=new m;return c}e(b,a);b.prototype.dumpInfo=function(){q.logger.log(this.user_friendly_id()+".dumpInfo() [id="+this.id+"] kind="+this.kind+" label="+this.label+" refcount="+
this.refcount+" enabled="+this.enabled+" readyState="+this.readyState)};Object.defineProperty(b.prototype,"refcount",{get:function(){return this.refCount_},enumerable:!1,configurable:!0});b.prototype.addRef=function(){this.refCount_++;q.logger.log(this.user_friendly_id()+".addRef() called. [id="+this.id+"] refcount="+this.refCount_)};Object.defineProperty(b.prototype,"onended",{get:function(){q.logger.log(this.user_friendly_id()+".get_onended() called. [id="+this.id+"]");return this.onended_},set:function(a){var b=
this;q.logger.log(this.user_friendly_id()+".set_onended() called. [id="+this.id+"]");this.onended_=a;this.waitUntilConnected("MediaStreamTrack.onended").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),d.method_id_MediaStreamTrack_t.onended);c.then(function(a){q.logger.log(b.user_friendly_id()+"onended event received!!!");a=new t("ended",b);b.readyState_="ended";b.onended_(a)});return b.remoteInvoke(!0,d.method_id_MediaStreamTrack_t.onended,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,
".onended failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onmute",{get:function(){q.logger.log(this.user_friendly_id()+".get_onmute() called. [id="+this.id+"]");return this.onmute_},set:function(a){var b=this;q.logger.log(this.user_friendly_id()+".set_onmute() called. [id="+this.id+"]");this.onmute_=a;this.waitUntilConnected("MediaStreamTrack.onmute").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),d.method_id_MediaStreamTrack_t.onmute);c.then(function(a){q.logger.log(b.user_friendly_id()+
"onmute event received!!!");a=new t("mute",b);b.muted=!0;b.onmute_(a)});return b.remoteInvoke(!0,d.method_id_MediaStreamTrack_t.onmute,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,".onmute failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onunmute",{get:function(){q.logger.log(this.user_friendly_id()+".get_onunmute() called. [id="+this.id+"]");return this.onunmute_},set:function(a){var b=this;q.logger.log(this.user_friendly_id()+".set_onunmute() called. [id="+
this.id+"]");this.onunmute_=a;this.waitUntilConnected("MediaStreamTrack.onunmute").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),d.method_id_MediaStreamTrack_t.onunmute);c.then(function(a){q.logger.log("onunmute event received!!!");a=new t("unmute",b);b.muted=!1;b.onunmute_(a)});return b.remoteInvoke(!0,d.method_id_MediaStreamTrack_t.onunmute,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,".onunmute failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"onstop",{set:function(a){this.onstop_=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"enabled",{get:function(){q.logger.log(this.user_friendly_id()+".get_enabled() called. [id="+this.id+", value="+this.enabled_+"]");return this.enabled_},set:function(a){q.logger.log(this.user_friendly_id()+".set_enabled() called. [id="+this.id+", value="+a+"]");this.enabled_=a;this.remoteInvoke(!0,d.method_id_MediaStreamTrack_t.enabled,a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"readyState",{get:function(){q.logger.log(this.user_friendly_id()+".get_readyState() called. [id="+this.id+"]");return this.readyState_},enumerable:!1,configurable:!0});b.prototype.asyncClone=function(){return u(this,void 0,void 0,function(){var a,c,g;return h(this,function(f){switch(f.label){case 0:return[4,this.waitUntilConnected("RemoteMediaTrack.asyncClone")];case 1:return f.sent(),[4,this.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.clone)];case 2:return a=f.sent(),c=this.param0(a),g=new b(this,
c.oid),[2,g.syncBarrier()]}})})};b.prototype.deepClone=function(a){var c=this;q.logger.log(this.user_friendly_id()+".deepClone() called. [id="+this.id+"]");if(z.RemoteSession.isFeatureTrackCloneWithIdSupported()){var g=new b(null,0,w.ProxyMode.Pseudo),f=new m;g.id=a?a:this.id+"."+f.clone_id.toString();g.label=this.label;g.kind=this.kind;g.enabled_=this.enabled_;g.muted=this.muted;g.readyState_=this.readyState_;g.trackSettings_=this.trackSettings_;g.clone_state=f;g.constraints_=this.constraints_;g.capabilities_=
this.capabilities_;g.onended=this.onended;g.onmute=this.onmute;g.onunmute=this.onunmute;g.onstop=this.onstop;this.waitUntilConnected("RemoteMediaTrack.deepClone").then(function(){return c.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.clone,g.id)}).then(function(a){q.logger.log(c.user_friendly_id()+".deepClone() success with oid: "+c.param0(a).oid);g.bind(null,c.param0(a).oid);g.syncBarrier().then(function(){q.logger.log(c.user_friendly_id()+"track.syncBarrier(): success")})["catch"](function(a){c.logRemoteInvokeError(a,
"track.syncBarrier() failed!")})})["catch"](function(a){c.logRemoteInvokeError(a,".deepClone() failed!")});return g}q.logger.log(this.user_friendly_id()+".deepClone() is not supported!")};b.prototype.localClone=function(){q.logger.log(this.user_friendly_id()+".localClone() called. [id="+this.id+"]");var a=this.clone_state.clone(),d=new b(this,this.object_id());d.id=this.id+"."+a.clone_id.toString();d.label=this.label;d.kind=this.kind;d.enabled_=this.enabled_;d.muted=this.muted;d.readyState_=this.readyState_;
d.trackSettings_=this.trackSettings_;d.clone_state=a;d.constraints_=this.constraints_;d.capabilities_=this.capabilities_;return d};b.prototype.clone=function(){q.logger.log(this.user_friendly_id()+".clone() called. [id="+this.id+"]");return z.RemoteSession.isFeatureTrackCloneWithIdSupported()?this.deepClone():this.localClone()};b.prototype.stop=function(){var a=this;q.logger.log(this.user_friendly_id()+".stop() called. [id="+this.id+"] refcount="+this.refCount_);this.readyState_="ended";if(0<this.refCount_&&
(this.refCount_--,0===this.refCount_&&(q.logger.log(this.user_friendly_id()+".stop() called. [id="+this.id+"] remote invoking..."),this.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.stop)["catch"](function(b){a.logRemoteInvokeError(b,".stop failed!")}),"video"==this.kind&&"remoteapp-track"==this.label&&g.ScreenSharing.screenSharingInstance().stopAppshare(),null!==this.onstop_&&void 0!=this.onstop_)))this.onstop_()};b.prototype.getCapabilities=function(){return this.capabilities_};b.prototype.getConstraints=
function(){return this.constraints_};b.prototype.getSettings=function(){return"audio"==this.kind?function(a){return{deviceId:a.deviceId,echoCancellation:a.echoCancellation}}(this.trackSettings_):function(a){return{aspectRatio:a.aspectRatio,deviceId:a.deviceId,frameRate:a.frameRate,height:a.height,width:a.width}}(this.trackSettings_)};b.prototype.getChannelCount=function(){return 2};b.prototype.applyConstraints=function(a){var b=this;q.logger.log(this.user_friendly_id()+".applyConstraints() called.");
return new Promise(function(c,f){b.waitUntilConnected("MediaStreamTrack.applyConstraints").then(function(){return Promise.all([b.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.applyConstraints,a),b.syncBarrier()])})["catch"](function(a){b.logRemoteInvokeError(a,"applyConstraints failed!");f({name:"OverconstrainedError",message:"Failed to apply constraints."})}).then(function(){b.constraints_=a;return b.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.getConstraints)}).then(function(a){b.constraints_=
b.param0(a)})["catch"](function(a){b.logRemoteInvokeError(a,".syncBarrier() remote client does not support getConstraints method. Ignore it")}).then(function(){return c()})})};b.convertReadyState=function(a){return 0==a?"live":"ended"};b.prototype.syncBarrier=function(){var a=this;q.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(c,g){a.syncBarrierDeep(c,g)&&a.waitUntilConnected("MediaStreamTrack.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,
d.method_id_MediaStreamTrack_t.kind,""),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.id,""),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.label,""),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.enabled,!1),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.muted,!1),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.readyState,0),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.getSettings),a.remoteInvoke(!1,d.method_id_MediaStreamTrack_t.getCapabilities)])}).then(function(f){var d=0;f=f.map(function(b){return a.param0(b)});
a.kind=f[0];a.id=f[1];a.label=f[2];a.enabled_=f[3];a.muted=f[4];d=f[5];a.trackSettings_=f[6];a.capabilities_=f[7];a.readyState_=b.convertReadyState(d);a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};b.prototype.dispose=function(){q.logger.log(this.user_friendly_id()+".dispose() called. [id="+this.id+"]");this.stop();0===this.refCount_&&this.release()};return b}(w.ProxyObject);a.RemoteMediaTrack=p;var y=function(){return function(){}}(),
x=function(a){function b(c,g,r,f,e){void 0===r&&(r=w.ProxyMode.Local);void 0===f&&(f=[]);var k=this;q.logger.log("RemoteStream.ctor() streamid="+e+" num tracks="+f.length);r==w.ProxyMode.Remote||e||(e=b.uuidv4());k=e&&z.RemoteSession.isFeatureTrackCloneWithIdSupported()?a.call(this,c,d.class_id_t.MediaStream,g,r,null,[f],e)||this:a.call(this,c,d.class_id_t.MediaStream,g,r,null,[f])||this;k.id=e;k.tracks_=f;k.clone_state=new m;k.active_=!0;k.tracks_.forEach(function(a){a.setParent(k)});return k}e(b,
a);b.uuidv4=function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})};b.prototype.dumpInfo=function(){q.logger.log(this.user_friendly_id()+".dumpInfo() [id="+this.id+"] active="+this.active_+" num tracks="+this.tracks_.length);for(var a=0,b=this.tracks_;a<b.length;a++){var d=b[a];d&&d.dumpInfo()}};b.prototype.toggleAudio=function(a){q.logger.log(this.user_friendly_id()+".toggleAudio() called: "+
a);for(var b=0,d=this.getAudioTracks();b<d.length;b++)d[b].enabled=a};b.prototype.toJSON=function(){var a=new y;a.id=this.id;a.active=this.active_;a.oid=this.object_id();return"RemoteStream:"+JSON.stringify(a)};Object.defineProperty(b.prototype,"active",{get:function(){var a=this;q.logger.log(this.user_friendly_id()+".get active() called. [id="+this.id+"] active="+this.active_);n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_stream_active_status)?this.waitUntilConnected("MediaStream.active").then(function(){q.logger.log(a.user_friendly_id()+
".get active() remote invoking");return a.remoteInvoke(!1,d.method_id_MediaStream_t.active,!1)}).then(function(b){a.active_=a.param0(b);q.logger.log(a.user_friendly_id()+".get active() success, active="+a.active_)})["catch"](function(b){a.active_=!0;a.logRemoteInvokeError(b,".get active() failed! active="+a.active_)}):this.active_=!0;return this.active_},enumerable:!1,configurable:!0});b.prototype.getAudioTracks=function(){q.logger.log(this.user_friendly_id()+".getAudioTracks() called. [id="+this.id+
"]");for(var a=[],b=0,d=this.tracks_;b<d.length;b++){var f=d[b];"audio"==f.kind&&a.push(f)}return a};b.prototype.getVideoTracks=function(){q.logger.log(this.user_friendly_id()+".getVideoTracks() called. [id="+this.id+"]");for(var a=[],b=0,d=this.tracks_;b<d.length;b++){var f=d[b];"video"==f.kind&&a.push(f)}return a};b.prototype.getTracks=function(){q.logger.log(this.user_friendly_id()+".getTracks() called. [id="+this.id+"]");return this.tracks_};b.prototype.getTrackById=function(a){q.logger.log(this.user_friendly_id()+
".getTrackById() called. [id="+this.id+"]");for(var b=0,d=this.tracks_;b<d.length;b++){var f=d[b];if(f.id==a)return f}};b.prototype.addTrack=function(a){var b=this;q.logger.log(this.user_friendly_id()+".addTrack() called. [id="+this.id+"]");this.tracks_.push(a);a&&a.dumpInfo();var c=this;this.waitUntilConnected("MediaStream.addTrack").then(function(){q.logger.log(c.user_friendly_id()+".addTrack remote invoking");return c.remoteInvokeEx(!1,d.method_id_MediaStream_t.addTrack,[a])}).then(function(){q.logger.log(c.user_friendly_id()+
".addTrack success")})["catch"](function(a){b.logRemoteInvokeError(a,".addTrack failed!")})};b.prototype.removeTrack=function(a){var b=this;q.logger.log(this.user_friendly_id()+".removeTrack() called. [id="+this.id+"]");var c=this.tracks_.indexOf(a);this.tracks_.splice(c,1);var f=this;this.waitUntilConnected("MediaStream.removeTrack").then(function(){q.logger.log(f.user_friendly_id()+".removeTrack remote invoking");return f.remoteInvokeEx(!1,d.method_id_MediaStream_t.removeTrack,[a])}).then(function(){q.logger.log(f.user_friendly_id()+
".removeTrack success")})["catch"](function(a){b.logRemoteInvokeError(a,".removeTrack failed!")})};b.prototype.asyncClone=function(){return u(this,void 0,void 0,function(){var a,c,g;return h(this,function(f){switch(f.label){case 0:return q.logger.log(this.user_friendly_id()+".asyncClone() called. [id="+this.id+"]"),[4,this.waitUntilConnected("asyncClone")];case 1:return f.sent(),[4,this.remoteInvoke(!1,d.method_id_MediaStream_t.clone)];case 2:return a=f.sent(),q.logger.log(a),c=this.param0(a),g=new b(this,
c.oid,w.ProxyMode.Remote),[2,g.syncBarrier()]}})})};b.prototype.deepClone=function(a){var d=this;q.logger.log(this.user_friendly_id()+".deepClone() called. [id="+this.id+"]");if(z.RemoteSession.isFeatureTrackCloneWithIdSupported()){var c=[];this.tracks_.forEach(function(a){c.push(a.deepClone())});var f=new m;a=a?a:this.id+"."+f.clone_id.toString();var g=new b(null,0,w.ProxyMode.Local,c,a);g.id=a;g.active_=this.active_;g.clone_state=f;g.tracks_=c;g.waitUntilConnected("RemoteStream.deepClone").then(function(){g.syncBarrier().then(function(){q.logger.log(d.user_friendly_id()+
"stream.syncBarrier(): success")})["catch"](function(a){d.logRemoteInvokeError(a,"stream.syncBarrier() failed!")})})["catch"](function(a){d.logRemoteInvokeError(a,".deepClone() failed!")});return g}q.logger.log(this.user_friendly_id()+".deepClone() is not supported!")};b.prototype.localClone=function(){q.logger.log(this.user_friendly_id()+".localClone() called. [id="+this.id+"]");var a=this.clone_state.clone(),d=new b(this,this.object_id(),w.ProxyMode.Remote);d.id=this.id+"."+a.clone_id.toString();
d.active_=this.active_;this.tracks_.forEach(function(a){a.addRef()});d.tracks_=this.tracks_;d.clone_state=a;return d};b.prototype.clone=function(){q.logger.log(this.user_friendly_id()+".clone() called. [id="+this.id+"]");return z.RemoteSession.isFeatureTrackCloneWithIdSupported()?this.deepClone():this.localClone()};b.prototype.syncBarrier=function(){var a=this;q.logger.log(this.user_friendly_id()+".syncBarrier() called. [id="+this.id+"]");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("MediaStream.syncBarrier").then(function(){var b=
[];b.push(a.remoteInvoke(!1,d.method_id_MediaStream_t.id,""));n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_stream_active_status)&&b.push(a.remoteInvoke(!1,d.method_id_MediaStream_t.active,!0));b.push(a.remoteInvoke(!1,d.method_id_MediaStream_t.getTracks));return Promise.all(b)}).then(function(b){q.logger.log(a.user_friendly_id()+".syncBarrier() remote success");var c;n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_stream_active_status)?(b=b.map(function(b){return a.param0(b)}),a.id=b[0],
a.active_=b[1],c=b[2]):(b=b.map(function(b){return a.param0(b)}),a.id=b[0],c=b[1],a.active_=!0);var g=[];b=function(b){var f=a.tracks_.find(function(a){return a.object_id()===b.oid});void 0===f&&(q.logger.log(a.user_friendly_id()+" adding a RemoteMediaTrack with oid:"+b.oid),f=new p(a,b.oid));g.push(f.syncBarrier())};for(var r=0;r<c.length;r++)b(c[r]);return Promise.all(g)}).then(function(b){a.tracks_=[];b.forEach(function(b){d.BUILD_TYPE_SDK||(b.onstop=function(){var b=!0;a.tracks_.forEach(function(a){"ended"!=
a.readyState&&(b=!1)});b&&a.release()});a.tracks_.push(b)});a.syncBarrierResolve(a)})["catch"](function(b){a.logRemoteInvokeError(b,".syncBarrier failed!");a.syncBarrierReject()})})};b.prototype.dispose=function(){q.logger.log(this.user_friendly_id()+".dispose() called. [id="+this.id+"]");this.tracks_.forEach(function(a){a.dispose()});this.release()};return b}(w.ProxyObject);a.RemoteStream=x;b=function(a){function b(c,g){return a.call(this,c,d.class_id_t.MediaStreamEvent,g,w.ProxyMode.Remote)||this}
e(b,a);b.prototype.syncBarrier=function(){var a=this;q.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("MediaStreamEvent.syncBarrier").then(function(){return a.remoteInvoke(!1,d.method_id_MediaStreamEvent_t.stream,{oid:0})}).then(function(b){return(new x(a,b.params[0].oid,w.ProxyMode.Remote)).syncBarrier()}).then(function(b){a.stream=b;a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,
".syncBarrier() failed!");a.syncBarrierReject(b)})})};return b}(w.ProxyObject);a.RemoteStreamEvent=b;var r=function(){return function(a,b,d,c){this.deviceId=a;this.groupId=b;this.kind=d;this.label=c}}();a.DeviceInfo=r;var A=function(a){function b(c){return a.call(this,null,d.class_id_t.MediaDeviceInfo,c,w.ProxyMode.Remote)||this}e(b,a);b.convertKind=function(a){return 0==a?"audioinput":1==a?"audiooutput":"videoinput"};b.prototype.syncBarrier=function(){var a=this;q.logger.log(this.user_friendly_id()+
".syncBarrier() called.");return new Promise(function(c,g){a.syncBarrierDeep(c,g)&&a.waitUntilConnected("RemoteDeviceInfo.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,d.method_id_MediaDeviceInfo_t.deviceId,""),a.remoteInvoke(!1,d.method_id_MediaDeviceInfo_t.kind,0),a.remoteInvoke(!1,d.method_id_MediaDeviceInfo_t.label,""),a.remoteInvoke(!1,d.method_id_MediaDeviceInfo_t.groupId,"")])}).then(function(f){a.kind=b.convertKind(a.param0(f.splice(1,1)[0]));f=f.map(function(b){return a.param0(b)});
a.deviceId=f[0];a.label=f[1];a.groupId=f[2];a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};return b}(w.ProxyObject);a.RemoteDeviceInfo=A;b=function(b){function c(){var a=b.call(this,null,d.class_id_t.MediaDevices,0,w.ProxyMode.Local,function(){a.setDeviceChangeCallback()})||this;a.devices_=[];a.enumerateMarker="enumerateDevicesPrivate";a.enumerateRemoteMarker="enumeratedDevicesPrivate-Remote";a.shareSystemAudio_=!1;a.pendingEnumerateDevice_=
[];a.panelid_=-1;return a}e(c,b);Object.defineProperty(c.prototype,"panelid",{set:function(a){this.panelid_=a},enumerable:!1,configurable:!0});c.prototype.clearPanelId=function(){this.panelid_=-1};c.prototype.enumerateDevices=function(){var a=this;return 0<this.devices_.length&&0==this.pendingEnumerateDevice_.length?new Promise(function(b,d){q.logger.log(a.user_friendly_id()+".enumerateDevices: returning cached devices");b(a.devices_)}):this.enumerateDevicesPrivate(!1)};c.prototype.enumerateDevicesPrivate=
function(a){return n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_enumerate_devices_v2)?this.enumerateDevicesPrivateV2(a):this.enumerateDevicesPrivateV1(a)};c.prototype.postEnumerateDevicesResult=function(){for(var a=!0,b=0,d=0,f=this.pendingEnumerateDevice_;d<f.length;d++){var c=f[d];if(0==a&&c.name==this.enumerateRemoteMarker)break;c.postWithResult(!0,this.devices_);b++;a=!1}0<b&&this.pendingEnumerateDevice_.splice(0,b)};c.prototype.enumerateDevicesPrivateV2=function(b){var c=this;q.logger.log(this.user_friendly_id()+
".enumerateDevicesPrivateV2() called. refresh:"+b+" pending:"+this.pendingEnumerateDevice_.length);return new Promise(function(g,f){1==b||0==c.pendingEnumerateDevice_.length?(c.pendingEnumerateDevice_.push(new w.deferred_action(g,f,c.enumerateRemoteMarker)),c.waitUntilConnected("RemoteDevices.enumerateDevicesPrivateV2").then(function(){q.logger.log(c.user_friendly_id()+".enumerateDevicesPrivateV2() remote invoking...");return c.remoteInvoke(!1,d.method_id_MediaDevices_t.enumerateDevicesV2)}).then(function(b){var f=
[];b.params[0].forEach(function(a){a=new r(a.deviceId,a.groupId,A.convertKind(a.kind),a.label);f.push(a)});c.devices_=f;a.enumeratedDevices=l=f;q.logger.log(c.user_friendly_id()+".enumerateDevicesPrivateV2: resolving enumerated devices: "+JSON.stringify(c.devices_));c.postEnumerateDevicesResult()})["catch"](function(b){c.devices_=[];a.enumeratedDevices=l=[];c.logRemoteInvokeError(b,".enumerateDevicesPrivateV2() failed, resolving with empty list.");c.postEnumerateDevicesResult()})):(c.pendingEnumerateDevice_.push(new w.deferred_action(g,
f,c.enumerateMarker)),q.logger.log(c.user_friendly_id()+".enumerateDevicesPrivateV2() not remoting this call..."))})};c.prototype.enumerateDevicesPrivateV1=function(b){var c=this;q.logger.log(this.user_friendly_id()+".enumerateDevicesPrivateV1() called. refresh:"+b+" pending:"+this.pendingEnumerateDevice_.length);return new Promise(function(g,f){1==b||0==c.pendingEnumerateDevice_.length?(c.pendingEnumerateDevice_.push(new w.deferred_action(g,f,c.enumerateRemoteMarker)),c.waitUntilConnected("RemoteDevices.enumerateDevicesPrivateV1").then(function(){q.logger.log(c.user_friendly_id()+
".enumerateDevicesPrivateV1() remote invoking...");return c.remoteInvoke(!1,d.method_id_MediaDevices_t.enumerateDevices)}).then(function(a){var b=[];a.params[0].forEach(function(a){a=new A(a.oid);b.push(a.syncBarrier())});return Promise.all(b)}).then(function(b){var f=[];b.forEach(function(a){var b=new r(a.deviceId,a.groupId,a.kind,a.label);f.push(b);a.release()});c.devices_=f;a.enumeratedDevices=l=f;q.logger.log(c.user_friendly_id()+".enumerateDevicesPrivateV1: resolving enumerated devices: "+JSON.stringify(c.devices_));
c.postEnumerateDevicesResult()})["catch"](function(b){a.enumeratedDevices=l=[];c.devices_=[];c.logRemoteInvokeError(b,".enumerateDevicesPrivateV1() failed, resolving with empty list.");c.postEnumerateDevicesResult()})):(c.pendingEnumerateDevice_.push(new w.deferred_action(g,f,c.enumerateMarker)),q.logger.log(c.user_friendly_id()+".enumerateDevicesPrivateV1() not remoting this call..."))})};c.prototype.getDisplayMedia=function(a){var b=this;return new Promise(function(c,f){b.waitUntilConnected("RemoteDevices.getDisplayMedia").then(function(){return g.ScreenSharing.screenSharingInstance().setActiveSource(b.panelid_,
z.RemoteSession.isFeaturAppshareSupported())}).then(function(f){void 0!==a.video&&null!==a.video&&void 0!==f&&(a.video.deviceId=f);n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_share_system_audio)&&(void 0!==a.audio&&"boolean"!==typeof a.audio?q.logger.log("Non-boolean audio constraints"):a.audio=a.audio||b.shareSystemAudio_);f=b.prepareDisplayConstraints(a);f=J.toRemoteMediaStreamConstraints(f,!0);return b.remoteInvoke(!1,d.method_id_MediaDevices_t.getDisplayMedia,f)}).then(function(a){return(new x(null,
a.params[0].oid,w.ProxyMode.Remote)).syncBarrier()}).then(function(a){c(a)})["catch"](function(a){g.ScreenSharing.screenSharingInstance().isAppshareActive()&&g.ScreenSharing.screenSharingInstance().stopAppshare();a=b.logRemoteInvokeError(a,".getDisplayMedia() failed!");f(a)})})};c.prototype.setDeviceChangeCallback=function(){var a=this;q.logger.log(this.user_friendly_id()+".set_DeviceChangeCallback() called.");this.waitUntilConnected("MediaDevices.ondevicechange").then(function(){var b=a.registerCallbacks(!1,
!1,d.method_id_MediaDevices_t.ondevicechange);b.then(function(){q.logger.log(a.user_friendly_id()+".ondevicechange(): callback received!!!");a.enumerateDevicesPrivate(!0).then(function(){navigator.mediaDevices.dispatchEvent(new CustomEvent("devicechange"))})["catch"](function(){navigator.mediaDevices.dispatchEvent(new CustomEvent("devicechange"))})});return a.remoteInvoke(!0,d.method_id_MediaDevices_t.ondevicechange,b.success)})["catch"](function(b){a.logRemoteInvokeError(b,".set_ondevicechange() failed!")})};
c.prototype.prepareDisplayConstraints=function(a){if(n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_common_media_constraints))return a;var b={frameRate:15,width:{max:1920},height:{max:1080}};if(void 0!==a.video&&null!==a.video){var c=a.video;void 0!==c.frameRate&&void 0!==c.width&&void 0!==c.height&&(b.frameRate=c.frameRate,b.width.max=c.width.max||c.width,b.height.max=c.height.max||c.height)}return a.audio?{video:b,audio:a.audio}:{video:b}};return c}(w.ProxyObject);a.RemoteDevices=b;var M=
function(){function a(){}a.toRemoteMediaTrackConstraintSet=function(a){var b=void 0;v.Util.hasValue(a)&&(b={},v.Util.hasValue(a.width)&&(b.width=a.width),v.Util.hasValue(a.height)&&(b.height=a.height),v.Util.hasValue(a.aspectRatio)&&(b.aspectRatio=a.aspectRatio),v.Util.hasValue(a.frameRate)&&(b.frameRate=a.frameRate),v.Util.hasValue(a.facingMode)&&(b.facingMode=a.facingMode),v.Util.hasValue(a.sampleRate)&&(b.sampleRate=a.sampleRate),v.Util.hasValue(a.sampleSize)&&(b.sampleSize=a.sampleSize),v.Util.hasValue(a.volume)&&
(b.volume=a.volume),v.Util.hasValue(a.echoCancellation)&&(b.echoCancellation=a.echoCancellation),v.Util.hasValue(a.autoGainControl)&&(b.autoGainControl=a.autoGainControl),v.Util.hasValue(a.noiseSuppression)&&(b.noiseSuppression=a.noiseSuppression),v.Util.hasValue(a.latency)&&(b.latency=a.latency),v.Util.hasValue(a.channelCount)&&(b.channelCount=a.channelCount),v.Util.hasValue(a.deviceId)&&(b.deviceId=a.deviceId),v.Util.hasValue(a.groupId)&&(b.groupId=a.groupId),v.Util.hasValue(a.maxFrameRate)&&(b.maxFrameRate=
a.maxFrameRate),v.Util.hasValue(a.maxHeight)&&(b.maxHeight=a.maxHeight),v.Util.hasValue(a.maxWidth)&&(b.maxWidth=a.maxWidth),v.Util.hasValue(a.minHeight)&&(b.minHeight=a.minHeight),v.Util.hasValue(a.minWidth)&&(b.minWidth=a.minWidth),v.Util.hasValue(a.sourceId)&&(b.sourceId=a.sourceId));return b};return a}();a.RemoteMediaTrackConstraintSet=M;var F=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}e(b,a);b.defMandatory=function(a){var b=a;v.Util.hasValue(a)?(v.Util.hasValue(a.maxFrameRate)||
(b.maxFrameRate=30),v.Util.hasValue(a.minWidth)||(b.minWidth=360),v.Util.hasValue(a.maxWidth)||(b.maxWidth=1920),v.Util.hasValue(a.minHeight)||(b.minHeight=180),v.Util.hasValue(a.maxHeight)||(b.maxHeight=1080)):b={maxFrameRate:30,minWidth:360,maxWidth:1920,minHeight:180,maxHeight:1080};return b};b.toRemoteMediaTrackConstraints=function(a){var b=void 0;v.Util.hasValue(a)&&(b=M.toRemoteMediaTrackConstraintSet(a),b.advanced=[],v.Util.hasValue(a.advanced)&&a.advanced.forEach(function(a){a=M.toRemoteMediaTrackConstraintSet(a);
b.advanced.push(a)}),v.Util.hasValue(a.mandatory)&&(b.mandatory="boolean"!=typeof a.mandatory?M.toRemoteMediaTrackConstraintSet(a.mandatory):a.mandatory));return b};return b}(M);a.RemoteMediaTrackConstraints=F;var J=function(){function a(){}a.getDefaultAudioDeviceId=function(){if(void 0!==l){var a=l.find(function(a){return"audioinput"===a.kind&&"default"===a.deviceId});if(void 0!==a)return a.deviceId}return""};a.getDefaultVideoDeviceId=function(){if(void 0!==l){var a=l.find(function(a){return"videoinput"===
a.kind});if(void 0!==a)return a.deviceId}return""};a.toRemoteMediaStreamConstraints=function(b,c){void 0===c&&(c=!1);q.logger.log("RemoteMediaStreamConstraints.toRemoteMediaStreamConstraints() in constraints:"+JSON.stringify(b));var g={};v.Util.hasValue(b)&&(v.Util.hasValue(b.audio)&&("boolean"!=typeof b.audio?(g.audio=F.toRemoteMediaTrackConstraints(b.audio),0!=Object.keys(g.audio).length&&v.Util.hasValue(g.audio)||(g.audio={dummy:1}),d.BUILD_TYPE_SDK&&0==c&&a.isConstraintsAudioDeviceIdEmpty(b)&&
(g.audio.deviceId=a.getDefaultAudioDeviceId(),q.logger.log("RemoteMediaStreamConstraints.toRemoteMediaStreamConstraints() set default audio deviceId:'"+g.audio.deviceId+"'"))):g.audio=b.audio),v.Util.hasValue(b.peerIdentity)&&(g.peerIdentity=b.peerIdentity),v.Util.hasValue(b.video)&&("boolean"!=typeof b.video?(g.video=F.toRemoteMediaTrackConstraints(b.video),0==c&&"boolean"!=typeof g.video.mandatory&&(g.video.mandatory=F.defMandatory(g.video.mandatory),d.BUILD_TYPE_SDK&&a.isConstraintsVideoSourceIdEmpty(b)&&
(g.video.mandatory.sourceId=a.getDefaultVideoDeviceId(),q.logger.log("RemoteMediaStreamConstraints.toRemoteMediaStreamConstraints() set default video sourceId:'"+g.video.mandatory.sourceId+"'")))):(g.video=b.video,1==b.video&&0==c&&d.BUILD_TYPE_SDK&&a.isConstraintsVideoSourceIdEmpty(b)&&(g.video={},g.video.mandatory=F.defMandatory(void 0),g.video.mandatory.sourceId=a.getDefaultVideoDeviceId(),q.logger.log("RemoteMediaStreamConstraints.toRemoteMediaStreamConstraints() set default video sourceId:'"+
g.video.mandatory.sourceId+"'")))));q.logger.log("RemoteMediaStreamConstraints.toRemoteMediaStreamConstraints() out constraints:"+JSON.stringify(g));return g};a.isConstraintsAudioDeviceIdEmpty=function(a){var b=!1;v.Util.hasValue(a)&&v.Util.hasValue(a.audio)&&("boolean"==typeof a.audio?1==a.audio&&(b=!0):(a=a.audio,!a||!1!==v.Util.hasValue(a.deviceId)&&""!==a.deviceId||(b=!0)));return b};a.isConstraintsVideoSourceIdEmpty=function(a){var b=!1;if(v.Util.hasValue(a)&&v.Util.hasValue(a.video))if("boolean"==
typeof a.video)1==a.video&&(b=!0);else if(a=a.video)(a=a.mandatory)&&!1!==v.Util.hasValue(a.sourceId)&&""!==a.sourceId||(b=!0);return b};return a}();a.RemoteMediaStreamConstraints=J;var G=function(){function a(){this.video=this.audio=a.EmptyCapabilities}a.EmptyCapabilities={codecs:[],headerExtensions:[]};return a}();b=function(a){function b(){return a.call(this,null,d.class_id_t.NavigatorUserMedia,0,w.ProxyMode.Local)||this}e(b,a);b.getCapabilities=function(a){q.logger.log("NavigatorUserMedia.getCapabilities for type="+
a+" capabilities="+JSON.stringify(b.capabilities[a]));return b.capabilities[a]};b.resetCapabilities=function(){b.capabilities=new G};b.prototype.getCapabilities=function(){var a=this;q.logger.log(this.user_friendly_id()+".getCapabilities...");return new Promise(function(c,g){a.waitUntilConnected("NavigatorUserMedia.getCapabilities").then(function(){return Promise.all([a.remoteInvoke(!1,d.method_id_NavigatorUserMedia_t.getCapabilities,"audio"),a.remoteInvoke(!1,d.method_id_NavigatorUserMedia_t.getCapabilities,
"video")])}).then(function(f){b.capabilities.audio=a.param0(f[0]);b.capabilities.video=a.param0(f[1]);q.logger.log(a.user_friendly_id()+".getCapabilities capabilities="+JSON.stringify(b.capabilities));c(b.capabilities)})["catch"](function(b){g(a.logRemoteInvokeError(b,".getCapabilities failed!"))})})};b.prototype.setCodecCapabilities=function(a){var b=this;q.logger.log(this.user_friendly_id()+".setCodecCapabilities : set codecCapabilities to "+JSON.stringify(a));return new Promise(function(c,f){b.waitUntilConnected("NavigatorUserMedia.setCodecCapabilities").then(function(){return b.remoteInvoke(!1,
d.method_id_NavigatorUserMedia_t.setCodecCapabilities,a)}).then(function(){q.logger.log(b.user_friendly_id()+".setCodecCapabilities() success.");c(!0);b.getCapabilities()})["catch"](function(a){a=b.logRemoteInvokeError(a,".setCodecCapabilities() failed!");f(a)})})};b.prototype.webkitGetUserMedia=function(a,b,d){return this.getUserMedia(a,b,d)};b.prototype.LogTelemetryDevice_=function(a){try{if("undefined"!==typeof a.audio){var b=a.audio.deviceId,d;l.forEach(function(a){b==a.deviceId&&(d=a.label)});
q.logger.log(d);this.SendTelemetryData(k.tel_key_AudioDeviceUsed,d,0)}if("undefined"!==typeof a.video){var f=a.video.mandatory,c;f&&l.forEach(function(a){f.sourceId==a.deviceId&&(c=a.label)});q.logger.log(c);this.SendTelemetryData(k.tel_key_VideoDeviceUsed,c,0)}}catch(g){q.logger.log(g)}};b.prototype.getUserMedia=function(a,b,d){q.logger.log(this.user_friendly_id()+".getUserMedia() called: "+JSON.stringify(a));return b&&d?this.getUserMedia_v1(a,b,d):this.getUserMedia_v2(a)};b.prototype.getUserMedia_v2=
function(a){var b=this;q.logger.log(this.user_friendly_id()+".getUserMedia_v2() called: "+JSON.stringify(a));return new Promise(function(d,f){b.getUserMediaPrivate(a,function(a){q.logger.log(b.user_friendly_id()+"getUserMedia_v2: resolving stream");d(a)},function(a){q.logger.log(b.user_friendly_id()+"getUserMedia_v2: rejecting stream");f(a)})})};b.prototype.getUserMedia_v1=function(a,b,d){q.logger.log(this.user_friendly_id()+".getUserMedia_v1() called: "+JSON.stringify(a));return this.getUserMediaPrivate(a,
b,d)};b.prototype.getUserMediaPrivate=function(a,b,c){var f=this;this.waitUntilConnected("NavigatorUserMedia.getUserMediaPrivate").then(function(){var b=f.registerCallbacks(!0,!1,d.method_id_NavigatorUserMedia_t.getUserMedia),c=J.toRemoteMediaStreamConstraints(a);f.remoteInvoke(!1,d.method_id_NavigatorUserMedia_t.getUserMedia,c,b.success,b.fail);return b.prom()}).then(function(a){q.logger.log(f.user_friendly_id()+".getUserMediaPrivate: received success callback!");return(new x(null,f.param0(a).oid,
w.ProxyMode.Remote)).syncBarrier()}).then(function(d){q.logger.log(f.user_friendly_id()+".getUserMediaPrivate: MediaStream ready to deliver",JSON.stringify(d));0==d.getTracks().length?(q.logger.log(f.user_friendly_id()+".getUserMediaPrivate: reporting no tracks as error."),c({constraintName:"",name:"OverconstrainedError",message:""})):(f.LogTelemetryDevice_(a),b(d))})["catch"](function(a){f.logRemoteInvokeError(a,".getUserMediaPrivate() failed!");n.getRedirector().getFeatureValue(d.FEATURE_ms_teams_1912)?
f.param0&&a?c(f.param0(a)):c({constraintName:"",name:"OverconstrainedError",message:""}):c({constraintName:"",name:"OverconstrainedError",message:""})})};b.prototype.SendTelemetryData=function(a,b,d){n.getRedirector().telemetry.SendTelemetryData(k.tel_cmd.Data,a,b,d)};b.capabilities=new G;return b}(w.ProxyObject);a.NavigatorUserMedia=b},650:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.RemoteSession=a.SessionInfo=a.RemoteType=void 0;var e=c(946),l=c(550),h=c(9),d=c(851),w=c(550),
q=c(394),n;(function(a){a[a.Unknown=0]="Unknown";a[a.Windows=1]="Windows";a[a.Linux=2]="Linux"})(n=a.RemoteType||(a.RemoteType={}));var k=function(){return function(){}}();a.SessionInfo=k;b=function(){function a(b,d){var c=this;this.isremote_=!1;this.isremote_=!0;this.type_=n.Windows;this.address_="0.0.0.0";this.sessioninfo_=null;e.getRedirector().setRemoteSessionInfoCb(function(){return c.remoteSessionInfo()});this.enginecontrol_=new h.EngineControl(b+"::"+d)}a.prototype.release=function(){e.getRedirector().setRemoteSessionInfoCb(null)};
a.prototype.user_friendly_id=function(){return"[RemoteSession]"};a.prototype.getFeatureFlags=function(){var a={};null!==this.enginecontrol_&&null!==this.enginecontrol_.features_&&void 0!==this.enginecontrol_.features_&&this.enginecontrol_.features_.forEach(function(b){a[b.name]=b.value});return a};a.prototype.isFeatureSupported=function(a){if("video"===a)return!0;if("givecontrol"===a&&this.sessioninfo_.clientPlatform.includes("Linux")||!(a in w.featureNameMap))return!1;for(var b=w.featureNameMap[a],
d=this.getFeatureFlags(),c=0;c<b.length;c++)if(!(b[c]in d)||!0!==d[b[c]])return!1;return a in w.vdaFeatureNameMap?w.vdaFeatureNameMap[a].map(function(a){return e.getRedirector().getVDAFeatureValue(a)}).reduce(function(a,b){return a&&b},!0):!0};a.isFeaturePstnSupported=function(){return a.pstn_};a.isFeatureDtmfSupported=function(){return a.dtmfswitch_};a.isFeaturAppshareSupported=function(){return a.appshare_};a.isFeatureWebrtc1dot0Supported=function(){return a.webrtc1dot0_};a.isFeatureDataChannelSupported=
function(){return a.datachannel_};a.isFeatureVdNoBufferLimitSupported=function(){return a.vdnobuflimit_};a.isFeatureCallConstraintsSupported=function(){return a.callconstraints_};a.isFeatureTrackCloneWithIdSupported=function(){return a.trackclonewithid_};a.isFeatureSenderStatsFixSupported=function(){return a.senderstatsfix_};a.prototype.getSessionInfo=function(){d.logger.log(this.user_friendly_id()+".getSessionInfo() called.");return null!=this.sessioninfo_?Promise.resolve(this.sessioninfo_):Promise.reject()};
a.prototype.remoteSessionInfo=function(){var b=this,c=this;d.logger.log(c.user_friendly_id()+".remoteSessionInfo() called.");return new Promise(function(n,t){c.enginecontrol_.syncBarrier().then(function(e){d.logger.log(c.user_friendly_id()+"enginecontrol info received!");c.sessioninfo_=new k;c.sessioninfo_.type_script=l.HDXMS_VERSION;c.sessioninfo_.webrpc=e.version_.major.toString()+"."+e.version_.minor.toString()+"."+e.version_.revision.toString()+"."+e.version_.build.toString();if(void 0!=e.versions_&&
null!=e.versions_){c.SendTelemetryData(q.tel_key_VerTypeScript,l.HDXMS_VERSION,0);for(var t=0,y=0,x=e.versions_;y<x.length;y++){var r=x[y],r=r.major.toString()+"."+r.minor.toString()+"."+r.revision.toString()+"."+r.build.toString();switch(t){case h.VersionType.Webrpc:c.sessioninfo_.webrpc=r;c.SendTelemetryData(q.tel_key_VerWebrpc,r,0);break;case h.VersionType.WebrtcCodecs:c.sessioninfo_.webrtc_codecs=r;c.SendTelemetryData(q.tel_key_VerWebrtcCodecs,r,0);break;case h.VersionType.Receiver:c.sessioninfo_.receiver=
r;c.SendTelemetryData(q.tel_key_VerReceiver,r,0);break;case h.VersionType.Vda:c.sessioninfo_.vda=r;c.SendTelemetryData(q.tel_key_VerVda,r,0);break;case h.VersionType.Endpoint:c.sessioninfo_.endpoint=r;c.SendTelemetryData(q.tel_key_VerEndpoint,r,0);break;case h.VersionType.HdxRtcEngine:c.sessioninfo_.hdxrtcengine=r;c.SendTelemetryData(q.tel_key_VerHdxRtcEngine,r,0);break;default:d.logger.log(c.user_friendly_id()+"Unknown version type!")}t++}}void 0!=e.osinfo_&&null!=e.osinfo_&&(c.sessioninfo_.osinfo=
e.osinfo_,e.osinfo_.family.includes("Darwin")&&["Mac OS X","macOS","OS X"].some(function(a){return e.osinfo_.edition.startsWith(a)})?c.sessioninfo_.clientPlatform="Mac":c.sessioninfo_.clientPlatform=e.osinfo_.family,c.SendTelemetryData(q.tel_key_OSFamily,e.osinfo_.family,0),c.SendTelemetryData(q.tel_key_OSVersion,e.osinfo_.version,0),c.SendTelemetryData(q.tel_key_OSArchitecture,e.osinfo_.architecture,0),c.SendTelemetryData(q.tel_key_OSDistro,e.osinfo_.distro,0),c.SendTelemetryData(q.tel_key_OSEdition,
e.osinfo_.edition,0));void 0!=e.endpointid_&&null!=e.endpointid_&&(c.sessioninfo_.endpointId=e.endpointid_.machine_id);void 0!=e.hardwareinfo_&&null!=e.hardwareinfo_&&(c.sessioninfo_.hardware_info=e.hardwareinfo_,c.SendTelemetryData(q.tel_key_CPUModel,e.hardwareinfo_.cpu_info.cpumodel,0),c.SendTelemetryData(q.tel_key_CPUProcessors,e.hardwareinfo_.cpu_info.numberofprocessors,0),c.SendTelemetryData(q.tel_key_CPUGpuinfo,JSON.stringify(e.hardwareinfo_.gpu_info.gpus),0),c.SendTelemetryData(q.tel_key_CPUTotalmemory,
e.hardwareinfo_.memory_info.totalmemory,0));a.pstn_=b.isFeatureSupported(l.Features.FEATURE_public_pstn);a.dtmfswitch_=b.isFeatureSupported(l.Features.FEATURE_public_dtmf);a.appshare_=b.isFeatureSupported(l.Features.FEATURE_public_app_sharing);a.webrtc1dot0_=b.isFeatureSupported(l.Features.FEATURE_public_webrtc1dot0);a.datachannel_=b.isFeatureSupported(l.Features.FEATURE_public_data_channel);a.vdnobuflimit_=b.isFeatureSupported(l.Features.FEATURE_public_vdnobuflimit);a.callconstraints_=b.isFeatureSupported(l.Features.FEATURE_public_stream_resolution);
a.trackclonewithid_=b.isFeatureSupported(l.Features.FEATURE_public_track_clone_with_id);a.senderstatsfix_=b.isFeatureSupported(l.Features.FEATURE_public_sender_stats_fix);n(c.sessioninfo_);c.enginecontrol_.release()})["catch"](function(){e.getRedirector().isPingActive()?c.retrySessionInfo():(t(),c.enginecontrol_.release(),c.enginecontrol_=null)})})};a.prototype.retrySessionInfo=function(){var a=this;setTimeout(function(){d.logger.log("checking if we are connected...");a.enginecontrol_.bind();e.getRedirector().handleRemoteSessionInfo()},
15E3)};a.prototype.SendTelemetryData=function(a,b,d){e.getRedirector().telemetry.SendTelemetryData(q.tel_cmd.Data,a,b,d)};a.pstn_=!1;a.dtmfswitch_=!1;a.appshare_=!1;a.webrtc1dot0_=!1;a.datachannel_=!1;a.vdnobuflimit_=!1;a.callconstraints_=!1;a.trackclonewithid_=!1;a.senderstatsfix_=!1;return a}();a.RemoteSession=b},24:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(a,"__esModule",{value:!0});a.RtcDataChannel=a.RTCSctpTransport=void 0;var l=c(658),h=c(550),d=c(851),w=c(589),q;(function(a){a[a["new"]=0]="new";a[a.connecting=1]="connecting";a[a.connected=2]="connected";a[a.closed=3]="closed";a[a.max=4]="max"})(q||(q={}));b=function(a){function b(c,g){var e=a.call(this,c,h.class_id_t.RTCSctpTransport,
g,l.ProxyMode.Remote)||this;d.logger.log(e.user_friendly_id()+".constructor");return e}e(b,a);b.prototype.syncBarrier=function(){var a=this;d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("RTCSctpTransport.syncBarrier").then(function(){d.logger.log(a.user_friendly_id()+".syncBarrierBase success.");return Promise.all([a.remoteInvoke(!1,h.method_id_RTCSctpTransport_t.transport,{oid:0}),a.remoteInvoke(!1,h.method_id_RTCSctpTransport_t.state,
0),a.remoteInvoke(!1,h.method_id_RTCSctpTransport_t.maxMessageSize,0),a.remoteInvoke(!1,h.method_id_RTCSctpTransport_t.maxChannels,0)])}).then(function(b){var c;c=b.map(function(b){return a.param0(b)});b=c[0];a.sctpstate_=c[1];a.maxMessageSize_=c[2];a.maxChannels_=c[3];c=a.transport_;void 0==b||!1!==b.is_null||null!==a.transport_&&a.transport_.object_id()==b.oid||(c=new w.DtlsTransport(a,b.oid));c.syncBarrier().then(function(b){d.logger.log(a.user_friendly_id()+"transport.syncBarrier(): success");
a.transport_=b;a.syncBarrierResolve(a)})["catch"](function(){d.logger.log(a.user_friendly_id()+"transport.syncBarrier(): failed!");a.transport_=null;a.syncBarrierResolve(a)})})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};Object.defineProperty(b.prototype,"transport",{get:function(){d.logger.log(this.user_friendly_id()+".get_transport() called: "+this.transport_);return this.transport_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"state",{get:function(){d.logger.log(this.user_friendly_id()+".get_state() called: "+this.sctpstate_);return this.sctpstate_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"maxMessageSize",{get:function(){d.logger.log(this.user_friendly_id()+".get_maxMessageSize() called: "+this.maxMessageSize_);return this.maxMessageSize_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"maxChannels",{get:function(){d.logger.log(this.user_friendly_id()+".get_maxChannels() called: "+
this.maxChannels_);return this.maxChannels_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onstatechange",{get:function(){d.logger.log(this.user_friendly_id()+".get_onstatechange() called: "+this.onstatechange_);return this.onstatechange_},set:function(a){var c=this;d.logger.log(this.user_friendly_id()+".set_onstatechange() called.");this.onstatechange_=a;this.waitUntilConnected(this.user_friendly_id()+".onstatechange").then(function(){var e=c.registerCallbacks(!1,c.isNullCallback(a),
h.method_id_RTCSctpTransport_t.onstatechange);e.then(function(a){d.logger.log(c.user_friendly_id()+".onstatechange callback received!!!");c.sctpstate_=b.convertState(c.param0(a));d.logger.log(c.user_friendly_id()+"sctpstate_: "+c.sctpstate_);a=new Event("onstatechange");c.onstatechange_(a)});return c.remoteInvoke(!0,h.method_id_RTCSctpTransport_t.onstatechange,e.success)})["catch"](function(){d.logger.log(c.user_friendly_id()+".onstatechange() failed.")})},enumerable:!1,configurable:!0});b.convertState=
function(a){return a==q["new"]?"closed":a==q.connecting?"connecting":a==q.connected?"connected":"closed"};return b}(l.ProxyObject);a.RTCSctpTransport=b;var n;(function(a){a[a.connecting=0]="connecting";a[a.open=1]="open";a[a.closing=2]="closing";a[a.closed=3]="closed"})(n||(n={}));b=function(a){function b(c,g,e){c=a.call(this,c,h.class_id_t.RTCDataChannel,g,e)||this;c.binaryType_="blob";d.logger.log(c.user_friendly_id()+".constructor");return c}e(b,a);b.prototype.syncBarrier=function(){var a=this;
d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("RtcDataChannel.syncBarrier").then(function(){d.logger.log(a.user_friendly_id()+".syncBarrier remote invoking.");return Promise.all([a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.label,""),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.ordered,!0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.maxPacketLifeTime,0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.maxRetransmits,
0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.protocol,""),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.negotiated,!1),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.id,0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.readyState,0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.bufferedAmount,0),a.remoteInvoke(!1,h.method_id_RTCDataChannel_t.bufferedAmountLowThreshold,0)])}).then(function(b){d.logger.log(a.user_friendly_id()+".syncBarrier success.");var c;b=b.map(function(b){return a.param0(b)});
a.label_=b[0];a.ordered_=b[1];a.maxPacketLifeTime_=b[2];a.maxRetransmits_=b[3];a.protocol_=b[4];a.negotiated_=b[5];a.id_=b[6];c=b[7];a.bufferedAmount_=b[8];a.bufferedAmountLowThreshold_=b[9];a.readyState_=a.toRTCDataChannelState(c);a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};Object.defineProperty(b.prototype,"label",{get:function(){d.logger.log(this.user_friendly_id()+".get_label() called: "+this.label_);return this.label_},
enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"ordered",{get:function(){d.logger.log(this.user_friendly_id()+".get_ordered() called: "+this.ordered_);return this.ordered_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"maxPacketLifeTime",{get:function(){d.logger.log(this.user_friendly_id()+".get_maxPacketLifeTime() called: "+this.maxPacketLifeTime_);return this.maxPacketLifeTime_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"maxRetransmits",
{get:function(){d.logger.log(this.user_friendly_id()+".get_maxRetransmits() called: "+this.maxRetransmits_);return this.maxRetransmits_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"protocol",{get:function(){d.logger.log(this.user_friendly_id()+".get_protocol() called: "+this.protocol_);return this.protocol_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"negotiated",{get:function(){d.logger.log(this.user_friendly_id()+".get_negotiated() called: "+this.negotiated_);
return this.negotiated_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"id",{get:function(){d.logger.log(this.user_friendly_id()+".get_id() called: "+this.id_);return this.id_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"readyState",{get:function(){d.logger.log(this.user_friendly_id()+".get_readyState() called: "+this.readyState_);return this.readyState_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"bufferedAmount",{get:function(){d.logger.log(this.user_friendly_id()+
".get_bufferedAmount() called: "+this.bufferedAmount_);return this.bufferedAmount_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"bufferedAmountLowThreshold",{get:function(){d.logger.log(this.user_friendly_id()+".get_bufferedAmountLowThreshold() called: "+this.bufferedAmountLowThreshold_);return this.bufferedAmountLowThreshold_},set:function(a){d.logger.log(this.user_friendly_id()+".get_bufferedAmountLowThreshold() called: "+a);this.bufferedAmountLowThreshold_=a},enumerable:!1,
configurable:!0});Object.defineProperty(b.prototype,"binaryType",{get:function(){d.logger.log(this.user_friendly_id()+".get_binaryType() called: "+this.binaryType_);return this.binaryType_},set:function(a){d.logger.log(this.user_friendly_id()+".set_binaryType() called: "+a);this.binaryType_="blob"==a||"arraybuffer"==a?a:"blob"},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onopen",{get:function(){d.logger.log(this.user_friendly_id()+".get_onopen() called.");return this.onopen_},
set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onopen() called.");this.onopen_=a;this.waitUntilConnected(this.user_friendly_id()+".onopen").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onopen);c.then(function(a){d.logger.log(b.user_friendly_id()+".onopen callback received!!!");b.syncBarrier().then(function(){d.logger.log(b.user_friendly_id()+".onopen notifying...");var a=new Event("open",{});Object.defineProperty(a,"target",{writable:!1,
value:b});b.onopen_(a)})["catch"](function(){d.logger.log(b.user_friendly_id()+".syncBarrier(): failed!")})});return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onopen,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+".onopen() failed.")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onbufferedamountlow",{get:function(){d.logger.log(this.user_friendly_id()+".get_onbufferedamountlow() called.");return this.onbufferedamountlow_},set:function(a){var b=this;
d.logger.log(this.user_friendly_id()+".set_onbufferedamountlow() called.");this.onbufferedamountlow_=a;this.waitUntilConnected(this.user_friendly_id()+".onbufferedamountlow").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onbufferedamountlow);c.then(function(a){d.logger.log(b.user_friendly_id()+".onbufferedamountlow callback received!!!");a=new Event("onbufferedamountlow");Object.defineProperty(a,"target",{writable:!1,value:b});b.onbufferedamountlow_(a)});
return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onbufferedamountlow,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+".onbufferedamountlows() failed.")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){d.logger.log(this.user_friendly_id()+".get_onerror() called.");return this.onerror_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onerror() called.");this.onerror_=a;this.waitUntilConnected(this.user_friendly_id()+
".onerror").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onerror);c.then(function(a){d.logger.log(b.user_friendly_id()+".onerror callback received!");a=b.param0(a);d.logger.log(b.user_friendly_id()+"error: "+a);a=new Event("onerror");Object.defineProperty(a,"target",{writable:!1,value:b});b.onerror_(a)});return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onerror,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+".onerror() failed.")})},
enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onclosing",{get:function(){d.logger.log(this.user_friendly_id()+".get_onclosing() called.");return this.onclosing_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onclosing() called.");this.onclosing_=a;this.waitUntilConnected(this.user_friendly_id()+".onclosing").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onclosing);c.then(function(a){d.logger.log(b.user_friendly_id()+
".onclosing callback received!!!");a=new Event("onclosing");Object.defineProperty(a,"target",{writable:!1,value:b});b.onclosing_(a)});return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onclosing,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+".onclosing() failed.")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onclose",{get:function(){d.logger.log(this.user_friendly_id()+".get_onclose() called.");return this.onclose_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+
".set_onclose() called.");this.onclose_=a;this.waitUntilConnected(this.user_friendly_id()+".onclose").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onclose);c.then(function(a){d.logger.log(b.user_friendly_id()+".onclose callback received!!!");a=new Event("onclose");Object.defineProperty(a,"target",{writable:!1,value:b});b.onclose_(a)});return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onclose,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+
".onclose() failed.")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onmessage",{get:function(){d.logger.log(this.user_friendly_id()+".get_onmessage() called.");return this.onmessage_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onmessage() called.");this.onmessage_=a;this.waitUntilConnected(this.user_friendly_id()+".onmessage").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCDataChannel_t.onmessage);c.then(function(a){d.logger.log(b.user_friendly_id()+
".onmessage callback received!!!");var c=b.param0(a);a=new Event("onmessage");c.binary?a.data=c.data_ab:(c=atob(c.data_sz),a.data=c);b.onmessage_(a)});return b.remoteInvoke(!0,h.method_id_RTCDataChannel_t.onmessage,c.success)})["catch"](function(){d.logger.log(b.user_friendly_id()+".onmessage() failed.")})},enumerable:!1,configurable:!0});b.prototype.close=function(){var a=this;d.logger.log(this.user_friendly_id()+".close() called.");this.waitUntilConnected("RTCDataChannel.close").then(function(){return a.remoteInvoke(!1,
h.method_id_RTCDataChannel_t.close)}).then(function(){d.logger.log(a.user_friendly_id()+".close: success.")})["catch"](function(){d.logger.log(a.user_friendly_id()+".close: failed.")})};b.prototype.toByteArray=function(a){var b=[];a=new Uint8Array(a instanceof ArrayBuffer?a:a.buffer);for(var d in a)b.push(a[d]);return b};b.prototype.send=function(a){var b=this;d.logger.log(this.user_friendly_id()+".send() called.");this.waitUntilConnected("RTCDataChannel.send").then(function(){if("string"===typeof a)return d.logger.log(b.user_friendly_id()+
"data(string): "+a),b.remoteInvoke(!1,h.method_id_RTCDataChannel_t.send_text,a);if(a instanceof Blob)a.arrayBuffer().then(function(a){a=b.toByteArray(a);return b.remoteInvoke(!1,h.method_id_RTCDataChannel_t.send_binary,a)})["catch"](function(){d.logger.log(b.user_friendly_id()+".arrayBuffer(): failed.")});else{var c=b.toByteArray(a);return b.remoteInvoke(!1,h.method_id_RTCDataChannel_t.send_binary,c)}}).then(function(){d.logger.log(b.user_friendly_id()+".send: success.")})["catch"](function(){d.logger.log(b.user_friendly_id()+
".send: failed.")})};b.prototype.toRTCDataChannelState=function(a){var b="closed";a==n.connecting?b="connecting":a==n.open?b="open":a==n.closing?b="closing":a==n.closed&&(b="closed");return b};return b}(l.ProxyObject);a.RtcDataChannel=b},484:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=
b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(a,"__esModule",{value:!0});a.RtcRtpReceiveParameters=a.RtcRtpSendParameters=a.RtcRtpEncodingParameters=a.RtcRtpParameters=a.RtcRtcpParameters=a.RtcRtpHeaderExtensionParameters=a.RtcRtpCodecParameters=void 0;var l=c(851),h=function(){function a(){}a.defRtcRtpCodecParameters=function(){return{mimeType:"",payloadType:0,sdpFmtpLine:""}};a.defRTCRtpCodecParameters=function(){return{clockRate:0,mimeType:"",
payloadType:0}};a.toRtcRtpCodecParameters=function(b){var d=a.defRtcRtpCodecParameters();b&&(b.channels&&(d.channels=b.channels),b.clockRate&&(d.clockRate=b.clockRate),b.mimeType&&(d.mimeType=b.mimeType),b.payloadType&&(d.payloadType=b.payloadType),b.sdpFmtpLine&&(d.sdpFmtpLine=b.sdpFmtpLine));return d};a.toRTCRtpCodecParameters=function(b){var d=a.defRTCRtpCodecParameters();b&&(b.channels&&(d.channels=b.channels),b.clockRate&&(d.clockRate=b.clockRate),b.mimeType&&(d.mimeType=b.mimeType),b.payloadType&&
(d.payloadType=b.payloadType),b.sdpFmtpLine&&(d.sdpFmtpLine=b.sdpFmtpLine));return d};return a}();a.RtcRtpCodecParameters=h;var d=function(){function a(){}a.defRtcRtpHeaderExtensionParameters=function(){return{encrypted:!1,id:0,uri:""}};a.defRTCRtpHeaderExtensionParameters=function(){return{id:0,uri:""}};a.toRtcRtpHeaderExtensionParameters=function(b){var d=a.defRtcRtpHeaderExtensionParameters();if(b){var c=b.encrypted;void 0!=c&&null!=c&&(d.encrypted=c);b.id&&(d.id=b.id);b.uri&&(d.uri=b.uri)}return d};
a.toRTCRtpHeaderExtensionParameters=function(b){var d=a.defRTCRtpHeaderExtensionParameters();if(b){var c=b.encrypted;void 0!=c&&null!=c&&(d.encrypted=c);b.id&&(d.id=b.id);b.uri&&(d.uri=b.uri)}return d};return a}();a.RtcRtpHeaderExtensionParameters=d;var w=function(){function a(){}a.defRtcRtcpParameters=function(){return{cname:"",reducedSize:!1}};a.defRTCRtcpParameters=function(){return{}};a.toRtcRtcpParameters=function(b){var d=a.defRtcRtcpParameters();b&&(b.cname&&(d.cname=b.cname),b=b.reducedSize,
void 0!=b&&null!=b&&(d.reducedSize=b));return d};a.toRTCRtcpParameters=function(b){var d=a.defRTCRtcpParameters();b&&(b.cname&&(d.cname=b.cname),b=b.reducedSize,void 0!=b&&null!=b&&(d.reducedSize=b));return d};return a}();a.RtcRtcpParameters=w;var q=function(){function a(){}a.defRtcRtpParameters=function(){return{codecs:[],headerExtensions:[],rtcp:w.defRtcRtcpParameters()}};a.defRTCRtpParameters=function(){return{codecs:[],headerExtensions:[],rtcp:w.defRTCRtcpParameters()}};a.toRtcRtpParameters=function(b){var c=
a.defRtcRtpParameters();if(b){if(b.codecs)for(var g=0,e=b.codecs;g<e.length;g++)c.codecs.push(h.toRtcRtpCodecParameters(e[g]));if(b.headerExtensions)for(g=0,e=b.headerExtensions;g<e.length;g++)c.headerExtensions.push(d.toRtcRtpHeaderExtensionParameters(e[g]));b.rtcp&&(c.rtcp=w.toRtcRtcpParameters(b.rtcp))}return c};a.toRTCRtpParameters=function(b){var c=a.defRTCRtpParameters();if(b){if(b.codecs)for(var e=0,n=b.codecs;e<n.length;e++)c.codecs.push(h.toRTCRtpCodecParameters(n[e]));if(b.headerExtensions)for(e=
0,n=b.headerExtensions;e<n.length;e++)c.headerExtensions.push(d.toRTCRtpHeaderExtensionParameters(n[e]));b.rtcp&&(c.rtcp=w.toRtcRtcpParameters(b.rtcp))}return c};return a}();a.RtcRtpParameters=q;var n=function(){function a(){}a.defRtcRtpEncodingParameters=function(){return{active:!0,rid:""}};a.defRTCRtpEncodingParameters=function(){return{}};a.toRtcRtpEncodingParameters=function(b){var d=a.defRtcRtpEncodingParameters();if(b){var c=b.active;void 0!=c&&null!=c&&(d.active=c);b.maxBitrate&&(d.maxBitrate=
b.maxBitrate);b.maxFramerate&&(d.maxFramerate=b.maxFramerate);b.scaleResolutionDownBy&&(d.scaleResolutionDownBy=b.scaleResolutionDownBy);b.rid&&(d.rid=b.rid);b.networkPriority&&(d.networkPriority=b.networkPriority)}return d};a.toRTCRtpEncodingParameters=function(b){var d=a.defRTCRtpEncodingParameters();if(b){var c=b.active;void 0!=c&&null!=c&&(d.active=c);b.maxBitrate&&(d.maxBitrate=b.maxBitrate);b.maxFramerate&&(d.maxFramerate=b.maxFramerate);b.scaleResolutionDownBy&&(d.scaleResolutionDownBy=b.scaleResolutionDownBy);
b.rid&&(d.rid=b.rid);b.networkPriority&&(d.networkPriority=b.networkPriority)}return d};return a}();a.RtcRtpEncodingParameters=n;b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}e(b,a);b.defRtcRtpSendParameters=function(){var a=q.defRtcRtpParameters();a.encodings=[];a.transaction_id="";return a};b.defRTCRtpSendParameters=function(){var a=q.defRTCRtpParameters();a.encodings=[];a.transactionId="";return a};b.toRtcRtpSendParameters=function(a){l.logger.log("RtcRtpSendParameters.toRtcRtpSendParameters() in param:"+
JSON.stringify(a));var d=b.defRtcRtpSendParameters(),c=q.toRtcRtpParameters(a);c.codecs.forEach(function(a){return d.codecs.push(a)});c.headerExtensions.forEach(function(a){return d.headerExtensions.push(a)});d.rtcp=c.rtcp;if(a){if(a.encodings)for(var c=0,e=a.encodings;c<e.length;c++)d.encodings.push(n.toRtcRtpEncodingParameters(e[c]));a.transactionId&&(d.transaction_id=a.transactionId)}l.logger.log("RtcRtpSendParameters.toRtcRtpSendParameters() out param:"+JSON.stringify(d));return d};b.toRTCRtpSendParameters=
function(a){l.logger.log("RtcRtpSendParameters.toRTCRtpSendParameters() in param:"+JSON.stringify(a));var d=b.defRTCRtpSendParameters(),c=q.toRTCRtpParameters(a);c.codecs.forEach(function(a){return d.codecs.push(a)});c.headerExtensions.forEach(function(a){return d.headerExtensions.push(a)});d.rtcp=c.rtcp;if(a){if(a.encodings)for(var c=0,e=a.encodings;c<e.length;c++)d.encodings.push(n.toRTCRtpEncodingParameters(e[c]));a.transaction_id&&(d.transactionId=a.transaction_id)}l.logger.log("RtcRtpSendParameters.toRTCRtpSendParameters() out param:"+
JSON.stringify(d));return d};return b}(q);a.RtcRtpSendParameters=b;b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}e(b,a);b.defRtcRtpReceiveParameters=function(){return q.defRtcRtpParameters()};b.defRTCRtpReceiveParameters=function(){return q.defRTCRtpParameters()};b.toRtcRtpReceiveParameters=function(a){l.logger.log("RtcRtpReceiveParameters.toRtcRtpReceiveParameters() in param:"+JSON.stringify(a));a=q.toRtcRtpParameters(a);l.logger.log("RtcRtpReceiveParameters.toRtcRtpReceiveParameters() out param:"+
JSON.stringify(a));return a};b.toRTCRtpReceiveParameters=function(a){l.logger.log("RtcRtpReceiveParameters.toRTCRtpReceiveParameters() in param:"+JSON.stringify(a));a=q.toRTCRtpParameters(a);l.logger.log("RtcRtpReceiveParameters.toRTCRtpReceiveParameters() out param:"+JSON.stringify(a));return a};return b}(q);a.RtcRtpReceiveParameters=b},589:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(a,"__esModule",{value:!0});a.RtpReceiver=a.RtpSender=a.RtpSenderReceiver=a.DtlsTransport=a.IceTransport=a.DtmfSender=a.DTMFToneChangeEvent=void 0;var l=c(658),h=c(550),d=c(851),w=c(144),q=c(517),n=c(650),k=c(484),v=function(a){function b(c,e){var g=a.call(this,c,
h.class_id_t.RTCDTMFToneChangeEvent,e,l.ProxyMode.Remote)||this;d.logger.log(g.user_friendly_id()+".constructor");return g}e(b,a);b.prototype.syncBarrier=function(){var a=this;d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected(a.user_friendly_id()+".syncBarrier").then(function(){Promise.all([a.remoteInvoke(!1,h.method_id_RTCDTMFToneChangeEvent_t.tone,""),a.remoteInvoke(!1,h.method_id_RTCDTMFToneChangeEvent_t.tone_buffer,
"")]).then(function(b){d.logger.log(a.user_friendly_id()+".syncBarrier(): success.");b=b.map(function(b){return a.param0(b)});a.tone=b[0];a.tone_buffer_=b[1];a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".prop.syncBarrier() failed.");a.syncBarrierReject(b)})})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed.");a.syncBarrierReject(b)})})};Object.defineProperty(b.prototype,"tone_buffer",{get:function(){return this.tone_buffer_},enumerable:!1,configurable:!0});
return b}(l.ProxyObject);a.DTMFToneChangeEvent=v;var p=function(a){function b(c,e){var g=a.call(this,c,h.class_id_t.RTCDTMFSender,e,l.ProxyMode.Remote)||this;d.logger.log(g.user_friendly_id()+".constructor");g.canInsertDTMF=!0;g.toneBuffer_="";return g}e(b,a);b.prototype.insertDTMF=function(a,b,c){var e=this;void 0===b&&(b=100);void 0===c&&(c=70);d.logger.log(this.user_friendly_id()+".insertDTMF() called, tones: "+a);this.waitUntilConnected("DtmfSender.insertDTMF").then(function(){return e.remoteInvoke(!1,
h.method_id_RTCDTMFSender_t.insertDTMF,a,b,c)}).then(function(){d.logger.log(e.user_friendly_id()+".insertDTMF() success, tones: "+a)})["catch"](function(a){e.logRemoteInvokeError(a,".insertDTMF() failed!")})};Object.defineProperty(b.prototype,"ontonechange",{get:function(){return this.ontonechange_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_ontonechange() called.");this.ontonechange_=a;this.waitUntilConnected("DtmfSender.ontonechange").then(function(){var c=b.registerCallbacks(!1,
b.isNullCallback(a),h.method_id_RTCDTMFSender_t.ontonechange);c.then(function(a){d.logger.log(b.user_friendly_id()+".ontonechange callback received!");(new v(b,b.param0(a).oid)).syncBarrier().then(function(a){d.logger.log(b.user_friendly_id()+"tone: "+a.tone+" tone_buffer: "+a.tone_buffer);b.toneBuffer_=a.tone_buffer;b.ontonechange_(a)})["catch"](function(a){b.logRemoteInvokeError(a,".toneEvt.syncBarrier() failed!")})});return b.remoteInvoke(!0,h.method_id_RTCDTMFSender_t.ontonechange,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,
".set_ontonechange() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"toneBuffer",{get:function(){d.logger.log(this.user_friendly_id()+".toneBuffer() called.");return this.toneBuffer_},enumerable:!1,configurable:!0});return b}(l.ProxyObject);a.DtmfSender=p;var g=function(a){function b(c,e){var g=a.call(this,c,h.class_id_t.RTCIceTransport,e,l.ProxyMode.Remote)||this;d.logger.log(g.user_friendly_id()+".constructor");g.selectedPair=null;g.localCandidates_=[];g.remoteCandidates_=
[];return g}e(b,a);b.prototype.syncBarrier=function(){var a=this;d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(c,e){a.syncBarrierDeep(c,e)&&a.waitUntilConnected("IceTransport.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.role,0),a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.component,0),a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.state,0),a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.gatheringState,
0)])}).then(function(c){d.logger.log(a.user_friendly_id()+".syncBarrier success.");var e=0,g=0;c=c.map(function(b){return a.param0(b)});a.role_=c[0];a.component_=c[1];e=c[2];g=c[3];a.state_=b.convertState(e);a.gatheringState_=b.convertGatheringState(g);a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};b.prototype.syncCandidates=function(){var a=this;d.logger.log(this.user_friendly_id()+".syncCandidates() called.");return new Promise(function(b,
c){a.waitUntilConnected("IceTransport.syncCandidates").then(function(){return Promise.all([a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.localcandidates,[]),a.remoteInvoke(!1,h.method_id_RTCIceTransport_t.remotecandidates,[])])}).then(function(c){d.logger.log(a.user_friendly_id()+".syncCandidates success.");c=c.map(function(b){return a.param0(b)});a.localCandidates_=c[0];a.remoteCandidates_=c[1];b(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncCandidates() failed!");c(b)})})};Object.defineProperty(b.prototype,
"role",{get:function(){return this.role_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"component",{get:function(){return this.component_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"State",{get:function(){return this.state_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"gatheringState",{get:function(){return this.gatheringState_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onstatechange",{get:function(){return this.onstatechange_},
set:function(a){var c=this;d.logger.log(this.user_friendly_id()+".set_onstatechange() called.");this.onstatechange_=a;this.waitUntilConnected("IceTransport.onstatechange").then(function(){var e=c.registerCallbacks(!1,c.isNullCallback(a),h.method_id_RTCIceTransport_t.onstatechange);e.then(function(a){d.logger.log(c.user_friendly_id()+".onstatechange callback received!");c.syncCandidates().then(function(a){d.logger.log(c.user_friendly_id()+"received updated ice candidates!")});c.state_=b.convertState(c.param0(a));
d.logger.log(c.user_friendly_id()+"state: "+c.state_);c.onstatechange_()});return c.remoteInvoke(!0,h.method_id_RTCIceTransport_t.onstatechange,e.success)})["catch"](function(a){c.logRemoteInvokeError(a,".set_onstatechange failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"ongatheringstatechange",{get:function(){return this.ongatheringstatechange_},set:function(a){var c=this;d.logger.log(this.user_friendly_id()+".set_ongatheringstatechange() called.");this.ongatheringstatechange_=
a;this.waitUntilConnected("IceTransport.ongatheringstatechange").then(function(){var e=c.registerCallbacks(!1,c.isNullCallback(a),h.method_id_RTCIceTransport_t.ongatheringstatechange);e.then(function(a){d.logger.log(c.user_friendly_id()+".ongatheringstatechange callback received!");c.syncCandidates().then(function(a){d.logger.log(c.user_friendly_id()+"received updated ice candidates!")});c.gatheringState_=b.convertGatheringState(c.param0(a));d.logger.log(c.user_friendly_id()+"gatheringState: "+c.gatheringState_);
c.ongatheringstatechange_()});return c.remoteInvoke(!0,h.method_id_RTCIceTransport_t.ongatheringstatechange,e.success)})["catch"](function(a){c.logRemoteInvokeError(a,".set_ongatheringstatechange failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onselectedcandidatepairchange",{get:function(){return this.onselectedcandidatepairchange_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onselectedcandidatepairchange() called.");this.onselectedcandidatepairchange_=
a;this.waitUntilConnected("IceTransport.onselectedcandidatepairchange").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),h.method_id_RTCIceTransport_t.onselectedcandidatepairchange);c.then(function(a){d.logger.log(b.user_friendly_id()+".onselectedcandidatepairchange callback received!");b.syncCandidates().then(function(a){d.logger.log(b.user_friendly_id()+"received updated ice candidates!")});b.selectedPair=b.param0(a);d.logger.log(b.user_friendly_id()+"selectedPair: "+b.selectedPair);
b.onselectedcandidatepairchange_()});return b.remoteInvoke(!0,h.method_id_RTCIceTransport_t.onselectedcandidatepairchange,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,".set_onselectedcandidatepairchange failed!")})},enumerable:!1,configurable:!0});b.prototype.getLocalCandidates=function(){return this.localCandidates_};b.prototype.getRemoteCandidates=function(){return this.remoteCandidates_};b.prototype.getLocalParameters=function(){return null};b.prototype.getRemoteParameters=function(){return null};
b.prototype.getSelectedCandidatePair=function(){return this.selectedPair};b.convertState=function(a){return 0==a?"new":1==a?"checking":2==a?"connected":3==a?"completed":4==a?"failed":5==a?"disconnected":"closed"};b.convertGatheringState=function(a){return 0==a?"new":1==a?"gathering":"complete"};return b}(l.ProxyObject);a.IceTransport=g;var B;(function(a){a[a["new"]=0]="new";a[a.connecting=1]="connecting";a[a.connected=2]="connected";a[a.closed=3]="closed";a[a.failed=4]="failed";a[a.max=5]="max"})(B||
(B={}));var t=function(a){function b(c,e){var g=a.call(this,c,h.class_id_t.RTCDtlsTransport,e,l.ProxyMode.Remote)||this;d.logger.log(g.user_friendly_id()+".constructor");g.state_="new";g.transport_=null;g.remoteCertificates_=[];return g}e(b,a);b.prototype.dumpInfo=function(){d.logger.log("DtlsTransport["+this.object_id()+"].dumpInfo():");d.logger.log("    - state:"+this.state_);d.logger.log("    - transport:"+this.transport_)};b.prototype.syncBarrier=function(){var a=this;d.logger.log(this.user_friendly_id()+
".syncBarrier() called.");return new Promise(function(c,e){a.syncBarrierDeep(c,e)&&a.waitUntilConnected("DtlsTransport.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,h.method_id_RTCDtlsTransport_t.transport,{}),a.remoteInvoke(!1,h.method_id_RTCDtlsTransport_t.state,0),a.remoteInvoke(!1,h.method_id_RTCDtlsTransport_t.getRemoteCertificates)])}).then(function(c){var e;d.logger.log(a.user_friendly_id()+".syncBarrier remote success.");var h;e=c.map(function(b){return a.param0(b)});
c=e[0];h=e[1];a.remoteCertificates_=e[2];a.state_=b.convertState(h);e=[];if(void 0!=c&&0==c.is_null){h=a.transport_;if(null===a.transport_||a.transport_.object_id()!=c.oid)h=new g(a,c.oid);e.push(h.syncBarrier())}else e.push(Promise.resolve(null));Promise.all(e).then(function(b){d.logger.log(a.user_friendly_id()+".syncBarrier success");a.transport_=b[0];a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".prop.syncBarrier failed!");a.syncBarrierReject(b)})})["catch"](function(b){b=
a.logRemoteInvokeError(b,".syncBarrier failed!");a.syncBarrierReject(b)})})};Object.defineProperty(b.prototype,"transport",{get:function(){return this.transport_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){d.logger.log(this.user_friendly_id()+".get_state() called: "+this.state_);return this.state_},enumerable:!1,configurable:!0});b.prototype.getRemoteCertificates=function(){return this.remoteCertificates_};Object.defineProperty(b.prototype,"onstatechange",
{get:function(){return this.onstatechange_},set:function(a){var c=this;d.logger.log(this.user_friendly_id()+".set_onstatechange() called.");this.onstatechange_=a;this.waitUntilConnected("DtlsTransport.onstatechange").then(function(){var e=c.registerCallbacks(!1,c.isNullCallback(a),h.method_id_RTCDtlsTransport_t.onstatechange);e.then(function(a){d.logger.log(c.user_friendly_id()+".onstatechange callback received!");c.state_=b.convertState(c.param0(a));d.logger.log(c.user_friendly_id()+"state_: "+c.state_);
c.onstatechange_()});return c.remoteInvoke(!0,h.method_id_RTCDtlsTransport_t.onstatechange,e.success)})["catch"](function(a){c.logRemoteInvokeError(a,".set_onstatechange failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){return this.onerror_},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_onerror() called.");this.onerror_=a;this.waitUntilConnected("DtlsTransport.onerror").then(function(){var c=b.registerCallbacks(!1,b.isNullCallback(a),
h.method_id_RTCDtlsTransport_t.onerror);c.then(function(a){d.logger.log(b.user_friendly_id()+".onerror callback received!");a=b.param0(a);d.logger.log(b.user_friendly_id()+"error: "+a);b.onerror_(a)});return b.remoteInvoke(!0,h.method_id_RTCDtlsTransport_t.onerror,c.success)})["catch"](function(a){b.logRemoteInvokeError(a,".set_onerror failed!")})},enumerable:!1,configurable:!0});b.convertState=function(a){return a==B["new"]?"new":a==B.connecting?"connecting":a==B.connected?"connected":a==B.closed?
"closed":"failed"};return b}(l.ProxyObject);a.DtlsTransport=t;b=function(a){function b(c,e,g,h){c=a.call(this,c,e,g,h)||this;d.logger.log(c.user_friendly_id()+".constructor base");c.track_=null;c.transport_=null;return c}e(b,a);b.prototype.syncBarrierBase=function(){d.logger.log(this.user_friendly_id()+".syncBarrierBase() called.");var a=[],b,c;this instanceof m?(b=h.method_id_RTCRtpSender_t.track,c=h.method_id_RTCRtpSender_t.transport):this instanceof D&&(b=h.method_id_RTCRtpReceiver_t.track,c=h.method_id_RTCRtpReceiver_t.transport);
n.RemoteSession.isFeaturePstnSupported()&&n.RemoteSession.isFeatureDtmfSupported()?(a.push(this.remoteInvoke(!1,b,{oid:0})),a.push(this.remoteInvoke(!1,c,{oid:0}))):a.push(this.remoteInvoke(!1,b,{oid:0}));return a};b.prototype.syncBarrierBaseResults=function(a){var b,c=this;b=0;d.logger.log(this.user_friendly_id()+".syncBarrierBaseResults");var e;n.RemoteSession.isFeaturePstnSupported()&&n.RemoteSession.isFeatureDtmfSupported()?(b=a.map(function(a){return c.param0(a)}),a=b[0],e=b[1],b=2):(a=a.map(function(a){return c.param0(a)})[0],
b=1);var g=[];if(void 0!=a&&!1===a.is_null){var h=this.track_;null===this.track_||this.track_.object_id()!=a.oid?h=new w.RemoteMediaTrack(this,a.oid):this.track_.bind(this,a.oid);g.push(h.syncBarrier())}else g.push(Promise.resolve(null));if(void 0!=e&&!1===e.is_null){a=this.transport_;if(null===this.transport_||this.transport_.object_id()!=e.oid)a=new t(this,e.oid);g.push(a.syncBarrier())}else g.push(Promise.resolve(null));return[b,g]};b.prototype.syncBarrierBaseResultsWithAllPromisesFulFilled=function(a){this.track_=
a[0];this.transport_=a[1]};Object.defineProperty(b.prototype,"transport",{get:function(){d.logger.log(this.user_friendly_id()+".get transport() called.");return this.transport_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"rtcpTransport",{get:function(){d.logger.log(this.user_friendly_id()+".get rtcpTransport() called.");return this.transport_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"track",{get:function(){return this.track_},enumerable:!1,configurable:!0});
b.prototype.reinitTrack=function(a){this.track_=a};b.prototype.getStats=function(){d.logger.log(this.user_friendly_id()+".getStats() called.");var a=this;return new Promise(function(b,c){a.isRedirected()?a.waitUntilConnected("RtpReceiver.getStats").then(function(){if(n.RemoteSession.isFeatureSenderStatsFixSupported()){var d;a instanceof m?d=h.method_id_RTCRtpSender_t.getStats:a instanceof D&&(d=h.method_id_RTCRtpReceiver_t.getStats);var c=a.registerCallbacks(!0,!1,d);c.then(function(a){void 0===a.params||
0===a.params.length||0===a.params[0].length?b():b(q.StatsReport.fromJSON(JSON.parse(a.params[0])))});return a.remoteInvoke(!1,d,c.success)}b()})["catch"](function(b){b=a.logRemoteInvokeError(b,".getStats() failed!");c(b)}):(d.logger.log(a.user_friendly_id()+".getStats(): not in active redirection!"),b())})};return b}(l.ProxyObject);a.RtpSenderReceiver=b;var m=function(a){function b(c,e,g,m){c=a.call(this,c,h.class_id_t.RTCRtpSender,e,g)||this;d.logger.log(c.user_friendly_id()+".constructor");c.dtmf_=
null;c.params_=k.RtcRtpSendParameters.defRtcRtpSendParameters();c.unified_=m;return c}e(b,a);b.prototype.dumpInfo=function(){d.logger.log("RtpSender["+this.object_id()+"].dumpInfo():");this.track&&this.track.dumpInfo()};b.prototype.syncBarrier=function(){var b=this;d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(c,e){b.syncBarrierDeep(c,e)&&b.waitUntilConnected("RtpSender.syncBarrier").then(function(){var c=a.prototype.syncBarrierBase.call(b);n.RemoteSession.isFeaturePstnSupported()&&
n.RemoteSession.isFeatureDtmfSupported()&&(c.push(b.remoteInvoke(!1,h.method_id_RTCRtpSender_t.dtmf,{oid:0})),c.push(b.remoteInvoke(!1,h.method_id_RTCRtpSender_t.getParameters)));return Promise.all(c)}).then(function(a){var c,e;c=b.syncBarrierBaseResults(a);e=c[0];c=c[1];a=a.slice(e).map(function(a){return b.param0(a)});e=a[0];b.params_=a[1];void 0==e||!1!==e.is_null||null!==b.dtmf_&&b.dtmf_.object_id()==e.oid||(b.dtmf_=new p(b,e.oid));Promise.all(c).then(function(a){b.syncBarrierBaseResultsWithAllPromisesFulFilled(a);
d.logger.log(b.user_friendly_id()+".syncBarrierBase success.");b.syncBarrierResolve(b)})["catch"](function(a){a=b.logRemoteInvokeError(a,".syncBarrier() promises_base failed!");b.syncBarrierReject(a)})})["catch"](function(a){a=b.logRemoteInvokeError(a,".syncBarrier failed!");b.syncBarrierReject(a)})})};b.getCapabilities=function(a){d.logger.log(this.constructor.name+".getCapabilities() called.");return w.NavigatorUserMedia.getCapabilities(a)};Object.defineProperty(b.prototype,"dtmf",{get:function(){d.logger.log(this.user_friendly_id()+
".get dtmf() called.");return this.dtmf_},enumerable:!1,configurable:!0});b.prototype.setParameters=function(a){return this.setParametersAsync(a)};b.prototype.setParametersAsync=function(a){var b=this;d.logger.log(this.user_friendly_id()+".setParametersAsync() called.");return new Promise(function(c,e){b.waitUntilConnected("RtpSender.setParametersAsync").then(function(){return Promise.all([b.remoteInvoke(!1,h.method_id_RTCRtpSender_t.setParameters,k.RtcRtpSendParameters.toRtcRtpSendParameters(a))])}).then(function(e){d.logger.log(b.user_friendly_id()+
".setParametersAsync(): success.");c();b.params_=k.RtcRtpSendParameters.toRtcRtpSendParameters(a)})["catch"](function(a){a=b.logRemoteInvokeError(a,".setParametersAsync() failed!");e(a)})})};b.prototype.getParameters=function(){d.logger.log(this.user_friendly_id()+".getParameters() called.");return this.getParametersInternal(!1)};b.prototype.getParametersAsync=function(){d.logger.log(this.user_friendly_id()+".getParametersAsync() called.");return this.getParametersInternal(!0)};b.prototype.getParametersInternal=
function(a){var b=this,c=new Promise(function(a,c){b.waitUntilConnected(b.user_friendly_id()+".getParametersInternal").then(function(){d.logger.log(b.user_friendly_id()+".getParametersInternal() remote invoking");return b.remoteInvoke(!1,h.method_id_RTCRtpSender_t.getParameters)}).then(function(c){b.params_=b.param0(c);d.logger.log(b.user_friendly_id()+".getParametersInternal() success returning: "+b.params_);a(k.RtcRtpSendParameters.toRTCRtpSendParameters(b.params_))})["catch"](function(a){a=b.logRemoteInvokeError(a,
".getParametersInternal() failed!");c(a)})});if(a)return c;d.logger.log(this.user_friendly_id()+".getParametersInternal() returning: "+this.params_);return k.RtcRtpSendParameters.toRTCRtpSendParameters(this.params_)};b.prototype.replaceTrack=function(a){var b=this;d.logger.log(this.user_friendly_id()+".replaceTrack() called. current track:"+(this.track_?this.track_.object_id():"null")+" with track="+(a?a.object_id():"null"));return new Promise(function(c,e){b.waitUntilConnected("RtpSender.replaceTrack").then(function(){return a||
n.RemoteSession.isFeatureWebrtc1dot0Supported()?a?b.remoteInvokeEx(!1,h.method_id_RTCRtpSender_t.replaceTrack,[a]):b.remoteInvoke(!1,h.method_id_RTCRtpSender_t.replaceTrack,{oid:-1}):Promise.reject(new DOMException("Does not support replace track with null in non-Unified SDP semantic!"))}).then(function(e){d.logger.log(b.user_friendly_id()+".replaceTrack(): success.");c();b.reinitTrack(a)})["catch"](function(a){a=b.logRemoteInvokeError(a,".replaceTrack() failed!");e(a)})})};return b}(b);a.RtpSender=
m;var D=function(a){function b(c,e,g,m,x){c=a.call(this,c,h.class_id_t.RTCRtpReceiver,e,g)||this;d.logger.log(c.user_friendly_id()+".constructor");c.contribsources_=[];c.syncsources_=[];c.params_=k.RtcRtpParameters.defRtcRtpParameters();c.unified_=m;x&&(c.track_=x);return c}e(b,a);b.prototype.dumpInfo=function(){d.logger.log("RtpReceiver["+this.object_id()+"].dumpInfo():");this.track&&this.track.dumpInfo();this.transport&&this.transport.dumpInfo()};b.prototype.syncBarrier=function(){var b=this;d.logger.log(this.user_friendly_id()+
".syncBarrier() called.");return new Promise(function(c,e){b.syncBarrierDeep(c,e)&&b.waitUntilConnected("RtpReceiver.syncBarrier").then(function(){var c=a.prototype.syncBarrierBase.call(b);n.RemoteSession.isFeaturePstnSupported()&&n.RemoteSession.isFeatureDtmfSupported()?(c.push(b.remoteInvoke(!1,h.method_id_RTCRtpReceiver_t.getContributingSources)),c.push(b.remoteInvoke(!1,h.method_id_RTCRtpReceiver_t.getSynchronizationSources)),c.push(b.remoteInvoke(!1,h.method_id_RTCRtpReceiver_t.getParameters))):
c.push(b.remoteInvoke(!1,h.method_id_RTCRtpReceiver_t.getContributingSources));return Promise.all(c)}).then(function(a){var c,e;c=b.syncBarrierBaseResults(a);e=c[0];c=c[1];a=a.slice(e).map(function(a){return b.param0(a)});b.contribsources_=a[0];b.syncsources_=a[1];b.params_=a[2];Promise.all(c).then(function(a){b.syncBarrierBaseResultsWithAllPromisesFulFilled(a);d.logger.log(b.user_friendly_id()+".syncBarrier success.");b.syncBarrierResolve(b)})["catch"](function(a){a=b.logRemoteInvokeError(a,".syncBarrier() promises_base failed!");
b.syncBarrierReject(a)})})["catch"](function(a){a=b.logRemoteInvokeError(a,".syncBarrier() failed!");b.syncBarrierReject(a)})})};b.getCapabilities=function(a){d.logger.log(this.constructor.name+".getCapabilities() called.");return w.NavigatorUserMedia.getCapabilities(a)};b.prototype.getContributingSources=function(){var a=this;d.logger.log(this.user_friendly_id()+".getContributingSources() called. "+JSON.stringify(this.contribsources_));this.waitUntilConnected("RtpReceiver.getContributingSources").then(function(){return Promise.all([a.remoteInvoke(!1,
h.method_id_RTCRtpReceiver_t.getContributingSources)])}).then(function(b){a.contribsources_=b.map(function(b){return a.param0(b)})[0];d.logger.log(a.user_friendly_id(),".getContributingSources() success: "+JSON.stringify(a.contribsources_))})["catch"](function(b){a.logRemoteInvokeError(b,".getContributingSources() failed!");a.contribsources_=[]});return this.contribsources_};b.prototype.getParameters=function(){var a=this;d.logger.log(this.user_friendly_id()+".getParameters() called.");this.waitUntilConnected(this.user_friendly_id()+
".getParameters").then(function(){d.logger.log(a.user_friendly_id()+".getParameters() remote invoking");return a.remoteInvoke(!1,h.method_id_RTCRtpReceiver_t.getParameters)}).then(function(b){d.logger.log(a.user_friendly_id()+".getParameters() success");a.params_=a.param0(b)})["catch"](function(b){a.logRemoteInvokeError(b,".getParameters() failed!")});d.logger.log(this.user_friendly_id()+".getParameters() returning: "+this.params_);return k.RtcRtpReceiveParameters.toRTCRtpReceiveParameters(this.params_)};
b.prototype.getSynchronizationSources=function(){d.logger.log(this.user_friendly_id()+".getSynchronizationSources() called.");return this.syncsources_};return b}(b);a.RtpReceiver=D},377:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===
c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});a.RtpTransceiver=a.RtcRtpTransceiverInit=a.RtcRtpTransceiverDirection=void 0;var l=c(658),h=c(550),d=c(851),w=c(589),q=c(484),n;(function(a){a[a.sendrecv=0]="sendrecv";a[a.sendonly=1]="sendonly";a[a.recvonly=2]="recvonly";a[a.inactive=3]="inactive";a[a.stopped=4]="stopped"})(n=a.RtcRtpTransceiverDirection||(a.RtcRtpTransceiverDirection={}));var k=function(){function a(){}a.toRtcRtpTransceiverDirection=
function(a){switch(a){case "inactive":a=n.inactive;break;case "recvonly":a=n.recvonly;break;case "sendonly":a=n.sendonly;break;case "sendrecv":a=n.sendrecv;break;case "stopped":a=n.stopped;break;default:a=n.sendrecv}return a};a.toRTCRtpTransceiverDirection=function(a){switch(a){case n.inactive:a="inactive";break;case n.recvonly:a="recvonly";break;case n.sendonly:a="sendonly";break;case n.sendrecv:a="sendrecv";break;case n.stopped:a="stopped";break;default:a="sendrecv"}return a};a.toRtcRtpTransceiverInit=
function(b){d.logger.log("RtcRtpTransceiverInit.toRtcRtpTransceiverInit() in init:"+JSON.stringify(b));var c={};b&&(b.direction&&(c.direction=a.toRtcRtpTransceiverDirection(b.direction)),b.sendEncodings&&(c.sendEncodings=[],b.sendEncodings.forEach(function(a){return c.sendEncodings.push(q.RtcRtpEncodingParameters.toRtcRtpEncodingParameters(a))})),b.streams&&(c.streams=b.streams));d.logger.log("RtcRtpTransceiverInit.toRtcRtpTransceiverInit() out init:"+JSON.stringify(c));return c};return a}();a.RtcRtpTransceiverInit=
k;b=function(a){function b(c,e,k,m,q,y){c=a.call(this,c,h.class_id_t.RTCRtpTransceiver,e,k)||this;d.logger.log(c.user_friendly_id()+".constructor");c.unified_=m;c.sender_=new w.RtpSender(c,0,l.ProxyMode.Pseudo,m);c.receiver_=y?y:new w.RtpReceiver(c,0,l.ProxyMode.Pseudo,m);q?(c.direction_=q,c.currentDirection_=q):(c.direction_=n.sendrecv,c.currentDirection_=n.sendrecv);return c}e(b,a);b.prototype.dumpInfo=function(){d.logger.log(this.user_friendly_id()+".dumpInfo() [id="+this.mid+"] direction="+k.toRTCRtpTransceiverDirection(this.direction_)+
" currentDirection="+k.toRTCRtpTransceiverDirection(this.currentDirection_));this.sender&&this.sender.dumpInfo();this.receiver&&this.receiver.dumpInfo()};b.prototype.syncBarrier=function(){var a=this;d.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected("RtpTransceiver.syncBarrier").then(function(){return Promise.all([a.remoteInvoke(!1,h.method_id_RTCRtpTransceiver_t.mid,""),a.remoteInvoke(!1,h.method_id_RTCRtpTransceiver_t.direction,
0),a.remoteInvoke(!1,h.method_id_RTCRtpTransceiver_t.currentDirection,0),a.remoteInvoke(!1,h.method_id_RTCRtpTransceiver_t.sender,{oid:0}),a.remoteInvoke(!1,h.method_id_RTCRtpTransceiver_t.receiver,{oid:0})])}).then(function(b){var c;d.logger.log(a.user_friendly_id()+".syncBarrier remote success.");c=b.map(function(b){return a.param0(b)});a.mid_=c[0];a.direction_=c[1];a.currentDirection_=c[2];b=c[3];c=c[4];var e=[];void 0!=b&&!1===b.is_null&&(a.sender_.bind(a,b.oid),e.push(a.sender_.syncBarrier()));
void 0!=c&&!1===c.is_null&&(a.receiver_.bind(a,c.oid),e.push(a.receiver_.syncBarrier()));if(0==e.length)d.logger.log(a.user_friendly_id()+".syncBarrier success"),a.syncBarrierResolve(a);else return d.logger.log(a.user_friendly_id()+".prop.syncBarrier start"),Promise.all(e)}).then(function(){d.logger.log(a.user_friendly_id()+".syncBarrier success");a.syncBarrierResolve(a)})["catch"](function(b){b=a.logRemoteInvokeError(b,".syncBarrier() failed!");a.syncBarrierReject(b)})})};Object.defineProperty(b.prototype,
"mid",{get:function(){d.logger.log(this.user_friendly_id()+".get_mid() called: "+this.mid_);return this.mid_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"sender",{get:function(){return this.sender_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"receiver",{get:function(){return this.receiver_},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"direction",{get:function(){d.logger.log(this.user_friendly_id()+".get_direction() called. "+k.toRTCRtpTransceiverDirection(this.direction_));
return k.toRTCRtpTransceiverDirection(this.direction_)},set:function(a){var b=this;d.logger.log(this.user_friendly_id()+".set_direction() called. "+a);this.direction_=k.toRtcRtpTransceiverDirection(a);this.waitUntilConnected("RtpTransceiver.set_direction").then(function(){return b.remoteInvoke(!0,h.method_id_RTCRtpTransceiver_t.direction,k.toRtcRtpTransceiverDirection(a))}).then(function(){d.logger.log(b.user_friendly_id()+".set_direction: success.")})["catch"](function(a){b.logRemoteInvokeError(a,
".set_direction() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"currentDirection",{get:function(){d.logger.log(this.user_friendly_id()+".get_currentDirection() called. "+k.toRTCRtpTransceiverDirection(this.currentDirection_));return k.toRTCRtpTransceiverDirection(this.currentDirection_)},enumerable:!1,configurable:!0});b.prototype.stop=function(){var a=this;d.logger.log(this.user_friendly_id()+".stop() called.");this.waitUntilConnected("RtpTransceiver.stop").then(function(){return a.remoteInvoke(!0,
h.method_id_RTCRtpTransceiver_t.stop)}).then(function(){d.logger.log(a.user_friendly_id()+".stop: success.")})["catch"](function(b){a.logRemoteInvokeError(b,".stop() failed!")})};b.prototype.setCodecPreferences=function(a){var b=this;d.logger.log(this.user_friendly_id()+".setCodecPreferences() called.");this.waitUntilConnected("RtpTransceiver.setCodecPreferences").then(function(){return b.remoteInvoke(!0,h.method_id_RTCRtpTransceiver_t.setCodecPreferences,a)}).then(function(){d.logger.log(b.user_friendly_id()+
".setCodecPreferences: success.")})["catch"](function(a){b.logRemoteInvokeError(a,".setCodecPreferences() failed!")})};return b}(l.ProxyObject);a.RtpTransceiver=b},973:function(b,a,c){function e(a,b){return void 0!==a.find(function(a){return a===b})}function l(a,b,c){b/=a.width;c/=a.height;var d=document.createElement("canvas"),e=d.getContext("2d");d.width=a.width*b;d.height=a.height*c;e.putImageData(a,0,0);if(1!=b||1!=c)e.scale(b,c),e.drawImage(d,0,0);return d}function h(a,b,c){a=l(a,b,c);b=document.createElement("img");
b.src=a.toDataURL();return b}function d(a,b,c,d){c="undefined"!==typeof c?c:D.Width;d="undefined"!==typeof d?d:D.Height;if(!0===b)return h(a,c,d);b=null;c==a.width&&d===a.height?b=a:(a=l(a,c,d),b=a.getContext("2d").getImageData(0,0,a.width,a.height));return b}var w=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,
c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});a.ScreenSource=a.ScreenSourceVda=a.ScreenSharingVda=a.ScreenSharingRemote=a.ScreenSharing=a.ImageDataRemote=void 0;var q=c(658),n=c(550),k=c(851),p=c(946),z=c(691),g=c(650),B;(function(a){a[a.Legacy=0]="Legacy";a[a.MonitorsAndApps=10]="MonitorsAndApps"})(B||(B={}));b=function(){return function(a,b,c){this.data=a;this.height=b;this.width=
c}}();a.ImageDataRemote=b;b=function(){function a(){this.local_=this.remote_=null}a.screenSharingInstance=function(b){a.instance||(a.instance=new a,b&&(a.instance.onscreentopologychanged=b));return a.instance};a.destroyInstance=function(){a.instance&&a.instance.remote_&&a.instance.remote_.release();a.instance=null};a.prototype.user_friendly_id=function(){return this.constructor.name+"[]"};Object.defineProperty(a.prototype,"onscreentopologychanged",{set:function(a){this.remote_||(this.remote_=new t);
this.remote_.onscreentopologychanged=a;this.local_||(this.local_=new m);this.local_.onscreentopologychanged=a},enumerable:!1,configurable:!0});a.prototype.getWindowsAsync=function(){var a=this;k.logger.log(this.user_friendly_id()+".getWindowsAsync() called.");null==this.local_&&(this.local_=new m);return new Promise(function(b,c){var d=[];a.local_.getWindowsAsync().then(function(c){c&&(d=c);k.logger.log(a.user_friendly_id()+".getWindowsAsync() returning sources");b(d)})["catch"](function(){k.logger.log("ScreenSharing.getWindowsAsync(): rejected");
b(d)})})};a.prototype.getScreensAsync=function(){var a=this;k.logger.log(this.user_friendly_id()+".getScreensAsync() called.");null==this.remote_&&(this.remote_=new t);return new Promise(function(b,c){var d=[];a.remote_.getScreensAsync().then(function(c){c&&(d=c);k.logger.log(a.user_friendly_id()+".getScreensAsync() returning sources");b(d)})["catch"](function(){k.logger.log("ScreenSharing.getScreensAsync(): rejected");b(d)})})};a.prototype.setActiveSource=function(a,b){var c=this;k.logger.log(this.user_friendly_id()+
".setActiveSource() called. id="+a+" appshare="+b);return new Promise(function(d,e){c.remote_.contains(a)?c.remote_.setActive(a).then(function(a){d(a)})["catch"](function(){k.logger.log("ScreenSharing.setActiveSource(): rejected");e()}):b?c.local_.contains(a)?c.local_.setActive(!0,a).then(function(a){d(a)})["catch"](function(){k.logger.log("ScreenSharing.setActiveSource(): rejected");e()}):(k.logger.log("ScreenSharing.setActiveSource(): legacy screen sharing"),d("")):(k.logger.log("ScreenSharing.setActiveSource(): legacy screen sharing"),
d(""))})};a.prototype.isAppshareActive=function(){return this.local_&&-1!==this.local_.lastActive};a.prototype.stopAppshare=function(){k.logger.log(this.user_friendly_id()+".stopAppshare() called.");this.local_&&this.local_.setActive(!1).then(function(a){k.logger.log("ScreenSharing.stopAppshare(): success, deviceid=",a)})["catch"](function(){k.logger.log("ScreenSharing.stopAppshare(): failure or timeout due to nonresponsive WS Agent")})};a.instance=null;return a}();a.ScreenSharing=b;var t=function(a){function b(){var c=
a.call(this,null,n.class_id_t.ScreenSharingRemote,0,q.ProxyMode.Local)||this;k.logger.log(c.user_friendly_id()+".constructor");c.sources_=[];return c}w(b,a);b.prototype.getSourceById=function(a){return this.sources_.find(function(b){return b.getId()==a})};b.prototype.contains=function(a){return void 0!==this.getSourceById(a)};Object.defineProperty(b.prototype,"onscreentopologychanged",{get:function(){return this.onscreentopologychanged_},set:function(a){var b=this;this.onscreentopologychanged_=a;
this.waitUntilConnected(this.user_friendly_id()+".onscreentopologychanged").then(function(){var a=b.registerCallbacks(!1,b.isNullCallback(b.onscreentopologychanged_),n.method_id_VDISharingRemote_t.onscreentopologychanged);a.then(function(){k.logger.log(b.user_friendly_id()+"onscreentopologychanged event received!!!");b.onscreentopologychanged_&&b.onscreentopologychanged_()});return b.remoteInvoke(!0,n.method_id_VDISharingRemote_t.onscreentopologychanged,a.success)})["catch"](function(a){b.logRemoteInvokeError(a,
".set_onscreentopologychanged() failed!")})},enumerable:!1,configurable:!0});b.prototype.getScreensAsync=function(){var a=this;k.logger.log(this.user_friendly_id()+".getScreensAsync() called.");var b=this.sources_;this.sources_=[];var c=p.getRedirector().vdabufferNoLimit()&&g.RemoteSession.isFeatureVdNoBufferLimitSupported();return new Promise(function(d,g){a.waitUntilConnected(a.user_friendly_id()+".getScreensAsync").then(function(){return a.remoteInvoke(!1,n.method_id_VDISharingRemote_t.getScreensAsync,
c)}).then(function(c){var h=[];c.params[0].forEach(function(c){var d=b.find(function(a){return a.object_id()===c.oid});void 0===d&&(k.logger.log(a.user_friendly_id()+" create a ScreenSource with oid:"+c.oid),d=new y(a,c.oid,q.ProxyMode.Remote));h.push(d.syncBarrier())});Promise.all(h.map(function(a){return a.then(function(a){return{value:a,status:"fulfilled"}},function(a){return{value:a,status:"rejected"}})})).then(function(c){var g=c.filter(function(a){return"fulfilled"===a.status}).map(function(a){return a.value});
a.sources_=g;b.filter(function(a){return!e(g,a)}).forEach(function(a){return a.release()});d(g)})["catch"](function(c){c=a.logRemoteInvokeError(c,".getScreensAsync() failed!");b.forEach(function(a){a.release()});g(c)})})["catch"](function(c){c=a.logRemoteInvokeError(c,".getScreensAsync() failed!");b.forEach(function(a){a.release()});g(c)})})};b.prototype.setActive=function(a){var b=this;k.logger.log(this.user_friendly_id()+".setActive() called. uniqueid="+a);return new Promise(function(c,d){-1!=a?
c(b.getSourceById(a).getDeviceId()):d()})};return b}(q.ProxyObject);a.ScreenSharingRemote=t;var m=function(){function a(){k.logger.log(this.user_friendly_id()+".constructor");this.sources_=[];this.lastactive_=-1}a.prototype.user_friendly_id=function(){return this.constructor.name+"[]"};Object.defineProperty(a.prototype,"onscreentopologychanged",{set:function(a){p.getRedirector().screenshare.setTopologyChangeCB(a)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"lastActive",{get:function(){return this.lastactive_},
enumerable:!1,configurable:!0});a.prototype.getSourceById=function(a){return this.sources_.find(function(b){return b.getId()==a})};a.prototype.contains=function(a){return void 0!==this.getSourceById(a)};a.prototype.getWindowsAsync=function(){var a=this;k.logger.log(this.user_friendly_id()+".getWindowsAsync() called.");var b=this.sources_;this.sources_=[];return new Promise(function(c,d){p.getRedirector().screenshare.getSources(new z.getSourcesReqData(2)).then(function(d){d=d.map(function(c){var d=
b.find(function(a){return a.equivalent(c)});return void 0!==d?(d.setDescription(c.getDescription()),c.getIcon().then(function(a){d.setIcon(a)})["catch"](function(){k.logger.log(a.user_friendly_id()+".getWindowsAsync() failed to retrieve new icon.")}),c.getPreviewAsync().then(function(a){d.setPreview(a)})["catch"](function(){k.logger.log(a.user_friendly_id()+".getWindowsAsync() failed to retrieve new preview.")}),d):c});if(-1!=a.lastactive_){var e=b.find(function(b){return b.getId()==a.lastactive_}),
g=d.find(function(b){return b.getId()==a.lastactive_});void 0!==e&&void 0===g&&d.push(e)}a.sources_=d;c(a.sources_)})["catch"](function(){k.logger.log(a.user_friendly_id()+".getWindowsAsync(): rejected");d()})})};a.prototype.activateSource=function(a,b){var c=this;return new Promise(function(d,e){var g=b?"activate":"deactivate";k.logger.log(c.user_friendly_id()+".activateSource() called. action="+g);var h=new z.setActiveReqData(a.srcid,a.hwnd,a.origin,a.pid,!0,!0,b);p.getRedirector().screenshare.setActive(h).then(function(b){k.logger.log(c.user_friendly_id()+
": "+g+" success: srcid="+b.srcid+" deviceid="+b.bufferid);a.deviceid=b.bufferid;d(b.bufferid)})["catch"](function(){k.logger.log(c.user_friendly_id()+"failed to "+g+": srcid="+a.srcid+", maybe WS Agent is too slow to respond");e()})})};a.prototype.setActive=function(a,b){var c=this;k.logger.log(this.user_friendly_id()+".setActive() called. uniqueid="+b);return new Promise(function(d,e){a||(b=c.lastactive_);-1!=b?(a?(b!=c.lastactive_&&-1!=c.lastactive_&&c.activateSource(c.getSourceById(c.lastactive_),
!1),c.lastactive_=b):c.lastactive_=-1,c.activateSource(c.getSourceById(b),a).then(function(b){d(a?"RemoteApplication-"+b:b)})["catch"](function(){e()})):e()})};return a}();a.ScreenSharingVda=m;var D=function(){function a(){}a.Width=140;a.Height=90;return a}();b=function(){function a(b,c,d,e,g,h,k,m,n,l){this.uniqueid_=y.nextId_++;this.srcid_=b;this.deviceid_=c;this.type_=d;this.imagedata_=e;this.icon_=g;this.name_=h;this.hwnd_=k;this.origin_=m;this.caption_=n;this.pid_=l}a.prototype.user_friendly_id=
function(){return this.constructor.name+"["+this.uniqueid_+"]"};Object.defineProperty(a.prototype,"srcid",{get:function(){return this.srcid_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hwnd",{get:function(){return this.hwnd_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"origin",{get:function(){return this.origin_},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"pid",{get:function(){return this.pid_},enumerable:!1,configurable:!0});a.prototype.getId=
function(){return this.uniqueid_};a.prototype.getDeviceId=function(){return this.deviceid_};Object.defineProperty(a.prototype,"deviceid",{set:function(a){this.deviceid_=a},enumerable:!1,configurable:!0});a.prototype.getType=function(){return 2};a.prototype.getPreview=function(a,b,c){k.logger.log(this.user_friendly_id()+".getPreview() called, width:"+a+" height:"+b+" asImage:"+c);return Promise.reject(null)};a.prototype.setPreview=function(a){this.imagedata_=a};a.prototype.getPreviewAsync=function(a,
b,c){k.logger.log(this.user_friendly_id()+".getPreviewAsync() called, width:"+a+" height:"+b);return!0===c?(a=h(this.imagedata_,D.Width,D.Height),Promise.resolve({data:a.src.replace(/^data:image\/(png|jpg);base64,/,"")})):Promise.resolve(this.imagedata_)};a.prototype.getPreviewImage=function(a,b,c){k.logger.log(this.user_friendly_id()+".getPreviewImage() called, width:"+b+" height:"+c);return Promise.resolve(d(this.imagedata_,a,b,c))};a.prototype.getDescription=function(){return this.name_};a.prototype.setDescription=
function(a){this.name_=a};a.prototype.getIcon=function(a,b,c){return!0===c?(a=h(this.icon_,D.Width,D.Height),Promise.resolve({data:a.src.replace(/^data:image\/(png|jpg);base64,/,"")})):Promise.resolve(this.icon_)};a.prototype.getIconImage=function(a,b,c){k.logger.log(this.user_friendly_id()+".getIconImage() called, width:"+b+" height:"+c);return Promise.resolve(d(this.icon_,a,"undefined"!==typeof b?b:this.icon_.width,"undefined"!==typeof c?c:this.icon_.height))};a.prototype.setIcon=function(a){this.icon_=
a};a.prototype.getBounds=function(){return{x:0,y:0,width:0,height:0}};a.prototype.equivalent=function(a){return this.pid_===a.pid_&&this.hwnd_===a.hwnd_};return a}();a.ScreenSourceVda=b;var y=function(a){function b(c,d,e){c=a.call(this,c,n.class_id_t.ScreenSource,d,e)||this;c.screenshare_=new z.ScreenShareUtil;c.uniqueid_=b.nextId_++;k.logger.log(c.user_friendly_id()+".constructor");return c}w(b,a);b.prototype.user_friendly_id=function(){return this.constructor.name+"["+this.uniqueid_+"]"};b.prototype.toJSImageData=
function(a){var b=atob(a.data.toString()),b=this.screenshare_.str2ab(b),b=new Uint8ClampedArray(b,0,b.byteLength);this.imagedata_=new ImageData(b,a.width,a.height)};b.prototype.syncBarrier=function(){var a=this;k.logger.log(this.user_friendly_id()+".syncBarrier() called.");return new Promise(function(b,c){a.syncBarrierDeep(b,c)&&a.waitUntilConnected(a.user_friendly_id()+".syncBarrier").then(function(){Promise.all([a.remoteInvoke(!1,n.method_id_ScreenSource_t.srcid,0),a.remoteInvoke(!1,n.method_id_ScreenSource_t.deviceid,
""),a.remoteInvoke(!1,n.method_id_ScreenSource_t.type,0),a.remoteInvoke(!1,n.method_id_ScreenSource_t.name,""),a.remoteInvoke(!1,n.method_id_ScreenSource_t.imagedata),a.remoteInvoke(!1,n.method_id_ScreenSource_t.hwnd,""),a.remoteInvoke(!1,n.method_id_ScreenSource_t.origin,0),a.remoteInvoke(!1,n.method_id_ScreenSource_t.caption,""),a.remoteInvoke(!1,n.method_id_ScreenSource_t.pid,0)]).then(function(b){k.logger.log(a.user_friendly_id()+".syncBarrier(): success.");var c;b=b.map(function(b){return a.param0(b)});
a.srcid_=b[0];a.deviceid_=b[1];a.type_=b[2];a.name_=b[3];c=b[4];a.hwnd_=b[5];a.origin_=b[6];a.caption_=b[7];a.pid_=b[8];a.toJSImageData(c);a.remoteInvoke(!1,n.method_id_ScreenSource_t.bounds,0).then(function(b){a.bounds_=a.param0(b);a.syncBarrierResolve(a)})["catch"](function(b){a.bounds_=void 0;b=a.logRemoteInvokeError(b,".prop.syncBarrier() getBounds failed.");a.syncBarrierReject(b)})})["catch"](function(b){b=a.logRemoteInvokeError(b,".prop.syncBarrier() failed.");a.syncBarrierReject(b)})})["catch"](function(b){b=
a.logRemoteInvokeError(b,".syncBarrier() failed.");a.syncBarrierReject(b)})})};b.prototype.getId=function(){return this.uniqueid_};b.prototype.getDeviceId=function(){return this.deviceid_};b.prototype.getType=function(){return 1};b.prototype.getPreview=function(a,b,c){k.logger.log(this.user_friendly_id()+".getPreview() called, width:"+a+" height:"+b+" asImage:"+c);return Promise.reject(null)};b.prototype.getPreviewAsync=function(a,b,c){k.logger.log(this.user_friendly_id()+".getPreviewAsync() called, width:"+
a+" height:"+b);return!0===c?(a=h(this.imagedata_,D.Width,D.Height),Promise.resolve({data:a.src.replace(/^data:image\/(png|jpg);base64,/,"")})):Promise.resolve(this.imagedata_)};b.prototype.getPreviewImage=function(a,b,c){k.logger.log(this.user_friendly_id()+".getPreviewImage() called, width:"+b+" height:"+c);return Promise.resolve(d(this.imagedata_,a,b,c))};b.prototype.getDescription=function(){return this.name_};b.prototype.getIcon=function(a,b){return Promise.resolve(this.imagedata_)};b.prototype.getBounds=
function(){return this.bounds_||{x:0,y:0,width:0,height:0}};b.nextId_=B.MonitorsAndApps;return b}(q.ProxyObject);a.ScreenSource=y},691:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.ScreenShareUtil=a.Bitmap=a.BitmapInfoHeader=a.BitmapFileHeader=a.setActiveRespData=a.setActiveReqData=a.getSourcesReqData=a.sshare_state=a.sshare_cmd=void 0;var e=c(946),l=c(973),h=c(851),d;(function(a){a[a.Unknown=0]="Unknown";a[a.Cap=1]="Cap";a[a.GetSources=2]="GetSources";a[a.SetActive=3]="SetActive";
a[a.TopologyChanged=4]="TopologyChanged"})(d=a.sshare_cmd||(a.sshare_cmd={}));var w;(function(a){a[a.Unknown=0]="Unknown";a[a.Initialized=1]="Initialized";a[a.Error=2]="Error"})(w=a.sshare_state||(a.sshare_state={}));b=function(){return function(a){this.origin=a}}();a.getSourcesReqData=b;b=function(){return function(a,b,c,d,e,h,k){this.srcid=a;this.hwnd=b;this.origin=c;this.pid=d;this.border=e;this.cursor=h;this.activate=k}}();a.setActiveReqData=b;var q=function(){return function(a,b,c){this.srcid=
a;this.origin=b;this.bufferid=c}}();a.setActiveRespData=q;var n=function(){function a(b,c,d,e,g){this.id_=b;this.resolve_=c;this.reject_=d;this.cmd_=e;this.data_=g;this.sent_=!1;this.timeoutId=void 0}a.prototype.user_friendly_id=function(){return this.constructor.name+"["+this.id_+"]"};a.prototype.cmdString=function(){return this.cmd_==d.Cap?"Cap":this.cmd_==d.GetSources?"GetSources":this.cmd_==d.SetActive?"SetActive":"Unknown"};return a}(),k=function(){return function(){}}();a.BitmapFileHeader=k;
var p=function(){return function(){}}();a.BitmapInfoHeader=p;var z=function(){return function(){}}();a.Bitmap=z;b=function(){function a(){this.cmdque_=[]}a.prototype.reqid=function(){return a.nextId++};a.prototype.user_friendly_id=function(){return this.constructor.name+"[]"};a.prototype.stateString=function(){return a.state_==w.Initialized?"Initialized":a.state_==w.Error?"Error":"Unknown"};a.prototype.reset=function(){a.state_=w.Unknown;this.cmdque_=[]};a.prototype.dispatchCmds=function(){var b=
this;a.state_==w.Initialized?this.cmdque_.forEach(function(a){0==a.sent_&&(a.cmd_==d.GetSources?(b.WSSendGetSources(a.id_,a.data_),a.sent_=!0,a.timeoutId=setTimeout(b.abortCmd.bind(b,a.id_),5E3)):a.cmd_==d.SetActive?(b.WSSendSetActive(a.id_,a.data_),a.sent_=!0,a.timeoutId=setTimeout(b.abortCmd.bind(b,a.id_),5E3)):h.logger.log(a.user_friendly_id()+".dispatchCmds(): invalid cmd: "+a.cmdString()))}):a.state_==w.Error?(this.cmdque_.forEach(function(a){h.logger.log(a.user_friendly_id()+".dispatchCmds(): purging cmd: "+
a.cmdString());a.reject_()}),this.cmdque_=[]):h.logger.log(this.user_friendly_id()+".dispatchCmds(): invalid state: "+this.stateString())};a.prototype.abortCmd=function(a){var b=this.cmdque_.findIndex(function(b){return b.id_===a});-1!==b?(b=this.cmdque_.splice(b,1)[0],h.logger.log(b.user_friendly_id()+NaN+b.cmdString()+"]: aborted due to nonresponsive WS Agent!"),b.cmd_===d.SetActive&&b.data_.activate&&l.ScreenSharing.screenSharingInstance().stopAppshare(),b.reject_()):h.logger.log(this.user_friendly_id()+
".abortCmd(): Cmd not found!")};a.prototype.finalizeCmd=function(a,b,c){for(var d=0;d<this.cmdque_.length;d++){var e=this.cmdque_[d];if(void 0!=b&&b==e.id_&&1==e.sent_||void 0==b&&1==e.sent_){clearTimeout(e.timeoutId);h.logger.log(e.user_friendly_id()+".finalizeCmd(): purging cmd: "+e.cmdString());a?void 0!=c?e.resolve_(c):e.resolve_():e.reject_();this.cmdque_.splice(d,1);break}}};a.prototype.onInitialized=function(b){h.logger.log(this.user_friendly_id()+".onInitialized(): init: "+b+" state:"+this.stateString());
a.state_!=w.Initialized&&(a.state_=b?w.Initialized:w.Error);this.dispatchCmds()};a.prototype.onInitComplete=function(){h.logger.log(this.user_friendly_id()+".onInitComplete(): state:"+this.stateString());a.state_==w.Unknown&&(a.state_=w.Error,h.logger.log(this.user_friendly_id()+".onInitComplete(): items in queue:"+this.cmdque_.length),this.dispatchCmds())};a.prototype.onError=function(b){h.logger.log(this.user_friendly_id()+".onError(): state: "+this.stateString());a.state_==w.Unknown?(a.state_=
w.Error,this.dispatchCmds()):a.state_==w.Initialized&&this.finalizeCmd(!1,b)};a.prototype.ab2str=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};a.prototype.str2ab=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);return b};a.prototype.getBMP=function(a){var b=new DataView(a),c=new z;c.fileheader=new k;c.fileheader.bfType=b.getUint16(0,!0);c.fileheader.bfSize=b.getUint32(2,!0);c.fileheader.bfReserved1=b.getUint16(6,
!0);c.fileheader.bfReserved2=b.getUint16(8,!0);c.fileheader.bfOffBits=b.getUint32(10,!0);c.infoheader=new p;c.infoheader.biSize=b.getUint32(14,!0);c.infoheader.biWidth=b.getUint32(18,!0);c.infoheader.biHeight=b.getUint32(22,!0);c.infoheader.biPlanes=b.getUint16(26,!0);c.infoheader.biBitCount=b.getUint16(28,!0);c.infoheader.biCompression=b.getUint32(30,!0);c.infoheader.biSizeImage=b.getUint32(34,!0);c.infoheader.biXPelsPerMeter=b.getUint32(38,!0);c.infoheader.biYPelsPerMeter=b.getUint32(42,!0);c.infoheader.biClrUsed=
b.getUint32(46,!0);c.infoheader.biClrImportant=b.getUint32(50,!0);b=c.fileheader.bfOffBits;c.stride=4*Math.floor((c.infoheader.biBitCount*c.infoheader.biWidth+31)/32);c.pixels=new Uint8Array(a,b);return c};a.prototype.convertToImageData=function(a){var b=document.createElement("canvas").getContext("2d"),c=a.infoheader.biWidth,d=a.infoheader.biHeight,b=b.createImageData(c,d),e=b.data,g=a.pixels;a=a.stride;for(var h=0;h<d;++h)for(var k=0;k<c;++k){var l=4*(k+c*(d-h)),n=4*k+a*h;e[l]=g[n+2];e[l+1]=g[n+
1];e[l+2]=g[n];e[l+3]=255}return b};a.prototype.onGetSources=function(a,b){this.sources_=[];var c=this;b.sources.forEach(function(a){var b=a.image,d=atob(b.data),d=c.str2ab(d),d=new Uint8ClampedArray(d,0,d.byteLength),b=new ImageData(d,b.width,b.height),d=a.icon,e=atob(d.data),e=c.str2ab(e),e=new Uint8ClampedArray(e,0,e.byteLength),d=new ImageData(e,d.width,d.height);a=new l.ScreenSourceVda(a.srcid,a.devicdid,a.type,b,d,a.name,a.hwnd,a.origin,a.caption,a.pid);c.sources_.push(a)});this.finalizeCmd(!0,
a,this.sources_)};a.prototype.getSources=function(b){var c=this;return new Promise(function(e,h){if(a.state_!=w.Error){var k=new n(c.reqid(),e,h,d.GetSources,b);c.cmdque_.push(k)}else h();a.state_==w.Initialized&&c.dispatchCmds()})};a.prototype.onSetActive=function(a,b){var c=new q(b.srcid,b.origin,b.bufferid);this.finalizeCmd(!0,a,c)};a.prototype.setActive=function(b){var c=this;return new Promise(function(e,h){if(a.state_!=w.Error){var k=new n(c.reqid(),e,h,d.SetActive,b);c.cmdque_.push(k)}else h();
a.state_==w.Initialized&&c.dispatchCmds()})};a.prototype.setTopologyChangeCB=function(a){this.onwindowtopologychanged_=a};a.prototype.onToplogyChanged=function(){if(this.onwindowtopologychanged_)this.onwindowtopologychanged_()};a.prototype.WSSendGetSources=function(a,b){try{e.getRedirector().WSSendObject({v:"appsharing",hdr:{command:d.GetSources,id:a},data:{origin:b.origin}})}catch(c){h.logger.log(c)}};a.prototype.WSSendSetActive=function(a,b){try{e.getRedirector().WSSendObject({v:"appsharing",hdr:{command:d.SetActive,
id:a},data:{srcid:b.srcid,hwnd:b.hwnd,origin:b.origin,pid:b.pid,border:b.border,cursor:b.cursor,activate:b.activate}})}catch(c){h.logger.log(c)}};a.state_=w.Unknown;a.nextId=0;return a}();a.ScreenShareUtil=b},517:function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.Stats=a.StatsReport=void 0;var c=function(){function a(){this.items=[]}a.fromJSON=function(b){for(var c=new a,l=0;l<b.length;l++){var q=e.fromJSON(b[l]);c.items.push(q)}return c};a.toRTCStatsReport=function(a){return a};a.prototype.toJSON=
function(){return JSON.stringify(this.items)};a.prototype.result=function(){return this.items};return a}();a.StatsReport=c;var e=function(){function a(){this.names_=[];this.stat_=new Map;this.id="";this.timestamp=0;this.type=""}a.fromJSON=function(b){var c=new a;c.id=b.id||"";c.timestamp=b.timestamp||"";c.type=b.type||"";Object.keys(b).forEach(function(a){"id"!==a&&"timestamp"!==a&&"type"!==a&&(c.names_.push(a),c.stat_.set(a,b[a]))});return c};a.prototype.toJSON=function(){return JSON.stringify({id:this.id,
timestamp:this.timestamp,type:this.type,stat:this.stat_})};a.prototype.names=function(){return this.names_};a.prototype.stat=function(a){return this.stat_.get(a)};return a}();a.Stats=e},704:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=
null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});a.StreamResolution=a.RemoteCallConstraints=void 0;var l=c(550),h=c(658),d=c(851);b=function(){return function(){}}();a.RemoteCallConstraints=b;b=function(a){function b(){var c=a.call(this,null,l.class_id_t.StreamResolution,0,h.ProxyMode.Local)||this;c.lastSentConstraints_=null;return c}e(b,a);Object.defineProperty(b.prototype,"onupdate",{get:function(){return this.onupdate_},set:function(a){var c=
this;this.onupdate_=a;this.waitUntilConnected(this.user_friendly_id()+".onupdate").then(function(){var a=c.registerCallbacks(!1,c.isNullCallback(c.onupdate_),l.method_id_StreamResolution_t.onupdate);a.then(function(a){a=a.params;var e=a[0];a.slice(1);d.logger.log(c.user_friendly_id()+".onupdate",JSON.stringify(e));c.lastSentConstraints_&&JSON.stringify(c.lastSentConstraints_)==JSON.stringify(e)?d.logger.log(c.user_friendly_id()+".onupdate constraints unchanged, ignoring"):c.onupdate_&&(b.isValidRemoteConstraints(e)?
(c.lastSentConstraints_=e,c.onupdate_(c.toICallConstraints(c.lastSentConstraints_))):d.logger.log(c.user_friendly_id()+".onupdate invalid RemoteCallConstraints"))});return c.remoteInvoke(!0,l.method_id_StreamResolution_t.onupdate,a.success)})["catch"](function(){return d.logger.log(c.user_friendly_id()+".onupdate, could not set listener")})},enumerable:!1,configurable:!0});b.prototype.toICallConstraints=function(a){var b={maxParticipantResolutions:null};if(a.max_participant_resolutions_dynamic){b.maxParticipantResolutions=
{};for(var c=0,e=a.max_participant_resolutions_dynamic;c<e.length;c++){var g=e[c];b.maxParticipantResolutions[g.count]=g.resolution}}else a.max_participant_resolutions_static&&(b.maxParticipantResolutions=a.max_participant_resolutions_static);b.maxIncomingStreams=a.max_incoming_streams;b.maxOutgoingResolution=a.max_outgoing_resolution;b.maxSimulcastLayers=a.max_simulcast_layers;d.logger.log(this.user_friendly_id()+".toICallConstraints: "+JSON.stringify(b));return b};b.isValidRemoteConstraints=function(a){return null!=
a&&(null!=a.max_participant_resolutions_dynamic||null!=a.max_participant_resolutions_static)&&null!=a.max_incoming_streams&&null!=a.max_outgoing_resolution&&null!=a.max_simulcast_layers};b.prototype.getCallConstraints=function(){var a=this;return new Promise(function(c,e){a.waitUntilConnected(a.user_friendly_id()+".getCallConstraints").then(function(){return a.remoteInvoke(!1,l.method_id_StreamResolution_t.getCallConstraints)}).then(function(h){h=a.param0(h);d.logger.log(a.user_friendly_id()+".getCallConstraints",
JSON.stringify(h));b.isValidRemoteConstraints(h)?(a.onupdate_&&(a.lastSentConstraints_=h),c(a.toICallConstraints(h))):(d.logger.log(a.user_friendly_id()+".getCallConstraints invalid RemoteCallConstraints"),e())})["catch"](function(){d.logger.log(a.user_friendly_id()+".getCallConstraints promise rejected");e()})})};b.getDefaultConstraints=function(){var a={maxParticipantResolutions:{1:720,2:720,3:360,more:360},maxIncomingStreams:4,maxOutgoingResolution:720,maxSimulcastLayers:0};d.logger.log("StreamResolution.getDefaultConstraints: "+
JSON.stringify(a));return a};b.prototype.updateStreamResolution=function(){var a=this;this.getCallConstraints().then(function(b){return a.onupdate&&a.onupdate(b)})["catch"](function(){return d.logger.log("Failed to get stream resolution information!")})};return b}(h.ProxyObject);a.StreamResolution=b},394:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.Telemetry=a.tel_key_CPUTotalmemory=a.tel_key_CPUGpuinfo=a.tel_key_CPUMachineid=a.tel_key_CPUProcessors=a.tel_key_CPUCores=a.tel_key_CPUModel=
a.tel_key_CPUSpeed=a.tel_key_OSEdition=a.tel_key_OSDistro=a.tel_key_OSArchitecture=a.tel_key_OSVersion=a.tel_key_OSFamily=a.tel_key_VerHdxRtcEngine=a.tel_key_VerTypeScript=a.tel_key_VerEndpoint=a.tel_key_VerVda=a.tel_key_VerReceiver=a.tel_key_VerWebrtcCodecs=a.tel_key_VerWebrpc=a.tel_key_PerfCallType=a.tel_key_PerfCallState=a.tel_key_PerfCallDirection=a.tel_key_SpeakerDeviceUsed=a.tel_key_VideoDeviceUsed=a.tel_key_AudioDeviceUsed=a.tel_key_CallEstOutgoing=a.tel_key_CallEstIncoming=a.tel_key_ScreensharingCallDuration=
a.tel_key_VideoCallDuration=a.tel_key_AudioCallDuration=a.tel_key_ConferenceCallDuration=a.tel_cmd=a.tel_CallType=a.tel_CallDirection=a.tel_CallState=void 0;var e=c(946),l=c(851);(function(a){a[a.unknown=0]="unknown";a[a.active=1]="active";a[a.idle=2]="idle"})(a.tel_CallState||(a.tel_CallState={}));(function(a){a[a.unknown=0]="unknown";a[a.incoming=1]="incoming";a[a.outgoing=2]="outgoing"})(a.tel_CallDirection||(a.tel_CallDirection={}));(function(a){a[a.unknown=0]="unknown";a[a.audio=1]="audio";a[a.video=
2]="video";a[a.multi=3]="multi";a[a.dshare=4]="dshare"})(a.tel_CallType||(a.tel_CallType={}));var h;(function(a){a[a.Unknown=0]="Unknown";a[a.Cap=1]="Cap";a[a.Init=2]="Init";a[a.Data=3]="Data"})(h=a.tel_cmd||(a.tel_cmd={}));a.tel_key_ConferenceCallDuration="ConferenceCallDuration";a.tel_key_AudioCallDuration="AudioCallDuration";a.tel_key_VideoCallDuration="VideoCallDuration";a.tel_key_ScreensharingCallDuration="ScreensharingCallDuration";a.tel_key_CallEstIncoming="CallEstIncoming";a.tel_key_CallEstOutgoing=
"CallEstOutgoing";a.tel_key_AudioDeviceUsed="AudioDeviceUsed";a.tel_key_VideoDeviceUsed="VideoDeviceUsed";a.tel_key_SpeakerDeviceUsed="SpeakerDeviceUsed";a.tel_key_PerfCallDirection="PerfCallDirection";a.tel_key_PerfCallState="PerfCallState";a.tel_key_PerfCallType="PerfCallType";a.tel_key_VerWebrpc="VerWebrpc";a.tel_key_VerWebrtcCodecs="VerWebrtcCodecs";a.tel_key_VerReceiver="VerReceiver";a.tel_key_VerVda="VerVda";a.tel_key_VerEndpoint="VerEndpoint";a.tel_key_VerTypeScript="VerTypeScript";a.tel_key_VerHdxRtcEngine=
"VerHdxRtcEngine";a.tel_key_OSFamily="OSFamily";a.tel_key_OSVersion="OSVersion";a.tel_key_OSArchitecture="OSArchitecture";a.tel_key_OSDistro="OSDistro";a.tel_key_OSEdition="OSEdition";a.tel_key_CPUSpeed="CPUSpeed";a.tel_key_CPUModel="CPUModel";a.tel_key_CPUCores="CPUCores";a.tel_key_CPUProcessors="CPUProcessors";a.tel_key_CPUMachineid="CPUMachineid";a.tel_key_CPUGpuinfo="CPUGpuinfo";a.tel_key_CPUTotalmemory="CPUTotalmemory";var d=function(){function a(b,c,d,e){this.cmd=b;this.key=c;this.value=d;this.flags=
e}a.prototype.SendTelemetryData=function(a){a.SendTelemetryData(this.cmd,this.key,this.value,this.flags)};return a}();b=function(){function a(){this.id=0;this.deferredData=[]}a.prototype.reset=function(){this.id=0;this.deferredData=[]};a.prototype.onInitialized=function(a){for(this.id=a;this.deferredData&&0<this.deferredData.length;)this.deferredData.shift().SendTelemetryData(this)};a.prototype.SendTelemetryInit=function(){0<this.id&&this.reset();try{e.getRedirector().WSSendObject({v:"telemetry",
hdr:{command:h.Init,id:0},init:{domain:"HDXMM Teams",subdomain:"Teams",feature:"msteams",version:"1.1.1.1"}})}catch(a){l.logger.log(a)}};a.prototype.SendTelemetryData=function(a,b,c,w){if(a!=h.Data)l.logger.log("invalid telemetry command!");else if(0==this.id)this.deferredData.push(new d(a,b,c,w));else try{e.getRedirector().WSSendObject({v:"telemetry",hdr:{command:a,id:this.id},data:{key:b,value:c,flags:w}})}catch(p){l.logger.log(p)}};return a}();a.Telemetry=b},259:function(b,a,c){Object.defineProperty(a,
"__esModule",{value:!0});a.Util=void 0;var e=c(851);b=function(){function a(){}a.stringifyArray=function(a){for(var b="[",c=0;c<a.length;++c)0!=c&&(b+=","),b+=this.stringify(a[c]);return b+"]"};a.stringifyObject=function(a){var b="{",c=!0,e;for(e in a)c?c=!1:b+=",",b=b+'"'+e+'":',b=a[e]instanceof Array?b+this.stringifyArray(a[e]):"object"==typeof a[e]?b+this.stringifyObject(a[e]):b+JSON.stringify(a[e]);return b+"}"};a.stringify=function(a){return"object"==typeof a?"[object Array]"==Object.prototype.toString.call(a)?
this.stringifyArray(a):this.stringifyObject(a):JSON.stringify(a)};a.GetObjectPropertyDescriptor=function(a,b){for(var c=void 0;a!=Object.prototype;){c=Object.getOwnPropertyDescriptor(a,b);if(void 0!==c)break;a=a.__proto__}return c};a.sendEvent=function(a,b){try{var c=document.createEvent("Event");c.initEvent(b,!0,!0);a.dispatchEvent(c)}catch(l){e.logger.log('sendEvent(): exception dispatching "'+b+'" event: '+l.message)}};a.hasValue=function(a){var b=!1;null!==a&&void 0!==a&&(b=!0);return b};return a}();
a.Util=b},307:function(b,a,c){var e=this&&this.__awaiter||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function h(a){try{l(d.next(a))}catch(b){g(b)}}function k(a){try{l(d["throw"](a))}catch(b){g(b)}}function l(a){a.done?c(a.value):e(a.value).then(h,k)}l((d=d.apply(a,b||[])).next())})},l=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(g)throw new TypeError("Generator is already executing.");
for(;e;)try{if(g=1,h&&(k=c[0]&2?h["return"]:c[0]?h["throw"]||((k=h["return"])&&k.call(h),0):h.next)&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[c[0]&2,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;h=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;default:if(!(k=e.trys,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))e.label=c[1];else if(6===c[0]&&e.label<k[1])e.label=
k[1],k=c;else if(k&&e.label<k[2])e.label=k[2],e.ops.push(c);else{k[2]&&e.ops.pop();e.trys.pop();continue}}c=b.call(a,e)}catch(l){c=[6,l],h=0}finally{g=k=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},g,h,k,l;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},h=
c(360),d=c(144);c(679);var p=c(945),q=c(368),n=c(851).logger,k=c(650),v=c(973),z=c(247).getGC,g=c(946),B=c(613).E911Service;b=c(550);var t=b.Features,m=b.FEATURE_vda_delete_viewport,D=c(704).StreamResolution,y=c(239).E;(function(a,b){a.CitrixWebRTC=b()})("undefined"!==typeof self?self:this,function(){function a(b,c){n.log("VDI Shim createMediaStreamInternal");G();var f=new d.RemoteStream(null,0,0,b),e=new Promise(function(a,b){f.syncBarrier().then(function(b){n.log("stream.syncBarrier(): success.");
a(b)})["catch"](function(a){n.log("stream.syncBarrier(): failed with error: "+JSON.stringify(a));f.release();b()})});return c?e:f}function b(a){null==Y&&(Y=new q.Frames(!O.isFeatureSupported(t.FEATURE_public_multi_window)));a(Y)}function c(a,d){b(function(b){var c=b.findFrame(a);void 0==c&&(c=b.newFrame(a));d(c)})}function M(a,c){b(function(b){b=b.findFrame(a);null!=b&&c(b)})}function F(a){g.getRedirector().SendTelemetryData_Speaker(a)}function J(a,b){if(S)try{"vdiE911InfoChanged"===a?a="vdiE911DataChanged":
"vdiCallConstraintsChanged"===a&&(a="vdiStreamConstraintsChanged");var c=Object.assign({event:a},b);n.log("Dispatching VM event:"+JSON.stringify(c));S(c)}catch(d){n.log("Exception onVMEvent(), eventName:"+a+" message:"+d.message)}}function G(){var a=window.getCitrixWebrtcRedir;void 0!==a?a().then(function(a){n.log("sucesss on connect, getCitrixWebrtcRedir reg value:"+a);"1"!==a||O||(n.log("supported client"),P(W))})["catch"](function(){n.log("Failure to Read Webrtc redir Reg Key");f()}):(n.log("window.getCitrixWebrtcRedir() method is not available yet"),
f())}function L(a){n.log("VDI Event: vdiClientDisconnected");ba();if(!0===a&&!1===aa){n.log("VDI Event: vdiClientDisconnected with failure reported");aa=!0;try{S({event:"vdiClientDisconnected",reason:"failure",msg:"Websocket Connection Failure"})}catch(b){n.log("onVMEvent(): exception: "+b.message)}}else{aa=!1;try{S({event:"vdiClientDisconnected",reason:"endpointDisconnected"})}catch(b){n.log("onVMEvent(): exception: "+b.message)}}}function P(a){n.log("initRemoteSession with vendor:"+a);O||(O=new k.RemoteSession("CitrixWebRTCSDK",
a))}function C(){n.log("VDI Event: onVdiClientDisconnectedTimer");P(W)}function R(){var a=this;n.log("VDI Shim onVdiClientConnected...");O?O.getSessionInfo().then(function(c){return e(a,void 0,void 0,function(){return l(this,function(a){switch(a.label){case 0:return n.log("VDI Shim onVdiClientConnected, client endpoint info:"+JSON.stringify(c)),H&&H.isValid()||(H=new d.RemoteDevices),I&&I.isValid()||(I=new d.NavigatorUserMedia),b(function(a){a.reconnect()}),J("vdiClientConnected",{version:c,endpointId:c.endpointId}),
[4,I.getCapabilities().then(function(a){n.log("VDI Shim onVdiClientConnected, caps = "+a)})["catch"](function(){n.log("VDI Shim onVdiClientConnected, could not get capabilities")})];case 1:return a.sent(),T||(T=new B,T.onupdate=function(a){J("vdiE911InfoChanged",a)},T.updateE911Info()),U||(J("vdiCallConstraintsChanged",D.getDefaultConstraints()),null!==O&&k.RemoteSession.isFeatureCallConstraintsSupported()&&(U=new D,U.onupdate=function(a){J("vdiCallConstraintsChanged",a)},U.updateStreamResolution())),
navigator.mediaDevices.dispatchEvent(new CustomEvent("devicechange")),[2]}})})})["catch"](function(){n.log("VDI Shim onVdiClientConnected, getSessionInfo failure! Session is not fully connected yet...")}):n.log("VDI Shim onVdiClientConnected, remoteSession does not exist")}function K(a){if("1"===a)n.log("Supported client"),g.getRedirector().pingConnectionBegin(!0);else if("0"===a){n.log("VDI Event: Unsupported client reported");try{S({event:"vdiClientDisconnected",reason:"endpointUnsupported",msg:"Unsupported endpoint connected"})}catch(b){n.log("onVMEvent(): exception: "+
b.message)}}else n.log("Citrix Webrtc Redir Reg Key value is incorrect")}function f(){!1===Z&&(n.log("starting MS Reg retry..."),Z=!0,X(10))}function X(a){if(0>=a){Z=!1;n.log("VDI Event: Reg Key not Updated after timer reported, Fallback");try{S({event:"vdiClientDisconnected",reason:"failure",msg:"Citrix Webrtc Redir Reg Key not Present"})}catch(b){n.log("onVMEvent(): exception: "+b.message)}}else{var c=window.getCitrixWebrtcRedir;void 0!==c?c().then(function(b){n.log("CitrixMSTeamsRedir reg value:"+
b);"0"===b||"1"===b?(K(b),Z=!1):(n.log("MS Teams Redir Reg key not updated - Start timer"),setTimeout(function(){n.log("Timer waiting for registry to be updated count :"+a);X(--a)},1E3))})["catch"](function(){n.log("Failure to Read MS Teams redir Reg Key - Start timer");setTimeout(function(){n.log("Timer waiting for registry to be updated count :"+a);X(--a)},1E3)}):(n.log("window.getCitrixWebrtcRedir() method is not available yet"),setTimeout(function(){n.log("Timer waiting for registry to be updated count :"+
a);X(--a)},1E3))}}function ba(){n.log("VDI : cleanup");g.getRedirector().clearReqs();d.NavigatorUserMedia.resetCapabilities();Y=H=I=null;N&&N.release();O&&O.release();O=null;v.ScreenSharing.destroyInstance();T&&(T.release(),T=null);U&&(U.release(),U=null);z().reset();n.log("VDI : cleanup done")}function ca(){return v.ScreenSharing.screenSharingInstance(function(){if(S)try{S({event:"vdiScreenTopologyChanged"})}catch(a){n.log("onVMEvent('vdiScreenTopologyChanged'): exception: "+a.message)}})}function E(a){if(!V)throw n.log("VDI Shim "+
a+": throwing exception: not initialized!!"),new DOMException("UCSDK is not initialized!!!");}var I=null,da=d.NavigatorUserMedia.getCapabilities,H=null,Y=null,N=null,S=null,T=null,U=null,aa=!1,O=void 0,Z=!1,V=!1,W=void 0;return{Features:t,CitrixPeerConnection:h.PeerConnection,getUserMedia:function(a,b,c){E("getUserMedia");G();n.log("VDI Shim getUserMedia");null!==I&&I.isValid()||(I=new d.NavigatorUserMedia);var f=d.RemoteMediaStreamConstraints.isConstraintsAudioDeviceIdEmpty(a),e=d.RemoteMediaStreamConstraints.isConstraintsVideoSourceIdEmpty(a);
return f||e?new Promise(function(d,f){H.enumerateDevices().then(function(d){return I.webkitGetUserMedia(a,b,c)}).then(function(a){n.log("webkitGetUserMedia for default was resolved");d(a)})["catch"](function(a){n.log("getUserMedia() for default failed with error:"+JSON.stringify(a));f()})}):I.webkitGetUserMedia(a,b,c)},getDisplayMedia:function(a){E("getDisplayMedia");G();n.log("VDI Shim getDisplayMedia");null!==H&&H.isValid()||(H=new d.RemoteDevices);return H.getDisplayMedia(a)},enumerateDevices:function(){E("enumerateDevices");
G();n.log("VDI Shim enumerateDevices");null!==H&&H.isValid()||(H=new d.RemoteDevices);return H.enumerateDevices()},onWindowClose:function(a,c,d){E("onWindowClose");n.log("VDI Shim onWindowClose: (handle: "+a+")");g.getRedirector().getVDAFeatureValue(m)&&b(function(b){b.disposeFrame(a)})},setClientAreaOffset:function(a,b,d){E("setClientAreaOffset");n.log("VDI setClientAreaOffset with xOffset = "+a+", yOffset = "+b+", windowHandle = "+d);G();c(d,function(c){c.setClientAreaOffset(a,b)})},mapVideoElement:function(a,
b){E("mapVideoElement");n.log("VDI New Video Element Created, Creating Mapping to Thin Client DOM");G();c(b,function(b){b.newVideoElement(a)})},mapAudioElement:function(a){E("mapAudioElement");n.log("VDI New Audio Element Created, Creating Mapping to VDA");if(void 0!==a.remoteAudioElement)n.log("Audio element is already configured!");else{G();delete a.remoteAudioElement;Object.defineProperty(a,"remoteAudioElement",{writable:!0,configurable:!0,value:null});a.remoteAudioElement=new p.AudioElement;delete a.sinkId;
Object.defineProperty(a,"sinkId",{configurable:!0,get:function(){return a.remoteAudioElement?a.remoteAudioElement.sinkId:void 0},set:function(b){n.log("VDI Shim set audio element SinkId value = "+b);a.setSinkId(b).then(function(){n.log("VDI Shim set audio element SinkId success")})["catch"](function(){n.log("VDI Shim set audio element SinkId failure")})}});var b=a.remoteAudioElement.play;a.play=function(){n.log("VDI Shim remote audio play");return b.apply(a.remoteAudioElement,arguments)};var c=a.remoteAudioElement.pause;
a.pause=function(){n.log("VDI Shim remote audio pause");return c.apply(a.remoteAudioElement,arguments)};a.setSinkId=function(b){n.log("VDI Shim set audio element SinkId value = "+b);var c=a.remoteAudioElement.setSinkId(b),f;d.enumeratedDevices.forEach(function(a){b===a.deviceId&&(f=a.label)});F(f);return c};delete a.srcObject;Object.defineProperty(a,"srcObject",{configurable:!0,get:function(){return a.remoteAudioElement?a.remoteAudioElement.srcObject:void 0},set:function(b){n.log("VDI Shim set audio element srcObject "+
JSON.stringify(b));a.remoteAudioElement.srcObject=b}})}},disposeVideoElement:function(a,b){E("disposeVideoElement");n.log("VDI Shim disposeVideoElement: ");M(b,function(b){b.disposeVideoElement(a)})},disposeAudioElement:function(a,b,c){E("disposeAudioElement");n.log("VDI Shim disposeAudioElement: ");a&&(b=a.remoteAudioElement)&&(b.dispose(),a.remoteAudioElement=void 0)},setVMEventCallback:function(a){var b=this;S=a;g.getRedirector().isConnected()&&O.getSessionInfo().then(function(a){return e(b,void 0,
void 0,function(){return l(this,function(b){n.log("VDI Shim onVdiClientConnected, client endpoint info:"+JSON.stringify(a));J("vdiClientConnected",{version:a,endpointId:a.endpointId});return[2]})})});n.log("VDI Event Callback Set")},playNotifyAudio:function(a,b){E("playNotifyAudio");n.log("VDI Shim Audio playNotifyAudio audioId:"+a+" src:"+b);N&&N.playNotifyAudio(a,b)},stopNotifyAudio:function(a,b){E("stopNotifyAudio");n.log("VDI Shim Audio pauseNotifyAudio audioId:"+a+" src:"+b);N&&N.pauseNotifyAudio(a,
b)},setSinkId:function(a,b){E("setSinkId");n.log("VDI Shim Audio setSinkId audioId:"+a+" sinkId:"+b);N&&N.setSinkId(a,b)},getLoop:function(a){E("getLoop");var b;N&&(b=N.getLoop(a));n.log("VDI Shim Audio getLoop audioId:"+a+" loop: "+b);return b},setLoop:function(a,b){E("setLoop");n.log("VDI Shim Audio setLoop audioId:"+a+" bool:"+b);N&&N.setLoop(a,b)},addClipRect:function(a,b){E("addClipRect");n.log("VDI Adding Occlusion "+JSON.stringify(a));c(b,function(b){b.addOcclusion(a)})},removeClipRect:function(a,
b){E("removeClipRect");n.log("VDI Removing Occlusion "+JSON.stringify(a));c(b,function(b){b.removeOcclusion(a)})},initLog:function(a,b){n.setMSLogger(a,b);n.log("VDI init logger")},isFeatureOn:function(a){E("isFeatureOn");return O?O.isFeatureSupported(a):!1},onConnectionChange:function(a){E("onConnectionChange");n.log("VDI : onConnectionChange to "+a);!1===a?n.log("Disconnecting from the VDA"):(n.log("Connecting to the VDA"),a=window.getCitrixWebrtcRedir,void 0!==a?a().then(function(a){n.log("Sucesss on connect, CitrixRedir reg value:"+
a);"0"===a||"1"===a?K(a):(n.log("MS Teams Redir Reg key not updated yet"),f())})["catch"](function(){n.log("Failure to Read MS Teams redir Reg Key");f()}):(n.log("window.getCitrixWebrtcRedir() method is not available yet"),f()))},getScreensAsync:function(){E("getScreensAsync");n.log("VDI Shim getScreensAsync");G();var a=ca();return a.getScreensAsync.apply(a,arguments)},getWindowsAsync:function(){E("getWindowsAsync");n.log("VDI Shim getWindowsAsync");G();var a=ca();return a.getWindowsAsync.apply(a,
arguments)},setScreenSharePanelId:function(a){E("setScreenSharePanelId");n.log("VDI: setScreenSharePanelId set to "+JSON.stringify(a));G();null!==H&&H.isValid()||(H=new d.RemoteDevices);H.panelid=a},setCodecCapabilities:function(a){E("setCodecCapabilities");G();n.log("VDI Shim setCodecCapabilities");null!==I&&I.isValid()||(I=new d.NavigatorUserMedia);return I.setCodecCapabilities(a)},getE911Data:function(){E("getE911Data");return T?T.getE911Info():null},createMediaStream:function(b){E("createMediaStream");
n.log("VDI Shim createMediaStream");return a(b,!1)},createMediaStreamAsync:function(b){E("createMediaStreamAsync");n.log("VDI Shim createMediaStreamAsync");return a(b,!0)},disposeMediaStream:function(a){E("disposeMediaStream");n.log("VDI Shim disposeMediaStream: ");for(var b=0;b<a.length;b++){var c=a[b];c&&c.dispose()}},getCapabilities:function(a){E("getCapabilities");G();n.log("VDI Shim getCapabilities");null!==I&&I.isValid()||(I=new d.NavigatorUserMedia,da=d.NavigatorUserMedia.getCapabilities);
return da.apply(I,arguments)},initUCSDK:function(a){n.log("VDI Shim initUCSDK vendor:"+a);var b=!0;void 0==a||null==a||"string"!==typeof a||0==a.length?b=!1:0==a.split(" ").join("").length&&(b=!1);if(!b)throw n.log("VDI Shim initUCSDK: throwing exception: vendor info cannot be empty!!!"),new DOMException("vendor info cannot be empty, please pass vendor info string!!!");V||(W=a,I=new d.NavigatorUserMedia,H=new d.RemoteDevices,N=new y,H=new d.RemoteDevices,P(W),window.onVdiClientDisconnected=L,window.onVdiClientDisconnectedTimer=
C,window.onVdiClientConnected=R,V=!0)},deinitUCSDK:function(){n.log("VDI Shim deinitUCSDK");V&&(g.getRedirector().terminateOptimization(),ba(),window.onVdiClientDisconnected=void 0,window.onVdiClientDisconnectedTimer=void 0,W=window.onVdiClientConnected=void 0,V=!1)}}})},679:function(b,a,c){var e=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};
return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(a,"__esModule",{value:!0});a.VideoElement=a.VideoRect=void 0;var l=c(658),h=c(550),d=c(851),p=c(946),q=c(550),n=function(){return function(a,b){this.x=Math.round(a.x)*b.devicePixelRatio;this.y=Math.round(a.y)*b.devicePixelRatio;this.width=Math.round(a.width)*b.devicePixelRatio;this.height=Math.round(a.height)*b.devicePixelRatio}}();
a.VideoRect=n;var k;(function(a){a[a.pixels=0]="pixels";a[a.percent=1]="percent"})(k||(k={}));var v=function(){function a(b){this.value=parseInt(b);this.units=this.detectUnits(b)}a.prototype.detectUnits=function(a){return-1===a.toLowerCase().indexOf("px")?k.pixels:k.percent};return a}(),z;(function(a){a[a.fill=0]="fill";a[a.contain=1]="contain";a[a.cover=2]="cover"})(z||(z={}));var g=function(){return function(a,b){this.x=a;this.y=b}}(),B=function(){function a(b,c,d){this.fit=this.convertFit(b);this.position=
new g(c,d)}a.prototype.convertFit=function(a){return"fill"==a?z.fill:"contain"==a?z.contain:"cover"==a?z.cover:z.fill};return a}(),t;(function(a){a[a.NotReady=0]="NotReady";a[a.Ready=1]="Ready"})(t||(t={}));b=function(a){function b(c,e){var g=a.call(this,null,h.class_id_t.VideoElement,0,l.ProxyMode.Local)||this;g.srcObject_=null;g.sinkId_="";g.videoWidth=0;g.videoHeight=0;g.isLoaded=!1;g.connectionState="disconnected";g.styleObserver=null;g.readyState_=t.NotReady;g.deferredVideoActions=[];g.pendingRelease_=
!1;g.activeConnectionEvent_=null;g.connectionEventQueue_=[];g.window_=e;g.elementId=c;d.logger.log("VideoElement.constructor (elementid: "+c+")");return g}e(b,a);b.prototype.dispose=function(){var a=this;d.logger.log("VideoElement.dispose (elementId: "+this.elementId+" oid: "+this.object_id()+")");this.pendingRelease_=!0;this.srcObject=this.ontimeupdate=this.onloadedmetadata=null;this.waitUntilReady("VideoElement.dispose").then(function(){})["catch"](function(){a.pendingRelease_=!1;a.setState("disconnected");
a.onconnectionstatechange=null;a.release()});this.onReady()};b.prototype.setState=function(a){this.connectionState=a;if(this.onconnectionstatechange_)this.onconnectionstatechange_()};Object.defineProperty(b.prototype,"Id",{get:function(){return this.elementId},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"sinkId",{get:function(){return this.sinkId_},set:function(a){var b=this;d.logger.log("VideoElement.sinkId: (id="+a+")");this.waitUntilConnected("VideoElement.sinkId").then(function(){return void 0!=
a?b.remoteInvoke(!0,h.method_id_VideoElement_t.sinkId,a):new Promise(function(a){return a(void 0)})}).then(function(){d.logger.log("videoElement: setting state to ready. (oid: "+b.object_id()+")");b.sinkId_=a;b.readyState_=t.Ready;b.onReady()})["catch"](function(a){b.logRemoteInvokeError(a,".set_sinkId() failed!")})},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"srcObject",{get:function(){return this.srcObject_},set:function(a){d.logger.log(this.user_friendly_id()+".srcObject: set srcObject... this.srcObject:"+
this.srcObject+" obj:"+a);if(this.srcObject_!==a){var b=p.getRedirector().getFeatureValue(q.FEATURE_ms_teams_1911);null!==this.srcObject_&&(null===a&&b&&this.disconnect(),b||this.disconnect(),this.isLoaded=!1);this.srcObject_=a;null!==this.srcObject_&&this.connectTo(this.srcObject_)}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onconnectionstatechange",{get:function(){return this.onconnectionstatechange_},set:function(a){d.logger.log(this.user_friendly_id()+".set_onconnectionstatechange() called.");
this.onconnectionstatechange_=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"onloadedmetadata",{set:function(a){d.logger.log(this.user_friendly_id()+".set_onloadedmetadata() called.");this.onloadedmetadata_=a},enumerable:!1,configurable:!0});b.prototype.setupOnVideoFrameChanged=function(){var a=this,b=this.registerCallbacks(!1,!1,h.method_id_VideoElement_t.onvideoframechanged);b.then(function(b){d.logger.log(a.user_friendly_id()+".onvideoframechanged",b.params);a.videoWidth=
b.params[0]||0;a.videoHeight=b.params[1]||0;a.isLoaded||(a.isLoaded=!0,a.onloadedmetadata_&&a.onloadedmetadata_())});this.remoteInvoke(!0,h.method_id_VideoElement_t.onvideoframechanged,b.success)};b.prototype.processConnectionEvent=function(){var a=this;if(0!==this.connectionEventQueue_.length&&!this.activeConnectionEvent_){var b=this.connectionEventQueue_.pop();"connectTo"==b.operation?this.activeConnectionEvent_=this.connectToAsync(b.param):"disconnect"==b.operation&&(this.activeConnectionEvent_=
this.disconnectAsync());this.activeConnectionEvent_.then(function(){a.activeConnectionEvent_=void 0;a.processConnectionEvent()})["catch"](function(){d.logger.log(a.user_friendly_id()+" : Failed to handle connection event! ");a.activeConnectionEvent_=void 0;a.processConnectionEvent()})}};b.prototype.connectTo=function(a){this.connectionEventQueue_.push({operation:"connectTo",param:a});this.processConnectionEvent()};b.prototype.disconnect=function(){this.connectionEventQueue_.push({operation:"disconnect",
param:null});this.processConnectionEvent()};b.prototype.connectToAsync=function(a){var b=this;return new Promise(function(c,e){d.logger.log(b.user_friendly_id()+".connectTo: connect media stream with id = "+a.id+", clone_id = "+a.clone_state.clone_id);b.streamId_=a.id;b.waitUntilReady("VideoElement.connectTo").then(function(){return a.waitUntilConnected("MediaStream.connectTo")}).then(function(){b.setupOnVideoFrameChanged();return a.clone_state.synchronize(a)}).then(function(a){d.logger.log(b.user_friendly_id()+
".connectTo: remote invoking");var c=b.registerCallbacks(!0,!1,h.method_id_VideoElement_t.connectTo);return Promise.all([b.remoteInvokeEx(!1,h.method_id_VideoElement_t.connectTo,[a],c.success,c.fail),c.prom()])}).then(function(a){d.logger.log(b.user_friendly_id()+".connectTo: remote media stream is connected!");b.setState("connected");b.watch();b.updateTimer=setInterval(function(){b.ontimeupdate&&b.ontimeupdate()},250);(a=b.window_.document.getElementById(b.elementId))&&b.updateStyle(a);c()})["catch"](function(a){b.logRemoteInvokeError(a,
".connectTo: failed to connect!");e()})})};b.prototype.disconnectAsync=function(){var a=this;return new Promise(function(b,c){d.logger.log(a.user_friendly_id()+".disconnect: disconnecting stream : "+a.streamId_);a.unwatch();a.waitUntilReady("VideoElement.disconnect").then(function(){a.updateTimer&&clearInterval(a.updateTimer);var b=a.registerCallbacks(!1,!0,h.method_id_VideoElement_t.onvideoframechanged);a.remoteInvoke(!0,h.method_id_VideoElement_t.onvideoframechanged,b.success);return a.remoteInvoke(!1,
h.method_id_VideoElement_t.disconnect)}).then(function(){d.logger.log(a.user_friendly_id()+".disconnect: remote media stream is disconnected!");a.setState("disconnected");1==a.pendingRelease_&&(a.pendingRelease_=!1,a.onconnectionstatechange=null,a.release());b()})["catch"](function(b){a.logRemoteInvokeError(b,".disconnect: failed to connect!");c()})})};b.prototype.setFrame=function(a){var b=this;d.logger.log(this.user_friendly_id()+".setFrame: set video frame to",a.x,a.y,a.width,a.height);this.waitUntilReady("VideoElement.setFrame").then(function(){var c=
new n(a,b.window_);return b.remoteInvoke(!1,h.method_id_VideoElement_t.setFrame,c)}).then(function(){d.logger.log(b.user_friendly_id()+".setFrame: success!")})["catch"](function(a){b.logRemoteInvokeError(a,".setFrame: failed to connect!")})};b.prototype.addClipRect=function(a){var b=this;d.logger.log(this.user_friendly_id()+".addClipRect: ",JSON.stringify(a));this.waitUntilReady("VideoElement.addClipRect").then(function(){var c=new n(a,b.window_);return b.remoteInvoke(!1,h.method_id_VideoElement_t.addClipRect,
c)})["catch"](function(a){b.logRemoteInvokeError(a,".addClipRect failed!")})};b.prototype.removeClipRect=function(a){var b=this;d.logger.log(this.user_friendly_id()+".removeClipRect: ",JSON.stringify(a));this.waitUntilReady("VideoElement.removeClipRect").then(function(){var c=new n(a,b.window_);return b.remoteInvoke(!1,h.method_id_VideoElement_t.removeClipRect,c)})["catch"](function(a){b.logRemoteInvokeError(a,".removeClipRect failed!")})};b.prototype.watch=function(){var a=this;if(p.getRedirector().getFeatureValue(q.FEATURE_ms_teams_video_placement)){var b=
this.window_.document.getElementById(this.elementId);b&&(this.unwatch(),this.styleObserver=new MutationObserver(function(b){b.forEach(function(b){"style"==b.attributeName?a.updateStyle(b.target):a.elementId=b.target.id})}),this.styleObserver.observe(b,{attributes:!0,attributeOldValue:!0,attributeFilter:["style","id"]}))}};b.prototype.unwatch=function(){this.styleObserver&&(this.styleObserver.disconnect(),this.styleObserver=null)};b.prototype.updateStyle=function(a){if("connected"==this.connectionState){var b=
this.window_.getComputedStyle(a).getPropertyValue("object-fit"),c=this.window_.getComputedStyle(a).getPropertyValue("object-position").split(" ");a=new v(c[0]);c=new v(c[1]);this.placement=new B(b,a,c)}else d.logger.log(this.user_friendly_id()+".updateStyle: video element is not connected")};Object.defineProperty(b.prototype,"placement",{get:function(){return this.placement_},set:function(a){var b=this;p.getRedirector().getFeatureValue(q.FEATURE_ms_teams_video_placement)?this.waitUntilReady("VideoElement.placement").then(function(){return b.remoteInvoke(!0,
h.method_id_VideoElement_t.placement,a)}).then(function(){b.placement_=a})["catch"](function(a){b.logRemoteInvokeError(a,".placement setter: failed to connect!")}):d.logger.log(this.user_friendly_id()+".placement: video placement feature is not supported on a client")},enumerable:!1,configurable:!0});b.prototype.waitUntilReady=function(a){var b=this;return new Promise(function(c,e){d.logger.log("VideoElement.waitUntilReady(): readyState="+b.readyState_+". (oid: "+b.object_id()+")");b.readyState_==
t.Ready?c():(d.logger.log('videoElement.waitUntilReady(): deferring action "'+a+'". (oid: '+b.object_id()+")"),b.deferredVideoActions.push(new l.deferred_action(c,e,a)))})};b.prototype.onReady=function(){for(;this.deferredVideoActions&&0<this.deferredVideoActions.length;)this.deferredVideoActions.shift().post(this.readyState_==t.Ready)};return b}(l.ProxyObject);a.VideoElement=b},269:function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.HardwareInfo=a.MemoryInfo=a.GPUInfo=a.GPU=a.CPUInfo=
a.WebrpcClassLibInfo=a.WebrpcClassInfo=a.WebrpcMethodInfo=a.EndpointId=a.OSInfo=a.WebrpcFeatureInfo=a.FeatureData=a.VersionData=a.FEATURE_unsupported=a.FEATURE_ms_teams_redirection=void 0;a.FEATURE_ms_teams_redirection="ms_teams_redirection";a.FEATURE_unsupported="unsupported";var c=function(){return function(a,b,c,d){this.major=a;this.minor=b;this.revision=c;this.build=d}}();a.VersionData=c;c=function(){return function(){}}();a.FeatureData=c;c=function(){return function(a,b){this.fature=a;this.version=
b}}();a.WebrpcFeatureInfo=c;c=function(){return function(a,b,c,d,e){this.family=a;this.version=b;this.architecture=c;this.distro=d;this.edition=e}}();a.OSInfo=c;c=function(){return function(a,b){this.machine_id=a;this.user_id=b}}();a.EndpointId=c;c=function(){return function(b,c,e,d,l){void 0===l&&(l=a.FEATURE_ms_teams_redirection);this.iid=b;this.mid=c;this.name=e;this.isprop=d;this.feature=l}}();a.WebrpcMethodInfo=c;c=function(){return function(a,b,c){this.id=a;this.name=b;this.methods=c}}();a.WebrpcClassInfo=
c;c=function(){return function(a,b){this.name=a;this.classes=b}}();a.WebrpcClassLibInfo=c;c=function(){return function(a,b){this.cpumodel=a;this.numberofprocessors=b}}();a.CPUInfo=c;c=function(){return function(a,b){this.name=a;this.driver=b}}();a.GPU=c;c=function(){return function(a){this.gpus=a}}();a.GPUInfo=c;c=function(){return function(a){this.totalmemory=a}}();a.MemoryInfo=c;c=function(){return function(a,b,c){this.cpu_info=a;this.gpu_info=b;this.memory_info=c}}();a.HardwareInfo=c},550:function(b,
a,c){var e=this&&this.__createBinding||(Object.create?function(a,b,c,e){void 0===e&&(e=c);Object.defineProperty(a,e,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,e){void 0===e&&(e=c);a[e]=b[c]});b=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||e(b,a,c)};Object.defineProperty(a,"__esModule",{value:!0});a.WebrpcClassLibInfoUtil=void 0;var l=c(187);b(c(187),a);c=function(){function a(){}a.getInterfaceByid=function(a){for(var b=0,c=l.class_lib_info.classes;b<
c.length;b++){var e=c[b];if(e.id==a)return e}return null};a.getMethodByid=function(a,b){var c=this.getInterfaceByid(a);if(null!=c)for(var e=0,c=c.methods;e<c.length;e++){var k=c[e];if(k.mid==b)return k}return null};a.getMethodFeatureByid=function(a,b){var c=this.getInterfaceByid(a);if(null!=c)for(var e=0,c=c.methods;e<c.length;e++){var k=c[e];if(k.mid==b)return k.feature}return null};a.composeClassInfoData=function(a){a=a.hdr;if(void 0==a)return"*** Invalid packet: Couldn't find hdr object ***";var b=
a.proc;if(void 0==b)return"";a=b.iid;for(var b=b.methodid,c=0,e=l.class_lib_info.classes;c<e.length;c++){var k=e[c];if(k.id==a)for(var h=0,p=k.methods;h<p.length;h++){var g=p[h];if(g.mid==b)return k.name+"::"+g.name}}return""};return a}();a.WebrpcClassLibInfoUtil=c},187:function(b,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.class_lib_info=a.method_id_StreamResolution_t=a.method_id_RTCSctpTransport_t=a.method_id_RTCDataChannel_t=a.method_id_E911Service_t=a.method_id_ScreenSource_t=a.method_id_VDISharingRemote_t=
a.method_id_RTCRtpTransceiver_t=a.method_id_RTCIceCandidatePair_t=a.method_id_RTCDTMFToneChangeEvent_t=a.method_id_RTCDTMFSender_t=a.method_id_RTCIceTransport_t=a.method_id_RTCDtlsTransport_t=a.method_id_RTCRtpSender_t=a.method_id_RTCRtpReceiver_t=a.method_id_AudioElement_t=a.method_id_VideoElement_t=a.method_id_MediaStreamEvent_t=a.method_id_RTCIceCandidateEvent_t=a.method_id_RTCIceCandidate_t=a.method_id_NavigatorUserMedia_t=a.method_id_MediaStream_t=a.method_id_MediaStreamTrack_t=a.method_id_RTCSessionDescription_t=
a.method_id_MediaDeviceInfo_t=a.method_id_MediaDevices_t=a.method_id_RTCPeerConnection_t=a.method_id_EngineControl_t=a.class_id_t=a.vdaFeatureNameMap=a.featureNameMap=a.Features=a.FEATURE_ms_teams_sender_stats_fix=a.FEATURE_ms_teams_enumerate_devices_v2=a.FEATURE_ms_teams_track_clone_with_id=a.FEATURE_ms_teams_audio_notifications_loop=a.FEATURE_ms_teams_share_system_audio=a.FEATURE_ms_teams_stream_active_status=a.FEATURE_ms_teams_hardware_info=a.FEATURE_ms_teams_secondary_audio_notifications=a.FEATURE_ms_teams_stream_resolution=
a.FEATURE_ms_teams_client_info=a.FEATURE_ms_teams_no_vd_buffer_limit=a.FEATURE_ms_teams_data_channel=a.FEATURE_ms_teams_webrtc_1dot0=a.FEATURE_ms_teams_multi_window=a.FEATURE_ms_teams_gtc=a.FEATURE_ms_teams_e911=a.FEATURE_ms_teams_codec_capability=a.FEATURE_ms_teams_app_sharing=a.FEATURE_ms_teams_monitor_sharing=a.FEATURE_ms_teams_video_placement=a.FEATURE_ms_teams_dtmf=a.FEATURE_ms_teams_device_group_id=a.FEATURE_ms_teams_remote_audio_notifications=a.FEATURE_ms_teams_endpoint_id=a.FEATURE_ms_teams_osinfo=
a.FEATURE_ms_teams_mstrack_constraints=a.FEATURE_ms_teams_1912=a.FEATURE_ms_teams_pstn=a.FEATURE_ms_teams_1911=a.FEATURE_ms_teams_common_media_constraints=a.FEATURE_ms_teams_speaking_indicator=a.FEATURE_ms_teams_desktop_sharing=a.FEATURE_vda_delete_viewport=a.FEATURE_vda_multi_window=a.FEATURE_vda_app_sharing=a.FEATURE_vda_service_no_buffer_limit=a.HDXMS_VERSION=a.BUILD_TYPE_SDK=void 0;b=c(269);var e=c(269);Object.defineProperty(a,"VersionData",{enumerable:!0,get:function(){return e.VersionData}});
Object.defineProperty(a,"FeatureData",{enumerable:!0,get:function(){return e.FeatureData}});Object.defineProperty(a,"OSInfo",{enumerable:!0,get:function(){return e.OSInfo}});Object.defineProperty(a,"EndpointId",{enumerable:!0,get:function(){return e.EndpointId}});Object.defineProperty(a,"HardwareInfo",{enumerable:!0,get:function(){return e.HardwareInfo}});a.BUILD_TYPE_SDK=!0;a.HDXMS_VERSION="3.1.0";a.FEATURE_vda_service_no_buffer_limit="wsservice_no_buffer_limit";a.FEATURE_vda_app_sharing="webrtc_app_sharing";
a.FEATURE_vda_multi_window="webrtc_multi_window";a.FEATURE_vda_delete_viewport="overlay_delete_viewport";a.FEATURE_ms_teams_desktop_sharing="ms_teams_desktop_sharing";a.FEATURE_ms_teams_speaking_indicator="ms_teams_speaking_indicator";a.FEATURE_ms_teams_common_media_constraints="ms_teams_common_media_constraints";a.FEATURE_ms_teams_1911="ms_teams_1911";a.FEATURE_ms_teams_pstn="ms_teams_pstn";a.FEATURE_ms_teams_1912="ms_teams_1912";a.FEATURE_ms_teams_mstrack_constraints="ms_teams_mstrack_constraints";
a.FEATURE_ms_teams_osinfo="ms_teams_osinfo";a.FEATURE_ms_teams_endpoint_id="ms_teams_endpoint_id";a.FEATURE_ms_teams_remote_audio_notifications="ms_teams_remote_audio_notifications";a.FEATURE_ms_teams_device_group_id="ms_teams_device_group_id";a.FEATURE_ms_teams_dtmf="ms_teams_dtmf";a.FEATURE_ms_teams_video_placement="ms_teams_video_placement";a.FEATURE_ms_teams_monitor_sharing="ms_teams_multi_monitor_sharing";a.FEATURE_ms_teams_app_sharing="ms_teams_app_sharing";a.FEATURE_ms_teams_codec_capability=
"ms_teams_codec_capability";a.FEATURE_ms_teams_e911="ms_teams_e911";a.FEATURE_ms_teams_gtc="ms_teams_gtc";a.FEATURE_ms_teams_multi_window="ms_teams_multi_windows";a.FEATURE_ms_teams_webrtc_1dot0="ms_teams_webrtc_1.0";a.FEATURE_ms_teams_data_channel="ms_teams_data_channel";a.FEATURE_ms_teams_no_vd_buffer_limit="ms_teams_no_vd_buffer_limit";a.FEATURE_ms_teams_client_info="ms_teams_client_info";a.FEATURE_ms_teams_stream_resolution="ms_teams_stream_resolution";a.FEATURE_ms_teams_secondary_audio_notifications=
"ms_teams_secondary_audio_notifications";a.FEATURE_ms_teams_hardware_info="ms_teams_hardware_info";a.FEATURE_ms_teams_stream_active_status="ms_teams_stream_active_status";a.FEATURE_ms_teams_share_system_audio="ms_teams_share_system_audio";a.FEATURE_ms_teams_audio_notifications_loop="ms_teams_audio_notifications_loop";a.FEATURE_ms_teams_track_clone_with_id="ms_teams_track_clone_with_id";a.FEATURE_ms_teams_enumerate_devices_v2="ms_teams_enumerate_devices_v2";a.FEATURE_ms_teams_sender_stats_fix="ms_teams_sender_stats_fix";
new b.WebrpcFeatureInfo(b.FEATURE_ms_teams_redirection,new b.VersionData(1,1,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_desktop_sharing,new b.VersionData(1,2,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_speaking_indicator,new b.VersionData(1,2,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_common_media_constraints,new b.VersionData(1,4,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_1911,new b.VersionData(1,4,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_1912,new b.VersionData(1,5,
0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_mstrack_constraints,new b.VersionData(1,6,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_pstn,new b.VersionData(1,6,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_osinfo,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_endpoint_id,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_remote_audio_notifications,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_device_group_id,new b.VersionData(1,
7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_codec_capability,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_dtmf,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_video_placement,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_monitor_sharing,new b.VersionData(1,7,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_app_sharing,new b.VersionData(1,8,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_webrtc_1dot0,new b.VersionData(1,
8,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_data_channel,new b.VersionData(1,8,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_e911,new b.VersionData(1,13,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_multi_window,new b.VersionData(1,14,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_client_info,new b.VersionData(1,19,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_stream_resolution,new b.VersionData(1,25,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_secondary_audio_notifications,
new b.VersionData(1,21,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_hardware_info,new b.VersionData(1,35,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_stream_active_status,new b.VersionData(1,32,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_audio_notifications_loop,new b.VersionData(1,33,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_track_clone_with_id,new b.VersionData(1,33,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_enumerate_devices_v2,new b.VersionData(1,35,0,0));new b.WebrpcFeatureInfo(a.FEATURE_ms_teams_sender_stats_fix,
new b.VersionData(1,36,0,0));c=function(){function a(){}a.FEATURE_public_screenshare="screenshare";a.FEATURE_public_redirection="redirection";a.FEATURE_public_speaking_indicator="speaking_indicator";a.FEATURE_public_pstn="pstn";a.FEATURE_public_osinfo="osinfo";a.FEATURE_public_endpoint_id="endpointid";a.FEATURE_public_remote_audio_notifications="remoteaudionotifications";a.FEATURE_public_device_group_id="compositedevices";a.FEATURE_public_dtmf="dtmf";a.FEATURE_public_monitor_sharing="multimonitorscreenshare";
a.FEATURE_public_app_sharing="appshare";a.FEATURE_public_codec_capability="codec_capability";a.FEATURE_public_e911="e911";a.FEATURE_public_webrtc1dot0="webrtc1.0";a.FEATURE_public_data_channel="datachannel";a.FEATURE_public_vdnobuflimit="vdnobuflimit";a.FEATURE_public_multi_window="multiwindow";a.FEATURE_public_secondary_audio_notifications="secondaryringer";a.FEATURE_public_stream_resolution="streamresolution";a.FEATURE_public_track_clone_with_id="track_clone_with_id";a.FEATURE_public_sender_stats_fix=
"sender_stats_fix";a.FEATURE_public_audio_notification_loop="loop";return a}();a.Features=c;a.featureNameMap={};a.featureNameMap[c.FEATURE_public_screenshare]=[a.FEATURE_ms_teams_desktop_sharing];a.featureNameMap[c.FEATURE_public_redirection]=[b.FEATURE_ms_teams_redirection];a.featureNameMap[c.FEATURE_public_speaking_indicator]=[a.FEATURE_ms_teams_speaking_indicator];a.featureNameMap[c.FEATURE_public_pstn]=[a.FEATURE_ms_teams_pstn];a.featureNameMap[c.FEATURE_public_osinfo]=[a.FEATURE_ms_teams_osinfo];
a.featureNameMap[c.FEATURE_public_endpoint_id]=[a.FEATURE_ms_teams_endpoint_id];a.featureNameMap[c.FEATURE_public_remote_audio_notifications]=[a.FEATURE_ms_teams_remote_audio_notifications,a.FEATURE_ms_teams_secondary_audio_notifications];a.featureNameMap[c.FEATURE_public_device_group_id]=[a.FEATURE_ms_teams_device_group_id];a.featureNameMap[c.FEATURE_public_dtmf]=[a.FEATURE_ms_teams_dtmf];a.featureNameMap[c.FEATURE_public_monitor_sharing]=[a.FEATURE_ms_teams_monitor_sharing];a.featureNameMap[c.FEATURE_public_app_sharing]=
[a.FEATURE_ms_teams_app_sharing];a.featureNameMap[c.FEATURE_public_codec_capability]=[a.FEATURE_ms_teams_codec_capability];a.featureNameMap[c.FEATURE_public_e911]=[a.FEATURE_ms_teams_e911];a.featureNameMap[c.FEATURE_public_webrtc1dot0]=[a.FEATURE_ms_teams_webrtc_1dot0];a.featureNameMap[c.FEATURE_public_multi_window]=[a.FEATURE_ms_teams_multi_window];a.featureNameMap[c.FEATURE_public_data_channel]=[a.FEATURE_ms_teams_data_channel];a.featureNameMap[c.FEATURE_public_vdnobuflimit]=[a.FEATURE_ms_teams_no_vd_buffer_limit];
a.featureNameMap[c.FEATURE_public_secondary_audio_notifications]=[a.FEATURE_ms_teams_remote_audio_notifications,a.FEATURE_ms_teams_secondary_audio_notifications];a.featureNameMap[c.FEATURE_public_stream_resolution]=[a.FEATURE_ms_teams_stream_resolution];a.featureNameMap[c.FEATURE_public_track_clone_with_id]=[a.FEATURE_ms_teams_track_clone_with_id];a.featureNameMap[c.FEATURE_public_sender_stats_fix]=[a.FEATURE_ms_teams_sender_stats_fix];a.featureNameMap[c.FEATURE_public_audio_notification_loop]=[a.FEATURE_ms_teams_audio_notifications_loop];
a.vdaFeatureNameMap={};a.vdaFeatureNameMap[c.FEATURE_public_multi_window]=[a.FEATURE_vda_multi_window];a.vdaFeatureNameMap[c.FEATURE_public_app_sharing]=[a.FEATURE_vda_app_sharing];(function(a){a[a.EngineControl=0]="EngineControl";a[a.RTCPeerConnection=1]="RTCPeerConnection";a[a.RTCSessionDescription=2]="RTCSessionDescription";a[a.RTCIceCandidate=3]="RTCIceCandidate";a[a.RTCIceCandidateEvent=4]="RTCIceCandidateEvent";a[a.MediaDevices=5]="MediaDevices";a[a.MediaDeviceInfo=6]="MediaDeviceInfo";a[a.MediaStreamTrack=
7]="MediaStreamTrack";a[a.MediaStreamEvent=8]="MediaStreamEvent";a[a.MediaStream=9]="MediaStream";a[a.NavigatorUserMedia=10]="NavigatorUserMedia";a[a.VideoElement=11]="VideoElement";a[a.AudioElement=12]="AudioElement";a[a.RTCRtpReceiver=13]="RTCRtpReceiver";a[a.RTCRtpSender=14]="RTCRtpSender";a[a.RTCDtlsTransport=15]="RTCDtlsTransport";a[a.RTCIceTransport=16]="RTCIceTransport";a[a.RTCDTMFSender=17]="RTCDTMFSender";a[a.RTCDTMFToneChangeEvent=18]="RTCDTMFToneChangeEvent";a[a.RTCIceCandidatePair=19]=
"RTCIceCandidatePair";a[a.RTCRtpTransceiver=20]="RTCRtpTransceiver";a[a.ScreenSharingRemote=21]="ScreenSharingRemote";a[a.ScreenSource=22]="ScreenSource";a[a.E911Service=23]="E911Service";a[a.reserved2=24]="reserved2";a[a.RTCDataChannel=25]="RTCDataChannel";a[a.RTCSctpTransport=26]="RTCSctpTransport";a[a.StreamResolution=27]="StreamResolution";a[a.VideoEffect=28]="VideoEffect";a[a.reserved6=29]="reserved6";a[a.reserved7=30]="reserved7";a[a.reserved8=31]="reserved8"})(c=a.class_id_t||(a.class_id_t=
{}));var l;(function(a){a[a.ctor=0]="ctor";a[a.version=1]="version";a[a.feature_flags=2]="feature_flags";a[a.version_info=3]="version_info";a[a.osinfo=4]="osinfo";a[a.endpoint_id=5]="endpoint_id";a[a.set_client_info=6]="set_client_info";a[a.hardware_info=7]="hardware_info"})(l=a.method_id_EngineControl_t||(a.method_id_EngineControl_t={}));var h;(function(a){a[a.ctor=0]="ctor";a[a.localDescription=1]="localDescription";a[a.remoteDescription=2]="remoteDescription";a[a.readyState=3]="readyState";a[a.iceState=
4]="iceState";a[a.localStreams=5]="localStreams";a[a.remoteStreams=6]="remoteStreams";a[a.createOffer=7]="createOffer";a[a.createAnswer=8]="createAnswer";a[a.setLocalDescription=9]="setLocalDescription";a[a.setRemoteDescription=10]="setRemoteDescription";a[a.updateIce=11]="updateIce";a[a.addIceCandidate=12]="addIceCandidate";a[a.addStream=13]="addStream";a[a.removeStream=14]="removeStream";a[a.close=15]="close";a[a.iceConnectionState=16]="iceConnectionState";a[a.iceGatheringState=17]="iceGatheringState";
a[a.signalingState=18]="signalingState";a[a.onaddstream=19]="onaddstream";a[a.onicecandidate=20]="onicecandidate";a[a.oniceconnectionstatechange=21]="oniceconnectionstatechange";a[a.onicegatheringstatechange=22]="onicegatheringstatechange";a[a.onsignalingstatechange=23]="onsignalingstatechange";a[a.onnegotiationneeded=24]="onnegotiationneeded";a[a.onremovestream=25]="onremovestream";a[a.getStats=26]="getStats";a[a.getReceivers=27]="getReceivers";a[a.getSenders=28]="getSenders";a[a.addTrack=29]="addTrack";
a[a.removeTrack=30]="removeTrack";a[a.ontrack=31]="ontrack";a[a.setLocalDescription_v2=32]="setLocalDescription_v2";a[a.setRemoteDescription_v2=33]="setRemoteDescription_v2";a[a.addTransceiverWithTrack=34]="addTransceiverWithTrack";a[a.addTransceiverWithKind=35]="addTransceiverWithKind";a[a.getTransceivers=36]="getTransceivers";a[a.onconnectionstatechange=37]="onconnectionstatechange";a[a.sctp=38]="sctp";a[a.ondatachannel=39]="ondatachannel";a[a.createDataChannel=40]="createDataChannel";a[a.getStats_v2=
41]="getStats_v2"})(h=a.method_id_RTCPeerConnection_t||(a.method_id_RTCPeerConnection_t={}));var d;(function(a){a[a.ctor=0]="ctor";a[a.enumerateDevices=1]="enumerateDevices";a[a.getDisplayMedia=2]="getDisplayMedia";a[a.ondevicechange=3]="ondevicechange";a[a.enumerateDevicesV2=4]="enumerateDevicesV2"})(d=a.method_id_MediaDevices_t||(a.method_id_MediaDevices_t={}));var p;(function(a){a[a.ctor=0]="ctor";a[a.deviceId=1]="deviceId";a[a.kind=2]="kind";a[a.label=3]="label";a[a.groupId=4]="groupId"})(p=a.method_id_MediaDeviceInfo_t||
(a.method_id_MediaDeviceInfo_t={}));var q;(function(a){a[a.ctor=0]="ctor";a[a.type=1]="type";a[a.sdp=2]="sdp"})(q=a.method_id_RTCSessionDescription_t||(a.method_id_RTCSessionDescription_t={}));var n;(function(a){a[a.ctor=0]="ctor";a[a.kind=1]="kind";a[a.id=2]="id";a[a.label=3]="label";a[a.enabled=4]="enabled";a[a.muted=5]="muted";a[a.readyState=6]="readyState";a[a.onended=7]="onended";a[a.onmute=8]="onmute";a[a.onunmute=9]="onunmute";a[a.clone=10]="clone";a[a.stop=11]="stop";a[a.getCapabilities=12]=
"getCapabilities";a[a.getSettings=13]="getSettings";a[a.applyConstraints=14]="applyConstraints";a[a.getConstraints=15]="getConstraints"})(n=a.method_id_MediaStreamTrack_t||(a.method_id_MediaStreamTrack_t={}));var k;(function(a){a[a.ctor=0]="ctor";a[a.id=1]="id";a[a.getAudioTracks=2]="getAudioTracks";a[a.getVideoTracks=3]="getVideoTracks";a[a.getTracks=4]="getTracks";a[a.getTrackById=5]="getTrackById";a[a.addTrack=6]="addTrack";a[a.removeTrack=7]="removeTrack";a[a.clone=8]="clone";a[a.active=9]="active"})(k=
a.method_id_MediaStream_t||(a.method_id_MediaStream_t={}));var v;(function(a){a[a.ctor=0]="ctor";a[a.getUserMedia=1]="getUserMedia";a[a.setCodecCapabilities=2]="setCodecCapabilities";a[a.getCapabilities=3]="getCapabilities"})(v=a.method_id_NavigatorUserMedia_t||(a.method_id_NavigatorUserMedia_t={}));var z;(function(a){a[a.ctor=0]="ctor";a[a.candidate=1]="candidate";a[a.sdpMid=2]="sdpMid";a[a.sdpMLineIndex=3]="sdpMLineIndex"})(z=a.method_id_RTCIceCandidate_t||(a.method_id_RTCIceCandidate_t={}));var g;
(function(a){a[a.ctor=0]="ctor";a[a.candidate=1]="candidate"})(g=a.method_id_RTCIceCandidateEvent_t||(a.method_id_RTCIceCandidateEvent_t={}));var B;(function(a){a[a.ctor=0]="ctor";a[a.stream=1]="stream"})(B=a.method_id_MediaStreamEvent_t||(a.method_id_MediaStreamEvent_t={}));var t;(function(a){a[a.ctor=0]="ctor";a[a.sinkId=1]="sinkId";a[a.connectTo=2]="connectTo";a[a.disconnect=3]="disconnect";a[a.setFrame=4]="setFrame";a[a.addClipRect=5]="addClipRect";a[a.removeClipRect=6]="removeClipRect";a[a.onerror=
7]="onerror";a[a.onvideoframechanged=8]="onvideoframechanged";a[a.placement=9]="placement"})(t=a.method_id_VideoElement_t||(a.method_id_VideoElement_t={}));var m;(function(a){a[a.ctor=0]="ctor";a[a.sinkId=1]="sinkId";a[a.srcObject=2]="srcObject";a[a.src=3]="src";a[a.play=4]="play";a[a.pause=5]="pause";a[a.loop=6]="loop"})(m=a.method_id_AudioElement_t||(a.method_id_AudioElement_t={}));var D;(function(a){a[a.ctor=0]="ctor";a[a.track=1]="track";a[a.getContributingSources=2]="getContributingSources";
a[a.getSynchronizationSources=3]="getSynchronizationSources";a[a.transport=4]="transport";a[a.rtcpTransport=5]="rtcpTransport";a[a.getCapabilities=6]="getCapabilities";a[a.getParameters=7]="getParameters";a[a.getStats=8]="getStats";a[a.getCapabilities_v2=9]="getCapabilities_v2"})(D=a.method_id_RTCRtpReceiver_t||(a.method_id_RTCRtpReceiver_t={}));var y;(function(a){a[a.ctor=0]="ctor";a[a.track=1]="track";a[a.transport=2]="transport";a[a.rtcpTransport=3]="rtcpTransport";a[a.dtmf=4]="dtmf";a[a.getCapabilities=
5]="getCapabilities";a[a.getParameters=6]="getParameters";a[a.setParameters=7]="setParameters";a[a.replaceTrack=8]="replaceTrack";a[a.getStats=9]="getStats";a[a.setStreams=10]="setStreams";a[a.getCapabilities_v2=11]="getCapabilities_v2"})(y=a.method_id_RTCRtpSender_t||(a.method_id_RTCRtpSender_t={}));var x;(function(a){a[a.ctor=0]="ctor";a[a.transport=1]="transport";a[a.state=2]="state";a[a.getRemoteCertificates=3]="getRemoteCertificates";a[a.onstatechange=4]="onstatechange";a[a.onerror=5]="onerror"})(x=
a.method_id_RTCDtlsTransport_t||(a.method_id_RTCDtlsTransport_t={}));var r;(function(a){a[a.ctor=0]="ctor";a[a.role=1]="role";a[a.component=2]="component";a[a.state=3]="state";a[a.gatheringState=4]="gatheringState";a[a.localcandidates=5]="localcandidates";a[a.remotecandidates=6]="remotecandidates";a[a.onstatechange=7]="onstatechange";a[a.ongatheringstatechange=8]="ongatheringstatechange";a[a.onselectedcandidatepairchange=9]="onselectedcandidatepairchange"})(r=a.method_id_RTCIceTransport_t||(a.method_id_RTCIceTransport_t=
{}));var A;(function(a){a[a.ctor=0]="ctor";a[a.insertDTMF=1]="insertDTMF";a[a.ontonechange=2]="ontonechange";a[a.canInsertDTMF=3]="canInsertDTMF";a[a.toneBuffer=4]="toneBuffer"})(A=a.method_id_RTCDTMFSender_t||(a.method_id_RTCDTMFSender_t={}));var M;(function(a){a[a.ctor=0]="ctor";a[a.tone=1]="tone";a[a.tone_buffer=2]="tone_buffer"})(M=a.method_id_RTCDTMFToneChangeEvent_t||(a.method_id_RTCDTMFToneChangeEvent_t={}));var F;(function(a){a[a.ctor=0]="ctor";a[a.local=1]="local";a[a.remote=2]="remote"})(F=
a.method_id_RTCIceCandidatePair_t||(a.method_id_RTCIceCandidatePair_t={}));var J;(function(a){a[a.ctor=0]="ctor";a[a.mid=1]="mid";a[a.sender=2]="sender";a[a.receiver=3]="receiver";a[a.direction=4]="direction";a[a.currentDirection=5]="currentDirection";a[a.stop=6]="stop";a[a.setCodecPreferences=7]="setCodecPreferences"})(J=a.method_id_RTCRtpTransceiver_t||(a.method_id_RTCRtpTransceiver_t={}));var G;(function(a){a[a.ctor=0]="ctor";a[a.getScreensAsync=1]="getScreensAsync";a[a.onscreentopologychanged=
2]="onscreentopologychanged"})(G=a.method_id_VDISharingRemote_t||(a.method_id_VDISharingRemote_t={}));var L;(function(a){a[a.ctor=0]="ctor";a[a.srcid=1]="srcid";a[a.deviceid=2]="deviceid";a[a.type=3]="type";a[a.name=4]="name";a[a.imagedata=5]="imagedata";a[a.hwnd=6]="hwnd";a[a.origin=7]="origin";a[a.caption=8]="caption";a[a.pid=9]="pid";a[a.bounds=10]="bounds"})(L=a.method_id_ScreenSource_t||(a.method_id_ScreenSource_t={}));var P;(function(a){a[a.ctor=0]="ctor";a[a.getE911Info=1]="getE911Info";a[a.onupdate=
2]="onupdate"})(P=a.method_id_E911Service_t||(a.method_id_E911Service_t={}));var C;(function(a){a[a.ctor=0]="ctor";a[a.label=1]="label";a[a.ordered=2]="ordered";a[a.maxPacketLifeTime=3]="maxPacketLifeTime";a[a.maxRetransmits=4]="maxRetransmits";a[a.protocol=5]="protocol";a[a.negotiated=6]="negotiated";a[a.id=7]="id";a[a.readyState=8]="readyState";a[a.bufferedAmount=9]="bufferedAmount";a[a.bufferedAmountLowThreshold=10]="bufferedAmountLowThreshold";a[a.onopen=11]="onopen";a[a.onbufferedamountlow=12]=
"onbufferedamountlow";a[a.onerror=13]="onerror";a[a.onclosing=14]="onclosing";a[a.onclose=15]="onclose";a[a.onmessage=16]="onmessage";a[a.close=17]="close";a[a.send_text=18]="send_text";a[a.send_binary=19]="send_binary"})(C=a.method_id_RTCDataChannel_t||(a.method_id_RTCDataChannel_t={}));var R;(function(a){a[a.ctor=0]="ctor";a[a.transport=1]="transport";a[a.state=2]="state";a[a.maxMessageSize=3]="maxMessageSize";a[a.maxChannels=4]="maxChannels";a[a.onstatechange=5]="onstatechange"})(R=a.method_id_RTCSctpTransport_t||
(a.method_id_RTCSctpTransport_t={}));var K;(function(a){a[a.ctor=0]="ctor";a[a.getCallConstraints=1]="getCallConstraints";a[a.onupdate=2]="onupdate"})(K=a.method_id_StreamResolution_t||(a.method_id_StreamResolution_t={}));a.class_lib_info=new b.WebrpcClassLibInfo("webrpc_class_library",[new b.WebrpcClassInfo(c.EngineControl,"EngineControl",[new b.WebrpcMethodInfo(c.EngineControl,l.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.EngineControl,l.version,"version",!0),new b.WebrpcMethodInfo(c.EngineControl,
l.feature_flags,"feature_flags",!0),new b.WebrpcMethodInfo(c.EngineControl,l.version_info,"version_info",!0,a.FEATURE_ms_teams_desktop_sharing),new b.WebrpcMethodInfo(c.EngineControl,l.osinfo,"osinfo",!0,a.FEATURE_ms_teams_osinfo),new b.WebrpcMethodInfo(c.EngineControl,l.endpoint_id,"endpoint_id",!0,a.FEATURE_ms_teams_endpoint_id),new b.WebrpcMethodInfo(c.EngineControl,l.set_client_info,"set_client_info",!1,a.FEATURE_ms_teams_client_info),new b.WebrpcMethodInfo(c.EngineControl,l.hardware_info,"hardware_info",
!0,a.FEATURE_ms_teams_hardware_info)]),new b.WebrpcClassInfo(c.RTCPeerConnection,"RTCPeerConnection",[new b.WebrpcMethodInfo(c.RTCPeerConnection,h.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.localDescription,"localDescription",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.remoteDescription,"remoteDescription",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.readyState,"readyState",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.iceState,"iceState",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,
h.localStreams,"localStreams",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.remoteStreams,"remoteStreams",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.createOffer,"createOffer",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.createAnswer,"createAnswer",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.setLocalDescription,"setLocalDescription",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.setRemoteDescription,"setRemoteDescription",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.updateIce,
"updateIce",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.addIceCandidate,"addIceCandidate",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.addStream,"addStream",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.removeStream,"removeStream",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.close,"close",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.iceConnectionState,"iceConnectionState",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.iceGatheringState,"iceGatheringState",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,
h.signalingState,"signalingState",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onaddstream,"onaddstream",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onicecandidate,"onicecandidate",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.oniceconnectionstatechange,"oniceconnectionstatechange",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onicegatheringstatechange,"onicegatheringstatechange",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onsignalingstatechange,"onsignalingstatechange",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,
h.onnegotiationneeded,"onnegotiationneeded",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onremovestream,"onremovestream",!0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.getStats,"getStats",!1),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.getReceivers,"getReceivers",!1,a.FEATURE_ms_teams_speaking_indicator),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.getSenders,"getSenders",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.addTrack,"addTrack",!1,a.FEATURE_ms_teams_pstn),
new b.WebrpcMethodInfo(c.RTCPeerConnection,h.removeTrack,"removeTrack",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.ontrack,"ontrack",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.setLocalDescription_v2,"setLocalDescription_v2",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.setRemoteDescription_v2,"setRemoteDescription_v2",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.addTransceiverWithTrack,
"addTransceiverWithTrack",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.addTransceiverWithKind,"addTransceiverWithKind",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.getTransceivers,"getTransceivers",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.onconnectionstatechange,"onconnectionstatechange",!0,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.sctp,"sctp",!0,a.FEATURE_ms_teams_data_channel),
new b.WebrpcMethodInfo(c.RTCPeerConnection,h.ondatachannel,"ondatachannel",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.createDataChannel,"createDataChannel",!1,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCPeerConnection,h.getStats_v2,"getStats_v2",!1,a.FEATURE_ms_teams_webrtc_1dot0)]),new b.WebrpcClassInfo(c.RTCSessionDescription,"RTCSessionDescription",[new b.WebrpcMethodInfo(c.RTCSessionDescription,q.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.RTCSessionDescription,
q.type,"type",!0),new b.WebrpcMethodInfo(c.RTCSessionDescription,q.sdp,"sdp",!0)]),new b.WebrpcClassInfo(c.RTCIceCandidate,"RTCIceCandidate",[new b.WebrpcMethodInfo(c.RTCIceCandidate,z.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.RTCIceCandidate,z.candidate,"candidate",!0),new b.WebrpcMethodInfo(c.RTCIceCandidate,z.sdpMid,"sdpMid",!0),new b.WebrpcMethodInfo(c.RTCIceCandidate,z.sdpMLineIndex,"sdpMLineIndex",!0)]),new b.WebrpcClassInfo(c.RTCIceCandidateEvent,"RTCIceCandidateEvent",[new b.WebrpcMethodInfo(c.RTCIceCandidateEvent,
g.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.RTCIceCandidateEvent,g.candidate,"candidate",!0)]),new b.WebrpcClassInfo(c.MediaDevices,"MediaDevices",[new b.WebrpcMethodInfo(c.MediaDevices,d.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.MediaDevices,d.enumerateDevices,"enumerateDevices",!1),new b.WebrpcMethodInfo(c.MediaDevices,d.getDisplayMedia,"getDisplayMedia",!1,a.FEATURE_ms_teams_desktop_sharing),new b.WebrpcMethodInfo(c.MediaDevices,d.ondevicechange,"ondevicechange",!0,a.FEATURE_ms_teams_speaking_indicator),
new b.WebrpcMethodInfo(c.MediaDevices,d.enumerateDevicesV2,"enuerateDevicesV2",!1,a.FEATURE_ms_teams_enumerate_devices_v2)]),new b.WebrpcClassInfo(c.MediaDeviceInfo,"MediaDeviceInfo",[new b.WebrpcMethodInfo(c.MediaDeviceInfo,p.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.MediaDeviceInfo,p.deviceId,"deviceId",!0),new b.WebrpcMethodInfo(c.MediaDeviceInfo,p.kind,"kind",!0),new b.WebrpcMethodInfo(c.MediaDeviceInfo,p.label,"label",!0),new b.WebrpcMethodInfo(c.MediaDeviceInfo,p.groupId,"groupId",!0)]),new b.WebrpcClassInfo(c.MediaStreamTrack,
"MediaStreamTrack",[new b.WebrpcMethodInfo(c.MediaStreamTrack,n.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.clone,"clone",!1),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.stop,"stop",!1),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.getCapabilities,"getCapabilities",!1),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.getSettings,"getSettings",!1),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.applyConstraints,"applyConstraints",!1,a.FEATURE_ms_teams_desktop_sharing),new b.WebrpcMethodInfo(c.MediaStreamTrack,
n.kind,"kind",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.id,"id",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.label,"label",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.enabled,"enabled",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.muted,"muted",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.readyState,"readyState",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.onended,"onended",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.onmute,"onmute",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,
n.onunmute,"onunmute",!0),new b.WebrpcMethodInfo(c.MediaStreamTrack,n.getConstraints,"getConstraints",!1,a.FEATURE_ms_teams_mstrack_constraints)]),new b.WebrpcClassInfo(c.MediaStream,"MediaStream",[new b.WebrpcMethodInfo(c.MediaStream,k.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.MediaStream,k.id,"id",!0),new b.WebrpcMethodInfo(c.MediaStream,k.getAudioTracks,"getAudioTracks",!1),new b.WebrpcMethodInfo(c.MediaStream,k.getVideoTracks,"getVideoTracks",!1),new b.WebrpcMethodInfo(c.MediaStream,k.getTracks,
"getTracks",!1),new b.WebrpcMethodInfo(c.MediaStream,k.getTrackById,"getTrackById",!1),new b.WebrpcMethodInfo(c.MediaStream,k.addTrack,"addTrack",!1),new b.WebrpcMethodInfo(c.MediaStream,k.removeTrack,"removeTrack",!1),new b.WebrpcMethodInfo(c.MediaStream,k.clone,"clone",!0),new b.WebrpcMethodInfo(c.MediaStream,k.active,"active",!0)]),new b.WebrpcClassInfo(c.NavigatorUserMedia,"NavigatorUserMedia",[new b.WebrpcMethodInfo(c.NavigatorUserMedia,v.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.NavigatorUserMedia,
v.getUserMedia,"getUserMedia",!1),new b.WebrpcMethodInfo(c.NavigatorUserMedia,v.setCodecCapabilities,"setCodecCapabilities",!1,a.FEATURE_ms_teams_codec_capability),new b.WebrpcMethodInfo(c.NavigatorUserMedia,v.getCapabilities,"getRtpCapabilities",!1,a.FEATURE_ms_teams_webrtc_1dot0)]),new b.WebrpcClassInfo(c.MediaStreamEvent,"MediaStreamEvent",[new b.WebrpcMethodInfo(c.MediaStreamEvent,B.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.MediaStreamEvent,B.stream,"stream",!0)]),new b.WebrpcClassInfo(c.VideoElement,
"VideoElement",[new b.WebrpcMethodInfo(c.VideoElement,t.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.VideoElement,t.sinkId,"sinkId",!0),new b.WebrpcMethodInfo(c.VideoElement,t.connectTo,"connectTo",!1),new b.WebrpcMethodInfo(c.VideoElement,t.disconnect,"disconnect",!1),new b.WebrpcMethodInfo(c.VideoElement,t.setFrame,"setFrame",!1),new b.WebrpcMethodInfo(c.VideoElement,t.addClipRect,"addClipRect",!1),new b.WebrpcMethodInfo(c.VideoElement,t.removeClipRect,"removeClipRect",!1),new b.WebrpcMethodInfo(c.VideoElement,
t.onerror,"onerror",!0),new b.WebrpcMethodInfo(c.VideoElement,t.onvideoframechanged,"onvideoframechanged",!0),new b.WebrpcMethodInfo(c.VideoElement,t.placement,"placement",!0,a.FEATURE_ms_teams_video_placement)]),new b.WebrpcClassInfo(c.AudioElement,"AudioElement",[new b.WebrpcMethodInfo(c.AudioElement,m.ctor,"ctor",!1),new b.WebrpcMethodInfo(c.AudioElement,m.sinkId,"sinkId",!0),new b.WebrpcMethodInfo(c.AudioElement,m.srcObject,"srcObject",!0),new b.WebrpcMethodInfo(c.AudioElement,m.src,"src",!0),
new b.WebrpcMethodInfo(c.AudioElement,m.play,"play",!1),new b.WebrpcMethodInfo(c.AudioElement,m.pause,"pause",!1),new b.WebrpcMethodInfo(c.AudioElement,m.loop,"loop",!0,a.FEATURE_ms_teams_audio_notifications_loop)]),new b.WebrpcClassInfo(c.RTCRtpReceiver,"RTCRtpReceiver",[new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.ctor,"ctor",!1,a.FEATURE_ms_teams_speaking_indicator),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.track,"track",!0,a.FEATURE_ms_teams_speaking_indicator),new b.WebrpcMethodInfo(c.RTCRtpReceiver,
D.getContributingSources,"getContributingSources",!1,a.FEATURE_ms_teams_speaking_indicator),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.getSynchronizationSources,"getSynchronizationSources",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.transport,"transport",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.rtcpTransport,"rtcptransport",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.getCapabilities,"getCapabilities",!1,a.FEATURE_ms_teams_pstn),
new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.getParameters,"getParameters",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.getStats,"getStats",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpReceiver,D.getCapabilities_v2,"getCapabilities_v2",!1,a.FEATURE_ms_teams_webrtc_1dot0)]),new b.WebrpcClassInfo(c.RTCRtpSender,"RTCRtpSender",[new b.WebrpcMethodInfo(c.RTCRtpSender,y.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.track,"track",!0,a.FEATURE_ms_teams_pstn),
new b.WebrpcMethodInfo(c.RTCRtpSender,y.transport,"transport",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.rtcpTransport,"rtcpTransport",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.dtmf,"dtmf",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.getCapabilities,"getCapabilities",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.getParameters,"getParameters",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,
y.setParameters,"setParameters",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.replaceTrack,"replaceTrack",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.getStats,"getStats",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.setStreams,"setStreams",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCRtpSender,y.getCapabilities_v2,"getCapabilities_v2",!1,a.FEATURE_ms_teams_webrtc_1dot0)]),new b.WebrpcClassInfo(c.RTCDtlsTransport,"RTCDtlsTransport",
[new b.WebrpcMethodInfo(c.RTCDtlsTransport,x.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDtlsTransport,x.transport,"transport",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDtlsTransport,x.state,"state",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDtlsTransport,x.getRemoteCertificates,"getRemoteCertificates",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDtlsTransport,x.onstatechange,"onstatechange",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDtlsTransport,
x.onerror,"onerror",!0,a.FEATURE_ms_teams_pstn)]),new b.WebrpcClassInfo(c.RTCIceTransport,"RTCIceTransport",[new b.WebrpcMethodInfo(c.RTCIceTransport,r.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.role,"role",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.component,"component",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.state,"state",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.gatheringState,
"gatheringState",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.localcandidates,"localcandidates",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.remotecandidates,"remotecandidates",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.onstatechange,"onstatechange",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,r.ongatheringstatechange,"ongatheringstatechange",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceTransport,
r.onselectedcandidatepairchange,"onselectedcandidatepairchange",!0,a.FEATURE_ms_teams_pstn)]),new b.WebrpcClassInfo(c.RTCDTMFSender,"RTCDTMFSender",[new b.WebrpcMethodInfo(c.RTCDTMFSender,A.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDTMFSender,A.insertDTMF,"insertDTMF",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDTMFSender,A.ontonechange,"ontonechange",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDTMFSender,A.canInsertDTMF,"canInsertDTMF",!0,a.FEATURE_ms_teams_pstn),
new b.WebrpcMethodInfo(c.RTCDTMFSender,A.toneBuffer,"toneBuffer",!0,a.FEATURE_ms_teams_pstn)]),new b.WebrpcClassInfo(c.RTCDTMFToneChangeEvent,"RTCDTMFToneChangeEvent",[new b.WebrpcMethodInfo(c.RTCDTMFToneChangeEvent,M.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDTMFToneChangeEvent,M.tone,"tone",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCDTMFToneChangeEvent,M.tone_buffer,"tone_buffer",!0,a.FEATURE_ms_teams_pstn)]),new b.WebrpcClassInfo(c.RTCIceCandidatePair,"RTCIceCandidatePair",
[new b.WebrpcMethodInfo(c.RTCIceCandidatePair,F.ctor,"ctor",!1,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceCandidatePair,F.local,"local",!0,a.FEATURE_ms_teams_pstn),new b.WebrpcMethodInfo(c.RTCIceCandidatePair,F.remote,"remote",!0,a.FEATURE_ms_teams_pstn)]),new b.WebrpcClassInfo(c.RTCRtpTransceiver,"RTCRtpTransceiver",[new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.ctor,"ctor",!1,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.mid,"mid",!0,a.FEATURE_ms_teams_webrtc_1dot0),
new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.sender,"sender",!0,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.receiver,"receiver",!0,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.direction,"direction",!0,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.currentDirection,"currentDirection",!0,a.FEATURE_ms_teams_webrtc_1dot0),new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.stop,"stop",!1,a.FEATURE_ms_teams_webrtc_1dot0),
new b.WebrpcMethodInfo(c.RTCRtpTransceiver,J.setCodecPreferences,"setCodecPreferences",!1,a.FEATURE_ms_teams_webrtc_1dot0)]),new b.WebrpcClassInfo(c.ScreenSharingRemote,"ScreenSharingRemote",[new b.WebrpcMethodInfo(c.ScreenSharingRemote,G.ctor,"ctor",!1,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSharingRemote,G.getScreensAsync,"getScreensAsync",!1,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSharingRemote,G.onscreentopologychanged,"onscreentopologychanged",
!0,a.FEATURE_ms_teams_monitor_sharing)]),new b.WebrpcClassInfo(c.ScreenSource,"ScreenSource",[new b.WebrpcMethodInfo(c.ScreenSource,L.ctor,"ctor",!1,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.srcid,"srcid",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.deviceid,"deviceid",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.type,"type",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,
L.name,"name",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.imagedata,"imagedata",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.hwnd,"hwnd",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.origin,"origin",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.caption,"caption",!0,a.FEATURE_ms_teams_monitor_sharing),new b.WebrpcMethodInfo(c.ScreenSource,L.pid,"pid",!0,a.FEATURE_ms_teams_monitor_sharing),
new b.WebrpcMethodInfo(c.ScreenSource,L.bounds,"bounds",!0,a.FEATURE_ms_teams_gtc)]),new b.WebrpcClassInfo(c.E911Service,"E911Service",[new b.WebrpcMethodInfo(c.E911Service,P.ctor,"ctor",!1,a.FEATURE_ms_teams_e911),new b.WebrpcMethodInfo(c.E911Service,P.getE911Info,"getE911Info",!1,a.FEATURE_ms_teams_e911),new b.WebrpcMethodInfo(c.E911Service,P.onupdate,"onupdate",!0,a.FEATURE_ms_teams_e911)]),new b.WebrpcClassInfo(c.RTCDataChannel,"RTCDataChannel",[new b.WebrpcMethodInfo(c.RTCDataChannel,C.ctor,
"ctor",!1,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.label,"label",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.ordered,"ordered",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.maxPacketLifeTime,"maxPacketLifeTime",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.maxRetransmits,"maxRetransmits",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.protocol,
"protocol",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.negotiated,"negotiated",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.id,"id",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.readyState,"readyState",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.bufferedAmount,"bufferedAmount",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.bufferedAmountLowThreshold,
"bufferedAmountLowThreshold",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.onopen,"onopen",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.onbufferedamountlow,"onbufferedamountlow",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.onerror,"onerror",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.onclosing,"onclosing",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,
C.onclose,"onclose",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.onmessage,"onmessage",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.close,"close",!1,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.send_text,"send_text",!1,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCDataChannel,C.send_binary,"send_binary",!1,a.FEATURE_ms_teams_data_channel)]),new b.WebrpcClassInfo(c.RTCSctpTransport,"RTCSctpTransport",
[new b.WebrpcMethodInfo(c.RTCSctpTransport,R.ctor,"ctor",!1,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCSctpTransport,R.transport,"transport",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCSctpTransport,R.state,"state",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCSctpTransport,R.maxMessageSize,"maxMessageSize",!0,a.FEATURE_ms_teams_data_channel),new b.WebrpcMethodInfo(c.RTCSctpTransport,R.maxChannels,"maxChannels",!0,a.FEATURE_ms_teams_data_channel),
new b.WebrpcMethodInfo(c.RTCSctpTransport,R.onstatechange,"onstatechange",!0,a.FEATURE_ms_teams_data_channel)]),new b.WebrpcClassInfo(c.StreamResolution,"StreamResolution",[new b.WebrpcMethodInfo(c.StreamResolution,K.ctor,"ctor",!1,a.FEATURE_ms_teams_stream_resolution),new b.WebrpcMethodInfo(c.StreamResolution,K.getCallConstraints,"getCallConstraints",!1,a.FEATURE_ms_teams_stream_resolution),new b.WebrpcMethodInfo(c.StreamResolution,K.onupdate,"onupdate",!0,a.FEATURE_ms_teams_stream_resolution)])])},
545:function(b,a,c){var e=this&&this.__spreadArrays||function(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var a=Array(a),e=0,b=0;b<c;b++)for(var k=arguments[b],h=0,l=k.length;h<l;h++,e++)a[e]=k[h];return a};Object.defineProperty(a,"__esModule",{value:!0});a.WsJsonUtil=a.ws_msg_type_t=void 0;var l=c(550),h;(function(a){a[a.req=0]="req";a[a.reply=1]="reply";a[a.event_req=2]="event_req";a[a.event_reply=3]="event_reply"})(h=a.ws_msg_type_t||(a.ws_msg_type_t={}));b=function(){function a(){}
a.createMessageByid=function(a,b,c,d,h,p){for(var g=[],B=6;B<arguments.length;B++)g[B-6]=arguments[B];(B=l.WebrpcClassLibInfoUtil.getMethodByid(d,h))&&B.isprop||(a=!1);return this.createMessage.apply(this,e([c,a,b,d,h,p],g))};a.createMessage=function(a,b,c,d,h,l){for(var g=[],p=6;p<arguments.length;p++)g[p-6]=arguments[p];return{v:"webrtc",hdr:{version:this._version,msg_type:this.getMsgType(a),modifier:b,destroy:c,proc:{iid:d,methodid:h}},objref:{oid:l},params:e(g)}};a.getMsgType=function(a){var b=
"";switch(a){default:b="req";break;case h.reply:b="reply";break;case h.event_req:b="event-req";break;case h.event_reply:b="event-reply"}return b};a._version=1;return a}();a.WsJsonUtil=b}},p={};return e(307)}()});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
/*
 * Copyright (c) 2018 Omnissa, LLC. All rights reserved.
 * This product is protected by copyright and intellectual property laws in the
 * United States and other countries as well as by international treaties.
 * -- Omnissa Restricted
 */
/**
 *
 * HorizonSDKforWebRTCRedir.js
 * Build: 14122140117
 *
 */
!function(e){("function"!=typeof define||!define.amd)&&"object"==typeof module&&module.exports?module.exports=e():window.HorizonWebRtcRedirectionAPI=e()}(function(e,t){"use strict";var C={createInstance:30,createInstanceResult:31,newVideoElement:32,removeVideoElement:33,updateVideoElement:34,newFrame:36,removeFrame:37,version:40,enumDevices:41,enumVideoDevice:42,createPeerConnection:43,createOffer:44,createAnswer:45,setLocalDescription:46,setRemoteDescription:47,addIceCandidate:48,addStream:49,getLocalStreams:50,getStats:51,removeStream:52,close:53,getUserMediaShim:54,mediaTrkStop:55,trackEnabled:56,newAudioElement:57,setSinkId:58,updateSrcObject:59,notifyAudio:60,mediaStreamClone:61,mediaTrackClone:62,getDisplayMediaShim:63,setDefaultSinkId:64,shimLogToWebSocket:65,insertDTMF:66,getReceivers:67,customClipRect:69,applyConstraints:70,getScreens:71,setScreenId:72,addTrack:74,removeTrack:75,senderCmd:76,createMediaStream:77,connectedStateChanged:78,updateObjectFit:79,transceiverCmd:300,dataChannelCmd:301,dataChannelEvent:302,getHWND:309,pcCmd:310},S={ERROR:0,WARN:1,INFO:2,DEBUG:3},G=2,y=0,T=1,_=2,d={DURATION:100,INTERTONEGAP:70},o=0,a=1,f=1,g=2,q="unified-plan",m={TRANSCEIVER_ADD_TRANSCEIVER:1,TRANSCEIVER_SET_CODECPREFERENCE:2,TRANSCEIVER_STOP:3,TRANSCEIVER_SET_DIRECTION:4},l=0,v=1,s=1,c=2,X=4,K=16,u={RPF_ACTIVE:1,RPF_CODEPAYLOADTYPE:2,RPF_DTX:4,RPF_MAXBITRATE:8,RPF_MAXFRAMERATE:16,RPF_PTIME:32,RPF_RID:64,RPF_SCALE_RESOLUTION_DOWNBY:128},Y=0,Z=1,b=0,w=1,Q=4,$=32,ee=2,n="52406081",E="1.0.",k=(E+="@"===n[0]?"00000":n,{UNSUPPORTED:"unsupported",CHROME:"chrome",CHROMIUM_EDGE:"chromium_edge",ELECTRON:"electron"}),te=2,ne=4,ie=1,re=2;const I="0";function oe(e){setTimeout(e,0)}function ae(e){if(!e||!e.ownerDocument)return 1;if((t=e.ownerDocument.defaultView)&&"function"==typeof t.getZoomFactor)return t.getZoomFactor(e);var{innerWidth:e,outerWidth:t}=t;if(0===e)return t;var n=document.body&&document.body.clientWidth?document.body.clientWidth:e;let i,r;return x==k.ELECTRON?i=Math.round((t-(e-n))/e*1e3)/1e3:x==k.CHROME||x==k.CHROMIUM_EDGE?(i=(t-8)/e*100,r=Ee(i),Math.round(r||i)/100):1}function se(e){var t;F.multiwindow&&j?(t=_e(e))?we[t]?L.debug("ensureFrame skipped due to frame already registered."):(j.send({cmd:"newFrame",frame:t,browser:x,customClipRect:1},-1),we[t]=e):L.debug("ensureFrame skipped due to no frameWnd"):L.debug("ensureFrame skipped due to feature not enabled or no connection.")}var de,p=-1,R=-1,ce=-1,ue=0,le=0,he=0,fe=0,ge=0,ve=0,i={},O={},P={},pe={},me={},be=window.navigator.mediaDevices.enumerateDevices,Ce=null,D={},Se={},M={},ye={},j=null,r=null,A=[],V=[],F={},we={},N={},Re={},Te=[],x=0<navigator.userAgent.indexOf("Electron")?k.ELECTRON:0<navigator.userAgent.indexOf("Chrome")?0<navigator.userAgent.indexOf("Edg")?k.CHROMIUM_EDGE:k.CHROME:k.UNSUPPORTED,L={logLevel:S.DEBUG,websocketlogLevel:S.INFO,logToConsole:!0,updateLogLevel:function(e,t){L.logLevel=e,L.websocketlogLevel=t},error:function(e){L.log("ERROR",e),r&&"function"==typeof r.error&&r.error(e)},warn:function(e){L.log("WARN",e),r&&"function"==typeof r.warn&&r.warn(e)},info:function(e){L.log("INFO",e),r&&"function"==typeof r.info&&r.info(e)},debug:function(e){L.log("DEBUG",e)},log:function(e,t){try{S[e]<=L.logLevel&&(L.logToConsole&&console&&("object"==typeof t?console.log(t):console.log(e+": "+t)),"string"==typeof t)&&S[e]<=L.websocketlogLevel&&j&&j.sendLogToWebSocket(t,e)}catch(e){}}},_e=function(e){return e},Ee=function(e){for(var t=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500],n=0;n<t.length;n++){var i=t[n],r=.05*i;if(Math.abs(i-e)<r)return i}};function ke(e,t,n){var i,r,o="_id#",a=e.indexOf(t);return-1==a?e+t+"1"+o+n:(i=e.substring(0,a),r=e.indexOf(o,a+t.length),e=Number(e.substring(a+t.length,r)),i+t+((e=isNaN(e)?0:e)+1)+o+n)}function Ie(e,t){function n(){return 1<=arguments.length&&"function"==typeof arguments[0]}function i(){return 2<=arguments.length&&"function"==typeof arguments[1]}function r(a,s,d,c){return new Promise(function(e,t){var n=new DOMException("createOffer cancelled","OperationError"),i=new DOMException("The RTCPeerConnection is closed","InvalidStateError"),r=a?e:d,o=a?t:c;j.send({cmd:"createOffer",options:s},u.id,function(e){O[u.id]?void 0===e.error?(L.debug("createOffer done"),L.debug(e.desc),e.transceivers&&v(e.transceivers),r(e.desc)):o(n):o(i)})})}function o(a,s,d,c){return new Promise(function(e,t){var n=new DOMException("createAnswer cancelled","OperationError"),i=new DOMException("The RTCPeerConnection is closed","InvalidStateError"),r=a?e:d,o=a?t:c;j.send({cmd:"createAnswer",options:s},u.id,function(e){O[u.id]?void 0===e.error?(L.debug("createAnswer done"),L.debug(e.desc),e.transceivers&&v(e.transceivers),r(e.desc)):o(n):o(i)})})}function a(a,s,d,c){return u._remoteDescription=s,new Promise(function(e,t){var n=new DOMException("setRemoteDescription cancelled","OperationError"),i=new DOMException("The RTCPeerConnection is closed","InvalidStateError"),r=a?e:d,o=a?t:c;j.send({cmd:"setRemoteDescription",desc:s},u.id,function(e){O[u.id]?void 0===e.error?(e.transceivers&&v(e.transceivers,e.transceiversRemoved),r()):o(n):o(i)})})}function s(a,s,d,c){return u._localDescription=s,new Promise(function(e,t){var n=new DOMException("setLocalDescription cancelled","OperationError"),i=new DOMException("The RTCPeerConnection is closed","InvalidStateError"),r=a?e:d,o=a?t:c;j.send({cmd:"setLocalDescription",desc:s},u.id,function(e){O[u.id]?void 0===e.error?(e.transceivers&&v(e.transceivers,e.transceiversRemoved),r()):o(n):o(i)})})}function d(a,s,d,c){return new Promise(function(e,t){var n=new DOMException("addIceCandidate cancelled","OperationError"),i=new DOMException("The RTCPeerConnection is closed","InvalidStateError"),r=a?e:d,o=a?t:c;j.send({cmd:"addIceCandidate",candidate:s},u.id,function(e){O[u.id]?void 0===e.error?r():o(n):o(i)})})}function c(i,r){return new Promise(function(e,t){new DOMException("getStats cancelled","InvalidAccessError");var n=i?e:r,e={cmd:"getStats"};i==w&&(e.capability=Q),j.send(e,u.id,function(e){var t;"function"==typeof n&&(void 0===e.error&&void 0!==e.stats&&void 0!==O[u.id]?i==w?n(e.stats):((t=new Oe)._create(e.stats),n(t)):n({}))})})}var u=this,l={},h={},f={},g=!1,v=(this.id=++ce,this._localStreams=[],this._remoteStreams=[],this._dataChannelMap={},this._dataChannelIdToShimIdMap={},this._iceConnectionState="new",e&&e.sdpSemantics===q&&(g=!0),this.isUnifiedPlan=function(){return g},Object.defineProperty(this,"iceConnectionState",{get:function(){return L.debug("get iceConnectionState:"+this._iceConnectionState),this._iceConnectionState},configurable:!0}),this._iceGatheringState="new",Object.defineProperty(this,"iceGatheringState",{get:function(){return L.debug("get iceGatheringState:"+this._iceGatheringState),this._iceGatheringState},configurable:!0}),this._signalingState="stable",Object.defineProperty(this,"signalingState",{get:function(){return L.debug("get signalingState:"+this._signalingState),this._signalingState},configurable:!0}),this._connectionState="new",F.connectionState&&Object.defineProperty(this,"connectionState",{get:function(){return L.debug("get connectionState:"+this._connectionState),this._connectionState},configurable:!0}),this._localDescription=null,Object.defineProperty(this,"localDescription",{get:function(){return L.debug("get localDescription:"+this._localDescription),this._localDescription},configurable:!0}),this._remoteDescription=null,Object.defineProperty(this,"remoteDescription",{get:function(){return L.debug("get remoteDescription:"+this._remoteDescription),this._remoteDescription},configurable:!0}),this.cleanUp=function(){var e,t;"complete"!==this._iceGatheringState&&(t={type:"icecandidate",candidate:null,target:this},this.onicecandidate&&this.onicecandidate(t),this._iceGatheringState="complete",e={type:"icegatheringstatechange",target:this},this.onicegatheringstatechange)&&this.onicegatheringstatechange(e),"disconnected"!=this._iceConnectionState&&(this._iceConnectionState="disconnected",t={type:"iceconnectionstatechange",target:this},this.oniceconnectionstatechange)&&this.oniceconnectionstatechange(t),this._localStreams=[],this._remoteStreams=[]},this.createOfferV0=function(e,t,n){r(b,n,e,t)},this.createOfferV1=function(){return n.apply(null,arguments)?this.createOfferV0.apply(this,arguments):r(w,arguments[0])},this.createAnswerV0=function(e,t,n){o(b,n,e,t)},this.createAnswerV1=function(){return n.apply(null,arguments)?this.createAnswerV0.apply(this,arguments):o(w,arguments[0])},this.setRemoteDescriptionV0=function(e,t,n){a(b,e,t,n)},this.setRemoteDescriptionV1=function(){return i.apply(null,arguments)?this.setRemoteDescriptionV0.apply(this,arguments):a(w,arguments[0])},this.setLocalDescriptionV0=function(e,t,n){s(b,e,t,n)},this.setLocalDescriptionV1=function(){return i.apply(null,arguments)?this.setLocalDescriptionV0.apply(this,arguments):s(w,arguments[0])},this.addIceCandidateV0=function(e,t,n){d(b,e,t,n)},this.addIceCandidateV1=function(){return i.apply(null,arguments)?this.addIceCandidateV0.apply(this,arugments):d(w,arguments[0])},this.createDTMFSender=function(e){var t;return"audio"!==e.kind?(L.error("DTMF only could be associated with audio track."),null):((t=new Pe).initPlanB(u.id,e),me[e.id]=t)},this.getStatsV0=function(e){return c(b,e)},this.getStatsV1=function(){return n.apply(null,arguments)?this.getStatsV0.apply(this,arguments):c(w)},this.getLocalStreams=function(){return g?(L.warn("getLocalStreams is not supported in the unified plan, use getSenders()"),[]):(L.debug("getLocalStreams():"+this._localStreams.length),this._localStreams)},this.getRemoteStreams=function(){return g?(L.warn("getRemoteStreams is not supported in the unified plan, use getReceivers()"),[]):(L.debug("getRemoteStreams():"+this._remoteStreams.length),this._remoteStreams)},this.addStream=function(e){this._localStreams.push(e),j.send({cmd:"addStream",sid:e.id},u.id)},this.removeStream=function(e){L.debug("RTCPeerConnection.removeStream(): "+e.id);var t=this._localStreams.indexOf(e);-1!=t?this._localStreams.splice(t,1):L.error("RTCPeerConnection.removeStream(): Failed to find stream: "+e.id),j.send({cmd:"removeStream",sid:e.id},u.id)},this.addTrackImplV1=function(e,t){var n,i;if(e&&t)return g?((n=new W(u)).initTrackOrKind(e),(i=(f[n.id]=n).sender).setTrack(e,t),j.send({cmd:"addTrack",transceiverId:n.id,tid:e.id,sid:t.id},u.id,function(e){void 0===e.error?v(e.transceivers):delete f[n.id]})):(i=h[e.id])?L.warn("RTCPeerConnection.addTrack: sender already exists."):((i=new J(u)).initPlanB(e,t),h[i.id]=i,j.send({cmd:"addTrack",transceiverId:"",tid:e.id,sid:t.id},u.id,function(e){void 0!==e.error&&delete h[i.id]})),i;throw new Error("both media track and stream need to be provided")},this.removeTrackImplV1=function(e){e?void 0===e._cap?L.error("sender object doesn't have the capability bits"):e.id?(e.removeTrack(),g||delete h[e.id]):L.error("RTCPeerConnection.removeTrack: not a valid sender object"):L.error("RTCPeerConnection.removeTrack: invalid sender.")},this.getSendersImplV1=function(){L.debug("RTCPeerConnection.getSendersImplV1");var e=[];if(g)for(var t in f){var n=f[t].sender;n&&e.push(n)}else for(var t in h)h[t]&&e.push(h[t]);return e},this.getTranceiversImplV1=function(){L.debug("RTCPeerConnection.getTranceiversImplV1");var e,t=[];for(e in f)L.debug("RTCPeerConnection.getTranceiversImplV1 id="+e),t.push(f[e]);return t},this.addTransceiverImplV1=function(e,t){var n=new W(u),i=(n.initTrackOrKind(e,t),f[n.id]=n,{cmd:"transceiverCmd",transceiverCmd:m.TRANSCEIVER_ADD_TRANSCEIVER,hint:"RTCRtpTransceiver.addTransceiver",transceiverId:n.id});if("audio"===e||"video"===e)i.trackOrKind=e;else{if(!(e instanceof B))return L.error("addTranceiver: Unknown type"),null;L.debug("addTranceiver with track is not Implemented"),i.trackOrKind=e.id}e={};if(t.direction&&(e.direction=t.direction),t.sendEncodings&&(e.sendEncodings=t.sendEncodings),t.streams){for(var r in streamIds=[],t.streams)streamIds.push(r.id);e.streams=streamIds}return i.init=e,j.send(i,u.id,function(e){void 0===e.error&&v(e.transceivers)}),n},this.createDataChannelImplV1=function(e,t){var n,i;return L.debug("RTCPeerConnection.createDataChannel: "+e+" option: "+JSON.stringify(this.options)),e?(n=++ve,(i=new Ve(u.id,n))._createChannel(e,t),u._dataChannelMap[n]=i):(L.error("RTCPeerConnection.createDataChannel: missing label"),null)},this._untrackDataChannel=function(e,t){void 0!==t&&u._dataChannelMap[t]&&(L.debug("Untrack datachannel: "+e+" shimId: "+t),delete u._dataChannelMap[t]),e!=R&&u._dataChannelIdToShimIdMap[e]&&(L.debug("Remove mapped datachannel: "+e+" shimId:"+t),delete u._dataChannelIdToShimIdMap[e])},function(e,t){for(var n in e){var i,r=e[n],o=f[r.id];(o||(o=r.id,L.debug("_updateTransceivers: addTransceiver id="+o),(i=new W(u)).initId(o),f[o]=i)).update(r)}if(t)for(var n in t){var a=t[n];L.debug("_updateTransceivers: removeTransceiver id="+a),delete f[a]}}),p=(this.close=function(){p=null,j.send({cmd:"close"},u.id,function(e){delete O[u.id]},!0)},null);this.getReceivers=function(){if(g){var e=[];if(f)for(var t in f){var n=f[t].receiver;n&&e.push(n)}}else{p||(p={},j.send({cmd:"getReceivers"},u.id,function(e){},!0));e=[];for(t in p)p[t]&&e.push(p[t])}return e},this.addEventListener=function(e,t){L.debug("RTCPeerConnection.addEventListener(): "+e),"function"!=typeof t?L.error("RTCPeerConnection.addEventListener(): The listener handler is invalid."):"string"!=typeof e?L.error("RTCPeerConnection.addEventListener(): The event name is invalid."):(void 0===l[e]&&(l[event]={listeners:[]}),l[e].listeners.push(t))},this.removeEventListener=function(e,t){L.debug("RTCPeerConnection.removeEventListener(): "+e),void 0===l[e]?L.error("RTCPeerConnection.removeEventListener(): Event does not exist = "+e):l[e].listeners=l[e].listeners.filter(function(e){return e.toString()!==t.toString()})},this._onReceiveDataChannelEvent=function(e){var t;void 0===e.shimId?L.error("RTCPeerConnection._onReceiveDataChannelEvent: missing shimId"):((t=e.shimId)==R&&e.channel&&void 0!==e.channel.id&&(L.debug("Try to find mapped "+e.channel.id+" in:"+JSON.stringify(u._dataChannelIdToShimIdMap)),void 0!==u._dataChannelIdToShimIdMap[e.channel.id])&&(t=u._dataChannelIdToShimIdMap[e.channel.id],L.debug("RTCPeerConnection._onReceiveDataChannelEvent: use mapped shimId: "+t)),t!=R&&u._dataChannelMap[t]?u._dataChannelMap[t]._onReceiveEvent(e):L.error("RTCPeerConnection._onReceiveDataChannelEvent: dataChannle "+t+" not existed"))},this._onReceiveEvent=function(e){if(void 0===e||void 0===e.evt)L.error("_onReceiveEvent(): evt property is invalid.");else{var t={type:e.evt,target:this};switch(e.details&&this._updateVars(e.details),e.evt){case"connectionstatechange":this.onconnectionstatechange&&this.onconnectionstatechange(t);break;case"negotiationneeded":this.onnegotiationneeded&&this.onnegotiationneeded(t);break;case"icecandidate":t.candidate=e.candidate,this.onicecandidate&&this.onicecandidate(t);break;case"icegatheringstatechange":this.onicegatheringstatechange&&this.onicegatheringstatechange(t);break;case"iceconnectionstatechange":this.oniceconnectionstatechange&&this.oniceconnectionstatechange(t);break;case"signalingstatechange":this.onsignalingstatechange&&this.onsignalingstatechange(t);break;case"ondatachannel":e.channel?this.ondatachannel&&(r=++ve,o=new Ve(u.id,r),void 0!==e.channel.id&&(L.debug("ondatachannel shimId: "+e.channel.id+" mapped to "+r),u._dataChannelIdToShimIdMap[e.channel.id]=r),(u._dataChannelMap[r]=o)._updateChannel(e.channel),t.channel=o,L.debug("ondatachannel shimId: "+r+" channel:"+JSON.stringify(e.channel)),this.ondatachannel(t)):L.warn("ondatachannel from legacy client");break;case"addStream":void 0===e.stream?L.debug("_onReceiveEvent(): stream property is invalid."):(t.stream=new U,t.stream._create(e.stream,e.peer),this._remoteStreams.push(t.stream),this.onaddstream&&this.onaddstream(t));break;case"removeStream":void 0===e.stream?L.debug("_onReceiveEvent(): stream property is invalid."):(t.stream=pe[e.stream],void 0===t.stream?L.debug("_onReceiveEvent(): no stream found."):(-1!=(o=this._remoteStreams.indexOf(t.stream))&&(e.trackId&&t.stream.removeTrackById(e.trackId),this._remoteStreams.splice(o,1)),this.onremovestream&&this.onremovestream(t)));break;case"ontrack":void 0===e.transceiver||void 0===e.stream?L.error("_onReceiveEvent ontrack property is invalid"):(n=e.transceiver.id,(i=f[n])||(L.debug("ontrack: add transceiver id="+n),(i=new W(u)).initId(n),f[n]=i),i.update(e.transceiver),(r=new U)._create(e.stream,e.peer),this._remoteStreams.push(r),t.transceiver=i,t.receiver=i.receiver,t.streams=[r],t.track=r.track[0],this.ontrack&&this.ontrack(t));break;case"tonechange":var n,i,r,o=null;(o=g?(n=e.transceiverId,(r=(i=f?f[n]:null)?i.sender:null)?r.dtmf:null):me[e.tid])?o.ontonechange&&o.ontonechange(e):L.debug("_onReceiveEvent(): tonechange, dtmfId is invalid  or not found.");break;case"onreceivers":(n=e.receivers)&&n.forEach(function(e){var t,n;e.id&&(t=e.id,"-"===e.op?delete p[t]:("+"===e.op&&delete p[t],(n=p[t])||(n=new z,p[t]=n),n.update(e)))});break;case"onsenders":(i=e.senders)&&i.forEach(function(e){var t=h[e.id];t&&t.update(e)});break;case"ontransceivers":v(e.transceivers)}}},this._updateVars=function(e){e.iceConnectionState&&(this._iceConnectionState=e.iceConnectionState),e.iceGatheringState&&(this._iceGatheringState=e.iceGatheringState),e.signalingState&&(this._signalingState=e.signalingState),e.connectionState&&(this._connectionState=e.connectionState),e.localDescription&&(this._localDescription=e.localDescription),e.remoteDescription&&(this._remoteDescription=e.remoteDescription)},this.setConfigurationImpl=function(e){j.send({cmd:"pcCmd",pcCmdId:ie,hint:"peerConnection.setConfiguration",config:e},u.id,function(e){null==e.error&&e.configuration})},this.restartIceImpl=function(){j.send({cmd:"pcCmd",pcCmdId:re,hint:"peerConnection.restartIce"},u.id)}}function Oe(){this.reports=[],this.result=function(){return this.reports},this._create=function(e){var n=this;e.forEach(function(e){var t=new Fe;t._create(e),n.reports.push(t)})}}function Pe(){this.canInsertDTMF=!0;var r=void 0,o=null,t="",a=null,s=null;this.initPlanB=function(e,t){r=e,o=t},this.initUnifiedPlan=function(e,t,n,i){t&&n?(r=e,o=i,a=t,s=n):L.error("RTCDTMFSender.initUnifiedPlan: invalid transceiver or sender")},Object.defineProperty(this,"toneBuffer",{get:function(){return L.debug("get DTMF tone buffer"+t),t},set:function(e){void 0===e&&L.warn("Set RTCDTMFSender.toneBuffer to undefined."),L.debug("set DTMF tone buffer"+e),t=e},configurable:!0}),this.insertDTMF=function(e,t,n){L.debug("insertDTMF audio tones: "+e),void 0===t&&(L.debug("Duration is not set, use default"),t=d.DURATION),void 0===n&&(L.debug("Gap is not set, use default"),n=d.INTERTONEGAP),j.send({cmd:"insertDTMF",transceiverId:a?a.id:"",senderId:s?s.id:"",tid:o.id,tones:e,duration:t,gap:n},r)}}function W(e){function t(e){L.info(e+"("+i+")")}var i,r=this,o=e,n="inactive",a="inactive",s=null,d=!1,c=null,u=null;this.initId=function(e){i=e,(c=new J(o)).initUnifiedPlan(r,null),u=new z},this.initTrackOrKind=function(e,t){var e=e instanceof B?e.kind:e,n="";"audio"===e?n="A":"video"===e&&(n="V"),i="Transceiver#"+n+ge.toString(),ge++,(c=new J(o)).initUnifiedPlan(r,t),u=new z,t&&t.direction&&(a=t.direction),t&&t.stream&&L.debug("RTCRtpTransceiver.init with stream is not implemented.")},this.update=function(e){e.currentDirection&&(n=e.currentDirection),e.direction&&(a=e.direction),e.mid&&(s=e.mid),void 0!==e.stopped&&(d=e.stopped),e.sender&&c&&c.update(e.sender),e.receiver&&u&&u.update(e.receiver)},Object.defineProperty(this,"id",{get:function(){return i},configurable:!0}),Object.defineProperty(this,"mid",{get:function(){return t("RTCRtpTransceiver.mid="+s),s}}),Object.defineProperty(this,"currentDirection",{get:function(){return t("RTCRtpTransceiver.currentDirection"),n},configurable:!0}),Object.defineProperty(this,"direction",{get:function(){return t("RTCRtpTransceiver.direction="+a),a},set:function(e){t("RTCRtpTransceiver.direction setter"),a=e;e={cmd:"transceiverCmd",transceiverCmd:m.TRANSCEIVER_SET_DIRECTION,hint:"RTCRtpTransceiver.direction",transceiverId:i,value:e};j.send(e,o.id)},configurable:!0}),Object.defineProperty(this,"receiver",{get:function(){return t("RTCRtpTransceiver.receiver"),u},configurable:!0}),Object.defineProperty(this,"sender",{get:function(){return t("RTCRtpTransceiver.sender"),c},configurable:!0}),Object.defineProperty(this,"stopped",{get:function(){return t("RTCRtpTransceiver stopped"),d},set:function(e){t("RTCRtpTransceiver stopped setter"),d=e},configurable:!0}),this.setCodecPreferences=function(e){t("RTCRtpTransceiver setCodecPreferences"),j.send({cmd:"transceiverCmd",transceiverCmd:m.TRANSCEIVER_SET_CODECPREFERENCE,hint:"RTCRtpTransceiver.setCodecPreference",transceiverId:i,codecs:e},o.id,function(e){void 0!==e.error&&t("RTCRtpTransceiver.setCodecPreferences failed.")})},this.stop=function(){t("RTCRtpTransceiver stop"),j.send({cmd:"transceiverCmd",transceiverCmd:m.TRANSCEIVER_STOP,hint:"RTCRtpTransceiver.stop",transceiverId:i},o.id,function(e){void 0!==e.error&&t("RTCRtpTransceiver.stop failed.")})}}function De(t,e){var r=this,n=e;this._srcObject=t.srcObject,this._id=le++,this._rawAudio=t,this.sendAudioElement=function(){var e={cmd:"newAudioElement",audioId:this._id};t.setAttribute("data-vdi_audioid",this._id),j.send(e,-1)},Object.defineProperty(t,"srcObject",{get:function(){return r._srcObject},set:function(e){void 0===e&&L.warn("Set audio.srcObject to undefined."),L.debug("Setting srcObject for audio element: "+r._id),L.debug(e),r._srcObject=void 0===e?null:e,r.sendSrcObject()},configurable:!0}),this.sendSrcObject=function(){var e=this._srcObject?this._srcObject.id:"null",t=this._srcObject?this._srcObject.peer:p;j.send({cmd:"updateSrcObject",mediaStreamId:e,audioId:this._id,type:"audio",streamPeer:t},-1)},Object.defineProperty(t,"sinkId",{get:function(){return r._sinkId},set:function(e){},configurable:!0}),t.setSinkId=function(i){return r._sinkId=i,L.debug("Audio.setSinkId for ID = "+r._id+" Value = "+i),0===(void 0!==F.setSinkId?F.setSinkId:0)?new Promise(function(e,t){j.send({cmd:"setSinkId",deviceId:i,audioId:r._id,context:"audioElement"},-1),e()}):new Promise(function(t,n){j.send({cmd:"setSinkId",deviceId:i,audioId:r._id,context:"audioElement"},-1,function(e){void 0===e.error?t():n(e.error)})})},t.play=function(){return Promise.resolve()},this.init=function(){se(n),this.sendAudioElement(),this._srcObject&&(L.debug("srcObject already set for audio: "+this._id),this.sendSrcObject()),L.debug(t)},this.init()}function Me(r,e){var t=this,n=e,o=_e(e),i=!1,s=(this._srcObject=r.srcObject,this._videoWidth=r.videoWidth,this._videoHeight=r.videoHeight,this._cloaked=!1,this._id=ue++,this._clientRect=null,this._bodyClientRect=null,this._colorKey=null,this._rawVideo=r,this._removeTimer=null,this._removed=!1,this._objectFit=r.style.objectFit,this._transform,this._dpiServerTranslate=!!F.multiwindow&&0!=(F.multiwindow&ee),this._styleObserver=new MutationObserver(function(e){e.forEach(function(e){t.handleStyleChanges(e,r)})}),function(e){e=Number(e).toString(16);return e=e.length<2?"0"+e:e});this.sendVideoElement=function(){this._colorKey=function(){for(var e="";""==e;){var t,n=Math.floor(16*Math.random())+1,i=Math.floor(16*Math.random())+1,r=Math.floor(16*Math.random())+1,e="#"+s(n)+s(i)+s(r),o=Object.keys(D);for(t in o){var a=D[o[t]];if(a&&a._colorKey==e){e="";break}}}return e}();var e,t={cmd:"newVideoElement",videoId:this._id,colorKey:this._colorKey,requestDpiTranslate:this._dpiServerTranslate?1:0,body:{},zoomFactor:ae(this._rawVideo)};for(e in o&&(t.frame=o),this._clientRect)t[e]=this._clientRect[e];for(e in this._bodyClientRect)t.body[e]=this._bodyClientRect[e];""!==this._objectFit&&(t.objectFit=this._objectFit),r.setAttribute("data-vdi_videoid",this._id),r.setAttribute("data-vmw_videoid",this._id),j.send(t,-1)},this.updateVideoElement=function(){var e=this.getBoundingClientRect(r),t=(this._cloaked||(e.right=e.left,e.bottom=e.top),this.getBoundingClientRect(document.body));if(e.left==this._clientRect.left&&e.right==this._clientRect.right&&e.top==this._clientRect.top&&e.bottom==this._clientRect.bottom&&t.left==this._bodyClientRect.left&&t.right==this._bodyClientRect.right&&t.top==this._bodyClientRect.top&&t.bottom==this._bodyClientRect.bottom)return!1;this._clientRect=e,this._bodyClientRect=t;var n,i={cmd:"updateVideoElement",videoId:this._id,requestDpiTranslate:this._dpiServerTranslate?1:0,transform:r.style.transform,body:{}};for(n in o&&(i.frame=o),e)i[n]=e[n];for(n in t)i.body[n]=t[n];""!==this._objectFit&&(i.objectFit=this._objectFit),i.zoomFactor=ae(this._rawVideo),L.debug(i),j.send(i,-1)},this.removeVideoElement=function(){var e={cmd:"removeVideoElement",videoId:t._id};o&&(e.frame=o),L.debug("RemoveVideoElement: "+t._id),j.send(e,-1),delete D[t._id],t._removeTimer=null,t._removed=!0},this.disposeVideo=function(){i=!0},this.cloak=function(){!0!==this._cloaked&&(this._colorKey?(r.style.backgroundColor=this._colorKey,this._styleObserver.observe(r,{attributes:!0,attributeFilter:["style"]}),this._cloaked=!0,this._poll=setInterval(function(){t.updateVideoElement()},500)):L.error("cloak(): Invalid color key."))},this.uncloak=function(){if(!1===this._cloaked)return!1;r.style.backgroundColor="",this._styleObserver.disconnect(),clearInterval(this._poll),this._cloaked=!1,this.updateVideoElement()},this.getBoundingClientRect=function(e){var e=e.getBoundingClientRect(),t=1;return this._dpiServerTranslate||"number"!=typeof window.devicePixelRatio||(t=window.devicePixelRatio),{left:e.left*t,top:e.top*t,bottom:e.bottom*t,right:e.right*t,width:e.width*t,height:e.height*t}},this.onReceiveEvent=function(e){var t;void 0===e||void 0===e.evt?L.error("onReceiveEvent(): evt property is invalid."):this._rawVideo?"loadedmetadata"===e.evt&&(""==this._objectFit&&""!==(t=window.getComputedStyle(this._rawVideo).objectFit)&&(L.debug("onReceiveEvent(): updating objectfit to "+t),this._objectFit=t,this.sendObjectFit()),void 0!==e.videoWidth&&(this._videoWidth=e.videoWidth),void 0!==e.videoHeight&&(this._videoHeight=e.videoHeight),t=new Event(e.evt),this._rawVideo.dispatchEvent(t)):L.error("onReceiveEvent(): Invalid rawVideo object.")},this.sendSrcObject=function(){var e=this._srcObject?this._srcObject.id:"null",t=this._srcObject?this._srcObject.peer:p;j.send({cmd:"updateSrcObject",mediaStreamId:e,videoId:this._id,type:"video",streamPeer:t},-1),this._srcObject?this.cloak():this.uncloak()},this.sendObjectFit=function(){j.send({cmd:"updateObjectFit",videoId:this._id,objectFit:this._objectFit},-1)},Object.defineProperty(r,"srcObject",{get:function(){return t._srcObject},set:function(e){t._removed?L.warn("Setting srcObject of zombie video element: "+t._id):(t._removeTimer&&(clearTimeout(t._removeTimer),t._removeTimer=null),void 0===e&&L.warn("Set video.srcObject to undefined."),L.debug("Setting srcObject for video element: "+t._id),L.debug(e),t._srcObject=e,t.sendSrcObject(),t._srcObject||(i?t.removeVideoElement():(L.debug("srcObject is null, setup removeTimer for "+t._id),t._removeTimer=setTimeout(t.removeVideoElement,5e3))))},configurable:!0}),Object.defineProperty(r,"videoWidth",{get:function(){return t._videoWidth},configurable:!0}),Object.defineProperty(r,"videoHeight",{get:function(){return t._videoHeight},configurable:!0}),Object.defineProperty(r.style,"objectFit",{get:function(){return console.log("keyword defineProperty get objectFit "+t._objectFit),t._objectFit},set:function(e){console.log("keyword defineProperty set objectFit "+e),t._objectFit=e,t.sendObjectFit()},configurable:!0}),Me.prototype.handleStyleChanges=function(e,t){"attributes"===e.type&&"style"===e.attributeName&&(L.debug("video style change in id = "+this._id+", object-fit = "+t.style.objectFit),L.debug(t),this._objectFit!==t.style.objectFit&&(L.debug("change in object-fit. Old = "+this._objectFit+", new = "+t.style.objectFit),this._objectFit=t.style.objectFit,this.sendObjectFit()),this._transform!=t.style.transform)&&(this._transform=t.style.transform,this.updateVideoElement())},this.init=function(){this._clientRect=this.getBoundingClientRect(r),this._bodyClientRect=this.getBoundingClientRect(document.body),se(n),this.sendVideoElement(),this._srcObject&&(L.debug("srcObject already set for video: "+this._id),this.sendSrcObject()),L.debug(r)},this.init()}function H(e){"function"==typeof Ce?(L.info("onVMEvent(): Fire event = "+JSON.stringify(e)),Ce(e)):L.warn("onVMEvent(): setVMEventCallback is not called yet.")}function je(){var a=this,o=null,s=y,w={},d=0,r=null,c=!1,u=void 0,t=!0,n=(Object.defineProperty(this,"state",{get:function(){return s},configurable:!0}),Object.defineProperty(this,"shortPollingIntervalMs",{get:function(){return 500}}),Object.defineProperty(this,"shortPollingTimeout",{get:function(){return 1e4}}),Object.defineProperty(this,"longPollingIntervalMs",{get:function(){return 5e3}}),Object.defineProperty(this,"isHorizonRegistryPresent",{get:function(){return c},set:function(e){c=e},configurable:!0}),Object.defineProperty(this,"sendVdiClientEventsOnError",{get:function(){return t},set:function(e){t=e},configurable:!0}),this.sendLogToWebSocket=function(e,t){return"string"==typeof e&&0!==e.length&&s===_&&(p({cmd:"shimLogToWebSocket",message:e,level:t},-1),!0)},this.isSocketConnected=function(){return s===_},this.isSocketOpen=function(){return!!o&&o.readyState===WebSocket.OPEN},this.init=function(){L.info("RequestManager.init(): Initializing Request Manager."),this.startPolling(500,1e4,this.sendEvents)},this.startPolling=function(e,t,n){var i;L.info("RequestManager.startPolling(): stop the old polling timer(if there is any) and start a new one"),a.stopPolling(),s!==y?L.info("RequestManager.startPolling(): Socket state not disconnected, exiting"):(i=t,L.info("intervalMs "+e+" timeout "+t),r=setInterval(function(){L.info("RequestManager: connectToHorizon"),a.connectToHorizon(),void 0!==i&&(i-=e,c||a.queryHorizonRegistry()),void 0!==i&&i<=0&&(a.stopPolling(),n)&&!0===c&&n()},e))},this.stopPolling=function(){L.info("RequestManager.stopPolling()"),null!==r&&(clearInterval(r),r=null,L.info("Stopped polling websocket"))},this.sendEvents=function(){var e={},e=(e.shimVersion=E,{event:"vdiClientConnected",version:e});try{H(e)}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}try{H({event:"vdiClientDisconnected",reason:"endpointUnsupported"})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}j.startPolling(5e3)},this.queryHorizonRegistry=function(){window.getHorizonClientID().then(function(e){L.info("queryHorizonRegistry(): Horizon Client ID "+e),e&&j&&(j.isHorizonRegistryPresent=!0,L.info("queryHorizonRegistry(): isHorizonRegistryPresent true"))},function(){return L.error("queryHorizonRegistry(): Failed to query Horizon Client ID"),!1})},this.connectToHorizon=function(){s===y&&window.getHorizonWSSPort().then(function(e){"string"!=typeof e||0===e.length?(L.error("connectToHorizon(): Port is not valid"),b("Horizon HTML5 Server port not valid")):(L.info("connectToHorizon(): port is "+e),s=T,(o=new WebSocket("wss://view-localhost:"+e+"/")).binaryType="arraybuffer",o.onopen=h,o.onclose=f,o.onerror=g,o.onmessage=v)},function(){L.error("connectToHorizon(): Failed to receive port number"),b("Failed to receive port number")})},function(){return new Promise(function(e,t){x===k.ELECTRON?(L.error("getWindowHandleByTitle: function called on unsupported browser"),t("function called on unsupported browser")):u=setInterval(function(){i(e,t,u)},500)})}),i=function(t,e,n){var i="function"==typeof window.getHorizonWindowTitle?window.getHorizonWindowTitle():document.title;void 0===i?L.error("getWindowHandleByTitle:: cannot find the window with undefined title"):a.send({cmd:"getHWND",title:i},-1,function(e){void 0===e.error&&void 0!==e.hwnd&&e.hwnd!=I?(L.debug("getWindowHandleByTitle: received window handle"+e.hwnd),clearInterval(n),u=void 0,t(e.hwnd)):L.error("getWindowHandleByTitle:: cannot find the window that matches the title"+e.error)})},l=async function(e,t){e===I&&(L.info("Start polling window from server"),e=await n()),L.info("window handle ="+e),M.hwnd=e,window.getWindowReference=function(){return Promise.resolve(M.hwnd)},H(t)},h=function(){L.info("onWebSocketOpen(): Websocket opened"),j.stopPolling();var e="function"==typeof window.getHorizonWindowTitle?window.getHorizonWindowTitle():document.title;p({cmd:"createInstance",hwnd:M.hwnd,shimVersion:E,shimMinAgentVersion:1,customClipRect:1,allowFeatureChange:1,supportObjectFit:1,supportE911:0,streamBundleWithPeer:1,sdkConfig:Re,appName:de,appType:G,title:e,browser:x},-1,function(t){if(s!=y){t.uid&&L.info("onWebSocketOpen(): ["+t.uid+"] createInstanceDone"),"true"===t.traceEnabled&&L.updateLogLevel(S.DEBUG,S.DEBUG);var e=["agentOsVersion","clientOsVersion","haVersion","hcVersion","shimVersion","webrtcClientVer","webRTCRedirAgentVersion","webRTCRedirClientVersion"],n={};L.logToConsole=!!t.logToConsole,L.debug("VDI Shim: Log to console = "+L.logToConsole),L.debug("VDI createInstance = "+JSON.stringify(t));for(var i=0;i<e.length;i++)t[e[i]]?(n[e[i]]=t[e[i]],L.debug("onWebSocketOpen(): "+e[i]+" = "+t[e[i]])):L.warn("onWebSocketOpen(): Could not find property "+e[i]);t.clientOsVersion?t.clientOsVersion.startsWith("Win")?n.clientPlatform="Windows":t.clientOsVersion.startsWith("mac")?n.clientPlatform="Mac":t.clientOsVersion.startsWith("Lin")?n.clientPlatform="Linux":(L.error("Unknown client os: "+t.clientOsVersion),n.clientPlatform="Unknown"):(L.error("Missing client os information."),n.clientPlatform="Unknown"),L.debug("onWebSocketOpen(): clientPlatform = "+n.clientPlatform);var r={event:"vdiClientConnected",version:n};if(t.hcId&&(r.endpointId=t.hcId,L.debug("onWebSocketOpen(): ClientId = "+t.hcId)),"true"===t.allow&&"Mac"!==n.clientPlatform&&"Unknown"!==n.clientPlatform){s=_,F=t["api-capabilities"]||{},N=t.rtpCapabilities||{},Te=t.callConfigs||[],Array.isArray(t.featuresSupported)?(A=t.featuresSupported,L.info("onWebSocketOpen(): Supported features = "+JSON.stringify(A))):L.warn("onWebSocketOpen(): featureSupported property not valid");try{M.hwnd!==I?H(r):oe(function(){var e=t.hwnd||I;l(e,r)})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}a.invokeDeviceChange()}else{try{H(r)}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}for(var o="",e=["errorCode","errorMsg"],i=0;i<e.length;i++)void 0!==t[e[i]]?(L.debug("onWebSocketOpen(): "+e[i]+": "+t[e[i]]),o+=e[i]+" = "+t[e[i]],i!=e.length-1&&(o+="; ")):L.warn("onWebSocketOpen(): Could not find property "+e[i]);try{H({event:"vdiClientDisconnected",reason:"endpointUnsupported",msg:o})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}b("Horizon HTML5 Server connection not allowed")}}})},f=function(){L.info("onWebSocketClose(): Websocket closed"),b("Horizon HTML5 Server connection closed")},g=function(e){L.debug("onWebSocketError(): Websocket error");var t=y;j&&(t=j.state),b("Horizon HTML5 Server connection error: "+e.message),t==T&&(L.debug("Error in connecting socket"),j)&&j.sendVdiClientEventsOnError&&(L.error("Error in connecting to websocket"),j.stopPolling(),j.sendEvents(),j.sendVdiClientEventsOnError=!1)},v=function(e){if("object"==typeof e.data){var t=new Uint8Array(e.data),n=new DataView(e.data),i=n.getInt32(0),r=n.getInt32(36);if(1396920910!=i)L.warn("Unsupport binary data: "+i.toString(16));else{F.getScreens&&F.getScreens&$&&L.warn("New client should return string for getScreen.");for(var o=40,a=[];o+12<t.length;){var s=n.getInt32(o),d=(v=n.getInt32(o+4))*(p=n.getInt32(o+8))*4;if(v<0||p<0||o+12+d>t.length){L.warn("Invalid screen "+v+"X"+p+" offs:"+o+" size:"+d+" len:"+t.length);break}o+=12;var c=new Uint8ClampedArray(t.buffer,o,d),u=new ImageData(c,v,p),l=new Ae(s,"Screen "+s,u);o+=d,a.push(l),L.debug("Screen:"+s+": "+v+"X"+p+" offs:"+o+" size:"+d+" len:"+t.length)}var h=w[r];delete w[r],void 0!==h&&"function"==typeof h.responseCb&&h.responseCb(a)}}else if("string"!=typeof e.data)L.error("onWebSocketMessage(): invalid data type: "+typeof e.data);else{var i=e.data,f=JSON.parse(i);if(L.logToConsole&&console.log("onWebSocketMessage(): "+i),"number"==typeof f.id&&0<f.id){h=w[f.id];if(delete w[f.id],h&&"function"==typeof h.responseCb)if("getScreens"!==f.evt||f.screens)h.responseCb(f);else if(f.error)h.responseCb(f);else{var a=[],g="number"==typeof f.screens?f.screens:1;for(s=1;s<=g;s++){for(var v,p,m=4*(v=100)*(p=100),c=new Uint8ClampedArray(m),b=0;b<m;b+=4)c[b]=81,c[b+1]=144,c[b+2]=201,c[b+3]=255;u=new ImageData(c,v,p),l=new Ae(s,"Screen "+s,u);a.push(l)}h.responseCb(a)}}else if(void 0===f.evt)L.error("onWebSocketMessage(): evt property is invalid");else switch(f.evt){case"version":void 0===f.ver?L.error("onWebSocketMessage(): ver property is invalid."):L.info("onWebSocketMessage(): version = "+f.ver);break;case"negotiationneeded":case"icecandidate":case"icegatheringstatechange":case"iceconnectionstatechange":case"signalingstatechange":case"connectionstatechange":case"addStream":case"ontrack":case"tonechange":case"onreceivers":case"onsenders":case"ontransceivers":case"ondatachannel":case"removeStream":void 0!==f.peer&&void 0!==O[f.peer]?O[f.peer]._onReceiveEvent(f):L.error("onWebSocketMessage(): peerConnection is invalid.");break;case"loadedmetadata":void 0!==f.videoId&&void 0!==D[f.videoId]?D[f.videoId].onReceiveEvent(f):L.error("onReceiveCommand(): Invalid context.");break;case"devicechange":var C=new Event("devicechange");navigator.mediaDevices.dispatchEvent(C);break;case"vdiScreenTopologyChanged":try{H({event:"vdiScreenTopologyChanged"})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}break;case"featuresSupportedChanged":for(var b in f.features){var S=f.features[b],y=A.indexOf(S.feature);"+"==S.op&&y<0?A.push(S.feature):"-"==S.op&&0<=y&&A.splice(y,1)}H({event:"vdiFeatureSupportedChanged",reason:f.reason||"endpoint changes supported features"});break;case"vdiE911InfoChanged":f.event="vdiE911InfoChanged",H(f);break;case"powerevent":C=f.eventData;R(C);break;case"dconopen":case"dconbufferedamountlow":case"dconclosing":case"dconerror":case"dconmessage":case"dconclose":void 0!==f.peer&&void 0!==O[f.peer]?O[f.peer]._onReceiveDataChannelEvent(f):L.error("Datachannel event: peerConnection is invalid.")}}},p=function(e,t,n,i){var r;t=null==t?-1:t,void 0===e?(r=new DOMException("Invalid command, operation cancelled","OperationError"),n?n({error:r}):L.error(r)):-1===t||O[t]?(e.feature=3,e.commandId=C[e.cmd],e.id=++d,e.peer=t,e.browser=x,e.player=1,"createInstance"===e.cmd&&(e.uid=2147483647&Date.now(),L.info("sendHelper(): ["+e.uid+"] createInstance")),"createInstance"!==e.cmd&&s!==_||(n&&(i?n():w[e.id]={id:e.id,webCommandId:e.commandId,responseCb:n}),o.send(JSON.stringify(e)))):(r=new DOMException("peer Id is not found, operation cancelled","OperationError"),n?n({error:r}):L.error(r))},m=(this.send=function(e,t,n,i){"getStats"!=e.cmd&&L.debug(JSON.stringify(e)),p(e,t,n,i)},this.invokeDeviceChange=function(){oe(function(){L.info("invokeDeviceChange(): Fire devicechange event");var e=new Event("devicechange");navigator.mediaDevices.dispatchEvent(e)})},this.sendBinary=function(e){s===_?o.send(e):L.warn("sendBinary(): WSS is not connected.")},function(){var e=Math.random()*Number.MAX_SAFE_INTEGER,e=Math.floor(e),e="v=0\no=- "+String(e)+" 2 IP4 127.0.0.1\n";return(e+="s=-\n")+"t= 0 0\n"+"a=msid-semantic: WMS"}),R=function(e){if(e==Y)try{L.info("onPowerEvent(): received suspend"),H({event:"vdiRequestEndCalls",reason:"vdiClientPowerEventSuspend"})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}else if(e==Z){L.info("onPowerEvent(): received resume");try{H({event:"vdiRequestEndCalls",reason:"vdiClientPowerEventResume"})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}}else L.error("powerevent: Invalid param.")},b=function(i,e){L.info("cleanup: Clean up all script resources");var t=s;if(s=e?T:y,Object.keys(w).forEach(function(e){var t,n=new DOMException(i,"OperationError");w[e].responseCb?w[e].webCommandId===C.createOffer||w[e].webCommandId===C.createAnswer?(t={desc:{sdp:m()}},L.debug("Resolving createoffer/createAnswer with desc "+t.desc),w[e].responseCb(t)):w[e].responseCb({error:n}):L.error(n)}),w={},o&&o.readyState===WebSocket.OPEN&&s==y&&o.close(),o=null,Object.keys(O).forEach(function(e){O[e].cleanUp()}),O={},Object.keys(P).forEach(function(e){e=P[e];e.onended&&e.onended()}),P={},pe={},A=[],V=[],we={},N={},Te=[],t===_){try{H({event:"vdiClientDisconnected",reason:"endpointDisconnected"})}catch(e){L.warn("Catch exception in onVMEvent()"+JSON.stringify(e))}a.invokeDeviceChange()}F={}}}function Ae(e,t,n,i){var r=this;this.id=e,this.name=t,this.image=n,this.icon=void 0,this.bounds=i||{x:0,y:0,width:0,height:0},this.getId=function(){return L.debug("getId "+r.id),r.id},this.getDeviceId=function(){return L.debug("getDeviceId "+r.id),We+"-"+r.id},this.getType=function(){return Le.Monitor},this.getPreview=function(e,t,n){return L.debug("ScreensAsync getPreview "),new Promise(function(e,t){t()})},this.getPreviewAsync=function(e,t,n){return L.debug("ScreensAsync getPreviewAsync"),n?new Promise(function(e,t){var n=document.createElement("canvas");n.getContext("2d").putImageData(r.image,0,0),e({data:n.toDataURL().replace("data:image/png;base64,","")})}):new Promise(function(e,t){e(r.image)})},this.getDescription=function(){return L.debug("ScreensAsync getDescription "),r.name},this.getIcon=function(e,t){return L.debug("ScreensAsync getIcon"),new Promise(function(e,t){e(r.image)})},this.getAppName=function(){return L.warn("getAppName: not support."),null},this.getBounds=function(){return(r.bounds.width<=0||r.bounds.height<=0)&&L.warn("getBounds: invalid bounds."),r.bounds}}function Ve(e,t){var s=this,d=(this.id=R,this.binaryType="arraybuffer",this.bufferedAmount=0,this.maxPacketLifeTime=0,this.maxRetransmits=0,this.negotiated=!1,this.ordered=!0,this.protocol="",this.readyState=!1,this.reliable=!0,this.label="",t),c=e,n=0;Object.defineProperty(this,"bufferedAmountLowThreshold",{get:function(){return n},set:function(e){void 0===e&&L.warn("RTCDataChannel bufferedAmountLowThreshold value undefined."),s.id!=R&&j.send({cmd:"dataChannelCmd",hint:"setBufferAmountLowThreshold",dataChannelCmd:h.SET_BUFFER_AMOUNT_LOW_THRESHOLD,dataChannelId:s.id,shimId:d,label:s.label,threshold:e},c),n=e},configurable:!0}),this._createChannel=function(e,t){s.id==R?(s.label=e,j.send({cmd:"dataChannelCmd",hint:"create",label:e,shimId:d,options:t,dataChannelCmd:h.CREATE},c)):L.warn("RTCDataChannel.create channel "+s.id+" already existed")},this._updateChannel=function(e){s.id=e.id,s.binaryType=e.binaryType,s.bufferedAmount=e.bufferedAmount,s.maxPacketLifeTime=e.maxPacketLifeTime,s.maxRetransmits=e.maxRetransmits,s.negotiated=e.negotiated,s.ordered=e.ordered,s.protocol=e.protocol,s.readyState=e.readyState,s.reliable=e.reliable,s.label=e.label},this.send=function(e){if(s.id!=R)if(e instanceof Blob){e.arrayBuffer();e.arrayBuffer().then(function(e){for(var t=new Uint8Array(e),n=t.byteLength,i="",r=0;r<n;r++)i+=String.fromCharCode(t[r]);j.send({cmd:"dataChannelCmd",label:s.label,dataChannelId:s.id,shimId:d,dataChannelCmd:h.SEND,hint:"send",data:window.btoa(i),dataType:"binary",dataLen:n},c)})}else{var t=null,n=0,i="binary";if("string"==typeof e||e instanceof String)t=window.btoa(e),i="string",n=e.length;else{for(var r=new Uint8Array(e),n=r.byteLength,o="",a=0;a<n;a++)o+=String.fromCharCode(r[a]);o&&(t=window.btoa(o))}t?j.send({cmd:"dataChannelCmd",label:s.label,dataChannelId:s.id,shimId:d,hint:"send",dataChannelCmd:h.SEND,data:t,dataType:i,dataLen:n},c):L.warn("RTCDataChannel.send: Unsupported data format")}else L.error("RTCDataChannel.send: invalid datachannel id.")},this.close=function(){O[c]?(j.send({cmd:"dataChannelCmd",hint:"close",label:s.label,dataChannelId:s.id,shimId:d,dataChannelCmd:h.CLOSE},c),O[c]._untrackDataChannel(s.id,d)):L.warn("RTCDataChannel.close: peerconnection is untracked.")},this._onReceiveEvent=function(e){if(void 0===e||void 0===e.evt)L.error("_onReceiveEvent(): evt property is invalid.");else{var t={target:this};switch(e.evt){case"dconopen":this.onopen&&(this._updateChannel(e.channel),this.onopen(t));break;case"dconbufferedamountlow":this.onbufferedamountlow&&this.onbufferedamountlow(t);break;case"dconerror":this.onerror&&this.onerror(t);break;case"dconmessage":if(this.onmessage){if("string"===e.dataType)t.data=window.atob(e.data);else{var n=window.atob(e.data),i=n.length;t.data=new Uint8Array(i);for(var r=0;r<i;r++)t.data[r]=n.charCodeAt(r)}this.onmessage(t)}break;case"dconclose":this.onclose&&this.onclose(t)}}}}var U=function(e){var n=this,i={};this._objectId=++he,this.id="",this.peer=p,this.active=!1,this.ended=!1,this.cloned=null,this.track=[],this.createMediaStream=function(e){void 0===e||Array.isArray(e)?(this.id="Stream#"+n._objectId,L.debug("MediaStream.createMediaStream() with "+n.id+"MediaStreamTracks num ="+!(e=e)?0:e.length),this.active=!1,this.track=[],void 0!==e&&e.forEach(function(e){e&&e instanceof B&&n.track.push(e)}),j.send({cmd:"createMediaStream",sid:n.id,tracks:n.track},-1)):L.debug("MediaStream.createMediaStream failed with invalid parameter")},this._create=function(e,t){this.id=e.id,this.peer=t,this.active=e.active,this.track=[],e.track.forEach(function(e){var t=new B;t._create(e),n.track.push(t)}),pe[this.id]=this},this.dispatchEvent=function(t){L.debug("MediaStream.dispatchEvent(): "+t.type),void 0!==i[event.type]&&i[event.type].listeners.forEach(function(e){e(t)}),"active"===t.type?this.onactive&&this.onactive(t):"addtrack"===t.type?this.onaddtrack&&this.onaddtrack(t):"inactive"===t.type?this.oninactive&&this.oninactive(t):"removetrack"===t.type?this.onremovetrack&&this.onremovetrack(t):L.debug("MediaStream.dispatchEvent(): Undefined event: ",t.type)},this.addEventListener=function(e,t){L.debug("MediaStream.addEventListener(): "+e),"function"!=typeof t?L.error("MediaStream.addEventListener(): The listener handler is invalid."):"string"!=typeof e?L.error("MediaStream.addEventListener(): The event name is invalid."):(void 0===i[e]&&(i[event]={listeners:[]}),i[e].listeners.push(t))},this.removeEventListener=function(e,t){L.debug("MediaStream.removeEventListener(): "+e),void 0===i[e]?L.error("MediaStream.removeEventListener(): Event does not exist = "+e):i[e].listeners=i[e].listeners.filter(function(e){return e.toString()!==t.toString()})},this.addTrack=function(t){L.debug("MediaStream.addTrack(): "+t.id);var n=!1;this.track.forEach(function(e){e.id==t.id&&(n=!0)}),n||this.track.push(t)},this.removeTrack=function(e){L.debug("MediaStream.removeTrack(): "+e.id);for(var t=0;t<this.track.length;t++)if(this.track[t].id==e.id)return void this.track.splice(t,1)},this.removeTrackById=function(e){L.debug("MediaStream.removeTrackById(): "+e);for(var t,n=0;n<this.track.length;n++)if(this.track[n].id==e)return t={type:"removetrack",track:this.track[n]},this.dispatchEvent(t),void this.track.splice(n,1)},this.getTracks=function(){return L.debug("["+this.id+"]MediaStream.getTracks(): "+this.track.length),L.debug(this.track),this.track},this.getAudioTracks=function(){var t=[];return this.track.forEach(function(e){"audio"==e.kind&&t.push(e)}),L.debug("MediaStream.getAudioTracks(): Audio tracks = "+t.length),t},this.getVideoTracks=function(){var t=[];return this.track.forEach(function(e){"video"==e.kind&&t.push(e)}),L.debug("MediaStream.getVideoTracks(): Video tracks = "+t.length),t},this.getTrackById=function(t){var n=null;return L.debug("MediaStream.getTrackById(): "+t),this.track.forEach(function(e){e.id==t&&(n=e)}),n},this.clone=function(){if(L.debug("MediaStream.clone(): Clone mediaStream = "+this.id),this.cloned)return L.debug("MediaStream.clone(): Use cached clone: "+this.cloned.id),this.cloned;var e=new U,t=ke(this.id,"StreamCln#",e._objectId),n=[];e._create({id:t,active:this.active,track:[]},this.peer);for(var i=0;i<this.track.length;i++){var r=this.track[i]._internalClone();e.track.push(r),n.push({tid:this.track[i].id,cid:r.id})}return j.send({cmd:"mediaStreamClone",sid:this.id,cid:e.id,streamPeer:this.peer,trackClones:n},-1),L.debug("MediaStream.clone(): MediaStream cloned = "+e.id+" from = "+this.id),e}},B=function(){var n={};this._objectId=++fe,this.remote=!1,this.readonly=!1,this.contentHint="",this.id="",this.kind="",this.label="",this.muted=!1,this.readyState="",this._enabled=!1,Object.defineProperty(this,"enabled",{get:function(){return this._enabled},set:function(e){void 0===(this._enabled=e)&&L.warn("Set MediaStreamTrack.enabled to undefined."),j.send({cmd:"trackEnabled",trackId:this.id,enabled:e},-1)},configurable:!0}),this._create=function(e){this._update(e),P[this.id]=this},this._update=function(e){e&&(this.contentHint=e.contentHint,this.id=e.id,this.kind=e.kind,this.label=e.label,this._enabled=e.enabled,this.muted=e.muted,this.readyState=e.readyState,this.remote=e.remote,this.readonly=e.readonly,this.settings=e.settings)},this.dispatchEvent=function(e){"started"==e.type?this.onstarted&&this.onstarted(e):"ended"==e.type?this.onended&&this.onended(e):"isolationchange"==e.type?this.onisolationchange&&this.onisolationchange(e):"mute"==e.type?this.onmute&&this.onmute(e):"unmute"==e.type?this.onunmute&&this.onunmute(e):"overconstrained"==e.type?this.onoverconstrained&&this.onoverconstrained(e):L.debug("Undefined media track evt: ",e.type)},this.addEventListener=function(e,t){L.debug("MediaStreamTrack.addEventListener(): "+e),"function"!=typeof t?L.error("MediaStreamTrack.addEventListener(): The listener handler is invalid."):"string"!=typeof e?L.error("MediaStreamTrack.addEventListener(): The event name is invalid."):(void 0===n[e]&&(n[event]={listeners:[]}),n[e].listeners.push(t))},this.removeEventListener=function(e,t){L.debug("MediaStreamTrack.removeEventListener(): "+e),void 0===n[e]?L.error("MediaStreamTrack.removeEventListener(): Event does not exist = "+e):n[e].listeners=n[e].listeners.filter(function(e){return e.toString()!==t.toString()})},this.applyConstraints=function(e){var r=this.id,o=this.settings;return L.debug("MediaStreamTrack.applyConstraints()"),new Promise(function(t,n){var i=new DOMException("applyConstraints failed","OperationError");j.send({cmd:"applyConstraints",constraints:e,trkid:r},-1,function(e){void 0===e.error?(void 0!==e.settings.width&&void 0!==e.settings.height&&(o.width=e.settings.width,o.height=e.settings.height),t()):n(i)})})},this.getConstraints=function(){L.debug("MediaStreamTrack.getConstraints(): Not implemented")},this.getCapabilities=function(){L.debug("MediaStreamTrack.getCapabilities(): Not implemented")},this.getSettings=function(){return L.debug("MediaStreamTrack.getSettings(): "+JSON.stringify(this.settings)),this.settings},this.stop=function(){j.send({cmd:"mediaTrkStop",trkid:this.id})},this._internalClone=function(){var e=new B,t=ke(this.id,"TrackCln#",e._objectId);return e._create({id:t,kind:this.kind,label:this.label,enabled:this.enabled,muted:this.muted,readyState:this.readyState,remote:this.remote,readonly:this.readonly,settings:this.settings}),e},this.clone=function(){var e=this._internalClone();return j.send({cmd:"mediaTrackClone",tid:this.id,cid:e.id},-1),e}},Fe=function(){this.stats={},this._create=function(e){this.stats=e,this.type=e.type,this.id=e.id,this.timestamp=e.timestamp,delete this.stats.type,delete this.stats.id,delete this.stats.timestamp},this.names=function(){return Object.keys(this.stats)},this.stat=function(e){return this.stats[e]}},z=function(){function e(e){var t,n=[];for(t in r){var i=r[t];i.type&&i.type===e&&n.push(i)}return n}var n={},r={};this.update=function(e){var t;(t=e)&&("+"===t.op&&(n=null,r={}),t.track&&(n?Object.keys(t.track).forEach(function(e){"enabled"!=e?n[e]=t.track[e]:n._enabled=t.track[e]}):(n=new B)._update(t.track)),t.sources)&&t.sources.forEach(function(t){var n,e=t.source;"-"===t.op?delete r[e]:("+"===t.op&&(delete r[e],r[e]={}),n=r[e],Object.keys(t).forEach(function(e){n[e]=t[e]}))})},Object.defineProperty(this,"track",{get:function(){return n},configurable:!0}),this.getContributingSources=function(){return e(a)},this.getSynchronizationSources=function(){return e(o)}},J=(z.getCapabilities=function(e){if(L.info("RTCRtpReceiver.getCapabilities for kind = "+e),N.receiver&&N.receiver[e])return N.receiver[e]},function(e){var i=this,n=!1,r=(this._cap=F.sender||0,e),o=null,a=null,t=l,s="",d=null,c=null,u=null;this.initPlanB=function(e,t){L.debug("RtcRtpSender.initPlanB"),n=!1,o=t,s=e?e.id:"",a=e,d=new Ne(i)},this.initUnifiedPlan=function(e,t){e?(n=!0,c=e,d=new Ne(i),t&&t.sendEncodings):L.error("RTCRtpSender.initUnifiedPlan: Invalid transceiver")},Object.defineProperty(this,"dtmf",{get:function(){return n?(u||(u=new Pe).initUnifiedPlan(r.id,c,this,a),u):r?r.createDTMFSender(a):null},configurable:!0}),Object.defineProperty(this,"rtcpTransport",{get:function(){L.debug("RTCRtpSender.rtcpTransport getter: Not implemented")},configurable:!0}),Object.defineProperty(this,"track",{get:function(){return L.debug("RTCRtpSender.track Transceiver="+(c?c.id:"")+")"),a},configurable:!0}),Object.defineProperty(this,"transport",{get:function(){L.debug("RTCRtpSender.transport getter: Not implemented")},configurable:!0}),Object.defineProperty(this,"id",{get:function(){return L.debug("RTCRtpSender.id:"+s),s},configurable:!0}),Object.defineProperty(this,"proxyState",{get:function(){return t},configurable:!0}),this.setTrack=function(e,t){a=e,o=t},this.removeTrack=function(){a?r?(j.send({cmd:"removeTrack",transceiverId:c?c.id:"",senderId:s},r.id),a=d=null):L.error("RTCRtpSender.removeTrack: invalid peer object."):L.error("RTCRtpSender.removeTrack: track is already removed.")},this.update=function(e){if(r)if(e){if(c)e.id?s=e.id:L.error("RTCRtpSender.update invalid id");else if(s!=e.id||!d)return void L.error("RTCRtpSender.update Invalid state detected, self = "+JSON.stringify(i));e.track&&a&&a._update(e.track),e.parameters&&d&&d.update(e.parameters),t=v}else L.error("RTCRtpSender.update: invalid sender object.");else L.error("RTCRtpSender.update: invalid peer object.")},this.getParameters=function(){return L.debug("RTCRtpSender.getParameters"),r?(t===l&&L.warn("RTCRtpSender.getParameters without peer, use cached value and the behavior will be undefined."),d):(L.error("RTCRtpSender.getParameters: invalid peer object."),null)},this.setParameters=function(e){return L.debug("RTCRtpSender.setParameters"),new Promise(function(n,i){r?j.send({cmd:"senderCmd",senderCmd:f,hint:"setParameter",transceiverId:c?c.id:"",senderId:s,parameters:e.modifiedValues()},r.id,function(e){var t;void 0===e.error?(t=Array.isArray(e.senders)&&0<e.senders.length?e.senders[0]:null)&&t.id==s?(d.update(t.parameters),n()):(L.debug("RTCRtpSender.setParameters invaild response."),t=new DOMException("setParameters failed","OperationError"),i(t)):i(e.error)}):i(new DOMException("RTCRtpSender.setParameters: invalid peer object","OperationError"))})},this.getStats=function(){L.debug("RTCRtpSender.getStats: Not implemented")},this.replaceTrack=function(e){return L.debug("RTCRtpSender.replaceTrack"),new Promise(function(t,n){r?(j.send({cmd:"senderCmd",senderCmd:g,hint:"replaceTrack",transceiverId:c?c.id:"",senderId:s,sid:o?o.id:"",trackId:a?a.id:"",newTrackId:e?e.id:""},r.id,function(e){void 0===e.error?t():n(e.error)}),a=e,d=new Ne(i)):n(new DOMException("RTCRtpSender.replaceTrack no peer","OperationError"))})}}),Ne=(J.getCapabilities=function(e){if(L.info("RTCRtpSender.getCapabilities for kind = "+e),N.sender&&N.sender[e])return N.sender[e]},function(t){function e(e){t&&t.proxyState!=l?L.debug("RTCRtpSendParameters."+e):L.warn("RTCRtpSendParameters."+e+": sender is pending.")}var n,i,r,o=[],a=0;o[0]=new xe;Object.defineProperty(this,"degradationPreference",{get:function(){return e("degradationPreference getter"),n},set:function(e){n=e,a|=s},configurable:!0}),Object.defineProperty(this,"encodings",{get:function(){return e("encodings getter"),o},set:function(e){o=e,a|=c},configurable:!0}),Object.defineProperty(this,"priority",{get:function(){return e("priority getter"),i},set:function(e){i=e,a|=X},configurable:!0}),Object.defineProperty(this,"transactionId",{get:function(){return e("transactionId getter"),r},set:function(e){r=e,a|=K},configurable:!0}),this.update=function(e){0==(a&s)&&(n=e.degradationPreference),0==(a&c)&&e.encodings&&(o=[],e.encodings.forEach(function(e){var t=new xe;t.update(e),o.push(t)})),0==(a&X)&&(i=e.priority),0==(a&K)&&(r=e.transactionId)},this.modifiedValues=function(){var e={},t=((a&s||void 0!==n)&&(e.degradationPreference=n),[]);return o.forEach(function(e){e=e.modifiedValues();Object.keys(e).length&&t.push(e)}),t.length&&(e.encodings=t),(a&X||void 0!==i)&&(e.priority=i),a=0,e}}),xe=function(){var t,n,i,r,o,a,s,d=!0,c=0;Object.defineProperty(this,"active",{get:function(){return d},set:function(e){d=e,c|=u.RPF_ACTIVE},configurable:!0}),Object.defineProperty(this,"codecPayloadType",{get:function(){return t},configurable:!0}),Object.defineProperty(this,"dtx",{get:function(){return n},set:function(e){dtx=e,c|=u.RPF_DTX},configurable:!0}),Object.defineProperty(this,"maxBitrate",{get:function(){return i},set:function(e){i=e,c|=u.RPF_MAXBITRATE},configurable:!0}),Object.defineProperty(this,"maxFramerate",{get:function(){return r},set:function(e){r=e,c|=u.RPF_MAXFRAMERATE},configurable:!0}),Object.defineProperty(this,"ptime",{get:function(){return o},set:function(e){o=e,c|=u.RPF_PTIME},configurable:!0}),Object.defineProperty(this,"rid",{get:function(){return a},set:function(e){a=e,c|=u.RPF_RID},configurable:!0}),Object.defineProperty(this,"scaleResolutionDownBy",{get:function(){return s},set:function(e){s=e,c|=u.RPF_SCALE_RESOLUTION_DOWNBY},configurable:!0}),this.update=function(e){0==(c&u.RPF_ACTIVE)&&(d=e.active),0==(c&u.RPF_CODEPAYLOADTYPE)&&(t=e.codecPayloadType),0==(c&u.RPF_DTX)&&(n=e.dtx),0==(c&u.RPF_MAXBITRATE)&&(i=e.maxBitrate),0==(c&u.RPF_MAXFRAMERATE)&&(r=e.maxFramerate),0==(c&u.RPF_PTIME_)&&(o=e.ptime),0==(c&u.RPF_RID)&&(a=e.rid),0==(c&u.RPF_SCALE_RESOLUTION_DOWNBY)&&(s=e.scaleResolutionDownBy)},this.modifiedValues=function(){var e={};return(c&u.RPF_ACTIVE||void 0!==d)&&(e.active=d),(c&u.RPF_CODEPAYLOADTYPE||void 0!==t)&&(e.codecPayloadType=t),(c&u.RPF_DTX||void 0!==n)&&(e.dtx=n),(c&u.RPF_MAXBITRATE||void 0!==i)&&(e.maxBitrate=i),(c&u.RPF_MAXFRAMERATE||void 0!==r)&&(e.maxFramerate=r),(c&u.RPF_PTIME||void 0!==o)&&(e.ptime=o),(c&u.RPF_RID||void 0!==a)&&(e.rid=a),(c&u.RPF_SCALE_RESOLUTION_DOWNBY||void 0!==s)&&(e.scaleResolutionDownBy=s),c=0,e}},Le={Monitor:1,Window:2,Camera:3},We="VDI_Mon",h={CREATE:1,SEND:2,SET_BUFFER_AMOUNT_LOW_THRESHOLD:3,CLOSE:4};return{initSDK:function(e,t,n,i){if("function"!=typeof n)return L.error("initSDK(): The event callback function is not valid."),!1;L.info("setVMEventCallback(): Set event callback"),Ce=n,de=t||"",r=e,L.info("init(): VMware VDI shim version = "+E),i&&(Re=i);n=1;return i&&!isNaN(i.numOfCallConfigs)&&(n=t=(t=0<(t=parseInt(Number(i.numOfCallConfigs)))?t:1)<=3?t:3),Re.numOfCallConfigs=n,"function"==typeof window.getWindowReference?window.getWindowReference().then(function(e){L.info("init(): HWND: "+e),M.hwnd=e,(j=new je).init()},function(e){L.error("init(): Failed to retrieve window handle: "+e.message)}):(L.info("init() webapp with HWND: 0"),M.hwnd=I,(j=new je).init()),!0},getCallConfig:function(e){return Te[e]},newPeerConnection:function(e,t){return this.newPeerConnectionEx(e,t)},newPeerConnectionEx:function(e,t,n){if(j){if(j.isSocketConnected()){var i=new Ie(e);if(F.sender)i.createOffer=i.createOfferV1,i.createAnswer=i.createAnswerV1,i.setRemoteDescription=i.setRemoteDescriptionV1,i.setLocalDescription=i.setLocalDescriptionV1,i.addIceCandidate=i.addIceCandidateV1,i.getStats=i.getStatsV1,i.addTrack=i.addTrackImplV1,i.removeTrack=i.removeTrackImplV1,i.getSenders=i.getSendersImplV1,i.getTransceivers=i.getTranceiversImplV1,i.addTransceiver=i.addTransceiverImplV1,F.pcCapability&ne&&(i.setConfiguration=i.setConfigurationImpl),F.pcCapability&te&&(i.restartIce=i.restartIceImpl);else{if(i.isUnifiedPlan())throw L.error("createPeerConnection failed due to endpoint does not support unified plan"),"endpoint does not support unified plan";i.createOffer=i.createOfferV0,i.createAnswer=i.createAnswerV0,i.setRemoteDescription=i.setRemoteDescriptionV0,i.setLocalDescription=i.setLocalDescriptionV0,i.addIceCandidate=i.addIceCandidateV0,i.getStats=i.getStatsV0}return i.createDataChannel=i.createDataChannelImplV1,O[i.id]=i,j.send({cmd:"createPeerConnection",arg1:e,arg2:t,callConfig:n},i.id),L.debug("createPeerConnection(): Create peer: "+i.id),i}L.error("createPeerConnection: WebSocket is not in connected state")}else L.error("createPeerConnection: gRequestManager is not created yet.")},newMediaStream:function(e){var t=new U;return t.createMediaStream(e),t},getDisplayMedia:function(e){return this.getDisplayMediaEx(e)},getDisplayMediaEx:function(e,t){if(j.isSocketConnected())return new Promise(function(n,i){L.debug("getDisplayMediaShim(): Constraints = "+JSON.stringify(e)),j.send({cmd:"getDisplayMediaShim",constraints:e,callConfig:t},-1,function(e){var t;void 0===e.error?((t=new U)._create(e.stream,p),L.debug("getDisplayMediaShim(): Media ="+t.id),n(t)):i(e.error)})});L.error("getDisplayMediaShim: WebSocket is not in connected state")},getUserMedia:function(e){return this.getUserMediaEx(e)},getUserMediaEx:function(e,t){if(!j.isSocketConnected())return Promise.reject({name:"NotFoundError",message:"WebSocket is not in connected state"});if(void 0!==e.video&&void 0!==e.video.mandatory&&void 0!==e.video.mandatory.sourceId&&void 0!==ye[e.video.mandatory.sourceId]){var n=0,i=0,r=0,o=!1,a=e.video.mandatory.sourceId,s=e.video.mandatory.minWidth,d=e.video.mandatory.maxWidth,c=e.video.mandatory.minHeight,u=e.video.mandatory.maxHeight,l=e.video.mandatory.maxFrameRate,h=s,f=c,g={width:0,height:0},v={width:0,height:0},a=(ye[a].forEach(function(e){(void 0===s||e.width>=s)&&(void 0===d||e.width<=d)&&(void 0===c||e.height>=c)&&(void 0===u||e.height<=u)&&(void 0===l||e.fps>=l)?(e.width*e.height>g.width*g.height&&(g=e),h&&f&&h*e.height==f*e.width&&e.width*e.height>v.width*v.height&&(v=e)):(void 0!==s&&e.width>=s||void 0!==d&&e.width>=d)&&(o=!0)}),0<v.width?v:g);if(a&&(n=a.width,i=a.height,r=a.fps),0<n&&0<i&&0<r)L.debug("Constraints: "+JSON.stringify(e)+" ==> "+n+"x"+i+" @"+r+":"+(l||"undefined")),l&&(e.video.mandatory.origFps=l),e.video.mandatory.maxFrameRate=r,e.video.mandatory.maxWidth=e.video.mandatory.minWidth=n,e.video.mandatory.maxHeight=e.video.mandatory.minHeight=i;else{if(!o)return L.debug("getUserMediaShim(): constraints does not match."),void reject({name:"OverconstrainedError",message:null});L.debug("getUserMediaShim(): low resolution video forward to client.")}}return new Promise(function(i,r){j.send({cmd:"getUserMediaShim",constraints:e,callConfig:t},-1,function(e){var t,n;void 0===e.error?(t=null,void 0!==e.clone&&((t=new U)._create(e.clone,p),L.debug("Media cloned:"+t.id)),(n=new U)._create(e.stream,p),n.cloned=t,L.debug("Media:"+n.id),i(n)):(new DOMException("Abort","AbortError"),r(e.error))})})},enumerateDevices:function(){return j.isSocketConnected()?new Promise(function(e,n){j.send({cmd:"enumDevices"},-1,function(t){void 0===t.error?(e(t.devices),void 0!==t.caps&&Object.keys(t.caps).forEach(function(e){ye[e]=t.caps[e]})):n("enumDevices cancelled.")})}):(L.info("enumerateDevicesShim(): Use fallback mode."),new Promise(function(t,n){be.call(navigator.mediaDevices).then(function(e){t(e),j.isSocketConnected()&&(L.info("enumerateDevicesShim(): [Resolve] Fallback cancelled. Invoke device change."),j.invokeDeviceChange())},function(e){j.isSocketConnected()?(L.info("enumerateDevicesShim(): [Reject] Fallback cancelled. Invoke device change."),t([]),j.invokeDeviceChange()):n(e)})}))},onVideoCreated:function(e,t){if(j.isSocketConnected()){L.debug("newVideoElement: New video element from app.");for(var n=Object.keys(D),i=0;i<n.length;i++){var r=n[i];if(D[r]._rawVideo===e)return void L.debug("newVideoElement(): Video already found")}t=new Me(e,t);D[t._id]=t,e._context=t}else L.error("newVideoElement: WebSocket is not in connected state")},onAudioCreated:function(e,t){if(j.isSocketConnected()){L.debug("newAudioElement(): A new audio element created.");for(var n=Object.keys(Se),i=0;i<n.length;i++){var r=n[i];if(Se[r]._rawAudio===e)return void L.debug("newAudioElement(): Audio already found")}t=new De(e,t);Se[t._id]=t,e._context=t}else L.error("newAudioElement: WebSocket is not in connected state")},onVideoDisposed:function(e,t){e&&e._context&&e._context.disposeVideo();e=e&&e._context?e._context._id:void 0;L.info("disposeElement video id="+e)},onAudioDisposed:function(e,t){e&&e._context&&e._context._id;L.info("disposeElement audio id="+_id)},playRingtone:function(e,r,t){var o,a;j.isSocketConnected()?r?(e,L.debug("playNotifyAudio(): id = "+e+" src = "+r+" loop = "+t),void 0===(o=i[e])&&(o=le++,i[e]=o),j.send({cmd:"notifyAudio",action:"play",src:r,audid:o,loop:t},-1),(a=new XMLHttpRequest).open("GET",r,!0),a.responseType="arraybuffer",a.onreadystatechange=function(){var e,t,n,i;a.readyState==XMLHttpRequest.DONE&&200==a.status?(e=16+a.response.byteLength,(t=new Uint8Array(16))[0]=65,t[1]=78,t[2]=84,t[3]=70,t[4]=e>>24&255,t[5]=e>>16&255,t[6]=e>>8&255,t[7]=255&e,t[8]=o>>24&255,t[9]=o>>16&255,t[10]=o>>8&255,t[11]=255&o,n=new Uint8Array(e),i=new Uint8Array(a.response),n.set(t,0),n.set(i,16),j.sendBinary(n),L.debug("onreadystatechange(): Send "+e+"bytes")):L.debug("onreadystatechange(): Download "+r+" status = "+a.status)},a.send()):L.error("playNotifyAudio(): src cannot be null or undefined"):L.error("playNotifyAudio(): WebSocket is not in connected state")},pauseRingtone:function(e){var t;j.isSocketConnected()?(L.debug("pauseNotifyAudio(): id = "+e),void 0===(t=i[e])?L.warn("pauseNotifyAudio(): id = "+e+" did not play yet."):j.send({cmd:"notifyAudio",action:"pause",audid:t},-1)):L.error("playNotifyAudio: WebSocket is not in connected state")},setVideoClipRegion:function(e,t,n){L.debug("setVideoClipRegion: "+e+", "+JSON.stringify(t)),j.isSocketConnected()?(e={cmd:"customClipRect",op:e?0:1,clip:JSON.parse(JSON.stringify(t))},(t=_e(n))&&(se(n),e.frame=t),j.send(e,-1)):L.error("setVideoClipRegion: WebSocket is not in connected state.")},getReceiverCapabilities:function(e){return L.debug("getCapabilitiesShim"),z.getCapabilities(e)},setSinkId:function(e,t){var n;j.isSocketConnected()?(void 0===(n=i[e])&&(n=le++,i[e]=n),L.debug("setSinkId id = "+n+" srcId = "+e+" Value = "+t),j.send({cmd:"setSinkId",deviceId:t,audioId:n,srcId:e,context:"global"},-1,function(e){})):L.error("setSinkId: WebSocket is not in connected state")},setPrimarySinkId:function(e){L.debug("setDefaultSinkId = "+e),j.isSocketConnected()?j.send({cmd:"setDefaultSinkId",deviceId:e},-1):L.error("setDefaultSinkId: WebSocket is not in connected state")},isFeatureSupported:function(e){var t;return"string"!=typeof e?(L.debug("isFeatureSupported(): Invalid feature parameter"),!1):!(!j||j.state!==_)&&("datachannel"===e?F.datachannel?1==F.datachannel||(L.debug("isFeatureSupported(): disable datachannel by settings."),!1):(L.debug("isFeatureSupported(): disable datachannel for old client."),!1):(t=!1,(t=Array.isArray(A)&&-1!=A.indexOf(e)?!0:t)||L.debug("isFeatureSupported(): Input feature string not supported = "+e),t))},getScreensInfo:function(){if(L.debug("getScreensAsync get called."),j.isSocketConnected())return new Promise(function(f,g){var e=0;F.getScreens&&F.getScreens&$&&(e=1),j.send({cmd:"getScreens",bounds:e},-1,function(e){if(Array.isArray(e))f(V=t=e);else if(e.screens&&Array.isArray(e.screens)){for(var t=[],n=0;n<e.screens.length;n++){var i=e.screens[n].w,r=e.screens[n].h,o=e.screens[n].id,a=e.screens[n].bounds,s=e.screens[n].imageData;if(0<i&&0<r&&o&&a&&s){for(var d=window.atob(s),c=d.length,u=new Uint8ClampedArray(c),l=0;l<c;l++)u[l]=d.charCodeAt(l);s=new ImageData(u,i,r),i=new Ae(o,"Screen "+o,s,a);t.push(i),L.debug("Screen:"+o+":  image size:"+c)}else L.error("Invalid screen data:"+JSON.stringify(e.screens[n]))}f(V=t)}else{var h=e.error&&e.error.message?e.error.message:"Invalid getScreen response";g(new DOMException(h,"OperationError"))}})});L.error("getScreensAsync: WebSocket is not in connected state")},onScreenSelected:function(e){L.debug("setScreenSharePanelId = "+e+" for getDisplayMedia"),j.isSocketConnected()?j.send({cmd:"setScreenId",scrnId:e,numScreens:V.length},-1):L.error("setScreenSharePanelId: WebSocket is not in connected state")},onWindowSessionConnected:function(e){L.info("connectedStateChanged called "+e),j&&(j.state===_&&j.send({cmd:"connectedStateChanged",connectionState:!0===e?1:0},-1),!0===e?(j.sendVdiClientEventsOnError=!0,j.startPolling(j.shortPollingIntervalMs,j.shortPollingTimeout,j.sendEvents)):(j.sendVdiClientEventsOnError=!1,j.isHorizonRegistryPresent=!1,L.info("connectedStateChanged(): isHorizonRegistryPresent false"),j.stopPolling()))}}});
},{}],4:[function(require,module,exports){
/*
 * Copyright (c) 2018 Omnissa, LLC. All rights reserved.
 * This product is protected by copyright and intellectual property laws in the
 * United States and other countries as well as by international treaties.
 * -- Omnissa Restricted
 */
/**
 *
 * HorizonWebRTCExtension.js
 * Build: 14122140117
 *
 */
!function(n){("function"!=typeof define||!define.amd)&&"object"==typeof module&&module.exports?module.exports=n():window.HorizonWebRTCExtension=n()}(function(n,o){"use strict";const T={GET_CLIENT_ID:"getClientId",GET_WSS_PORT:"getWssPort",GET_INFO:"getInfo",NOTIFY_CONTENT_READY:"notifyContentReady",NOTIFY_WINDOW_SESSION_CONNECTED:"notifyWindowSessionConnected",PAGE_UNLOADED:"pageUnloaded",POLL_CONTENT_READY:"pollContentReady",STOP_REDIRECTION:"stopRedir"},E={FOREGROUND_TO_CONTENT:"horizon.webrtcsdk.foregroundToContent",CONTENT_TO_FOREGROUND:"horizon.webrtcsdk.contentToForeground"};return new function(){var t,o=this,i=0,r={},d=!0,s=(this.onWindowSessionConnected,this.getHorizonClientID=function(){return new Promise(function(o,e){s({cmd:T.GET_CLIENT_ID},function(n){void 0!==n.clientId?o(n.clientId):e(n.error||"getHorizonClientID failed")})})},this.getHorizonWSSPort=function(){return new Promise(function(o,e){s({cmd:T.GET_WSS_PORT},function(n){void 0!==n.wssPort?o(n.wssPort):e(n.error||"getHorizonWSSPort failed")})})},function(n,o){var e;n.cmd==T.POLL_CONTENT_READY||t?(e=++i,n.seqId=e,r[e]=o,e={detail:void 0!==n?n:{}},window.dispatchEvent(new CustomEvent(E.FOREGROUND_TO_CONTENT,e))):(n.error="content is not ready",o(n),void 0===t&&(console.log("HorizonWebRTCExtension.toContentScript: content ready state is undefined, Start content state poll"),new Promise(function(o,e){s({cmd:T.POLL_CONTENT_READY},function(n){void 0!==n.ready?(t=n.ready,o(t)):e(n.error||"fail to pollContentReady")})})))}),c=function(n){"function"==typeof o.onWindowSessionConnected&&o.onWindowSessionConnected(n)};console.log("HorizonWebRTCExtension foreground register content callback"),window.addEventListener(E.CONTENT_TO_FOREGROUND,function(n){if(null===n.detail)console.log("HorizonWebRTCExtension.onContentScript: data is null in injected script");else{var o,e=n.detail;if(console.log("HorizonWebRTCExtension.onContentScript(): Received message from content script "+JSON.stringify(e)),"number"==typeof e.seqId&&0<e.seqId)n=e.seqId,o=r[n],delete r[n],void 0!==o&&"function"==typeof o&&o(e);else switch(e.cmd){case T.NOTIFY_CONTENT_READY:t=e.state;break;case T.NOTIFY_WINDOW_SESSION_CONNECTED:d=e.connected,c(d)}}})}});
},{}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":28}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":29}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/is-iterable"), __esModule: true };
},{"core-js/library/fn/is-iterable":30}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":31}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":32}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-own-property-descriptor"), __esModule: true };
},{"core-js/library/fn/object/get-own-property-descriptor":33}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/get-prototype-of":34}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":35}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":36}],14:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":37}],15:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":38}],16:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _promise = require("../core-js/promise");

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (fn) {
  return function () {
    var gen = fn.apply(this, arguments);
    return new _promise2.default(function (resolve, reject) {
      function step(key, arg) {
        try {
          var info = gen[key](arg);
          var value = info.value;
        } catch (error) {
          reject(error);
          return;
        }

        if (info.done) {
          resolve(value);
        } else {
          return _promise2.default.resolve(value).then(function (value) {
            step("next", value);
          }, function (err) {
            step("throw", err);
          });
        }
      }

      return step("next");
    });
  };
};
},{"../core-js/promise":13}],17:[function(require,module,exports){
"use strict";

exports.__esModule = true;

exports.default = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};
},{}],18:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _defineProperty = require("../core-js/object/define-property");

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();
},{"../core-js/object/define-property":9}],19:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _getPrototypeOf = require("../core-js/object/get-prototype-of");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _getOwnPropertyDescriptor = require("../core-js/object/get-own-property-descriptor");

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);

  if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};
},{"../core-js/object/get-own-property-descriptor":10,"../core-js/object/get-prototype-of":11}],20:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _setPrototypeOf = require("../core-js/object/set-prototype-of");

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = require("../core-js/object/create");

var _create2 = _interopRequireDefault(_create);

var _typeof2 = require("../helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }

  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
};
},{"../core-js/object/create":8,"../core-js/object/set-prototype-of":12,"../helpers/typeof":24}],21:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _typeof2 = require("../helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
};
},{"../helpers/typeof":24}],22:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _isIterable2 = require("../core-js/is-iterable");

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = require("../core-js/get-iterator");

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();
},{"../core-js/get-iterator":6,"../core-js/is-iterable":7}],23:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _from = require("../core-js/array/from");

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (arr) {
  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);
};
},{"../core-js/array/from":5}],24:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _iterator = require("../core-js/symbol/iterator");

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = require("../core-js/symbol");

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};
},{"../core-js/symbol":14,"../core-js/symbol/iterator":15}],25:[function(require,module,exports){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g = (function() { return this })() || Function("return this")();

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

},{"./runtime":26}],26:[function(require,module,exports){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() { return this })() || Function("return this")()
);

},{}],27:[function(require,module,exports){
module.exports = require("regenerator-runtime");

},{"regenerator-runtime":25}],28:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/_core').Array.from;

},{"../../modules/_core":46,"../../modules/es6.array.from":116,"../../modules/es6.string.iterator":125}],29:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');

},{"../modules/core.get-iterator":114,"../modules/es6.string.iterator":125,"../modules/web.dom.iterable":131}],30:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.is-iterable');

},{"../modules/core.is-iterable":115,"../modules/es6.string.iterator":125,"../modules/web.dom.iterable":131}],31:[function(require,module,exports){
require('../../modules/es6.object.create');
var $Object = require('../../modules/_core').Object;
module.exports = function create(P, D) {
  return $Object.create(P, D);
};

},{"../../modules/_core":46,"../../modules/es6.object.create":118}],32:[function(require,module,exports){
require('../../modules/es6.object.define-property');
var $Object = require('../../modules/_core').Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};

},{"../../modules/_core":46,"../../modules/es6.object.define-property":119}],33:[function(require,module,exports){
require('../../modules/es6.object.get-own-property-descriptor');
var $Object = require('../../modules/_core').Object;
module.exports = function getOwnPropertyDescriptor(it, key) {
  return $Object.getOwnPropertyDescriptor(it, key);
};

},{"../../modules/_core":46,"../../modules/es6.object.get-own-property-descriptor":120}],34:[function(require,module,exports){
require('../../modules/es6.object.get-prototype-of');
module.exports = require('../../modules/_core').Object.getPrototypeOf;

},{"../../modules/_core":46,"../../modules/es6.object.get-prototype-of":121}],35:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/_core').Object.setPrototypeOf;

},{"../../modules/_core":46,"../../modules/es6.object.set-prototype-of":122}],36:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
require('../modules/es7.promise.finally');
require('../modules/es7.promise.try');
module.exports = require('../modules/_core').Promise;

},{"../modules/_core":46,"../modules/es6.object.to-string":123,"../modules/es6.promise":124,"../modules/es6.string.iterator":125,"../modules/es7.promise.finally":127,"../modules/es7.promise.try":128,"../modules/web.dom.iterable":131}],37:[function(require,module,exports){
require('../../modules/es6.symbol');
require('../../modules/es6.object.to-string');
require('../../modules/es7.symbol.async-iterator');
require('../../modules/es7.symbol.observable');
module.exports = require('../../modules/_core').Symbol;

},{"../../modules/_core":46,"../../modules/es6.object.to-string":123,"../../modules/es6.symbol":126,"../../modules/es7.symbol.async-iterator":129,"../../modules/es7.symbol.observable":130}],38:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/_wks-ext').f('iterator');

},{"../../modules/_wks-ext":111,"../../modules/es6.string.iterator":125,"../../modules/web.dom.iterable":131}],39:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],40:[function(require,module,exports){
module.exports = function () { /* empty */ };

},{}],41:[function(require,module,exports){
module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

},{}],42:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":66}],43:[function(require,module,exports){
// false -> Array#indexOf
// true  -> Array#includes
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');
var toAbsoluteIndex = require('./_to-absolute-index');
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

},{"./_to-absolute-index":102,"./_to-iobject":104,"./_to-length":105}],44:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./_cof');
var TAG = require('./_wks')('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

},{"./_cof":45,"./_wks":112}],45:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],46:[function(require,module,exports){
var core = module.exports = { version: '2.6.12' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],47:[function(require,module,exports){
'use strict';
var $defineProperty = require('./_object-dp');
var createDesc = require('./_property-desc');

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

},{"./_object-dp":78,"./_property-desc":91}],48:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":39}],49:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],50:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":55}],51:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":57,"./_is-object":66}],52:[function(require,module,exports){
// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

},{}],53:[function(require,module,exports){
// all enumerable object keys, includes symbols
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};

},{"./_object-gops":83,"./_object-keys":86,"./_object-pie":87}],54:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var ctx = require('./_ctx');
var hide = require('./_hide');
var has = require('./_has');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && has(exports, key)) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":46,"./_ctx":48,"./_global":57,"./_has":58,"./_hide":59}],55:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],56:[function(require,module,exports){
var ctx = require('./_ctx');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var anObject = require('./_an-object');
var toLength = require('./_to-length');
var getIterFn = require('./core.get-iterator-method');
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;

},{"./_an-object":42,"./_ctx":48,"./_is-array-iter":64,"./_iter-call":67,"./_to-length":105,"./core.get-iterator-method":113}],57:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],58:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],59:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":50,"./_object-dp":78,"./_property-desc":91}],60:[function(require,module,exports){
var document = require('./_global').document;
module.exports = document && document.documentElement;

},{"./_global":57}],61:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":50,"./_dom-create":51,"./_fails":55}],62:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};

},{}],63:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":45}],64:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./_iterators');
var ITERATOR = require('./_wks')('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

},{"./_iterators":72,"./_wks":112}],65:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":45}],66:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],67:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./_an-object');
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};

},{"./_an-object":42}],68:[function(require,module,exports){
'use strict';
var create = require('./_object-create');
var descriptor = require('./_property-desc');
var setToStringTag = require('./_set-to-string-tag');
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};

},{"./_hide":59,"./_object-create":77,"./_property-desc":91,"./_set-to-string-tag":96,"./_wks":112}],69:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var $export = require('./_export');
var redefine = require('./_redefine');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var $iterCreate = require('./_iter-create');
var setToStringTag = require('./_set-to-string-tag');
var getPrototypeOf = require('./_object-gpo');
var ITERATOR = require('./_wks')('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

},{"./_export":54,"./_hide":59,"./_iter-create":68,"./_iterators":72,"./_library":73,"./_object-gpo":84,"./_redefine":93,"./_set-to-string-tag":96,"./_wks":112}],70:[function(require,module,exports){
var ITERATOR = require('./_wks')('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};

},{"./_wks":112}],71:[function(require,module,exports){
module.exports = function (done, value) {
  return { value: value, done: !!done };
};

},{}],72:[function(require,module,exports){
module.exports = {};

},{}],73:[function(require,module,exports){
module.exports = true;

},{}],74:[function(require,module,exports){
var META = require('./_uid')('meta');
var isObject = require('./_is-object');
var has = require('./_has');
var setDesc = require('./_object-dp').f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !require('./_fails')(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};

},{"./_fails":55,"./_has":58,"./_is-object":66,"./_object-dp":78,"./_uid":108}],75:[function(require,module,exports){
var global = require('./_global');
var macrotask = require('./_task').set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = require('./_cof')(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};

},{"./_cof":45,"./_global":57,"./_task":101}],76:[function(require,module,exports){
'use strict';
// 25.4.1.5 NewPromiseCapability(C)
var aFunction = require('./_a-function');

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};

},{"./_a-function":39}],77:[function(require,module,exports){
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = require('./_an-object');
var dPs = require('./_object-dps');
var enumBugKeys = require('./_enum-bug-keys');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = require('./_dom-create')('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  require('./_html').appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};

},{"./_an-object":42,"./_dom-create":51,"./_enum-bug-keys":52,"./_html":60,"./_object-dps":79,"./_shared-key":97}],78:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":42,"./_descriptors":50,"./_ie8-dom-define":61,"./_to-primitive":107}],79:[function(require,module,exports){
var dP = require('./_object-dp');
var anObject = require('./_an-object');
var getKeys = require('./_object-keys');

module.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

},{"./_an-object":42,"./_descriptors":50,"./_object-dp":78,"./_object-keys":86}],80:[function(require,module,exports){
var pIE = require('./_object-pie');
var createDesc = require('./_property-desc');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var has = require('./_has');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};

},{"./_descriptors":50,"./_has":58,"./_ie8-dom-define":61,"./_object-pie":87,"./_property-desc":91,"./_to-iobject":104,"./_to-primitive":107}],81:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = require('./_to-iobject');
var gOPN = require('./_object-gopn').f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};

},{"./_object-gopn":82,"./_to-iobject":104}],82:[function(require,module,exports){
// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = require('./_object-keys-internal');
var hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};

},{"./_enum-bug-keys":52,"./_object-keys-internal":85}],83:[function(require,module,exports){
exports.f = Object.getOwnPropertySymbols;

},{}],84:[function(require,module,exports){
// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = require('./_has');
var toObject = require('./_to-object');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

},{"./_has":58,"./_shared-key":97,"./_to-object":106}],85:[function(require,module,exports){
var has = require('./_has');
var toIObject = require('./_to-iobject');
var arrayIndexOf = require('./_array-includes')(false);
var IE_PROTO = require('./_shared-key')('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

},{"./_array-includes":43,"./_has":58,"./_shared-key":97,"./_to-iobject":104}],86:[function(require,module,exports){
// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = require('./_object-keys-internal');
var enumBugKeys = require('./_enum-bug-keys');

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};

},{"./_enum-bug-keys":52,"./_object-keys-internal":85}],87:[function(require,module,exports){
exports.f = {}.propertyIsEnumerable;

},{}],88:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
var $export = require('./_export');
var core = require('./_core');
var fails = require('./_fails');
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};

},{"./_core":46,"./_export":54,"./_fails":55}],89:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};

},{}],90:[function(require,module,exports){
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var newPromiseCapability = require('./_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};

},{"./_an-object":42,"./_is-object":66,"./_new-promise-capability":76}],91:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],92:[function(require,module,exports){
var hide = require('./_hide');
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};

},{"./_hide":59}],93:[function(require,module,exports){
module.exports = require('./_hide');

},{"./_hide":59}],94:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

},{"./_an-object":42,"./_ctx":48,"./_is-object":66,"./_object-gopd":80}],95:[function(require,module,exports){
'use strict';
var global = require('./_global');
var core = require('./_core');
var dP = require('./_object-dp');
var DESCRIPTORS = require('./_descriptors');
var SPECIES = require('./_wks')('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};

},{"./_core":46,"./_descriptors":50,"./_global":57,"./_object-dp":78,"./_wks":112}],96:[function(require,module,exports){
var def = require('./_object-dp').f;
var has = require('./_has');
var TAG = require('./_wks')('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};

},{"./_has":58,"./_object-dp":78,"./_wks":112}],97:[function(require,module,exports){
var shared = require('./_shared')('keys');
var uid = require('./_uid');
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};

},{"./_shared":98,"./_uid":108}],98:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":46,"./_global":57,"./_library":73}],99:[function(require,module,exports){
// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var SPECIES = require('./_wks')('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

},{"./_a-function":39,"./_an-object":42,"./_wks":112}],100:[function(require,module,exports){
var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

},{"./_defined":49,"./_to-integer":103}],101:[function(require,module,exports){
var ctx = require('./_ctx');
var invoke = require('./_invoke');
var html = require('./_html');
var cel = require('./_dom-create');
var global = require('./_global');
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (require('./_cof')(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};

},{"./_cof":45,"./_ctx":48,"./_dom-create":51,"./_global":57,"./_html":60,"./_invoke":62}],102:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":103}],103:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],104:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./_iobject');
var defined = require('./_defined');
module.exports = function (it) {
  return IObject(defined(it));
};

},{"./_defined":49,"./_iobject":63}],105:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":103}],106:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":49}],107:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":66}],108:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],109:[function(require,module,exports){
var global = require('./_global');
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';

},{"./_global":57}],110:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var LIBRARY = require('./_library');
var wksExt = require('./_wks-ext');
var defineProperty = require('./_object-dp').f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};

},{"./_core":46,"./_global":57,"./_library":73,"./_object-dp":78,"./_wks-ext":111}],111:[function(require,module,exports){
exports.f = require('./_wks');

},{"./_wks":112}],112:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":57,"./_shared":98,"./_uid":108}],113:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

},{"./_classof":44,"./_core":46,"./_iterators":72,"./_wks":112}],114:[function(require,module,exports){
var anObject = require('./_an-object');
var get = require('./core.get-iterator-method');
module.exports = require('./_core').getIterator = function (it) {
  var iterFn = get(it);
  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};

},{"./_an-object":42,"./_core":46,"./core.get-iterator-method":113}],115:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').isIterable = function (it) {
  var O = Object(it);
  return O[ITERATOR] !== undefined
    || '@@iterator' in O
    // eslint-disable-next-line no-prototype-builtins
    || Iterators.hasOwnProperty(classof(O));
};

},{"./_classof":44,"./_core":46,"./_iterators":72,"./_wks":112}],116:[function(require,module,exports){
'use strict';
var ctx = require('./_ctx');
var $export = require('./_export');
var toObject = require('./_to-object');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var toLength = require('./_to-length');
var createProperty = require('./_create-property');
var getIterFn = require('./core.get-iterator-method');

$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});

},{"./_create-property":47,"./_ctx":48,"./_export":54,"./_is-array-iter":64,"./_iter-call":67,"./_iter-detect":70,"./_to-length":105,"./_to-object":106,"./core.get-iterator-method":113}],117:[function(require,module,exports){
'use strict';
var addToUnscopables = require('./_add-to-unscopables');
var step = require('./_iter-step');
var Iterators = require('./_iterators');
var toIObject = require('./_to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

},{"./_add-to-unscopables":40,"./_iter-define":69,"./_iter-step":71,"./_iterators":72,"./_to-iobject":104}],118:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: require('./_object-create') });

},{"./_export":54,"./_object-create":77}],119:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });

},{"./_descriptors":50,"./_export":54,"./_object-dp":78}],120:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./_to-iobject');
var $getOwnPropertyDescriptor = require('./_object-gopd').f;

require('./_object-sap')('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});

},{"./_object-gopd":80,"./_object-sap":88,"./_to-iobject":104}],121:[function(require,module,exports){
// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = require('./_to-object');
var $getPrototypeOf = require('./_object-gpo');

require('./_object-sap')('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});

},{"./_object-gpo":84,"./_object-sap":88,"./_to-object":106}],122:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = require('./_export');
$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });

},{"./_export":54,"./_set-proto":94}],123:[function(require,module,exports){

},{}],124:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var global = require('./_global');
var ctx = require('./_ctx');
var classof = require('./_classof');
var $export = require('./_export');
var isObject = require('./_is-object');
var aFunction = require('./_a-function');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var speciesConstructor = require('./_species-constructor');
var task = require('./_task').set;
var microtask = require('./_microtask')();
var newPromiseCapabilityModule = require('./_new-promise-capability');
var perform = require('./_perform');
var userAgent = require('./_user-agent');
var promiseResolve = require('./_promise-resolve');
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = require('./_redefine-all')($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
require('./_set-to-string-tag')($Promise, PROMISE);
require('./_set-species')(PROMISE);
Wrapper = require('./_core')[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});

},{"./_a-function":39,"./_an-instance":41,"./_classof":44,"./_core":46,"./_ctx":48,"./_export":54,"./_for-of":56,"./_global":57,"./_is-object":66,"./_iter-detect":70,"./_library":73,"./_microtask":75,"./_new-promise-capability":76,"./_perform":89,"./_promise-resolve":90,"./_redefine-all":92,"./_set-species":95,"./_set-to-string-tag":96,"./_species-constructor":99,"./_task":101,"./_user-agent":109,"./_wks":112}],125:[function(require,module,exports){
'use strict';
var $at = require('./_string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./_iter-define')(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});

},{"./_iter-define":69,"./_string-at":100}],126:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var global = require('./_global');
var has = require('./_has');
var DESCRIPTORS = require('./_descriptors');
var $export = require('./_export');
var redefine = require('./_redefine');
var META = require('./_meta').KEY;
var $fails = require('./_fails');
var shared = require('./_shared');
var setToStringTag = require('./_set-to-string-tag');
var uid = require('./_uid');
var wks = require('./_wks');
var wksExt = require('./_wks-ext');
var wksDefine = require('./_wks-define');
var enumKeys = require('./_enum-keys');
var isArray = require('./_is-array');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var toObject = require('./_to-object');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var createDesc = require('./_property-desc');
var _create = require('./_object-create');
var gOPNExt = require('./_object-gopn-ext');
var $GOPD = require('./_object-gopd');
var $GOPS = require('./_object-gops');
var $DP = require('./_object-dp');
var $keys = require('./_object-keys');
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;
  require('./_object-pie').f = $propertyIsEnumerable;
  $GOPS.f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !require('./_library')) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });

$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    return $GOPS.f(toObject(it));
  }
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

},{"./_an-object":42,"./_descriptors":50,"./_enum-keys":53,"./_export":54,"./_fails":55,"./_global":57,"./_has":58,"./_hide":59,"./_is-array":65,"./_is-object":66,"./_library":73,"./_meta":74,"./_object-create":77,"./_object-dp":78,"./_object-gopd":80,"./_object-gopn":82,"./_object-gopn-ext":81,"./_object-gops":83,"./_object-keys":86,"./_object-pie":87,"./_property-desc":91,"./_redefine":93,"./_set-to-string-tag":96,"./_shared":98,"./_to-iobject":104,"./_to-object":106,"./_to-primitive":107,"./_uid":108,"./_wks":112,"./_wks-define":110,"./_wks-ext":111}],127:[function(require,module,exports){
// https://github.com/tc39/proposal-promise-finally
'use strict';
var $export = require('./_export');
var core = require('./_core');
var global = require('./_global');
var speciesConstructor = require('./_species-constructor');
var promiseResolve = require('./_promise-resolve');

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });

},{"./_core":46,"./_export":54,"./_global":57,"./_promise-resolve":90,"./_species-constructor":99}],128:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-promise-try
var $export = require('./_export');
var newPromiseCapability = require('./_new-promise-capability');
var perform = require('./_perform');

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });

},{"./_export":54,"./_new-promise-capability":76,"./_perform":89}],129:[function(require,module,exports){
require('./_wks-define')('asyncIterator');

},{"./_wks-define":110}],130:[function(require,module,exports){
require('./_wks-define')('observable');

},{"./_wks-define":110}],131:[function(require,module,exports){
require('./es6.array.iterator');
var global = require('./_global');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var TO_STRING_TAG = require('./_wks')('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}

},{"./_global":57,"./_hide":59,"./_iterators":72,"./_wks":112,"./es6.array.iterator":117}],132:[function(require,module,exports){
/*
 *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var SDPUtils = require('sdp');

function fixStatsType(stat) {
  return {
    inboundrtp: 'inbound-rtp',
    outboundrtp: 'outbound-rtp',
    candidatepair: 'candidate-pair',
    localcandidate: 'local-candidate',
    remotecandidate: 'remote-candidate'
  }[stat.type] || stat.type;
}

function writeMediaSection(transceiver, caps, type, stream, dtlsRole) {
  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);

  // Map ICE parameters (ufrag, pwd) to SDP.
  sdp += SDPUtils.writeIceParameters(
      transceiver.iceGatherer.getLocalParameters());

  // Map DTLS parameters to SDP.
  sdp += SDPUtils.writeDtlsParameters(
      transceiver.dtlsTransport.getLocalParameters(),
      type === 'offer' ? 'actpass' : dtlsRole || 'active');

  sdp += 'a=mid:' + transceiver.mid + '\r\n';

  if (transceiver.rtpSender && transceiver.rtpReceiver) {
    sdp += 'a=sendrecv\r\n';
  } else if (transceiver.rtpSender) {
    sdp += 'a=sendonly\r\n';
  } else if (transceiver.rtpReceiver) {
    sdp += 'a=recvonly\r\n';
  } else {
    sdp += 'a=inactive\r\n';
  }

  if (transceiver.rtpSender) {
    var trackId = transceiver.rtpSender._initialTrackId ||
        transceiver.rtpSender.track.id;
    transceiver.rtpSender._initialTrackId = trackId;
    // spec.
    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +
        trackId + '\r\n';
    sdp += 'a=' + msid;
    // for Chrome. Legacy should no longer be required.
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
        ' ' + msid;

    // RTX
    if (transceiver.sendEncodingParameters[0].rtx) {
      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
          ' ' + msid;
      sdp += 'a=ssrc-group:FID ' +
          transceiver.sendEncodingParameters[0].ssrc + ' ' +
          transceiver.sendEncodingParameters[0].rtx.ssrc +
          '\r\n';
    }
  }
  // FIXME: this should be written by writeRtpDescription.
  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
      ' cname:' + SDPUtils.localCName + '\r\n';
  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
        ' cname:' + SDPUtils.localCName + '\r\n';
  }
  return sdp;
}

// Edge does not like
// 1) stun: filtered after 14393 unless ?transport=udp is present
// 2) turn: that does not have all of turn:host:port?transport=udp
// 3) turn: with ipv6 addresses
// 4) turn: occurring muliple times
function filterIceServers(iceServers, edgeVersion) {
  var hasTurn = false;
  iceServers = JSON.parse(JSON.stringify(iceServers));
  return iceServers.filter(function(server) {
    if (server && (server.urls || server.url)) {
      var urls = server.urls || server.url;
      if (server.url && !server.urls) {
        console.warn('RTCIceServer.url is deprecated! Use urls instead.');
      }
      var isString = typeof urls === 'string';
      if (isString) {
        urls = [urls];
      }
      urls = urls.filter(function(url) {
        var validTurn = url.indexOf('turn:') === 0 &&
            url.indexOf('transport=udp') !== -1 &&
            url.indexOf('turn:[') === -1 &&
            !hasTurn;

        if (validTurn) {
          hasTurn = true;
          return true;
        }
        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&
            url.indexOf('?transport=udp') === -1;
      });

      delete server.url;
      server.urls = isString ? urls[0] : urls;
      return !!urls.length;
    }
  });
}

// Determines the intersection of local and remote capabilities.
function getCommonCapabilities(localCapabilities, remoteCapabilities) {
  var commonCapabilities = {
    codecs: [],
    headerExtensions: [],
    fecMechanisms: []
  };

  var findCodecByPayloadType = function(pt, codecs) {
    pt = parseInt(pt, 10);
    for (var i = 0; i < codecs.length; i++) {
      if (codecs[i].payloadType === pt ||
          codecs[i].preferredPayloadType === pt) {
        return codecs[i];
      }
    }
  };

  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {
    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);
    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);
    return lCodec && rCodec &&
        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();
  };

  localCapabilities.codecs.forEach(function(lCodec) {
    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {
      var rCodec = remoteCapabilities.codecs[i];
      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&
          lCodec.clockRate === rCodec.clockRate) {
        if (lCodec.name.toLowerCase() === 'rtx' &&
            lCodec.parameters && rCodec.parameters.apt) {
          // for RTX we need to find the local rtx that has a apt
          // which points to the same local codec as the remote one.
          if (!rtxCapabilityMatches(lCodec, rCodec,
              localCapabilities.codecs, remoteCapabilities.codecs)) {
            continue;
          }
        }
        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy
        // number of channels is the highest common number of channels
        rCodec.numChannels = Math.min(lCodec.numChannels,
            rCodec.numChannels);
        // push rCodec so we reply with offerer payload type
        commonCapabilities.codecs.push(rCodec);

        // determine common feedback mechanisms
        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {
          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {
            if (lCodec.rtcpFeedback[j].type === fb.type &&
                lCodec.rtcpFeedback[j].parameter === fb.parameter) {
              return true;
            }
          }
          return false;
        });
        // FIXME: also need to determine .parameters
        //  see https://github.com/openpeer/ortc/issues/569
        break;
      }
    }
  });

  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {
    for (var i = 0; i < remoteCapabilities.headerExtensions.length;
         i++) {
      var rHeaderExtension = remoteCapabilities.headerExtensions[i];
      if (lHeaderExtension.uri === rHeaderExtension.uri) {
        commonCapabilities.headerExtensions.push(rHeaderExtension);
        break;
      }
    }
  });

  // FIXME: fecMechanisms
  return commonCapabilities;
}

// is action=setLocalDescription with type allowed in signalingState
function isActionAllowedInSignalingState(action, type, signalingState) {
  return {
    offer: {
      setLocalDescription: ['stable', 'have-local-offer'],
      setRemoteDescription: ['stable', 'have-remote-offer']
    },
    answer: {
      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],
      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']
    }
  }[type][action].indexOf(signalingState) !== -1;
}

function maybeAddCandidate(iceTransport, candidate) {
  // Edge's internal representation adds some fields therefore
  // not all fieldѕ are taken into account.
  var alreadyAdded = iceTransport.getRemoteCandidates()
      .find(function(remoteCandidate) {
        return candidate.foundation === remoteCandidate.foundation &&
            candidate.ip === remoteCandidate.ip &&
            candidate.port === remoteCandidate.port &&
            candidate.priority === remoteCandidate.priority &&
            candidate.protocol === remoteCandidate.protocol &&
            candidate.type === remoteCandidate.type;
      });
  if (!alreadyAdded) {
    iceTransport.addRemoteCandidate(candidate);
  }
  return !alreadyAdded;
}


function makeError(name, description) {
  var e = new Error(description);
  e.name = name;
  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names
  e.code = {
    NotSupportedError: 9,
    InvalidStateError: 11,
    InvalidAccessError: 15,
    TypeError: undefined,
    OperationError: undefined
  }[name];
  return e;
}

module.exports = function(window, edgeVersion) {
  // https://w3c.github.io/mediacapture-main/#mediastream
  // Helper function to add the track to the stream and
  // dispatch the event ourselves.
  function addTrackToStreamAndFireEvent(track, stream) {
    stream.addTrack(track);
    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',
        {track: track}));
  }

  function removeTrackFromStreamAndFireEvent(track, stream) {
    stream.removeTrack(track);
    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',
        {track: track}));
  }

  function fireAddTrack(pc, track, receiver, streams) {
    var trackEvent = new Event('track');
    trackEvent.track = track;
    trackEvent.receiver = receiver;
    trackEvent.transceiver = {receiver: receiver};
    trackEvent.streams = streams;
    window.setTimeout(function() {
      pc._dispatchEvent('track', trackEvent);
    });
  }

  var RTCPeerConnection = function(config) {
    var pc = this;

    var _eventTarget = document.createDocumentFragment();
    ['addEventListener', 'removeEventListener', 'dispatchEvent']
        .forEach(function(method) {
          pc[method] = _eventTarget[method].bind(_eventTarget);
        });

    this.canTrickleIceCandidates = null;

    this.needNegotiation = false;

    this.localStreams = [];
    this.remoteStreams = [];

    this._localDescription = null;
    this._remoteDescription = null;

    this.signalingState = 'stable';
    this.iceConnectionState = 'new';
    this.connectionState = 'new';
    this.iceGatheringState = 'new';

    config = JSON.parse(JSON.stringify(config || {}));

    this.usingBundle = config.bundlePolicy === 'max-bundle';
    if (config.rtcpMuxPolicy === 'negotiate') {
      throw(makeError('NotSupportedError',
          'rtcpMuxPolicy \'negotiate\' is not supported'));
    } else if (!config.rtcpMuxPolicy) {
      config.rtcpMuxPolicy = 'require';
    }

    switch (config.iceTransportPolicy) {
      case 'all':
      case 'relay':
        break;
      default:
        config.iceTransportPolicy = 'all';
        break;
    }

    switch (config.bundlePolicy) {
      case 'balanced':
      case 'max-compat':
      case 'max-bundle':
        break;
      default:
        config.bundlePolicy = 'balanced';
        break;
    }

    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);

    this._iceGatherers = [];
    if (config.iceCandidatePoolSize) {
      for (var i = config.iceCandidatePoolSize; i > 0; i--) {
        this._iceGatherers.push(new window.RTCIceGatherer({
          iceServers: config.iceServers,
          gatherPolicy: config.iceTransportPolicy
        }));
      }
    } else {
      config.iceCandidatePoolSize = 0;
    }

    this._config = config;

    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...
    // everything that is needed to describe a SDP m-line.
    this.transceivers = [];

    this._sdpSessionId = SDPUtils.generateSessionId();
    this._sdpSessionVersion = 0;

    this._dtlsRole = undefined; // role for a=setup to use in answers.

    this._isClosed = false;
  };

  Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {
    configurable: true,
    get: function() {
      return this._localDescription;
    }
  });
  Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {
    configurable: true,
    get: function() {
      return this._remoteDescription;
    }
  });

  // set up event handlers on prototype
  RTCPeerConnection.prototype.onicecandidate = null;
  RTCPeerConnection.prototype.onaddstream = null;
  RTCPeerConnection.prototype.ontrack = null;
  RTCPeerConnection.prototype.onremovestream = null;
  RTCPeerConnection.prototype.onsignalingstatechange = null;
  RTCPeerConnection.prototype.oniceconnectionstatechange = null;
  RTCPeerConnection.prototype.onconnectionstatechange = null;
  RTCPeerConnection.prototype.onicegatheringstatechange = null;
  RTCPeerConnection.prototype.onnegotiationneeded = null;
  RTCPeerConnection.prototype.ondatachannel = null;

  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {
    if (this._isClosed) {
      return;
    }
    this.dispatchEvent(event);
    if (typeof this['on' + name] === 'function') {
      this['on' + name](event);
    }
  };

  RTCPeerConnection.prototype._emitGatheringStateChange = function() {
    var event = new Event('icegatheringstatechange');
    this._dispatchEvent('icegatheringstatechange', event);
  };

  RTCPeerConnection.prototype.getConfiguration = function() {
    return this._config;
  };

  RTCPeerConnection.prototype.getLocalStreams = function() {
    return this.localStreams;
  };

  RTCPeerConnection.prototype.getRemoteStreams = function() {
    return this.remoteStreams;
  };

  // internal helper to create a transceiver object.
  // (which is not yet the same as the WebRTC 1.0 transceiver)
  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {
    var hasBundleTransport = this.transceivers.length > 0;
    var transceiver = {
      track: null,
      iceGatherer: null,
      iceTransport: null,
      dtlsTransport: null,
      localCapabilities: null,
      remoteCapabilities: null,
      rtpSender: null,
      rtpReceiver: null,
      kind: kind,
      mid: null,
      sendEncodingParameters: null,
      recvEncodingParameters: null,
      stream: null,
      associatedRemoteMediaStreams: [],
      wantReceive: true
    };
    if (this.usingBundle && hasBundleTransport) {
      transceiver.iceTransport = this.transceivers[0].iceTransport;
      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;
    } else {
      var transports = this._createIceAndDtlsTransports();
      transceiver.iceTransport = transports.iceTransport;
      transceiver.dtlsTransport = transports.dtlsTransport;
    }
    if (!doNotAdd) {
      this.transceivers.push(transceiver);
    }
    return transceiver;
  };

  RTCPeerConnection.prototype.addTrack = function(track, stream) {
    if (this._isClosed) {
      throw makeError('InvalidStateError',
          'Attempted to call addTrack on a closed peerconnection.');
    }

    var alreadyExists = this.transceivers.find(function(s) {
      return s.track === track;
    });

    if (alreadyExists) {
      throw makeError('InvalidAccessError', 'Track already exists.');
    }

    var transceiver;
    for (var i = 0; i < this.transceivers.length; i++) {
      if (!this.transceivers[i].track &&
          this.transceivers[i].kind === track.kind) {
        transceiver = this.transceivers[i];
      }
    }
    if (!transceiver) {
      transceiver = this._createTransceiver(track.kind);
    }

    this._maybeFireNegotiationNeeded();

    if (this.localStreams.indexOf(stream) === -1) {
      this.localStreams.push(stream);
    }

    transceiver.track = track;
    transceiver.stream = stream;
    transceiver.rtpSender = new window.RTCRtpSender(track,
        transceiver.dtlsTransport);
    return transceiver.rtpSender;
  };

  RTCPeerConnection.prototype.addStream = function(stream) {
    var pc = this;
    if (edgeVersion >= 15025) {
      stream.getTracks().forEach(function(track) {
        pc.addTrack(track, stream);
      });
    } else {
      // Clone is necessary for local demos mostly, attaching directly
      // to two different senders does not work (build 10547).
      // Fixed in 15025 (or earlier)
      var clonedStream = stream.clone();
      stream.getTracks().forEach(function(track, idx) {
        var clonedTrack = clonedStream.getTracks()[idx];
        track.addEventListener('enabled', function(event) {
          clonedTrack.enabled = event.enabled;
        });
      });
      clonedStream.getTracks().forEach(function(track) {
        pc.addTrack(track, clonedStream);
      });
    }
  };

  RTCPeerConnection.prototype.removeTrack = function(sender) {
    if (this._isClosed) {
      throw makeError('InvalidStateError',
          'Attempted to call removeTrack on a closed peerconnection.');
    }

    if (!(sender instanceof window.RTCRtpSender)) {
      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +
          'does not implement interface RTCRtpSender.');
    }

    var transceiver = this.transceivers.find(function(t) {
      return t.rtpSender === sender;
    });

    if (!transceiver) {
      throw makeError('InvalidAccessError',
          'Sender was not created by this connection.');
    }
    var stream = transceiver.stream;

    transceiver.rtpSender.stop();
    transceiver.rtpSender = null;
    transceiver.track = null;
    transceiver.stream = null;

    // remove the stream from the set of local streams
    var localStreams = this.transceivers.map(function(t) {
      return t.stream;
    });
    if (localStreams.indexOf(stream) === -1 &&
        this.localStreams.indexOf(stream) > -1) {
      this.localStreams.splice(this.localStreams.indexOf(stream), 1);
    }

    this._maybeFireNegotiationNeeded();
  };

  RTCPeerConnection.prototype.removeStream = function(stream) {
    var pc = this;
    stream.getTracks().forEach(function(track) {
      var sender = pc.getSenders().find(function(s) {
        return s.track === track;
      });
      if (sender) {
        pc.removeTrack(sender);
      }
    });
  };

  RTCPeerConnection.prototype.getSenders = function() {
    return this.transceivers.filter(function(transceiver) {
      return !!transceiver.rtpSender;
    })
    .map(function(transceiver) {
      return transceiver.rtpSender;
    });
  };

  RTCPeerConnection.prototype.getReceivers = function() {
    return this.transceivers.filter(function(transceiver) {
      return !!transceiver.rtpReceiver;
    })
    .map(function(transceiver) {
      return transceiver.rtpReceiver;
    });
  };


  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,
      usingBundle) {
    var pc = this;
    if (usingBundle && sdpMLineIndex > 0) {
      return this.transceivers[0].iceGatherer;
    } else if (this._iceGatherers.length) {
      return this._iceGatherers.shift();
    }
    var iceGatherer = new window.RTCIceGatherer({
      iceServers: this._config.iceServers,
      gatherPolicy: this._config.iceTransportPolicy
    });
    Object.defineProperty(iceGatherer, 'state',
        {value: 'new', writable: true}
    );

    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];
    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {
      var end = !event.candidate || Object.keys(event.candidate).length === 0;
      // polyfill since RTCIceGatherer.state is not implemented in
      // Edge 10547 yet.
      iceGatherer.state = end ? 'completed' : 'gathering';
      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {
        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);
      }
    };
    iceGatherer.addEventListener('localcandidate',
      this.transceivers[sdpMLineIndex].bufferCandidates);
    return iceGatherer;
  };

  // start gathering from an RTCIceGatherer.
  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {
    var pc = this;
    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
    if (iceGatherer.onlocalcandidate) {
      return;
    }
    var bufferedCandidateEvents =
      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;
    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;
    iceGatherer.removeEventListener('localcandidate',
      this.transceivers[sdpMLineIndex].bufferCandidates);
    iceGatherer.onlocalcandidate = function(evt) {
      if (pc.usingBundle && sdpMLineIndex > 0) {
        // if we know that we use bundle we can drop candidates with
        // ѕdpMLineIndex > 0. If we don't do this then our state gets
        // confused since we dispose the extra ice gatherer.
        return;
      }
      var event = new Event('icecandidate');
      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};

      var cand = evt.candidate;
      // Edge emits an empty object for RTCIceCandidateComplete‥
      var end = !cand || Object.keys(cand).length === 0;
      if (end) {
        // polyfill since RTCIceGatherer.state is not implemented in
        // Edge 10547 yet.
        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {
          iceGatherer.state = 'completed';
        }
      } else {
        if (iceGatherer.state === 'new') {
          iceGatherer.state = 'gathering';
        }
        // RTCIceCandidate doesn't have a component, needs to be added
        cand.component = 1;
        // also the usernameFragment. TODO: update SDP to take both variants.
        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;

        var serializedCandidate = SDPUtils.writeCandidate(cand);
        event.candidate = Object.assign(event.candidate,
            SDPUtils.parseCandidate(serializedCandidate));

        event.candidate.candidate = serializedCandidate;
        event.candidate.toJSON = function() {
          return {
            candidate: event.candidate.candidate,
            sdpMid: event.candidate.sdpMid,
            sdpMLineIndex: event.candidate.sdpMLineIndex,
            usernameFragment: event.candidate.usernameFragment
          };
        };
      }

      // update local description.
      var sections = SDPUtils.getMediaSections(pc._localDescription.sdp);
      if (!end) {
        sections[event.candidate.sdpMLineIndex] +=
            'a=' + event.candidate.candidate + '\r\n';
      } else {
        sections[event.candidate.sdpMLineIndex] +=
            'a=end-of-candidates\r\n';
      }
      pc._localDescription.sdp =
          SDPUtils.getDescription(pc._localDescription.sdp) +
          sections.join('');
      var complete = pc.transceivers.every(function(transceiver) {
        return transceiver.iceGatherer &&
            transceiver.iceGatherer.state === 'completed';
      });

      if (pc.iceGatheringState !== 'gathering') {
        pc.iceGatheringState = 'gathering';
        pc._emitGatheringStateChange();
      }

      // Emit candidate. Also emit null candidate when all gatherers are
      // complete.
      if (!end) {
        pc._dispatchEvent('icecandidate', event);
      }
      if (complete) {
        pc._dispatchEvent('icecandidate', new Event('icecandidate'));
        pc.iceGatheringState = 'complete';
        pc._emitGatheringStateChange();
      }
    };

    // emit already gathered candidates.
    window.setTimeout(function() {
      bufferedCandidateEvents.forEach(function(e) {
        iceGatherer.onlocalcandidate(e);
      });
    }, 0);
  };

  // Create ICE transport and DTLS transport.
  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {
    var pc = this;
    var iceTransport = new window.RTCIceTransport(null);
    iceTransport.onicestatechange = function() {
      pc._updateIceConnectionState();
      pc._updateConnectionState();
    };

    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);
    dtlsTransport.ondtlsstatechange = function() {
      pc._updateConnectionState();
    };
    dtlsTransport.onerror = function() {
      // onerror does not set state to failed by itself.
      Object.defineProperty(dtlsTransport, 'state',
          {value: 'failed', writable: true});
      pc._updateConnectionState();
    };

    return {
      iceTransport: iceTransport,
      dtlsTransport: dtlsTransport
    };
  };

  // Destroy ICE gatherer, ICE transport and DTLS transport.
  // Without triggering the callbacks.
  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(
      sdpMLineIndex) {
    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
    if (iceGatherer) {
      delete iceGatherer.onlocalcandidate;
      delete this.transceivers[sdpMLineIndex].iceGatherer;
    }
    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;
    if (iceTransport) {
      delete iceTransport.onicestatechange;
      delete this.transceivers[sdpMLineIndex].iceTransport;
    }
    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;
    if (dtlsTransport) {
      delete dtlsTransport.ondtlsstatechange;
      delete dtlsTransport.onerror;
      delete this.transceivers[sdpMLineIndex].dtlsTransport;
    }
  };

  // Start the RTP Sender and Receiver for a transceiver.
  RTCPeerConnection.prototype._transceive = function(transceiver,
      send, recv) {
    var params = getCommonCapabilities(transceiver.localCapabilities,
        transceiver.remoteCapabilities);
    if (send && transceiver.rtpSender) {
      params.encodings = transceiver.sendEncodingParameters;
      params.rtcp = {
        cname: SDPUtils.localCName,
        compound: transceiver.rtcpParameters.compound
      };
      if (transceiver.recvEncodingParameters.length) {
        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;
      }
      transceiver.rtpSender.send(params);
    }
    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {
      // remove RTX field in Edge 14942
      if (transceiver.kind === 'video'
          && transceiver.recvEncodingParameters
          && edgeVersion < 15019) {
        transceiver.recvEncodingParameters.forEach(function(p) {
          delete p.rtx;
        });
      }
      if (transceiver.recvEncodingParameters.length) {
        params.encodings = transceiver.recvEncodingParameters;
      } else {
        params.encodings = [{}];
      }
      params.rtcp = {
        compound: transceiver.rtcpParameters.compound
      };
      if (transceiver.rtcpParameters.cname) {
        params.rtcp.cname = transceiver.rtcpParameters.cname;
      }
      if (transceiver.sendEncodingParameters.length) {
        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;
      }
      transceiver.rtpReceiver.receive(params);
    }
  };

  RTCPeerConnection.prototype.setLocalDescription = function(description) {
    var pc = this;

    // Note: pranswer is not supported.
    if (['offer', 'answer'].indexOf(description.type) === -1) {
      return Promise.reject(makeError('TypeError',
          'Unsupported type "' + description.type + '"'));
    }

    if (!isActionAllowedInSignalingState('setLocalDescription',
        description.type, pc.signalingState) || pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not set local ' + description.type +
          ' in state ' + pc.signalingState));
    }

    var sections;
    var sessionpart;
    if (description.type === 'offer') {
      // VERY limited support for SDP munging. Limited to:
      // * changing the order of codecs
      sections = SDPUtils.splitSections(description.sdp);
      sessionpart = sections.shift();
      sections.forEach(function(mediaSection, sdpMLineIndex) {
        var caps = SDPUtils.parseRtpParameters(mediaSection);
        pc.transceivers[sdpMLineIndex].localCapabilities = caps;
      });

      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
        pc._gather(transceiver.mid, sdpMLineIndex);
      });
    } else if (description.type === 'answer') {
      sections = SDPUtils.splitSections(pc._remoteDescription.sdp);
      sessionpart = sections.shift();
      var isIceLite = SDPUtils.matchPrefix(sessionpart,
          'a=ice-lite').length > 0;
      sections.forEach(function(mediaSection, sdpMLineIndex) {
        var transceiver = pc.transceivers[sdpMLineIndex];
        var iceGatherer = transceiver.iceGatherer;
        var iceTransport = transceiver.iceTransport;
        var dtlsTransport = transceiver.dtlsTransport;
        var localCapabilities = transceiver.localCapabilities;
        var remoteCapabilities = transceiver.remoteCapabilities;

        // treat bundle-only as not-rejected.
        var rejected = SDPUtils.isRejected(mediaSection) &&
            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;

        if (!rejected && !transceiver.rejected) {
          var remoteIceParameters = SDPUtils.getIceParameters(
              mediaSection, sessionpart);
          var remoteDtlsParameters = SDPUtils.getDtlsParameters(
              mediaSection, sessionpart);
          if (isIceLite) {
            remoteDtlsParameters.role = 'server';
          }

          if (!pc.usingBundle || sdpMLineIndex === 0) {
            pc._gather(transceiver.mid, sdpMLineIndex);
            if (iceTransport.state === 'new') {
              iceTransport.start(iceGatherer, remoteIceParameters,
                  isIceLite ? 'controlling' : 'controlled');
            }
            if (dtlsTransport.state === 'new') {
              dtlsTransport.start(remoteDtlsParameters);
            }
          }

          // Calculate intersection of capabilities.
          var params = getCommonCapabilities(localCapabilities,
              remoteCapabilities);

          // Start the RTCRtpSender. The RTCRtpReceiver for this
          // transceiver has already been started in setRemoteDescription.
          pc._transceive(transceiver,
              params.codecs.length > 0,
              false);
        }
      });
    }

    pc._localDescription = {
      type: description.type,
      sdp: description.sdp
    };
    if (description.type === 'offer') {
      pc._updateSignalingState('have-local-offer');
    } else {
      pc._updateSignalingState('stable');
    }

    return Promise.resolve();
  };

  RTCPeerConnection.prototype.setRemoteDescription = function(description) {
    var pc = this;

    // Note: pranswer is not supported.
    if (['offer', 'answer'].indexOf(description.type) === -1) {
      return Promise.reject(makeError('TypeError',
          'Unsupported type "' + description.type + '"'));
    }

    if (!isActionAllowedInSignalingState('setRemoteDescription',
        description.type, pc.signalingState) || pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not set remote ' + description.type +
          ' in state ' + pc.signalingState));
    }

    var streams = {};
    pc.remoteStreams.forEach(function(stream) {
      streams[stream.id] = stream;
    });
    var receiverList = [];
    var sections = SDPUtils.splitSections(description.sdp);
    var sessionpart = sections.shift();
    var isIceLite = SDPUtils.matchPrefix(sessionpart,
        'a=ice-lite').length > 0;
    var usingBundle = SDPUtils.matchPrefix(sessionpart,
        'a=group:BUNDLE ').length > 0;
    pc.usingBundle = usingBundle;
    var iceOptions = SDPUtils.matchPrefix(sessionpart,
        'a=ice-options:')[0];
    if (iceOptions) {
      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')
          .indexOf('trickle') >= 0;
    } else {
      pc.canTrickleIceCandidates = false;
    }

    sections.forEach(function(mediaSection, sdpMLineIndex) {
      var lines = SDPUtils.splitLines(mediaSection);
      var kind = SDPUtils.getKind(mediaSection);
      // treat bundle-only as not-rejected.
      var rejected = SDPUtils.isRejected(mediaSection) &&
          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;
      var protocol = lines[0].substr(2).split(' ')[2];

      var direction = SDPUtils.getDirection(mediaSection, sessionpart);
      var remoteMsid = SDPUtils.parseMsid(mediaSection);

      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();

      // Reject datachannels which are not implemented yet.
      if (rejected || (kind === 'application' && (protocol === 'DTLS/SCTP' ||
          protocol === 'UDP/DTLS/SCTP'))) {
        // TODO: this is dangerous in the case where a non-rejected m-line
        //     becomes rejected.
        pc.transceivers[sdpMLineIndex] = {
          mid: mid,
          kind: kind,
          protocol: protocol,
          rejected: true
        };
        return;
      }

      if (!rejected && pc.transceivers[sdpMLineIndex] &&
          pc.transceivers[sdpMLineIndex].rejected) {
        // recycle a rejected transceiver.
        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);
      }

      var transceiver;
      var iceGatherer;
      var iceTransport;
      var dtlsTransport;
      var rtpReceiver;
      var sendEncodingParameters;
      var recvEncodingParameters;
      var localCapabilities;

      var track;
      // FIXME: ensure the mediaSection has rtcp-mux set.
      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);
      var remoteIceParameters;
      var remoteDtlsParameters;
      if (!rejected) {
        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,
            sessionpart);
        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,
            sessionpart);
        remoteDtlsParameters.role = 'client';
      }
      recvEncodingParameters =
          SDPUtils.parseRtpEncodingParameters(mediaSection);

      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);

      var isComplete = SDPUtils.matchPrefix(mediaSection,
          'a=end-of-candidates', sessionpart).length > 0;
      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')
          .map(function(cand) {
            return SDPUtils.parseCandidate(cand);
          })
          .filter(function(cand) {
            return cand.component === 1;
          });

      // Check if we can use BUNDLE and dispose transports.
      if ((description.type === 'offer' || description.type === 'answer') &&
          !rejected && usingBundle && sdpMLineIndex > 0 &&
          pc.transceivers[sdpMLineIndex]) {
        pc._disposeIceAndDtlsTransports(sdpMLineIndex);
        pc.transceivers[sdpMLineIndex].iceGatherer =
            pc.transceivers[0].iceGatherer;
        pc.transceivers[sdpMLineIndex].iceTransport =
            pc.transceivers[0].iceTransport;
        pc.transceivers[sdpMLineIndex].dtlsTransport =
            pc.transceivers[0].dtlsTransport;
        if (pc.transceivers[sdpMLineIndex].rtpSender) {
          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(
              pc.transceivers[0].dtlsTransport);
        }
        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {
          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(
              pc.transceivers[0].dtlsTransport);
        }
      }
      if (description.type === 'offer' && !rejected) {
        transceiver = pc.transceivers[sdpMLineIndex] ||
            pc._createTransceiver(kind);
        transceiver.mid = mid;

        if (!transceiver.iceGatherer) {
          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,
              usingBundle);
        }

        if (cands.length && transceiver.iceTransport.state === 'new') {
          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {
            transceiver.iceTransport.setRemoteCandidates(cands);
          } else {
            cands.forEach(function(candidate) {
              maybeAddCandidate(transceiver.iceTransport, candidate);
            });
          }
        }

        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);

        // filter RTX until additional stuff needed for RTX is implemented
        // in adapter.js
        if (edgeVersion < 15019) {
          localCapabilities.codecs = localCapabilities.codecs.filter(
              function(codec) {
                return codec.name !== 'rtx';
              });
        }

        sendEncodingParameters = transceiver.sendEncodingParameters || [{
          ssrc: (2 * sdpMLineIndex + 2) * 1001
        }];

        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams
        var isNewTrack = false;
        if (direction === 'sendrecv' || direction === 'sendonly') {
          isNewTrack = !transceiver.rtpReceiver;
          rtpReceiver = transceiver.rtpReceiver ||
              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);

          if (isNewTrack) {
            var stream;
            track = rtpReceiver.track;
            // FIXME: does not work with Plan B.
            if (remoteMsid && remoteMsid.stream === '-') {
              // no-op. a stream id of '-' means: no associated stream.
            } else if (remoteMsid) {
              if (!streams[remoteMsid.stream]) {
                streams[remoteMsid.stream] = new window.MediaStream();
                Object.defineProperty(streams[remoteMsid.stream], 'id', {
                  get: function() {
                    return remoteMsid.stream;
                  }
                });
              }
              Object.defineProperty(track, 'id', {
                get: function() {
                  return remoteMsid.track;
                }
              });
              stream = streams[remoteMsid.stream];
            } else {
              if (!streams.default) {
                streams.default = new window.MediaStream();
              }
              stream = streams.default;
            }
            if (stream) {
              addTrackToStreamAndFireEvent(track, stream);
              transceiver.associatedRemoteMediaStreams.push(stream);
            }
            receiverList.push([track, rtpReceiver, stream]);
          }
        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {
          transceiver.associatedRemoteMediaStreams.forEach(function(s) {
            var nativeTrack = s.getTracks().find(function(t) {
              return t.id === transceiver.rtpReceiver.track.id;
            });
            if (nativeTrack) {
              removeTrackFromStreamAndFireEvent(nativeTrack, s);
            }
          });
          transceiver.associatedRemoteMediaStreams = [];
        }

        transceiver.localCapabilities = localCapabilities;
        transceiver.remoteCapabilities = remoteCapabilities;
        transceiver.rtpReceiver = rtpReceiver;
        transceiver.rtcpParameters = rtcpParameters;
        transceiver.sendEncodingParameters = sendEncodingParameters;
        transceiver.recvEncodingParameters = recvEncodingParameters;

        // Start the RTCRtpReceiver now. The RTPSender is started in
        // setLocalDescription.
        pc._transceive(pc.transceivers[sdpMLineIndex],
            false,
            isNewTrack);
      } else if (description.type === 'answer' && !rejected) {
        transceiver = pc.transceivers[sdpMLineIndex];
        iceGatherer = transceiver.iceGatherer;
        iceTransport = transceiver.iceTransport;
        dtlsTransport = transceiver.dtlsTransport;
        rtpReceiver = transceiver.rtpReceiver;
        sendEncodingParameters = transceiver.sendEncodingParameters;
        localCapabilities = transceiver.localCapabilities;

        pc.transceivers[sdpMLineIndex].recvEncodingParameters =
            recvEncodingParameters;
        pc.transceivers[sdpMLineIndex].remoteCapabilities =
            remoteCapabilities;
        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;

        if (cands.length && iceTransport.state === 'new') {
          if ((isIceLite || isComplete) &&
              (!usingBundle || sdpMLineIndex === 0)) {
            iceTransport.setRemoteCandidates(cands);
          } else {
            cands.forEach(function(candidate) {
              maybeAddCandidate(transceiver.iceTransport, candidate);
            });
          }
        }

        if (!usingBundle || sdpMLineIndex === 0) {
          if (iceTransport.state === 'new') {
            iceTransport.start(iceGatherer, remoteIceParameters,
                'controlling');
          }
          if (dtlsTransport.state === 'new') {
            dtlsTransport.start(remoteDtlsParameters);
          }
        }

        // If the offer contained RTX but the answer did not,
        // remove RTX from sendEncodingParameters.
        var commonCapabilities = getCommonCapabilities(
          transceiver.localCapabilities,
          transceiver.remoteCapabilities);

        var hasRtx = commonCapabilities.codecs.filter(function(c) {
          return c.name.toLowerCase() === 'rtx';
        }).length;
        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
          delete transceiver.sendEncodingParameters[0].rtx;
        }

        pc._transceive(transceiver,
            direction === 'sendrecv' || direction === 'recvonly',
            direction === 'sendrecv' || direction === 'sendonly');

        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams
        if (rtpReceiver &&
            (direction === 'sendrecv' || direction === 'sendonly')) {
          track = rtpReceiver.track;
          if (remoteMsid) {
            if (!streams[remoteMsid.stream]) {
              streams[remoteMsid.stream] = new window.MediaStream();
            }
            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);
            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);
          } else {
            if (!streams.default) {
              streams.default = new window.MediaStream();
            }
            addTrackToStreamAndFireEvent(track, streams.default);
            receiverList.push([track, rtpReceiver, streams.default]);
          }
        } else {
          // FIXME: actually the receiver should be created later.
          delete transceiver.rtpReceiver;
        }
      }
    });

    if (pc._dtlsRole === undefined) {
      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';
    }

    pc._remoteDescription = {
      type: description.type,
      sdp: description.sdp
    };
    if (description.type === 'offer') {
      pc._updateSignalingState('have-remote-offer');
    } else {
      pc._updateSignalingState('stable');
    }
    Object.keys(streams).forEach(function(sid) {
      var stream = streams[sid];
      if (stream.getTracks().length) {
        if (pc.remoteStreams.indexOf(stream) === -1) {
          pc.remoteStreams.push(stream);
          var event = new Event('addstream');
          event.stream = stream;
          window.setTimeout(function() {
            pc._dispatchEvent('addstream', event);
          });
        }

        receiverList.forEach(function(item) {
          var track = item[0];
          var receiver = item[1];
          if (stream.id !== item[2].id) {
            return;
          }
          fireAddTrack(pc, track, receiver, [stream]);
        });
      }
    });
    receiverList.forEach(function(item) {
      if (item[2]) {
        return;
      }
      fireAddTrack(pc, item[0], item[1], []);
    });

    // check whether addIceCandidate({}) was called within four seconds after
    // setRemoteDescription.
    window.setTimeout(function() {
      if (!(pc && pc.transceivers)) {
        return;
      }
      pc.transceivers.forEach(function(transceiver) {
        if (transceiver.iceTransport &&
            transceiver.iceTransport.state === 'new' &&
            transceiver.iceTransport.getRemoteCandidates().length > 0) {
          console.warn('Timeout for addRemoteCandidate. Consider sending ' +
              'an end-of-candidates notification');
          transceiver.iceTransport.addRemoteCandidate({});
        }
      });
    }, 4000);

    return Promise.resolve();
  };

  RTCPeerConnection.prototype.close = function() {
    this.transceivers.forEach(function(transceiver) {
      /* not yet
      if (transceiver.iceGatherer) {
        transceiver.iceGatherer.close();
      }
      */
      if (transceiver.iceTransport) {
        transceiver.iceTransport.stop();
      }
      if (transceiver.dtlsTransport) {
        transceiver.dtlsTransport.stop();
      }
      if (transceiver.rtpSender) {
        transceiver.rtpSender.stop();
      }
      if (transceiver.rtpReceiver) {
        transceiver.rtpReceiver.stop();
      }
    });
    // FIXME: clean up tracks, local streams, remote streams, etc
    this._isClosed = true;
    this._updateSignalingState('closed');
  };

  // Update the signaling state.
  RTCPeerConnection.prototype._updateSignalingState = function(newState) {
    this.signalingState = newState;
    var event = new Event('signalingstatechange');
    this._dispatchEvent('signalingstatechange', event);
  };

  // Determine whether to fire the negotiationneeded event.
  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {
    var pc = this;
    if (this.signalingState !== 'stable' || this.needNegotiation === true) {
      return;
    }
    this.needNegotiation = true;
    window.setTimeout(function() {
      if (pc.needNegotiation) {
        pc.needNegotiation = false;
        var event = new Event('negotiationneeded');
        pc._dispatchEvent('negotiationneeded', event);
      }
    }, 0);
  };

  // Update the ice connection state.
  RTCPeerConnection.prototype._updateIceConnectionState = function() {
    var newState;
    var states = {
      'new': 0,
      closed: 0,
      checking: 0,
      connected: 0,
      completed: 0,
      disconnected: 0,
      failed: 0
    };
    this.transceivers.forEach(function(transceiver) {
      if (transceiver.iceTransport && !transceiver.rejected) {
        states[transceiver.iceTransport.state]++;
      }
    });

    newState = 'new';
    if (states.failed > 0) {
      newState = 'failed';
    } else if (states.checking > 0) {
      newState = 'checking';
    } else if (states.disconnected > 0) {
      newState = 'disconnected';
    } else if (states.new > 0) {
      newState = 'new';
    } else if (states.connected > 0) {
      newState = 'connected';
    } else if (states.completed > 0) {
      newState = 'completed';
    }

    if (newState !== this.iceConnectionState) {
      this.iceConnectionState = newState;
      var event = new Event('iceconnectionstatechange');
      this._dispatchEvent('iceconnectionstatechange', event);
    }
  };

  // Update the connection state.
  RTCPeerConnection.prototype._updateConnectionState = function() {
    var newState;
    var states = {
      'new': 0,
      closed: 0,
      connecting: 0,
      connected: 0,
      completed: 0,
      disconnected: 0,
      failed: 0
    };
    this.transceivers.forEach(function(transceiver) {
      if (transceiver.iceTransport && transceiver.dtlsTransport &&
          !transceiver.rejected) {
        states[transceiver.iceTransport.state]++;
        states[transceiver.dtlsTransport.state]++;
      }
    });
    // ICETransport.completed and connected are the same for this purpose.
    states.connected += states.completed;

    newState = 'new';
    if (states.failed > 0) {
      newState = 'failed';
    } else if (states.connecting > 0) {
      newState = 'connecting';
    } else if (states.disconnected > 0) {
      newState = 'disconnected';
    } else if (states.new > 0) {
      newState = 'new';
    } else if (states.connected > 0) {
      newState = 'connected';
    }

    if (newState !== this.connectionState) {
      this.connectionState = newState;
      var event = new Event('connectionstatechange');
      this._dispatchEvent('connectionstatechange', event);
    }
  };

  RTCPeerConnection.prototype.createOffer = function() {
    var pc = this;

    if (pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createOffer after close'));
    }

    var numAudioTracks = pc.transceivers.filter(function(t) {
      return t.kind === 'audio';
    }).length;
    var numVideoTracks = pc.transceivers.filter(function(t) {
      return t.kind === 'video';
    }).length;

    // Determine number of audio and video tracks we need to send/recv.
    var offerOptions = arguments[0];
    if (offerOptions) {
      // Reject Chrome legacy constraints.
      if (offerOptions.mandatory || offerOptions.optional) {
        throw new TypeError(
            'Legacy mandatory/optional constraints not supported.');
      }
      if (offerOptions.offerToReceiveAudio !== undefined) {
        if (offerOptions.offerToReceiveAudio === true) {
          numAudioTracks = 1;
        } else if (offerOptions.offerToReceiveAudio === false) {
          numAudioTracks = 0;
        } else {
          numAudioTracks = offerOptions.offerToReceiveAudio;
        }
      }
      if (offerOptions.offerToReceiveVideo !== undefined) {
        if (offerOptions.offerToReceiveVideo === true) {
          numVideoTracks = 1;
        } else if (offerOptions.offerToReceiveVideo === false) {
          numVideoTracks = 0;
        } else {
          numVideoTracks = offerOptions.offerToReceiveVideo;
        }
      }
    }

    pc.transceivers.forEach(function(transceiver) {
      if (transceiver.kind === 'audio') {
        numAudioTracks--;
        if (numAudioTracks < 0) {
          transceiver.wantReceive = false;
        }
      } else if (transceiver.kind === 'video') {
        numVideoTracks--;
        if (numVideoTracks < 0) {
          transceiver.wantReceive = false;
        }
      }
    });

    // Create M-lines for recvonly streams.
    while (numAudioTracks > 0 || numVideoTracks > 0) {
      if (numAudioTracks > 0) {
        pc._createTransceiver('audio');
        numAudioTracks--;
      }
      if (numVideoTracks > 0) {
        pc._createTransceiver('video');
        numVideoTracks--;
      }
    }

    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,
        pc._sdpSessionVersion++);
    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      // For each track, create an ice gatherer, ice transport,
      // dtls transport, potentially rtpsender and rtpreceiver.
      var track = transceiver.track;
      var kind = transceiver.kind;
      var mid = transceiver.mid || SDPUtils.generateIdentifier();
      transceiver.mid = mid;

      if (!transceiver.iceGatherer) {
        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,
            pc.usingBundle);
      }

      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);
      // filter RTX until additional stuff needed for RTX is implemented
      // in adapter.js
      if (edgeVersion < 15019) {
        localCapabilities.codecs = localCapabilities.codecs.filter(
            function(codec) {
              return codec.name !== 'rtx';
            });
      }
      localCapabilities.codecs.forEach(function(codec) {
        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552
        // by adding level-asymmetry-allowed=1
        if (codec.name === 'H264' &&
            codec.parameters['level-asymmetry-allowed'] === undefined) {
          codec.parameters['level-asymmetry-allowed'] = '1';
        }

        // for subsequent offers, we might have to re-use the payload
        // type of the last offer.
        if (transceiver.remoteCapabilities &&
            transceiver.remoteCapabilities.codecs) {
          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {
            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&
                codec.clockRate === remoteCodec.clockRate) {
              codec.preferredPayloadType = remoteCodec.payloadType;
            }
          });
        }
      });
      localCapabilities.headerExtensions.forEach(function(hdrExt) {
        var remoteExtensions = transceiver.remoteCapabilities &&
            transceiver.remoteCapabilities.headerExtensions || [];
        remoteExtensions.forEach(function(rHdrExt) {
          if (hdrExt.uri === rHdrExt.uri) {
            hdrExt.id = rHdrExt.id;
          }
        });
      });

      // generate an ssrc now, to be used later in rtpSender.send
      var sendEncodingParameters = transceiver.sendEncodingParameters || [{
        ssrc: (2 * sdpMLineIndex + 1) * 1001
      }];
      if (track) {
        // add RTX
        if (edgeVersion >= 15019 && kind === 'video' &&
            !sendEncodingParameters[0].rtx) {
          sendEncodingParameters[0].rtx = {
            ssrc: sendEncodingParameters[0].ssrc + 1
          };
        }
      }

      if (transceiver.wantReceive) {
        transceiver.rtpReceiver = new window.RTCRtpReceiver(
            transceiver.dtlsTransport, kind);
      }

      transceiver.localCapabilities = localCapabilities;
      transceiver.sendEncodingParameters = sendEncodingParameters;
    });

    // always offer BUNDLE and dispose on return if not supported.
    if (pc._config.bundlePolicy !== 'max-compat') {
      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {
        return t.mid;
      }).join(' ') + '\r\n';
    }
    sdp += 'a=ice-options:trickle\r\n';

    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,
          'offer', transceiver.stream, pc._dtlsRole);
      sdp += 'a=rtcp-rsize\r\n';

      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&
          (sdpMLineIndex === 0 || !pc.usingBundle)) {
        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {
          cand.component = 1;
          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\r\n';
        });

        if (transceiver.iceGatherer.state === 'completed') {
          sdp += 'a=end-of-candidates\r\n';
        }
      }
    });

    var desc = new window.RTCSessionDescription({
      type: 'offer',
      sdp: sdp
    });
    return Promise.resolve(desc);
  };

  RTCPeerConnection.prototype.createAnswer = function() {
    var pc = this;

    if (pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createAnswer after close'));
    }

    if (!(pc.signalingState === 'have-remote-offer' ||
        pc.signalingState === 'have-local-pranswer')) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createAnswer in signalingState ' + pc.signalingState));
    }

    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,
        pc._sdpSessionVersion++);
    if (pc.usingBundle) {
      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {
        return t.mid;
      }).join(' ') + '\r\n';
    }
    sdp += 'a=ice-options:trickle\r\n';

    var mediaSectionsInOffer = SDPUtils.getMediaSections(
        pc._remoteDescription.sdp).length;
    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {
        return;
      }
      if (transceiver.rejected) {
        if (transceiver.kind === 'application') {
          if (transceiver.protocol === 'DTLS/SCTP') { // legacy fmt
            sdp += 'm=application 0 DTLS/SCTP 5000\r\n';
          } else {
            sdp += 'm=application 0 ' + transceiver.protocol +
                ' webrtc-datachannel\r\n';
          }
        } else if (transceiver.kind === 'audio') {
          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\r\n' +
              'a=rtpmap:0 PCMU/8000\r\n';
        } else if (transceiver.kind === 'video') {
          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\r\n' +
              'a=rtpmap:120 VP8/90000\r\n';
        }
        sdp += 'c=IN IP4 0.0.0.0\r\n' +
            'a=inactive\r\n' +
            'a=mid:' + transceiver.mid + '\r\n';
        return;
      }

      // FIXME: look at direction.
      if (transceiver.stream) {
        var localTrack;
        if (transceiver.kind === 'audio') {
          localTrack = transceiver.stream.getAudioTracks()[0];
        } else if (transceiver.kind === 'video') {
          localTrack = transceiver.stream.getVideoTracks()[0];
        }
        if (localTrack) {
          // add RTX
          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&
              !transceiver.sendEncodingParameters[0].rtx) {
            transceiver.sendEncodingParameters[0].rtx = {
              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1
            };
          }
        }
      }

      // Calculate intersection of capabilities.
      var commonCapabilities = getCommonCapabilities(
          transceiver.localCapabilities,
          transceiver.remoteCapabilities);

      var hasRtx = commonCapabilities.codecs.filter(function(c) {
        return c.name.toLowerCase() === 'rtx';
      }).length;
      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
        delete transceiver.sendEncodingParameters[0].rtx;
      }

      sdp += writeMediaSection(transceiver, commonCapabilities,
          'answer', transceiver.stream, pc._dtlsRole);
      if (transceiver.rtcpParameters &&
          transceiver.rtcpParameters.reducedSize) {
        sdp += 'a=rtcp-rsize\r\n';
      }
    });

    var desc = new window.RTCSessionDescription({
      type: 'answer',
      sdp: sdp
    });
    return Promise.resolve(desc);
  };

  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {
    var pc = this;
    var sections;
    if (candidate && !(candidate.sdpMLineIndex !== undefined ||
        candidate.sdpMid)) {
      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));
    }

    // TODO: needs to go into ops queue.
    return new Promise(function(resolve, reject) {
      if (!pc._remoteDescription) {
        return reject(makeError('InvalidStateError',
            'Can not add ICE candidate without a remote description'));
      } else if (!candidate || candidate.candidate === '') {
        for (var j = 0; j < pc.transceivers.length; j++) {
          if (pc.transceivers[j].rejected) {
            continue;
          }
          pc.transceivers[j].iceTransport.addRemoteCandidate({});
          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);
          sections[j] += 'a=end-of-candidates\r\n';
          pc._remoteDescription.sdp =
              SDPUtils.getDescription(pc._remoteDescription.sdp) +
              sections.join('');
          if (pc.usingBundle) {
            break;
          }
        }
      } else {
        var sdpMLineIndex = candidate.sdpMLineIndex;
        if (candidate.sdpMid) {
          for (var i = 0; i < pc.transceivers.length; i++) {
            if (pc.transceivers[i].mid === candidate.sdpMid) {
              sdpMLineIndex = i;
              break;
            }
          }
        }
        var transceiver = pc.transceivers[sdpMLineIndex];
        if (transceiver) {
          if (transceiver.rejected) {
            return resolve();
          }
          var cand = Object.keys(candidate.candidate).length > 0 ?
              SDPUtils.parseCandidate(candidate.candidate) : {};
          // Ignore Chrome's invalid candidates since Edge does not like them.
          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {
            return resolve();
          }
          // Ignore RTCP candidates, we assume RTCP-MUX.
          if (cand.component && cand.component !== 1) {
            return resolve();
          }
          // when using bundle, avoid adding candidates to the wrong
          // ice transport. And avoid adding candidates added in the SDP.
          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&
              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {
            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {
              return reject(makeError('OperationError',
                  'Can not add ICE candidate'));
            }
          }

          // update the remoteDescription.
          var candidateString = candidate.candidate.trim();
          if (candidateString.indexOf('a=') === 0) {
            candidateString = candidateString.substr(2);
          }
          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);
          sections[sdpMLineIndex] += 'a=' +
              (cand.type ? candidateString : 'end-of-candidates')
              + '\r\n';
          pc._remoteDescription.sdp =
              SDPUtils.getDescription(pc._remoteDescription.sdp) +
              sections.join('');
        } else {
          return reject(makeError('OperationError',
              'Can not add ICE candidate'));
        }
      }
      resolve();
    });
  };

  RTCPeerConnection.prototype.getStats = function(selector) {
    if (selector && selector instanceof window.MediaStreamTrack) {
      var senderOrReceiver = null;
      this.transceivers.forEach(function(transceiver) {
        if (transceiver.rtpSender &&
            transceiver.rtpSender.track === selector) {
          senderOrReceiver = transceiver.rtpSender;
        } else if (transceiver.rtpReceiver &&
            transceiver.rtpReceiver.track === selector) {
          senderOrReceiver = transceiver.rtpReceiver;
        }
      });
      if (!senderOrReceiver) {
        throw makeError('InvalidAccessError', 'Invalid selector.');
      }
      return senderOrReceiver.getStats();
    }

    var promises = [];
    this.transceivers.forEach(function(transceiver) {
      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',
          'dtlsTransport'].forEach(function(method) {
            if (transceiver[method]) {
              promises.push(transceiver[method].getStats());
            }
          });
    });
    return Promise.all(promises).then(function(allStats) {
      var results = new Map();
      allStats.forEach(function(stats) {
        stats.forEach(function(stat) {
          results.set(stat.id, stat);
        });
      });
      return results;
    });
  };

  // fix low-level stat names and return Map instead of object.
  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',
    'RTCIceTransport', 'RTCDtlsTransport'];
  ortcObjects.forEach(function(ortcObjectName) {
    var obj = window[ortcObjectName];
    if (obj && obj.prototype && obj.prototype.getStats) {
      var nativeGetstats = obj.prototype.getStats;
      obj.prototype.getStats = function() {
        return nativeGetstats.apply(this)
        .then(function(nativeStats) {
          var mapStats = new Map();
          Object.keys(nativeStats).forEach(function(id) {
            nativeStats[id].type = fixStatsType(nativeStats[id]);
            mapStats.set(id, nativeStats[id]);
          });
          return mapStats;
        });
      };
    }
  });

  // legacy callback shims. Should be moved to adapter.js some days.
  var methods = ['createOffer', 'createAnswer'];
  methods.forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[0] === 'function' ||
          typeof args[1] === 'function') { // legacy
        return nativeMethod.apply(this, [arguments[2]])
        .then(function(description) {
          if (typeof args[0] === 'function') {
            args[0].apply(null, [description]);
          }
        }, function(error) {
          if (typeof args[1] === 'function') {
            args[1].apply(null, [error]);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];
  methods.forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[1] === 'function' ||
          typeof args[2] === 'function') { // legacy
        return nativeMethod.apply(this, arguments)
        .then(function() {
          if (typeof args[1] === 'function') {
            args[1].apply(null);
          }
        }, function(error) {
          if (typeof args[2] === 'function') {
            args[2].apply(null, [error]);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  // getStats is special. It doesn't have a spec legacy method yet we support
  // getStats(something, cb) without error callbacks.
  ['getStats'].forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[1] === 'function') {
        return nativeMethod.apply(this, arguments)
        .then(function() {
          if (typeof args[1] === 'function') {
            args[1].apply(null);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  return RTCPeerConnection;
};

},{"sdp":133}],133:[function(require,module,exports){
/* eslint-env node */
'use strict';

// SDP helpers.
var SDPUtils = {};

// Generate an alphanumeric identifier for cname or mids.
// TODO: use UUIDs instead? https://gist.github.com/jed/982883
SDPUtils.generateIdentifier = function() {
  return Math.random().toString(36).substr(2, 10);
};

// The RTCP CNAME used by all peerconnections from the same JS.
SDPUtils.localCName = SDPUtils.generateIdentifier();

// Splits SDP into lines, dealing with both CRLF and LF.
SDPUtils.splitLines = function(blob) {
  return blob.trim().split('\n').map(function(line) {
    return line.trim();
  });
};
// Splits SDP into sessionpart and mediasections. Ensures CRLF.
SDPUtils.splitSections = function(blob) {
  var parts = blob.split('\nm=');
  return parts.map(function(part, index) {
    return (index > 0 ? 'm=' + part : part).trim() + '\r\n';
  });
};

// returns the session description.
SDPUtils.getDescription = function(blob) {
  var sections = SDPUtils.splitSections(blob);
  return sections && sections[0];
};

// returns the individual media sections.
SDPUtils.getMediaSections = function(blob) {
  var sections = SDPUtils.splitSections(blob);
  sections.shift();
  return sections;
};

// Returns lines that start with a certain prefix.
SDPUtils.matchPrefix = function(blob, prefix) {
  return SDPUtils.splitLines(blob).filter(function(line) {
    return line.indexOf(prefix) === 0;
  });
};

// Parses an ICE candidate line. Sample input:
// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8
// rport 55996"
SDPUtils.parseCandidate = function(line) {
  var parts;
  // Parse both variants.
  if (line.indexOf('a=candidate:') === 0) {
    parts = line.substring(12).split(' ');
  } else {
    parts = line.substring(10).split(' ');
  }

  var candidate = {
    foundation: parts[0],
    component: parseInt(parts[1], 10),
    protocol: parts[2].toLowerCase(),
    priority: parseInt(parts[3], 10),
    ip: parts[4],
    address: parts[4], // address is an alias for ip.
    port: parseInt(parts[5], 10),
    // skip parts[6] == 'typ'
    type: parts[7]
  };

  for (var i = 8; i < parts.length; i += 2) {
    switch (parts[i]) {
      case 'raddr':
        candidate.relatedAddress = parts[i + 1];
        break;
      case 'rport':
        candidate.relatedPort = parseInt(parts[i + 1], 10);
        break;
      case 'tcptype':
        candidate.tcpType = parts[i + 1];
        break;
      case 'ufrag':
        candidate.ufrag = parts[i + 1]; // for backward compability.
        candidate.usernameFragment = parts[i + 1];
        break;
      default: // extension handling, in particular ufrag
        candidate[parts[i]] = parts[i + 1];
        break;
    }
  }
  return candidate;
};

// Translates a candidate object into SDP candidate attribute.
SDPUtils.writeCandidate = function(candidate) {
  var sdp = [];
  sdp.push(candidate.foundation);
  sdp.push(candidate.component);
  sdp.push(candidate.protocol.toUpperCase());
  sdp.push(candidate.priority);
  sdp.push(candidate.address || candidate.ip);
  sdp.push(candidate.port);

  var type = candidate.type;
  sdp.push('typ');
  sdp.push(type);
  if (type !== 'host' && candidate.relatedAddress &&
      candidate.relatedPort) {
    sdp.push('raddr');
    sdp.push(candidate.relatedAddress);
    sdp.push('rport');
    sdp.push(candidate.relatedPort);
  }
  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {
    sdp.push('tcptype');
    sdp.push(candidate.tcpType);
  }
  if (candidate.usernameFragment || candidate.ufrag) {
    sdp.push('ufrag');
    sdp.push(candidate.usernameFragment || candidate.ufrag);
  }
  return 'candidate:' + sdp.join(' ');
};

// Parses an ice-options line, returns an array of option tags.
// a=ice-options:foo bar
SDPUtils.parseIceOptions = function(line) {
  return line.substr(14).split(' ');
};

// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:
// a=rtpmap:111 opus/48000/2
SDPUtils.parseRtpMap = function(line) {
  var parts = line.substr(9).split(' ');
  var parsed = {
    payloadType: parseInt(parts.shift(), 10) // was: id
  };

  parts = parts[0].split('/');

  parsed.name = parts[0];
  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate
  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;
  // legacy alias, got renamed back to channels in ORTC.
  parsed.numChannels = parsed.channels;
  return parsed;
};

// Generate an a=rtpmap line from RTCRtpCodecCapability or
// RTCRtpCodecParameters.
SDPUtils.writeRtpMap = function(codec) {
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  var channels = codec.channels || codec.numChannels || 1;
  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +
      (channels !== 1 ? '/' + channels : '') + '\r\n';
};

// Parses an a=extmap line (headerextension from RFC 5285). Sample input:
// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset
SDPUtils.parseExtmap = function(line) {
  var parts = line.substr(9).split(' ');
  return {
    id: parseInt(parts[0], 10),
    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',
    uri: parts[1]
  };
};

// Generates a=extmap line from RTCRtpHeaderExtensionParameters or
// RTCRtpHeaderExtension.
SDPUtils.writeExtmap = function(headerExtension) {
  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +
      (headerExtension.direction && headerExtension.direction !== 'sendrecv'
        ? '/' + headerExtension.direction
        : '') +
      ' ' + headerExtension.uri + '\r\n';
};

// Parses an ftmp line, returns dictionary. Sample input:
// a=fmtp:96 vbr=on;cng=on
// Also deals with vbr=on; cng=on
SDPUtils.parseFmtp = function(line) {
  var parsed = {};
  var kv;
  var parts = line.substr(line.indexOf(' ') + 1).split(';');
  for (var j = 0; j < parts.length; j++) {
    kv = parts[j].trim().split('=');
    parsed[kv[0].trim()] = kv[1];
  }
  return parsed;
};

// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.
SDPUtils.writeFmtp = function(codec) {
  var line = '';
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  if (codec.parameters && Object.keys(codec.parameters).length) {
    var params = [];
    Object.keys(codec.parameters).forEach(function(param) {
      if (codec.parameters[param]) {
        params.push(param + '=' + codec.parameters[param]);
      } else {
        params.push(param);
      }
    });
    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\r\n';
  }
  return line;
};

// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:
// a=rtcp-fb:98 nack rpsi
SDPUtils.parseRtcpFb = function(line) {
  var parts = line.substr(line.indexOf(' ') + 1).split(' ');
  return {
    type: parts.shift(),
    parameter: parts.join(' ')
  };
};
// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.
SDPUtils.writeRtcpFb = function(codec) {
  var lines = '';
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {
    // FIXME: special handling for trr-int?
    codec.rtcpFeedback.forEach(function(fb) {
      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +
      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +
          '\r\n';
    });
  }
  return lines;
};

// Parses an RFC 5576 ssrc media attribute. Sample input:
// a=ssrc:3735928559 cname:something
SDPUtils.parseSsrcMedia = function(line) {
  var sp = line.indexOf(' ');
  var parts = {
    ssrc: parseInt(line.substr(7, sp - 7), 10)
  };
  var colon = line.indexOf(':', sp);
  if (colon > -1) {
    parts.attribute = line.substr(sp + 1, colon - sp - 1);
    parts.value = line.substr(colon + 1);
  } else {
    parts.attribute = line.substr(sp + 1);
  }
  return parts;
};

SDPUtils.parseSsrcGroup = function(line) {
  var parts = line.substr(13).split(' ');
  return {
    semantics: parts.shift(),
    ssrcs: parts.map(function(ssrc) {
      return parseInt(ssrc, 10);
    })
  };
};

// Extracts the MID (RFC 5888) from a media section.
// returns the MID or undefined if no mid line was found.
SDPUtils.getMid = function(mediaSection) {
  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];
  if (mid) {
    return mid.substr(6);
  }
};

SDPUtils.parseFingerprint = function(line) {
  var parts = line.substr(14).split(' ');
  return {
    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.
    value: parts[1]
  };
};

// Extracts DTLS parameters from SDP media section or sessionpart.
// FIXME: for consistency with other functions this should only
//   get the fingerprint line as input. See also getIceParameters.
SDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {
  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=fingerprint:');
  // Note: a=setup line is ignored since we use the 'auto' role.
  // Note2: 'algorithm' is not case sensitive except in Edge.
  return {
    role: 'auto',
    fingerprints: lines.map(SDPUtils.parseFingerprint)
  };
};

// Serializes DTLS parameters to SDP.
SDPUtils.writeDtlsParameters = function(params, setupType) {
  var sdp = 'a=setup:' + setupType + '\r\n';
  params.fingerprints.forEach(function(fp) {
    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\r\n';
  });
  return sdp;
};

// Parses a=crypto lines into
//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members
SDPUtils.parseCryptoLine = function(line) {
  var parts = line.substr(9).split(' ');
  return {
    tag: parseInt(parts[0], 10),
    cryptoSuite: parts[1],
    keyParams: parts[2],
    sessionParams: parts.slice(3),
  };
};

SDPUtils.writeCryptoLine = function(parameters) {
  return 'a=crypto:' + parameters.tag + ' ' +
    parameters.cryptoSuite + ' ' +
    (typeof parameters.keyParams === 'object'
      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)
      : parameters.keyParams) +
    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +
    '\r\n';
};

// Parses the crypto key parameters into
//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*
SDPUtils.parseCryptoKeyParams = function(keyParams) {
  if (keyParams.indexOf('inline:') !== 0) {
    return null;
  }
  var parts = keyParams.substr(7).split('|');
  return {
    keyMethod: 'inline',
    keySalt: parts[0],
    lifeTime: parts[1],
    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,
    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,
  };
};

SDPUtils.writeCryptoKeyParams = function(keyParams) {
  return keyParams.keyMethod + ':'
    + keyParams.keySalt +
    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +
    (keyParams.mkiValue && keyParams.mkiLength
      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength
      : '');
};

// Extracts all SDES paramters.
SDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {
  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=crypto:');
  return lines.map(SDPUtils.parseCryptoLine);
};

// Parses ICE information from SDP media section or sessionpart.
// FIXME: for consistency with other functions this should only
//   get the ice-ufrag and ice-pwd lines as input.
SDPUtils.getIceParameters = function(mediaSection, sessionpart) {
  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=ice-ufrag:')[0];
  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=ice-pwd:')[0];
  if (!(ufrag && pwd)) {
    return null;
  }
  return {
    usernameFragment: ufrag.substr(12),
    password: pwd.substr(10),
  };
};

// Serializes ICE parameters to SDP.
SDPUtils.writeIceParameters = function(params) {
  return 'a=ice-ufrag:' + params.usernameFragment + '\r\n' +
      'a=ice-pwd:' + params.password + '\r\n';
};

// Parses the SDP media section and returns RTCRtpParameters.
SDPUtils.parseRtpParameters = function(mediaSection) {
  var description = {
    codecs: [],
    headerExtensions: [],
    fecMechanisms: [],
    rtcp: []
  };
  var lines = SDPUtils.splitLines(mediaSection);
  var mline = lines[0].split(' ');
  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]
    var pt = mline[i];
    var rtpmapline = SDPUtils.matchPrefix(
      mediaSection, 'a=rtpmap:' + pt + ' ')[0];
    if (rtpmapline) {
      var codec = SDPUtils.parseRtpMap(rtpmapline);
      var fmtps = SDPUtils.matchPrefix(
        mediaSection, 'a=fmtp:' + pt + ' ');
      // Only the first a=fmtp:<pt> is considered.
      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};
      codec.rtcpFeedback = SDPUtils.matchPrefix(
        mediaSection, 'a=rtcp-fb:' + pt + ' ')
        .map(SDPUtils.parseRtcpFb);
      description.codecs.push(codec);
      // parse FEC mechanisms from rtpmap lines.
      switch (codec.name.toUpperCase()) {
        case 'RED':
        case 'ULPFEC':
          description.fecMechanisms.push(codec.name.toUpperCase());
          break;
        default: // only RED and ULPFEC are recognized as FEC mechanisms.
          break;
      }
    }
  }
  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {
    description.headerExtensions.push(SDPUtils.parseExtmap(line));
  });
  // FIXME: parse rtcp.
  return description;
};

// Generates parts of the SDP media section describing the capabilities /
// parameters.
SDPUtils.writeRtpDescription = function(kind, caps) {
  var sdp = '';

  // Build the mline.
  sdp += 'm=' + kind + ' ';
  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.
  sdp += ' UDP/TLS/RTP/SAVPF ';
  sdp += caps.codecs.map(function(codec) {
    if (codec.preferredPayloadType !== undefined) {
      return codec.preferredPayloadType;
    }
    return codec.payloadType;
  }).join(' ') + '\r\n';

  sdp += 'c=IN IP4 0.0.0.0\r\n';
  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\r\n';

  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.
  caps.codecs.forEach(function(codec) {
    sdp += SDPUtils.writeRtpMap(codec);
    sdp += SDPUtils.writeFmtp(codec);
    sdp += SDPUtils.writeRtcpFb(codec);
  });
  var maxptime = 0;
  caps.codecs.forEach(function(codec) {
    if (codec.maxptime > maxptime) {
      maxptime = codec.maxptime;
    }
  });
  if (maxptime > 0) {
    sdp += 'a=maxptime:' + maxptime + '\r\n';
  }
  sdp += 'a=rtcp-mux\r\n';

  if (caps.headerExtensions) {
    caps.headerExtensions.forEach(function(extension) {
      sdp += SDPUtils.writeExtmap(extension);
    });
  }
  // FIXME: write fecMechanisms.
  return sdp;
};

// Parses the SDP media section and returns an array of
// RTCRtpEncodingParameters.
SDPUtils.parseRtpEncodingParameters = function(mediaSection) {
  var encodingParameters = [];
  var description = SDPUtils.parseRtpParameters(mediaSection);
  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;
  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;

  // filter a=ssrc:... cname:, ignore PlanB-msid
  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(parts) {
      return parts.attribute === 'cname';
    });
  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;
  var secondarySsrc;

  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')
    .map(function(line) {
      var parts = line.substr(17).split(' ');
      return parts.map(function(part) {
        return parseInt(part, 10);
      });
    });
  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {
    secondarySsrc = flows[0][1];
  }

  description.codecs.forEach(function(codec) {
    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {
      var encParam = {
        ssrc: primarySsrc,
        codecPayloadType: parseInt(codec.parameters.apt, 10)
      };
      if (primarySsrc && secondarySsrc) {
        encParam.rtx = {ssrc: secondarySsrc};
      }
      encodingParameters.push(encParam);
      if (hasRed) {
        encParam = JSON.parse(JSON.stringify(encParam));
        encParam.fec = {
          ssrc: primarySsrc,
          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'
        };
        encodingParameters.push(encParam);
      }
    }
  });
  if (encodingParameters.length === 0 && primarySsrc) {
    encodingParameters.push({
      ssrc: primarySsrc
    });
  }

  // we support both b=AS and b=TIAS but interpret AS as TIAS.
  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');
  if (bandwidth.length) {
    if (bandwidth[0].indexOf('b=TIAS:') === 0) {
      bandwidth = parseInt(bandwidth[0].substr(7), 10);
    } else if (bandwidth[0].indexOf('b=AS:') === 0) {
      // use formula from JSEP to convert b=AS to TIAS value.
      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95
          - (50 * 40 * 8);
    } else {
      bandwidth = undefined;
    }
    encodingParameters.forEach(function(params) {
      params.maxBitrate = bandwidth;
    });
  }
  return encodingParameters;
};

// parses http://draft.ortc.org/#rtcrtcpparameters*
SDPUtils.parseRtcpParameters = function(mediaSection) {
  var rtcpParameters = {};

  // Gets the first SSRC. Note tha with RTX there might be multiple
  // SSRCs.
  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(obj) {
      return obj.attribute === 'cname';
    })[0];
  if (remoteSsrc) {
    rtcpParameters.cname = remoteSsrc.value;
    rtcpParameters.ssrc = remoteSsrc.ssrc;
  }

  // Edge uses the compound attribute instead of reducedSize
  // compound is !reducedSize
  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');
  rtcpParameters.reducedSize = rsize.length > 0;
  rtcpParameters.compound = rsize.length === 0;

  // parses the rtcp-mux attrіbute.
  // Note that Edge does not support unmuxed RTCP.
  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');
  rtcpParameters.mux = mux.length > 0;

  return rtcpParameters;
};

// parses either a=msid: or a=ssrc:... msid lines and returns
// the id of the MediaStream and MediaStreamTrack.
SDPUtils.parseMsid = function(mediaSection) {
  var parts;
  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');
  if (spec.length === 1) {
    parts = spec[0].substr(7).split(' ');
    return {stream: parts[0], track: parts[1]};
  }
  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(msidParts) {
      return msidParts.attribute === 'msid';
    });
  if (planB.length > 0) {
    parts = planB[0].value.split(' ');
    return {stream: parts[0], track: parts[1]};
  }
};

// SCTP
// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back
// to draft-ietf-mmusic-sctp-sdp-05
SDPUtils.parseSctpDescription = function(mediaSection) {
  var mline = SDPUtils.parseMLine(mediaSection);
  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');
  var maxMessageSize;
  if (maxSizeLine.length > 0) {
    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);
  }
  if (isNaN(maxMessageSize)) {
    maxMessageSize = 65536;
  }
  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');
  if (sctpPort.length > 0) {
    return {
      port: parseInt(sctpPort[0].substr(12), 10),
      protocol: mline.fmt,
      maxMessageSize: maxMessageSize
    };
  }
  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');
  if (sctpMapLines.length > 0) {
    var parts = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0]
      .substr(10)
      .split(' ');
    return {
      port: parseInt(parts[0], 10),
      protocol: parts[1],
      maxMessageSize: maxMessageSize
    };
  }
};

// SCTP
// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers
// support by now receiving in this format, unless we originally parsed
// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line
// protocol of DTLS/SCTP -- without UDP/ or TCP/)
SDPUtils.writeSctpDescription = function(media, sctp) {
  var output = [];
  if (media.protocol !== 'DTLS/SCTP') {
    output = [
      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\r\n',
      'c=IN IP4 0.0.0.0\r\n',
      'a=sctp-port:' + sctp.port + '\r\n'
    ];
  } else {
    output = [
      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\r\n',
      'c=IN IP4 0.0.0.0\r\n',
      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\r\n'
    ];
  }
  if (sctp.maxMessageSize !== undefined) {
    output.push('a=max-message-size:' + sctp.maxMessageSize + '\r\n');
  }
  return output.join('');
};

// Generate a session ID for SDP.
// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1
// recommends using a cryptographically random +ve 64-bit value
// but right now this should be acceptable and within the right range
SDPUtils.generateSessionId = function() {
  return Math.random().toString().substr(2, 21);
};

// Write boilder plate for start of SDP
// sessId argument is optional - if not supplied it will
// be generated randomly
// sessVersion is optional and defaults to 2
// sessUser is optional and defaults to 'thisisadapterortc'
SDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {
  var sessionId;
  var version = sessVer !== undefined ? sessVer : 2;
  if (sessId) {
    sessionId = sessId;
  } else {
    sessionId = SDPUtils.generateSessionId();
  }
  var user = sessUser || 'thisisadapterortc';
  // FIXME: sess-id should be an NTP timestamp.
  return 'v=0\r\n' +
      'o=' + user + ' ' + sessionId + ' ' + version +
        ' IN IP4 127.0.0.1\r\n' +
      's=-\r\n' +
      't=0 0\r\n';
};

SDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {
  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);

  // Map ICE parameters (ufrag, pwd) to SDP.
  sdp += SDPUtils.writeIceParameters(
    transceiver.iceGatherer.getLocalParameters());

  // Map DTLS parameters to SDP.
  sdp += SDPUtils.writeDtlsParameters(
    transceiver.dtlsTransport.getLocalParameters(),
    type === 'offer' ? 'actpass' : 'active');

  sdp += 'a=mid:' + transceiver.mid + '\r\n';

  if (transceiver.direction) {
    sdp += 'a=' + transceiver.direction + '\r\n';
  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {
    sdp += 'a=sendrecv\r\n';
  } else if (transceiver.rtpSender) {
    sdp += 'a=sendonly\r\n';
  } else if (transceiver.rtpReceiver) {
    sdp += 'a=recvonly\r\n';
  } else {
    sdp += 'a=inactive\r\n';
  }

  if (transceiver.rtpSender) {
    // spec.
    var msid = 'msid:' + stream.id + ' ' +
        transceiver.rtpSender.track.id + '\r\n';
    sdp += 'a=' + msid;

    // for Chrome.
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
        ' ' + msid;
    if (transceiver.sendEncodingParameters[0].rtx) {
      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
          ' ' + msid;
      sdp += 'a=ssrc-group:FID ' +
          transceiver.sendEncodingParameters[0].ssrc + ' ' +
          transceiver.sendEncodingParameters[0].rtx.ssrc +
          '\r\n';
    }
  }
  // FIXME: this should be written by writeRtpDescription.
  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
      ' cname:' + SDPUtils.localCName + '\r\n';
  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
        ' cname:' + SDPUtils.localCName + '\r\n';
  }
  return sdp;
};

// Gets the direction from the mediaSection or the sessionpart.
SDPUtils.getDirection = function(mediaSection, sessionpart) {
  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.
  var lines = SDPUtils.splitLines(mediaSection);
  for (var i = 0; i < lines.length; i++) {
    switch (lines[i]) {
      case 'a=sendrecv':
      case 'a=sendonly':
      case 'a=recvonly':
      case 'a=inactive':
        return lines[i].substr(2);
      default:
        // FIXME: What should happen here?
    }
  }
  if (sessionpart) {
    return SDPUtils.getDirection(sessionpart);
  }
  return 'sendrecv';
};

SDPUtils.getKind = function(mediaSection) {
  var lines = SDPUtils.splitLines(mediaSection);
  var mline = lines[0].split(' ');
  return mline[0].substr(2);
};

SDPUtils.isRejected = function(mediaSection) {
  return mediaSection.split(' ', 2)[1] === '0';
};

SDPUtils.parseMLine = function(mediaSection) {
  var lines = SDPUtils.splitLines(mediaSection);
  var parts = lines[0].substr(2).split(' ');
  return {
    kind: parts[0],
    port: parseInt(parts[1], 10),
    protocol: parts[2],
    fmt: parts.slice(3).join(' ')
  };
};

SDPUtils.parseOLine = function(mediaSection) {
  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];
  var parts = line.substr(2).split(' ');
  return {
    username: parts[0],
    sessionId: parts[1],
    sessionVersion: parseInt(parts[2], 10),
    netType: parts[3],
    addressType: parts[4],
    address: parts[5]
  };
};

// a very naive interpretation of a valid SDP.
SDPUtils.isValidSDP = function(blob) {
  if (typeof blob !== 'string' || blob.length === 0) {
    return false;
  }
  var lines = SDPUtils.splitLines(blob);
  for (var i = 0; i < lines.length; i++) {
    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {
      return false;
    }
    // TODO: check the modifier a bit more.
  }
  return true;
};

// Expose public methods.
if (typeof module === 'object') {
  module.exports = SDPUtils;
}

},{}],134:[function(require,module,exports){
/////////////////////////////////////////////////////////////////////////////////
/* UAParser.js v1.0.40
   Copyright © 2012-2024 Faisal Salman <f@faisalman.com>
   MIT License *//*
   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.
   Supports browser & node.js environment. 
   Demo   : https://faisalman.github.io/ua-parser-js
   Source : https://github.com/faisalman/ua-parser-js */
/////////////////////////////////////////////////////////////////////////////////

(function (window, undefined) {

    'use strict';

    //////////////
    // Constants
    /////////////


    var LIBVERSION  = '1.0.40',
        EMPTY       = '',
        UNKNOWN     = '?',
        FUNC_TYPE   = 'function',
        UNDEF_TYPE  = 'undefined',
        OBJ_TYPE    = 'object',
        STR_TYPE    = 'string',
        MAJOR       = 'major',
        MODEL       = 'model',
        NAME        = 'name',
        TYPE        = 'type',
        VENDOR      = 'vendor',
        VERSION     = 'version',
        ARCHITECTURE= 'architecture',
        CONSOLE     = 'console',
        MOBILE      = 'mobile',
        TABLET      = 'tablet',
        SMARTTV     = 'smarttv',
        WEARABLE    = 'wearable',
        EMBEDDED    = 'embedded',
        UA_MAX_LENGTH = 500;

    var AMAZON  = 'Amazon',
        APPLE   = 'Apple',
        ASUS    = 'ASUS',
        BLACKBERRY = 'BlackBerry',
        BROWSER = 'Browser',
        CHROME  = 'Chrome',
        EDGE    = 'Edge',
        FIREFOX = 'Firefox',
        GOOGLE  = 'Google',
        HUAWEI  = 'Huawei',
        LG      = 'LG',
        MICROSOFT = 'Microsoft',
        MOTOROLA  = 'Motorola',
        OPERA   = 'Opera',
        SAMSUNG = 'Samsung',
        SHARP   = 'Sharp',
        SONY    = 'Sony',
        XIAOMI  = 'Xiaomi',
        ZEBRA   = 'Zebra',
        FACEBOOK    = 'Facebook',
        CHROMIUM_OS = 'Chromium OS',
        MAC_OS  = 'Mac OS',
        SUFFIX_BROWSER = ' Browser';

    ///////////
    // Helper
    //////////

    var extend = function (regexes, extensions) {
            var mergedRegexes = {};
            for (var i in regexes) {
                if (extensions[i] && extensions[i].length % 2 === 0) {
                    mergedRegexes[i] = extensions[i].concat(regexes[i]);
                } else {
                    mergedRegexes[i] = regexes[i];
                }
            }
            return mergedRegexes;
        },
        enumerize = function (arr) {
            var enums = {};
            for (var i=0; i<arr.length; i++) {
                enums[arr[i].toUpperCase()] = arr[i];
            }
            return enums;
        },
        has = function (str1, str2) {
            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;
        },
        lowerize = function (str) {
            return str.toLowerCase();
        },
        majorize = function (version) {
            return typeof(version) === STR_TYPE ? version.replace(/[^\d\.]/g, EMPTY).split('.')[0] : undefined;
        },
        trim = function (str, len) {
            if (typeof(str) === STR_TYPE) {
                str = str.replace(/^\s\s*/, EMPTY);
                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);
            }
    };

    ///////////////
    // Map helper
    //////////////

    var rgxMapper = function (ua, arrays) {

            var i = 0, j, k, p, q, matches, match;

            // loop through all regexes maps
            while (i < arrays.length && !matches) {

                var regex = arrays[i],       // even sequence (0,2,4,..)
                    props = arrays[i + 1];   // odd sequence (1,3,5,..)
                j = k = 0;

                // try matching uastring with regexes
                while (j < regex.length && !matches) {

                    if (!regex[j]) { break; }
                    matches = regex[j++].exec(ua);

                    if (!!matches) {
                        for (p = 0; p < props.length; p++) {
                            match = matches[++k];
                            q = props[p];
                            // check if given property is actually array
                            if (typeof q === OBJ_TYPE && q.length > 0) {
                                if (q.length === 2) {
                                    if (typeof q[1] == FUNC_TYPE) {
                                        // assign modified match
                                        this[q[0]] = q[1].call(this, match);
                                    } else {
                                        // assign given value, ignore regex match
                                        this[q[0]] = q[1];
                                    }
                                } else if (q.length === 3) {
                                    // check whether function or regex
                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {
                                        // call function (usually string mapper)
                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;
                                    } else {
                                        // sanitize match using given regex
                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;
                                    }
                                } else if (q.length === 4) {
                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;
                                }
                            } else {
                                this[q] = match ? match : undefined;
                            }
                        }
                    }
                }
                i += 2;
            }
        },

        strMapper = function (str, map) {

            for (var i in map) {
                // check if current value is array
                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {
                    for (var j = 0; j < map[i].length; j++) {
                        if (has(map[i][j], str)) {
                            return (i === UNKNOWN) ? undefined : i;
                        }
                    }
                } else if (has(map[i], str)) {
                    return (i === UNKNOWN) ? undefined : i;
                }
            }
            return map.hasOwnProperty('*') ? map['*'] : str;
    };

    ///////////////
    // String map
    //////////////

    // Safari < 3.0
    var oldSafariMap = {
            '1.0'   : '/8',
            '1.2'   : '/1',
            '1.3'   : '/3',
            '2.0'   : '/412',
            '2.0.2' : '/416',
            '2.0.3' : '/417',
            '2.0.4' : '/419',
            '?'     : '/'
        },
        windowsVersionMap = {
            'ME'        : '4.90',
            'NT 3.11'   : 'NT3.51',
            'NT 4.0'    : 'NT4.0',
            '2000'      : 'NT 5.0',
            'XP'        : ['NT 5.1', 'NT 5.2'],
            'Vista'     : 'NT 6.0',
            '7'         : 'NT 6.1',
            '8'         : 'NT 6.2',
            '8.1'       : 'NT 6.3',
            '10'        : ['NT 6.4', 'NT 10.0'],
            'RT'        : 'ARM'
    };

    //////////////
    // Regex map
    /////////////

    var regexes = {

        browser : [[

            /\b(?:crmo|crios)\/([\w\.]+)/i                                      // Chrome for Android/iOS
            ], [VERSION, [NAME, 'Chrome']], [
            /edg(?:e|ios|a)?\/([\w\.]+)/i                                       // Microsoft Edge
            ], [VERSION, [NAME, 'Edge']], [

            // Presto based
            /(opera mini)\/([-\w\.]+)/i,                                        // Opera Mini
            /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,                 // Opera Mobi/Tablet
            /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i                           // Opera
            ], [NAME, VERSION], [
            /opios[\/ ]+([\w\.]+)/i                                             // Opera mini on iphone >= 8.0
            ], [VERSION, [NAME, OPERA+' Mini']], [
            /\bop(?:rg)?x\/([\w\.]+)/i                                          // Opera GX
            ], [VERSION, [NAME, OPERA+' GX']], [
            /\bopr\/([\w\.]+)/i                                                 // Opera Webkit
            ], [VERSION, [NAME, OPERA]], [

            // Mixed
            /\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i            // Baidu
            ], [VERSION, [NAME, 'Baidu']], [
            /\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i                       // Maxthon
            ], [VERSION, [NAME, 'Maxthon']], [
            /(kindle)\/([\w\.]+)/i,                                             // Kindle
            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,      
                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir
            // Trident based
            /(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet
            /(?:ms|\()(ie) ([\w\.]+)/i,                                         // Internet Explorer

            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon
            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,
                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon
            /(heytap|ovi|115)browser\/([\d\.]+)/i,                              // HeyTap/Ovi/115
            /(weibo)__([\d\.]+)/i                                               // Weibo
            ], [NAME, VERSION], [
            /quark(?:pc)?\/([-\w\.]+)/i                                         // Quark
            ], [VERSION, [NAME, 'Quark']], [
            /\bddg\/([\w\.]+)/i                                                 // DuckDuckGo
            ], [VERSION, [NAME, 'DuckDuckGo']], [
            /(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i                 // UCBrowser
            ], [VERSION, [NAME, 'UC'+BROWSER]], [
            /microm.+\bqbcore\/([\w\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser
            /\bqbcore\/([\w\.]+).+microm/i,
            /micromessenger\/([\w\.]+)/i                                        // WeChat
            ], [VERSION, [NAME, 'WeChat']], [
            /konqueror\/([\w\.]+)/i                                             // Konqueror
            ], [VERSION, [NAME, 'Konqueror']], [
            /trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i                       // IE11
            ], [VERSION, [NAME, 'IE']], [
            /ya(?:search)?browser\/([\w\.]+)/i                                  // Yandex
            ], [VERSION, [NAME, 'Yandex']], [
            /slbrowser\/([\w\.]+)/i                                             // Smart Lenovo Browser
            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [
            /(avast|avg)\/([\w\.]+)/i                                           // Avast/AVG Secure Browser
            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [
            /\bfocus\/([\w\.]+)/i                                               // Firefox Focus
            ], [VERSION, [NAME, FIREFOX+' Focus']], [
            /\bopt\/([\w\.]+)/i                                                 // Opera Touch
            ], [VERSION, [NAME, OPERA+' Touch']], [
            /coc_coc\w+\/([\w\.]+)/i                                            // Coc Coc Browser
            ], [VERSION, [NAME, 'Coc Coc']], [
            /dolfin\/([\w\.]+)/i                                                // Dolphin
            ], [VERSION, [NAME, 'Dolphin']], [
            /coast\/([\w\.]+)/i                                                 // Opera Coast
            ], [VERSION, [NAME, OPERA+' Coast']], [
            /miuibrowser\/([\w\.]+)/i                                           // MIUI Browser
            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [
            /fxios\/([\w\.-]+)/i                                                // Firefox for iOS
            ], [VERSION, [NAME, FIREFOX]], [
            /\bqihoobrowser\/?([\w\.]*)/i                                       // 360
            ], [VERSION, [NAME, '360']], [
            /\b(qq)\/([\w\.]+)/i                                                // QQ
            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [
            /(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i
            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser
            /samsungbrowser\/([\w\.]+)/i                                        // Samsung Internet
            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [
            /metasr[\/ ]?([\d\.]+)/i                                            // Sogou Explorer
            ], [VERSION, [NAME, 'Sogou Explorer']], [
            /(sogou)mo\w+\/([\d\.]+)/i                                          // Sogou Mobile
            ], [[NAME, 'Sogou Mobile'], VERSION], [
            /(electron)\/([\w\.]+) safari/i,                                    // Electron-based App
            /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,                   // Tesla
            /m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i   // QQ/2345
            ], [NAME, VERSION], [
            /(lbbrowser|rekonq)/i,                                              // LieBao Browser/Rekonq
            /\[(linkedin)app\]/i                                                // LinkedIn App for iOS & Android
            ], [NAME], [
            /ome\/([\w\.]+) \w* ?(iron) saf/i,                                  // Iron
            /ome\/([\w\.]+).+qihu (360)[es]e/i                                  // 360
            ], [VERSION, NAME], [

            // WebView
            /((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i       // Facebook App for iOS & Android
            ], [[NAME, FACEBOOK], VERSION], [
            /(Klarna)\/([\w\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android
            /(kakao(?:talk|story))[\/ ]([\w\.]+)/i,                             // Kakao App
            /(naver)\(.*?(\d+\.[\w\.]+).*\)/i,                                  // Naver InApp
            /safari (line)\/([\w\.]+)/i,                                        // Line App for iOS
            /\b(line)\/([\w\.]+)\/iab/i,                                        // Line App for Android
            /(alipay)client\/([\w\.]+)/i,                                       // Alipay
            /(twitter)(?:and| f.+e\/([\w\.]+))/i,                               // Twitter
            /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i                     // Chromium/Instagram/Snapchat
            ], [NAME, VERSION], [
            /\bgsa\/([\w\.]+) .*safari\//i                                      // Google Search Appliance on iOS
            ], [VERSION, [NAME, 'GSA']], [
            /musical_ly(?:.+app_?version\/|_)([\w\.]+)/i                        // TikTok
            ], [VERSION, [NAME, 'TikTok']], [

            /headlesschrome(?:\/([\w\.]+)| )/i                                  // Chrome Headless
            ], [VERSION, [NAME, CHROME+' Headless']], [

            / wv\).+(chrome)\/([\w\.]+)/i                                       // Chrome WebView
            ], [[NAME, CHROME+' WebView'], VERSION], [

            /droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i           // Android Browser
            ], [VERSION, [NAME, 'Android '+BROWSER]], [

            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia
            ], [NAME, VERSION], [

            /version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i                      // Mobile Safari
            ], [VERSION, [NAME, 'Mobile Safari']], [
            /version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile
            ], [VERSION, NAME], [
            /webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i                      // Safari < 3.0
            ], [NAME, [VERSION, strMapper, oldSafariMap]], [

            /(webkit|khtml)\/([\w\.]+)/i
            ], [NAME, VERSION], [

            // Gecko based
            /(navigator|netscape\d?)\/([-\w\.]+)/i                              // Netscape
            ], [[NAME, 'Netscape'], VERSION], [
            /(wolvic|librewolf)\/([\w\.]+)/i                                    // Wolvic/LibreWolf
            ], [NAME, VERSION], [
            /mobile vr; rv:([\w\.]+)\).+firefox/i                               // Firefox Reality
            ], [VERSION, [NAME, FIREFOX+' Reality']], [
            /ekiohf.+(flow)\/([\w\.]+)/i,                                       // Flow
            /(swiftfox)/i,                                                      // Swiftfox
            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,
                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror
            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,
                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix
            /(firefox)\/([\w\.]+)/i,                                            // Other Firefox-based
            /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,                         // Mozilla

            // Other
            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,
                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser
            /(links) \(([\w\.]+)/i                                              // Links
            ], [NAME, [VERSION, /_/g, '.']], [
            
            /(cobalt)\/([\w\.]+)/i                                              // Cobalt
            ], [NAME, [VERSION, /master.|lts./, ""]]
        ],

        cpu : [[

            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i                     // AMD64 (x64)
            ], [[ARCHITECTURE, 'amd64']], [

            /(ia32(?=;))/i                                                      // IA32 (quicktime)
            ], [[ARCHITECTURE, lowerize]], [

            /((?:i[346]|x)86)[;\)]/i                                            // IA32 (x86)
            ], [[ARCHITECTURE, 'ia32']], [

            /\b(aarch64|arm(v?8e?l?|_?64))\b/i                                 // ARM64
            ], [[ARCHITECTURE, 'arm64']], [

            /\b(arm(?:v[67])?ht?n?[fl]p?)\b/i                                   // ARMHF
            ], [[ARCHITECTURE, 'armhf']], [

            // PocketPC mistakenly identified as PowerPC
            /windows (ce|mobile); ppc;/i
            ], [[ARCHITECTURE, 'arm']], [

            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i                            // PowerPC
            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [

            /(sun4\w)[;\)]/i                                                    // SPARC
            ], [[ARCHITECTURE, 'sparc']], [

            /((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i
                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC
            ], [[ARCHITECTURE, lowerize]]
        ],

        device : [[

            //////////////////////////
            // MOBILES & TABLETS
            /////////////////////////

            // Samsung
            /\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i
            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [
            /\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,
            /samsung[- ]((?!sm-[lr])[-\w]+)/i,
            /sec-(sgh\w+)/i
            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [

            // Apple
            /(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i                          // iPod/iPhone
            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [
            /\((ipad);[-\w\),; ]+apple/i,                                       // iPad
            /applecoremedia\/[\w\.]+ \((ipad)/i,
            /\b(ipad)\d\d?,\d\d?[;\]].+ios/i
            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [
            /(macintosh);/i
            ], [MODEL, [VENDOR, APPLE]], [

            // Sharp
            /\b(sh-?[altvz]?\d\d[a-ekm]?)/i
            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [

            // Honor
            /(?:honor)([-\w ]+)[;\)]/i
            ], [MODEL, [VENDOR, 'Honor'], [TYPE, MOBILE]], [

            // Huawei
            /\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i
            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [
            /(?:huawei)([-\w ]+)[;\)]/i,
            /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i
            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [

            // Xiaomi
            /\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,                  // Xiaomi POCO
            /\b; (\w+) build\/hm\1/i,                                           // Xiaomi Hongmi 'numeric' models
            /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,                             // Xiaomi Hongmi
            /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,                   // Xiaomi Redmi
            /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,        // Xiaomi Redmi 'numeric' models
            /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i // Xiaomi Mi
            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [
            /oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,                     // Redmi Pad
            /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i                        // Mi Pad tablets
            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [

            // OPPO
            /; (\w+) bui.+ oppo/i,
            /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i
            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [
            /\b(opd2\d{3}a?) bui/i
            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [

            // Vivo
            /vivo (\w+)(?: bui|\))/i,
            /\b(v[12]\d{3}\w?[at])(?: bui|;)/i
            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [

            // Realme
            /\b(rmx[1-3]\d{3})(?: bui|;|\))/i
            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [

            // Motorola
            /\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,
            /\bmot(?:orola)?[- ](\w*)/i,
            /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i
            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [
            /\b(mz60\d|xoom[2 ]{0,2}) build\//i
            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [

            // LG
            /((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i
            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [
            /(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,
            /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,
            /\blg-?([\d\w]+) bui/i
            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [

            // Lenovo
            /(ideatab[-\w ]+)/i,
            /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i
            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [

            // Nokia
            /(?:maemo|nokia).*(n900|lumia \d+)/i,
            /nokia[-_ ]?([-\w\.]*)/i
            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [

            // Google
            /(pixel c)\b/i                                                      // Google Pixel C
            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [
            /droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i                         // Google Pixel
            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [

            // Sony
            /droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i
            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [
            /sony tablet [ps]/i,
            /\b(?:sony)?sgp\w+(?: bui|\))/i
            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [

            // OnePlus
            / (kb2005|in20[12]5|be20[12][59])\b/i,
            /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i
            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [

            // Amazon
            /(alexa)webm/i,
            /(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,                           // Kindle Fire without Silk / Echo Show
            /(kf[a-z]+)( bui|\)).+silk\//i                                      // Kindle Fire HD
            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [
            /((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i                     // Fire Phone
            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [

            // BlackBerry
            /(playbook);[-\w\),; ]+(rim)/i                                      // BlackBerry PlayBook
            ], [MODEL, VENDOR, [TYPE, TABLET]], [
            /\b((?:bb[a-f]|st[hv])100-\d)/i,
            /\(bb10; (\w+)/i                                                    // BlackBerry 10
            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [

            // Asus
            /(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i
            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [
            / (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i
            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [

            // HTC
            /(nexus 9)/i                                                        // HTC Nexus 9
            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [
            /(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,                         // HTC

            // ZTE
            /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,
            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony
            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [

            // TCL
            /droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i
            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [

            // itel
            /(itel) ((\w+))/i
            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [

            // Acer
            /droid.+; ([ab][1-7]-?[0178a]\d\d?)/i
            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [

            // Meizu
            /droid.+; (m[1-5] note) bui/i,
            /\bmz-([-\w]{2,})/i
            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [
                
            // Ulefone
            /; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i
            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [

            // Energizer
            /; (energy ?\w+)(?: bui|\))/i,
            /; energizer ([\w ]+)(?: bui|\))/i
            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [

            // Cat
            /; cat (b35);/i,
            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i
            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [

            // Smartfren
            /((?:new )?andromax[\w- ]+)(?: bui|\))/i
            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [

            // Nothing
            /droid.+; (a(?:015|06[35]|142p?))/i
            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [

            // MIXED
            /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,
                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan
            /; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,                             // IMO
            /(hp) ([\w ]+\w)/i,                                                 // HP iPAQ
            /(asus)-?(\w+)/i,                                                   // Asus
            /(microsoft); (lumia[\w ]+)/i,                                      // Microsoft Lumia
            /(lenovo)[-_ ]?([-\w]+)/i,                                          // Lenovo
            /(jolla)/i,                                                         // Jolla
            /(oppo) ?([\w ]+) bui/i                                             // OPPO
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [

            /(imo) (tab \w+)/i,                                                 // IMO
            /(kobo)\s(ereader|touch)/i,                                         // Kobo
            /(archos) (gamepad2?)/i,                                            // Archos
            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad
            /(kindle)\/([\w\.]+)/i,                                             // Kindle
            /(nook)[\w ]+build\/(\w+)/i,                                        // Nook
            /(dell) (strea[kpr\d ]*[\dko])/i,                                   // Dell Streak
            /(le[- ]+pan)[- ]+(\w{1,9}) bui/i,                                  // Le Pan Tablets
            /(trinity)[- ]*(t\d{3}) bui/i,                                      // Trinity Tablets
            /(gigaset)[- ]+(q\w{1,9}) bui/i,                                    // Gigaset Tablets
            /(vodafone) ([\w ]+)(?:\)| bui)/i                                   // Vodafone
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /(surface duo)/i                                                    // Surface Duo
            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [
            /droid [\d\.]+; (fp\du?)(?: b|\))/i                                 // Fairphone
            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [
            /(u304aa)/i                                                         // AT&T
            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [
            /\bsie-(\w*)/i                                                      // Siemens
            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [
            /\b(rct\w+) b/i                                                     // RCA Tablets
            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [
            /\b(venue[\d ]{2,7}) b/i                                            // Dell Venue Tablets
            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [
            /\b(q(?:mv|ta)\w+) b/i                                              // Verizon Tablet
            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [
            /\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i                       // Barnes & Noble Tablet
            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [
            /\b(tm\d{3}\w+) b/i
            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [
            /\b(k88) b/i                                                        // ZTE K Series Tablet
            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [
            /\b(nx\d{3}j) b/i                                                   // ZTE Nubia
            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [
            /\b(gen\d{3}) b.+49h/i                                              // Swiss GEN Mobile
            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [
            /\b(zur\d{3}) b/i                                                   // Swiss ZUR Tablet
            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [
            /\b((zeki)?tb.*\b) b/i                                              // Zeki Tablets
            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [
            /\b([yr]\d{2}) b/i,
            /\b(dragon[- ]+touch |dt)(\w{5}) b/i                                // Dragon Touch Tablet
            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [
            /\b(ns-?\w{0,9}) b/i                                                // Insignia Tablets
            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [
            /\b((nxa|next)-?\w{0,9}) b/i                                        // NextBook Tablets
            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [
            /\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones
            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [
            /\b(lvtel\-)?(v1[12]) b/i                                           // LvTel Phones
            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [
            /\b(ph-1) /i                                                        // Essential PH-1
            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [
            /\b(v(100md|700na|7011|917g).*\b) b/i                               // Envizen Tablets
            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [
            /\b(trio[-\w\. ]+) b/i                                              // MachSpeed Tablets
            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [
            /\btu_(1491) b/i                                                    // Rotor Tablets
            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [
            /(shield[\w ]+) b/i                                                 // Nvidia Shield Tablets
            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [
            /(sprint) (\w+)/i                                                   // Sprint Phones
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [
            /(kin\.[onetw]{3})/i                                                // Microsoft Kin
            ], [[MODEL, /\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [
            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i             // Zebra
            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [
            /droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i
            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [

            ///////////////////
            // SMARTTVS
            ///////////////////

            /smart-tv.+(samsung)/i                                              // Samsung
            ], [VENDOR, [TYPE, SMARTTV]], [
            /hbbtv.+maple;(\d+)/i
            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [
            /(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i        // LG SmartTV
            ], [[VENDOR, LG], [TYPE, SMARTTV]], [
            /(apple) ?tv/i                                                      // Apple TV
            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [
            /crkey/i                                                            // Google Chromecast
            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [
            /droid.+aft(\w+)( bui|\))/i                                         // Fire TV
            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [
            /\(dtv[\);].+(aquos)/i,
            /(aquos-tv[\w ]+)\)/i                                               // Sharp
            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[
            /(bravia[\w ]+)( bui|\))/i                                              // Sony
            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [
            /(mitv-\w{5}) bui/i                                                 // Xiaomi
            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [
            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT
            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [
            /\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,                          // Roku
            /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i         // HbbTV devices
            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [
            /\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i                   // SmartTV from Unidentified Vendors
            ], [[TYPE, SMARTTV]], [

            ///////////////////
            // CONSOLES
            ///////////////////

            /(ouya)/i,                                                          // Ouya
            /(nintendo) ([wids3utch]+)/i                                        // Nintendo
            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [
            /droid.+; (shield) bui/i                                            // Nvidia
            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [
            /(playstation [345portablevi]+)/i                                   // Playstation
            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [
            /\b(xbox(?: one)?(?!; xbox))[\); ]/i                                // Microsoft Xbox
            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [

            ///////////////////
            // WEARABLES
            ///////////////////

            /\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i                                   // Samsung Galaxy Watch
            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [
            /((pebble))app/i                                                    // Pebble
            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [
            /(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i                              // Apple Watch
            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [
            /droid.+; (glass) \d/i                                              // Google Glass
            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [
            /droid.+; (wt63?0{2,3})\)/i
            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [

            ///////////////////
            // XR
            ///////////////////

            /droid.+; (glass) \d/i                                              // Google Glass
            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [
            /(pico) (4|neo3(?: link|pro)?)/i                                    // Pico
            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [
            /; (quest( \d| pro)?)/i                                             // Oculus Quest
            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [

            ///////////////////
            // EMBEDDED
            ///////////////////

            /(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i                              // Tesla
            ], [VENDOR, [TYPE, EMBEDDED]], [
            /(aeobc)\b/i                                                        // Echo Dot
            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [

            ////////////////////
            // MIXED (GENERIC)
            ///////////////////

            /droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors
            ], [MODEL, [TYPE, MOBILE]], [
            /droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors
            ], [MODEL, [TYPE, TABLET]], [
            /\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i                      // Unidentifiable Tablet
            ], [[TYPE, TABLET]], [
            /(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile
            ], [[TYPE, MOBILE]], [
            /(android[-\w\. ]{0,9});.+buil/i                                    // Generic Android Device
            ], [MODEL, [VENDOR, 'Generic']]
        ],

        engine : [[

            /windows.+ edge\/([\w\.]+)/i                                       // EdgeHTML
            ], [VERSION, [NAME, EDGE+'HTML']], [

            /(arkweb)\/([\w\.]+)/i                                              // ArkWeb
            ], [NAME, VERSION], [

            /webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i                         // Blink
            ], [VERSION, [NAME, 'Blink']], [

            /(presto)\/([\w\.]+)/i,                                             // Presto
            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo
            /ekioh(flow)\/([\w\.]+)/i,                                          // Flow
            /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,                           // KHTML/Tasman/Links
            /(icab)[\/ ]([23]\.[\d\.]+)/i,                                      // iCab
            /\b(libweb)/i
            ], [NAME, VERSION], [

            /rv\:([\w\.]{1,9})\b.+(gecko)/i                                     // Gecko
            ], [VERSION, NAME]
        ],

        os : [[

            // Windows
            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)
            ], [NAME, VERSION], [
            /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i             // Windows Phone
            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [
            /windows nt 6\.2; (arm)/i,                                        // Windows RT
            /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,
            /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i
            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [

            // iOS/macOS
            /ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,              // iOS
            /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,
            /cfnetwork\/.+darwin/i
            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [
            /(mac os x) ?([\w\. ]*)/i,
            /(macintosh|mac_powerpc\b)(?!.+haiku)/i                             // Mac OS
            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [

            // Mobile OSes
            /droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS
            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS/OpenHarmony
            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,
            /(blackberry)\w*\/([\w\.]*)/i,                                      // Blackberry
            /(tizen|kaios)[\/ ]([\w\.]+)/i,                                     // Tizen/KaiOS
            /\((series40);/i                                                    // Series 40
            ], [NAME, VERSION], [
            /\(bb(10);/i                                                        // BlackBerry 10
            ], [VERSION, [NAME, BLACKBERRY]], [
            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i         // Symbian
            ], [VERSION, [NAME, 'Symbian']], [
            /mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i // Firefox OS
            ], [VERSION, [NAME, FIREFOX+' OS']], [
            /web0s;.+rt(tv)/i,
            /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i                              // WebOS
            ], [VERSION, [NAME, 'webOS']], [
            /watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i                              // watchOS
            ], [VERSION, [NAME, 'watchOS']], [

            // Google Chromecast
            /crkey\/([\d\.]+)/i                                                 // Google Chromecast
            ], [VERSION, [NAME, CHROME+'cast']], [
            /(cros) [\w]+(?:\)| ([\w\.]+)\b)/i                                  // Chromium OS
            ], [[NAME, CHROMIUM_OS], VERSION],[

            // Smart TVs
            /panasonic;(viera)/i,                                               // Panasonic Viera
            /(netrange)mmh/i,                                                   // Netrange
            /(nettv)\/(\d+\.[\w\.]+)/i,                                         // NetTV

            // Console
            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation
            /(xbox); +xbox ([^\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)

            // Other
            /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,                            // Joli/Palm
            /(mint)[\/\(\) ]?(\w*)/i,                                           // Mint
            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux
            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,
                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire
            /(hurd|linux) ?([\w\.]*)/i,                                         // Hurd/Linux
            /(gnu) ?([\w\.]*)/i,                                                // GNU
            /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly
            /(haiku) (\w+)/i                                                    // Haiku
            ], [NAME, VERSION], [
            /(sunos) ?([\w\.\d]*)/i                                             // Solaris
            ], [[NAME, 'Solaris'], VERSION], [
            /((?:open)?solaris)[-\/ ]?([\w\.]*)/i,                              // Solaris
            /(aix) ((\d)(?=\.|\)| )[\w\.])*/i,                                  // AIX
            /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS
            /(unix) ?([\w\.]*)/i                                                // UNIX
            ], [NAME, VERSION]
        ]
    };

    /////////////////
    // Constructor
    ////////////////

    var UAParser = function (ua, extensions) {

        if (typeof ua === OBJ_TYPE) {
            extensions = ua;
            ua = undefined;
        }

        if (!(this instanceof UAParser)) {
            return new UAParser(ua, extensions).getResult();
        }

        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;
        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);
        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;
        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;
        var _isSelfNav = _navigator && _navigator.userAgent == _ua;

        this.getBrowser = function () {
            var _browser = {};
            _browser[NAME] = undefined;
            _browser[VERSION] = undefined;
            rgxMapper.call(_browser, _ua, _rgxmap.browser);
            _browser[MAJOR] = majorize(_browser[VERSION]);
            // Brave-specific detection
            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {
                _browser[NAME] = 'Brave';
            }
            return _browser;
        };
        this.getCPU = function () {
            var _cpu = {};
            _cpu[ARCHITECTURE] = undefined;
            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);
            return _cpu;
        };
        this.getDevice = function () {
            var _device = {};
            _device[VENDOR] = undefined;
            _device[MODEL] = undefined;
            _device[TYPE] = undefined;
            rgxMapper.call(_device, _ua, _rgxmap.device);
            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {
                _device[TYPE] = MOBILE;
            }
            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties
            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {
                _device[MODEL] = 'iPad';
                _device[TYPE] = TABLET;
            }
            return _device;
        };
        this.getEngine = function () {
            var _engine = {};
            _engine[NAME] = undefined;
            _engine[VERSION] = undefined;
            rgxMapper.call(_engine, _ua, _rgxmap.engine);
            return _engine;
        };
        this.getOS = function () {
            var _os = {};
            _os[NAME] = undefined;
            _os[VERSION] = undefined;
            rgxMapper.call(_os, _ua, _rgxmap.os);
            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {
                _os[NAME] = _uach.platform  
                                    .replace(/chrome os/i, CHROMIUM_OS)
                                    .replace(/macos/i, MAC_OS);           // backward compatibility
            }
            return _os;
        };
        this.getResult = function () {
            return {
                ua      : this.getUA(),
                browser : this.getBrowser(),
                engine  : this.getEngine(),
                os      : this.getOS(),
                device  : this.getDevice(),
                cpu     : this.getCPU()
            };
        };
        this.getUA = function () {
            return _ua;
        };
        this.setUA = function (ua) {
            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;
            return this;
        };
        this.setUA(_ua);
        return this;
    };

    UAParser.VERSION = LIBVERSION;
    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);
    UAParser.CPU = enumerize([ARCHITECTURE]);
    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);
    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);

    ///////////
    // Export
    //////////

    // check js environment
    if (typeof(exports) !== UNDEF_TYPE) {
        // nodejs env
        if (typeof module !== UNDEF_TYPE && module.exports) {
            exports = module.exports = UAParser;
        }
        exports.UAParser = UAParser;
    } else {
        // requirejs env (optional)
        if (typeof(define) === FUNC_TYPE && define.amd) {
            define(function () {
                return UAParser;
            });
        } else if (typeof window !== UNDEF_TYPE) {
            // browser env
            window.UAParser = UAParser;
        }
    }

    // jQuery/Zepto specific (optional)
    // Note:
    //   In AMD env the global scope should be kept clean, but jQuery is an exception.
    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,
    //   and we should catch that.
    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);
    if ($ && !$.ua) {
        var parser = new UAParser();
        $.ua = parser.getResult();
        $.ua.get = function () {
            return parser.getUA();
        };
        $.ua.set = function (ua) {
            parser.setUA(ua);
            var result = parser.getResult();
            for (var prop in result) {
                $.ua[prop] = result[prop];
            }
        };
    }

})(typeof window === 'object' ? window : this);

},{}],135:[function(require,module,exports){
/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */
var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex[i] = (i + 0x100).toString(16).substr(1);
}

function bytesToUuid(buf, offset) {
  var i = offset || 0;
  var bth = byteToHex;
  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4
  return ([
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]]
  ]).join('');
}

module.exports = bytesToUuid;

},{}],136:[function(require,module,exports){
// Unique ID creation requires a high quality random # generator.  In the
// browser this is a little complicated due to unknown quality of Math.random()
// and inconsistent support for the `crypto` API.  We do the best we can via
// feature-detection

// getRandomValues needs to be invoked in a context where "this" is a Crypto
// implementation. Also, find the complete implementation of crypto on IE11.
var getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));

if (getRandomValues) {
  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto
  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef

  module.exports = function whatwgRNG() {
    getRandomValues(rnds8);
    return rnds8;
  };
} else {
  // Math.random()-based (RNG)
  //
  // If all else fails, use Math.random().  It's fast, but is of unspecified
  // quality.
  var rnds = new Array(16);

  module.exports = function mathRNG() {
    for (var i = 0, r; i < 16; i++) {
      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
    }

    return rnds;
  };
}

},{}],137:[function(require,module,exports){
var rng = require('./lib/rng');
var bytesToUuid = require('./lib/bytesToUuid');

function v4(options, buf, offset) {
  var i = buf && offset || 0;

  if (typeof(options) == 'string') {
    buf = options === 'binary' ? new Array(16) : null;
    options = null;
  }
  options = options || {};

  var rnds = options.random || (options.rng || rng)();

  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
  rnds[6] = (rnds[6] & 0x0f) | 0x40;
  rnds[8] = (rnds[8] & 0x3f) | 0x80;

  // Copy bytes to buffer, if provided
  if (buf) {
    for (var ii = 0; ii < 16; ++ii) {
      buf[i + ii] = rnds[ii];
    }
  }

  return buf || bytesToUuid(rnds);
}

module.exports = v4;

},{"./lib/bytesToUuid":135,"./lib/rng":136}],138:[function(require,module,exports){
(function (global){(function (){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */

'use strict';

var adapterFactory = require('./adapter_factory.js');
module.exports = adapterFactory({window: global.window});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./adapter_factory.js":139}],139:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */

'use strict';

var utils = require('./utils');
// Shimming starts here.
module.exports = function(dependencies, opts) {
  var window = dependencies && dependencies.window;

  var options = {
    shimChrome: true,
    shimFirefox: true,
    shimEdge: true,
    shimSafari: true,
  };

  for (var key in opts) {
    if (hasOwnProperty.call(opts, key)) {
      options[key] = opts[key];
    }
  }

  // Utils.
  var logging = utils.log;
  var browserDetails = utils.detectBrowser(window);

  // Uncomment the line below if you want logging to occur, including logging
  // for the switch statement below. Can also be turned on in the browser via
  // adapter.disableLog(false), but then logging from the switch statement below
  // will not appear.
  // require('./utils').disableLog(false);

  // Browser shims.
  var chromeShim = require('./chrome/chrome_shim') || null;
  var edgeShim = require('./edge/edge_shim') || null;
  var firefoxShim = require('./firefox/firefox_shim') || null;
  var safariShim = require('./safari/safari_shim') || null;
  var commonShim = require('./common_shim') || null;

  // Export to the adapter global object visible in the browser.
  var adapter = {
    browserDetails: browserDetails,
    commonShim: commonShim,
    extractVersion: utils.extractVersion,
    disableLog: utils.disableLog,
    disableWarnings: utils.disableWarnings
  };

  // Shim browser if found.
  switch (browserDetails.browser) {
    case 'chrome':
      if (!chromeShim || !chromeShim.shimPeerConnection ||
          !options.shimChrome) {
        logging('Chrome shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming chrome.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = chromeShim;
      commonShim.shimCreateObjectURL(window);

      chromeShim.shimGetUserMedia(window);
      chromeShim.shimMediaStream(window);
      chromeShim.shimSourceObject(window);
      chromeShim.shimPeerConnection(window);
      chromeShim.shimOnTrack(window);
      chromeShim.shimAddTrackRemoveTrack(window);
      chromeShim.shimGetSendersWithDtmf(window);
      chromeShim.shimSenderReceiverGetStats(window);
      chromeShim.fixNegotiationNeeded(window);

      commonShim.shimRTCIceCandidate(window);
      commonShim.shimMaxMessageSize(window);
      commonShim.shimSendThrowTypeError(window);
      break;
    case 'firefox':
      if (!firefoxShim || !firefoxShim.shimPeerConnection ||
          !options.shimFirefox) {
        logging('Firefox shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming firefox.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = firefoxShim;
      commonShim.shimCreateObjectURL(window);

      firefoxShim.shimGetUserMedia(window);
      firefoxShim.shimSourceObject(window);
      firefoxShim.shimPeerConnection(window);
      firefoxShim.shimOnTrack(window);
      firefoxShim.shimRemoveStream(window);
      firefoxShim.shimSenderGetStats(window);
      firefoxShim.shimReceiverGetStats(window);
      firefoxShim.shimRTCDataChannel(window);

      commonShim.shimRTCIceCandidate(window);
      commonShim.shimMaxMessageSize(window);
      commonShim.shimSendThrowTypeError(window);
      break;
    case 'edge':
      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {
        logging('MS edge shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming edge.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = edgeShim;
      commonShim.shimCreateObjectURL(window);

      edgeShim.shimGetUserMedia(window);
      edgeShim.shimPeerConnection(window);
      edgeShim.shimReplaceTrack(window);
      edgeShim.shimGetDisplayMedia(window);

      // the edge shim implements the full RTCIceCandidate object.

      commonShim.shimMaxMessageSize(window);
      commonShim.shimSendThrowTypeError(window);
      break;
    case 'safari':
      if (!safariShim || !options.shimSafari) {
        logging('Safari shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming safari.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = safariShim;
      commonShim.shimCreateObjectURL(window);

      safariShim.shimRTCIceServerUrls(window);
      safariShim.shimCreateOfferLegacy(window);
      safariShim.shimCallbacksAPI(window);
      safariShim.shimLocalStreamsAPI(window);
      safariShim.shimRemoteStreamsAPI(window);
      safariShim.shimTrackEventTransceiver(window);
      safariShim.shimGetUserMedia(window);

      commonShim.shimRTCIceCandidate(window);
      commonShim.shimMaxMessageSize(window);
      commonShim.shimSendThrowTypeError(window);
      break;
    default:
      logging('Unsupported browser!');
      break;
  }

  return adapter;
};

},{"./chrome/chrome_shim":140,"./common_shim":142,"./edge/edge_shim":143,"./firefox/firefox_shim":146,"./safari/safari_shim":148,"./utils":149}],140:[function(require,module,exports){

/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';
var utils = require('../utils.js');
var logging = utils.log;

/* iterates the stats graph recursively. */
function walkStats(stats, base, resultSet) {
  if (!base || resultSet.has(base.id)) {
    return;
  }
  resultSet.set(base.id, base);
  Object.keys(base).forEach(function(name) {
    if (name.endsWith('Id')) {
      walkStats(stats, stats.get(base[name]), resultSet);
    } else if (name.endsWith('Ids')) {
      base[name].forEach(function(id) {
        walkStats(stats, stats.get(id), resultSet);
      });
    }
  });
}

/* filter getStats for a sender/receiver track. */
function filterStats(result, track, outbound) {
  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';
  var filteredResult = new Map();
  if (track === null) {
    return filteredResult;
  }
  var trackStats = [];
  result.forEach(function(value) {
    if (value.type === 'track' &&
        value.trackIdentifier === track.id) {
      trackStats.push(value);
    }
  });
  trackStats.forEach(function(trackStat) {
    result.forEach(function(stats) {
      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {
        walkStats(result, stats, filteredResult);
      }
    });
  });
  return filteredResult;
}

module.exports = {
  shimGetUserMedia: require('./getusermedia'),
  shimMediaStream: function(window) {
    window.MediaStream = window.MediaStream || window.webkitMediaStream;
  },

  shimOnTrack: function(window) {
    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in
        window.RTCPeerConnection.prototype)) {
      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
        get: function() {
          return this._ontrack;
        },
        set: function(f) {
          if (this._ontrack) {
            this.removeEventListener('track', this._ontrack);
          }
          this.addEventListener('track', this._ontrack = f);
        },
        enumerable: true,
        configurable: true
      });
      var origSetRemoteDescription =
          window.RTCPeerConnection.prototype.setRemoteDescription;
      window.RTCPeerConnection.prototype.setRemoteDescription = function() {
        var pc = this;
        if (!pc._ontrackpoly) {
          pc._ontrackpoly = function(e) {
            // onaddstream does not fire when a track is added to an existing
            // stream. But stream.onaddtrack is implemented so we use that.
            e.stream.addEventListener('addtrack', function(te) {
              var receiver;
              if (window.RTCPeerConnection.prototype.getReceivers) {
                receiver = pc.getReceivers().find(function(r) {
                  return r.track && r.track.id === te.track.id;
                });
              } else {
                receiver = {track: te.track};
              }

              var event = new Event('track');
              event.track = te.track;
              event.receiver = receiver;
              event.transceiver = {receiver: receiver};
              event.streams = [e.stream];
              pc.dispatchEvent(event);
            });
            e.stream.getTracks().forEach(function(track) {
              var receiver;
              if (window.RTCPeerConnection.prototype.getReceivers) {
                receiver = pc.getReceivers().find(function(r) {
                  return r.track && r.track.id === track.id;
                });
              } else {
                receiver = {track: track};
              }
              var event = new Event('track');
              event.track = track;
              event.receiver = receiver;
              event.transceiver = {receiver: receiver};
              event.streams = [e.stream];
              pc.dispatchEvent(event);
            });
          };
          pc.addEventListener('addstream', pc._ontrackpoly);
        }
        return origSetRemoteDescription.apply(pc, arguments);
      };
    } else {
      // even if RTCRtpTransceiver is in window, it is only used and
      // emitted in unified-plan. Unfortunately this means we need
      // to unconditionally wrap the event.
      utils.wrapPeerConnectionEvent(window, 'track', function(e) {
        if (!e.transceiver) {
          Object.defineProperty(e, 'transceiver',
            {value: {receiver: e.receiver}});
        }
        return e;
      });
    }
  },

  shimGetSendersWithDtmf: function(window) {
    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.
    if (typeof window === 'object' && window.RTCPeerConnection &&
        !('getSenders' in window.RTCPeerConnection.prototype) &&
        'createDTMFSender' in window.RTCPeerConnection.prototype) {
      var shimSenderWithDtmf = function(pc, track) {
        return {
          track: track,
          get dtmf() {
            if (this._dtmf === undefined) {
              if (track.kind === 'audio') {
                this._dtmf = pc.createDTMFSender(track);
              } else {
                this._dtmf = null;
              }
            }
            return this._dtmf;
          },
          _pc: pc
        };
      };

      // augment addTrack when getSenders is not available.
      if (!window.RTCPeerConnection.prototype.getSenders) {
        window.RTCPeerConnection.prototype.getSenders = function() {
          this._senders = this._senders || [];
          return this._senders.slice(); // return a copy of the internal state.
        };
        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;
        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {
          var pc = this;
          var sender = origAddTrack.apply(pc, arguments);
          if (!sender) {
            sender = shimSenderWithDtmf(pc, track);
            pc._senders.push(sender);
          }
          return sender;
        };

        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;
        window.RTCPeerConnection.prototype.removeTrack = function(sender) {
          var pc = this;
          origRemoveTrack.apply(pc, arguments);
          var idx = pc._senders.indexOf(sender);
          if (idx !== -1) {
            pc._senders.splice(idx, 1);
          }
        };
      }
      var origAddStream = window.RTCPeerConnection.prototype.addStream;
      window.RTCPeerConnection.prototype.addStream = function(stream) {
        var pc = this;
        pc._senders = pc._senders || [];
        origAddStream.apply(pc, [stream]);
        stream.getTracks().forEach(function(track) {
          pc._senders.push(shimSenderWithDtmf(pc, track));
        });
      };

      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
      window.RTCPeerConnection.prototype.removeStream = function(stream) {
        var pc = this;
        pc._senders = pc._senders || [];
        origRemoveStream.apply(pc, [stream]);

        stream.getTracks().forEach(function(track) {
          var sender = pc._senders.find(function(s) {
            return s.track === track;
          });
          if (sender) {
            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender
          }
        });
      };
    } else if (typeof window === 'object' && window.RTCPeerConnection &&
               'getSenders' in window.RTCPeerConnection.prototype &&
               'createDTMFSender' in window.RTCPeerConnection.prototype &&
               window.RTCRtpSender &&
               !('dtmf' in window.RTCRtpSender.prototype)) {
      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;
      window.RTCPeerConnection.prototype.getSenders = function() {
        var pc = this;
        var senders = origGetSenders.apply(pc, []);
        senders.forEach(function(sender) {
          sender._pc = pc;
        });
        return senders;
      };

      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {
        get: function() {
          if (this._dtmf === undefined) {
            if (this.track.kind === 'audio') {
              this._dtmf = this._pc.createDTMFSender(this.track);
            } else {
              this._dtmf = null;
            }
          }
          return this._dtmf;
        }
      });
    }
  },

  shimSenderReceiverGetStats: function(window) {
    if (!(typeof window === 'object' && window.RTCPeerConnection &&
        window.RTCRtpSender && window.RTCRtpReceiver)) {
      return;
    }

    // shim sender stats.
    if (!('getStats' in window.RTCRtpSender.prototype)) {
      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;
      if (origGetSenders) {
        window.RTCPeerConnection.prototype.getSenders = function() {
          var pc = this;
          var senders = origGetSenders.apply(pc, []);
          senders.forEach(function(sender) {
            sender._pc = pc;
          });
          return senders;
        };
      }

      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;
      if (origAddTrack) {
        window.RTCPeerConnection.prototype.addTrack = function() {
          var sender = origAddTrack.apply(this, arguments);
          sender._pc = this;
          return sender;
        };
      }
      window.RTCRtpSender.prototype.getStats = function() {
        var sender = this;
        return this._pc.getStats().then(function(result) {
          /* Note: this will include stats of all senders that
           *   send a track with the same id as sender.track as
           *   it is not possible to identify the RTCRtpSender.
           */
          return filterStats(result, sender.track, true);
        });
      };
    }

    // shim receiver stats.
    if (!('getStats' in window.RTCRtpReceiver.prototype)) {
      var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;
      if (origGetReceivers) {
        window.RTCPeerConnection.prototype.getReceivers = function() {
          var pc = this;
          var receivers = origGetReceivers.apply(pc, []);
          receivers.forEach(function(receiver) {
            receiver._pc = pc;
          });
          return receivers;
        };
      }
      utils.wrapPeerConnectionEvent(window, 'track', function(e) {
        e.receiver._pc = e.srcElement;
        return e;
      });
      window.RTCRtpReceiver.prototype.getStats = function() {
        var receiver = this;
        return this._pc.getStats().then(function(result) {
          return filterStats(result, receiver.track, false);
        });
      };
    }

    if (!('getStats' in window.RTCRtpSender.prototype &&
        'getStats' in window.RTCRtpReceiver.prototype)) {
      return;
    }

    // shim RTCPeerConnection.getStats(track).
    var origGetStats = window.RTCPeerConnection.prototype.getStats;
    window.RTCPeerConnection.prototype.getStats = function() {
      var pc = this;
      if (arguments.length > 0 &&
          arguments[0] instanceof window.MediaStreamTrack) {
        var track = arguments[0];
        var sender;
        var receiver;
        var err;
        pc.getSenders().forEach(function(s) {
          if (s.track === track) {
            if (sender) {
              err = true;
            } else {
              sender = s;
            }
          }
        });
        pc.getReceivers().forEach(function(r) {
          if (r.track === track) {
            if (receiver) {
              err = true;
            } else {
              receiver = r;
            }
          }
          return r.track === track;
        });
        if (err || (sender && receiver)) {
          return Promise.reject(new DOMException(
            'There are more than one sender or receiver for the track.',
            'InvalidAccessError'));
        } else if (sender) {
          return sender.getStats();
        } else if (receiver) {
          return receiver.getStats();
        }
        return Promise.reject(new DOMException(
          'There is no sender or receiver for the track.',
          'InvalidAccessError'));
      }
      return origGetStats.apply(pc, arguments);
    };
  },

  shimSourceObject: function(window) {
    var URL = window && window.URL;

    if (typeof window === 'object') {
      if (window.HTMLMediaElement &&
        !('srcObject' in window.HTMLMediaElement.prototype)) {
        // Shim the srcObject property, once, when HTMLMediaElement is found.
        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
          get: function() {
            return this._srcObject;
          },
          set: function(stream) {
            var self = this;
            // Use _srcObject as a private property for this shim
            this._srcObject = stream;
            if (this.src) {
              URL.revokeObjectURL(this.src);
            }

            if (!stream) {
              this.src = '';
              return undefined;
            }
            this.src = URL.createObjectURL(stream);
            // We need to recreate the blob url when a track is added or
            // removed. Doing it manually since we want to avoid a recursion.
            stream.addEventListener('addtrack', function() {
              if (self.src) {
                URL.revokeObjectURL(self.src);
              }
              self.src = URL.createObjectURL(stream);
            });
            stream.addEventListener('removetrack', function() {
              if (self.src) {
                URL.revokeObjectURL(self.src);
              }
              self.src = URL.createObjectURL(stream);
            });
          }
        });
      }
    }
  },

  shimAddTrackRemoveTrackWithNative: function(window) {
    // shim addTrack/removeTrack with native variants in order to make
    // the interactions with legacy getLocalStreams behave as in other browsers.
    // Keeps a mapping stream.id => [stream, rtpsenders...]
    window.RTCPeerConnection.prototype.getLocalStreams = function() {
      var pc = this;
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {
        return pc._shimmedLocalStreams[streamId][0];
      });
    };

    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;
    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {
      if (!stream) {
        return origAddTrack.apply(this, arguments);
      }
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};

      var sender = origAddTrack.apply(this, arguments);
      if (!this._shimmedLocalStreams[stream.id]) {
        this._shimmedLocalStreams[stream.id] = [stream, sender];
      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {
        this._shimmedLocalStreams[stream.id].push(sender);
      }
      return sender;
    };

    var origAddStream = window.RTCPeerConnection.prototype.addStream;
    window.RTCPeerConnection.prototype.addStream = function(stream) {
      var pc = this;
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};

      stream.getTracks().forEach(function(track) {
        var alreadyExists = pc.getSenders().find(function(s) {
          return s.track === track;
        });
        if (alreadyExists) {
          throw new DOMException('Track already exists.',
              'InvalidAccessError');
        }
      });
      var existingSenders = pc.getSenders();
      origAddStream.apply(this, arguments);
      var newSenders = pc.getSenders().filter(function(newSender) {
        return existingSenders.indexOf(newSender) === -1;
      });
      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);
    };

    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
    window.RTCPeerConnection.prototype.removeStream = function(stream) {
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      delete this._shimmedLocalStreams[stream.id];
      return origRemoveStream.apply(this, arguments);
    };

    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;
    window.RTCPeerConnection.prototype.removeTrack = function(sender) {
      var pc = this;
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      if (sender) {
        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {
          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);
          if (idx !== -1) {
            pc._shimmedLocalStreams[streamId].splice(idx, 1);
          }
          if (pc._shimmedLocalStreams[streamId].length === 1) {
            delete pc._shimmedLocalStreams[streamId];
          }
        });
      }
      return origRemoveTrack.apply(this, arguments);
    };
  },

  shimAddTrackRemoveTrack: function(window) {
    if (!window.RTCPeerConnection) {
      return;
    }
    var browserDetails = utils.detectBrowser(window);
    // shim addTrack and removeTrack.
    if (window.RTCPeerConnection.prototype.addTrack &&
        browserDetails.version >= 65) {
      return this.shimAddTrackRemoveTrackWithNative(window);
    }

    // also shim pc.getLocalStreams when addTrack is shimmed
    // to return the original streams.
    var origGetLocalStreams = window.RTCPeerConnection.prototype
        .getLocalStreams;
    window.RTCPeerConnection.prototype.getLocalStreams = function() {
      var pc = this;
      var nativeStreams = origGetLocalStreams.apply(this);
      pc._reverseStreams = pc._reverseStreams || {};
      return nativeStreams.map(function(stream) {
        return pc._reverseStreams[stream.id];
      });
    };

    var origAddStream = window.RTCPeerConnection.prototype.addStream;
    window.RTCPeerConnection.prototype.addStream = function(stream) {
      var pc = this;
      pc._streams = pc._streams || {};
      pc._reverseStreams = pc._reverseStreams || {};

      stream.getTracks().forEach(function(track) {
        var alreadyExists = pc.getSenders().find(function(s) {
          return s.track === track;
        });
        if (alreadyExists) {
          throw new DOMException('Track already exists.',
              'InvalidAccessError');
        }
      });
      // Add identity mapping for consistency with addTrack.
      // Unless this is being used with a stream from addTrack.
      if (!pc._reverseStreams[stream.id]) {
        var newStream = new window.MediaStream(stream.getTracks());
        pc._streams[stream.id] = newStream;
        pc._reverseStreams[newStream.id] = stream;
        stream = newStream;
      }
      origAddStream.apply(pc, [stream]);
    };

    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
    window.RTCPeerConnection.prototype.removeStream = function(stream) {
      var pc = this;
      pc._streams = pc._streams || {};
      pc._reverseStreams = pc._reverseStreams || {};

      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);
      delete pc._reverseStreams[(pc._streams[stream.id] ?
          pc._streams[stream.id].id : stream.id)];
      delete pc._streams[stream.id];
    };

    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {
      var pc = this;
      if (pc.signalingState === 'closed') {
        throw new DOMException(
          'The RTCPeerConnection\'s signalingState is \'closed\'.',
          'InvalidStateError');
      }
      var streams = [].slice.call(arguments, 1);
      if (streams.length !== 1 ||
          !streams[0].getTracks().find(function(t) {
            return t === track;
          })) {
        // this is not fully correct but all we can manage without
        // [[associated MediaStreams]] internal slot.
        throw new DOMException(
          'The adapter.js addTrack polyfill only supports a single ' +
          ' stream which is associated with the specified track.',
          'NotSupportedError');
      }

      var alreadyExists = pc.getSenders().find(function(s) {
        return s.track === track;
      });
      if (alreadyExists) {
        throw new DOMException('Track already exists.',
            'InvalidAccessError');
      }

      pc._streams = pc._streams || {};
      pc._reverseStreams = pc._reverseStreams || {};
      var oldStream = pc._streams[stream.id];
      if (oldStream) {
        // this is using odd Chrome behaviour, use with caution:
        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815
        // Note: we rely on the high-level addTrack/dtmf shim to
        // create the sender with a dtmf sender.
        oldStream.addTrack(track);

        // Trigger ONN async.
        Promise.resolve().then(function() {
          pc.dispatchEvent(new Event('negotiationneeded'));
        });
      } else {
        var newStream = new window.MediaStream([track]);
        pc._streams[stream.id] = newStream;
        pc._reverseStreams[newStream.id] = stream;
        pc.addStream(newStream);
      }
      return pc.getSenders().find(function(s) {
        return s.track === track;
      });
    };

    // replace the internal stream id with the external one and
    // vice versa.
    function replaceInternalStreamId(pc, description) {
      var sdp = description.sdp;
      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {
        var externalStream = pc._reverseStreams[internalId];
        var internalStream = pc._streams[externalStream.id];
        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),
            externalStream.id);
      });
      return new RTCSessionDescription({
        type: description.type,
        sdp: sdp
      });
    }
    function replaceExternalStreamId(pc, description) {
      var sdp = description.sdp;
      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {
        var externalStream = pc._reverseStreams[internalId];
        var internalStream = pc._streams[externalStream.id];
        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),
            internalStream.id);
      });
      return new RTCSessionDescription({
        type: description.type,
        sdp: sdp
      });
    }
    ['createOffer', 'createAnswer'].forEach(function(method) {
      var nativeMethod = window.RTCPeerConnection.prototype[method];
      window.RTCPeerConnection.prototype[method] = function() {
        var pc = this;
        var args = arguments;
        var isLegacyCall = arguments.length &&
            typeof arguments[0] === 'function';
        if (isLegacyCall) {
          return nativeMethod.apply(pc, [
            function(description) {
              var desc = replaceInternalStreamId(pc, description);
              args[0].apply(null, [desc]);
            },
            function(err) {
              if (args[1]) {
                args[1].apply(null, err);
              }
            }, arguments[2]
          ]);
        }
        return nativeMethod.apply(pc, arguments)
        .then(function(description) {
          return replaceInternalStreamId(pc, description);
        });
      };
    });

    var origSetLocalDescription =
        window.RTCPeerConnection.prototype.setLocalDescription;
    window.RTCPeerConnection.prototype.setLocalDescription = function() {
      var pc = this;
      if (!arguments.length || !arguments[0].type) {
        return origSetLocalDescription.apply(pc, arguments);
      }
      arguments[0] = replaceExternalStreamId(pc, arguments[0]);
      return origSetLocalDescription.apply(pc, arguments);
    };

    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier

    var origLocalDescription = Object.getOwnPropertyDescriptor(
        window.RTCPeerConnection.prototype, 'localDescription');
    Object.defineProperty(window.RTCPeerConnection.prototype,
        'localDescription', {
          get: function() {
            var pc = this;
            var description = origLocalDescription.get.apply(this);
            if (description.type === '') {
              return description;
            }
            return replaceInternalStreamId(pc, description);
          }
        });

    window.RTCPeerConnection.prototype.removeTrack = function(sender) {
      var pc = this;
      if (pc.signalingState === 'closed') {
        throw new DOMException(
          'The RTCPeerConnection\'s signalingState is \'closed\'.',
          'InvalidStateError');
      }
      // We can not yet check for sender instanceof RTCRtpSender
      // since we shim RTPSender. So we check if sender._pc is set.
      if (!sender._pc) {
        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +
            'does not implement interface RTCRtpSender.', 'TypeError');
      }
      var isLocal = sender._pc === pc;
      if (!isLocal) {
        throw new DOMException('Sender was not created by this connection.',
            'InvalidAccessError');
      }

      // Search for the native stream the senders track belongs to.
      pc._streams = pc._streams || {};
      var stream;
      Object.keys(pc._streams).forEach(function(streamid) {
        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {
          return sender.track === track;
        });
        if (hasTrack) {
          stream = pc._streams[streamid];
        }
      });

      if (stream) {
        if (stream.getTracks().length === 1) {
          // if this is the last track of the stream, remove the stream. This
          // takes care of any shimmed _senders.
          pc.removeStream(pc._reverseStreams[stream.id]);
        } else {
          // relying on the same odd chrome behaviour as above.
          stream.removeTrack(sender.track);
        }
        pc.dispatchEvent(new Event('negotiationneeded'));
      }
    };
  },

  shimPeerConnection: function(window) {
    var browserDetails = utils.detectBrowser(window);

    // The RTCPeerConnection object.
    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {
      window.RTCPeerConnection = function(pcConfig, pcConstraints) {
        // Translate iceTransportPolicy to iceTransports,
        // see https://code.google.com/p/webrtc/issues/detail?id=4869
        // this was fixed in M56 along with unprefixing RTCPeerConnection.
        logging('PeerConnection');
        if (pcConfig && pcConfig.iceTransportPolicy) {
          pcConfig.iceTransports = pcConfig.iceTransportPolicy;
        }

        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);
      };
      window.RTCPeerConnection.prototype =
          window.webkitRTCPeerConnection.prototype;
      // wrap static methods. Currently just generateCertificate.
      if (window.webkitRTCPeerConnection.generateCertificate) {
        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
          get: function() {
            return window.webkitRTCPeerConnection.generateCertificate;
          }
        });
      }
    }
    if (!window.RTCPeerConnection) {
      return;
    }

    var origGetStats = window.RTCPeerConnection.prototype.getStats;
    window.RTCPeerConnection.prototype.getStats = function(selector,
        successCallback, errorCallback) {
      var pc = this;
      var args = arguments;

      // If selector is a function then we are in the old style stats so just
      // pass back the original getStats format to avoid breaking old users.
      if (arguments.length > 0 && typeof selector === 'function') {
        return origGetStats.apply(this, arguments);
      }

      // When spec-style getStats is supported, return those when called with
      // either no arguments or the selector argument is null.
      if (origGetStats.length === 0 && (arguments.length === 0 ||
          typeof arguments[0] !== 'function')) {
        return origGetStats.apply(this, []);
      }

      var fixChromeStats_ = function(response) {
        var standardReport = {};
        var reports = response.result();
        reports.forEach(function(report) {
          var standardStats = {
            id: report.id,
            timestamp: report.timestamp,
            type: {
              localcandidate: 'local-candidate',
              remotecandidate: 'remote-candidate'
            }[report.type] || report.type
          };
          report.names().forEach(function(name) {
            standardStats[name] = report.stat(name);
          });
          standardReport[standardStats.id] = standardStats;
        });

        return standardReport;
      };

      // shim getStats with maplike support
      var makeMapStats = function(stats) {
        return new Map(Object.keys(stats).map(function(key) {
          return [key, stats[key]];
        }));
      };

      if (arguments.length >= 2) {
        var successCallbackWrapper_ = function(response) {
          args[1](makeMapStats(fixChromeStats_(response)));
        };

        return origGetStats.apply(this, [successCallbackWrapper_,
          arguments[0]]);
      }

      // promise-support
      return new Promise(function(resolve, reject) {
        origGetStats.apply(pc, [
          function(response) {
            resolve(makeMapStats(fixChromeStats_(response)));
          }, reject]);
      }).then(successCallback, errorCallback);
    };

    // add promise support -- natively available in Chrome 51
    if (browserDetails.version < 51) {
      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']
          .forEach(function(method) {
            var nativeMethod = window.RTCPeerConnection.prototype[method];
            window.RTCPeerConnection.prototype[method] = function() {
              var args = arguments;
              var pc = this;
              var promise = new Promise(function(resolve, reject) {
                nativeMethod.apply(pc, [args[0], resolve, reject]);
              });
              if (args.length < 2) {
                return promise;
              }
              return promise.then(function() {
                args[1].apply(null, []);
              },
              function(err) {
                if (args.length >= 3) {
                  args[2].apply(null, [err]);
                }
              });
            };
          });
    }

    // promise support for createOffer and createAnswer. Available (without
    // bugs) since M52: crbug/619289
    if (browserDetails.version < 52) {
      ['createOffer', 'createAnswer'].forEach(function(method) {
        var nativeMethod = window.RTCPeerConnection.prototype[method];
        window.RTCPeerConnection.prototype[method] = function() {
          var pc = this;
          if (arguments.length < 1 || (arguments.length === 1 &&
              typeof arguments[0] === 'object')) {
            var opts = arguments.length === 1 ? arguments[0] : undefined;
            return new Promise(function(resolve, reject) {
              nativeMethod.apply(pc, [resolve, reject, opts]);
            });
          }
          return nativeMethod.apply(this, arguments);
        };
      });
    }

    // shim implicit creation of RTCSessionDescription/RTCIceCandidate
    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']
        .forEach(function(method) {
          var nativeMethod = window.RTCPeerConnection.prototype[method];
          window.RTCPeerConnection.prototype[method] = function() {
            arguments[0] = new ((method === 'addIceCandidate') ?
                window.RTCIceCandidate :
                window.RTCSessionDescription)(arguments[0]);
            return nativeMethod.apply(this, arguments);
          };
        });

    // support for addIceCandidate(null or undefined)
    var nativeAddIceCandidate =
        window.RTCPeerConnection.prototype.addIceCandidate;
    window.RTCPeerConnection.prototype.addIceCandidate = function() {
      if (!arguments[0]) {
        if (arguments[1]) {
          arguments[1].apply(null);
        }
        return Promise.resolve();
      }
      return nativeAddIceCandidate.apply(this, arguments);
    };
  },

  fixNegotiationNeeded: function(window) {
    utils.wrapPeerConnectionEvent(window, 'negotiationneeded', function(e) {
      var pc = e.target;
      if (pc.signalingState !== 'stable') {
        return;
      }
      return e;
    });
  },

  shimGetDisplayMedia: function(window, getSourceId) {
    if (!window.navigator || !window.navigator.mediaDevices ||
        'getDisplayMedia' in window.navigator.mediaDevices) {
      return;
    }
    // getSourceId is a function that returns a promise resolving with
    // the sourceId of the screen/window/tab to be shared.
    if (typeof getSourceId !== 'function') {
      console.error('shimGetDisplayMedia: getSourceId argument is not ' +
          'a function');
      return;
    }
    window.navigator.mediaDevices.getDisplayMedia = function(constraints) {
      return getSourceId(constraints)
        .then(function(sourceId) {
          var widthSpecified = constraints.video && constraints.video.width;
          var heightSpecified = constraints.video && constraints.video.height;
          var frameRateSpecified = constraints.video &&
            constraints.video.frameRate;
          constraints.video = {
            mandatory: {
              chromeMediaSource: 'desktop',
              chromeMediaSourceId: sourceId,
              maxFrameRate: frameRateSpecified || 3
            }
          };
          if (widthSpecified) {
            constraints.video.mandatory.maxWidth = widthSpecified;
          }
          if (heightSpecified) {
            constraints.video.mandatory.maxHeight = heightSpecified;
          }
          return window.navigator.mediaDevices.getUserMedia(constraints);
        });
    };
    window.navigator.getDisplayMedia = function(constraints) {
      utils.deprecated('navigator.getDisplayMedia',
          'navigator.mediaDevices.getDisplayMedia');
      return window.navigator.mediaDevices.getDisplayMedia(constraints);
    };
  }
};

},{"../utils.js":149,"./getusermedia":141}],141:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';
var utils = require('../utils.js');
var logging = utils.log;

// Expose public methods.
module.exports = function(window) {
  var browserDetails = utils.detectBrowser(window);
  var navigator = window && window.navigator;

  var constraintsToChrome_ = function(c) {
    if (typeof c !== 'object' || c.mandatory || c.optional) {
      return c;
    }
    var cc = {};
    Object.keys(c).forEach(function(key) {
      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {
        return;
      }
      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};
      if (r.exact !== undefined && typeof r.exact === 'number') {
        r.min = r.max = r.exact;
      }
      var oldname_ = function(prefix, name) {
        if (prefix) {
          return prefix + name.charAt(0).toUpperCase() + name.slice(1);
        }
        return (name === 'deviceId') ? 'sourceId' : name;
      };
      if (r.ideal !== undefined) {
        cc.optional = cc.optional || [];
        var oc = {};
        if (typeof r.ideal === 'number') {
          oc[oldname_('min', key)] = r.ideal;
          cc.optional.push(oc);
          oc = {};
          oc[oldname_('max', key)] = r.ideal;
          cc.optional.push(oc);
        } else {
          oc[oldname_('', key)] = r.ideal;
          cc.optional.push(oc);
        }
      }
      if (r.exact !== undefined && typeof r.exact !== 'number') {
        cc.mandatory = cc.mandatory || {};
        cc.mandatory[oldname_('', key)] = r.exact;
      } else {
        ['min', 'max'].forEach(function(mix) {
          if (r[mix] !== undefined) {
            cc.mandatory = cc.mandatory || {};
            cc.mandatory[oldname_(mix, key)] = r[mix];
          }
        });
      }
    });
    if (c.advanced) {
      cc.optional = (cc.optional || []).concat(c.advanced);
    }
    return cc;
  };

  var shimConstraints_ = function(constraints, func) {
    if (browserDetails.version >= 61) {
      return func(constraints);
    }
    constraints = JSON.parse(JSON.stringify(constraints));
    if (constraints && typeof constraints.audio === 'object') {
      var remap = function(obj, a, b) {
        if (a in obj && !(b in obj)) {
          obj[b] = obj[a];
          delete obj[a];
        }
      };
      constraints = JSON.parse(JSON.stringify(constraints));
      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');
      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');
      constraints.audio = constraintsToChrome_(constraints.audio);
    }
    if (constraints && typeof constraints.video === 'object') {
      // Shim facingMode for mobile & surface pro.
      var face = constraints.video.facingMode;
      face = face && ((typeof face === 'object') ? face : {ideal: face});
      var getSupportedFacingModeLies = browserDetails.version < 66;

      if ((face && (face.exact === 'user' || face.exact === 'environment' ||
                    face.ideal === 'user' || face.ideal === 'environment')) &&
          !(navigator.mediaDevices.getSupportedConstraints &&
            navigator.mediaDevices.getSupportedConstraints().facingMode &&
            !getSupportedFacingModeLies)) {
        delete constraints.video.facingMode;
        var matches;
        if (face.exact === 'environment' || face.ideal === 'environment') {
          matches = ['back', 'rear'];
        } else if (face.exact === 'user' || face.ideal === 'user') {
          matches = ['front'];
        }
        if (matches) {
          // Look for matches in label, or use last cam for back (typical).
          return navigator.mediaDevices.enumerateDevices()
          .then(function(devices) {
            devices = devices.filter(function(d) {
              return d.kind === 'videoinput';
            });
            var dev = devices.find(function(d) {
              return matches.some(function(match) {
                return d.label.toLowerCase().indexOf(match) !== -1;
              });
            });
            if (!dev && devices.length && matches.indexOf('back') !== -1) {
              dev = devices[devices.length - 1]; // more likely the back cam
            }
            if (dev) {
              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :
                                                        {ideal: dev.deviceId};
            }
            constraints.video = constraintsToChrome_(constraints.video);
            logging('chrome: ' + JSON.stringify(constraints));
            return func(constraints);
          });
        }
      }
      constraints.video = constraintsToChrome_(constraints.video);
    }
    logging('chrome: ' + JSON.stringify(constraints));
    return func(constraints);
  };

  var shimError_ = function(e) {
    if (browserDetails.version >= 64) {
      return e;
    }
    return {
      name: {
        PermissionDeniedError: 'NotAllowedError',
        PermissionDismissedError: 'NotAllowedError',
        InvalidStateError: 'NotAllowedError',
        DevicesNotFoundError: 'NotFoundError',
        ConstraintNotSatisfiedError: 'OverconstrainedError',
        TrackStartError: 'NotReadableError',
        MediaDeviceFailedDueToShutdown: 'NotAllowedError',
        MediaDeviceKillSwitchOn: 'NotAllowedError',
        TabCaptureError: 'AbortError',
        ScreenCaptureError: 'AbortError',
        DeviceCaptureError: 'AbortError'
      }[e.name] || e.name,
      message: e.message,
      constraint: e.constraint || e.constraintName,
      toString: function() {
        return this.name + (this.message && ': ') + this.message;
      }
    };
  };

  var getUserMedia_ = function(constraints, onSuccess, onError) {
    shimConstraints_(constraints, function(c) {
      navigator.webkitGetUserMedia(c, onSuccess, function(e) {
        if (onError) {
          onError(shimError_(e));
        }
      });
    });
  };

  navigator.getUserMedia = getUserMedia_;

  // Returns the result of getUserMedia as a Promise.
  var getUserMediaPromise_ = function(constraints) {
    return new Promise(function(resolve, reject) {
      navigator.getUserMedia(constraints, resolve, reject);
    });
  };

  if (!navigator.mediaDevices) {
    navigator.mediaDevices = {
      getUserMedia: getUserMediaPromise_,
      enumerateDevices: function() {
        return new Promise(function(resolve) {
          var kinds = {audio: 'audioinput', video: 'videoinput'};
          return window.MediaStreamTrack.getSources(function(devices) {
            resolve(devices.map(function(device) {
              return {label: device.label,
                kind: kinds[device.kind],
                deviceId: device.id,
                groupId: ''};
            }));
          });
        });
      },
      getSupportedConstraints: function() {
        return {
          deviceId: true, echoCancellation: true, facingMode: true,
          frameRate: true, height: true, width: true
        };
      }
    };
  }

  // A shim for getUserMedia method on the mediaDevices object.
  // TODO(KaptenJansson) remove once implemented in Chrome stable.
  if (!navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia = function(constraints) {
      return getUserMediaPromise_(constraints);
    };
  } else {
    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia
    // function which returns a Promise, it does not accept spec-style
    // constraints.
    var origGetUserMedia = navigator.mediaDevices.getUserMedia.
        bind(navigator.mediaDevices);
    navigator.mediaDevices.getUserMedia = function(cs) {
      return shimConstraints_(cs, function(c) {
        return origGetUserMedia(c).then(function(stream) {
          if (c.audio && !stream.getAudioTracks().length ||
              c.video && !stream.getVideoTracks().length) {
            stream.getTracks().forEach(function(track) {
              track.stop();
            });
            throw new DOMException('', 'NotFoundError');
          }
          return stream;
        }, function(e) {
          return Promise.reject(shimError_(e));
        });
      });
    };
  }

  // Dummy devicechange event methods.
  // TODO(KaptenJansson) remove once implemented in Chrome stable.
  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {
    navigator.mediaDevices.addEventListener = function() {
      logging('Dummy mediaDevices.addEventListener called.');
    };
  }
  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {
    navigator.mediaDevices.removeEventListener = function() {
      logging('Dummy mediaDevices.removeEventListener called.');
    };
  }
};

},{"../utils.js":149}],142:[function(require,module,exports){
/*
 *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var SDPUtils = require('sdp');
var utils = require('./utils');

module.exports = {
  shimRTCIceCandidate: function(window) {
    // foundation is arbitrarily chosen as an indicator for full support for
    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface
    if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in
        window.RTCIceCandidate.prototype)) {
      return;
    }

    var NativeRTCIceCandidate = window.RTCIceCandidate;
    window.RTCIceCandidate = function(args) {
      // Remove the a= which shouldn't be part of the candidate string.
      if (typeof args === 'object' && args.candidate &&
          args.candidate.indexOf('a=') === 0) {
        args = JSON.parse(JSON.stringify(args));
        args.candidate = args.candidate.substr(2);
      }

      if (args.candidate && args.candidate.length) {
        // Augment the native candidate with the parsed fields.
        var nativeCandidate = new NativeRTCIceCandidate(args);
        var parsedCandidate = SDPUtils.parseCandidate(args.candidate);
        var augmentedCandidate = Object.assign(nativeCandidate,
            parsedCandidate);

        // Add a serializer that does not serialize the extra attributes.
        augmentedCandidate.toJSON = function() {
          return {
            candidate: augmentedCandidate.candidate,
            sdpMid: augmentedCandidate.sdpMid,
            sdpMLineIndex: augmentedCandidate.sdpMLineIndex,
            usernameFragment: augmentedCandidate.usernameFragment,
          };
        };
        return augmentedCandidate;
      }
      return new NativeRTCIceCandidate(args);
    };
    window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;

    // Hook up the augmented candidate in onicecandidate and
    // addEventListener('icecandidate', ...)
    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {
      if (e.candidate) {
        Object.defineProperty(e, 'candidate', {
          value: new window.RTCIceCandidate(e.candidate),
          writable: 'false'
        });
      }
      return e;
    });
  },

  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.

  shimCreateObjectURL: function(window) {
    var URL = window && window.URL;

    if (!(typeof window === 'object' && window.HTMLMediaElement &&
          'srcObject' in window.HTMLMediaElement.prototype &&
        URL.createObjectURL && URL.revokeObjectURL)) {
      // Only shim CreateObjectURL using srcObject if srcObject exists.
      return undefined;
    }

    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);
    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);
    var streams = new Map(), newId = 0;

    URL.createObjectURL = function(stream) {
      if ('getTracks' in stream) {
        var url = 'polyblob:' + (++newId);
        streams.set(url, stream);
        utils.deprecated('URL.createObjectURL(stream)',
            'elem.srcObject = stream');
        return url;
      }
      return nativeCreateObjectURL(stream);
    };
    URL.revokeObjectURL = function(url) {
      nativeRevokeObjectURL(url);
      streams.delete(url);
    };

    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,
                                              'src');
    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {
      get: function() {
        return dsc.get.apply(this);
      },
      set: function(url) {
        this.srcObject = streams.get(url) || null;
        return dsc.set.apply(this, [url]);
      }
    });

    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;
    window.HTMLMediaElement.prototype.setAttribute = function() {
      if (arguments.length === 2 &&
          ('' + arguments[0]).toLowerCase() === 'src') {
        this.srcObject = streams.get(arguments[1]) || null;
      }
      return nativeSetAttribute.apply(this, arguments);
    };
  },

  shimMaxMessageSize: function(window) {
    if (window.RTCSctpTransport || !window.RTCPeerConnection) {
      return;
    }
    var browserDetails = utils.detectBrowser(window);

    if (!('sctp' in window.RTCPeerConnection.prototype)) {
      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {
        get: function() {
          return typeof this._sctp === 'undefined' ? null : this._sctp;
        }
      });
    }

    var sctpInDescription = function(description) {
      var sections = SDPUtils.splitSections(description.sdp);
      sections.shift();
      return sections.some(function(mediaSection) {
        var mLine = SDPUtils.parseMLine(mediaSection);
        return mLine && mLine.kind === 'application'
            && mLine.protocol.indexOf('SCTP') !== -1;
      });
    };

    var getRemoteFirefoxVersion = function(description) {
      // TODO: Is there a better solution for detecting Firefox?
      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
      if (match === null || match.length < 2) {
        return -1;
      }
      var version = parseInt(match[1], 10);
      // Test for NaN (yes, this is ugly)
      return version !== version ? -1 : version;
    };

    var getCanSendMaxMessageSize = function(remoteIsFirefox) {
      // Every implementation we know can send at least 64 KiB.
      // Note: Although Chrome is technically able to send up to 256 KiB, the
      //       data does not reach the other peer reliably.
      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419
      var canSendMaxMessageSize = 65536;
      if (browserDetails.browser === 'firefox') {
        if (browserDetails.version < 57) {
          if (remoteIsFirefox === -1) {
            // FF < 57 will send in 16 KiB chunks using the deprecated PPID
            // fragmentation.
            canSendMaxMessageSize = 16384;
          } else {
            // However, other FF (and RAWRTC) can reassemble PPID-fragmented
            // messages. Thus, supporting ~2 GiB when sending.
            canSendMaxMessageSize = 2147483637;
          }
        } else if (browserDetails.version < 60) {
          // Currently, all FF >= 57 will reset the remote maximum message size
          // to the default value when a data channel is created at a later
          // stage. :(
          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831
          canSendMaxMessageSize =
            browserDetails.version === 57 ? 65535 : 65536;
        } else {
          // FF >= 60 supports sending ~2 GiB
          canSendMaxMessageSize = 2147483637;
        }
      }
      return canSendMaxMessageSize;
    };

    var getMaxMessageSize = function(description, remoteIsFirefox) {
      // Note: 65536 bytes is the default value from the SDP spec. Also,
      //       every implementation we know supports receiving 65536 bytes.
      var maxMessageSize = 65536;

      // FF 57 has a slightly incorrect default remote max message size, so
      // we need to adjust it here to avoid a failure when sending.
      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697
      if (browserDetails.browser === 'firefox'
           && browserDetails.version === 57) {
        maxMessageSize = 65535;
      }

      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');
      if (match.length > 0) {
        maxMessageSize = parseInt(match[0].substr(19), 10);
      } else if (browserDetails.browser === 'firefox' &&
                  remoteIsFirefox !== -1) {
        // If the maximum message size is not present in the remote SDP and
        // both local and remote are Firefox, the remote peer can receive
        // ~2 GiB.
        maxMessageSize = 2147483637;
      }
      return maxMessageSize;
    };

    var origSetRemoteDescription =
        window.RTCPeerConnection.prototype.setRemoteDescription;
    window.RTCPeerConnection.prototype.setRemoteDescription = function() {
      var pc = this;
      pc._sctp = null;

      if (sctpInDescription(arguments[0])) {
        // Check if the remote is FF.
        var isFirefox = getRemoteFirefoxVersion(arguments[0]);

        // Get the maximum message size the local peer is capable of sending
        var canSendMMS = getCanSendMaxMessageSize(isFirefox);

        // Get the maximum message size of the remote peer.
        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);

        // Determine final maximum message size
        var maxMessageSize;
        if (canSendMMS === 0 && remoteMMS === 0) {
          maxMessageSize = Number.POSITIVE_INFINITY;
        } else if (canSendMMS === 0 || remoteMMS === 0) {
          maxMessageSize = Math.max(canSendMMS, remoteMMS);
        } else {
          maxMessageSize = Math.min(canSendMMS, remoteMMS);
        }

        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'
        // attribute.
        var sctp = {};
        Object.defineProperty(sctp, 'maxMessageSize', {
          get: function() {
            return maxMessageSize;
          }
        });
        pc._sctp = sctp;
      }

      return origSetRemoteDescription.apply(pc, arguments);
    };
  },

  shimSendThrowTypeError: function(window) {
    if (!(window.RTCPeerConnection &&
        'createDataChannel' in window.RTCPeerConnection.prototype)) {
      return;
    }

    // Note: Although Firefox >= 57 has a native implementation, the maximum
    //       message size can be reset for all data channels at a later stage.
    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831

    function wrapDcSend(dc, pc) {
      var origDataChannelSend = dc.send;
      dc.send = function() {
        var data = arguments[0];
        var length = data.length || data.size || data.byteLength;
        if (dc.readyState === 'open' &&
            pc.sctp && length > pc.sctp.maxMessageSize) {
          throw new TypeError('Message too large (can send a maximum of ' +
            pc.sctp.maxMessageSize + ' bytes)');
        }
        return origDataChannelSend.apply(dc, arguments);
      };
    }
    var origCreateDataChannel =
      window.RTCPeerConnection.prototype.createDataChannel;
    window.RTCPeerConnection.prototype.createDataChannel = function() {
      var pc = this;
      var dataChannel = origCreateDataChannel.apply(pc, arguments);
      wrapDcSend(dataChannel, pc);
      return dataChannel;
    };
    utils.wrapPeerConnectionEvent(window, 'datachannel', function(e) {
      wrapDcSend(e.channel, e.target);
      return e;
    });
  }
};

},{"./utils":149,"sdp":133}],143:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var utils = require('../utils');
var filterIceServers = require('./filtericeservers');
var shimRTCPeerConnection = require('rtcpeerconnection-shim');

module.exports = {
  shimGetUserMedia: require('./getusermedia'),
  shimPeerConnection: function(window) {
    var browserDetails = utils.detectBrowser(window);

    if (window.RTCIceGatherer) {
      if (!window.RTCIceCandidate) {
        window.RTCIceCandidate = function(args) {
          return args;
        };
      }
      if (!window.RTCSessionDescription) {
        window.RTCSessionDescription = function(args) {
          return args;
        };
      }
      // this adds an additional event listener to MediaStrackTrack that signals
      // when a tracks enabled property was changed. Workaround for a bug in
      // addStream, see below. No longer required in 15025+
      if (browserDetails.version < 15025) {
        var origMSTEnabled = Object.getOwnPropertyDescriptor(
            window.MediaStreamTrack.prototype, 'enabled');
        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {
          set: function(value) {
            origMSTEnabled.set.call(this, value);
            var ev = new Event('enabled');
            ev.enabled = value;
            this.dispatchEvent(ev);
          }
        });
      }
    }

    // ORTC defines the DTMF sender a bit different.
    // https://github.com/w3c/ortc/issues/714
    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {
      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {
        get: function() {
          if (this._dtmf === undefined) {
            if (this.track.kind === 'audio') {
              this._dtmf = new window.RTCDtmfSender(this);
            } else if (this.track.kind === 'video') {
              this._dtmf = null;
            }
          }
          return this._dtmf;
        }
      });
    }
    // Edge currently only implements the RTCDtmfSender, not the
    // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*
    if (window.RTCDtmfSender && !window.RTCDTMFSender) {
      window.RTCDTMFSender = window.RTCDtmfSender;
    }

    var RTCPeerConnectionShim = shimRTCPeerConnection(window,
        browserDetails.version);
    window.RTCPeerConnection = function(config) {
      if (config && config.iceServers) {
        config.iceServers = filterIceServers(config.iceServers);
      }
      return new RTCPeerConnectionShim(config);
    };
    window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;
  },
  shimReplaceTrack: function(window) {
    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614
    if (window.RTCRtpSender &&
        !('replaceTrack' in window.RTCRtpSender.prototype)) {
      window.RTCRtpSender.prototype.replaceTrack =
          window.RTCRtpSender.prototype.setTrack;
    }
  },
  shimGetDisplayMedia: function(window, preferredMediaSource) {
    if (!('getDisplayMedia' in window.navigator) ||
        !window.navigator.mediaDevices ||
        'getDisplayMedia' in window.navigator.mediaDevices) {
      return;
    }
    var origGetDisplayMedia = window.navigator.getDisplayMedia;
    window.navigator.mediaDevices.getDisplayMedia = function(constraints) {
      return origGetDisplayMedia.call(window.navigator, constraints);
    };
    window.navigator.getDisplayMedia = function(constraints) {
      utils.deprecated('navigator.getDisplayMedia',
          'navigator.mediaDevices.getDisplayMedia');
      return origGetDisplayMedia.call(window.navigator, constraints);
    };
  }
};

},{"../utils":149,"./filtericeservers":144,"./getusermedia":145,"rtcpeerconnection-shim":132}],144:[function(require,module,exports){
/*
 *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var utils = require('../utils');
// Edge does not like
// 1) stun: filtered after 14393 unless ?transport=udp is present
// 2) turn: that does not have all of turn:host:port?transport=udp
// 3) turn: with ipv6 addresses
// 4) turn: occurring muliple times
module.exports = function(iceServers, edgeVersion) {
  var hasTurn = false;
  iceServers = JSON.parse(JSON.stringify(iceServers));
  return iceServers.filter(function(server) {
    if (server && (server.urls || server.url)) {
      var urls = server.urls || server.url;
      if (server.url && !server.urls) {
        utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');
      }
      var isString = typeof urls === 'string';
      if (isString) {
        urls = [urls];
      }
      urls = urls.filter(function(url) {
        var validTurn = url.indexOf('turn:') === 0 &&
            url.indexOf('transport=udp') !== -1 &&
            url.indexOf('turn:[') === -1 &&
            !hasTurn;

        if (validTurn) {
          hasTurn = true;
          return true;
        }
        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&
            url.indexOf('?transport=udp') === -1;
      });

      delete server.url;
      server.urls = isString ? urls[0] : urls;
      return !!urls.length;
    }
  });
};

},{"../utils":149}],145:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

// Expose public methods.
module.exports = function(window) {
  var navigator = window && window.navigator;

  var shimError_ = function(e) {
    return {
      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,
      message: e.message,
      constraint: e.constraint,
      toString: function() {
        return this.name;
      }
    };
  };

  // getUserMedia error shim.
  var origGetUserMedia = navigator.mediaDevices.getUserMedia.
      bind(navigator.mediaDevices);
  navigator.mediaDevices.getUserMedia = function(c) {
    return origGetUserMedia(c).catch(function(e) {
      return Promise.reject(shimError_(e));
    });
  };
};

},{}],146:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var utils = require('../utils');

module.exports = {
  shimGetUserMedia: require('./getusermedia'),
  shimOnTrack: function(window) {
    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in
        window.RTCPeerConnection.prototype)) {
      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
        get: function() {
          return this._ontrack;
        },
        set: function(f) {
          if (this._ontrack) {
            this.removeEventListener('track', this._ontrack);
            this.removeEventListener('addstream', this._ontrackpoly);
          }
          this.addEventListener('track', this._ontrack = f);
          this.addEventListener('addstream', this._ontrackpoly = function(e) {
            e.stream.getTracks().forEach(function(track) {
              var event = new Event('track');
              event.track = track;
              event.receiver = {track: track};
              event.transceiver = {receiver: event.receiver};
              event.streams = [e.stream];
              this.dispatchEvent(event);
            }.bind(this));
          }.bind(this));
        },
        enumerable: true,
        configurable: true
      });
    }
    if (typeof window === 'object' && window.RTCTrackEvent &&
        ('receiver' in window.RTCTrackEvent.prototype) &&
        !('transceiver' in window.RTCTrackEvent.prototype)) {
      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {
        get: function() {
          return {receiver: this.receiver};
        }
      });
    }
  },

  shimSourceObject: function(window) {
    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.
    if (typeof window === 'object') {
      if (window.HTMLMediaElement &&
        !('srcObject' in window.HTMLMediaElement.prototype)) {
        // Shim the srcObject property, once, when HTMLMediaElement is found.
        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
          get: function() {
            return this.mozSrcObject;
          },
          set: function(stream) {
            this.mozSrcObject = stream;
          }
        });
      }
    }
  },

  shimPeerConnection: function(window) {
    var browserDetails = utils.detectBrowser(window);

    if (typeof window !== 'object' || !(window.RTCPeerConnection ||
        window.mozRTCPeerConnection)) {
      return; // probably media.peerconnection.enabled=false in about:config
    }
    // The RTCPeerConnection object.
    if (!window.RTCPeerConnection) {
      window.RTCPeerConnection = function(pcConfig, pcConstraints) {
        if (browserDetails.version < 38) {
          // .urls is not supported in FF < 38.
          // create RTCIceServers with a single url.
          if (pcConfig && pcConfig.iceServers) {
            var newIceServers = [];
            for (var i = 0; i < pcConfig.iceServers.length; i++) {
              var server = pcConfig.iceServers[i];
              if (server.hasOwnProperty('urls')) {
                for (var j = 0; j < server.urls.length; j++) {
                  var newServer = {
                    url: server.urls[j]
                  };
                  if (server.urls[j].indexOf('turn') === 0) {
                    newServer.username = server.username;
                    newServer.credential = server.credential;
                  }
                  newIceServers.push(newServer);
                }
              } else {
                newIceServers.push(pcConfig.iceServers[i]);
              }
            }
            pcConfig.iceServers = newIceServers;
          }
        }
        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);
      };
      window.RTCPeerConnection.prototype =
          window.mozRTCPeerConnection.prototype;

      // wrap static methods. Currently just generateCertificate.
      if (window.mozRTCPeerConnection.generateCertificate) {
        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
          get: function() {
            return window.mozRTCPeerConnection.generateCertificate;
          }
        });
      }

      window.RTCSessionDescription = window.mozRTCSessionDescription;
      window.RTCIceCandidate = window.mozRTCIceCandidate;
    }

    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.
    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']
        .forEach(function(method) {
          var nativeMethod = window.RTCPeerConnection.prototype[method];
          window.RTCPeerConnection.prototype[method] = function() {
            arguments[0] = new ((method === 'addIceCandidate') ?
                window.RTCIceCandidate :
                window.RTCSessionDescription)(arguments[0]);
            return nativeMethod.apply(this, arguments);
          };
        });

    // support for addIceCandidate(null or undefined)
    var nativeAddIceCandidate =
        window.RTCPeerConnection.prototype.addIceCandidate;
    window.RTCPeerConnection.prototype.addIceCandidate = function() {
      if (!arguments[0]) {
        if (arguments[1]) {
          arguments[1].apply(null);
        }
        return Promise.resolve();
      }
      return nativeAddIceCandidate.apply(this, arguments);
    };

    // shim getStats with maplike support
    var makeMapStats = function(stats) {
      var map = new Map();
      Object.keys(stats).forEach(function(key) {
        map.set(key, stats[key]);
        map[key] = stats[key];
      });
      return map;
    };

    var modernStatsTypes = {
      inboundrtp: 'inbound-rtp',
      outboundrtp: 'outbound-rtp',
      candidatepair: 'candidate-pair',
      localcandidate: 'local-candidate',
      remotecandidate: 'remote-candidate'
    };

    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;
    window.RTCPeerConnection.prototype.getStats = function(
      selector,
      onSucc,
      onErr
    ) {
      return nativeGetStats.apply(this, [selector || null])
        .then(function(stats) {
          if (browserDetails.version < 48) {
            stats = makeMapStats(stats);
          }
          if (browserDetails.version < 53 && !onSucc) {
            // Shim only promise getStats with spec-hyphens in type names
            // Leave callback version alone; misc old uses of forEach before Map
            try {
              stats.forEach(function(stat) {
                stat.type = modernStatsTypes[stat.type] || stat.type;
              });
            } catch (e) {
              if (e.name !== 'TypeError') {
                throw e;
              }
              // Avoid TypeError: "type" is read-only, in old versions. 34-43ish
              stats.forEach(function(stat, i) {
                stats.set(i, Object.assign({}, stat, {
                  type: modernStatsTypes[stat.type] || stat.type
                }));
              });
            }
          }
          return stats;
        })
        .then(onSucc, onErr);
    };
  },

  shimSenderGetStats: function(window) {
    if (!(typeof window === 'object' && window.RTCPeerConnection &&
        window.RTCRtpSender)) {
      return;
    }
    if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {
      return;
    }
    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;
    if (origGetSenders) {
      window.RTCPeerConnection.prototype.getSenders = function() {
        var pc = this;
        var senders = origGetSenders.apply(pc, []);
        senders.forEach(function(sender) {
          sender._pc = pc;
        });
        return senders;
      };
    }

    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;
    if (origAddTrack) {
      window.RTCPeerConnection.prototype.addTrack = function() {
        var sender = origAddTrack.apply(this, arguments);
        sender._pc = this;
        return sender;
      };
    }
    window.RTCRtpSender.prototype.getStats = function() {
      return this.track ? this._pc.getStats(this.track) :
          Promise.resolve(new Map());
    };
  },

  shimReceiverGetStats: function(window) {
    if (!(typeof window === 'object' && window.RTCPeerConnection &&
        window.RTCRtpSender)) {
      return;
    }
    if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {
      return;
    }
    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;
    if (origGetReceivers) {
      window.RTCPeerConnection.prototype.getReceivers = function() {
        var pc = this;
        var receivers = origGetReceivers.apply(pc, []);
        receivers.forEach(function(receiver) {
          receiver._pc = pc;
        });
        return receivers;
      };
    }
    utils.wrapPeerConnectionEvent(window, 'track', function(e) {
      e.receiver._pc = e.srcElement;
      return e;
    });
    window.RTCRtpReceiver.prototype.getStats = function() {
      return this._pc.getStats(this.track);
    };
  },

  shimRemoveStream: function(window) {
    if (!window.RTCPeerConnection ||
        'removeStream' in window.RTCPeerConnection.prototype) {
      return;
    }
    window.RTCPeerConnection.prototype.removeStream = function(stream) {
      var pc = this;
      utils.deprecated('removeStream', 'removeTrack');
      this.getSenders().forEach(function(sender) {
        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {
          pc.removeTrack(sender);
        }
      });
    };
  },

  shimRTCDataChannel: function(window) {
    // rename DataChannel to RTCDataChannel (native fix in FF60):
    // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851
    if (window.DataChannel && !window.RTCDataChannel) {
      window.RTCDataChannel = window.DataChannel;
    }
  },

  shimGetDisplayMedia: function(window, preferredMediaSource) {
    if (!window.navigator || !window.navigator.mediaDevices ||
        'getDisplayMedia' in window.navigator.mediaDevices) {
      return;
    }
    window.navigator.mediaDevices.getDisplayMedia = function(constraints) {
      if (!(constraints && constraints.video)) {
        var err = new DOMException('getDisplayMedia without video ' +
            'constraints is undefined');
        err.name = 'NotFoundError';
        // from https://heycam.github.io/webidl/#idl-DOMException-error-names
        err.code = 8;
        return Promise.reject(err);
      }
      if (constraints.video === true) {
        constraints.video = {mediaSource: preferredMediaSource};
      } else {
        constraints.video.mediaSource = preferredMediaSource;
      }
      return window.navigator.mediaDevices.getUserMedia(constraints);
    };
    window.navigator.getDisplayMedia = function(constraints) {
      utils.deprecated('navigator.getDisplayMedia',
          'navigator.mediaDevices.getDisplayMedia');
      return window.navigator.mediaDevices.getDisplayMedia(constraints);
    };
  }
};

},{"../utils":149,"./getusermedia":147}],147:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var utils = require('../utils');
var logging = utils.log;

// Expose public methods.
module.exports = function(window) {
  var browserDetails = utils.detectBrowser(window);
  var navigator = window && window.navigator;
  var MediaStreamTrack = window && window.MediaStreamTrack;

  var shimError_ = function(e) {
    return {
      name: {
        InternalError: 'NotReadableError',
        NotSupportedError: 'TypeError',
        PermissionDeniedError: 'NotAllowedError',
        SecurityError: 'NotAllowedError'
      }[e.name] || e.name,
      message: {
        'The operation is insecure.': 'The request is not allowed by the ' +
        'user agent or the platform in the current context.'
      }[e.message] || e.message,
      constraint: e.constraint,
      toString: function() {
        return this.name + (this.message && ': ') + this.message;
      }
    };
  };

  // getUserMedia constraints shim.
  var getUserMedia_ = function(constraints, onSuccess, onError) {
    var constraintsToFF37_ = function(c) {
      if (typeof c !== 'object' || c.require) {
        return c;
      }
      var require = [];
      Object.keys(c).forEach(function(key) {
        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {
          return;
        }
        var r = c[key] = (typeof c[key] === 'object') ?
            c[key] : {ideal: c[key]};
        if (r.min !== undefined ||
            r.max !== undefined || r.exact !== undefined) {
          require.push(key);
        }
        if (r.exact !== undefined) {
          if (typeof r.exact === 'number') {
            r. min = r.max = r.exact;
          } else {
            c[key] = r.exact;
          }
          delete r.exact;
        }
        if (r.ideal !== undefined) {
          c.advanced = c.advanced || [];
          var oc = {};
          if (typeof r.ideal === 'number') {
            oc[key] = {min: r.ideal, max: r.ideal};
          } else {
            oc[key] = r.ideal;
          }
          c.advanced.push(oc);
          delete r.ideal;
          if (!Object.keys(r).length) {
            delete c[key];
          }
        }
      });
      if (require.length) {
        c.require = require;
      }
      return c;
    };
    constraints = JSON.parse(JSON.stringify(constraints));
    if (browserDetails.version < 38) {
      logging('spec: ' + JSON.stringify(constraints));
      if (constraints.audio) {
        constraints.audio = constraintsToFF37_(constraints.audio);
      }
      if (constraints.video) {
        constraints.video = constraintsToFF37_(constraints.video);
      }
      logging('ff37: ' + JSON.stringify(constraints));
    }
    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {
      onError(shimError_(e));
    });
  };

  // Returns the result of getUserMedia as a Promise.
  var getUserMediaPromise_ = function(constraints) {
    return new Promise(function(resolve, reject) {
      getUserMedia_(constraints, resolve, reject);
    });
  };

  // Shim for mediaDevices on older versions.
  if (!navigator.mediaDevices) {
    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,
      addEventListener: function() { },
      removeEventListener: function() { }
    };
  }
  navigator.mediaDevices.enumerateDevices =
      navigator.mediaDevices.enumerateDevices || function() {
        return new Promise(function(resolve) {
          var infos = [
            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},
            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}
          ];
          resolve(infos);
        });
      };

  if (browserDetails.version < 41) {
    // Work around http://bugzil.la/1169665
    var orgEnumerateDevices =
        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);
    navigator.mediaDevices.enumerateDevices = function() {
      return orgEnumerateDevices().then(undefined, function(e) {
        if (e.name === 'NotFoundError') {
          return [];
        }
        throw e;
      });
    };
  }
  if (browserDetails.version < 49) {
    var origGetUserMedia = navigator.mediaDevices.getUserMedia.
        bind(navigator.mediaDevices);
    navigator.mediaDevices.getUserMedia = function(c) {
      return origGetUserMedia(c).then(function(stream) {
        // Work around https://bugzil.la/802326
        if (c.audio && !stream.getAudioTracks().length ||
            c.video && !stream.getVideoTracks().length) {
          stream.getTracks().forEach(function(track) {
            track.stop();
          });
          throw new DOMException('The object can not be found here.',
                                 'NotFoundError');
        }
        return stream;
      }, function(e) {
        return Promise.reject(shimError_(e));
      });
    };
  }
  if (!(browserDetails.version > 55 &&
      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {
    var remap = function(obj, a, b) {
      if (a in obj && !(b in obj)) {
        obj[b] = obj[a];
        delete obj[a];
      }
    };

    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.
        bind(navigator.mediaDevices);
    navigator.mediaDevices.getUserMedia = function(c) {
      if (typeof c === 'object' && typeof c.audio === 'object') {
        c = JSON.parse(JSON.stringify(c));
        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');
        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');
      }
      return nativeGetUserMedia(c);
    };

    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {
      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;
      MediaStreamTrack.prototype.getSettings = function() {
        var obj = nativeGetSettings.apply(this, arguments);
        remap(obj, 'mozAutoGainControl', 'autoGainControl');
        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');
        return obj;
      };
    }

    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {
      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;
      MediaStreamTrack.prototype.applyConstraints = function(c) {
        if (this.kind === 'audio' && typeof c === 'object') {
          c = JSON.parse(JSON.stringify(c));
          remap(c, 'autoGainControl', 'mozAutoGainControl');
          remap(c, 'noiseSuppression', 'mozNoiseSuppression');
        }
        return nativeApplyConstraints.apply(this, [c]);
      };
    }
  }
  navigator.getUserMedia = function(constraints, onSuccess, onError) {
    if (browserDetails.version < 44) {
      return getUserMedia_(constraints, onSuccess, onError);
    }
    // Replace Firefox 44+'s deprecation warning with unprefixed version.
    utils.deprecated('navigator.getUserMedia',
        'navigator.mediaDevices.getUserMedia');
    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);
  };
};

},{"../utils":149}],148:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
'use strict';
var utils = require('../utils');

module.exports = {
  shimLocalStreamsAPI: function(window) {
    if (typeof window !== 'object' || !window.RTCPeerConnection) {
      return;
    }
    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {
      window.RTCPeerConnection.prototype.getLocalStreams = function() {
        if (!this._localStreams) {
          this._localStreams = [];
        }
        return this._localStreams;
      };
    }
    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {
      window.RTCPeerConnection.prototype.getStreamById = function(id) {
        var result = null;
        if (this._localStreams) {
          this._localStreams.forEach(function(stream) {
            if (stream.id === id) {
              result = stream;
            }
          });
        }
        if (this._remoteStreams) {
          this._remoteStreams.forEach(function(stream) {
            if (stream.id === id) {
              result = stream;
            }
          });
        }
        return result;
      };
    }
    if (!('addStream' in window.RTCPeerConnection.prototype)) {
      var _addTrack = window.RTCPeerConnection.prototype.addTrack;
      window.RTCPeerConnection.prototype.addStream = function(stream) {
        if (!this._localStreams) {
          this._localStreams = [];
        }
        if (this._localStreams.indexOf(stream) === -1) {
          this._localStreams.push(stream);
        }
        var pc = this;
        stream.getTracks().forEach(function(track) {
          _addTrack.call(pc, track, stream);
        });
      };

      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {
        if (stream) {
          if (!this._localStreams) {
            this._localStreams = [stream];
          } else if (this._localStreams.indexOf(stream) === -1) {
            this._localStreams.push(stream);
          }
        }
        return _addTrack.call(this, track, stream);
      };
    }
    if (!('removeStream' in window.RTCPeerConnection.prototype)) {
      window.RTCPeerConnection.prototype.removeStream = function(stream) {
        if (!this._localStreams) {
          this._localStreams = [];
        }
        var index = this._localStreams.indexOf(stream);
        if (index === -1) {
          return;
        }
        this._localStreams.splice(index, 1);
        var pc = this;
        var tracks = stream.getTracks();
        this.getSenders().forEach(function(sender) {
          if (tracks.indexOf(sender.track) !== -1) {
            pc.removeTrack(sender);
          }
        });
      };
    }
  },
  shimRemoteStreamsAPI: function(window) {
    if (typeof window !== 'object' || !window.RTCPeerConnection) {
      return;
    }
    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {
      window.RTCPeerConnection.prototype.getRemoteStreams = function() {
        return this._remoteStreams ? this._remoteStreams : [];
      };
    }
    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {
      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {
        get: function() {
          return this._onaddstream;
        },
        set: function(f) {
          if (this._onaddstream) {
            this.removeEventListener('addstream', this._onaddstream);
          }
          this.addEventListener('addstream', this._onaddstream = f);
        }
      });
      var origSetRemoteDescription =
          window.RTCPeerConnection.prototype.setRemoteDescription;
      window.RTCPeerConnection.prototype.setRemoteDescription = function() {
        var pc = this;
        if (!this._onaddstreampoly) {
          this.addEventListener('track', this._onaddstreampoly = function(e) {
            e.streams.forEach(function(stream) {
              if (!pc._remoteStreams) {
                pc._remoteStreams = [];
              }
              if (pc._remoteStreams.indexOf(stream) >= 0) {
                return;
              }
              pc._remoteStreams.push(stream);
              var event = new Event('addstream');
              event.stream = stream;
              pc.dispatchEvent(event);
            });
          });
        }
        return origSetRemoteDescription.apply(pc, arguments);
      };
    }
  },
  shimCallbacksAPI: function(window) {
    if (typeof window !== 'object' || !window.RTCPeerConnection) {
      return;
    }
    var prototype = window.RTCPeerConnection.prototype;
    var createOffer = prototype.createOffer;
    var createAnswer = prototype.createAnswer;
    var setLocalDescription = prototype.setLocalDescription;
    var setRemoteDescription = prototype.setRemoteDescription;
    var addIceCandidate = prototype.addIceCandidate;

    prototype.createOffer = function(successCallback, failureCallback) {
      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];
      var promise = createOffer.apply(this, [options]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };

    prototype.createAnswer = function(successCallback, failureCallback) {
      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];
      var promise = createAnswer.apply(this, [options]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };

    var withCallback = function(description, successCallback, failureCallback) {
      var promise = setLocalDescription.apply(this, [description]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };
    prototype.setLocalDescription = withCallback;

    withCallback = function(description, successCallback, failureCallback) {
      var promise = setRemoteDescription.apply(this, [description]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };
    prototype.setRemoteDescription = withCallback;

    withCallback = function(candidate, successCallback, failureCallback) {
      var promise = addIceCandidate.apply(this, [candidate]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };
    prototype.addIceCandidate = withCallback;
  },
  shimGetUserMedia: function(window) {
    var navigator = window && window.navigator;

    if (!navigator.getUserMedia) {
      if (navigator.webkitGetUserMedia) {
        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);
      } else if (navigator.mediaDevices &&
          navigator.mediaDevices.getUserMedia) {
        navigator.getUserMedia = function(constraints, cb, errcb) {
          navigator.mediaDevices.getUserMedia(constraints)
          .then(cb, errcb);
        }.bind(navigator);
      }
    }
  },
  shimRTCIceServerUrls: function(window) {
    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls
    var OrigPeerConnection = window.RTCPeerConnection;
    window.RTCPeerConnection = function(pcConfig, pcConstraints) {
      if (pcConfig && pcConfig.iceServers) {
        var newIceServers = [];
        for (var i = 0; i < pcConfig.iceServers.length; i++) {
          var server = pcConfig.iceServers[i];
          if (!server.hasOwnProperty('urls') &&
              server.hasOwnProperty('url')) {
            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');
            server = JSON.parse(JSON.stringify(server));
            server.urls = server.url;
            delete server.url;
            newIceServers.push(server);
          } else {
            newIceServers.push(pcConfig.iceServers[i]);
          }
        }
        pcConfig.iceServers = newIceServers;
      }
      return new OrigPeerConnection(pcConfig, pcConstraints);
    };
    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;
    // wrap static methods. Currently just generateCertificate.
    if ('generateCertificate' in window.RTCPeerConnection) {
      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
        get: function() {
          return OrigPeerConnection.generateCertificate;
        }
      });
    }
  },
  shimTrackEventTransceiver: function(window) {
    // Add event.transceiver member over deprecated event.receiver
    if (typeof window === 'object' && window.RTCPeerConnection &&
        ('receiver' in window.RTCTrackEvent.prototype) &&
        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is
        // defined for some reason even when window.RTCTransceiver is not.
        !window.RTCTransceiver) {
      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {
        get: function() {
          return {receiver: this.receiver};
        }
      });
    }
  },

  shimCreateOfferLegacy: function(window) {
    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;
    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {
      var pc = this;
      if (offerOptions) {
        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {
          // support bit values
          offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;
        }
        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {
          return transceiver.sender.track &&
              transceiver.sender.track.kind === 'audio';
        });
        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {
          if (audioTransceiver.direction === 'sendrecv') {
            if (audioTransceiver.setDirection) {
              audioTransceiver.setDirection('sendonly');
            } else {
              audioTransceiver.direction = 'sendonly';
            }
          } else if (audioTransceiver.direction === 'recvonly') {
            if (audioTransceiver.setDirection) {
              audioTransceiver.setDirection('inactive');
            } else {
              audioTransceiver.direction = 'inactive';
            }
          }
        } else if (offerOptions.offerToReceiveAudio === true &&
            !audioTransceiver) {
          pc.addTransceiver('audio');
        }


        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {
          // support bit values
          offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;
        }
        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {
          return transceiver.sender.track &&
              transceiver.sender.track.kind === 'video';
        });
        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {
          if (videoTransceiver.direction === 'sendrecv') {
            videoTransceiver.setDirection('sendonly');
          } else if (videoTransceiver.direction === 'recvonly') {
            videoTransceiver.setDirection('inactive');
          }
        } else if (offerOptions.offerToReceiveVideo === true &&
            !videoTransceiver) {
          pc.addTransceiver('video');
        }
      }
      return origCreateOffer.apply(pc, arguments);
    };
  }
};

},{"../utils":149}],149:[function(require,module,exports){
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */
'use strict';

var logDisabled_ = true;
var deprecationWarnings_ = true;

/**
 * Extract browser version out of the provided user agent string.
 *
 * @param {!string} uastring userAgent string.
 * @param {!string} expr Regular expression used as match criteria.
 * @param {!number} pos position in the version string to be returned.
 * @return {!number} browser version.
 */
function extractVersion(uastring, expr, pos) {
  var match = uastring.match(expr);
  return match && match.length >= pos && parseInt(match[pos], 10);
}

// Wraps the peerconnection event eventNameToWrap in a function
// which returns the modified event object (or false to prevent
// the event).
function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {
  if (!window.RTCPeerConnection) {
    return;
  }
  var proto = window.RTCPeerConnection.prototype;
  var nativeAddEventListener = proto.addEventListener;
  proto.addEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap) {
      return nativeAddEventListener.apply(this, arguments);
    }
    var wrappedCallback = function(e) {
      var modifiedEvent = wrapper(e);
      if (modifiedEvent) {
        cb(modifiedEvent);
      }
    };
    this._eventMap = this._eventMap || {};
    this._eventMap[cb] = wrappedCallback;
    return nativeAddEventListener.apply(this, [nativeEventName,
      wrappedCallback]);
  };

  var nativeRemoveEventListener = proto.removeEventListener;
  proto.removeEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap || !this._eventMap
        || !this._eventMap[cb]) {
      return nativeRemoveEventListener.apply(this, arguments);
    }
    var unwrappedCb = this._eventMap[cb];
    delete this._eventMap[cb];
    return nativeRemoveEventListener.apply(this, [nativeEventName,
      unwrappedCb]);
  };

  Object.defineProperty(proto, 'on' + eventNameToWrap, {
    get: function() {
      return this['_on' + eventNameToWrap];
    },
    set: function(cb) {
      if (this['_on' + eventNameToWrap]) {
        this.removeEventListener(eventNameToWrap,
            this['_on' + eventNameToWrap]);
        delete this['_on' + eventNameToWrap];
      }
      if (cb) {
        this.addEventListener(eventNameToWrap,
            this['_on' + eventNameToWrap] = cb);
      }
    },
    enumerable: true,
    configurable: true
  });
}

// Utility methods.
module.exports = {
  extractVersion: extractVersion,
  wrapPeerConnectionEvent: wrapPeerConnectionEvent,
  disableLog: function(bool) {
    if (typeof bool !== 'boolean') {
      return new Error('Argument type: ' + typeof bool +
          '. Please use a boolean.');
    }
    logDisabled_ = bool;
    return (bool) ? 'adapter.js logging disabled' :
        'adapter.js logging enabled';
  },

  /**
   * Disable or enable deprecation warnings
   * @param {!boolean} bool set to true to disable warnings.
   */
  disableWarnings: function(bool) {
    if (typeof bool !== 'boolean') {
      return new Error('Argument type: ' + typeof bool +
          '. Please use a boolean.');
    }
    deprecationWarnings_ = !bool;
    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');
  },

  log: function() {
    if (typeof window === 'object') {
      if (logDisabled_) {
        return;
      }
      if (typeof console !== 'undefined' && typeof console.log === 'function') {
        console.log.apply(console, arguments);
      }
    }
  },

  /**
   * Shows a deprecation warning suggesting the modern and spec-compatible API.
   */
  deprecated: function(oldMethod, newMethod) {
    if (!deprecationWarnings_) {
      return;
    }
    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +
        ' instead.');
  },

  /**
   * Browser detector.
   *
   * @return {object} result containing browser and version
   *     properties.
   */
  detectBrowser: function(window) {
    var navigator = window && window.navigator;

    // Returned result object.
    var result = {};
    result.browser = null;
    result.version = null;

    // Fail early if it's not a browser
    if (typeof window === 'undefined' || !window.navigator) {
      result.browser = 'Not a browser.';
      return result;
    }

    if (navigator.mozGetUserMedia) { // Firefox.
      result.browser = 'firefox';
      result.version = extractVersion(navigator.userAgent,
          /Firefox\/(\d+)\./, 1);
    } else if (navigator.webkitGetUserMedia) {
      // Chrome, Chromium, Webview, Opera.
      // Version matches Chrome/WebRTC version.
      result.browser = 'chrome';
      result.version = extractVersion(navigator.userAgent,
          /Chrom(e|ium)\/(\d+)\./, 2);
    } else if (navigator.mediaDevices &&
        navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)) { // Edge.
      result.browser = 'edge';
      result.version = extractVersion(navigator.userAgent,
          /Edge\/(\d+).(\d+)$/, 2);
    } else if (window.RTCPeerConnection &&
        navigator.userAgent.match(/AppleWebKit\/(\d+)\./)) { // Safari.
      result.browser = 'safari';
      result.version = extractVersion(navigator.userAgent,
          /AppleWebKit\/(\d+)\./, 1);
    } else { // Default fallthrough: not supported.
      result.browser = 'Not a supported browser.';
      return result;
    }

    return result;
  }
};

},{}],150:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var UNDEFINED = exports.UNDEFINED = 'undefined';
var DCV_STRATEGY = exports.DCV_STRATEGY = 'DCVStrategy';
var AUDIO = exports.AUDIO = 'audio';
var ANSWER = exports.ANSWER = 'answer';
var CHROME = exports.CHROME = 'chrome';

},{}],151:[function(require,module,exports){
(function (global){(function (){
'use strict';

require('webrtc-adapter');

var _rtc_session = require('./rtc_session');

var _rtc_session2 = _interopRequireDefault(_rtc_session);

var _rtc_const = require('./rtc_const');

var _rtc_peer_connection_factory = require('./rtc_peer_connection_factory');

var _rtc_peer_connection_factory2 = _interopRequireDefault(_rtc_peer_connection_factory);

var _v = require('uuid/v4');

var _v2 = _interopRequireDefault(_v);

var _StandardStrategy = require('./strategies/StandardStrategy');

var _StandardStrategy2 = _interopRequireDefault(_StandardStrategy);

var _CitrixVDIStrategy = require('./strategies/CitrixVDIStrategy');

var _CitrixVDIStrategy2 = _interopRequireDefault(_CitrixVDIStrategy);

var _DCVWebRTCStrategy = require('./strategies/DCVWebRTCStrategy');

var _DCVWebRTCStrategy2 = _interopRequireDefault(_DCVWebRTCStrategy);

var _OmnissaVDIStrategy = require('./strategies/OmnissaVDIStrategy');

var _OmnissaVDIStrategy2 = _interopRequireDefault(_OmnissaVDIStrategy);

var _rtc_peer_connection_manager = require('./rtc_peer_connection_manager');

var _rtc_peer_connection_manager2 = _interopRequireDefault(_rtc_peer_connection_manager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @license
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * License info for webrtc-adapter module assembled into js bundle:
 *
 * Copyright (c) 2014, The WebRTC project authors. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 *
 * Neither the name of Google nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @license
 * License info for sdp module assembled into js bundle:
 *
 * See https://www.npmjs.com/package/sdp
 */
global.connect = global.connect || {};
/**
 * @license
 * License info for uuid module assembled into js bundle:
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2010-2016 Robert Kieffer and other contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

global.connect.RTCSession = _rtc_session2.default;
global.connect.RTCErrors = _rtc_const.RTC_ERRORS;
global.connect.RtcPeerConnectionFactory = _rtc_peer_connection_factory2.default;
global.connect.RtcPeerConnectionManager = _rtc_peer_connection_manager2.default;
global.connect.uuid = _v2.default;
global.connect.StandardStrategy = _StandardStrategy2.default;
global.connect.CitrixVDIStrategy = _CitrixVDIStrategy2.default;
global.connect.DCVWebRTCStrategy = _DCVWebRTCStrategy2.default;
global.connect.OmnissaVDIStrategy = _OmnissaVDIStrategy2.default;

global.lily = global.lily || {};
global.lily.RTCSession = _rtc_session2.default;
global.lily.RTCErrors = _rtc_const.RTC_ERRORS;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./rtc_const":153,"./rtc_peer_connection_factory":154,"./rtc_peer_connection_manager":155,"./rtc_session":156,"./strategies/CitrixVDIStrategy":162,"./strategies/DCVWebRTCStrategy":163,"./strategies/OmnissaVDIStrategy":164,"./strategies/StandardStrategy":165,"uuid/v4":137,"webrtc-adapter":138}],152:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SignalingChannelDownError = exports.SignalingChannelDownErrorName = exports.AccessDeniedException = exports.AccessDeniedExceptionName = exports.UnknownSignalingError = exports.UnknownSignalingErrorName = exports.IdempotencyException = exports.IdempotencyExceptionName = exports.BadRequestException = exports.BadRequestExceptionName = exports.InternalServerException = exports.InternalServerExceptionName = exports.RequestTimeoutException = exports.RequestTimeoutExceptionName = exports.CallNotFoundException = exports.CallNotFoundExceptionName = exports.BusyException = exports.BusyExceptionName = exports.UnsupportedOperation = exports.UnsupportedOperationExceptionName = exports.IllegalState = exports.IllegalStateExceptionName = exports.IllegalParameters = exports.IllegalParametersExceptionName = exports.GumTimeout = exports.GumTimeoutExceptionName = exports.Timeout = exports.TimeoutExceptionName = undefined;

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
var TimeoutExceptionName = exports.TimeoutExceptionName = 'Timeout';

var Timeout = exports.Timeout = function (_Error) {
    (0, _inherits3.default)(Timeout, _Error);

    function Timeout(msg) {
        (0, _classCallCheck3.default)(this, Timeout);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Timeout.__proto__ || Object.getPrototypeOf(Timeout)).call(this, msg));

        _this.name = TimeoutExceptionName;
        return _this;
    }

    return Timeout;
}(Error);

var GumTimeoutExceptionName = exports.GumTimeoutExceptionName = 'GumTimeout';

var GumTimeout = exports.GumTimeout = function (_Timeout) {
    (0, _inherits3.default)(GumTimeout, _Timeout);

    function GumTimeout(msg) {
        (0, _classCallCheck3.default)(this, GumTimeout);

        var _this2 = (0, _possibleConstructorReturn3.default)(this, (GumTimeout.__proto__ || Object.getPrototypeOf(GumTimeout)).call(this, msg));

        _this2.name = GumTimeoutExceptionName;
        return _this2;
    }

    return GumTimeout;
}(Timeout);

var IllegalParametersExceptionName = exports.IllegalParametersExceptionName = 'IllegalParameters';

var IllegalParameters = exports.IllegalParameters = function (_Error2) {
    (0, _inherits3.default)(IllegalParameters, _Error2);

    function IllegalParameters(msg) {
        (0, _classCallCheck3.default)(this, IllegalParameters);

        var _this3 = (0, _possibleConstructorReturn3.default)(this, (IllegalParameters.__proto__ || Object.getPrototypeOf(IllegalParameters)).call(this, msg));

        _this3.name = IllegalParametersExceptionName;
        return _this3;
    }

    return IllegalParameters;
}(Error);

var IllegalStateExceptionName = exports.IllegalStateExceptionName = 'IllegalState';

var IllegalState = exports.IllegalState = function (_Error3) {
    (0, _inherits3.default)(IllegalState, _Error3);

    function IllegalState(msg) {
        (0, _classCallCheck3.default)(this, IllegalState);

        var _this4 = (0, _possibleConstructorReturn3.default)(this, (IllegalState.__proto__ || Object.getPrototypeOf(IllegalState)).call(this, msg));

        _this4.name = IllegalStateExceptionName;
        return _this4;
    }

    return IllegalState;
}(Error);

var UnsupportedOperationExceptionName = exports.UnsupportedOperationExceptionName = 'UnsupportedOperation';

var UnsupportedOperation = exports.UnsupportedOperation = function (_Error4) {
    (0, _inherits3.default)(UnsupportedOperation, _Error4);

    function UnsupportedOperation(msg) {
        (0, _classCallCheck3.default)(this, UnsupportedOperation);

        var _this5 = (0, _possibleConstructorReturn3.default)(this, (UnsupportedOperation.__proto__ || Object.getPrototypeOf(UnsupportedOperation)).call(this, msg));

        _this5.name = UnsupportedOperationExceptionName;
        return _this5;
    }

    return UnsupportedOperation;
}(Error);

var BusyExceptionName = exports.BusyExceptionName = 'BusyException';

var BusyException = exports.BusyException = function (_Error5) {
    (0, _inherits3.default)(BusyException, _Error5);

    function BusyException(msg) {
        (0, _classCallCheck3.default)(this, BusyException);

        var _this6 = (0, _possibleConstructorReturn3.default)(this, (BusyException.__proto__ || Object.getPrototypeOf(BusyException)).call(this, msg));

        _this6.name = BusyExceptionName;
        return _this6;
    }

    return BusyException;
}(Error);

var CallNotFoundExceptionName = exports.CallNotFoundExceptionName = 'CallNotFoundException';

var CallNotFoundException = exports.CallNotFoundException = function (_Error6) {
    (0, _inherits3.default)(CallNotFoundException, _Error6);

    function CallNotFoundException(msg) {
        (0, _classCallCheck3.default)(this, CallNotFoundException);

        var _this7 = (0, _possibleConstructorReturn3.default)(this, (CallNotFoundException.__proto__ || Object.getPrototypeOf(CallNotFoundException)).call(this, msg));

        _this7.name = CallNotFoundExceptionName;
        return _this7;
    }

    return CallNotFoundException;
}(Error);

var RequestTimeoutExceptionName = exports.RequestTimeoutExceptionName = 'RequestTimeoutException';

var RequestTimeoutException = exports.RequestTimeoutException = function (_Error7) {
    (0, _inherits3.default)(RequestTimeoutException, _Error7);

    function RequestTimeoutException() {
        (0, _classCallCheck3.default)(this, RequestTimeoutException);

        var _this8 = (0, _possibleConstructorReturn3.default)(this, (RequestTimeoutException.__proto__ || Object.getPrototypeOf(RequestTimeoutException)).call(this));

        _this8.name = RequestTimeoutExceptionName;
        return _this8;
    }

    return RequestTimeoutException;
}(Error);

var InternalServerExceptionName = exports.InternalServerExceptionName = 'InternalServerException';

var InternalServerException = exports.InternalServerException = function (_Error8) {
    (0, _inherits3.default)(InternalServerException, _Error8);

    function InternalServerException() {
        (0, _classCallCheck3.default)(this, InternalServerException);

        var _this9 = (0, _possibleConstructorReturn3.default)(this, (InternalServerException.__proto__ || Object.getPrototypeOf(InternalServerException)).call(this));

        _this9.name = InternalServerExceptionName;
        return _this9;
    }

    return InternalServerException;
}(Error);

var BadRequestExceptionName = exports.BadRequestExceptionName = 'BadRequestException';

var BadRequestException = exports.BadRequestException = function (_Error9) {
    (0, _inherits3.default)(BadRequestException, _Error9);

    function BadRequestException(msg) {
        (0, _classCallCheck3.default)(this, BadRequestException);

        var _this10 = (0, _possibleConstructorReturn3.default)(this, (BadRequestException.__proto__ || Object.getPrototypeOf(BadRequestException)).call(this, msg));

        _this10.name = BadRequestExceptionName;
        return _this10;
    }

    return BadRequestException;
}(Error);

var IdempotencyExceptionName = exports.IdempotencyExceptionName = 'IdempotencyException';

var IdempotencyException = exports.IdempotencyException = function (_Error10) {
    (0, _inherits3.default)(IdempotencyException, _Error10);

    function IdempotencyException() {
        (0, _classCallCheck3.default)(this, IdempotencyException);

        var _this11 = (0, _possibleConstructorReturn3.default)(this, (IdempotencyException.__proto__ || Object.getPrototypeOf(IdempotencyException)).call(this));

        _this11.name = IdempotencyExceptionName;
        return _this11;
    }

    return IdempotencyException;
}(Error);

var UnknownSignalingErrorName = exports.UnknownSignalingErrorName = 'UnknownSignalingError';

var UnknownSignalingError = exports.UnknownSignalingError = function (_Error11) {
    (0, _inherits3.default)(UnknownSignalingError, _Error11);

    function UnknownSignalingError() {
        (0, _classCallCheck3.default)(this, UnknownSignalingError);

        var _this12 = (0, _possibleConstructorReturn3.default)(this, (UnknownSignalingError.__proto__ || Object.getPrototypeOf(UnknownSignalingError)).call(this));

        _this12.name = UnknownSignalingErrorName;
        return _this12;
    }

    return UnknownSignalingError;
}(Error);

var AccessDeniedExceptionName = exports.AccessDeniedExceptionName = 'AccessDeniedException';

var AccessDeniedException = exports.AccessDeniedException = function (_Error12) {
    (0, _inherits3.default)(AccessDeniedException, _Error12);

    function AccessDeniedException() {
        (0, _classCallCheck3.default)(this, AccessDeniedException);

        var _this13 = (0, _possibleConstructorReturn3.default)(this, (AccessDeniedException.__proto__ || Object.getPrototypeOf(AccessDeniedException)).call(this));

        _this13.name = AccessDeniedExceptionName;
        return _this13;
    }

    return AccessDeniedException;
}(Error);

var SignalingChannelDownErrorName = exports.SignalingChannelDownErrorName = 'SignalingChannelDownError';

var SignalingChannelDownError = exports.SignalingChannelDownError = function (_Error13) {
    (0, _inherits3.default)(SignalingChannelDownError, _Error13);

    function SignalingChannelDownError() {
        (0, _classCallCheck3.default)(this, SignalingChannelDownError);

        var _this14 = (0, _possibleConstructorReturn3.default)(this, (SignalingChannelDownError.__proto__ || Object.getPrototypeOf(SignalingChannelDownError)).call(this));

        _this14.name = SignalingChannelDownErrorName;
        return _this14;
    }

    return SignalingChannelDownError;
}(Error);

},{"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21}],153:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * Timeout waiting for server response to accept/hangup request.
 */
var MAX_ACCEPT_BYE_DELAY_MS = exports.MAX_ACCEPT_BYE_DELAY_MS = 2000;
/**
 * Timeout waiting for server response to invite.
 */
var MAX_INVITE_DELAY_MS = exports.MAX_INVITE_DELAY_MS = 5000;
/**
 *  Default timeout on opening WebSocket connection.
 */
var DEFAULT_CONNECT_TIMEOUT_MS = exports.DEFAULT_CONNECT_TIMEOUT_MS = 10000;
/**
 * Default ice collection timeout in milliseconds.
 */
var DEFAULT_ICE_TIMEOUT_MS = exports.DEFAULT_ICE_TIMEOUT_MS = 8000;
/**
 * Default gum timeout in milliseconds to be enforced during start of a call.
 */
var DEFAULT_GUM_TIMEOUT_MS = exports.DEFAULT_GUM_TIMEOUT_MS = 10000;

var SOFTPHONE_ROUTE_KEY = exports.SOFTPHONE_ROUTE_KEY = "aws/softphone";

var INVITE_METHOD_NAME = exports.INVITE_METHOD_NAME = "invite";
var ACCEPT_METHOD_NAME = exports.ACCEPT_METHOD_NAME = "accept";
var BYE_METHOD_NAME = exports.BYE_METHOD_NAME = "bye";
var PC_BYE_METHOD_NAME = exports.PC_BYE_METHOD_NAME = "PCBye";
var CONNECT_CONTACT_METHOD_NAME = exports.CONNECT_CONTACT_METHOD_NAME = "connectContact";
var DISCONNECT_CONTACT_METHOD_NAME = exports.DISCONNECT_CONTACT_METHOD_NAME = "disconnectContact";

var RTC_PEER_CONNECTION_CONFIG = exports.RTC_PEER_CONNECTION_CONFIG = {
    iceTransportPolicy: 'relay',
    rtcpMuxPolicy: 'require',
    bundlePolicy: 'balanced',
    sdpSemantics: 'unified-plan',
    enableDtlsSrtp: true
};

var RTC_PEER_CONNECTION_OPTIONAL_CONFIG = exports.RTC_PEER_CONNECTION_OPTIONAL_CONFIG = {
    optional: [{
        googDscp: true

    }, {
        DtlsSrtpKeyAgreement: true
    }]
};

var DEFAULT_ICE_CANDIDATE_POOL_SIZE = exports.DEFAULT_ICE_CANDIDATE_POOL_SIZE = 1;

var RTC_PEER_CONNECTION_IDLE_TIMEOUT_MS = exports.RTC_PEER_CONNECTION_IDLE_TIMEOUT_MS = 1 * 60 * 1000;

var NETWORK_CONNECTIVITY_CHECK_INTERVAL_MS = exports.NETWORK_CONNECTIVITY_CHECK_INTERVAL_MS = 250;

var CHROME_SUPPORTED_VERSION = exports.CHROME_SUPPORTED_VERSION = 59;

/**
 * RTC error names.
 */
var RTC_ERRORS = exports.RTC_ERRORS = {
    ICE_COLLECTION_TIMEOUT: 'Ice Collection Timeout',
    USER_BUSY: 'User Busy',
    SIGNALLING_CONNECTION_FAILURE: 'Signalling Connection Failure',
    SIGNALLING_HANDSHAKE_FAILURE: 'Signalling Handshake Failure',
    SET_REMOTE_DESCRIPTION_FAILURE: 'Set Remote Description Failure',
    CREATE_OFFER_FAILURE: 'Create Offer Failure',
    SET_LOCAL_DESCRIPTION_FAILURE: 'Set Local Description Failure',
    INVALID_REMOTE_SDP: 'Invalid Remote SDP',
    NO_REMOTE_ICE_CANDIDATE: 'No Remote ICE Candidate',
    GUM_TIMEOUT_FAILURE: 'GUM Timeout Failure',
    GUM_OTHER_FAILURE: 'GUM Other Failure',
    CALL_NOT_FOUND: 'Call Not Found',
    ACCESS_DENIED: 'Access Denied'
};

var ICE_CONNECTION_STATE = exports.ICE_CONNECTION_STATE = {
    NEW: 'new',
    CHECKING: 'checking',
    CONNECTED: 'connected',
    COMPLETED: 'completed',
    FAILED: 'failed',
    DISCONNECTED: 'disconnected',
    CLOSED: 'closed'
};

var PEER_CONNECTION_STATE = exports.PEER_CONNECTION_STATE = {
    NEW: 'new',
    CONNECTING: 'connecting',
    CONNECTED: 'connected',
    FAILED: 'failed',
    DISCONNECTED: 'disconnected',
    CLOSED: 'closed'
};

var RTC_SESSION_STATE = exports.RTC_SESSION_STATE = {
    TALKING_STATE: 'TalkingState',
    GRAB_LOCAL_MEDIA_STATE: 'GrabLocalMediaState',
    CREATE_OFFER_STATE: 'CreateOfferState',
    SET_LOCAL_SESSION_DESCRIPTION_STATE: 'SetLocalSessionDescriptionState',
    CONNECT_SIGNALING_AND_ICE_COLLECTION_STATE: 'ConnectSignalingAndIceCollectionState',
    INVITE_ANSWER_STATE: 'InviteAnswerState',
    ACCEPT_STATE: 'AcceptState',
    CONNECT_CONTACT_STATE: 'ConnectContactState',
    CLEAN_UP_STATE: 'CleanUpState',
    DISCONNECTED_STATE: 'DisconnectedState'
};

var BROWSER_LIST = exports.BROWSER_LIST = ['Google Chrome', 'Microsoft Edge', 'Firefox'];

var FIREFOX = exports.FIREFOX = "Firefox";
var ACITVE_SOFTPHONE_TAB = exports.ACITVE_SOFTPHONE_TAB = "Active Softphone Tab";

},{}],154:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _utils = require('./utils');

var _rtc_const = require('./rtc_const');

var _CCPInitiationStrategyInterface = require('./strategies/CCPInitiationStrategyInterface');

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _StandardStrategy = require('./strategies/StandardStrategy');

var _StandardStrategy2 = _interopRequireDefault(_StandardStrategy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RtcPeerConnectionFactory = function () {

    //transportHandle must be a callback function which should return a promise which is going to return the iceServers. Please refer https://www.w3.org/TR/webrtc/#rtciceserver-dictionary for iceServer example
    //publishError(errorType, errorMessage) must be a callback function which will publish the passed error message to client browser
    function RtcPeerConnectionFactory(logger, wssManager, clientId, transportHandle, publishError) {
        var strategy = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new _StandardStrategy2.default();
        (0, _classCallCheck3.default)(this, RtcPeerConnectionFactory);

        if (!(strategy instanceof _CCPInitiationStrategyInterface2.default)) {
            throw new Error('Expected a strategy of type CCPInitiationStrategyInterface');
        }
        (0, _utils.assertTrue)((0, _utils.isFunction)(transportHandle), 'transportHandle must be a function');
        (0, _utils.assertTrue)((0, _utils.isFunction)(publishError), 'publishError must be a function');
        this._strategy = strategy;
        this._logger = logger;
        this._clientId = clientId;
        this._wssManager = wssManager;
        this._requestIceAccess = transportHandle;
        this._publishError = publishError;
        this._earlyMediaConnectionSupported = this._isEarlyMediaConnectionSupported();
        this._initializeWebSocketEventListeners();
        this._requestPeerConnection();
        this._networkConnectivityChecker();

        this._logger.log("RTC.js is using " + strategy.getStrategyName());
    }

    (0, _createClass3.default)(RtcPeerConnectionFactory, [{
        key: '_isEarlyMediaConnectionSupported',
        value: function _isEarlyMediaConnectionSupported() {
            return this._strategy._isEarlyMediaConnectionSupported();
        }

        //This will handle the idleConnection and quota limits notification from the server

    }, {
        key: '_webSocketManagerOnMessage',
        value: function _webSocketManagerOnMessage(event) {
            var content = void 0;
            if (event.content) {
                content = JSON.parse(event.content);
            }
            if (content && this._clientId === content.clientId) {
                if (content.jsonRpcMsg.method === "idleConnection") {
                    this._clearIdleRtcPeerConnection();
                } else if (content.jsonRpcMsg.method === "quotaBreached") {
                    this._logger.log("Number of active sessions are more then allowed limit for the client " + this._clientId);
                    this._closeRTCPeerConnection();
                    this._publishError("multiple_softphone_active_sessions", "Number of active sessions are more then allowed limit.");
                }
            }
        }
    }, {
        key: '_initializeWebSocketEventListeners',
        value: function _initializeWebSocketEventListeners() {
            this._wssManager.subscribeTopics([_rtc_const.SOFTPHONE_ROUTE_KEY]);
            this._unSubscribe = this._wssManager.onMessage(_rtc_const.SOFTPHONE_ROUTE_KEY, (0, _utils.hitch)(this, this._webSocketManagerOnMessage));
        }

        // This method will create and return new peer connection if browser is not supporting early ice collection.
        // For the supported browser, this method will request for new peerConnection after returning the existing peerConnection

    }, {
        key: 'get',
        value: function get(iceServers) {
            var self = this;
            var pc = self._idlePc;
            self._idlePc = null;
            if (pc == null) {
                pc = self._createRtcPeerConnection(iceServers);
            }
            self.clearIdleRtcPeerConnectionTimerId();
            self._requestPeerConnection();
            return pc;
        }
    }, {
        key: 'clearIdleRtcPeerConnectionTimerId',
        value: function clearIdleRtcPeerConnectionTimerId() {
            var self = this;
            if (self._idleRtcPeerConnectionTimerId) {
                clearTimeout(self._idleRtcPeerConnectionTimerId);
                self._idleRtcPeerConnectionTimerId = null;
            }
        }
    }, {
        key: '_requestPeerConnection',
        value: function _requestPeerConnection() {
            var self = this;
            if (!self._peerConnectionRequestInFlight && self._earlyMediaConnectionSupported) {
                self._peerConnectionRequestInFlight = true;
                self._requestIceAccess().then(function (response) {
                    self._idlePc = self._createRtcPeerConnection(response);
                    self._peerConnectionRequestInFlight = false;
                    self._idleRtcPeerConnectionTimerId = setTimeout((0, _utils.hitch)(self, self._refreshRtcPeerConnection), _rtc_const.RTC_PEER_CONNECTION_IDLE_TIMEOUT_MS);
                },
                // eslint-disable-next-line no-unused-vars
                function (reason) {
                    self._peerConnectionRequestInFlight = false;
                });
            }
        }
    }, {
        key: '_networkConnectivityChecker',
        value: function _networkConnectivityChecker() {
            var self = this;
            setInterval(function () {
                if (!navigator.onLine && self._idlePc) {
                    self._logger.log("Network offline. Cleaning up early connection");
                    self._idlePc.close();
                    self._idlePc = null;
                }
            }, _rtc_const.NETWORK_CONNECTIVITY_CHECK_INTERVAL_MS);
        }
    }, {
        key: '_createRtcPeerConnection',
        value: function _createRtcPeerConnection(iceServers) {
            var rtcPeerConnectionConfig = JSON.parse(JSON.stringify(_rtc_const.RTC_PEER_CONNECTION_CONFIG));
            rtcPeerConnectionConfig.iceServers = iceServers;
            rtcPeerConnectionConfig.iceCandidatePoolSize = _rtc_const.DEFAULT_ICE_CANDIDATE_POOL_SIZE;
            return this._strategy._createRtcPeerConnection(rtcPeerConnectionConfig, _rtc_const.RTC_PEER_CONNECTION_OPTIONAL_CONFIG);
        }
    }, {
        key: '_clearIdleRtcPeerConnection',
        value: function _clearIdleRtcPeerConnection() {
            this._logger.log("session is idle from long time. closing the peer connection for client " + this._clientId);
            this._closeRTCPeerConnection();
        }
    }, {
        key: '_refreshRtcPeerConnection',
        value: function _refreshRtcPeerConnection() {
            this._idleRtcPeerConnectionTimerId = null;
            this._clearIdleRtcPeerConnection();
            this._logger.log("RtcPeerConnectionFactory is refreshing peer connection for client " + this._clientId);
            this._requestPeerConnection();
        }
    }, {
        key: '_closeRTCPeerConnection',
        value: function _closeRTCPeerConnection() {
            if (this._idlePc) {
                this._idlePc.close();
                this._idlePc = null;
            }
        }

        // Clear idle peer connection timer first and then close the idle peer connection.

    }, {
        key: 'close',
        value: function close() {
            this._logger.log("close method invoked. Clear timer and close idle peer connection " + this._clientId);
            this.clearIdleRtcPeerConnectionTimerId();
            this._closeRTCPeerConnection();
        }
    }]);
    return RtcPeerConnectionFactory;
}();

exports.default = RtcPeerConnectionFactory;

},{"./rtc_const":153,"./strategies/CCPInitiationStrategyInterface":161,"./strategies/StandardStrategy":165,"./utils":167,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _v = require("uuid/v4");

var _v2 = _interopRequireDefault(_v);

var _StandardStrategy = require("./strategies/StandardStrategy");

var _StandardStrategy2 = _interopRequireDefault(_StandardStrategy);

var _CCPInitiationStrategyInterface = require("./strategies/CCPInitiationStrategyInterface");

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _rtc_session = require("./rtc_session");

var _rtc_session2 = _interopRequireDefault(_rtc_session);

var _exceptions = require("./exceptions");

var _utils = require("./utils");

var _rtc_const = require("./rtc_const");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RtcPeerConnectionManager = function () {

    /**
     * Create a PeerConnectionManager which manages the life cycle of RTCSession and peer connection
     * It will be initialized when agent logs into the CCP and be responsible for creating and closing peer connection and RTCSession
     *
     * @constructor
     * @param {string} signalingUri - signalingUri get from call config. (optional, param for CCPv1)
     * @param {*} iceServers - ice server credentials
     * @param {*} transportHandle - a callback function which returns a promise which is going to return the iceServers.
     * @param {*} publishError - a function which publishs errors on CCP.
     * @param {string} clientId - uuid for softphone client
     * @param {string} contactToken - contactoken sent from service side  (optional)
     * @param {object} logger - An object provides logging functions, such as console
     * @param {string} contactId - ContactId which uniquely identifies the session. (optional)
     * @param {string} connectionId - Represents media connection id (optional)
     * @param {string} wssManager - websocket manager
     * @param {object} strategy - VDI strategy indicates which WebRTC SDK to use: standard, Citrix, WorkSpace (optional, default to be standardStrategy)
     * @param {boolean} isPPCEnabled - flag indicates if persistent connection is enabled in agent configuration
     * @param {string} browserId - browser identifier read from local storage and is used for browser refresh and ICE restart
     */
    function RtcPeerConnectionManager(signalingUri, iceServers, transportHandle, publishError, clientId, contactToken, logger, contactId, connectionId, wssManager) {
        var strategy = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : new _StandardStrategy2.default();

        var _this = this;

        var isPPCEnabled = arguments[11];
        var browserId = arguments[12];
        (0, _classCallCheck3.default)(this, RtcPeerConnectionManager);

        // Check if a peer connection manager has already existed
        if (!RtcPeerConnectionManager.instance) {
            // check if transportHandle is function
            (0, _utils.assertTrue)((0, _utils.isFunction)(transportHandle), 'transportHandle must be a function');
            // check if publishError is function
            (0, _utils.assertTrue)((0, _utils.isFunction)(publishError), 'publishError must be a function');
            // check if logger is provided
            if (!logger || (typeof logger === "undefined" ? "undefined" : (0, _typeof3.default)(logger)) !== 'object') {
                throw new _exceptions.IllegalParameters('logger required');
            }
            // check if contactId is provided
            if (!contactId) {
                // if not provided will create an uuid
                this._callId = (0, _v2.default)();
            } else {
                this._callId = contactId;
            }

            if (!connectionId) {
                // if not provided will create an uuid
                this._connectionId = (0, _v2.default)();
            } else {
                this._connectionId = connectionId;
            }

            if (!(strategy instanceof _CCPInitiationStrategyInterface2.default)) {
                throw new Error('Expected a strategy of type CCPInitiationStrategyInterface');
            }

            this._strategy = strategy;
            this._wssManager = wssManager;
            this._signalingUri = signalingUri;
            this._iceServers = iceServers;
            this._contactToken = contactToken;
            this._originalLogger = logger;
            this._logger = (0, _utils.wrapLogger)(this._originalLogger, '', 'RtcPeerConnectionManager');
            this._isPPCEnabled = isPPCEnabled;
            this._isRTPSAllowlisted = false; // RTPSAllowlisted flag is false by default
            this._peerConnectionId = null;
            this._browserId = browserId;
            this._clientId = clientId;

            this._requestIceAccess = transportHandle;
            this._publishError = publishError;
            this._initializeWebSocketEventListeners();
            this.requestPeerConnection().then(function () {
                // request peer connection when initializing RtcPeerConnectionManager
                if (_this.isPersistentConnectionEnabled() && !_this._contactToken) {
                    _this.createSession();
                    _this._rtcSessionConnectPromise = _this.connect();
                }
            });
            this._networkConnectivityChecker();
            RtcPeerConnectionManager.instance = this;
            this._logger.info("Initializing Peer Connection Manager...");
            this._logger.log("RTC.js is using " + strategy.getStrategyName());
        } else {
            logger.info("Peer Connection Manager has already been initialized");
        }
        this.browserTabCloseEventListener();
        return RtcPeerConnectionManager.instance;
    }

    /** Check if current browser supports standby/early peer connection or not.
     * If persistent peer connection is enabled, standby peer will be disabled.
     * @returns {*|boolean}
     * @private
     */


    (0, _createClass3.default)(RtcPeerConnectionManager, [{
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            if (!this.isPersistentConnectionEnabled()) {
                return this._strategy._isEarlyMediaConnectionSupported();
            }
            return false;
        }

        /** This function handles the idleConnection and quota limits notification from the server
         *
         * @param event
         * @private
         */

    }, {
        key: "_webSocketManagerOnMessage",
        value: function _webSocketManagerOnMessage(event) {
            var content = void 0;
            if (event.content) {
                content = JSON.parse(event.content);
            }
            if (content && this._clientId === content.clientId) {
                if (content.jsonRpcMsg.method === "idleConnection") {
                    this._clearIdleRtcPeerConnection();
                } else if (content.jsonRpcMsg.method === "quotaBreached") {
                    this._logger.log("Number of active sessions are more then allowed limit for the client " + this._clientId);
                    this._closeIdleRTCPeerConnection();
                    this._publishError("multiple_softphone_active_sessions", "Number of active sessions are more then allowed limit.");
                }
            }
        }

        /**
         * This monitors the Softphone webSocket events
         * @private
         */

    }, {
        key: "_initializeWebSocketEventListeners",
        value: function _initializeWebSocketEventListeners() {
            this._wssManager.subscribeTopics([_rtc_const.SOFTPHONE_ROUTE_KEY]);
            this._unSubscribe = this._wssManager.onMessage(_rtc_const.SOFTPHONE_ROUTE_KEY, (0, _utils.hitch)(this, this._webSocketManagerOnMessage));
        }

        /**
         * Function to get RTCPeerConnection.
         * When persistent connection is enabled. If no RTCPeerConnection exists, it will create a new RTCPeerConnection
         *
         * @returns {RTCPeerConnection}
         */

    }, {
        key: "getPeerConnection",
        value: function getPeerConnection() {
            var self = this;
            var pc;
            if (self.isPersistentConnectionEnabled()) {
                pc = self._pc;
                if (pc === null || pc === undefined) {
                    pc = self._createRtcPeerConnection(this._iceServers);
                }
            } else {
                pc = self._idlePc;
                self._idlePc = null;
                if (pc === null || pc === undefined) {
                    pc = self._createRtcPeerConnection(this._iceServers);
                }
                self.clearIdleRtcPeerConnectionTimerId();
                self.requestPeerConnection();
            }
            self._pc = pc;
            return pc;
        }

        /**
         * Clear standby/idle peer connection refresh timer
         */

    }, {
        key: "clearIdleRtcPeerConnectionTimerId",
        value: function clearIdleRtcPeerConnectionTimerId() {
            var self = this;
            if (self._idleRtcPeerConnectionTimerId) {
                clearTimeout(self._idleRtcPeerConnectionTimerId);
                self._idleRtcPeerConnectionTimerId = null;
            }
        }

        /**
         * When persistent connection is enabled, it creates the persistent peer connection
         * When persistent connection is disabled and early media connection is supported,
         * it creates a standby/ideal peer connection which can be used when a call arrives
         */

    }, {
        key: "requestPeerConnection",
        value: function () {
            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                var self, response;
                return _regenerator2.default.wrap(function _callee$(_context) {
                    while (1) {
                        switch (_context.prev = _context.next) {
                            case 0:
                                self = this;

                                self._earlyMediaConnectionSupported = self._isEarlyMediaConnectionSupported();

                                if (!(self.isPersistentConnectionEnabled() && !self._contactToken)) {
                                    _context.next = 11;
                                    break;
                                }

                                // When requesting a peer connection with persistent connection enabled, it only creates new pc if no contact exist.
                                self._logger.info("RtcPeerConnectionManager initiates persistent peer connection");
                                _context.next = 6;
                                return self._requestIceAccess().catch(function (error) {
                                    self._logger.info("RtcPeerConnectionManager request ICE access failed for persistent peer connection creation. ", error);
                                });

                            case 6:
                                response = _context.sent;

                                self._iceServers = response;
                                self._pc = self._createRtcPeerConnection(response);
                                _context.next = 12;
                                break;

                            case 11:
                                if (!self.isPersistentConnectionEnabled() && !self._peerConnectionRequestInFlight && self._earlyMediaConnectionSupported) {
                                    self._logger.info("RtcPeerConnectionManager initiates idle peer connection for non-persistent connection");
                                    self._peerConnectionRequestInFlight = true;
                                    self._requestIceAccess().then(function (response) {
                                        self._idlePc = self._createRtcPeerConnection(response);
                                        self._peerConnectionRequestInFlight = false;
                                        self._idleRtcPeerConnectionTimerId = setTimeout((0, _utils.hitch)(self, self._refreshRtcPeerConnection), _rtc_const.RTC_PEER_CONNECTION_IDLE_TIMEOUT_MS);
                                    },
                                    // eslint-disable-next-line no-unused-vars
                                    function (reason) {
                                        self._peerConnectionRequestInFlight = false;
                                    }).catch(function (error) {
                                        self._logger.info("RtcPeerConnectionManager request ICE access failed for idle peer connection creation. ", error);
                                    });
                                }

                            case 12:
                            case "end":
                                return _context.stop();
                        }
                    }
                }, _callee, this);
            }));

            function requestPeerConnection() {
                return _ref.apply(this, arguments);
            }

            return requestPeerConnection;
        }()

        /**
         * Check network connectivity in every 250 ms
         * @private
         */

    }, {
        key: "_networkConnectivityChecker",
        value: function _networkConnectivityChecker() {
            var self = this;
            setInterval(function () {
                if (!navigator.onLine && self._idlePc) {
                    self._logger.log("Network offline. Cleaning up early connection");
                    self._idlePc.close();
                    self._idlePc = null;
                }
            }, _rtc_const.NETWORK_CONNECTIVITY_CHECK_INTERVAL_MS);
        }

        /**
         * Create RTCPeerConnection via WebRTC API or VDI WebRTC redirection SDK
         * @param iceServers
         * @returns {RTCPeerConnection}
         * @private
         */

    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection(iceServers) {
            var rtcPeerConnectionConfig = JSON.parse(JSON.stringify(_rtc_const.RTC_PEER_CONNECTION_CONFIG));
            rtcPeerConnectionConfig.iceServers = iceServers;
            rtcPeerConnectionConfig.iceCandidatePoolSize = _rtc_const.DEFAULT_ICE_CANDIDATE_POOL_SIZE;
            return this._strategy._createRtcPeerConnection(rtcPeerConnectionConfig, _rtc_const.RTC_PEER_CONNECTION_OPTIONAL_CONFIG);
        }

        /**
         * Clear the standby/Idle peer connection
         * @private
         */

    }, {
        key: "_clearIdleRtcPeerConnection",
        value: function _clearIdleRtcPeerConnection() {
            this._logger.log("session is idle from long time. closing the peer connection for client " + this._clientId);
            this._closeIdleRTCPeerConnection();
        }

        /**
         * Refresh standby/ideal peer connection
         * @private
         */

    }, {
        key: "_refreshRtcPeerConnection",
        value: function _refreshRtcPeerConnection() {
            this._idleRtcPeerConnectionTimerId = null;
            this._clearIdleRtcPeerConnection();
            this._logger.log("RtcPeerConnectionManager is refreshing peer connection for client " + this._clientId);
            this.requestPeerConnection();
        }
    }, {
        key: "_closeIdleRTCPeerConnection",
        value: function _closeIdleRTCPeerConnection() {
            if (this._idlePc) {
                this._idlePc.close();
                this._idlePc = null;
            }
        }

        // Clear idle peer connection timer first and then close the idle peer connection.

    }, {
        key: "closeEarlyMediaConnection",
        value: function closeEarlyMediaConnection() {
            this._logger.log("close method invoked. Clear timer and close idle peer connection " + this._clientId);
            this.clearIdleRtcPeerConnectionTimerId();
            this._closeIdleRTCPeerConnection();
        }
    }, {
        key: "createSession",


        /**
         * create a rtcSession object if none exists
         *
         * @return {RtcSession} rtcSession
         */
        value: function createSession(callId, iceServers, contactToken, connectionId, wssManager) {
            var rtcJsStrategy = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new _StandardStrategy2.default();

            this._callId = callId ? callId : this._callId;
            this._iceServers = iceServers ? iceServers : this._iceServers;
            this._contactToken = contactToken ? contactToken : this._contactToken;
            this._connectionId = connectionId ? connectionId : this._connectionId;
            this._wssManager = wssManager ? wssManager : this._wssManager;
            this._strategy = rtcJsStrategy ? rtcJsStrategy : this._strategy;

            this._logger.info("PeerConnectionManager creates RtcSession");
            this._logger = (0, _utils.wrapLogger)(this._originalLogger, this._callId, 'RtcPeerConnectionManager');
            this._rtcSession = new _rtc_session2.default(this._signalingUri, this._iceServers, this._contactToken, this._logger, this._callId, this._connectionId, this._wssManager, this._strategy, this);

            // ontrack event will only be triggered once during the process of establishing the persistent connection.
            // This event won't be trigger when a call arrives at CCP with persistent connection enabled
            // So we need to attach remoteAudioElement when we initiate the persistent connection. TODO: We can move this to StreamsJS as a followup CR
            if (this.isPersistentConnectionEnabled()) {
                this._rtcSession.remoteAudioElement = document.getElementById('remote-audio') || window.parent.parent.document.getElementById('remote-audio');
                this._remoteAudioElement = this._rtcSession.remoteAudioElement;
            }
            return this._rtcSession;
        }

        /**
         * get rtcSession object
         *
         * @return {RtcSession} rtcSession manages by the peer connection manager
         */

    }, {
        key: "getSession",
        value: function getSession() {
            return this._rtcSession;
        }

        /**
         * This method aims to create a new peer connection or connect to the existing peer connection
         * which will start the signaling process
         *
         * @param {RTCPeerConnection} pc - An existing peer connection, it could be persistent peer connection
         * or a standby peer connection (optional)
         */

    }, {
        key: "connect",
        value: function () {
            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
                var _this2 = this;

                var self, onSessionFailedHandler, onSessionCompletedHandler, pc;
                return _regenerator2.default.wrap(function _callee4$(_context4) {
                    while (1) {
                        switch (_context4.prev = _context4.next) {
                            case 0:
                                self = this;
                                // check if the previous rtcSession.connect promise is fulfilled or not

                                if (!self._rtcSessionConnectPromise) {
                                    _context4.next = 19;
                                    break;
                                }

                                _context4.prev = 2;
                                _context4.next = 5;
                                return self._rtcSessionConnectPromise;

                            case 5:
                                _context4.next = 16;
                                break;

                            case 7:
                                _context4.prev = 7;
                                _context4.t0 = _context4["catch"](2);

                                // notify softphoneManger the current rtcSession is failed to trigger the retry strategy on SoftphoneManager side
                                this._rtcSession._onSessionFailed(this._rtcSession, _context4.t0.name);
                                self._rtcSession = null;
                                self.destroy();
                                self._contactToken = null;
                                self._iceServers = null;
                                self._callId = null;
                                return _context4.abrupt("return");

                            case 16:
                                _context4.prev = 16;

                                self._rtcSessionConnectPromise = null;
                                return _context4.finish(16);

                            case 19:

                                // reset inactivity timer before RTCSession state transition
                                if (self._inactivityTimer) {
                                    self.clearInactivityTimer();
                                }

                                // add session failed event handler
                                onSessionFailedHandler = self._rtcSession._onSessionFailed;

                                self._rtcSession.onSessionFailed = function (rtcSession, reason) {
                                    self.logger.error("Peer connection manager detects RtcSession failure: " + reason);
                                    // wrap the existing handler which is created in softphone manager
                                    if (onSessionFailedHandler) {
                                        onSessionFailedHandler(rtcSession, reason);
                                    }
                                    // clear local RtcSession
                                    self._rtcSession = null;
                                    self._iceServers = null;
                                    // close signaling channel and peer connection
                                    self.destroy(); // call destroy method before clean contactToken and callId
                                    self._contactToken = null;
                                    self._callId = null;
                                };

                                // add session completed event handler
                                onSessionCompletedHandler = self._rtcSession._onSessionCompleted;

                                self._rtcSession.onSessionCompleted = function (rtcSession) {
                                    self.logger.info("Peer connection manager detects RtcSession completed. Performing health check to decide if we want to keep the peer connection");
                                    // wrap the existing handler which is created in softphone manager
                                    if (onSessionCompletedHandler) {
                                        onSessionCompletedHandler(rtcSession);
                                    }
                                    if (self._signalingChannel._state.name === "FailedState" || self._pc.iceConnectionState === _rtc_const.ICE_CONNECTION_STATE.FAILED || self._pc.iceConnectionState === _rtc_const.ICE_CONNECTION_STATE.DISCONNECTED || self._pc.iceConnectionState === _rtc_const.ICE_CONNECTION_STATE.CLOSED) {
                                        self.logger.error("Peer connection manager detected unhealthy connection at call ends, tearing down the connection");
                                        // clear local RtcSession
                                        self._rtcSession = null;
                                        self._iceServers = null;
                                        // close signaling channel and peer connection
                                        self.destroy();
                                        self._contactToken = null;
                                        self._callId = null;
                                    }
                                };

                                // add signaling remote hangup listener
                                self._rtcSession._signalingRemoteHungup = function () {
                                    self.hangup();
                                };

                                if (this._userAgentData) {
                                    _context4.next = 29;
                                    break;
                                }

                                _context4.next = 28;
                                return (0, _utils.getUserAgentData)().catch(function (error) {
                                    self.logger.error("Peer connection manager failed to get user agent data", error);
                                });

                            case 28:
                                this._userAgentData = _context4.sent;

                            case 29:
                                // Add useragent to rtcSession report
                                this._rtcSession._sessionReport.userAgentData = JSON.stringify(this._userAgentData);

                                pc = this.getPeerConnection();

                                this._rtcSession.connect(pc);

                                return _context4.abrupt("return", new Promise(function (resolve, reject) {
                                    // resolve the Promise when signaling handshake is completed
                                    var signalingHandshaked = (0, _utils.hitch)(self._rtcSession, self._rtcSession._signalingHandshaked);
                                    self._rtcSession._signalingHandshaked = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                                        return _regenerator2.default.wrap(function _callee2$(_context2) {
                                            while (1) {
                                                switch (_context2.prev = _context2.next) {
                                                    case 0:
                                                        signalingHandshaked();
                                                        resolve();

                                                    case 2:
                                                    case "end":
                                                        return _context2.stop();
                                                }
                                            }
                                        }, _callee2, _this2);
                                    }));

                                    // reject the Promise when signaling handshake is failed
                                    var signalingFailed = (0, _utils.hitch)(self._rtcSession, self._rtcSession._signalingFailed);
                                    self._rtcSession._signalingFailed = function () {
                                        var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(exception) {
                                            return _regenerator2.default.wrap(function _callee3$(_context3) {
                                                while (1) {
                                                    switch (_context3.prev = _context3.next) {
                                                        case 0:
                                                            signalingFailed(exception);
                                                            reject();

                                                        case 2:
                                                        case "end":
                                                            return _context3.stop();
                                                    }
                                                }
                                            }, _callee3, _this2);
                                        }));

                                        return function (_x3) {
                                            return _ref4.apply(this, arguments);
                                        };
                                    }();
                                }));

                            case 33:
                            case "end":
                                return _context4.stop();
                        }
                    }
                }, _callee4, this, [[2, 7, 16, 19]]);
            }));

            function connect() {
                return _ref2.apply(this, arguments);
            }

            return connect;
        }()

        /**
         * Start an inactivity timer for persistent connection
         *
         */

    }, {
        key: "startInactivityTimer",
        value: function startInactivityTimer() {
            var _this3 = this;

            this._logger.info("PeerConnectionManager start inactivity timer");
            this._inactivityTimer = setTimeout(function () {
                _this3._logger.info('Inactivity timer breached, teardown peer connection ');
                _this3.destroy();
            }, this._inactivityDuration);
        }

        /**
         * Reset inactivity timer for persistent connection
         */

    }, {
        key: "clearInactivityTimer",
        value: function clearInactivityTimer() {
            this._logger.info("PeerConnectionManager clear inactivity timer");
            clearTimeout(this._inactivityTimer);
            this._inactivityTimer = null;
        }

        /**
         * Hang up the RtcSession
         */

    }, {
        key: "hangup",
        value: function hangup() {
            this._logger.info("PeerConnectionManager hangs up RtcSession");
            if (this._rtcSession) {
                try {
                    this._rtcSession.hangup();
                } catch (error) {
                    this._logger.error("Error occurred while hanging up RtcSession:", error);
                }
            }
            this._contactToken = null;
            this._callId = null;
            this._rtcSession = null;
            if (!this.isPersistentConnectionEnabled()) {
                this._signalingChannel = null;
                this._iceServers = null;
                this._pc = null;
                this._peerConnectionId = null;
                this._peerConnectionToken = null;
                this._iceRestart = false;
            }
        }

        /**
         * Destroys the existing persistent peer connection.
         *
         * @param {string|undefined} peerConnectionId - The ID of the peer connection to destroy. 
         *        If provided, indicates that the method is triggered by a server-side PCBye.
         * 
         * This method is crucial for both RTPS allowlisted and not allowlisted paths.
         * It ensures proper cleanup of the signaling channel, which is essential because pcm.hangup is not guaranteed to be invoked.
         * TODO: refactor destroy(peerConnectionId) to destroy(shouldSendByeToServerBool=true),
         * 
         * Usage:
         * - Call with no arguments for client-initiated destruction (will send BYE to server).
         * - Call with a peerConnectionId for server-initiated destruction (will not send BYE).
         * 
         * Note: The presence of peerConnectionId is used to infer if the destroy method 
         * is triggered by a server-side event, in which case we do not send a BYE signal.
         * 
         * TODO: Refactor peerConnectionId parameter to be a boolean 'shouldSendByeToServer' with a default value of true.
         *       This should be set to false for AZ evacuation and server-side draining scenarios.
         *       In these cases, we receive a PCBYE from the server, so we don't want to send another BYE.
         */

    }, {
        key: "destroy",
        value: function destroy(peerConnectionId) {
            try {
                if (this._rtcSession && (this._rtcSession._state.name === _rtc_const.RTC_SESSION_STATE.TALKING_STATE || this._rtcSession._state.name === _rtc_const.RTC_SESSION_STATE.CONNECT_CONTACT_STATE)) {
                    this._logger.info("Peer connection is in use, PeerConnectionManager can NOT destroy persistent peer connection");
                } else if (this._pc) {
                    // if peer connection exists, destroy the persistent peer connection
                    this._logger.info("PeerConnectionManager destroy persistent peer connection");
                    if (!peerConnectionId && this._signalingChannel) {
                        // If peerConnectionId doesn't exist, we need to send a bye to the server. Otherwise, it doesn't need to send a bye since it receives the PCBye from server
                        try {
                            this._signalingChannel.bye();
                        } catch (byeError) {
                            this._logger.error("Error occurred while sending bye:", byeError);
                        }
                    }
                    this._signalingChannel = null;
                    this._pc.close();
                    this._pc = null;
                    this._peerConnectionId = null;
                    this._peerConnectionToken = null;
                    this._iceRestart = false;
                    // release media stream when existing persistent peer connection is destroyed
                    if (this._mediaStream) {
                        this._mediaStream.getTracks().forEach(function (track) {
                            return track.stop();
                        });
                        this._mediaStream = null;
                    }
                    // detach remote audio stream
                    if (this._remoteAudioElement) {
                        this._remoteAudioElement.srcObject = null;
                        this._remoteAudioStream = null;
                    }
                    this.clearInactivityTimer();
                }
            } catch (error) {
                this._logger.error("Error occurred in PeerConnectionManager destroy method:", error);
            }
        }
    }, {
        key: "handlePersistentPeerConnectionToggle",
        value: function handlePersistentPeerConnectionToggle(isPPCEnabled) {
            // change PPCEnabled only when agent is not in a call
            if (this._rtcSession === null && this.isPPCEnabled !== isPPCEnabled && this.isRTPSAllowlisted) {
                this.isPPCEnabled = isPPCEnabled;
                // if softphonePersistentConnection changed to true, use rtcPeerConnectionManager to initiate a new persistent peer connection
                if (this.isPPCEnabled) {
                    this._logger.info("softphonePersistentConnection changed to ture, initiate a persistent peer connection").sendInternalLogToServer();
                    this.activatePersistentPeerConnectionMode();
                } else {
                    // if softphonePersistentConnection changed to false, use rtcPeerConnectionManager to tear down the currentpersistent peer connection
                    this._logger.info("softphonePersistentConnection changed to false, destroy the existing persistent peer connection").sendInternalLogToServer();
                    this.deactivatePersistentPeerConnectionMode();
                }
            }
        }

        // activate persistent connection mode by creating the persistent connection and close standby peer connection

    }, {
        key: "activatePersistentPeerConnectionMode",
        value: function activatePersistentPeerConnectionMode() {
            var _this4 = this;

            // this.rtcJsStrategy = this.rtcJsStrategy;
            this.closeEarlyMediaConnection(); // close standby peer connection
            this.requestPeerConnection().then(function () {
                // request a new persistent peer connection
                _this4.createSession();
                _this4._rtcSessionConnectPromise = _this4.connect();
            });
        }

        // deactivate persistent connection mode by destroying the existing persistent peer connection and request for standby peer connection

    }, {
        key: "deactivatePersistentPeerConnectionMode",
        value: function deactivatePersistentPeerConnectionMode() {
            this.destroy();
            this.requestPeerConnection();
        }

        // function which checks if persistent connection feature is enabled and allowlisted, and browser is NOT Firefox

    }, {
        key: "isPersistentConnectionEnabled",
        value: function isPersistentConnectionEnabled() {
            return this._isPPCEnabled && this._isRTPSAllowlisted && !(0, _utils.isFirefoxBrowser)(this._userAgentData);
        }

        // This function closes the Early media connection and persistent peer connection

    }, {
        key: "close",
        value: function close() {
            if (this.isPersistentConnectionEnabled()) {
                this.destroy();
            } else {
                this.closeEarlyMediaConnection();
            }
        }

        /** This function is to listen beforeunload event. When we receive beforeunload
         * we will send a bye from CCP to Amazon Connect, but this is very unstable, we cannot
         * guarantee send bye every time when agent close the browser tab
         *
         */

    }, {
        key: "browserTabCloseEventListener",
        value: function browserTabCloseEventListener() {
            var _this5 = this;

            window.addEventListener('beforeunload', function () {
                _this5._logger.info('User leaves the page, destroy peer connection manager');
                _this5.destroy();
            });
        }
    }, {
        key: "signalingUri",
        get: function get() {
            return this._signalingUri;
        },
        set: function set(signalingUri) {
            this._signalingUri = signalingUri;
        }
    }, {
        key: "iceServers",
        get: function get() {
            return this._iceServers;
        },
        set: function set(iceServers) {
            this._iceServers = iceServers;
        }
    }, {
        key: "contactToken",
        get: function get() {
            return this._contactToken;
        },
        set: function set(contactToken) {
            this._contactToken = contactToken;
        }
    }, {
        key: "logger",
        get: function get() {
            return this._logger;
        },
        set: function set(logger) {
            this._logger = logger;
        }
    }, {
        key: "callId",
        get: function get() {
            return this._callId;
        },
        set: function set(callId) {
            this._callId = callId;
        }
    }, {
        key: "connectionId",
        get: function get() {
            return this._connectionId;
        },
        set: function set(connectionId) {
            this._connectionId = connectionId;
        }
    }, {
        key: "wssManager",
        get: function get() {
            return this._wssManager;
        },
        set: function set(wssManager) {
            this._wssManager = wssManager;
        }
    }, {
        key: "strategy",
        get: function get() {
            return this._strategy;
        },
        set: function set(strategy) {
            this._strategy = strategy;
        }
    }, {
        key: "isPPCEnabled",
        get: function get() {
            return this._isPPCEnabled;
        },
        set: function set(isPPCEnabled) {
            this._isPPCEnabled = isPPCEnabled;
        }
    }, {
        key: "isRTPSAllowlisted",
        get: function get() {
            return this._isRTPSAllowlisted;
        },
        set: function set(isRTPSAllowlisted) {
            this._isRTPSAllowlisted = isRTPSAllowlisted;
        }
    }, {
        key: "browserId",
        get: function get() {
            return this._browserId;
        },
        set: function set(browserId) {
            this._browserId = browserId;
        }
    }, {
        key: "peerConnectionId",
        get: function get() {
            return this._peerConnectionId;
        },
        set: function set(peerConnectionId) {
            this._peerConnectionId = peerConnectionId;
        }
    }, {
        key: "peerConnectionToken",
        get: function get() {
            return this._peerConnectionToken;
        },
        set: function set(peerConnectionToken) {
            this._peerConnectionToken = peerConnectionToken;
        }
    }, {
        key: "inactivityDuration",
        get: function get() {
            return this._inactivityDuration;
        },
        set: function set(inactivityDuration) {
            this._inactivityDuration = inactivityDuration;
        }
    }]);
    return RtcPeerConnectionManager;
}();

exports.default = RtcPeerConnectionManager;

},{"./exceptions":152,"./rtc_const":153,"./rtc_session":156,"./strategies/CCPInitiationStrategyInterface":161,"./strategies/StandardStrategy":165,"./utils":167,"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/typeof":24,"babel-runtime/regenerator":27,"uuid/v4":137}],156:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FailedState = exports.DisconnectedState = exports.CleanUpState = exports.TalkingState = exports.ConnectContactState = exports.AcceptState = exports.InviteAnswerState = exports.ConnectSignalingAndIceCollectionState = exports.SetLocalSessionDescriptionState = exports.CreateOfferState = exports.GrabLocalMediaState = exports.RTCSessionState = undefined;

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _get2 = require('babel-runtime/helpers/get');

var _get3 = _interopRequireDefault(_get2);

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _utils = require('./utils');

var _session_report = require('./session_report');

var _rtc_const = require('./rtc_const');

var _exceptions = require('./exceptions');

var _signaling = require('./signaling');

var _signaling2 = _interopRequireDefault(_signaling);

var _v = require('uuid/v4');

var _v2 = _interopRequireDefault(_v);

var _rtpStats = require('./rtp-stats');

var _sdp = require('sdp');

var _CCPInitiationStrategyInterface = require('./strategies/CCPInitiationStrategyInterface');

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _StandardStrategy = require('./strategies/StandardStrategy');

var _StandardStrategy2 = _interopRequireDefault(_StandardStrategy);

var _rtc_session_talking_substates = require('./rtc_session_talking_substates');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RTCSessionState = exports.RTCSessionState = function () {
    /**
     *
     * @param {RtcSession} rtcSession
     */
    function RTCSessionState(rtcSession) {
        (0, _classCallCheck3.default)(this, RTCSessionState);

        this._rtcSession = rtcSession;
    }

    (0, _createClass3.default)(RTCSessionState, [{
        key: 'onEnter',
        value: function onEnter() {}
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: '_isCurrentState',
        value: function _isCurrentState() {
            return this._rtcSession._state === this;
        }
    }, {
        key: 'transit',
        value: function transit(nextState) {
            if (this._isCurrentState()) {
                this._rtcSession.transit(nextState);
            }
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this.transit(new FailedState(this._rtcSession));
        }
    }, {
        key: 'onIceCandidate',
        value: function onIceCandidate(evt) {// eslint-disable-line no-unused-vars
            //ignore candidate by default, ConnectSignalingAndIceCollectionState will override to collect candidates, but collecting process could last much longer than ConnectSignalingAndIceCollectionState
            //we don't want to spam the console log
        }
    }, {
        key: 'onRemoteHungup',
        value: function onRemoteHungup() {
            throw new _exceptions.UnsupportedOperation('onRemoteHungup not implemented by ' + this.name);
        }
    }, {
        key: 'onSignalingConnected',
        value: function onSignalingConnected() {
            throw new _exceptions.UnsupportedOperation('onSignalingConnected not implemented by ' + this.name);
        }
    }, {
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            throw new _exceptions.UnsupportedOperation('onSignalingHandshaked not implemented by ' + this.name);
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            // eslint-disable-line no-unused-vars
            throw new _exceptions.UnsupportedOperation('onSignalingFailed not implemented by ' + this.name);
        }
    }, {
        key: 'onIceStateChange',
        value: function onIceStateChange(evt) {// eslint-disable-line no-unused-vars
        }
    }, {
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }, {
        key: 'name',
        get: function get() {
            return "RTCSessionState";
        }
    }]);
    return RTCSessionState;
}(); /**
      * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      *
      * SPDX-License-Identifier: Apache-2.0
      */


var GrabLocalMediaState = exports.GrabLocalMediaState = function (_RTCSessionState) {
    (0, _inherits3.default)(GrabLocalMediaState, _RTCSessionState);

    function GrabLocalMediaState() {
        (0, _classCallCheck3.default)(this, GrabLocalMediaState);
        return (0, _possibleConstructorReturn3.default)(this, (GrabLocalMediaState.__proto__ || Object.getPrototypeOf(GrabLocalMediaState)).apply(this, arguments));
    }

    (0, _createClass3.default)(GrabLocalMediaState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            var startTime = Date.now();
            if (self._rtcSession._isUserProvidedStream) {
                self.transit(new CreateOfferState(self._rtcSession));
            } else {
                var gumTimeoutPromise = new Promise(function (resolve, reject) {
                    setTimeout(function () {
                        reject(new _exceptions.GumTimeout('Local media has not been initialized yet.'));
                    }, self._rtcSession._gumTimeoutMillis);
                });
                var sessionGumPromise = self._gUM(self._rtcSession._buildMediaConstraints());

                Promise.race([sessionGumPromise, gumTimeoutPromise]).then(function (stream) {
                    self._rtcSession._sessionReport.gumTimeMillis = Date.now() - startTime;
                    self._rtcSession._onGumSuccess(self._rtcSession);
                    self._rtcSession._localStream = stream;
                    if (self._rtcSession._pcm) {
                        self._rtcSession._pcm._mediaStream = stream;
                    }
                    self._rtcSession._sessionReport.gumOtherFailure = false;
                    self._rtcSession._sessionReport.gumTimeoutFailure = false;
                    self.transit(new CreateOfferState(self._rtcSession));
                }).catch(function (e) {
                    self._rtcSession._sessionReport.gumTimeMillis = Date.now() - startTime;
                    var errorReason;
                    if (e instanceof _exceptions.GumTimeout) {
                        errorReason = _rtc_const.RTC_ERRORS.GUM_TIMEOUT_FAILURE;
                        self._rtcSession._sessionReport.gumTimeoutFailure = true;
                        self._rtcSession._sessionReport.gumOtherFailure = false;
                    } else {
                        errorReason = _rtc_const.RTC_ERRORS.GUM_OTHER_FAILURE;
                        self._rtcSession._sessionReport.gumOtherFailure = true;
                        self._rtcSession._sessionReport.gumTimeoutFailure = false;
                    }
                    self.logger.error('Local media initialization failed', e);
                    self._rtcSession._onGumError(self._rtcSession);
                    self.transit(new FailedState(self._rtcSession, errorReason));
                });
            }
        }
    }, {
        key: '_gUM',
        value: function _gUM(constraints) {
            return this._rtcSession._strategy._gUM(constraints);
        }
    }, {
        key: 'name',
        get: function get() {
            return "GrabLocalMediaState";
        }
    }]);
    return GrabLocalMediaState;
}(RTCSessionState);

var CreateOfferState = exports.CreateOfferState = function (_RTCSessionState2) {
    (0, _inherits3.default)(CreateOfferState, _RTCSessionState2);

    function CreateOfferState() {
        (0, _classCallCheck3.default)(this, CreateOfferState);
        return (0, _possibleConstructorReturn3.default)(this, (CreateOfferState.__proto__ || Object.getPrototypeOf(CreateOfferState)).apply(this, arguments));
    }

    (0, _createClass3.default)(CreateOfferState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            var stream = self._rtcSession._localStream;
            self._rtcSession._strategy.addStream(self._rtcSession._pc, stream);
            self._rtcSession._onLocalStreamAdded(self._rtcSession, stream);
            self._rtcSession._pc.createOffer().then(function (rtcSessionDescription) {
                self._rtcSession._localSessionDescription = rtcSessionDescription;
                self._rtcSession._sessionReport.createOfferFailure = false;
                self.transit(new SetLocalSessionDescriptionState(self._rtcSession));
            }).catch(function (e) {
                self.logger.error('CreateOffer failed', e);
                self._rtcSession._sessionReport.createOfferFailure = true;
                self.transit(new FailedState(self._rtcSession, _rtc_const.RTC_ERRORS.CREATE_OFFER_FAILURE));
            });
        }
    }, {
        key: 'name',
        get: function get() {
            return "CreateOfferState";
        }
    }]);
    return CreateOfferState;
}(RTCSessionState);

var SetLocalSessionDescriptionState = exports.SetLocalSessionDescriptionState = function (_RTCSessionState3) {
    (0, _inherits3.default)(SetLocalSessionDescriptionState, _RTCSessionState3);

    function SetLocalSessionDescriptionState() {
        (0, _classCallCheck3.default)(this, SetLocalSessionDescriptionState);
        return (0, _possibleConstructorReturn3.default)(this, (SetLocalSessionDescriptionState.__proto__ || Object.getPrototypeOf(SetLocalSessionDescriptionState)).apply(this, arguments));
    }

    (0, _createClass3.default)(SetLocalSessionDescriptionState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;

            // fix/modify SDP as needed here, before setLocalDescription
            var localDescription = self._rtcSession._localSessionDescription;
            var sdpOptions = new _utils.SdpOptions();
            // Set audio codec.
            if (self._rtcSession._forceAudioCodec) {
                sdpOptions.forceCodec['audio'] = self._rtcSession._forceAudioCodec;
            }
            // Set video codec.
            if (self._rtcSession._forceVideoCodec) {
                sdpOptions.forceCodec['video'] = self._rtcSession._forceVideoCodec;
            }
            sdpOptions.enableOpusDtx = self._rtcSession._enableOpusDtx;

            var transformedSdp = (0, _utils.transformSdp)(localDescription.sdp, sdpOptions);
            localDescription.sdp = transformedSdp.sdp;
            localDescription.sdp += 'a=ptime:20\r\n';
            localDescription.sdp += 'a=maxptime:20\r\n';
            localDescription.sdp = localDescription.sdp.replace("minptime=10", "minptime=20");

            self.logger.info('LocalSD', self._rtcSession._localSessionDescription);
            self._rtcSession._pc.setLocalDescription(self._rtcSession._localSessionDescription).then(function () {
                var initializationTime = Date.now() - self._rtcSession._connectTimeStamp;
                self._rtcSession._sessionReport.initializationTimeMillis = initializationTime;
                self._rtcSession._onSessionInitialized(self._rtcSession, initializationTime);
                self._rtcSession._sessionReport.setLocalDescriptionFailure = false;
                self.transit(new ConnectSignalingAndIceCollectionState(self._rtcSession, transformedSdp.mLines));
            }).catch(function (e) {
                self.logger.error('SetLocalDescription failed', e);
                self._rtcSession._sessionReport.setLocalDescriptionFailure = true;
                self.transit(new FailedState(self._rtcSession, _rtc_const.RTC_ERRORS.SET_LOCAL_DESCRIPTION_FAILURE));
            });
        }
    }, {
        key: 'name',
        get: function get() {
            return "SetLocalSessionDescriptionState";
        }
    }]);
    return SetLocalSessionDescriptionState;
}(RTCSessionState);

/**
 * Kick off signaling connection. Wait until signaling connects and ICE collection (which already started in previous state) completes.
 * ICE collection times out after user specified amount of time (default to DEFAULT_ICE_TIMEOUT_MS) in case user has complex network environment that blackholes STUN/TURN requests. In this case at least one candidate is required to move forward.
 * ICE collection could also wrap up before timeout if it's determined that RTP candidates from same TURN server have been collected for all m lines.
 */


var ConnectSignalingAndIceCollectionState = exports.ConnectSignalingAndIceCollectionState = function (_RTCSessionState4) {
    (0, _inherits3.default)(ConnectSignalingAndIceCollectionState, _RTCSessionState4);

    /**
     * Create ConnectSignalingAndIceCollectionState object.
     * @param {RtcSession} rtcSession
     * @param {number} mLines Number of m lines in SDP
     */
    function ConnectSignalingAndIceCollectionState(rtcSession, mLines) {
        (0, _classCallCheck3.default)(this, ConnectSignalingAndIceCollectionState);

        var _this4 = (0, _possibleConstructorReturn3.default)(this, (ConnectSignalingAndIceCollectionState.__proto__ || Object.getPrototypeOf(ConnectSignalingAndIceCollectionState)).call(this, rtcSession));

        _this4._iceCandidates = [];
        _this4._iceCandidateFoundationsMap = {};
        _this4._mLines = mLines;
        return _this4;
    }

    (0, _createClass3.default)(ConnectSignalingAndIceCollectionState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            self._startTime = Date.now();
            setTimeout(function () {
                if (self._isCurrentState() && !self._iceCompleted) {
                    self.logger.warn('ICE collection timed out');
                    self._reportIceCompleted(true);
                }
            }, self._rtcSession._iceTimeoutMillis);

            //if peer connection manager or signalingChannel doesn't exist, create a new signaling channel
            if (!self._rtcSession._pcm || !self._rtcSession._pcm._signalingChannel) {
                self._rtcSession._createSignalingChannel().connect();
            } else {
                // if signalingChannel exists, reset the contact id, connectionid and contact token
                self._rtcSession._bindSignalingChannel(); // binding the existing signaling channel
                self._rtcSession._pcm._signalingChannel._wss._connnectionId = self._rtcSession._connectionId;
                self._rtcSession._pcm._signalingChannel._contactToken = self._rtcSession._contactToken;
                self._rtcSession._pcm._signalingChannel._callId = self._rtcSession._callId;
            }
        }
    }, {
        key: 'onSignalingConnected',
        value: function onSignalingConnected() {
            this._rtcSession._signallingConnectTimestamp = Date.now();
            this._rtcSession._sessionReport.signallingConnectTimeMillis = this._rtcSession._signallingConnectTimestamp - this._startTime;
            this._signalingConnected = true;
            this._rtcSession._onSignalingConnected(this._rtcSession);
            this._rtcSession._sessionReport.signallingConnectionFailure = false;
            this._checkAndTransit();
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            this._rtcSession._sessionReport.signallingConnectTimeMillis = Date.now() - this._startTime;
            this.logger.error('Failed connecting to signaling server', e);
            this._rtcSession._sessionReport.signallingConnectionFailure = true;
            this.transit(new FailedState(this._rtcSession, _rtc_const.RTC_ERRORS.SIGNALLING_CONNECTION_FAILURE));
        }
    }, {
        key: '_createLocalCandidate',
        value: function _createLocalCandidate(initDict) {
            return new RTCIceCandidate(initDict);
        }
    }, {
        key: 'onIceCandidate',
        value: function onIceCandidate(evt) {
            var candidate = evt.candidate;
            this.logger.log('onicecandidate ' + JSON.stringify(candidate));
            if (candidate) {
                if (candidate.candidate) {
                    this._iceCandidates.push(this._createLocalCandidate(candidate));
                    if (!this._iceCompleted) {
                        this._checkCandidatesSufficient(candidate);
                    }
                }
            } else {
                this._reportIceCompleted(false);
            }
        }
    }, {
        key: '_checkCandidatesSufficient',
        value: function _checkCandidatesSufficient(candidate) {
            //check if we collected sufficient candidates from single media server to start the call
            var candidateObj = (0, _sdp.parseCandidate)(candidate.candidate);
            if (candidateObj.component != 1) {
                return;
            }
            var candidateFoundation = candidateObj.foundation;
            var candidateMLineIndex = candidate.sdpMLineIndex;
            if (candidateFoundation && candidateMLineIndex >= 0 && candidateMLineIndex < this._mLines) {
                var mIndexList = this._iceCandidateFoundationsMap[candidateFoundation] || [];
                if (!mIndexList.includes(candidateMLineIndex)) {
                    mIndexList.push(candidateMLineIndex);
                }
                this._iceCandidateFoundationsMap[candidateFoundation] = mIndexList;

                if (this._mLines == mIndexList.length) {
                    this._reportIceCompleted(false);
                }
            }
        }
    }, {
        key: '_reportIceCompleted',
        value: function _reportIceCompleted(isTimeout) {
            this._rtcSession._sessionReport.iceCollectionTimeMillis = Date.now() - this._startTime;
            this._iceCompleted = true;
            this._rtcSession._onIceCollectionComplete(this._rtcSession, isTimeout, this._iceCandidates.length);
            if (this._iceCandidates.length > 0) {
                this._rtcSession._sessionReport.iceCollectionFailure = false;
                this._checkAndTransit();
            } else {
                this.logger.error('No ICE candidate');
                this._rtcSession._sessionReport.iceCollectionFailure = true;
                this.transit(new FailedState(this._rtcSession, _rtc_const.RTC_ERRORS.ICE_COLLECTION_TIMEOUT));
            }
        }
    }, {
        key: '_checkAndTransit',
        value: function _checkAndTransit() {
            if (this._iceCompleted && this._signalingConnected) {
                this.transit(new InviteAnswerState(this._rtcSession, this._iceCandidates));
            } else if (!this._iceCompleted) {
                this.logger.log('Pending ICE collection');
            } else {
                //implies _signalingConnected == false
                this.logger.log('Pending signaling connection');
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "ConnectSignalingAndIceCollectionState";
        }
    }]);
    return ConnectSignalingAndIceCollectionState;
}(RTCSessionState);

var InviteAnswerState = exports.InviteAnswerState = function (_RTCSessionState5) {
    (0, _inherits3.default)(InviteAnswerState, _RTCSessionState5);

    function InviteAnswerState(rtcSession, iceCandidates) {
        (0, _classCallCheck3.default)(this, InviteAnswerState);

        var _this5 = (0, _possibleConstructorReturn3.default)(this, (InviteAnswerState.__proto__ || Object.getPrototypeOf(InviteAnswerState)).call(this, rtcSession));

        _this5._iceCandidates = iceCandidates;
        return _this5;
    }

    (0, _createClass3.default)(InviteAnswerState, [{
        key: 'onEnter',
        value: function onEnter() {
            var rtcSession = this._rtcSession;
            rtcSession._onSignalingStarted(rtcSession);

            rtcSession._signalingChannel.invite(rtcSession._localSessionDescription.sdp, this._iceCandidates);
        }
    }, {
        key: 'onSignalingAnswered',
        value: function onSignalingAnswered(sdp, candidates, inactivityDuration, peerConnectionId, peerConnectionToken) {
            this._rtcSession._sessionReport.userBusyFailure = false;
            this._rtcSession._sessionReport.handshakingFailure = false;

            // signaling answered, set the inactivityDuration, peerConnectionId and peerConnectionToken
            if (this._rtcSession._pcm) {
                this._rtcSession._pcm.inactivityDuration = inactivityDuration;
                this._rtcSession._pcm.peerConnectionId = peerConnectionId;
                this._rtcSession._pcm.peerConnectionToken = peerConnectionToken;
            }

            this.transit(new AcceptState(this._rtcSession, sdp, candidates));
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            var reason;
            if (e.name == _exceptions.BusyExceptionName) {
                this.logger.error('User Busy, possibly multiple CCP windows open', e);
                this._rtcSession._sessionReport.userBusyFailure = true;
                this._rtcSession._sessionReport.handshakingFailure = true;
                reason = _rtc_const.RTC_ERRORS.USER_BUSY;
            } else if (e.name == _exceptions.CallNotFoundExceptionName) {
                this.logger.error('Call not found. One of the participant probably hungup.', e);
                reason = _rtc_const.RTC_ERRORS.CALL_NOT_FOUND;
                this._rtcSession._sessionReport.handshakingFailure = true;
            } else {
                this.logger.error('Failed handshaking with signaling server', e);
                this._rtcSession._sessionReport.userBusyFailure = false;
                this._rtcSession._sessionReport.handshakingFailure = true;
                reason = _rtc_const.RTC_ERRORS.SIGNALLING_HANDSHAKE_FAILURE;
            }
            this.transit(new FailedState(this._rtcSession, reason));
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            if (this._rtcSession._pcm) {
                this.transit(new FailedState(this._rtcSession, "Agent clicks hangs up"));
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "InviteAnswerState";
        }
    }]);
    return InviteAnswerState;
}(RTCSessionState);

var AcceptState = exports.AcceptState = function (_RTCSessionState6) {
    (0, _inherits3.default)(AcceptState, _RTCSessionState6);

    function AcceptState(rtcSession, sdp, candidates) {
        (0, _classCallCheck3.default)(this, AcceptState);

        var _this6 = (0, _possibleConstructorReturn3.default)(this, (AcceptState.__proto__ || Object.getPrototypeOf(AcceptState)).call(this, rtcSession));

        _this6._sdp = sdp;
        _this6._candidates = candidates;
        return _this6;
    }

    (0, _createClass3.default)(AcceptState, [{
        key: '_createSessionDescription',
        value: function _createSessionDescription(initDict) {
            return new RTCSessionDescription(initDict);
        }
    }, {
        key: '_createRemoteCandidate',
        value: function _createRemoteCandidate(initDict) {
            return new RTCIceCandidate(initDict);
        }
    }, {
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            var rtcSession = self._rtcSession;

            if (!self._sdp) {
                self.logger.error('Invalid remote SDP');
                rtcSession._stopSession();
                rtcSession._sessionReport.invalidRemoteSDPFailure = true;
                self.transit(new FailedState(rtcSession, _rtc_const.RTC_ERRORS.INVALID_REMOTE_SDP));
                return;
            } else if (!self._candidates || self._candidates.length < 1) {
                self.logger.error('No remote ICE candidate');
                rtcSession._stopSession();
                rtcSession._sessionReport.noRemoteIceCandidateFailure = true;
                self.transit(new FailedState(rtcSession, _rtc_const.RTC_ERRORS.NO_REMOTE_ICE_CANDIDATE));
                return;
            }

            rtcSession._sessionReport.invalidRemoteSDPFailure = false;
            rtcSession._sessionReport.noRemoteIceCandidateFailure = false;
            self._rtcSession._strategy.setRemoteDescription(self, rtcSession);
        }
    }, {
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            this._rtcSession._sessionReport.handshakingTimeMillis = Date.now() - this._rtcSession._signallingConnectTimestamp;
            this._signalingHandshaked = true;
            this._checkAndTransit();
        }
    }, {
        key: '_checkAndTransit',
        value: function _checkAndTransit() {
            if (this._signalingHandshaked && this._remoteDescriptionSet) {
                // when peerConnectionManager initialized and contactToken doesn't exist, rtcSession will move to DisconnectedState
                if (this._rtcSession._pcm && !this._rtcSession._contactToken) {
                    this._rtcSession._pcm._rtcSession = null;
                    this.transit(new DisconnectedState(this._rtcSession));
                } else {
                    this.transit(new TalkingState(this._rtcSession));
                }
            } else if (!this._signalingHandshaked) {
                this.logger.log('Pending handshaking');
            } else {
                //implies _remoteDescriptionSet == false
                this.logger.log('Pending setting remote description');
            }
        }
    }, {
        key: 'onPeerConnectionStateChange',
        value: function onPeerConnectionStateChange() {
            // do nothing
        }
    }, {
        key: 'name',
        get: function get() {
            return "AcceptState";
        }
    }]);
    return AcceptState;
}(RTCSessionState);

/**
 * ConnectContactState
 * when persistent peer connection is enabled for the agent, CCP reuses the existing signaling channel to send
 * ConnectContact request to AmazonConnect and connects the call.
 *
 */


var ConnectContactState = exports.ConnectContactState = function (_RTCSessionState7) {
    (0, _inherits3.default)(ConnectContactState, _RTCSessionState7);

    function ConnectContactState(rtcSession) {
        (0, _classCallCheck3.default)(this, ConnectContactState);
        return (0, _possibleConstructorReturn3.default)(this, (ConnectContactState.__proto__ || Object.getPrototypeOf(ConnectContactState)).call(this, rtcSession));
    }

    (0, _createClass3.default)(ConnectContactState, [{
        key: 'onEnter',
        value: function onEnter() {
            var rtcSession = this._rtcSession;
            var logger = this.logger;
            var self = this;
            rtcSession._sessionReport.isExistingPersistentPeerConnection = true;
            rtcSession._pcm._signalingChannel.connectContact();
            try {
                rtcSession._pcm._mediaStream = self._createMediaStream(rtcSession._pc.getSenders()[0].track);
                rtcSession._onLocalStreamAdded(rtcSession, rtcSession._pcm._mediaStream);
            } catch (error) {
                logger.error("[connectContact] Failed to get audio track from existing peer connection").withException(error);
            }
            this.transit(new TalkingState(this._rtcSession));

            // if the rtcSession is using UserProvidedStream, we do not override it
            if (rtcSession._isUserProvidedStream) {
                logger.log("Not resetting media stream as user provided stream is being used");
            } else {
                var sessionGumPromise = this._gUM(rtcSession._buildMediaConstraints());
                sessionGumPromise.then(function (newMicrophoneStream) {
                    try {
                        var newMicrophoneTrack = newMicrophoneStream.getAudioTracks()[0];
                        // Replace the audio track in the RtcPeerConnection
                        if (rtcSession._isUserProvidedStream) {
                            logger.log("Not resetting media stream as user provided stream was set after rtcJs GUM");
                        } else {
                            rtcSession._pc.getSenders()[0].replaceTrack(newMicrophoneTrack).then(function () {
                                rtcSession._pcm._mediaStream = self._createMediaStream(rtcSession._pc.getSenders()[0].track);
                                rtcSession._onLocalStreamAdded(rtcSession, rtcSession._pcm._mediaStream);
                                logger.log("[connectContact] Audio device set successfully and _onLocalStreamAdded triggered");
                            });
                        }
                    } catch (e) {
                        logger.error("[connectContact] Failed to update audio track for the peer connection").withException(e);
                        return;
                    }
                }).catch(function (e) {
                    logger.error("[connectContact] Failed to get microphone stream from getUserMedia").withException(e);
                    return;
                });
            }
        }
    }, {
        key: '_gUM',
        value: function _gUM(constraints) {
            return this._rtcSession._strategy._gUM(constraints);
        }
    }, {
        key: '_createMediaStream',
        value: function _createMediaStream(track) {
            return this._rtcSession._strategy._createMediaStream(track);
        }
    }, {
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            // do nothing
        }
    }, {
        key: 'name',
        get: function get() {
            return "ConnectContactState";
        }
    }]);
    return ConnectContactState;
}(RTCSessionState);

var TalkingState = exports.TalkingState = function (_RTCSessionState8) {
    (0, _inherits3.default)(TalkingState, _RTCSessionState8);

    function TalkingState() {
        (0, _classCallCheck3.default)(this, TalkingState);
        return (0, _possibleConstructorReturn3.default)(this, (TalkingState.__proto__ || Object.getPrototypeOf(TalkingState)).apply(this, arguments));
    }

    (0, _createClass3.default)(TalkingState, [{
        key: 'onEnter',
        value: function onEnter() {
            var _this9 = this;

            this._startTime = Date.now();
            this._rtcSession._sessionReport.preTalkingTimeMillis = this._startTime - this._rtcSession._connectTimeStamp;
            this._rtcSession._sessionReport.isMediaClusterPath = this._rtcSession._signalingChannel._isMediaClusterPath;
            this._rtcSession._sessionReport.isPersistentPeerConnection = !!(this._rtcSession._pcm && this._rtcSession._pcm.isPersistentConnectionEnabled());

            if (this._rtcSession._pcm) {
                // For persistnet connection, resume the local audio which was paused when the previous RtcSession was destroyed
                this._rtcSession.resumeLocalAudio();
            }
            this._rtcSession._onSessionConnected(this._rtcSession);

            // Calculate time taken to receive the first RTP packet
            var interval = void 0;
            var timeout = void 0;
            var getSynchronizationSourcesAndProcess = function () {
                var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                    var rtcRtpReceiver, synchronizationSources;
                    return _regenerator2.default.wrap(function _callee$(_context) {
                        while (1) {
                            switch (_context.prev = _context.next) {
                                case 0:
                                    if (_this9._rtcSession && _this9._rtcSession._pc && _this9._rtcSession._pc.getReceivers().length !== 0) {
                                        rtcRtpReceiver = _this9._rtcSession._pc.getReceivers()[0];

                                        if (rtcRtpReceiver instanceof RTCRtpReceiver) {
                                            synchronizationSources = rtcRtpReceiver.getSynchronizationSources();

                                            synchronizationSources.forEach(function (source) {
                                                var firstRTPTimeMillis = source.timestamp - _this9._rtcSession._connectTimeStamp;
                                                if (firstRTPTimeMillis > 0) {
                                                    _this9._rtcSession._sessionReport.firstRTPTimeMillis = firstRTPTimeMillis;
                                                }
                                                // We break out and stop checking for RTP packets as soon as we receive the first packet.
                                                clearInterval(interval);
                                                clearTimeout(timeout);
                                            });
                                        }
                                    }

                                case 1:
                                case 'end':
                                    return _context.stop();
                            }
                        }
                    }, _callee, _this9);
                }));

                return function getSynchronizationSourcesAndProcess() {
                    return _ref.apply(this, arguments);
                };
            }();
            // Set up timeout to stop the interval after 1 seconds
            timeout = setTimeout(function () {
                clearInterval(interval);
                console.log('Timeout reached, stopping the interval');
            }, 1000);

            interval = setInterval(getSynchronizationSourcesAndProcess, 20);
            this.setSubState(new _rtc_session_talking_substates.ConnectedSubstate(this._rtcSession));
        }
    }, {
        key: 'onSignalingReconnected',
        value: function onSignalingReconnected() {}

        /**
         * TODO: after upgrading eslint, use optional chaining
         *  const signalingChannel = this._rtcSession._pcm?._signalingChannel || this._rtcSession._signalingChannel;
         *         signalingChannel.hangup();
         */

    }, {
        key: 'onRemoteHungup',
        value: function onRemoteHungup() {
            if (this._rtcSession._pcm) {
                //Unreachable code.
                this._rtcSession._pcm._signalingChannel.hangup();
            } else {
                this._rtcSession._signalingChannel.hangup();
            }
            this.transit(new DisconnectedState(this._rtcSession));
        }

        /**
         * TODO: after upgrading eslint, use optional chaining
         *  const signalingChannel = this._rtcSession._pcm?._signalingChannel || this._rtcSession._signalingChannel;
         *         signalingChannel.hangup();
         */

    }, {
        key: 'hangup',
        value: function hangup() {
            if (this._rtcSession._pcm) {
                this._rtcSession._pcm._signalingChannel.hangup();
            } else {
                this._rtcSession._signalingChannel.hangup();
            }
            this.transit(new DisconnectedState(this._rtcSession));
        }
    }, {
        key: 'onIceStateChange',
        value: function onIceStateChange(evt) {
            var iceState = this._rtcSession._strategy.onIceStateChange(evt, this._rtcSession._pc);
            this.logger.info('ICE Connection State: ', iceState);

            if (this._subState && typeof this._subState.onIceStateChange === 'function') {
                this._subState.onIceStateChange(evt);
            }

            if (iceState == _rtc_const.ICE_CONNECTION_STATE.DISCONNECTED) {
                this.logger.info('Lost ICE connection');
                this._rtcSession._sessionReport.iceConnectionsLost += 1;
            }

            if (iceState == _rtc_const.ICE_CONNECTION_STATE.FAILED) {
                this._rtcSession._sessionReport.iceConnectionsFailed = true;
            }
        }
    }, {
        key: 'onSignalingConnected',
        value: function onSignalingConnected() {
            if (this._subState && typeof this._subState.onSignalingConnected === 'function') {
                this._subState.onSignalingConnected();
            }
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            if (this._subState && typeof this._subState.onSignalingFailed === 'function') {
                this._subState.onSignalingFailed(e);
            }
            var reason;
            if (e.name == _exceptions.AccessDeniedExceptionName) {
                this.logger.error('[TalkingState] Access Denied by server', e);
                this._rtcSession._sessionReport.handshakingFailure = true;
                reason = _rtc_const.RTC_ERRORS.SIGNALLING_HANDSHAKE_FAILURE;
                this.transit(new FailedState(this._rtcSession, reason));
            } else {
                this.logger.error('[TalkingState] Failed handshaking with signaling server', e);
            }
        }
    }, {
        key: 'onSignalingAnswered',
        value: function onSignalingAnswered(sdp, candidates) {
            if (this._subState && typeof this._subState.onSignalingAnswered === 'function') {
                this._subState.onSignalingAnswered(sdp, candidates);
            }
        }
    }, {
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            if (this._subState && typeof this._subState.onSignalingHandshaked === 'function') {
                this._subState.onSignalingHandshaked();
            }
        }
    }, {
        key: 'onIceCandidate',
        value: function onIceCandidate(evt) {
            if (this._subState && typeof this._subState.onIceCandidate === 'function') {
                this._subState.onIceCandidate(evt);
            }
        }
    }, {
        key: 'onIceRestartFailure',
        value: function onIceRestartFailure() {
            if (this._subState && typeof this._subState.onIceRestartFailure === 'function') {
                this._subState.onIceRestartFailure();
            }
        }
    }, {
        key: '_checkAndTransit',
        value: function _checkAndTransit() {
            if (this._subState && typeof this._subState._checkAndTransit === 'function') {
                this._subState._checkAndTransit();
            }
        }
    }, {
        key: 'setSubState',
        value: function setSubState(nextState) {
            this.logger.info('Substate: ' + (this._subState ? this._subState.name : 'null') + ' => ' + nextState.name);
            if (this._subState) {
                this._subState.onExit();
            }
            this._subState = nextState;
            this._subState.onEnter();
        }
    }, {
        key: 'onPeerConnectionStateChange',
        value: function onPeerConnectionStateChange() {
            var peerConnectionState = this._rtcSession._strategy.onPeerConnectionStateChange(this._rtcSession._pc);
            this.logger.info('Peer Connection State: ', peerConnectionState);

            if (peerConnectionState == _rtc_const.PEER_CONNECTION_STATE.FAILED) {
                this._rtcSession._sessionReport.peerConnectionFailed = true;
            }
        }
    }, {
        key: 'onExit',
        value: function onExit() {
            this._rtcSession._sessionReport.talkingTimeMillis = Date.now() - this._startTime;
            if (!this._rtcSession._pcm || !this._rtcSession._pcm.isPersistentConnectionEnabled()) {
                this._rtcSession._detachMedia();
            }
            this._rtcSession._sessionReport.sessionEndTime = new Date();
            this._rtcSession._onSessionCompleted(this._rtcSession);
            if (this._subState) {
                this._subState.onExit();
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "TalkingState";
        }
    }]);
    return TalkingState;
}(RTCSessionState);

var CleanUpState = exports.CleanUpState = function (_RTCSessionState9) {
    (0, _inherits3.default)(CleanUpState, _RTCSessionState9);

    function CleanUpState() {
        (0, _classCallCheck3.default)(this, CleanUpState);
        return (0, _possibleConstructorReturn3.default)(this, (CleanUpState.__proto__ || Object.getPrototypeOf(CleanUpState)).apply(this, arguments));
    }

    (0, _createClass3.default)(CleanUpState, [{
        key: 'onEnter',
        value: function onEnter() {
            if (this._rtcSession._pcm) {
                try {
                    // rtcSession._pcm._mediaStream would be out of sync if the audio device changed during the call
                    this._rtcSession._pcm._mediaStream = this._rtcSession._strategy._createMediaStream(this._rtcSession._pc.getSenders()[0].track);
                } catch (error) {
                    this.logger.error("Creating MediaStream error: ", error);
                }
                // For persistent connection, pause the local audio when we destroy the RtcSession, because we don't want to transmit any audio when agent is idle
                this._rtcSession.pauseLocalAudio();
            }
            this._startTime = Date.now();
            this._rtcSession._stopSession();
            this._rtcSession._sessionReport.cleanupTimeMillis = Date.now() - this._startTime;
            this._rtcSession._onSessionDestroyed(this._rtcSession, this._rtcSession._sessionReport);
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            //do nothing, already at the end of lifecycle
        }
    }, {
        key: 'name',
        get: function get() {
            return "CleanUpState";
        }
    }]);
    return CleanUpState;
}(RTCSessionState);

var DisconnectedState = exports.DisconnectedState = function (_CleanUpState) {
    (0, _inherits3.default)(DisconnectedState, _CleanUpState);

    function DisconnectedState() {
        (0, _classCallCheck3.default)(this, DisconnectedState);
        return (0, _possibleConstructorReturn3.default)(this, (DisconnectedState.__proto__ || Object.getPrototypeOf(DisconnectedState)).apply(this, arguments));
    }

    (0, _createClass3.default)(DisconnectedState, [{
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            // do nothing
        }
    }, {
        key: 'onPeerConnectionStateChange',
        value: function onPeerConnectionStateChange() {
            // do nothing
        }
    }, {
        key: 'name',
        get: function get() {
            return "DisconnectedState";
        }
    }]);
    return DisconnectedState;
}(CleanUpState);

var FailedState = exports.FailedState = function (_CleanUpState2) {
    (0, _inherits3.default)(FailedState, _CleanUpState2);

    function FailedState(rtcSession, failureReason) {
        (0, _classCallCheck3.default)(this, FailedState);

        var _this12 = (0, _possibleConstructorReturn3.default)(this, (FailedState.__proto__ || Object.getPrototypeOf(FailedState)).call(this, rtcSession));

        _this12._failureReason = failureReason;
        return _this12;
    }

    (0, _createClass3.default)(FailedState, [{
        key: 'onEnter',
        value: function onEnter() {
            this._rtcSession._sessionReport.sessionEndTime = new Date();
            this._rtcSession._onSessionFailed(this._rtcSession, this._failureReason);
            if (this._rtcSession._pcm) {
                this._rtcSession._pcm.destroy();
            }
            (0, _get3.default)(FailedState.prototype.__proto__ || Object.getPrototypeOf(FailedState.prototype), 'onEnter', this).call(this);
        }
    }, {
        key: 'name',
        get: function get() {
            return "FailedState";
        }
    }]);
    return FailedState;
}(CleanUpState);

var RtcSession = function () {
    /**
     * Build an AmazonConnect RTC session.
     * @param {string} signalingUri (optional, applies to CCPv1)
     * @param {*} iceServers Array of ice servers
     * @param {string} contactToken A string representing the contact token (optional)
     * @param {object} logger An object provides logging functions, such as console
     * @param {string} contactId Must be UUID, uniquely identifies the session.
     * @param {string} connectionId Refers to media leg id
     * @param {string} wssManager - websocket manager
     * @param {object} strategy - VDI strategy indicates which WebRTC SDK to use: standard, Citrix, WorkSpace
     * @param {Object} peerConnectionManager - refers to the peerConnectionManager object which manages rtcSession and peer connection
     */
    function RtcSession(signalingUri, iceServers, contactToken, logger, contactId, connectionId, wssManager) {
        var strategy = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : new _StandardStrategy2.default();
        var peerConnectionManager = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;
        (0, _classCallCheck3.default)(this, RtcSession);

        if (!(strategy instanceof _CCPInitiationStrategyInterface2.default)) {
            throw new Error('Expected a strategy of type CCPInitiationStrategyInterface');
        }
        // throw IllegalParameters error when signalingUri is missing and peer connection manager is not defined
        if (!peerConnectionManager && typeof signalingUri !== 'string' || signalingUri && signalingUri.trim().length === 0) {
            throw new _exceptions.IllegalParameters('signalingUri required');
        }
        if (!iceServers) {
            throw new _exceptions.IllegalParameters('iceServers required');
        }
        if ((typeof logger === 'undefined' ? 'undefined' : (0, _typeof3.default)(logger)) !== 'object') {
            throw new _exceptions.IllegalParameters('logger required');
        }
        if (!contactId) {
            this._callId = (0, _v2.default)();
        } else {
            this._callId = contactId;
        }
        this._strategy = strategy;
        this._connectionId = connectionId;
        this._wssManager = wssManager;
        this._sessionReport = new _session_report.SessionReport();
        this._signalingUri = signalingUri;
        this._iceServers = iceServers;
        this._contactToken = contactToken;
        this._originalLogger = logger;
        this._logger = (0, _utils.wrapLogger)(this._originalLogger, this._callId, 'SESSION');
        this._pcm = peerConnectionManager;
        this._iceTimeoutMillis = _rtc_const.DEFAULT_ICE_TIMEOUT_MS;
        this._gumTimeoutMillis = _rtc_const.DEFAULT_GUM_TIMEOUT_MS;

        this._enableAudio = true;
        this._enableVideo = false;
        this._facingMode = 'user';
        this._legacyStatsReportSupport = false;
        /**
         * user may provide the stream to the RtcSession directly to connect to the other end.
         * user may also acquire the stream from the local device.
         * This flag is used to track where the stream is acquired.
         * If it's acquired from local devices, then we must close the stream when the session ends.
         * If it's provided by user (rather than local camera/microphone), then we should leave it open when the
         * session ends.
         */
        this._isUserProvidedStream = false;

        this._onGumError = this._onGumSuccess = this._onLocalStreamAdded = this._onSessionFailed = this._onSessionInitialized = this._onSignalingConnected = this._onIceCollectionComplete = this._onSignalingStarted = this._onSessionConnected = this._onRemoteStreamAdded = this._onSessionCompleted = this._onSessionDestroyed = function () {};
    }

    (0, _createClass3.default)(RtcSession, [{
        key: 'pauseLocalVideo',
        value: function pauseLocalVideo() {
            if (this._localStream) {
                var videoTrack = this._localStream.getVideoTracks()[0];
                if (videoTrack) {
                    videoTrack.enabled = false;
                }
            }
        }
    }, {
        key: 'resumeLocalVideo',
        value: function resumeLocalVideo() {
            if (this._localStream) {
                var videoTrack = this._localStream.getVideoTracks()[0];
                if (videoTrack) {
                    videoTrack.enabled = true;
                }
            }
        }
    }, {
        key: 'pauseRemoteVideo',
        value: function pauseRemoteVideo() {
            if (this._remoteVideoStream) {
                var videoTrack = this._remoteVideoStream.getTracks()[1];
                if (videoTrack) {
                    videoTrack.enabled = false;
                }
            }
        }
    }, {
        key: 'resumeRemoteVideo',
        value: function resumeRemoteVideo() {
            if (this._remoteVideoStream) {
                var videoTrack = this._remoteVideoStream.getTracks()[1];
                if (videoTrack) {
                    videoTrack.enabled = true;
                }
            }
        }

        /**
         * TODO: fix eslint version to use optional chaining
         * const audioTrack = this._pcm?._mediaStream?.getAudioTracks()[0] || this._localStream?.getAudioTracks()[0];
         *     if (audioTrack) {
         *         audioTrack.enabled = false;
         *     }
         */

    }, {
        key: 'pauseLocalAudio',
        value: function pauseLocalAudio() {
            var audioTrack;
            if (this._pcm) {
                if (this._pcm._mediaStream) {
                    audioTrack = this._pcm._mediaStream.getAudioTracks()[0];
                    if (audioTrack) {
                        audioTrack.enabled = false;
                    }
                }
            } else {
                if (this._localStream) {
                    audioTrack = this._localStream.getAudioTracks()[0];
                    if (audioTrack) {
                        audioTrack.enabled = false;
                    }
                }
            }
        }

        /**
         * TODO: fix eslint version to use optional chaining
         * const audioTrack = this._pcm?._mediaStream?.getAudioTracks()[0] || this._localStream?.getAudioTracks()[0];
         *     if (audioTrack) {
         *         audioTrack.enabled = true;
         *     }
         */

    }, {
        key: 'resumeLocalAudio',
        value: function resumeLocalAudio() {
            var audioTrack;
            if (this._pcm) {
                if (this._pcm._mediaStream) {
                    audioTrack = this._pcm._mediaStream.getAudioTracks()[0];
                    if (audioTrack) {
                        audioTrack.enabled = true;
                    }
                }
            } else {
                if (this._localStream) {
                    audioTrack = this._localStream.getAudioTracks()[0];
                    if (audioTrack) {
                        audioTrack.enabled = true;
                    }
                }
            }
        }
    }, {
        key: 'pauseRemoteAudio',
        value: function pauseRemoteAudio() {
            if (this._remoteAudioStream) {
                var audioTrack = this._remoteAudioStream.getTracks()[0];
                if (audioTrack) {
                    audioTrack.enabled = false;
                }
            }
        }
    }, {
        key: 'resumeRemoteAudio',
        value: function resumeRemoteAudio() {
            if (this._remoteAudioStream) {
                var audioTrack = this._remoteAudioStream.getTracks()[0];
                if (audioTrack) {
                    audioTrack.enabled = true;
                }
            }
        }
        /**
         * Callback when gUM succeeds.
         * First param is RtcSession object.
         */

    }, {
        key: 'transit',
        value: function transit(nextState) {
            try {
                this._logger.info((this._state ? this._state.name : 'null') + ' => ' + nextState.name);
                if (this._state && this._state.onExit) {
                    this._state.onExit();
                }
            } finally {
                this._state = nextState;
                if (nextState.onEnter) {
                    try {
                        nextState.onEnter();
                    } catch (e) {
                        this._logger.warn(nextState.name + '#onEnter failed', e);
                        throw e; // eslint-disable-line no-unsafe-finally
                    }
                }
            }
        }
    }, {
        key: '_createSignalingChannel',
        value: function _createSignalingChannel() {
            var signalingChannel = new _signaling2.default(this._callId, this._signalingUri, this._contactToken, this._originalLogger, this._signalingConnectTimeout, this._connectionId, this._wssManager, this._iceRestart, this._pcm);
            signalingChannel.onConnected = (0, _utils.hitch)(this, this._signalingConnected);
            signalingChannel.onAnswered = (0, _utils.hitch)(this, this._signalingAnswered);
            signalingChannel.onHandshaked = (0, _utils.hitch)(this, this._signalingHandshaked);
            signalingChannel.onRemoteHungup = (0, _utils.hitch)(this, this._signalingRemoteHungup);
            signalingChannel.onFailed = (0, _utils.hitch)(this, this._signalingFailed);
            signalingChannel.onDisconnected = (0, _utils.hitch)(this, this._signalingDisconnected);

            this._signalingChannel = signalingChannel;
            if (this._pcm) {
                this._pcm._signalingChannel = signalingChannel;
            }
            return signalingChannel;
        }
    }, {
        key: '_bindSignalingChannel',
        value: function _bindSignalingChannel() {
            var signalingChannel = this._pcm._signalingChannel;
            signalingChannel.onConnected = (0, _utils.hitch)(this, this._signalingConnected);
            signalingChannel.onAnswered = (0, _utils.hitch)(this, this._signalingAnswered);
            signalingChannel.onHandshaked = (0, _utils.hitch)(this, this._signalingHandshaked);
            signalingChannel.onRemoteHungup = (0, _utils.hitch)(this, this._signalingRemoteHungup);
            signalingChannel.onFailed = (0, _utils.hitch)(this, this._signalingFailed);
            signalingChannel.onDisconnected = (0, _utils.hitch)(this, this._signalingDisconnected);

            this._signalingChannel = signalingChannel;
            return signalingChannel;
        }
    }, {
        key: '_signalingConnected',
        value: function _signalingConnected() {
            this._state.onSignalingConnected();
        }
    }, {
        key: '_signalingAnswered',
        value: function _signalingAnswered(sdp, candidates, inactivityDuration, peerConnectionId, peerConnectionToken) {
            this._state.onSignalingAnswered(sdp, candidates, inactivityDuration, peerConnectionId, peerConnectionToken);
        }
    }, {
        key: '_signalingHandshaked',
        value: function _signalingHandshaked() {
            this._state.onSignalingHandshaked();
        }
    }, {
        key: '_signalingRemoteHungup',
        value: function _signalingRemoteHungup() {
            this._state.onRemoteHungup();
        }
    }, {
        key: '_signalingFailed',
        value: function _signalingFailed(e) {
            this._state.onSignalingFailed(e);
        }
    }, {
        key: '_signalingDisconnected',
        value: function _signalingDisconnected() {}
    }, {
        key: '_createPeerConnection',
        value: function _createPeerConnection(configuration, optionalConfiguration) {
            return this._strategy._createPeerConnection(configuration, optionalConfiguration);
        }
    }, {
        key: 'connect',
        value: function connect(pc) {
            var self = this;
            var now = new Date();
            self._sessionReport.sessionStartTime = now;
            self._connectTimeStamp = now.getTime();
            if (pc && pc.signalingState != 'closed') {
                self._pc = pc;
            } else {
                if (pc) {
                    pc.close();
                    pc = null;
                }
                _rtc_const.RTC_PEER_CONNECTION_CONFIG.iceServers = self._iceServers;
                _rtc_const.RTC_PEER_CONNECTION_CONFIG.iceCandidatePoolSize = _rtc_const.DEFAULT_ICE_CANDIDATE_POOL_SIZE;
                self._pc = self._createPeerConnection(_rtc_const.RTC_PEER_CONNECTION_CONFIG, _rtc_const.RTC_PEER_CONNECTION_OPTIONAL_CONFIG);
            }
            self._pc.ontrack = (0, _utils.hitch)(self, self._ontrack);
            self._pc.onicecandidate = (0, _utils.hitch)(self, self._onIceCandidate);
            self._pc.onconnectionstatechange = (0, _utils.hitch)(self, self._onPeerConnectionStateChange);
            self._pc.oniceconnectionstatechange = (0, _utils.hitch)(self, self._onIceStateChange);

            // PersistentConnection enabled transit to ConnectContactState
            if (self._pcm && self._pcm.isPersistentConnectionEnabled() && self._pcm._signalingChannel) {
                self._bindSignalingChannel(); // binding the existing signaling channel
                self.transit(new ConnectContactState(self));
            } else {
                self.transit(new GrabLocalMediaState(self));
            }
        }
    }, {
        key: 'accept',
        value: function accept() {
            throw new _exceptions.UnsupportedOperation('accept does not go through signaling channel at this moment');
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this._state.hangup();
        }

        /**
         * Get a promise containing an object with two named lists of audio stats, one for each channel on each
         * media type of 'video' and 'audio'.
         * @return Rejected promise if failed to get MediaRtpStats. The promise is never resolved with null value.
         */

    }, {
        key: 'getStats',
        value: function () {
            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
                var _this13 = this;

                var timestamp, getStatsForType, audioInputStats, audioOutputStats;
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                    while (1) {
                        switch (_context3.prev = _context3.next) {
                            case 0:
                                timestamp = new Date();

                                getStatsForType = function () {
                                    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(streamType) {
                                        var rawStats;
                                        return _regenerator2.default.wrap(function _callee2$(_context2) {
                                            while (1) {
                                                switch (_context2.prev = _context2.next) {
                                                    case 0:
                                                        _context2.next = 2;
                                                        return _this13._pc.getStats();

                                                    case 2:
                                                        rawStats = _context2.sent;
                                                        return _context2.abrupt('return', (0, _rtpStats.extractMediaStatsFromStats)(timestamp, rawStats, streamType));

                                                    case 4:
                                                    case 'end':
                                                        return _context2.stop();
                                                }
                                            }
                                        }, _callee2, _this13);
                                    }));

                                    return function getStatsForType(_x3) {
                                        return _ref3.apply(this, arguments);
                                    };
                                }();

                                if (!(this._pc && this._pc.signalingState === 'stable')) {
                                    _context3.next = 13;
                                    break;
                                }

                                _context3.next = 5;
                                return getStatsForType('audio_input');

                            case 5:
                                audioInputStats = _context3.sent;
                                _context3.next = 8;
                                return getStatsForType('audio_output');

                            case 8:
                                audioOutputStats = _context3.sent;


                                // For consistency's sake, coalesce rttMilliseconds into the output for audio
                                if (audioInputStats && audioInputStats.rttMilliseconds !== null) {
                                    audioOutputStats._rttMilliseconds = audioInputStats.rttMilliseconds;
                                }

                                return _context3.abrupt('return', {
                                    audioInputStats: audioInputStats,
                                    audioOutputStats: audioOutputStats
                                });

                            case 13:
                                return _context3.abrupt('return', Promise.reject(new _exceptions.IllegalState()));

                            case 14:
                            case 'end':
                                return _context3.stop();
                        }
                    }
                }, _callee3, this);
            }));

            function getStats() {
                return _ref2.apply(this, arguments);
            }

            return getStats;
        }()

        /**
         * Get a promise of MediaRtpStats object for remote audio (from Amazon Connect to client).
         * @return Rejected promise if failed to get MediaRtpStats. The promise is never resolved with null value.
         * @deprecated in favor of getStats()
         */

    }, {
        key: 'getRemoteAudioStats',
        value: function getRemoteAudioStats() {
            return this.getStats().then(function (stats) {
                if (stats.audioOutputStats) {
                    return stats.audioOutputStats;
                } else {
                    return Promise.reject(new _exceptions.IllegalState());
                }
            });
        }

        /**
         * Get a promise of MediaRtpStats object for user audio (from client to Amazon Connect).
         * @return Rejected promise if failed to get MediaRtpStats. The promise is never resolved with null value.
         * @deprecated in favor of getStats()
         */

    }, {
        key: 'getUserAudioStats',
        value: function getUserAudioStats() {
            return this.getStats().then(function (stats) {
                if (stats.audioInputStats) {
                    return stats.audioInputStats;
                } else {
                    return Promise.reject(new _exceptions.IllegalState());
                }
            });
        }
    }, {
        key: '_onIceCandidate',
        value: function _onIceCandidate(evt) {
            this._state.onIceCandidate(evt);
        }
    }, {
        key: '_onPeerConnectionStateChange',
        value: function _onPeerConnectionStateChange() {
            this._state.onPeerConnectionStateChange();
        }
    }, {
        key: '_onIceStateChange',
        value: function _onIceStateChange(evt) {
            this._state.onIceStateChange(evt);
        }

        /**
         * Attach remote media stream to web element.
         */

    }, {
        key: '_ontrack',
        value: function _ontrack(evt) {
            this._strategy._ontrack(this, evt);
            this._onRemoteStreamAdded(this, evt.streams[0]);
        }
    }, {
        key: '_detachMedia',
        value: function _detachMedia() {
            if (this._remoteVideoElement) {
                this._remoteVideoElement.srcObject = null;
            }
            if (this._remoteAudioElement) {
                this._remoteAudioElement.srcObject = null;
                this._remoteAudioStream = null;
            }
        }
    }, {
        key: '_stopSession',
        value: function _stopSession() {
            // When peerConnectionManager does not exist or PersistentConnection flag if false, we will close local  media stream
            if (!this._pcm || !this._pcm.isPersistentConnectionEnabled()) {
                try {
                    if (this._localStream && !this._isUserProvidedStream) {
                        (0, _utils.closeStream)(this._localStream);
                        this._localStream = null;
                        this._isUserProvidedStream = false;
                    }
                } finally {
                    try {
                        if (this._pc) {
                            this._pc.close();
                        }
                    } catch (e) {
                        // eat exception
                    } finally {
                        this._pc = null;
                    }
                }
            }
        }
    }, {
        key: '_buildMediaConstraints',
        value: function _buildMediaConstraints() {
            var self = this;
            var mediaConstraints = {};

            self._strategy._buildMediaConstraints(self, mediaConstraints);

            if (self._enableVideo) {
                var videoConstraints = {};
                var widthConstraints = {};
                var heightConstraints = {};
                var frameRateConstraints = {};

                //build video width constraints
                if (typeof self._idealVideoWidth !== 'undefined') {
                    widthConstraints.ideal = self._idealVideoWidth;
                }
                if (typeof self._maxVideoWidth !== 'undefined') {
                    widthConstraints.max = self._maxVideoWidth;
                }
                if (typeof self._minVideoWidth !== 'undefined') {
                    widthConstraints.min = self._minVideoWidth;
                }
                // build video height constraints
                if (typeof self._idealVideoHeight !== 'undefined') {
                    heightConstraints.ideal = self._idealVideoHeight;
                }
                if (typeof self._maxVideoHeight !== 'undefined') {
                    heightConstraints.max = self._maxVideoHeight;
                }
                if (typeof self._minVideoHeight !== 'undefined') {
                    heightConstraints.min = self._minVideoHeight;
                }
                if (Object.keys(widthConstraints).length > 0 && Object.keys(heightConstraints).length > 0) {
                    videoConstraints.width = widthConstraints;
                    videoConstraints.height = heightConstraints;
                }
                // build frame rate constraints
                if (typeof self._videoFrameRate !== 'undefined') {
                    frameRateConstraints.ideal = self._videoFrameRate;
                }
                if (typeof self._minVideoFrameRate !== 'undefined') {
                    frameRateConstraints.min = self._minVideoFrameRate;
                }
                if (typeof self._maxVideoFrameRate !== 'undefined') {
                    frameRateConstraints.max = self._maxVideoFrameRate;
                }
                if (Object.keys(frameRateConstraints).length > 0) {
                    videoConstraints.frameRate = frameRateConstraints;
                }

                // build facing mode constraints
                if (self._facingMode !== 'user' && self._facingMode !== "environment") {
                    self._facingMode = 'user';
                }
                videoConstraints.facingMode = self._facingMode;

                // set video constraints
                if (Object.keys(videoConstraints).length > 0) {
                    mediaConstraints.video = videoConstraints;
                } else {
                    mediaConstraints.video = true;
                }
            }

            return mediaConstraints;
        }
    }, {
        key: 'sessionReport',
        get: function get() {
            return this._sessionReport;
        }
    }, {
        key: 'callId',
        get: function get() {
            return this._callId;
        }
        /**
         * getMediaStream returns the local stream, which may be acquired from local device or from user provided stream.
         * Rather than getting a stream by calling getUserMedia (which gets a stream from local device such as camera),
         * user could also provide the stream to the RtcSession directly to connect to the other end.
         */

    }, {
        key: 'mediaStream',
        get: function get() {
            return this._localStream;
        },

        /**
         * Optional. RtcSession will grab input device if this is not specified.
         * Please note: this RtcSession class only support single audio track and/or single video track.
         */
        set: function set(input) {
            this._localStream = input;
            if (this._pcm) {
                this._pcm._mediaStream = input;
            }
            this._isUserProvidedStream = true;
        }
        /**
         * Needed, expect an audio element that can be used to play remote audio stream.
         */

    }, {
        key: 'remoteVideoStream',
        get: function get() {
            return this._remoteVideoStream;
        }
    }, {
        key: 'onGumSuccess',
        set: function set(handler) {
            this._onGumSuccess = handler;
        }
        /**
         * Callback when gUM fails.
         * First param is RtcSession object.
         * Second param is the error.
         */

    }, {
        key: 'onGumError',
        set: function set(handler) {
            this._onGumError = handler;
        }
        /**
         * Callback if failed initializing local resources
         * First param is RtcSession object.
         */

    }, {
        key: 'onSessionFailed',
        set: function set(handler) {
            this._onSessionFailed = handler;
        }
        /**
         * Callback after local user media stream is added to the session.
         * First param is RtcSession object.
         * Second param is media stream
         */

    }, {
        key: 'onLocalStreamAdded',
        set: function set(handler) {
            this._onLocalStreamAdded = handler;
        }
        /**
         * Callback when all local resources are ready. Establishing signaling chanel and ICE collection happens at the same time after this.
         * First param is RtcSession object.
         */

    }, {
        key: 'onSessionInitialized',
        set: function set(handler) {
            this._onSessionInitialized = handler;
        }
        /**
         * Callback when signaling channel is established.
         * RTC session will move forward only if onSignalingConnected and onIceCollectionComplete are both called.
         *
         * First param is RtcSession object.
         */

    }, {
        key: 'onSignalingConnected',
        set: function set(handler) {
            this._onSignalingConnected = handler;
        }
        /**
         * Callback when ICE collection completes either because there is no more candidate or collection timed out.
         * RTC session will move forward only if onSignalingConnected and onIceCollectionComplete are both called.
         *
         * First param is RtcSession object.
         * Second param is boolean, TRUE - ICE collection timed out.
         * Third param is number of candidates collected.
         */

    }, {
        key: 'onIceCollectionComplete',
        set: function set(handler) {
            this._onIceCollectionComplete = handler;
        }
        /**
         * Callback when signaling channel is established and ICE collection completed with at least one candidate.
         * First param is RtcSession object.
         */

    }, {
        key: 'onSignalingStarted',
        set: function set(handler) {
            this._onSignalingStarted = handler;
        }
        /**
         * Callback when the call is established (handshaked and media stream should be flowing)
         * First param is RtcSession object.
         */

    }, {
        key: 'onSessionConnected',
        set: function set(handler) {
            this._onSessionConnected = handler;
        }
        /**
         * Callback after remote media stream is added to the session.
         * This could be called multiple times with the same stream if multiple tracks are included in the same stream.
         *
         * First param is RtcSession object.
         * Second param is media stream track.
         */

    }, {
        key: 'onRemoteStreamAdded',
        set: function set(handler) {
            this._onRemoteStreamAdded = handler;
        }
        /**
         * Callback when the hangup is initiated (implies the call was successfully established).
         * First param is RtcSession object.
         */

    }, {
        key: 'onSessionCompleted',
        set: function set(handler) {
            this._onSessionCompleted = handler;
        }
        /**
         * Callback after session is cleaned up, no matter if the call was successfully established or not.
         * First param is RtcSession object.
         * Second param is SessionReport object.
         */

    }, {
        key: 'onSessionDestroyed',
        set: function set(handler) {
            this._onSessionDestroyed = handler;
        }
    }, {
        key: 'enableAudio',
        set: function set(flag) {
            this._enableAudio = flag;
        }
    }, {
        key: 'echoCancellation',
        set: function set(flag) {
            this._echoCancellation = flag;
        }
    }, {
        key: 'enableVideo',
        set: function set(flag) {
            this._enableVideo = flag;
        }
    }, {
        key: 'maxVideoFrameRate',
        set: function set(frameRate) {
            this._maxVideoFrameRate = frameRate;
        }
    }, {
        key: 'minVideoFrameRate',
        set: function set(frameRate) {
            this._minVideoFrameRate = frameRate;
        }
    }, {
        key: 'videoFrameRate',
        set: function set(frameRate) {
            this._videoFrameRate = frameRate;
        }
    }, {
        key: 'maxVideoWidth',
        set: function set(width) {
            this._maxVideoWidth = width;
        }
    }, {
        key: 'minVideoWidth',
        set: function set(width) {
            this._minVideoWidth = width;
        }
    }, {
        key: 'idealVideoWidth',
        set: function set(width) {
            this._idealVideoWidth = width;
        }
    }, {
        key: 'maxVideoHeight',
        set: function set(height) {
            this._maxVideoHeight = height;
        }
    }, {
        key: 'minVideoHeight',
        set: function set(height) {
            this._minVideoHeight = height;
        }
    }, {
        key: 'idealVideoHeight',
        set: function set(height) {
            this._idealVideoHeight = height;
        }
    }, {
        key: 'facingMode',
        set: function set(mode) {
            this._facingMode = mode;
        }
    }, {
        key: 'remoteAudioElement',
        set: function set(element) {
            this._remoteAudioElement = element;
        }
    }, {
        key: 'remoteVideoElement',
        set: function set(element) {
            this._remoteVideoElement = element;
        }
        /**
         * Override the default signaling connect time out.
         */

    }, {
        key: 'signalingConnectTimeout',
        set: function set(ms) {
            this._signalingConnectTimeout = ms;
        }
        /**
         * Override the default ICE collection time limit.
         */

    }, {
        key: 'iceTimeoutMillis',
        set: function set(timeoutMillis) {
            this._iceTimeoutMillis = timeoutMillis;
        }
        /**
         * Override the default GUM timeout time limit.
         */

    }, {
        key: 'gumTimeoutMillis',
        set: function set(timeoutMillis) {
            this._gumTimeoutMillis = timeoutMillis;
        }
        /**
         * connect-rtc-js initiate the handshaking with all browser supported codec by default, Amazon Connect service will choose the codec according to its preference setting.
         * Setting this attribute will force connect-rtc-js to only use specified codec.
         * WARNING: Setting this to unsupported codec will cause the failure of handshaking.
         * Supported audio codecs: opus.
         */

    }, {
        key: 'forceAudioCodec',
        set: function set(audioCodec) {
            this._forceAudioCodec = audioCodec;
        }

        /**
         * connect-rtc-js initiate the handshaking with all browser supported codec by default, Amazon Connect service will choose the codec according to its preference setting.
         * Setting this attribute will force connect-rtc-js to only use specified codec.
         * WARNING: Setting this to unsupported codec will cause the failure of handshaking.
         * Supported video codecs: VP8, VP9, H264.
         */

    }, {
        key: 'forceVideoCodec',
        set: function set(videoCodec) {
            this._forceVideoCodec = videoCodec;
        }

        /**
         * connect-rtc-js disables OPUS DTX by default because it harms audio quality.
         * @param flag boolean
         */

    }, {
        key: 'enableOpusDtx',
        set: function set(flag) {
            this._enableOpusDtx = flag;
        }
    }]);
    return RtcSession;
}();

exports.default = RtcSession;

},{"./exceptions":152,"./rtc_const":153,"./rtc_session_talking_substates":157,"./rtp-stats":158,"./session_report":159,"./signaling":160,"./strategies/CCPInitiationStrategyInterface":161,"./strategies/StandardStrategy":165,"./utils":167,"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/get":19,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21,"babel-runtime/helpers/typeof":24,"babel-runtime/regenerator":27,"sdp":133,"uuid/v4":137}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AcceptSubstate = exports.InviteAnswerSubstate = exports.ConnectSignalingAndIceCollectionSubstate = exports.SetLocalSessionDescriptionSubstate = exports.IceRestartSubstate = exports.ConnectedSubstate = undefined;

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _rtc_const = require('./rtc_const');

var _utils = require('./utils');

var _exceptions = require('./exceptions');

var _sdp = require('sdp');

var _signaling = require('./signaling');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ConnectedSubstate is the default substate of the rtcSession talking state
 * It monitors the peer connection ICE connection state and attempts to reconnect if disconnected.
 * If the ICE connection state changes to 'DISCONNECTED' more than 3 seconds, it triggers an ICE restart.
 */

var ConnectedSubstate = exports.ConnectedSubstate = function () {
    (0, _createClass3.default)(ConnectedSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function ConnectedSubstate(rtcSession) {
        (0, _classCallCheck3.default)(this, ConnectedSubstate);

        this._rtcSession = rtcSession;
        this.retryInterval = 3000; // Retry interval set to 3 seconds
    }

    (0, _createClass3.default)(ConnectedSubstate, [{
        key: 'onEnter',
        value: function onEnter() {}
        // onIceStateChange will be invoked when peer connection Ice Connection state change

    }, {
        key: 'onIceStateChange',
        value: function onIceStateChange(evt) {
            var _this = this;

            var iceState = this._rtcSession._strategy.onIceStateChange(evt, this._rtcSession._pc);
            this.logger.info('ICE Connection State: ', iceState);

            if (iceState == _rtc_const.ICE_CONNECTION_STATE.DISCONNECTED) {
                // Check if the rtcSession supports ICE restart
                if (this._rtcSession._pcm && this._rtcSession._pcm._peerConnectionToken) {
                    this.logger.info('Detected Lost ICE connection, pending IceRestart');
                    this.IceRestartTimeoutId = setTimeout(function () {
                        if (_this._rtcSession._pc.iceConnectionState === _rtc_const.ICE_CONNECTION_STATE.DISCONNECTED) {
                            _this.logger.info('Trying to restart ICE connection');
                            _this._rtcSession._sessionReport.iceRestartAttempts += 1;
                            _this._rtcSession._state.setSubState(new IceRestartSubstate(_this._rtcSession));
                        } else {
                            _this.logger.info('The network recovered, IceRestart cancelled');
                        }
                    }, this.retryInterval);
                } else {
                    this.logger.info('Detected Lost ICE connection, IceRestart not supported');
                }
            }
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            if (this._rtcSession._pcm && this._rtcSession._pcm._peerConnectionToken) {
                if (e.name === _exceptions.BadRequestExceptionName && e.message.includes("Stale Peer Connection")) {
                    this.logger.error('Server detect peer connection being unhealthy, performing IceRestart', e);
                    this._rtcSession._sessionReport.iceRestartAttempts += 1;
                    this._rtcSession._state.setSubState(new IceRestartSubstate(this._rtcSession));
                }
            } else {
                this.logger.info('Server detect peer connection being unhealthy, IceRestart not supported');
            }
        }
    }, {
        key: 'onExit',
        value: function onExit() {
            if (this.IceRestartTimeoutId) {
                this.logger.info('Exiting, cleaning up IceRestart timeout');
                clearTimeout(this.IceRestartTimeoutId);
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "ConnectedSubstate";
        }
    }]);
    return ConnectedSubstate;
}();

/**
 * IceRestartSubstate manages the process of requesting ICE access and initiating an ICE restart.
 * It attempts to restart the ICE connection without retrying on failure.
 *
 * Possible failures include:
 *
 * 1. The `_requestIceAccess` API call fails due to the network not recovering within approximately 13 seconds.
 *    This is calculated based on the time from network loss to ICE connection failure (around 10 seconds),
 *    plus the 3-second `retryInterval` in the `ConnectedSubState`.
 *
 * 2. The `_requestIceAccess` API call is throttled.
 *
 * In case of failure, the ICE restart process is not retried, and the state transitions back to connected sub state
 */


var IceRestartSubstate = exports.IceRestartSubstate = function () {
    (0, _createClass3.default)(IceRestartSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function IceRestartSubstate(rtcSession) {
        (0, _classCallCheck3.default)(this, IceRestartSubstate);

        this._rtcSession = rtcSession;
    }

    (0, _createClass3.default)(IceRestartSubstate, [{
        key: 'onEnter',
        value: function onEnter() {
            this.performIceRestart();
        }
    }, {
        key: 'performIceRestart',
        value: function performIceRestart() {
            var _this2 = this;

            this._rtcSession._pcm._iceRestart = true;
            this._rtcSession._pcm._requestIceAccess().then(function (response) {
                var rtcPeerConnectionConfig = JSON.parse(JSON.stringify(_rtc_const.RTC_PEER_CONNECTION_CONFIG));
                rtcPeerConnectionConfig.iceServers = response;
                rtcPeerConnectionConfig.iceCandidatePoolSize = _rtc_const.DEFAULT_ICE_CANDIDATE_POOL_SIZE;
                _this2._rtcSession._pc.setConfiguration(rtcPeerConnectionConfig);
                return _this2._rtcSession._pc.createOffer({ iceRestart: true });
            }).then(function (rtcSessionDescription) {
                _this2._rtcSession._localSessionDescription = rtcSessionDescription;
                _this2.logger.info("ICE restart offer created and set as local description");
                _this2._rtcSession._state.setSubState(new SetLocalSessionDescriptionSubstate(_this2._rtcSession));
            }).catch(function (error) {
                _this2.logger.error("ICE restart failed", error);
                _this2._rtcSession._state.setSubState(new ConnectedSubstate(_this2._rtcSession));
            });
        }
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: 'name',
        get: function get() {
            return "IceRestartSubstate";
        }
    }]);
    return IceRestartSubstate;
}();

var SetLocalSessionDescriptionSubstate = exports.SetLocalSessionDescriptionSubstate = function () {
    (0, _createClass3.default)(SetLocalSessionDescriptionSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function SetLocalSessionDescriptionSubstate(rtcSession) {
        (0, _classCallCheck3.default)(this, SetLocalSessionDescriptionSubstate);

        this._rtcSession = rtcSession;
    }

    (0, _createClass3.default)(SetLocalSessionDescriptionSubstate, [{
        key: 'onEnter',
        value: function onEnter() {
            var _this3 = this;

            var localDescription = this._rtcSession._localSessionDescription;
            var sdpOptions = new _utils.SdpOptions();
            sdpOptions.enableOpusDtx = this._rtcSession._enableOpusDtx;

            var transformedSdp = (0, _utils.transformSdp)(localDescription.sdp, sdpOptions);
            localDescription.sdp = transformedSdp.sdp;
            localDescription.sdp += 'a=ptime:20\r\n';
            localDescription.sdp += 'a=maxptime:20\r\n';
            localDescription.sdp = localDescription.sdp.replace("minptime=10", "minptime=20");

            this.logger.info('LocalSD', this._rtcSession._localSessionDescription);

            this._rtcSession._pc.setLocalDescription(this._rtcSession._localSessionDescription).then(function () {
                _this3.logger.info("Local description set successfully");
                _this3._rtcSession._state.setSubState(new ConnectSignalingAndIceCollectionSubstate(_this3._rtcSession, transformedSdp.mLines));
            }).catch(function (error) {
                _this3.logger.error("Failed to set local description", error);
                _this3._rtcSession._state.setSubState(new ConnectedSubstate(_this3._rtcSession));
            });
        }
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: 'name',
        get: function get() {
            return "SetLocalSessionDescriptionSubstate";
        }
    }]);
    return SetLocalSessionDescriptionSubstate;
}();

/**
 * ConnectSignalingAndIceCollectionSubstate manages the signaling connection and ICE candidate collection.
 * It performs the following tasks:
 *
 * 1. Binds the RTCSession's signaling channel to the peer connection manager's signaling channel,
 *
 * 2. Collects ICE candidates and monitors for sufficient candidates to proceed with the ICE restart.
 *
 * 3. Transitions to the next state (InviteAnswerSubstate) upon successful ICE candidate collection.
 *    If no ICE candidates are collected, it transitions to the ConnectedSubstate and reports an ICE
 *    collection failure.
 *
 * 4. Sets a timeout for ICE collection to handle cases where the ICE gathering process gets stuck.
 */


var ConnectSignalingAndIceCollectionSubstate = exports.ConnectSignalingAndIceCollectionSubstate = function () {
    (0, _createClass3.default)(ConnectSignalingAndIceCollectionSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function ConnectSignalingAndIceCollectionSubstate(rtcSession, mLines) {
        (0, _classCallCheck3.default)(this, ConnectSignalingAndIceCollectionSubstate);

        this._rtcSession = rtcSession;
        this._iceCandidates = [];
        this._iceCandidateFoundationsMap = {};
        this._mLines = mLines;
        this._iceCompletedForIceRestart = false;

        // As the peer connection manager is enabled, the RTCSession is created without a signaling channel.
        // To utilize the existing signaling state machine for SDP exchange, the RTCSession's signaling channel
        // is bound to the peer connection manager's signaling channel.
        this._rtcSession._bindSignalingChannel();
    }

    (0, _createClass3.default)(ConnectSignalingAndIceCollectionSubstate, [{
        key: 'onEnter',
        value: function onEnter() {
            var _this4 = this;

            setTimeout(function () {
                if (_this4._isCurrentState() && !_this4._iceCompletedForIceRestart) {
                    _this4.logger.warn('ICE collection timed out');
                    _this4._reportIceCompleted(true);
                }
            }, this._rtcSession._iceTimeoutMillis);
        }
    }, {
        key: '_isCurrentState',
        value: function _isCurrentState() {
            return this._rtcSession._state._subState === this;
        }
    }, {
        key: '_createLocalCandidate',
        value: function _createLocalCandidate(initDict) {
            return new RTCIceCandidate(initDict);
        }
    }, {
        key: 'onIceCandidate',
        value: function onIceCandidate(evt) {
            var candidate = evt.candidate;
            this.logger.log('onicecandidate ' + JSON.stringify(candidate));
            if (candidate) {
                if (candidate.candidate) {
                    this._iceCandidates.push(this._createLocalCandidate(candidate));
                    if (!this._iceCompletedForIceRestart) {
                        this._checkCandidatesSufficient(candidate);
                    }
                }
            } else {
                this._reportIceCompleted(false);
            }
        }
    }, {
        key: '_checkCandidatesSufficient',
        value: function _checkCandidatesSufficient(candidate) {
            //check if we collected sufficient candidates from single media server to restart the call
            var candidateObj = (0, _sdp.parseCandidate)(candidate.candidate);
            if (candidateObj.component != 1) {
                return;
            }
            var candidateFoundation = candidateObj.foundation;
            var candidateMLineIndex = candidate.sdpMLineIndex;
            if (candidateFoundation && candidateMLineIndex >= 0 && candidateMLineIndex < this._mLines) {
                var mIndexList = this._iceCandidateFoundationsMap[candidateFoundation] || [];
                if (!mIndexList.includes(candidateMLineIndex)) {
                    mIndexList.push(candidateMLineIndex);
                }
                this._iceCandidateFoundationsMap[candidateFoundation] = mIndexList;

                if (this._mLines == mIndexList.length) {
                    this._reportIceCompleted(false);
                }
            }
        }
    }, {
        key: '_reportIceCompleted',
        value: function _reportIceCompleted(isTimeout) {
            this._iceCompletedForIceRestart = true;
            this._rtcSession._onIceCollectionComplete(this._rtcSession, isTimeout, this._iceCandidates.length);
            if (this._iceCandidates.length > 0) {
                this._checkAndTransit();
            } else {
                this.logger.error('No ICE candidate');
                this._rtcSession._sessionReport.iceCollectionFailure = true;
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            }
        }
    }, {
        key: '_checkAndTransit',
        value: function _checkAndTransit() {
            if (this._iceCompletedForIceRestart) {
                this._rtcSession._state.setSubState(new InviteAnswerSubstate(this._rtcSession, this._iceCandidates));
            } else if (!this._iceCompletedForIceRestart) {
                this.logger.log('Pending ICE collection');
            }
        }
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: 'name',
        get: function get() {
            return "ConnectSignalingAndIceCollectionSubstate";
        }
    }]);
    return ConnectSignalingAndIceCollectionSubstate;
}();

/**
 * InviteAnswerSubstate handles the invitation and response during signaling.
 * It retries the invite process if it fails due to certain errors.
 */

var InviteAnswerSubstate = exports.InviteAnswerSubstate = function () {
    (0, _createClass3.default)(InviteAnswerSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function InviteAnswerSubstate(rtcSession, iceCandidates) {
        (0, _classCallCheck3.default)(this, InviteAnswerSubstate);

        this._rtcSession = rtcSession;
        this._iceCandidates = iceCandidates;
        this.retryCount = 0;
        this.maxRetries = 3; // Maximum number of retries for the invite process
        // The retry interval is set to 1 second. The actual interval between each invite attempt
        // will be the sum of the MAX_INVITE_DELAY_MS (5 seconds) and the retry interval (1 second).
        // For example, the timing for the three invite attempts would be:
        // 1. First invite: 0 seconds
        // 2. Second invite (after the first invite timeout): 6 seconds
        // 3. Third invite (after the second invite timeout): 12 seconds
        this.retryInterval = 1000;
    }

    (0, _createClass3.default)(InviteAnswerSubstate, [{
        key: 'onEnter',
        value: function onEnter() {
            this.attemptInvite();
        }
    }, {
        key: 'attemptInvite',
        value: function attemptInvite() {
            // Attempt to send an invite, as we do not know if the signaling (websocket connection) is down or not
            this._rtcSession._createSignalingChannel().connect();
            this._rtcSession._pcm._signalingChannel.transit(new _signaling.PendingInviteState(this._rtcSession._pcm._signalingChannel));
            this._rtcSession._pcm._signalingChannel.invite(this._rtcSession._localSessionDescription.sdp, this._iceCandidates);
        }
    }, {
        key: 'retryInvite',
        value: function retryInvite() {
            var _this5 = this;

            // Retry logic for invite attempts
            if (this.retryCount < this.maxRetries) {
                this.retryCount++;
                this.logger.info('Retrying invite in ' + this.retryInterval / 1000 + ' seconds. Attempt ' + this.retryCount);
                this.signalingRetryTimeoutId = setTimeout(function () {
                    return _this5.attemptInvite();
                }, this.retryInterval);
            } else {
                this.logger.error("Max invite attempts reached. Returning to ConnectedSubstate.");
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            }
        }
    }, {
        key: 'onSignalingFailed',
        value: function onSignalingFailed(e) {
            // Handle signaling failures
            if (e.name === _exceptions.BusyExceptionName) {
                this.logger.error('User Busy, possibly multiple CCP windows open', e);
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            } else if (e.name === _exceptions.CallNotFoundExceptionName) {
                this.logger.error('Call not found. One of the participant probably hung up.', e);
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            } else {
                this.logger.error('Failed handshaking with signaling server', e);
                this.retryInvite();
            }
        }
    }, {
        key: 'onSignalingAnswered',
        value: function onSignalingAnswered(sdp, candidates) {
            this._rtcSession._state.setSubState(new AcceptSubstate(this._rtcSession, sdp, candidates));
        }
    }, {
        key: 'onExit',
        value: function onExit() {
            if (this.signalingRetryTimeoutId) {
                this.logger.info('Exiting, cleaning up invite retry timeout');
                clearTimeout(this.signalingRetryTimeoutId);
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "InviteAnswerSubstate";
        }
    }]);
    return InviteAnswerSubstate;
}();

/**
 * AcceptSubstate handles the remote SDP and remote ICE candidates.
 * It verifies the remote SDP and ICE candidates before proceeding.
 */


var AcceptSubstate = exports.AcceptSubstate = function () {
    (0, _createClass3.default)(AcceptSubstate, [{
        key: 'logger',
        get: function get() {
            return this._rtcSession._logger;
        }
    }]);

    function AcceptSubstate(rtcSession, sdp, candidates) {
        (0, _classCallCheck3.default)(this, AcceptSubstate);

        this._rtcSession = rtcSession;
        this._sdp = sdp;
        this._candidates = candidates;
    }

    (0, _createClass3.default)(AcceptSubstate, [{
        key: '_createSessionDescription',
        value: function _createSessionDescription(initDict) {
            return new RTCSessionDescription(initDict);
        }
    }, {
        key: '_createRemoteCandidate',
        value: function _createRemoteCandidate(initDict) {
            return new RTCIceCandidate(initDict);
        }
    }, {
        key: 'onEnter',
        value: function onEnter() {
            if (!this._sdp) {
                this.logger.error('Invalid remote SDP');
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            } else if (!this._candidates || this._candidates.length < 1) {
                this.logger.error('No remote ICE candidate');
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            }
            this._rtcSession._strategy.setRemoteDescriptionForIceRestart(this, this._rtcSession);
        }
    }, {
        key: 'onSignalingHandshaked',
        value: function onSignalingHandshaked() {
            this._signalingHandshakedForIceRestart = true;
            this._checkAndTransit();
        }
    }, {
        key: 'onIceRestartFailure',
        value: function onIceRestartFailure() {
            this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
        }
    }, {
        key: '_checkAndTransit',
        value: function _checkAndTransit() {
            if (this._signalingHandshakedForIceRestart && this._remoteDescriptionSetForIceRestart) {
                this._rtcSession._state.setSubState(new ConnectedSubstate(this._rtcSession));
            } else if (!this._signalingHandshakedForIceRestart) {
                this.logger.log('Pending handshaking');
            } else {
                //implies _remoteDescriptionSet == false
                this.logger.log('Pending setting remote description');
            }
        }
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: 'name',
        get: function get() {
            return "AcceptSubstate";
        }
    }]);
    return AcceptSubstate;
}();

},{"./exceptions":152,"./rtc_const":153,"./signaling":160,"./utils":167,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"sdp":133}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

exports.extractMediaStatsFromStats = extractMediaStatsFromStats;

var _utils = require('./utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function extractMediaStatsFromStats(timestamp, stats, streamType) {
    var extractedStats = null;
    var reportType = null;

    stats.forEach(function (statsReport) {
        if (statsReport) {
            if (statsReport.type === 'inbound-rtp' && streamType === 'audio_input') {
                // inbound-rtp: Stats for stream from Server to CCP, as seen on the browser
                reportType = statsReport.type;
                extractedStats = {
                    timestamp: timestamp,
                    packetsLost: statsReport.packetsLost,
                    // packetsCount: number of packet received by CCP, as seen on the browser
                    packetsCount: statsReport.packetsReceived,
                    jbMilliseconds: Math.floor((0, _utils.when_defined)(statsReport.jitter, 0) * 1000),
                    // Multiplying audioLevel by 32768 aligns its value with the legacy getStats API.
                    audioLevel: (0, _utils.is_defined)(statsReport.audioLevel) ? Math.floor(statsReport.audioLevel * 32768) : null
                };
            } else if (statsReport.type === 'outbound-rtp' && streamType === 'audio_output') {
                // outbound-rtp: Stats for stream from CCP to Server, as seen on the browser
                extractedStats = extractedStats || {};
                // packetsCount: number of packet sent by CCP, as seen on the browser
                extractedStats.packetsCount = statsReport.packetsSent;
            } else if (statsReport.type === 'media-source' && streamType === 'audio_output') {
                extractedStats = extractedStats || {};
                // Multiplying audioLevel by 32768 aligns its value with the legacy getStats API.
                extractedStats.audioLevel = (0, _utils.is_defined)(statsReport.audioLevel) ? Math.floor(statsReport.audioLevel * 32768) : null;
            } else if (statsReport.type === 'remote-inbound-rtp' && streamType === 'audio_output') {
                // remote-inbound-rtp: Stats for stream from CCP to Server, as seen on Server side
                reportType = statsReport.type;
                extractedStats = extractedStats || {};
                extractedStats.timestamp = timestamp;
                extractedStats.packetsLost = statsReport.packetsLost;
                extractedStats.rttMilliseconds = (0, _utils.is_defined)(statsReport.roundTripTime) ? Math.floor(statsReport.roundTripTime * 1000) : null;
                extractedStats.jbMilliseconds = Math.floor((0, _utils.when_defined)(statsReport.jitter, 0) * 1000);
            }
        }
    });

    return extractedStats ? new MediaRtpStats(extractedStats, reportType, streamType) : null;
}

/**
 * Basic RTP statistics object, represents statistics of an audio or video stream.
 */
/**
 * Extract rtp stats of specified stream from RTCStatsReport
 * Chrome reports all stream stats in statsReports whereas firefox reports only single stream stats in report
 * StreamType is passed only to pull right stream stats audio_input or audio_output.
 */

var MediaRtpStats = function () {
    function MediaRtpStats(paramsIn, statsReportType, streamType) {
        (0, _classCallCheck3.default)(this, MediaRtpStats);

        var params = paramsIn || {};

        this._timestamp = params.timestamp || new Date().getTime();
        this._packetsLost = (0, _utils.when_defined)(params.packetsLost);
        this._packetsCount = (0, _utils.when_defined)(params.packetsCount);
        this._audioLevel = (0, _utils.when_defined)(params.audioLevel);
        this._procMilliseconds = (0, _utils.when_defined)(params.procMilliseconds);
        this._rttMilliseconds = (0, _utils.when_defined)(params.rttMilliseconds);
        this._jbMilliseconds = (0, _utils.when_defined)(params.jbMilliseconds);
        this._bytesSent = (0, _utils.when_defined)(params.bytesSent);
        this._bytesReceived = (0, _utils.when_defined)(params.bytesReceived);
        this._framesEncoded = (0, _utils.when_defined)(params.framesEncoded);
        this._framesDecoded = (0, _utils.when_defined)(params.framesDecoded);
        this._frameRateSent = (0, _utils.when_defined)(params.frameRateSent);
        this._frameRateReceived = (0, _utils.when_defined)(params.frameRateReceived);
        this._statsReportType = statsReportType || params._statsReportType || "unknown";
        this._streamType = streamType || params.streamType || "unknown";
    }

    /** {number} number of packets sent to the channel */


    (0, _createClass3.default)(MediaRtpStats, [{
        key: 'packetsCount',
        get: function get() {
            return this._packetsCount;
        }
        /** {number} number of packets lost after travelling through the channel */

    }, {
        key: 'packetsLost',
        get: function get() {
            return this._packetsLost;
        }
        /** {number} number of packets lost after travelling through the channel */

    }, {
        key: 'packetLossPercentage',
        get: function get() {
            return this._packetsCount > 0 ? this._packetsLost / this._packetsCount : 0;
        }
        /** Audio volume level
         * Currently firefox doesn't provide audio level in rtp stats.
         */

    }, {
        key: 'audioLevel',
        get: function get() {
            return this._audioLevel;
        }
        /** Timestamp when stats are collected. */

    }, {
        key: 'timestamp',
        get: function get() {
            return this._timestamp;
        }
        /** {number} Processing delay calculated by time to process packet header */

    }, {
        key: 'procMilliseconds',
        get: function get() {
            return this._procMilliseconds;
        }
        /** {number} Round trip time calculated with RTCP reports */

    }, {
        key: 'rttMilliseconds',
        get: function get() {
            return this._rttMilliseconds;
        }
        /** {number} Statistical variance of RTP data packet inter-arrival time */

    }, {
        key: 'jbMilliseconds',
        get: function get() {
            return this._jbMilliseconds;
        }
        /** {number} number of bytes sent to the channel*/

    }, {
        key: 'bytesSent',
        get: function get() {
            return this._bytesSent;
        }
        /** {number} number of bytes received from the channel*/

    }, {
        key: 'bytesReceived',
        get: function get() {
            return this._bytesReceived;
        }
        /** {number} number of video frames encoded*/

    }, {
        key: 'framesEncoded',
        get: function get() {
            return this._framesEncoded;
        }
        /** {number} number of video frames decoded*/

    }, {
        key: 'framesDecoded',
        get: function get() {
            return this._framesDecoded;
        }
        /** {number} frames per second sent to the channel*/

    }, {
        key: 'frameRateSent',
        get: function get() {
            return this._frameRateSent;
        }
        /** {number} frames per second received from the channel*/

    }, {
        key: 'frameRateReceived',
        get: function get() {
            return this._frameRateReceived;
        }
        /** {string} the type of the stats report */

    }, {
        key: 'statsReportType',
        get: function get() {
            return this._statsReportType;
        }
        /** {string} the type of the stream */

    }, {
        key: 'streamType',
        get: function get() {
            return this._streamType;
        }
    }]);
    return MediaRtpStats;
}();

},{"./utils":167,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}],159:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SessionReport = undefined;

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

var SessionReport = exports.SessionReport = function () {
    /**
     * @class Prototype for tracking various RTC session report
     * @constructs
     */
    function SessionReport() {
        (0, _classCallCheck3.default)(this, SessionReport);

        this._sessionStartTime = null;
        this._sessionEndTime = null;
        this._gumTimeMillis = null;
        this._initializationTimeMillis = null;
        this._iceCollectionTimeMillis = null;
        this._signallingConnectTimeMillis = null;
        this._handshakingTimeMillis = null;
        this._preTalkingTimeMillis = null;
        this._talkingTimeMillis = null;
        this._iceConnectionsLost = 0;
        this._iceConnectionsFailed = null;
        this._peerConnectionFailed = null;
        this._cleanupTimeMillis = null;
        this._iceCollectionFailure = null;
        this._signallingConnectionFailure = null;
        this._handshakingFailure = null;
        this._gumOtherFailure = null;
        this._gumTimeoutFailure = null;
        this._createOfferFailure = null;
        this._setLocalDescriptionFailure = null;
        this._userBusyFailure = null;
        this._invalidRemoteSDPFailure = null;
        this._noRemoteIceCandidateFailure = null;
        this._setRemoteDescriptionFailure = null;
        this._streamStats = [];
        this._rtcJsVersion = "1.2.1";
        this._userAgentData = null;
    }
    /**
     *Timestamp when RTCSession started.
     */


    (0, _createClass3.default)(SessionReport, [{
        key: "sessionStartTime",
        get: function get() {
            return this._sessionStartTime;
        }
        /**
         * Timestamp when RTCSession ended.
         */
        ,
        set: function set(value) {
            this._sessionStartTime = value;
        }
    }, {
        key: "sessionEndTime",
        get: function get() {
            return this._sessionEndTime;
        }
        /**
         * Time taken for grabbing user microphone at the time of connecting RTCSession.
         */
        ,
        set: function set(value) {
            this._sessionEndTime = value;
        }
    }, {
        key: "gumTimeMillis",
        get: function get() {
            return this._gumTimeMillis;
        }
        /**
         * Time taken for session initialization in millis. Includes time spent in GrabLocalMedia, SetLocalSDP states.
         */
        ,
        set: function set(value) {
            this._gumTimeMillis = value;
        }
    }, {
        key: "initializationTimeMillis",
        get: function get() {
            return this._initializationTimeMillis;
        }
        /**
         * Time spent on ICECollection in millis.
         */
        ,
        set: function set(value) {
            this._initializationTimeMillis = value;
        }
    }, {
        key: "iceCollectionTimeMillis",
        get: function get() {
            return this._iceCollectionTimeMillis;
        }
        /**
         * Time taken for connecting the signalling in millis.
         */
        ,
        set: function set(value) {
            this._iceCollectionTimeMillis = value;
        }
    }, {
        key: "signallingConnectTimeMillis",
        get: function get() {
            return this._signallingConnectTimeMillis;
        }
        /**
         * Times spent from RTCSession connection until entering Talking state in millis.
         */
        ,
        set: function set(value) {
            this._signallingConnectTimeMillis = value;
        }
    }, {
        key: "preTalkingTimeMillis",
        get: function get() {
            return this._preTalkingTimeMillis;
        }
        /**
         *  Times spent in completing handshaking process of the RTCSession in millis.
         */
        ,
        set: function set(value) {
            this._preTalkingTimeMillis = value;
        }
    }, {
        key: "handshakingTimeMillis",
        get: function get() {
            return this._handshakingTimeMillis;
        }
        /**
         *  Times spent in Talking state in millis.
         */
        ,
        set: function set(value) {
            this._handshakingTimeMillis = value;
        }
    }, {
        key: "talkingTimeMillis",
        get: function get() {
            return this._talkingTimeMillis;
        }
        /**
         * How many times the RTCSession has lost ICE connection in talking state.
         */
        ,
        set: function set(value) {
            this._talkingTimeMillis = value;
        }
    }, {
        key: "iceConnectionsLost",
        get: function get() {
            return this._iceConnectionsLost;
        }
        /**
         * Tells if the RTCSession has failed RTCPeerConnection.iceConnectionState
         */
        ,
        set: function set(value) {
            this._iceConnectionsLost = value;
        }
    }, {
        key: "iceConnectionsFailed",
        get: function get() {
            return this._iceConnectionsFailed;
        }
        /**
         * Tells if the RTCSession has failed RTCPeerConnection.connectionState
         */
        ,
        set: function set(value) {
            this._iceConnectionsFailed = value;
        }
    }, {
        key: "peerConnectionFailed",
        get: function get() {
            return this._peerConnectionFailed;
        }
        /**
         * Times spent in Cleanup state in millis
         */
        ,
        set: function set(value) {
            this._peerConnectionFailed = value;
        }
    }, {
        key: "cleanupTimeMillis",
        get: function get() {
            return this._cleanupTimeMillis;
        }
        /**
         * Tells if the RTCSession fails in ICECollection.
         */
        ,
        set: function set(value) {
            this._cleanupTimeMillis = value;
        }
    }, {
        key: "iceCollectionFailure",
        get: function get() {
            return this._iceCollectionFailure;
        }
        /**
         * Tells if the RTCSession failed in signalling connect stage.
         */
        ,
        set: function set(value) {
            this._iceCollectionFailure = value;
        }
    }, {
        key: "signallingConnectionFailure",
        get: function get() {
            return this._signallingConnectionFailure;
        }
        /**
         * Handshaking failure of the RTCSession
         */
        ,
        set: function set(value) {
            this._signallingConnectionFailure = value;
        }
    }, {
        key: "handshakingFailure",
        get: function get() {
            return this._handshakingFailure;
        }
        /**
         * Gum failed due to timeout at the time of new RTCSession connection
         */
        ,
        set: function set(value) {
            this._handshakingFailure = value;
        }
    }, {
        key: "gumTimeoutFailure",
        get: function get() {
            return this._gumTimeoutFailure;
        }
        /**
         * Gum failed due to other reasons (other than Timeout)
         */
        ,
        set: function set(value) {
            this._gumTimeoutFailure = value;
        }
    }, {
        key: "gumOtherFailure",
        get: function get() {
            return this._gumOtherFailure;
        }
        /**
         * RTC Session failed in create Offer state.
         */
        ,
        set: function set(value) {
            this._gumOtherFailure = value;
        }
    }, {
        key: "createOfferFailure",
        get: function get() {
            return this._createOfferFailure;
        }
        /**
         * Tells if setLocalDescription failed for the RTC Session.
         */
        ,
        set: function set(value) {
            this._createOfferFailure = value;
        }
    }, {
        key: "setLocalDescriptionFailure",
        get: function get() {
            return this._setLocalDescriptionFailure;
        }
        /**
         * Tells if handshaking failed due to user busy case,
         * happens when multiple softphone calls are initiated at same time.
         */
        ,
        set: function set(value) {
            this._setLocalDescriptionFailure = value;
        }
    }, {
        key: "userBusyFailure",
        get: function get() {
            return this._userBusyFailure;
        }
        /**
         * Tells it remote SDP is invalid.
         */
        ,
        set: function set(value) {
            this._userBusyFailure = value;
        }
    }, {
        key: "invalidRemoteSDPFailure",
        get: function get() {
            return this._invalidRemoteSDPFailure;
        }
        /**
         * Tells if the setRemoteDescription failed for the RTC Session.
         */
        ,
        set: function set(value) {
            this._invalidRemoteSDPFailure = value;
        }
    }, {
        key: "setRemoteDescriptionFailure",
        get: function get() {
            return this._setRemoteDescriptionFailure;
        }
        /**
         * A failure case when there is no RemoteIceCandidate.
         */
        ,
        set: function set(value) {
            this._setRemoteDescriptionFailure = value;
        }
    }, {
        key: "noRemoteIceCandidateFailure",
        get: function get() {
            return this._noRemoteIceCandidateFailure;
        }
        /**
         * Statistics for each stream(audio-in, audio-out, video-in, video-out) of the RTCSession.
         */
        ,
        set: function set(value) {
            this._noRemoteIceCandidateFailure = value;
        }
    }, {
        key: "streamStats",
        get: function get() {
            return this._streamStats;
        }
        /**
         * get current connect-rtc-js version
         */
        ,
        set: function set(value) {
            this._streamStats = value;
        }
    }, {
        key: "rtcJsVersion",
        get: function get() {
            return this._rtcJsVersion;
        }

        /**
         * userAgent data
         */
        ,
        set: function set(value) {
            this._rtcJsVersion = value;
        }
    }, {
        key: "userAgentData",
        get: function get() {
            return this._userAgentData;
        },
        set: function set(value) {
            this._userAgentData = value;
        }
    }]);
    return SessionReport;
}();

},{"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FailedState = exports.DisconnectedState = exports.PendingLocalHangupState = exports.PendingRemoteHangupState = exports.PendingReconnectState = exports.TalkingState = exports.IdleState = exports.PendingAcceptAckState = exports.PendingConnectContactState = exports.PendingAcceptState = exports.PendingAnswerState = exports.PendingInviteState = exports.PendingConnectState = exports.FailOnTimeoutState = exports.SignalingState = undefined;

var _get2 = require('babel-runtime/helpers/get');

var _get3 = _interopRequireDefault(_get2);

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _utils = require('./utils');

var _rtc_const = require('./rtc_const');

var _exceptions = require('./exceptions');

var _v = require('uuid/v4');

var _v2 = _interopRequireDefault(_v);

var _virtual_wss_connection_manager = require('./virtual_wss_connection_manager');

var _virtual_wss_connection_manager2 = _interopRequireDefault(_virtual_wss_connection_manager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CONNECT_MAX_RETRIES = 3;
// TODO: Need to discuss with team the retry strategy for invite/accept/connectContact errors
/**
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

var INVITE_MAX_RETRIES = 0;
var ACCEPT_MAX_RETRIES = 0;
var CONNECT_CONTACT_MAX_RETRIES = 0;

/**
 * Abstract signaling state class.
 */

var SignalingState = exports.SignalingState = function () {
    /**
     * @param {AmznRtcSignaling} signaling Signaling object.
     */
    function SignalingState(signaling) {
        (0, _classCallCheck3.default)(this, SignalingState);

        this._signaling = signaling;
        this._createTime = new Date().getTime();
    }

    (0, _createClass3.default)(SignalingState, [{
        key: 'setStateTimeout',
        value: function setStateTimeout(timeoutMs) {
            setTimeout((0, _utils.hitch)(this, this._onTimeoutChecked), timeoutMs);
        }
    }, {
        key: 'onEnter',
        value: function onEnter() {}
    }, {
        key: '_onTimeoutChecked',
        value: function _onTimeoutChecked() {
            if (this.isCurrentState) {
                this.onTimeout();
            }
        }
    }, {
        key: 'onTimeout',
        value: function onTimeout() {
            throw new _exceptions.UnsupportedOperation();
        }
    }, {
        key: 'transit',
        value: function transit(newState) {
            this._signaling.transit(newState);
        }
    }, {
        key: 'onExit',
        value: function onExit() {}
    }, {
        key: 'onOpen',
        value: function onOpen() {
            throw new _exceptions.UnsupportedOperation('onOpen not supported by ' + this.name);
        }
    }, {
        key: 'onError',
        value: function onError() {
            this.channelDown();
        }
    }, {
        key: 'onClose',
        value: function onClose() {
            this.channelDown();
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            throw new _exceptions.UnsupportedOperation('channelDown not supported by ' + this.name);
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg(rpcMsg) {
            // eslint-disable-line no-unused-vars
            throw new _exceptions.UnsupportedOperation('onRpcMsg not supported by ' + this.name);
        }
    }, {
        key: 'invite',
        value: function invite(sdp, iceCandidates) {
            // eslint-disable-line no-unused-vars
            throw new _exceptions.UnsupportedOperation('invite not supported by ' + this.name);
        }
    }, {
        key: 'accept',
        value: function accept() {
            throw new _exceptions.UnsupportedOperation('accept not supported by ' + this.name);
        }
    }, {
        key: 'connectContact',
        value: function connectContact() {
            throw new _exceptions.UnsupportedOperation('connectContact not supported by ' + this.name);
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            // do nothing
        }
    }, {
        key: 'bye',
        value: function bye() {
            // do nothing
        }
    }, {
        key: 'isCurrentState',
        get: function get() {
            return this === this._signaling.state;
        }
    }, {
        key: 'name',
        get: function get() {
            return "SignalingState";
        }
    }, {
        key: 'logger',
        get: function get() {
            return this._signaling._logger;
        }
    }]);
    return SignalingState;
}();

var FailOnTimeoutState = exports.FailOnTimeoutState = function (_SignalingState) {
    (0, _inherits3.default)(FailOnTimeoutState, _SignalingState);

    function FailOnTimeoutState(signaling, timeoutMs) {
        (0, _classCallCheck3.default)(this, FailOnTimeoutState);

        var _this = (0, _possibleConstructorReturn3.default)(this, (FailOnTimeoutState.__proto__ || Object.getPrototypeOf(FailOnTimeoutState)).call(this, signaling));

        _this._timeoutMs = timeoutMs;
        return _this;
    }

    (0, _createClass3.default)(FailOnTimeoutState, [{
        key: 'onEnter',
        value: function onEnter() {
            this.setStateTimeout(this._timeoutMs);
        }
    }, {
        key: 'onTimeout',
        value: function onTimeout() {
            this.transit(new FailedState(this._signaling, new _exceptions.Timeout()));
        }
    }, {
        key: 'name',
        get: function get() {
            return "FailOnTimeoutState";
        }
    }]);
    return FailOnTimeoutState;
}(SignalingState);

var PendingConnectState = exports.PendingConnectState = function (_FailOnTimeoutState) {
    (0, _inherits3.default)(PendingConnectState, _FailOnTimeoutState);

    function PendingConnectState(signaling, timeoutMs, initialStartTimeIn, retriesIn) {
        (0, _classCallCheck3.default)(this, PendingConnectState);

        var _this2 = (0, _possibleConstructorReturn3.default)(this, (PendingConnectState.__proto__ || Object.getPrototypeOf(PendingConnectState)).call(this, signaling, timeoutMs));

        _this2._initialStartTime = initialStartTimeIn || new Date().getTime();
        _this2._retries = retriesIn || 0;
        return _this2;
    }

    (0, _createClass3.default)(PendingConnectState, [{
        key: 'onOpen',
        value: function onOpen() {
            if (this._signaling._pcm && this._signaling._pcm.contactToken && this._signaling._pcm.isPersistentConnectionEnabled() && !this._signaling._isFirstTimeSetup) {
                this.transit(new PendingConnectContactState(this._signaling));
            } else {
                this.transit(new PendingInviteState(this._signaling));
            }
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            var now = new Date().getTime();
            var untilTimeoutMs = this._initialStartTime + this._timeoutMs - now;
            if (untilTimeoutMs > 0 && ++this._retries < CONNECT_MAX_RETRIES) {
                this._signaling._connect();
                this.transit(new PendingConnectState(this._signaling, untilTimeoutMs, this._initialStartTime, this._retries));
            } else {
                this.transit(new FailedState(this._signaling, new _exceptions.SignalingChannelDownError()));
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingConnectState";
        }
    }]);
    return PendingConnectState;
}(FailOnTimeoutState);

var PendingInviteState = exports.PendingInviteState = function (_SignalingState2) {
    (0, _inherits3.default)(PendingInviteState, _SignalingState2);

    function PendingInviteState(signaling, retiresIn) {
        (0, _classCallCheck3.default)(this, PendingInviteState);

        var _this3 = (0, _possibleConstructorReturn3.default)(this, (PendingInviteState.__proto__ || Object.getPrototypeOf(PendingInviteState)).call(this, signaling));

        _this3._retries = retiresIn;
        return _this3;
    }

    (0, _createClass3.default)(PendingInviteState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            new Promise(function notifyConnected(resolve) {
                self._signaling._connectedHandler();
                resolve();
            });
        }

        /**
         * Send RTC invite to backend service
         *
         * @param sdp
         * @param iceCandidates
         */

    }, {
        key: 'invite',
        value: function invite(sdp, iceCandidates) {
            var self = this;
            var inviteId = (0, _v2.default)();

            var inviteParams;

            if (self._signaling._pcm) {
                inviteParams = {
                    sdp: sdp,
                    candidates: iceCandidates,
                    callContextToken: self._signaling._contactToken, // could be null
                    contactId: typeof self._signaling.callId === "undefined" ? "" : self._signaling.callId, // could be null
                    browserId: self._signaling._pcm.browserId, // identical id for browser
                    persistentConnection: self._signaling._pcm.isPPCEnabled, // flag which indicates if persistent connection is enabled in agent configuration
                    peerConnectionId: self._signaling._pcm.peerConnectionId, // generate by peerconnection factory
                    iceRestart: self._signaling._pcm._iceRestart, // will be true, if ice connection failed
                    peerConnectionToken: self._signaling._pcm.peerConnectionToken
                };
            } else {
                inviteParams = {
                    sdp: sdp,
                    candidates: iceCandidates,
                    callContextToken: self._signaling._contactToken
                };
            }

            self.logger.log('Sending SDP', (0, _utils.getRedactedSdp)(sdp));

            self._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.INVITE_METHOD_NAME,
                params: inviteParams,
                id: inviteId
            }));
            self.transit(new PendingAnswerState(self._signaling, inviteId, this._retries));
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this.transit(new FailedState(this._signaling, new _exceptions.SignalingChannelDownError()));
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingInviteState";
        }
    }]);
    return PendingInviteState;
}(SignalingState);

var PendingAnswerState = exports.PendingAnswerState = function (_FailOnTimeoutState2) {
    (0, _inherits3.default)(PendingAnswerState, _FailOnTimeoutState2);

    /**
     * Creates PendingAnswerState which resolves the answer of invite request
     *
     * @param signaling
     * @param inviteId
     */
    function PendingAnswerState(signaling, inviteId, retriesIn) {
        (0, _classCallCheck3.default)(this, PendingAnswerState);

        var _this4 = (0, _possibleConstructorReturn3.default)(this, (PendingAnswerState.__proto__ || Object.getPrototypeOf(PendingAnswerState)).call(this, signaling, _rtc_const.MAX_INVITE_DELAY_MS));

        _this4._inviteId = inviteId;
        _this4._retries = retriesIn || 0;
        return _this4;
    }

    /**
     * RPC message event handler
     *
     * @param msg response of invite request sent by backend service
     * "result": {
     *                 "candidates": ["List of ICE candidates"]
     *                 "sdp": "SDP Object",
     *                 "inactivityDuration": 600000 or 0,
     *                 "peerConnectionId": "Peer Connection ID",
     *                 "peerConnectionToken": "Peer Connection Token from RTPS"
     *             }
     */


    (0, _createClass3.default)(PendingAnswerState, [{
        key: 'onRpcMsg',
        value: function onRpcMsg(msg) {
            var self = this;
            if (msg.id === this._inviteId) {
                // TODO: check peer connection id here
                if (msg.error || !msg.result) {
                    // Retry logic for invite error, currently is disabled
                    if (++this._retries < INVITE_MAX_RETRIES) {
                        this.transit(new PendingInviteState(this._signaling, this._retries));
                    } else {
                        this.transit(new FailedState(this._signaling, this.translateInviteError(msg)));
                    }
                } else {
                    new Promise(function notifyAnswered(resolve) {
                        self.logger.log('Received SDP', (0, _utils.getRedactedSdp)(msg.result.sdp));
                        if (self._signaling._pcm) {
                            self._signaling._pcm.peerConnectionToken = msg.result.peerConnectionToken;
                            self._signaling._pcm.peerConnectionId = msg.result.peerConnectionId;
                            var isRTPSAllowlisted = !!msg.result.peerConnectionId; // if peerConnectionId is defined, isRTPSAllowlisted will be set to true, otherwise, it will remain false
                            // when isRTPSAllowlisted flip from false to true, we need to close standby/early media connection
                            if (isRTPSAllowlisted !== self._signaling._pcm.isRTPSAllowlisted && isRTPSAllowlisted) {
                                self._signaling._pcm.closeEarlyMediaConnection();
                            }
                            self._signaling._pcm.isRTPSAllowlisted = isRTPSAllowlisted;
                            self._signaling._answeredHandler(msg.result.sdp, msg.result.candidates, msg.result.inactivityDuration, msg.result.peerConnectionId, msg.result.peerConnectionToken);
                        } else {
                            self._signaling._answeredHandler(msg.result.sdp, msg.result.candidates);
                        }
                        self._signaling._isMediaClusterPath = !(msg.result.sdp.includes('AmazonConnect') && msg.result.sdp.includes('silenceSupp'));
                        resolve();
                    });
                    this.transit(new PendingAcceptState(this._signaling, this._signaling._autoAnswer));
                }
            }
        }
    }, {
        key: 'translateInviteError',
        value: function translateInviteError(msg) {
            if (msg.error && msg.error.code == 403) {
                return new _exceptions.AccessDeniedException(msg.error.message);
            } else if (msg.error && msg.error.code == 486) {
                return new _exceptions.BusyException(msg.error.message);
            } else if (msg.error && msg.error.code == 404) {
                return new _exceptions.CallNotFoundException(msg.error.message); // ResourceNotFoundException
            } else if (msg.error && msg.error.code == 400) {
                return new _exceptions.BadRequestException(msg.error.message); // BadRequestException
            } else if (msg.error && msg.error.code == 408) {
                return new _exceptions.RequestTimeoutException(msg.error.message); // RequestTimeoutException
            } else if (msg.error && msg.error.code == 409) {
                return new _exceptions.IdempotencyException(msg.error.message); // IdempotencyException
            } else if (msg.error && msg.error.code == 500) {
                return new _exceptions.InternalServerException(msg.error.message); // InternalServerException
            } else {
                return new _exceptions.UnknownSignalingError();
            }
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this.transit(new FailedState(this._signaling, "Hangs up in PendingAnswerState"));
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingAnswerState";
        }
    }]);
    return PendingAnswerState;
}(FailOnTimeoutState);

var PendingAcceptState = exports.PendingAcceptState = function (_SignalingState3) {
    (0, _inherits3.default)(PendingAcceptState, _SignalingState3);

    /**
     * Creates PendingAcceptState which sends accpet request to backend server
     *
     * @param signaling - signaling Object
     * @param autoAnswer - boolean object
     * @param retriesIn - the number of retry times
     */
    function PendingAcceptState(signaling, autoAnswer, retriesIn) {
        (0, _classCallCheck3.default)(this, PendingAcceptState);

        var _this5 = (0, _possibleConstructorReturn3.default)(this, (PendingAcceptState.__proto__ || Object.getPrototypeOf(PendingAcceptState)).call(this, signaling));

        _this5._autoAnswer = autoAnswer;
        _this5._retries = retriesIn;
        return _this5;
    }

    (0, _createClass3.default)(PendingAcceptState, [{
        key: 'onEnter',
        value: function onEnter() {
            if (this._autoAnswer) {
                this.accept();
            }
        }
    }, {
        key: 'accept',
        value: function accept() {
            this.sendAcceptRequest();
            // if contactToken exists, signaling move to talking state. Otherwise, move to Idle state
            if (this._signaling._pcm && this._signaling._pcm.isPersistentConnectionEnabled() && this._signaling._pcm.contactToken === null && this._signaling._isFirstTimeSetup) {
                this.transit(new IdleState(this._signaling, this._acceptId, this._retries, _rtc_const.ACCEPT_METHOD_NAME));
            } else {
                this.transit(new TalkingState(this._signaling, this._acceptId, this._retries, _rtc_const.ACCEPT_METHOD_NAME));
            }
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this.transit(new FailedState(this._signaling, new _exceptions.SignalingChannelDownError()));
        }
    }, {
        key: 'sendAcceptRequest',
        value: function () {
            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                var acceptParams;
                return _regenerator2.default.wrap(function _callee$(_context) {
                    while (1) {
                        switch (_context.prev = _context.next) {
                            case 0:
                                this._acceptId = (0, _v2.default)();
                                acceptParams = {};

                                if (this._signaling._pcm) {
                                    acceptParams = {
                                        contactId: typeof this._signaling._pcm.callId === "undefined" ? null : this._signaling._pcm.callId,
                                        persistentConnection: this._signaling._pcm.isPPCEnabled,
                                        peerConnectionId: this._signaling._pcm.peerConnectionId,
                                        peerConnectionToken: this._signaling._pcm.peerConnectionToken
                                    };
                                }

                                this._signaling._wss.send(JSON.stringify({
                                    jsonrpc: '2.0',
                                    method: _rtc_const.ACCEPT_METHOD_NAME,
                                    params: acceptParams,
                                    id: this._acceptId
                                }));

                            case 4:
                            case 'end':
                                return _context.stop();
                        }
                    }
                }, _callee, this);
            }));

            function sendAcceptRequest() {
                return _ref.apply(this, arguments);
            }

            return sendAcceptRequest;
        }()
    }, {
        key: 'name',
        get: function get() {
            return "PendingAcceptState";
        }
    }]);
    return PendingAcceptState;
}(SignalingState);

/**
 * PendingConnectContactState sends connectContact request to backend service
 * when the peer connection has already established instead of sending a new invite request.
 *
 */


var PendingConnectContactState = exports.PendingConnectContactState = function (_SignalingState4) {
    (0, _inherits3.default)(PendingConnectContactState, _SignalingState4);

    function PendingConnectContactState(signaling, retriesIn) {
        (0, _classCallCheck3.default)(this, PendingConnectContactState);

        var _this6 = (0, _possibleConstructorReturn3.default)(this, (PendingConnectContactState.__proto__ || Object.getPrototypeOf(PendingConnectContactState)).call(this, signaling));

        _this6._retries = retriesIn;
        return _this6;
    }

    (0, _createClass3.default)(PendingConnectContactState, [{
        key: 'onEnter',
        value: function onEnter() {
            (0, _get3.default)(PendingConnectContactState.prototype.__proto__ || Object.getPrototypeOf(PendingConnectContactState.prototype), 'onEnter', this).call(this);
            var self = this;
            self.connectContact();
        }
    }, {
        key: 'connectContact',
        value: function connectContact() {
            this._connectContactId = (0, _v2.default)();
            var connectContactParams = {
                contactId: this._signaling._pcm.callId,
                persistentConnection: this._signaling._pcm.isPPCEnabled,
                peerConnectionId: this._signaling._pcm.peerConnectionId,
                peerConnectionToken: this._signaling._pcm.peerConnectionToken,
                callContextToken: this._signaling._pcm.contactToken
            };
            this._signaling._wss._connectionId = this._signaling._pcm.connectionId;
            this._signaling._connectionId = this._signaling._pcm.connectionId;
            this._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.CONNECT_CONTACT_METHOD_NAME,
                params: connectContactParams,
                id: this._connectContactId
            }));
            this.transit(new TalkingState(this._signaling, this._connectContactId, this._retries, _rtc_const.CONNECT_CONTACT_METHOD_NAME));
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingConnectContactState";
        }
    }]);
    return PendingConnectContactState;
}(SignalingState);

// This State has never been initialized. (Can be deleted)


var PendingAcceptAckState = exports.PendingAcceptAckState = function (_FailOnTimeoutState3) {
    (0, _inherits3.default)(PendingAcceptAckState, _FailOnTimeoutState3);

    function PendingAcceptAckState(signaling, acceptId) {
        (0, _classCallCheck3.default)(this, PendingAcceptAckState);

        var _this7 = (0, _possibleConstructorReturn3.default)(this, (PendingAcceptAckState.__proto__ || Object.getPrototypeOf(PendingAcceptAckState)).call(this, signaling, _rtc_const.MAX_ACCEPT_BYE_DELAY_MS));

        _this7._acceptId = acceptId;
        return _this7;
    }

    (0, _createClass3.default)(PendingAcceptAckState, [{
        key: 'onRpcMsg',
        value: function onRpcMsg(msg) {
            if (msg.id === this._acceptId) {
                if (msg.error) {
                    this.transit(new FailedState(this._signaling, new _exceptions.SignalingChannelDownError()));
                } else {
                    this._signaling._clientToken = msg.result.clientToken;
                    this.transit(new TalkingState(this._signaling));
                }
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingAcceptAckState";
        }
    }]);
    return PendingAcceptAckState;
}(FailOnTimeoutState);

/**
 * After signaling handshake completes, if persistent connection is enabled, signaling channel moves to Idle state
 *
 */


var IdleState = exports.IdleState = function (_SignalingState5) {
    (0, _inherits3.default)(IdleState, _SignalingState5);

    /**
     *
     * @param signaling - signaling channel
     * @param methodId - the id for the accept request
     * @param retriesIn - the number of retry times
     * @param retryMethod - the method we want to retry
     */
    function IdleState(signaling, methodId, retriesIn, retryMethod) {
        (0, _classCallCheck3.default)(this, IdleState);

        var _this8 = (0, _possibleConstructorReturn3.default)(this, (IdleState.__proto__ || Object.getPrototypeOf(IdleState)).call(this, signaling));

        _this8._methodId = methodId;
        _this8._retries = retriesIn || 0;
        _this8._retryMethod = retryMethod;
        return _this8;
    }

    (0, _createClass3.default)(IdleState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            new Promise(function notifyHandshaked(resolve) {
                self._signaling._handshakedHandler();
                resolve();
            });
            self._signaling._pcm.startInactivityTimer();
        }
    }, {
        key: 'connectContact',
        value: function connectContact() {
            this.transit(new PendingConnectContactState(this._signaling));
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this.bye();
        }
    }, {
        key: 'bye',
        value: function bye() {
            this._byeId = (0, _v2.default)();
            this._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.BYE_METHOD_NAME,
                params: {
                    contactId: typeof this._signaling._pcm.callId === "undefined" ? null : this._signaling._pcm.callId,
                    persistentConnection: this._signaling._pcm.isPPCEnabled,
                    peerConnectionId: this._signaling._pcm.peerConnectionId,
                    peerConnectionToken: this._signaling._pcm.peerConnectionToken,
                    callContextToken: this._signaling._pcm.contactToken
                },
                id: this._byeId
            }));

            this.transit(new PendingRemoteHangupState(this._signaling, this._byeId));
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg(msg) {
            if (msg.method === _rtc_const.PC_BYE_METHOD_NAME) {
                this.logger.log("Received PC bye from server, tear down the peer connection");
                this.tearDownPeerConnection(msg.peerConnectionId);
            } else if (msg.method === _rtc_const.BYE_METHOD_NAME) {
                this.transit(new PendingLocalHangupState(this._signaling, msg.id));
            } else if (msg.method === 'renewClientToken') {
                this._signaling._clientToken = msg.params.clientToken;
            } else if (this._signaling._pcm && msg.error && msg.id === this._methodId) {
                if (this._retryMethod === _rtc_const.ACCEPT_METHOD_NAME && ++this._retries < ACCEPT_MAX_RETRIES) {
                    this.transit(new PendingAcceptState(this._signaling, this._retries));
                } else if (this._signaling._pcm._rtcSession) {
                    // destroy signaling channel and peer connection when receives DisconnectContact error
                    this._signaling._pcm.destroy();
                } else {
                    this.transit(new FailedState(this._signaling, this.translateResponseError(msg)));
                }
            }
        }
    }, {
        key: 'tearDownPeerConnection',
        value: function tearDownPeerConnection(peerConnectionId) {
            if (peerConnectionId === this._signaling._pcm.peerConnectionId) {
                this._signaling._pcm.destroy(peerConnectionId);
                this.transit(new DisconnectedState(this._signaling));
            } else {
                this.logger.log("peerConnectionId in the PCBye request does NOT match the peerConnectionId of the existing peer connection, failed to tear down peer connection");
            }
        }
    }, {
        key: 'translateResponseError',
        value: function translateResponseError(msg) {
            if (msg.error && msg.error.code == 403) {
                return new _exceptions.AccessDeniedException(msg.error.message);
            } else if (msg.error && msg.error.code == 404) {
                return new _exceptions.CallNotFoundException(msg.error.message); // ResourceNotFoundException
            } else if (msg.error && msg.error.code == 400) {
                return new _exceptions.BadRequestException(msg.error.message); // BadRequestException
            } else if (msg.error && msg.error.code == 408) {
                return new _exceptions.RequestTimeoutException(msg.error.message); // RequestTimeoutException
            } else if (msg.error && msg.error.code == 500) {
                return new _exceptions.InternalServerException(msg.error.message); // InternalServerException
            } else {
                return new _exceptions.UnknownSignalingError();
            }
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this._signaling._reconnect();
            this._signaling.transit(new PendingReconnectState(this._signaling));
        }
    }, {
        key: 'name',
        get: function get() {
            return "IdleState";
        }
    }]);
    return IdleState;
}(SignalingState);

var TalkingState = exports.TalkingState = function (_SignalingState6) {
    (0, _inherits3.default)(TalkingState, _SignalingState6);

    /**
     *
     * @param signaling - signaling channel
     * @param methodId - the id for the accept request
     * @param retriesIn - the number of retry times
     * @param retryMethod - the method we want to retry
     */
    function TalkingState(signaling, methodId, retriesIn, retryMethod) {
        (0, _classCallCheck3.default)(this, TalkingState);

        var _this9 = (0, _possibleConstructorReturn3.default)(this, (TalkingState.__proto__ || Object.getPrototypeOf(TalkingState)).call(this, signaling));

        _this9._methodId = methodId;
        _this9._retries = retriesIn || 0;
        _this9._retryMethod = retryMethod;
        return _this9;
    }

    (0, _createClass3.default)(TalkingState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            if (!self._signaling._pcm || !self._signaling._pcm.isPersistentConnectionEnabled() || self._signaling._isFirstTimeSetup) {
                new Promise(function notifyHandshaked(resolve) {
                    self._signaling._handshakedHandler();
                    resolve();
                });
            }
            self._signaling._isFirstTimeSetup = false;
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            if (this._signaling._pcm && this._signaling._pcm.isPersistentConnectionEnabled()) {
                this.disconnectContact();
            } else {
                this.bye();
            }
        }
    }, {
        key: 'bye',
        value: function bye() {
            this._byeId = (0, _v2.default)();
            var byeParams = {};
            if (this._signaling._pcm) {
                byeParams = {
                    contactId: typeof this._signaling._pcm.callId === "undefined" ? null : this._signaling._pcm.callId,
                    persistentConnection: this._signaling._pcm.isPPCEnabled,
                    peerConnectionId: this._signaling._pcm.peerConnectionId,
                    peerConnectionToken: this._signaling._pcm.peerConnectionToken,
                    callContextToken: this._signaling._pcm.contactToken
                };
            } else {
                byeParams = { callContextToken: this._signaling._contactToken };
            }

            this._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.BYE_METHOD_NAME,
                params: byeParams,
                id: this._byeId
            }));

            this.transit(new PendingRemoteHangupState(this._signaling, this._byeId));
        }
    }, {
        key: 'disconnectContact',
        value: function disconnectContact() {
            this._disconnectContactId = (0, _v2.default)();
            var self = this;
            this._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.DISCONNECT_CONTACT_METHOD_NAME,
                params: {
                    contactId: self._signaling._pcm.callId,
                    peerConnectionId: self._signaling._pcm.peerConnectionId,
                    peerConnectionToken: self._signaling._pcm.peerConnectionToken
                },
                id: this._disconnectContactId
            }));
            this.transit(new IdleState(this._signaling, this._disconnectContactId));
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg(msg) {
            if (msg.method === _rtc_const.BYE_METHOD_NAME) {
                this.transit(new PendingLocalHangupState(this._signaling, msg.id));
            } else if (msg.method === 'renewClientToken') {
                this._signaling._clientToken = msg.params.clientToken;
            } else if (this._signaling._pcm && msg.error && msg.id === this._methodId) {
                if (this._retryMethod === _rtc_const.CONNECT_CONTACT_METHOD_NAME && ++this._retries < CONNECT_CONTACT_MAX_RETRIES) {
                    this.transit(new PendingConnectContactState(this._signaling, this._retries));
                } else if (this._retryMethod === _rtc_const.ACCEPT_METHOD_NAME && ++this._retries < ACCEPT_MAX_RETRIES) {
                    this.transit(new PendingAcceptState(this._signaling, this._retries));
                } else {
                    this.transit(new FailedState(this._signaling, this.translateResponseError(msg)));
                }
            }
        }
    }, {
        key: 'translateResponseError',
        value: function translateResponseError(msg) {
            if (msg.error && msg.error.code == 403) {
                // AccessDeniedException
                return new _exceptions.AccessDeniedException(msg.error.message);
            } else if (msg.error.code == 404) {
                return new _exceptions.CallNotFoundException(msg.error.message); // ResourceNotFoundException
            } else if (msg.error.code == 400) {
                return new _exceptions.BadRequestException(msg.error.message); // BadRequestException
            } else if (msg.error.code == 408) {
                return new _exceptions.RequestTimeoutException(msg.error.message); // RequestTimeoutException
            } else if (msg.error.code == 500) {
                return new _exceptions.InternalServerException(msg.error.message); // InternalServerException
            } else {
                return new _exceptions.UnknownSignalingError();
            }
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this._signaling._reconnect();
            this._signaling.transit(new PendingReconnectState(this._signaling));
        }
    }, {
        key: 'name',
        get: function get() {
            return "TalkingState";
        }
    }]);
    return TalkingState;
}(SignalingState);

var PendingReconnectState = exports.PendingReconnectState = function (_FailOnTimeoutState4) {
    (0, _inherits3.default)(PendingReconnectState, _FailOnTimeoutState4);

    function PendingReconnectState(signaling) {
        (0, _classCallCheck3.default)(this, PendingReconnectState);
        return (0, _possibleConstructorReturn3.default)(this, (PendingReconnectState.__proto__ || Object.getPrototypeOf(PendingReconnectState)).call(this, signaling, _rtc_const.DEFAULT_CONNECT_TIMEOUT_MS));
    }

    (0, _createClass3.default)(PendingReconnectState, [{
        key: 'onOpen',
        value: function onOpen() {
            this.transit(new TalkingState(this._signaling));
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this.transit(new FailedState(this._signaling, new _exceptions.SignalingChannelDownError()));
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingReconnectState";
        }
    }]);
    return PendingReconnectState;
}(FailOnTimeoutState);

var PendingRemoteHangupState = exports.PendingRemoteHangupState = function (_FailOnTimeoutState5) {
    (0, _inherits3.default)(PendingRemoteHangupState, _FailOnTimeoutState5);

    function PendingRemoteHangupState(signaling, byeId) {
        (0, _classCallCheck3.default)(this, PendingRemoteHangupState);

        var _this11 = (0, _possibleConstructorReturn3.default)(this, (PendingRemoteHangupState.__proto__ || Object.getPrototypeOf(PendingRemoteHangupState)).call(this, signaling, _rtc_const.MAX_ACCEPT_BYE_DELAY_MS));

        _this11._byeId = byeId;
        return _this11;
    }
    // response


    (0, _createClass3.default)(PendingRemoteHangupState, [{
        key: 'onRpcMsg',
        value: function onRpcMsg(msg) {
            if (msg.id === this._byeId || msg.method === _rtc_const.BYE_METHOD_NAME) {
                this.transit(new DisconnectedState(this._signaling));
            }
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingRemoteHangupState";
        }
    }]);
    return PendingRemoteHangupState;
}(FailOnTimeoutState);

var PendingLocalHangupState = exports.PendingLocalHangupState = function (_SignalingState7) {
    (0, _inherits3.default)(PendingLocalHangupState, _SignalingState7);

    function PendingLocalHangupState(signaling, byeId) {
        (0, _classCallCheck3.default)(this, PendingLocalHangupState);

        var _this12 = (0, _possibleConstructorReturn3.default)(this, (PendingLocalHangupState.__proto__ || Object.getPrototypeOf(PendingLocalHangupState)).call(this, signaling));

        _this12._byeId = byeId;
        return _this12;
    }

    (0, _createClass3.default)(PendingLocalHangupState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            new Promise(function notifyRemoteHungup(resolve) {
                self._signaling._remoteHungupHandler();
                resolve();
            });
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            var self = this;
            self._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                result: {},
                id: self._byeId
            }));
            self.transit(new DisconnectedState(self._signaling));
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg() {
            //Do nothing
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            this.transit(new DisconnectedState(this._signaling));
        }
    }, {
        key: 'name',
        get: function get() {
            return "PendingLocalHangupState";
        }
    }]);
    return PendingLocalHangupState;
}(SignalingState);

var DisconnectedState = exports.DisconnectedState = function (_SignalingState8) {
    (0, _inherits3.default)(DisconnectedState, _SignalingState8);

    function DisconnectedState() {
        (0, _classCallCheck3.default)(this, DisconnectedState);
        return (0, _possibleConstructorReturn3.default)(this, (DisconnectedState.__proto__ || Object.getPrototypeOf(DisconnectedState)).apply(this, arguments));
    }

    (0, _createClass3.default)(DisconnectedState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            new Promise(function notifyDisconnected(resolve) {
                self._signaling._disconnectedHandler();
                resolve();
            });
            this._signaling._wss.close();
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            //Do nothing
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg() {
            //Do nothing
        }
    }, {
        key: 'name',
        get: function get() {
            return "DisconnectedState";
        }
    }]);
    return DisconnectedState;
}(SignalingState);

var FailedState = exports.FailedState = function (_SignalingState9) {
    (0, _inherits3.default)(FailedState, _SignalingState9);

    function FailedState(signaling, exception) {
        (0, _classCallCheck3.default)(this, FailedState);

        var _this14 = (0, _possibleConstructorReturn3.default)(this, (FailedState.__proto__ || Object.getPrototypeOf(FailedState)).call(this, signaling));

        _this14._exception = exception;
        return _this14;
    }

    (0, _createClass3.default)(FailedState, [{
        key: 'onEnter',
        value: function onEnter() {
            var self = this;
            new Promise(function notifyFailed(resolve) {
                if (self._signaling._pcm && self._exception.name === _exceptions.AccessDeniedExceptionName) {
                    self._signaling._pcm.isRTPSAllowlisted = false;
                    self._signaling._pcm.closeEarlyMediaConnection();
                }
                self._signaling._failedHandler(self._exception);
                resolve();
            });
            if (!self._signaling._pcm) {
                self._signaling._wss.close();
            }
        }
    }, {
        key: 'bye',
        value: function bye() {
            this._byeId = (0, _v2.default)();
            this._signaling._wss.send(JSON.stringify({
                jsonrpc: '2.0',
                method: _rtc_const.BYE_METHOD_NAME,
                params: {
                    contactId: typeof this._signaling._pcm.callId === "undefined" ? null : this._signaling._pcm.callId,
                    persistentConnection: this._signaling._pcm.isPPCEnabled,
                    peerConnectionId: this._signaling._pcm.peerConnectionId,
                    peerConnectionToken: this._signaling._pcm.peerConnectionToken,
                    callContextToken: this._signaling._pcm.contactToken
                },
                id: this._byeId
            }));
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this.bye();
        }
    }, {
        key: 'onRpcMsg',
        value: function onRpcMsg() {
            // Do nothing
        }
    }, {
        key: 'channelDown',
        value: function channelDown() {
            //Do nothing
        }
    }, {
        key: 'name',
        get: function get() {
            return "FailedState";
        }
    }, {
        key: 'exception',
        get: function get() {
            return this._exception;
        }
    }]);
    return FailedState;
}(SignalingState);

var AmznRtcSignaling = function () {
    // TODO: add javaScript doc here
    function AmznRtcSignaling(callId, signalingUri, contactToken, logger, connectTimeoutMs, connectionId, wssManager) {
        var iceRestart = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;
        var persistentConnectionManager = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;
        (0, _classCallCheck3.default)(this, AmznRtcSignaling);

        this._callId = callId;
        this._connectTimeoutMs = connectTimeoutMs || _rtc_const.DEFAULT_CONNECT_TIMEOUT_MS;
        this._autoAnswer = true;
        this._signalingUri = signalingUri;
        this._contactToken = contactToken;
        this._logger = (0, _utils.wrapLogger)(logger, callId, 'SIGNALING');
        this._connectionId = connectionId;
        this._wssManager = wssManager;
        this._iceRestart = iceRestart;
        this._pcm = persistentConnectionManager;
        this._isFirstTimeSetup = true;

        //empty event handlers
        this._connectedHandler = this._answeredHandler = this._handshakedHandler = this._reconnectedHandler = this._remoteHungupHandler = this._disconnectedHandler = this._failedHandler = function noOp() {};
    }

    (0, _createClass3.default)(AmznRtcSignaling, [{
        key: 'connect',
        value: function connect() {
            this._connect();
            this.transit(new PendingConnectState(this, this._connectTimeoutMs));
        }
    }, {
        key: '_connect',
        value: function _connect() {
            this._wss = this._connectWebSocket(this._buildInviteUri());
        }
    }, {
        key: 'transit',
        value: function transit(nextState) {
            try {
                this._logger.info((this._state ? this._state.name : 'null') + ' => ' + nextState.name);
                if (this.state && this.state.onExit) {
                    this.state.onExit();
                }
            } finally {
                this._state = nextState;
                if (this._state.onEnter) {
                    this._state.onEnter();
                }
            }
        }
    }, {
        key: '_connectWebSocket',
        value: function _connectWebSocket(uri) {
            var wsConnection = void 0;
            if (this._wssManager) {
                wsConnection = new _virtual_wss_connection_manager2.default(this._logger, this._connectionId, this._wssManager);
            } else {
                wsConnection = new WebSocket(uri);
            }
            wsConnection.onopen = (0, _utils.hitch)(this, this._onOpen);
            wsConnection.onmessage = (0, _utils.hitch)(this, this._onMessage);
            wsConnection.onerror = (0, _utils.hitch)(this, this._onError);
            wsConnection.onclose = (0, _utils.hitch)(this, this._onClose);
            return wsConnection;
        }
    }, {
        key: '_buildInviteUri',
        value: function _buildInviteUri() {
            if (this._contactToken) {
                return this._buildUriBase() + '&contactCtx=' + encodeURIComponent(this._contactToken);
            } else {
                return this._buildUriBase();
            }
        }
    }, {
        key: '_buildReconnectUri',
        value: function _buildReconnectUri() {
            return this._buildUriBase() + '&clientToken=' + encodeURIComponent(this._clientToken);
        }
    }, {
        key: '_buildUriBase',
        value: function _buildUriBase() {
            var separator = '?';
            if (!this._pcm && this._signalingUri.indexOf(separator) > -1) {
                separator = '&';
            }
            return this._signalingUri + separator + 'callId=' + encodeURIComponent(this._callId);
        }
    }, {
        key: '_onMessage',
        value: function _onMessage(evt) {
            this.state.onRpcMsg(JSON.parse(evt.data));
        }
    }, {
        key: '_onOpen',
        value: function _onOpen(evt) {
            this.state.onOpen(evt);
        }
    }, {
        key: '_onError',
        value: function _onError(evt) {
            this.state.onError(evt);
        }
    }, {
        key: '_onClose',
        value: function _onClose(evt) {
            this._logger.log('WebSocket onclose code=' + evt.code + ', reason=' + evt.reason);
            this.state.onClose(evt);
        }
    }, {
        key: '_reconnect',
        value: function _reconnect() {
            this._wss = this._connectWebSocket(this._buildReconnectUri());
        }
    }, {
        key: 'invite',
        value: function invite(sdp, iceCandidates) {
            this.state.invite(sdp, iceCandidates);
        }
    }, {
        key: 'connectContact',
        value: function connectContact() {
            this.state.connectContact();
        }
    }, {
        key: 'accept',
        value: function accept() {
            this.state.accept();
        }
    }, {
        key: 'hangup',
        value: function hangup() {
            this.state.hangup();
        }
    }, {
        key: 'bye',
        value: function bye() {
            this.state.bye();
        }
    }, {
        key: 'callId',
        get: function get() {
            return this._callId;
        }
    }, {
        key: 'iceRestart',
        get: function get() {
            return this._iceRestart;
        }
    }, {
        key: 'onConnected',
        set: function set(connectedHandler) {
            this._connectedHandler = connectedHandler;
        }
    }, {
        key: 'onAnswered',
        set: function set(answeredHandler) {
            this._answeredHandler = answeredHandler;
        }
    }, {
        key: 'onHandshaked',
        set: function set(handshakedHandler) {
            this._handshakedHandler = handshakedHandler;
        }
    }, {
        key: 'onReconnected',
        set: function set(reconnectedHandler) {
            this._reconnectedHandler = reconnectedHandler;
        }
    }, {
        key: 'onRemoteHungup',
        set: function set(remoteHungupHandler) {
            this._remoteHungupHandler = remoteHungupHandler;
        }
    }, {
        key: 'onDisconnected',
        set: function set(disconnectedHandler) {
            this._disconnectedHandler = disconnectedHandler;
        }
    }, {
        key: 'onFailed',
        set: function set(failedHandler) {
            this._failedHandler = failedHandler;
        }
    }, {
        key: 'state',
        get: function get() {
            return this._state;
        }
    }]);
    return AmznRtcSignaling;
}();

exports.default = AmznRtcSignaling;

},{"./exceptions":152,"./rtc_const":153,"./utils":167,"./virtual_wss_connection_manager":168,"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/get":19,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21,"babel-runtime/regenerator":27,"uuid/v4":137}],161:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CCPInitiationStrategyInterface = function () {
    function CCPInitiationStrategyInterface() {
        (0, _classCallCheck3.default)(this, CCPInitiationStrategyInterface);

        console.log("CCPInitiationStrategyInterface initialized");
    }

    (0, _createClass3.default)(CCPInitiationStrategyInterface, [{
        key: "getStrategyName",
        value: function getStrategyName() {
            console.error("getStrategyName needs to be overridden");
        }

        // the following functions are rtc_peer_connection_factory related functions
        // check if the browser supports early media connection

    }, {
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            console.error("_isEarlyMediaConnectionSupported needs to be overridden");
        }
    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection() {
            console.error("_createRtcPeerConnection needs to be overridden");
        }

        // the following functions are rtc_session related functions

    }, {
        key: "_gUM",
        value: function _gUM() {
            console.error("_gUM needs to be overridden");
        }

        // the following functions are rtc_session related functions

    }, {
        key: "_createMediaStream",
        value: function _createMediaStream() {
            console.error("_createMediaStream needs to be overridden");
        }
    }, {
        key: "addStream",
        value: function addStream() {
            console.error("addStream needs to be overridden");
        }
    }, {
        key: "setRemoteDescription",
        value: function setRemoteDescription() {
            console.error("setRemoteDescription needs to be overridden");
        }
    }, {
        key: "setRemoteDescriptionForIceRestart",
        value: function setRemoteDescriptionForIceRestart() {
            console.error("setRemoteDescriptionForIceRestart needs to be overridden");
        }
    }, {
        key: "onIceStateChange",
        value: function onIceStateChange() {
            console.error("onIceStateChange needs to be overridden");
        }
    }, {
        key: "onPeerConnectionStateChange",
        value: function onPeerConnectionStateChange() {
            console.error("onPeerConnectionStateChange needs to be overridden");
        }
    }, {
        key: "_createPeerConnection",
        value: function _createPeerConnection() {
            console.error("_createPeerConnection needs to be overridden");
        }
    }, {
        key: "connect",
        value: function connect() {
            console.error("connect needs to be overridden");
        }
    }, {
        key: "_ontrack",
        value: function _ontrack() {
            console.error("_ontrack needs to be overridden");
        }
    }, {
        key: "_buildMediaConstraints",
        value: function _buildMediaConstraints() {
            console.error("_buildMediaConstraints needs to be overridden");
        }
    }]);
    return CCPInitiationStrategyInterface;
}();

exports.default = CCPInitiationStrategyInterface;

},{"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}],162:[function(require,module,exports){
(function (global){(function (){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require("babel-runtime/helpers/possibleConstructorReturn");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require("babel-runtime/helpers/inherits");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CCPInitiationStrategyInterface = require("./CCPInitiationStrategyInterface");

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _rtc_session = require("../rtc_session");

var _rtc_const = require("../rtc_const");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CitrixVDIStrategy = function (_CCPInitiationStrateg) {
    (0, _inherits3.default)(CitrixVDIStrategy, _CCPInitiationStrateg);

    function CitrixVDIStrategy() {
        var useRealCitrix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
        (0, _classCallCheck3.default)(this, CitrixVDIStrategy);

        var _this = (0, _possibleConstructorReturn3.default)(this, (CitrixVDIStrategy.__proto__ || Object.getPrototypeOf(CitrixVDIStrategy)).call(this));

        if (useRealCitrix) {
            require("@citrix/ucsdk/CitrixWebRTC");
        }
        console.log("CitrixVDIStrategy initializing");
        _this.initCitrixWebRTC();
        _this.initGetCitrixWebrtcRedir();
        _this.initLog();
        // version is an Citrix object in following format
        // "version": {
        //     "type_script": "3.1.0",
        //         "webrpc": "1.7.0.0",
        //         "webrtc_codecs": "0.0.0.0",
        //         "receiver": "24.11.0.51",
        //         "vda": "0.0.0.0",
        //         "endpoint": "0.0.0.0",
        //         "osinfo": {
        //         "family": "Browser",
        //             "version": "15.3.1",
        //             "architecture": "",
        //             "distro": "",
        //             "edition": "Mac-Chrome(version:133.0.0.0, userAgent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36)"
        //     },
        //     "clientPlatform": "Browser"
        // }
        _this.version = "UNKNOWN";
        return _this;
    }

    (0, _createClass3.default)(CitrixVDIStrategy, [{
        key: "initCitrixWebRTC",
        value: function initCitrixWebRTC() {
            var self = this;
            window.CitrixWebRTC.setVMEventCallback(function (event) {
                if (event.event === 'vdiClientConnected') {
                    if (!window.CitrixWebRTC.isFeatureOn("webrtc1.0")) {
                        throw new Error('Citrix WebRTC redirection feature is NOT supported!');
                    }
                    console.log("CitrixVDIStrategy initialized");
                    self.version = event.version;
                } else if (event.event === 'vdiClientDisconnected') {
                    console.log("vdiClientDisconnected");
                }
            });
            window.CitrixWebRTC.initUCSDK("AmazonConnect");
        }
    }, {
        key: "initGetCitrixWebrtcRedir",
        value: function initGetCitrixWebrtcRedir() {
            window.getCitrixWebrtcRedir = function () {
                return Promise.resolve(1);
            };
        }
    }, {
        key: "initLog",
        value: function initLog() {
            window.CitrixWebRTC.initLog(global.connect.getLog());
        }

        // the following functions are rtc_peer_connection_factory related functions
        // check if the browser supports early media connection

    }, {
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            // Citrix WebRTC SDK doesn't support early media connection
            return false;
        }
    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig) {
            return new window.CitrixWebRTC.CitrixPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig);
        }

        // the following functions are rtc_session related functions

    }, {
        key: "_gUM",
        value: function _gUM(constraints) {
            return window.CitrixWebRTC.getUserMedia(constraints);
        }
    }, {
        key: "_createMediaStream",
        value: function _createMediaStream(track) {
            return window.CitrixWebRTC.createMediaStream([track]);
        }
    }, {
        key: "addStream",
        value: function addStream(_pc, stream) {
            stream.getTracks().forEach(function (track) {
                _pc.addTransceiver(track, {});
            });
        }
    }, {
        key: "setRemoteDescription",
        value: function setRemoteDescription(self, rtcSession) {
            if (this.version && this.version.clientPlatform === "Browser") {
                // ChromeOS does not support addIceCandidate yet.
                self._candidates.forEach(function (candidate) {
                    if (candidate && typeof candidate.candidate === 'string' && candidate.candidate.trim() !== '') {
                        self._sdp += "a=" + candidate.candidate + "\n";
                        self.logger.info('Updated SDP for ChromeOS', "a=" + candidate.candidate + "\n");
                    }
                });
            }

            var answerSessionDescription = self._createSessionDescription({ type: 'answer', sdp: self._sdp });

            rtcSession._pc.setRemoteDescription(answerSessionDescription, function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                rtcSession._sessionReport.setRemoteDescriptionFailure = false;
                self._remoteDescriptionSet = true;
                self._checkAndTransit();
            }, function () {
                rtcSession._stopSession();
                rtcSession._sessionReport.setRemoteDescriptionFailure = true;
                self.transit(new _rtc_session.FailedState(rtcSession, _rtc_const.RTC_ERRORS.SET_REMOTE_DESCRIPTION_FAILURE));
            });
        }

        // Todo: modify the sdp for ChromeOS here by adding a=candidate line, once pc.setConfiguration is supported for IceRestart

    }, {
        key: "setRemoteDescriptionForIceRestart",
        value: function setRemoteDescriptionForIceRestart(self, rtcSession) {
            var answerSessionDescription = self._createSessionDescription({ type: 'answer', sdp: self._sdp });

            rtcSession._pc.setRemoteDescription(answerSessionDescription, function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                self._remoteDescriptionSetForIceRestart = true;
                self._checkAndTransit();
            }, function () {
                self.onIceRestartFailure();
            });
        }
    }, {
        key: "onIceStateChange",
        value: function onIceStateChange(evt, _pc) {
            return _pc.iceConnectionState;
        }
    }, {
        key: "onPeerConnectionStateChange",
        value: function onPeerConnectionStateChange(_pc) {
            return _pc.connectionState_;
        }
    }, {
        key: "_createPeerConnection",
        value: function _createPeerConnection(configuration, optionalConfiguration) {
            return new window.CitrixWebRTC.CitrixPeerConnection(configuration, optionalConfiguration);
        }
    }, {
        key: "_ontrack",
        value: function _ontrack(self, evt) {
            window.CitrixWebRTC.mapAudioElement(self._remoteAudioElement);
            if (evt.streams.length > 1) {
                self._logger.warn('Found more than 1 streams for ' + evt.track.kind + ' track ' + evt.track.id + ' : ' + evt.streams.map(function (stream) {
                    return stream.id;
                }).join(','));
            }
            if (evt.track.kind === 'video' && self._remoteVideoElement) {
                self._remoteVideoElement.srcObject = evt.streams[0];
                self._remoteVideoStream = evt.streams[0];
            } else if (evt.track.kind === 'audio' && self._remoteAudioElement) {
                self._remoteAudioElement.srcObject = evt.streams[0];
                self._remoteAudioStream = evt.streams[0];
            }
            self._remoteAudioElement.play();
        }
    }, {
        key: "_buildMediaConstraints",
        value: function _buildMediaConstraints(self, mediaConstraints) {
            if (self._enableAudio) {
                var audioConstraints = {};
                if (typeof self._echoCancellation !== 'undefined') {
                    audioConstraints.echoCancellation = !!self._echoCancellation;
                }
                if (window.audio_input) {
                    audioConstraints.deviceId = window.audio_input;
                }
                if (Object.keys(audioConstraints).length > 0) {
                    mediaConstraints.audio = audioConstraints;
                } else {
                    mediaConstraints.audio = true;
                }
            } else {
                mediaConstraints.audio = false;
            }
        }
    }, {
        key: "getStrategyName",
        value: function getStrategyName() {
            return 'CitrixVDIStrategy';
        }
    }]);
    return CitrixVDIStrategy;
}(_CCPInitiationStrategyInterface2.default); /**
                                              * By using the Citrix ucsdk (https://www.npmjs.com/package/@citrix/ucsdk), you are accepting the Citrix Developer Terms of Use  located here: https://www.cloud.com/terms-of-use.
                                              */

exports.default = CitrixVDIStrategy;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../rtc_const":153,"../rtc_session":156,"./CCPInitiationStrategyInterface":161,"@citrix/ucsdk/CitrixWebRTC":2,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21}],163:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require("babel-runtime/helpers/possibleConstructorReturn");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require("babel-runtime/helpers/inherits");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CCPInitiationStrategyInterface = require("./CCPInitiationStrategyInterface");

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _rtc_session = require("../rtc_session");

var _rtc_const = require("../rtc_const");

var _constants = require("../config/constants");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CHROME_SUPPORTED_VERSION = 59;

var DCVWebRTCStrategy = function (_CCPInitiationStrateg) {
    (0, _inherits3.default)(DCVWebRTCStrategy, _CCPInitiationStrateg);

    function DCVWebRTCStrategy() {
        (0, _classCallCheck3.default)(this, DCVWebRTCStrategy);

        var _this = (0, _possibleConstructorReturn3.default)(this, (DCVWebRTCStrategy.__proto__ || Object.getPrototypeOf(DCVWebRTCStrategy)).call(this));

        if (window.DCVWebRTCPeerConnectionProxy) {
            window.DCVWebRTCPeerConnectionProxy.setInitCallback(function (result) {
                if (result.success) {
                    // This is only created when:
                    // 1) the dcv webrtc chrome extension is installed and enabled and
                    // 2) this browser is running within a DCV server environment and
                    // 3) the dcv server is connected from a WebRTC redirection-enabled client
                    _this.proxy = window.DCVWebRTCRedirProxy;
                    _this.proxy.overrideWebRTC();
                    console.log('DCVStrategy initialized');
                } else {
                    throw new Error('DCV WebRTC redirection feature is NOT supported!');
                }
            }, 5000);
        } else {
            throw new Error('DCV WebRTC redirection feature is NOT supported!');
        }
        return _this;
    }

    (0, _createClass3.default)(DCVWebRTCStrategy, [{
        key: "isChromeBrowser",
        value: function isChromeBrowser() {
            return this.proxy.clientInfo.browserDetails.browser === _constants.CHROME;
        }
    }, {
        key: "getChromeBrowserVersion",
        value: function getChromeBrowserVersion() {
            return this.proxy.clientInfo.browserDetails.version;
        }
    }, {
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            return this.isChromeBrowser() && this.getChromeBrowserVersion() >= CHROME_SUPPORTED_VERSION;
        }
    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig) {
            return this.proxy.createPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig);
        }
    }, {
        key: "_buildMediaConstraints",
        value: function _buildMediaConstraints(self, mediaConstraints) {
            if (self._enableAudio) {
                var audioConstraints = {};
                if ((0, _typeof3.default)(self._echoCancellation) !== _constants.UNDEFINED) {
                    audioConstraints.echoCancellation = !!self._echoCancellation;
                }
                if (Object.keys(audioConstraints).length > 0) {
                    mediaConstraints.audio = audioConstraints;
                } else {
                    mediaConstraints.audio = true;
                }
            } else {
                mediaConstraints.audio = false;
            }
        }
    }, {
        key: "_gUM",
        value: function _gUM(constraints) {
            return this.proxy.getUserMedia(constraints);
        }
    }, {
        key: "_createMediaStream",
        value: function _createMediaStream(track) {
            return new MediaStream([track]);
        }
    }, {
        key: "_createPeerConnection",
        value: function _createPeerConnection(configuration, optionalConfiguration) {
            return this.proxy.createPeerConnection(configuration, optionalConfiguration);
        }
    }, {
        key: "addStream",
        value: function addStream(_pc, stream) {
            stream.getTracks().forEach(function (track) {
                var transceiver = _pc.addTransceiver(track.kind, {
                    streams: [stream]
                });
                transceiver.sender.replaceTrack(track);
            });
        }
    }, {
        key: "setRemoteDescription",
        value: function setRemoteDescription(self, rtcSession) {
            var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                type: _constants.ANSWER,
                sdp: self._sdp
            }));
            setRemoteDescriptionPromise.catch(function (e) {
                self.logger.error('SetRemoteDescription failed', e);
            });
            setRemoteDescriptionPromise.then(function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                return remoteCandidatePromises;
            }).then(function () {
                rtcSession._sessionReport.setRemoteDescriptionFailure = false;
                self._remoteDescriptionSet = true;
                self._checkAndTransit();
            }).catch(function () {
                rtcSession._stopSession();
                rtcSession._sessionReport.setRemoteDescriptionFailure = true;
                self.transit(new _rtc_session.FailedState(rtcSession, _rtc_const.RTC_ERRORS.SET_REMOTE_DESCRIPTION_FAILURE));
            });
        }
    }, {
        key: "setRemoteDescriptionForIceRestart",
        value: function setRemoteDescriptionForIceRestart(self, rtcSession) {
            var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                type: _constants.ANSWER,
                sdp: self._sdp
            }));
            setRemoteDescriptionPromise.catch(function (e) {
                self.logger.error('SetRemoteDescription failed', e);
            });
            setRemoteDescriptionPromise.then(function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                return remoteCandidatePromises;
            }).then(function () {
                self._remoteDescriptionSetForIceRestart = true;
                self._checkAndTransit();
            }).catch(function () {
                self.onIceRestartFailure();
            });
        }
    }, {
        key: "onIceStateChange",
        value: function onIceStateChange(evt, _pc) {
            return _pc.iceConnectionState;
        }
    }, {
        key: "onPeerConnectionStateChange",
        value: function onPeerConnectionStateChange(_pc) {
            return _pc.connectionState;
        }
    }, {
        key: "_ontrack",
        value: function _ontrack(self, evt) {
            if (evt.streams.length > 1) {
                console.warn('Found more than 1 streams for ' + evt.track.kind + ' track ' + evt.track.id + ' : ' + evt.streams.map(function (stream) {
                    return stream.id;
                }).join(','));
            }
            var stream = evt.streams[0];
            self._remoteAudioElement = this.createMediaElement(stream);
            self._remoteAudioStream = stream;
            self._remoteAudioElement.srcObject = stream;
        }
    }, {
        key: "createMediaElement",
        value: function createMediaElement(stream) {
            var props = {
                kind: _constants.AUDIO,
                autoplay: true
            };
            var element = stream.createMediaElement(props);
            console.log("Creating proxied media element.");
            return element;
        }
    }, {
        key: "getStrategyName",
        value: function getStrategyName() {
            return _constants.DCV_STRATEGY;
        }
    }]);
    return DCVWebRTCStrategy;
}(_CCPInitiationStrategyInterface2.default);

exports.default = DCVWebRTCStrategy;

},{"../config/constants":150,"../rtc_const":153,"../rtc_session":156,"./CCPInitiationStrategyInterface":161,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21,"babel-runtime/helpers/typeof":24}],164:[function(require,module,exports){
(function (global){(function (){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require("babel-runtime/helpers/possibleConstructorReturn");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require("babel-runtime/helpers/inherits");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CCPInitiationStrategyInterface = require("./CCPInitiationStrategyInterface");

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _rtc_session = require("../rtc_session");

var _rtc_const = require("../rtc_const");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var OmnissaVDIStrategy = function (_CCPInitiationStrateg) {
    (0, _inherits3.default)(OmnissaVDIStrategy, _CCPInitiationStrateg);

    function OmnissaVDIStrategy() {
        (0, _classCallCheck3.default)(this, OmnissaVDIStrategy);

        var _this = (0, _possibleConstructorReturn3.default)(this, (OmnissaVDIStrategy.__proto__ || Object.getPrototypeOf(OmnissaVDIStrategy)).call(this));

        var self = _this;
        self.topWindowName = "UNKNOWN";
        self.hasRequestedTitle = false;

        // Initialize Omnissa SDK dependencies
        var HorizonWebRTCExtension = require('@euc-releases/horizon-webrtc-redir-sdk/HorizonWebRTCExtension');
        var HorizonWebRtcRedirectionAPI = require('@euc-releases/horizon-webrtc-redir-sdk/HorizonSDKforWebRTCRedir');

        // Attach SDK instances to window for global access
        window.HorizonWebRTCExtension = HorizonWebRTCExtension;
        window.HorizonWebRtcRedirectionAPI = HorizonWebRtcRedirectionAPI;

        _this.globalWindowReference = null;

        window.getHorizonClientID = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
            return _regenerator2.default.wrap(function _callee$(_context) {
                while (1) {
                    switch (_context.prev = _context.next) {
                        case 0:
                            return _context.abrupt("return", new Promise(function (resolve, reject) {
                                window.HorizonWebRTCExtension.getHorizonClientID().then(function (clientID) {
                                    console.log("getHorizonClientID resolved with:", clientID);
                                    resolve(clientID);
                                }).catch(function (error) {
                                    console.error("Failed to get client ID: " + error);
                                    reject("Failed to get client ID: " + error);
                                });
                            }));

                        case 1:
                        case "end":
                            return _context.stop();
                    }
                }
            }, _callee, this);
        }));

        window.getHorizonWSSPort = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            return _regenerator2.default.wrap(function _callee2$(_context2) {
                while (1) {
                    switch (_context2.prev = _context2.next) {
                        case 0:
                            return _context2.abrupt("return", new Promise(function (resolve, reject) {
                                window.HorizonWebRTCExtension.getHorizonWSSPort().then(function (wssPort) {
                                    console.log("getHorizonWSSPort resolved with:", wssPort);
                                    resolve(wssPort);
                                }).catch(function (error) {
                                    console.error("Failed to get WSS port: " + error);
                                    reject("Failed to get WSS port: " + error);
                                });
                            }));

                        case 1:
                        case "end":
                            return _context2.stop();
                    }
                }
            }, _callee2, this);
        }));

        window.getHorizonWindowTitle = function () {
            if (self.topWindowName.endsWith(_rtc_const.ACITVE_SOFTPHONE_TAB)) {
                return self.topWindowName;
            }

            var currentTime = self.getCurrentTimeString();
            try {
                return self.setTopWindowName(top.document.title + currentTime + _rtc_const.ACITVE_SOFTPHONE_TAB);
            } catch (error) {
                self.setupMessageListener();
                return self.topWindowName;
            }
        };

        // Initialize SDK with logging and event handling
        var prefix = "OmnissaVDI";
        var appLogger = {
            error: function error(msg) {
                return global.connect.getLog().error(prefix + ": " + msg);
            },
            info: function info(msg) {
                return global.connect.getLog().info(prefix + ": " + msg);
            },
            warn: function warn(msg) {
                return global.connect.getLog().warn(prefix + ": " + msg);
            }
        };
        var appName = "AmazonConnect";
        var initResult = window.HorizonWebRtcRedirectionAPI.initSDK(appLogger, appName, _this.vmEventHandler);
        if (!initResult) {
            throw new Error('Omnissa WebRTC Redirection API failed to initialize');
        }
        return _this;
    }

    (0, _createClass3.default)(OmnissaVDIStrategy, [{
        key: "vmEventHandler",
        value: function vmEventHandler(event) {
            var eventType = event.event;
            console.log("Horizon WebRTCRedirSDK Event:", JSON.stringify(event));
            switch (eventType) {
                case "vdiClientConnected":
                    console.log("Got event from WebRTCRedirSDK: vdiClientConnected");
                    break;
                case "vdiClientDisconnected":
                    console.log("Got event from WebRTCRedirSDK: vdiClientDisconnected");
                    break;
                default:
                    console.log("Got an unknown event from WebRTCRedirSDK: " + JSON.stringify(event));
            }
        }

        /**
         * Checks if early/standby media connection is supported
         * @returns {boolean} Always returns false as early media connection is not supported in Omnissa VDI
         *
         * Note: Set to false based on testing - when set to true, calls go to missed state.
         * This indicates Omnissa SDK does not support early media connections.
         * Any changes to this value should be coordinated with Omnissa team and thoroughly tested.
         */

    }, {
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            return false;
        }
    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig) {
            return window.HorizonWebRtcRedirectionAPI.newPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig);
        }
    }, {
        key: "_gUM",
        value: function _gUM(constraints) {
            return window.HorizonWebRtcRedirectionAPI.getUserMedia(constraints);
        }
    }, {
        key: "_createMediaStream",
        value: function _createMediaStream(track) {
            return window.HorizonWebRtcRedirectionAPI.newMediaStream([track]);
        }
    }, {
        key: "_createPeerConnection",
        value: function _createPeerConnection(configuration, optionalConfiguration) {
            return window.HorizonWebRtcRedirectionAPI.newPeerConnection(configuration, optionalConfiguration);
        }
    }, {
        key: "onIceStateChange",
        value: function onIceStateChange(evt, _pc) {
            return _pc.iceConnectionState;
        }
    }, {
        key: "onPeerConnectionStateChange",
        value: function onPeerConnectionStateChange(_pc) {
            return _pc.connectionState;
        }
    }, {
        key: "_buildMediaConstraints",
        value: function _buildMediaConstraints(self, mediaConstraints) {
            if (self._enableAudio) {
                var audioConstraints = {};

                // Verified with Omnissa: Using WebRTC default echo cancellation settings
                // WebRTC echo cancellation is enabled by default

                if (window.audio_input) {
                    console.log('Setting deviceId to:', window.audio_input);
                    audioConstraints.deviceId = window.audio_input;
                } else {
                    console.log('No audio input device specified');
                }
                // If we have any audio constraints, use them; otherwise just set to true
                if (Object.keys(audioConstraints).length > 0) {
                    console.log('Using specific audio constraints:', audioConstraints);
                    mediaConstraints.audio = audioConstraints;
                } else {
                    console.log('No specific constraints, setting audio to true');
                    mediaConstraints.audio = true;
                }
            } else {
                console.log('Audio is disabled, setting audio to false');
                mediaConstraints.audio = false;
            }
        }
    }, {
        key: "addStream",
        value: function addStream(_pc, stream) {
            stream.getTracks().forEach(function (track) {
                _pc.addTrack(track, stream);
            });
        }
    }, {
        key: "setRemoteDescription",
        value: function setRemoteDescription(self, rtcSession) {
            var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                type: 'answer',
                sdp: self._sdp
            }));
            setRemoteDescriptionPromise.then(function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                return remoteCandidatePromises;
            }).then(function () {
                rtcSession._sessionReport.setRemoteDescriptionFailure = false;
                self._remoteDescriptionSet = true;
                self._checkAndTransit();
            }).catch(function () {
                self.logger.error('Stopping session due to setRemoteDescription failure');
                rtcSession._stopSession();
                rtcSession._sessionReport.setRemoteDescriptionFailure = true;
                self.transit(new _rtc_session.FailedState(rtcSession, _rtc_const.RTC_ERRORS.SET_REMOTE_DESCRIPTION_FAILURE));
            });
        }
    }, {
        key: "setRemoteDescriptionForIceRestart",
        value: function setRemoteDescriptionForIceRestart(self, rtcSession) {
            /**
             * Check for Horizon client version compatibility
             *
             * Background:
             * - Omnissa creates setConfiguration() method only in newer Horizon clients
             * - Older clients won't have this method on the peerConnection object
             *
             * Why this check:
             * 1. Different Horizon client versions have different capabilities
             * 2. ICE restart feature is only available in newer versions (2503 and above)
             * 3. Attempting ICE restart on older clients could cause errors
             *
             * Behavior:
             * - If setConfiguration exists: Client supports ICE restart (proceed)
             * - If not: Older client version (skip ICE restart)
             */
            if (rtcSession._pc.setConfiguration) {
                self.logger.info('Modern Horizon client detected, proceeding with ICE restart');

                var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                    type: 'answer',
                    sdp: self._sdp
                }));
                setRemoteDescriptionPromise.then(function () {
                    var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                        var remoteCandidate = self._createRemoteCandidate(candidate);
                        self.logger.info('Adding remote candidate', remoteCandidate);
                        return rtcSession._pc.addIceCandidate(remoteCandidate);
                    }));
                    remoteCandidatePromises.catch(function (reason) {
                        self.logger.warn('Error adding remote candidate', reason);
                    });
                    return remoteCandidatePromises;
                }).then(function () {
                    self._remoteDescriptionSetForIceRestart = true;
                    self._checkAndTransit();
                }).catch(function (error) {
                    self.logger.error('ICE restart failed', {
                        error: error,
                        peerConnectionState: rtcSession._pc.connectionState,
                        iceConnectionState: rtcSession._pc.iceConnectionState,
                        signalingState: rtcSession._pc.signalingState
                    });
                    self.onIceRestartFailure();
                });
            } else {
                self.logger.error('Legacy Horizon client detected, skipping ICE restart');
                self.onIceRestartFailure();
            }
        }
    }, {
        key: "_ontrack",
        value: function _ontrack(self, evt) {
            // Check for empty streams
            if (evt.streams.length === 0) {
                self._logger.warn('No streams found in the event');
                return;
            }
            // Check for multiple streams
            if (evt.streams.length > 1) {
                self._logger.warn('Found more than 1 streams for ' + evt.track.kind + ' track ' + evt.track.id + ' : ' + evt.streams.map(function (stream) {
                    return stream.id;
                }).join(','));
            }
            var stream = evt.streams[0];
            var audioTrack = stream.getAudioTracks()[0];

            console.log("Audio Track:", audioTrack);
            console.log("Checking value of stream: ", JSON.stringify(stream, null, 2));

            // Set up remote audio element
            if (stream.track[0].kind === 'audio' && self._remoteAudioElement) {
                try {
                    // TODO: Optimize audio element creation. Either use the same audio element or implement a cleanup mechanism
                    // Currently creating a new element for each call.

                    var remoteAudio = document.createElement('audio');
                    remoteAudio.id = "remoteAudioElement" + 0;
                    window.HorizonWebRtcRedirectionAPI.onAudioCreated(remoteAudio, this.globalWindowReference);
                    remoteAudio.srcObject = stream;
                    self._remoteAudioElement = remoteAudio;
                    self._remoteAudioStream = stream;
                } catch (e) {
                    console.error("Failed to set srcObject on _remoteAudioElement:", e);
                    return; // Return after error since we can't proceed
                }
            }

            self._remoteAudioElement.autoplay = true;
            self._remoteAudioElement.playsInline = true;
        }
    }, {
        key: "getStrategyName",
        value: function getStrategyName() {
            return 'OmnissaVDIStrategy';
        }
    }, {
        key: "getCurrentTimeString",
        value: function getCurrentTimeString() {
            var currentTime = new Date();
            return " " + currentTime.getHours() + currentTime.getMinutes() + currentTime.getSeconds() + " ";
        }
    }, {
        key: "setTopWindowName",
        value: function setTopWindowName(title) {
            var self = this;
            top.document.title = title;
            self.topWindowName = title;
            return self.topWindowName;
        }
    }, {
        key: "setupMessageListener",
        value: function setupMessageListener() {
            var self = this;
            window.addEventListener('message', this.handleMessage.bind(this));

            if (!self.hasRequestedTitle) {
                self.hasRequestedTitle = true;
                window.parent.postMessage({ type: 'get_horizon_window_title' }, '*');
            }
        }
    }, {
        key: "handleMessage",
        value: function handleMessage(event) {
            var self = this;
            if (event.data.type === 'horizon_window_title_response') {
                self.topWindowName = event.data.title;
            }
        }
    }]);
    return OmnissaVDIStrategy;
}(_CCPInitiationStrategyInterface2.default);

exports.default = OmnissaVDIStrategy;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../rtc_const":153,"../rtc_session":156,"./CCPInitiationStrategyInterface":161,"@euc-releases/horizon-webrtc-redir-sdk/HorizonSDKforWebRTCRedir":3,"@euc-releases/horizon-webrtc-redir-sdk/HorizonWebRTCExtension":4,"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21,"babel-runtime/regenerator":27}],165:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require("babel-runtime/helpers/possibleConstructorReturn");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require("babel-runtime/helpers/inherits");

var _inherits3 = _interopRequireDefault(_inherits2);

var _CCPInitiationStrategyInterface = require("./CCPInitiationStrategyInterface");

var _CCPInitiationStrategyInterface2 = _interopRequireDefault(_CCPInitiationStrategyInterface);

var _rtc_const = require("../rtc_const");

var _utils = require("../utils");

var _rtc_session = require("../rtc_session");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StandardStrategy = function (_CCPInitiationStrateg) {
    (0, _inherits3.default)(StandardStrategy, _CCPInitiationStrateg);

    function StandardStrategy() {
        (0, _classCallCheck3.default)(this, StandardStrategy);

        var _this = (0, _possibleConstructorReturn3.default)(this, (StandardStrategy.__proto__ || Object.getPrototypeOf(StandardStrategy)).call(this));

        console.log("StandardStrategy initialized");
        return _this;
    }

    // the following functions are rtc_peer_connection_factory related functions
    // check if the browser supports early media connection


    (0, _createClass3.default)(StandardStrategy, [{
        key: "_isEarlyMediaConnectionSupported",
        value: function _isEarlyMediaConnectionSupported() {
            return (0, _utils.isChromeBrowser)() && (0, _utils.getChromeBrowserVersion)() >= _rtc_const.CHROME_SUPPORTED_VERSION;
        }
    }, {
        key: "_createRtcPeerConnection",
        value: function _createRtcPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig) {
            return new RTCPeerConnection(rtcPeerConnectionConfig, rtcPeerConnectionOptionalConfig);
        }

        // the following functions are rtc_session related functions

    }, {
        key: "_gUM",
        value: function _gUM(constraints) {
            return navigator.mediaDevices.getUserMedia(constraints);
        }
    }, {
        key: "_createMediaStream",
        value: function _createMediaStream(track) {
            return new MediaStream([track]);
        }
    }, {
        key: "addStream",
        value: function addStream(_pc, stream) {
            _pc.addStream(stream);
        }
    }, {
        key: "setRemoteDescription",
        value: function setRemoteDescription(self, rtcSession) {
            var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                type: 'answer',
                sdp: self._sdp
            }));
            setRemoteDescriptionPromise.catch(function (e) {
                self.logger.error('SetRemoteDescription failed', e);
            });
            setRemoteDescriptionPromise.then(function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                return remoteCandidatePromises;
            }).then(function () {
                rtcSession._sessionReport.setRemoteDescriptionFailure = false;
                self._remoteDescriptionSet = true;
                self._checkAndTransit();
            }).catch(function () {
                rtcSession._stopSession();
                rtcSession._sessionReport.setRemoteDescriptionFailure = true;
                self.transit(new _rtc_session.FailedState(rtcSession, _rtc_const.RTC_ERRORS.SET_REMOTE_DESCRIPTION_FAILURE));
            });
        }
    }, {
        key: "setRemoteDescriptionForIceRestart",
        value: function setRemoteDescriptionForIceRestart(self, rtcSession) {
            var setRemoteDescriptionPromise = rtcSession._pc.setRemoteDescription(self._createSessionDescription({
                type: 'answer',
                sdp: self._sdp
            }));
            setRemoteDescriptionPromise.catch(function (e) {
                self.logger.error('SetRemoteDescription failed', e);
            });
            setRemoteDescriptionPromise.then(function () {
                var remoteCandidatePromises = Promise.all(self._candidates.map(function (candidate) {
                    var remoteCandidate = self._createRemoteCandidate(candidate);
                    self.logger.info('Adding remote candidate', remoteCandidate);
                    return rtcSession._pc.addIceCandidate(remoteCandidate);
                }));
                remoteCandidatePromises.catch(function (reason) {
                    self.logger.warn('Error adding remote candidate', reason);
                });
                return remoteCandidatePromises;
            }).then(function () {
                self._remoteDescriptionSetForIceRestart = true;
                self._checkAndTransit();
            }).catch(function () {
                self.onIceRestartFailure();
            });
        }
    }, {
        key: "onIceStateChange",
        value: function onIceStateChange(evt, _pc) {
            // eslint-disable-line no-unused-vars
            return evt.currentTarget.iceConnectionState;
        }
    }, {
        key: "onPeerConnectionStateChange",
        value: function onPeerConnectionStateChange(_pc) {
            return _pc.connectionState;
        }
    }, {
        key: "_createPeerConnection",
        value: function _createPeerConnection(configuration, optionalConfiguration) {
            return new RTCPeerConnection(configuration, optionalConfiguration);
        }
    }, {
        key: "_ontrack",
        value: function _ontrack(self, evt) {
            if (evt.streams.length > 1) {
                self._logger.warn('Found more than 1 streams for ' + evt.track.kind + ' track ' + evt.track.id + ' : ' + evt.streams.map(function (stream) {
                    return stream.id;
                }).join(','));
            }
            if (evt.track.kind === 'video' && self._remoteVideoElement) {
                self._remoteVideoElement.srcObject = evt.streams[0];
                self._remoteVideoStream = evt.streams[0];
            } else if (evt.track.kind === 'audio' && self._remoteAudioElement) {
                self._remoteAudioElement.srcObject = evt.streams[0];
                self._remoteAudioStream = evt.streams[0];
                if (self._pcm) {
                    self._pcm._remoteAudioStream = self._remoteAudioStream;
                }
            }
        }
    }, {
        key: "_buildMediaConstraints",
        value: function _buildMediaConstraints(self, mediaConstraints) {
            if (self._enableAudio) {
                var audioConstraints = {};
                if (typeof self._echoCancellation !== 'undefined') {
                    audioConstraints.echoCancellation = !!self._echoCancellation;
                }
                if (Object.keys(audioConstraints).length > 0) {
                    mediaConstraints.audio = audioConstraints;
                } else {
                    mediaConstraints.audio = true;
                }
            } else {
                mediaConstraints.audio = false;
            }
        }
    }, {
        key: "getStrategyName",
        value: function getStrategyName() {
            return 'StandardStrategy';
        }
    }]);
    return StandardStrategy;
}(_CCPInitiationStrategyInterface2.default);

exports.default = StandardStrategy;

},{"../rtc_const":153,"../rtc_session":156,"../utils":167,"./CCPInitiationStrategyInterface":161,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/helpers/inherits":20,"babel-runtime/helpers/possibleConstructorReturn":21}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.UserAgentData = undefined;

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserAgentData = exports.UserAgentData = function () {
    function UserAgentData() {
        (0, _classCallCheck3.default)(this, UserAgentData);

        this._platform = null;
        this._platformVersion = null;
        this._architecture = null;
        this._bitness = null;
        this._browserBrand = null;
        this._browserVersion = null;
        this._mobile = false;
        this._model = null;
    }

    /**
     * Returns a string describing the platform the user agent is running on, like "Windows"
     * @returns {string}
     */


    (0, _createClass3.default)(UserAgentData, [{
        key: "platform",
        get: function get() {
            return this._platform;
        }

        /**
         * A string containing the platform version. For example, "10.0".
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._platform = value;
        }
    }, {
        key: "platformVersion",
        get: function get() {
            return this._platformVersion;
        }

        /**
         * A string containing the platform architecture. For example, "x86"
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._platformVersion = value;
        }
    }, {
        key: "architecture",
        get: function get() {
            return this._architecture;
        }

        /**
         * A string containing the architecture bitness. For example, "32" or "64".
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._architecture = value;
        }
    }, {
        key: "bitness",
        get: function get() {
            return this._bitness;
        }

        /**
         * Returns browser brand
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._bitness = value;
        }
    }, {
        key: "browserBrand",
        get: function get() {
            return this._browserBrand;
        }

        /**
         * Returns browser version
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._browserBrand = value;
        }
    }, {
        key: "browserVersion",
        get: function get() {
            return this._browserVersion;
        }

        /**
         * Returns true if the user agent is running on a mobile device
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._browserVersion = value;
        }
    }, {
        key: "mobile",
        get: function get() {
            return this._mobile;
        }

        /**
         * A string containing the model of mobile device.
         * @returns {string}
         */
        ,
        set: function set(value) {
            this._mobile = value;
        }
    }, {
        key: "model",
        get: function get() {
            return this._model;
        },
        set: function set(value) {
            this._model = value;
        }
    }]);
    return UserAgentData;
}();

},{"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getUserAgentData = exports.SdpOptions = undefined;

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

/**
 * Method to get userAgent data
 */

var getUserAgentData = exports.getUserAgentData = function () {
    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var userAgentData, result, browser, fallbackBrowser, userAgent, parser, parserResult;
        return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
                switch (_context.prev = _context.next) {
                    case 0:
                        userAgentData = new _user_agent_data.UserAgentData();

                        if (!navigator.userAgentData) {
                            _context.next = 15;
                            break;
                        }

                        _context.next = 4;
                        return navigator.userAgentData.getHighEntropyValues(['platform', 'platformVersion', 'architecture', 'bitness', 'mobile', 'model', 'fullVersionList']);

                    case 4:
                        result = _context.sent;


                        userAgentData.platform = result.platform;
                        userAgentData.platformVersion = result.platformVersion;
                        userAgentData.architecture = result.architecture;
                        userAgentData.bitness = result.bitness;
                        userAgentData.mobile = result.mobile;
                        userAgentData.model = result.model;

                        browser = result.fullVersionList.find(function (entry) {
                            return _rtc_const.BROWSER_LIST.includes(entry.brand);
                        });


                        if (browser) {
                            userAgentData.browserBrand = browser.brand;
                            userAgentData.browserVersion = browser.version;
                        } else {
                            // Fallback to the first available browser brand
                            fallbackBrowser = result.fullVersionList.find(function (entry) {
                                return entry.brand !== 'Not A Brand';
                            });

                            userAgentData.browserBrand = fallbackBrowser ? fallbackBrowser.brand : 'Unknown';
                            userAgentData.browserVersion = fallbackBrowser ? fallbackBrowser.version : 'Unknown';
                        }
                        _context.next = 23;
                        break;

                    case 15:
                        // Fallback to user-agent string parsing
                        userAgent = navigator.userAgent;
                        parser = new _uaParserJs2.default(userAgent);
                        parserResult = parser.getResult();


                        userAgentData.browserBrand = parserResult.browser.name || 'Unknown';
                        userAgentData.browserVersion = parserResult.browser.version || 'Unknown';
                        userAgentData.platform = parserResult.os.name || 'Unknown';
                        userAgentData.platformVersion = parserResult.os.version || 'Unknown';
                        userAgentData.architecture = parserResult.cpu.architecture || 'Unknown';

                    case 23:
                        return _context.abrupt('return', userAgentData);

                    case 24:
                    case 'end':
                        return _context.stop();
                }
            }
        }, _callee, this);
    }));

    return function getUserAgentData() {
        return _ref.apply(this, arguments);
    };
}();

exports.hitch = hitch;
exports.wrapLogger = wrapLogger;
exports.closeStream = closeStream;
exports.transformSdp = transformSdp;
exports.is_defined = is_defined;
exports.when_defined = when_defined;
exports.isFunction = isFunction;
exports.assertTrue = assertTrue;
exports.isChromeBrowser = isChromeBrowser;
exports.getChromeBrowserVersion = getChromeBrowserVersion;
exports.getRedactedSdp = getRedactedSdp;
exports.isFirefoxBrowser = isFirefoxBrowser;

var _exceptions = require('./exceptions');

var _sdp = require('sdp');

var _user_agent_data = require('./user_agent_data');

var _rtc_const = require('./rtc_const');

var _uaParserJs = require('ua-parser-js');

var _uaParserJs2 = _interopRequireDefault(_uaParserJs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * All logging methods used by connect-rtc.
 */
var logMethods = ['log', 'info', 'warn', 'error'];

/**
 * Binds the given instance object as the context for
 * the method provided.
 *
 * @param scope The instance object to be set as the scope
 *    of the function.
 * @param method The method to be encapsulated.
 *
 * All other arguments, if any, are bound to the method
 * invocation inside the closure.
 *
 * @return A closure encapsulating the invocation of the
 *    method provided in context of the given instance.
 */
/**
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

function hitch() {
    var args = Array.prototype.slice.call(arguments);
    var scope = args.shift();
    var method = args.shift();

    if (!scope) {
        throw new _exceptions.IllegalParameters('utils.hitch(): scope is required!');
    }

    if (!method) {
        throw new _exceptions.IllegalParameters('utils.hitch(): method is required!');
    }

    if (typeof method !== 'function') {
        throw new _exceptions.IllegalParameters('utils.hitch(): method is not a function!');
    }

    return function _hitchedFunction() {
        var closureArgs = Array.prototype.slice.call(arguments);
        return method.apply(scope, args.concat(closureArgs));
    };
}

function wrapLogger(logger, callId, logCategory) {
    var _logger = {};
    logMethods.forEach(function (logMethod) {
        if (!logger[logMethod]) {
            throw new Error('Logging method ' + logMethod + ' required');
        }
        _logger[logMethod] = hitch(logger, logger[logMethod], callId, logCategory);
    });
    return _logger;
}

function closeStream(stream) {
    if (stream) {
        var tracks = stream.getTracks();
        for (var i = 0; i < tracks.length; i++) {
            var track = tracks[i];
            try {
                track.stop();
            } catch (e) {
                // eat exception
            }
        }
    }
}

/**
 * A parameter of transformSdp.
 * This defines all the SDP options connect-rtc-js supports.
 */

var SdpOptions = exports.SdpOptions = function () {
    function SdpOptions() {
        (0, _classCallCheck3.default)(this, SdpOptions);

        this._forceCodec = {};
    }

    (0, _createClass3.default)(SdpOptions, [{
        key: '_shouldDeleteCodec',


        /**
         * Test if given codec should be removed from SDP.
         * @param mediaType audio|video
         * @param codecName case insensitive
         * @return TRUE - should remove
         */
        value: function _shouldDeleteCodec(mediaType, codecName) {
            var upperCaseCodecName = codecName.toUpperCase();
            return this._forceCodec[mediaType] && upperCaseCodecName !== this._forceCodec[mediaType].toUpperCase() && upperCaseCodecName !== 'TELEPHONE-EVENT';
        }
    }, {
        key: 'enableOpusDtx',
        get: function get() {
            return this._enableOpusDtx;
        }

        /**
         * By default transformSdp disables dtx for OPUS codec.
         * Setting this to true would force it to turn on DTX.
         */
        ,
        set: function set(flag) {
            this._enableOpusDtx = flag;
        }

        /**
         * A map from media type (audio/video) to codec (case insensitive).
         * Add entry for force connect-rtc-js to use specified codec for certain media type.
         * For example: sdpOptions.forceCodec['audio'] = 'opus';
         */

    }, {
        key: 'forceCodec',
        get: function get() {
            return this._forceCodec;
        }
    }]);
    return SdpOptions;
}();

/**
 * Modifies input SDP according to sdpOptions.
 * See SdpOptions for available options.
 * @param sdp original SDP
 * @param sdpOptions defines changes to be applied to SDP
 * @returns a map with 'sdp' containing the transformed SDP and 'mLines' containing the number of m lines in SDP
 */


function transformSdp(sdp, sdpOptions) {
    var sections = (0, _sdp.splitSections)(sdp);
    for (var i = 1; i < sections.length; i++) {
        var mediaType = (0, _sdp.getKind)(sections[i]);
        var rtpParams = (0, _sdp.parseRtpParameters)(sections[i]);
        // a map from payload type (string) to codec object
        var codecMap = rtpParams.codecs.reduce(function (map, codec) {
            map['' + codec.payloadType] = codec;
            return map;
        }, {});
        sections[i] = (0, _sdp.splitLines)(sections[i]).map(function (line) {
            if (line.startsWith('m=')) {
                // modify m= line if SdpOptions#forceCodec specifies codec for current media type
                if (sdpOptions.forceCodec[mediaType]) {
                    var targetCodecPts = Object.keys(codecMap).filter(function (pt) {
                        return !sdpOptions._shouldDeleteCodec(mediaType, codecMap[pt].name);
                    });
                    return (/.*RTP\/S?AVPF? /.exec(line) + targetCodecPts.join(' ')
                    );
                } else {
                    return line;
                }
            } else if (line.startsWith('a=rtpmap:')) {
                var rtpMap = (0, _sdp.parseRtpMap)(line);
                var currentCodec = codecMap[rtpMap.payloadType];

                // remove this codec if SdpOptions#forceCodec specifies a different codec for current media type
                if (is_defined(currentCodec) && sdpOptions._shouldDeleteCodec(mediaType, currentCodec.name)) {
                    return null;
                }

                // append a=fmtp line immediately if current codec is OPUS (to explicitly specify OPUS parameters)
                if (is_defined(currentCodec) && currentCodec.name.toUpperCase() === 'OPUS') {
                    currentCodec.parameters.usedtx = sdpOptions.enableOpusDtx ? "1" : "0";
                    // generate fmtp line immediately after rtpmap line, and remove original fmtp line once we see it
                    return (line + "\r\n" + (0, _sdp.writeFmtp)(currentCodec)).trim();
                } else {
                    return line;
                }
            } else if (line.startsWith('a=fmtp:')) {
                var pt = line.substring('a=fmtp:'.length, line.indexOf(' '));
                var currentCodec = codecMap[pt]; // eslint-disable-line no-redeclare

                // remove this codec if SdpOptions#forceCodec specifies a different codec for current media type
                if (is_defined(currentCodec) && sdpOptions._shouldDeleteCodec(mediaType, currentCodec.name)) {
                    return null;
                }

                if (is_defined(currentCodec) && currentCodec.name.toUpperCase() === 'OPUS') {
                    // this is a line for OPUS, remove it because FMTP line is already generated when rtpmap line is processed
                    return null;
                } else {
                    return line;
                }
            } else if (line.startsWith('a=rtcp-fb:')) {
                var pt = line.substring(line.indexOf(':') + 1, line.indexOf(' ')); // eslint-disable-line no-redeclare
                if (pt === '*') {
                    //always allow wildcard in rtc-fb
                    return line;
                } else {
                    var currentCodec = codecMap[pt]; // eslint-disable-line no-redeclare

                    // remove this codec if SdpOptions#forceCodec specifies a different codec for current media type
                    if (is_defined(currentCodec) && sdpOptions._shouldDeleteCodec(mediaType, currentCodec.name)) {
                        return null;
                    } else {
                        return line;
                    }
                }
            } else {
                return line;
            }
        }).filter(function (line) {
            return line !== null;
        }).join('\r\n');
    }
    return {
        sdp: sections.map(function (section) {
            return section.trim();
        }).join('\r\n') + '\r\n',
        mLines: sections.length - 1 // first section is session description, the rest are media descriptions
    };
}

function is_defined(v) {
    return typeof v !== 'undefined';
}

function when_defined(v, alternativeIn) {
    var alternative = is_defined(alternativeIn) ? alternativeIn : null;
    return is_defined(v) ? v : alternative;
}

/**
 * Determine if the given value is a callable function type.
 * Borrowed from Underscore.js.
 */
function isFunction(obj) {
    return !!(obj && obj.constructor && obj.call && obj.apply);
}

/**
 * Asserts that a premise is true.
 */
function assertTrue(premise, message) {
    if (!premise) {
        throw new Error(message);
    }
}

function isChromeBrowser() {
    return navigator.userAgent.indexOf("Chrome") !== -1;
}

function getChromeBrowserVersion() {
    var userAgent = navigator.userAgent;
    var chromeVersion = userAgent.substring(userAgent.indexOf("Chrome") + 7);
    if (chromeVersion) {
        return parseFloat(chromeVersion);
    } else {
        return -1;
    }
}

function getRedactedSdp(sdp) {
    // pattern to find and redact the value after 'a=ice-pwd:'
    var pattern = /a=ice-pwd:[^\r\n]*/;

    // Use the replace method to redact the value with '[redacted]'
    return sdp.replace(pattern, 'a=ice-pwd:[redacted]');
}function isFirefoxBrowser(userAgentData) {
    if (userAgentData) {
        return userAgentData.browserBrand.toUpperCase() === _rtc_const.FIREFOX.toUpperCase();
    } else {
        return navigator.userAgent.indexOf(_rtc_const.FIREFOX) !== -1;
    }
}

},{"./exceptions":152,"./rtc_const":153,"./user_agent_data":166,"babel-runtime/helpers/asyncToGenerator":16,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18,"babel-runtime/regenerator":27,"sdp":133,"ua-parser-js":134}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _utils = require('./utils');

var _rtc_const = require('./rtc_const');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var VirtualWssConnectionManager = function () {
    function VirtualWssConnectionManager(logger, connectionId, wssManager) {
        (0, _classCallCheck3.default)(this, VirtualWssConnectionManager);

        this._logger = logger;
        this._connectionId = connectionId;
        this._wssManager = wssManager;
        this._initializeWebSocketEventListeners();
    }

    (0, _createClass3.default)(VirtualWssConnectionManager, [{
        key: '_initializeWebSocketEventListeners',
        value: function _initializeWebSocketEventListeners() {
            var _this = this;

            this._wssManager.subscribeTopics([_rtc_const.SOFTPHONE_ROUTE_KEY]);
            this._unSubscribe = this._wssManager.onMessage(_rtc_const.SOFTPHONE_ROUTE_KEY, (0, _utils.hitch)(this, this._webSocketManagerOnMessage));
            setTimeout(function () {
                _this._onOpen();
            }, 0);
        }
    }, {
        key: '_webSocketManagerOnMessage',
        value: function _webSocketManagerOnMessage(event) {
            var content = void 0;
            if (event.content) {
                content = JSON.parse(event.content);
            }
            if (this._onMessage && content && this._connectionId === content.connectionId) {
                this._onMessage({ data: JSON.stringify(content.jsonRpcMsg) });
            }
        }
    }, {
        key: 'send',
        value: function send(webSocketPayload) {
            var payload = {};
            try {
                payload.topic = _rtc_const.SOFTPHONE_ROUTE_KEY;
                payload.connectionId = this._connectionId;
                payload.jsonRpcMsg = JSON.parse(webSocketPayload);
                this._wssManager.sendMessage(payload);
            } catch (error) {
                this._logger.error("Error in sendMessage ", error);
            }
        }
    }, {
        key: 'close',
        value: function close() {
            this._logger.info("closing virtual connection");
            this._unSubscribe();
        }
    }, {
        key: 'onmessage',
        set: function set(callBack) {
            this._onMessage = callBack;
        }
    }, {
        key: 'onopen',
        set: function set(callBack) {
            this._onOpen = callBack;
        }
    }]);
    return VirtualWssConnectionManager;
}();

exports.default = VirtualWssConnectionManager;

},{"./rtc_const":153,"./utils":167,"babel-runtime/helpers/classCallCheck":17,"babel-runtime/helpers/createClass":18}]},{},[1,151])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWIvZGN2LXdlYnJ0Yy1yZWRpci1jbGllbnQtYnVuZGxlLmpzIiwibm9kZV9tb2R1bGVzL0BjaXRyaXgvdWNzZGsvQ2l0cml4V2ViUlRDLmpzIiwibm9kZV9tb2R1bGVzL0BldWMtcmVsZWFzZXMvaG9yaXpvbi13ZWJydGMtcmVkaXItc2RrL0hvcml6b25TREtmb3JXZWJSVENSZWRpci5qcyIsIm5vZGVfbW9kdWxlcy9AZXVjLXJlbGVhc2VzL2hvcml6b24td2VicnRjLXJlZGlyLXNkay9Ib3Jpem9uV2ViUlRDRXh0ZW5zaW9uLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUtbW9kdWxlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX25ldy1wcm9taXNlLWNhcGFiaWxpdHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3BlcmZvcm0uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb21pc2UtcmVzb2x2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191c2VyLWFnZW50LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvcnRjcGVlcmNvbm5lY3Rpb24tc2hpbS9ydGNwZWVyY29ubmVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9zZHAvc2RwLmpzIiwibm9kZV9tb2R1bGVzL3VhLXBhcnNlci1qcy9zcmMvdWEtcGFyc2VyLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvdjQuanMiLCJub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2FkYXB0ZXJfY29yZS5qcyIsIm5vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvYWRhcHRlcl9mYWN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9jaHJvbWUvY2hyb21lX3NoaW0uanMiLCJub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9nZXR1c2VybWVkaWEuanMiLCJub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2NvbW1vbl9zaGltLmpzIiwibm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9lZGdlL2VkZ2Vfc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvZWRnZS9maWx0ZXJpY2VzZXJ2ZXJzLmpzIiwibm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9lZGdlL2dldHVzZXJtZWRpYS5qcyIsIm5vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvZmlyZWZveC9maXJlZm94X3NoaW0uanMiLCJub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2ZpcmVmb3gvZ2V0dXNlcm1lZGlhLmpzIiwibm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9zYWZhcmkvc2FmYXJpX3NoaW0uanMiLCJub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL3V0aWxzLmpzIiwic3JjL2pzL2NvbmZpZy9jb25zdGFudHMuanMiLCJzcmMvanMvY29ubmVjdC1ydGMuanMiLCJzcmMvanMvZXhjZXB0aW9ucy5qcyIsInNyYy9qcy9ydGNfY29uc3QuanMiLCJzcmMvanMvcnRjX3BlZXJfY29ubmVjdGlvbl9mYWN0b3J5LmpzIiwic3JjL2pzL3J0Y19wZWVyX2Nvbm5lY3Rpb25fbWFuYWdlci5qcyIsInNyYy9qcy9ydGNfc2Vzc2lvbi5qcyIsInNyYy9qcy9ydGNfc2Vzc2lvbl90YWxraW5nX3N1YnN0YXRlcy5qcyIsInNyYy9qcy9ydHAtc3RhdHMuanMiLCJzcmMvanMvc2Vzc2lvbl9yZXBvcnQuanMiLCJzcmMvanMvc2lnbmFsaW5nLmpzIiwic3JjL2pzL3N0cmF0ZWdpZXMvQ0NQSW5pdGlhdGlvblN0cmF0ZWd5SW50ZXJmYWNlLmpzIiwic3JjL2pzL3N0cmF0ZWdpZXMvQ2l0cml4VkRJU3RyYXRlZ3kuanMiLCJzcmMvanMvc3RyYXRlZ2llcy9EQ1ZXZWJSVENTdHJhdGVneS5qcyIsInNyYy9qcy9zdHJhdGVnaWVzL09tbmlzc2FWRElTdHJhdGVneS5qcyIsInNyYy9qcy9zdHJhdGVnaWVzL1N0YW5kYXJkU3RyYXRlZ3kuanMiLCJzcmMvanMvdXNlcl9hZ2VudF9kYXRhLmpzIiwic3JjL2pzL3V0aWxzLmpzIiwic3JjL2pzL3ZpcnR1YWxfd3NzX2Nvbm5lY3Rpb25fbWFuYWdlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBLENBQUMsVUFBUyxD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzNvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3Z0QkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5UkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDajBEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6ekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDai9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDejZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDak5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Z0IsMkIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT90KGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSx0KTp0KChlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dpdCA6ZXx8c2VsZikuZGN2d2VicnRjPXt9KX0odGhpcywoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9e21ham9yOjAsbWlub3I6MyxwYXRjaDozLGJ1aWxkTnVtYmVyOjAsZ2l0SGFzaDpcIjJhMDQ1MzhiZDE2ZWFhMTQ0YzZhODdhYjcxYTc3ZTJlMzE0ZjM0OGZcIix2ZXJzaW9uU3RyOlwiMC4zLjMrYnVpbGQuMFwifSxuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgaT17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe3ZhciB0LHI7dD1uLHI9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe30sdD1cInVuZGVmaW5lZFwiLG49dHlwZW9mIHdpbmRvdyE9PXQmJnR5cGVvZiB3aW5kb3cubmF2aWdhdG9yIT09dCYmL1RyaWRlbnRcXC98TVNJRSAvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLHI9W1widHJhY2VcIixcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiXSxpPXt9LHM9bnVsbDtmdW5jdGlvbiBhKGUsdCl7dmFyIG49ZVt0XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmJpbmQpcmV0dXJuIG4uYmluZChlKTt0cnl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwobixlKX1jYXRjaCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KG4sW2UsYXJndW1lbnRzXSl9fX1mdW5jdGlvbiBvKCl7Y29uc29sZS5sb2cmJihjb25zb2xlLmxvZy5hcHBseT9jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyk6RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KGNvbnNvbGUubG9nLFtjb25zb2xlLGFyZ3VtZW50c10pKSxjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCl9ZnVuY3Rpb24gZCgpe2Zvcih2YXIgbj10aGlzLmdldExldmVsKCksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldO3RoaXNbc109aTxuP2U6dGhpcy5tZXRob2RGYWN0b3J5KHMsbix0aGlzLm5hbWUpfWlmKHRoaXMubG9nPXRoaXMuZGVidWcsdHlwZW9mIGNvbnNvbGU9PT10JiZuPHRoaXMubGV2ZWxzLlNJTEVOVClyZXR1cm5cIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nXCJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oKXt0eXBlb2YgY29uc29sZSE9PXQmJihkLmNhbGwodGhpcyksdGhpc1tlXS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBsKHIsaSxzKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuXCJkZWJ1Z1wiPT09ciYmKHI9XCJsb2dcIiksdHlwZW9mIGNvbnNvbGUhPT10JiYoXCJ0cmFjZVwiPT09ciYmbj9vOnZvaWQgMCE9PWNvbnNvbGVbcl0/YShjb25zb2xlLHIpOnZvaWQgMCE9PWNvbnNvbGUubG9nP2EoY29uc29sZSxcImxvZ1wiKTplKX0ocil8fGMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoZSxuKXt2YXIgYSxvLGMsaD10aGlzLHU9XCJsb2dsZXZlbFwiO2Z1bmN0aW9uIF8oKXt2YXIgZTtpZih0eXBlb2Ygd2luZG93IT09dCYmdSl7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZVt1XX1jYXRjaChlKXt9aWYodHlwZW9mIGU9PT10KXRyeXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY29va2llLHI9ZW5jb2RlVVJJQ29tcG9uZW50KHUpLGk9bi5pbmRleE9mKHIrXCI9XCIpOy0xIT09aSYmKGU9L14oW147XSspLy5leGVjKG4uc2xpY2UoaStyLmxlbmd0aCsxKSlbMV0pfWNhdGNoKGUpe31yZXR1cm4gdm9pZCAwPT09aC5sZXZlbHNbZV0mJihlPXZvaWQgMCksZX19ZnVuY3Rpb24gZihlKXt2YXIgdD1lO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ2b2lkIDAhPT1oLmxldmVsc1t0LnRvVXBwZXJDYXNlKCldJiYodD1oLmxldmVsc1t0LnRvVXBwZXJDYXNlKCldKSxcIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCYmdDw9aC5sZXZlbHMuU0lMRU5UKXJldHVybiB0O3Rocm93IG5ldyBUeXBlRXJyb3IoXCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIitlKX1cInN0cmluZ1wiPT10eXBlb2YgZT91Kz1cIjpcIitlOlwic3ltYm9sXCI9PXR5cGVvZiBlJiYodT12b2lkIDApLGgubmFtZT1lLGgubGV2ZWxzPXtUUkFDRTowLERFQlVHOjEsSU5GTzoyLFdBUk46MyxFUlJPUjo0LFNJTEVOVDo1fSxoLm1ldGhvZEZhY3Rvcnk9bnx8bCxoLmdldExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWM/YzpudWxsIT1vP286YX0saC5zZXRMZXZlbD1mdW5jdGlvbihlLG4pe3JldHVybiBjPWYoZSksITEhPT1uJiZmdW5jdGlvbihlKXt2YXIgbj0ocltlXXx8XCJzaWxlbnRcIikudG9VcHBlckNhc2UoKTtpZih0eXBlb2Ygd2luZG93IT09dCYmdSl7dHJ5e3JldHVybiB2b2lkKHdpbmRvdy5sb2NhbFN0b3JhZ2VbdV09bil9Y2F0Y2goZSl7fXRyeXt3aW5kb3cuZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudCh1KStcIj1cIituK1wiO1wifWNhdGNoKGUpe319fShjKSxkLmNhbGwoaCl9LGguc2V0RGVmYXVsdExldmVsPWZ1bmN0aW9uKGUpe289ZihlKSxfKCl8fGguc2V0TGV2ZWwoZSwhMSl9LGgucmVzZXRMZXZlbD1mdW5jdGlvbigpe2M9bnVsbCxmdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3chPT10JiZ1KXt0cnl7d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe310cnl7d2luZG93LmRvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQodSkrXCI9OyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgVVRDXCJ9Y2F0Y2goZSl7fX19KCksZC5jYWxsKGgpfSxoLmVuYWJsZUFsbD1mdW5jdGlvbihlKXtoLnNldExldmVsKGgubGV2ZWxzLlRSQUNFLGUpfSxoLmRpc2FibGVBbGw9ZnVuY3Rpb24oZSl7aC5zZXRMZXZlbChoLmxldmVscy5TSUxFTlQsZSl9LGgucmVidWlsZD1mdW5jdGlvbigpe2lmKHMhPT1oJiYoYT1mKHMuZ2V0TGV2ZWwoKSkpLGQuY2FsbChoKSxzPT09aClmb3IodmFyIGUgaW4gaSlpW2VdLnJlYnVpbGQoKX0sYT1mKHM/cy5nZXRMZXZlbCgpOlwiV0FSTlwiKTt2YXIgRT1fKCk7bnVsbCE9RSYmKGM9ZihFKSksZC5jYWxsKGgpfShzPW5ldyBoKS5nZXRMb2dnZXI9ZnVuY3Rpb24oZSl7aWYoXCJzeW1ib2xcIiE9dHlwZW9mIGUmJlwic3RyaW5nXCIhPXR5cGVvZiBlfHxcIlwiPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTt2YXIgdD1pW2VdO3JldHVybiB0fHwodD1pW2VdPW5ldyBoKGUscy5tZXRob2RGYWN0b3J5KSksdH07dmFyIHU9dHlwZW9mIHdpbmRvdyE9PXQ/d2luZG93LmxvZzp2b2lkIDA7cmV0dXJuIHMubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0eXBlb2Ygd2luZG93IT09dCYmd2luZG93LmxvZz09PXMmJih3aW5kb3cubG9nPXUpLHN9LHMuZ2V0TG9nZ2Vycz1mdW5jdGlvbigpe3JldHVybiBpfSxzLmRlZmF1bHQ9cyxzfSxlLmV4cG9ydHM/ZS5leHBvcnRzPXIoKTp0LmxvZz1yKCl9KGkpO3ZhciBzPXIoaS5leHBvcnRzKTtjb25zdCBhPU9iamVjdC5mcmVlemUoe0hFTExPX0FQSV9OQU1FOlwiaGVsbG9cIixHRVRVU0VSTUVESUFfQVBJX05BTUU6XCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiLEVOVU1FUkFURURFVklDRVNfQVBJX05BTUU6XCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXNcIixHRU5FUkFURV9DRVJUSUZJQ0FURV9BUElfTkFNRTpcIlJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGVcIixORVdSVENQRUVSQ09OTkVDVElPTl9BUElfTkFNRTpcIm5ldy5SVENQZWVyQ29ubmVjdGlvblwiLFBDX0dFVF9DT05GSUdVUkFUSU9OOlwicGNzLmdldENvbmZpZ3VyYXRpb25cIixORVdfQVVESU9fQ09OVEVYVDpcIm5ldy5BdWRpb0NvbnRleHRcIixDUkVBVEVfV09SS0VSOlwibmV3LldvcmtlclwiLFdPUktFUl9QT1NUX01FU1NBR0U6XCJ3b3JrZXJzLnBvc3RNZXNzYWdlXCIsV09SS0VSX1RFUk1JTkFURTpcIndvcmtlcnMudGVybWluYXRlXCIsQVVESU9fQ1RYX0NSRUFURV9BVURJT19OT0RFOlwiYXVkaW9Db250ZXh0cy5jcmVhdGVBdWRpb05vZGVcIixBVURJT19DVFhfQ0xPU0U6XCJhdWRpb0NvbnRleHRzLmNsb3NlXCIsQVVESU9fTk9ERV9DT05ORUNUOlwiYXVkaW9Ob2Rlcy5jb25uZWN0XCIsQVVESU9fTk9ERV9ESVNDT05ORUNUOlwiYXVkaW9Ob2Rlcy5kaXNjb25uZWN0XCIsQVVESU9fUEFSQU1fU0VUX1ZBTFVFX0FUX1RJTUU6XCJhdWRpb1BhcmFtcy5zZXRWYWx1ZUF0VGltZVwiLEFVRElPX1BBUkFNX1NFVF9SQU1QX1RPX1ZBTFVFX0FUX1RJTUU6XCJhdWRpb1BhcmFtcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiLEFVRElPX05PREVfU0VUX1RZUEU6XCJhdWRpb05vZGVzLnNldFR5cGVcIixBVURJT19OT0RFX1NUQVJUOlwiYXVkaW9Ob2Rlcy5zdGFydFwiLEFVRElPX05PREVfU1RPUDpcImF1ZGlvTm9kZXMuc3RvcFwiLFBDX0NMT1NFX0FQSV9OQU1FOlwicGNzLmNsb3NlXCIsQUREU1RSRUFNX0FQSV9OQU1FOlwicGNzLmFkZFN0cmVhbVwiLFNUUkVBTV9SRU1PVkVfVFJBQ0s6XCJzdHJlYW1zLnJlbW92ZVRyYWNrXCIsU1RSRUFNX0FERF9UUkFDSzpcInN0cmVhbXMuYWRkVHJhY2tcIixHRVRfU1RBVFNfQVBJX05BTUU6XCJwY3MuZ2V0U3RhdHNcIixDUkVBVEVfT0ZGRVJfQVBJX05BTUU6XCJwY3MuY3JlYXRlT2ZmZXJcIixTRVRfTE9DQUxfREVTQ1JJUFRJT05fQVBJX05BTUU6XCJwY3Muc2V0TG9jYWxEZXNjcmlwdGlvblwiLEFERF9QQ19FVkVOVF9MSVNURU5FUjpcInBjcy5hZGRFdmVudExpc3RlbmVyXCIsQUREX1RSQUNLX0VWRU5UX0xJU1RFTkVSOlwidHJhY2tzLmFkZEV2ZW50TGlzdGVuZXJcIixBRERfRFRNRl9FVkVOVF9MSVNURU5FUjpcImR0bWZzLmFkZEV2ZW50TGlzdGVuZXJcIixBRERfV09SS0VSX0VWRU5UX0xJU1RFTkVSOlwid29ya2Vycy5hZGRFdmVudExpc3RlbmVyXCIsU0VUX1JFTU9URV9ERVNDUklQVElPTl9BUElfTkFNRTpcInBjcy5zZXRSZW1vdGVEZXNjcmlwdGlvblwiLEFERF9JQ0VfQ0FORElEQVRFX0FQSV9OQU1FOlwicGNzLmFkZEljZUNhbmRpZGF0ZVwiLENSRUFURV9NRURJQV9FTEVNRU5UX0FQSV9OQU1FOlwiZG9jdW1lbnQuY3JlYXRlRWxlbWVudFwiLE1FRElBX0VMRU1FTlRfU0VUX1NJTktfSURfQVBJX05BTUU6XCJtZWRpYUVsZW1lbnRzLnNldFNpbmtJZFwiLE1FRElBX0VMRU1FTlRfUkVNT1ZFOlwibWVkaWFFbGVtZW50cy5yZW1vdmVcIixDUkVBVEVfQU5TV0VSX0FQSV9OQU1FOlwicGNzLmNyZWF0ZUFuc3dlclwiLFVOTE9BRF9FVkVOVF9OQU1FOlwidW5sb2FkXCIsVE9HR0xFX1RSQUNLX0VOQUJMRURfQVBJX05BTUU6XCJ0cmFja3MuZW5hYmxlZFwiLFRSQUNLX1NUT1BfQVBJX05BTUU6XCJ0cmFja3Muc3RvcFwiLFRSQUNLX0dFVF9TRVRUSU5HUzpcInRyYWNrcy5nZXRTZXR0aW5nc1wiLEdFVF9SRUNFSVZFUlNfQVBJX05BTUU6XCJwY3MuZ2V0UmVjZWl2ZXJzXCIsQUREX1RSQUNLX0FQSV9OQU1FOlwicGNzLmFkZFRyYWNrXCIsR0VUX1NFTkRFUlNfQVBJX05BTUU6XCJwY3MuZ2V0U2VuZGVyc1wiLEdFVF9TRU5ERVJfU1RBVFNfQVBJX05BTUU6XCJzZW5kZXJzLmdldFN0YXRzXCIsR0VUX1JFQ0VJVkVSX1NUQVRTX0FQSV9OQU1FOlwicmVjZWl2ZXJzLmdldFN0YXRzXCIsU0VUX01FRElBX1NSQ19PQkpfQVBJX05BTUU6XCJtZWRpYUVsZW1lbnRzLnNyY09iamVjdFwiLFNFVF9NRURJQV9ISURERU5fQVBJX05BTUU6XCJtZWRpYUVsZW1lbnRzLmhpZGRlblwiLFNFVF9NRURJQV9WT0xVTUVfQVBJX05BTUU6XCJtZWRpYUVsZW1lbnRzLnZvbHVtZVwiLE1FRElBX0VMRU1FTlRfUExBWV9BUElfTkFNRTpcIm1lZGlhRWxlbWVudHMucGxheVwiLE1FRElBX0VMRU1FTlRfUEFVU0VfQVBJX05BTUU6XCJtZWRpYUVsZW1lbnRzLnBhdXNlXCIsTUVESUFfRUxFTUVOVF9NVVRFRDpcIm1lZGlhRWxlbWVudHMubXV0ZWRcIixBRERfVFJBTlNDRUlWRVJfQVBJX05BTUU6XCJwY3MuYWRkVHJhbnNjZWl2ZXJcIixHRVRfVFJBTlNDRUlWRVJTX0FQSV9OQU1FOlwicGNzLmdldFRyYW5zY2VpdmVyc1wiLFRSQU5TQ0VJVkVSX1NFVF9DT0RFQ19QUkVGUzpcInRyYW5zY2VpdmVycy5zZXRDb2RlY1ByZWZlcmVuY2VzXCIsUkVQTEFDRV9TRU5ERVJfVFJBQ0tfQVBJX05BTUU6XCJzZW5kZXJzLnJlcGxhY2VUcmFja1wiLFBDX1JFTU9WRV9UUkFDS19BUElfTkFNRTpcInBjcy5yZW1vdmVUcmFja1wiLElOU0VSVF9EVE1GX0FQSV9OQU1FOlwiZHRtZlNlbmRlcnMuaW5zZXJ0RFRNRlwiLFNFTkRFUl9DUkVBVEVfRU5DT0RFRF9TVFJFQU1TOlwic2VuZGVycy5jcmVhdGVFbmNvZGVkU3RyZWFtc1wiLFJFQ0VJVkVSX0NSRUFURV9FTkNPREVEX1NUUkVBTVM6XCJyZWNlaXZlcnMuY3JlYXRlRW5jb2RlZFN0cmVhbXNcIn0pLG89T2JqZWN0LmZyZWV6ZSh7U0lHX1NUQVRFX0NIQU5HRTpcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCIsVFJBQ0s6XCJ0cmFja1wiLENPTk5fU1RBVEVfQ0hBTkdFOlwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsSUNFX0NPTk5fU1RBVEVfQ0hBTkdFOlwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsSUNFX0dBVEhFUl9TVEFURV9DSEFOR0U6XCJpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiLElDRV9DQU5ESURBVEU6XCJpY2VjYW5kaWRhdGVcIixORUdPVElBVElPTl9ORUVERUQ6XCJuZWdvdGlhdGlvbm5lZWRlZFwifSksZD1PYmplY3QuZnJlZXplKHtFTkRFRDpcImVuZGVkXCIsTVVURTpcIm11dGVcIixVTk1VVEU6XCJ1bm11dGVcIn0pLGM9T2JqZWN0LmZyZWV6ZSh7VE9ORUNIQU5HRTpcInRvbmVjaGFuZ2VcIn0pLGw9T2JqZWN0LmZyZWV6ZSh7RVJST1I6XCJlcnJvclwiLE1FU1NBR0U6XCJtZXNzYWdlXCIsTUVTU0FHRV9FUlJPUjpcIm1lc3NhZ2VlcnJvclwifSksaD1PYmplY3QuZnJlZXplKHtORVc6XCJuZXdcIixBVkFJTEFCTEU6XCJhdmFpbGFibGVcIixVTkFWQUlMQUJMRTpcInVuYXZhaWxhYmxlXCJ9KSx1PU9iamVjdC5mcmVlemUoe0NIUk9NRTpcImRpaWxwZnBsY25oZWhha2Nra3BtY21pYm1oYmluZ25kXCIsRURHRTpcImtqYmJramppZWNjaGJjZG9vbGxoZ2ZmZ2hmam5iaGVmXCJ9KTtmb3IodmFyIF89XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsZj1cInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheT9bXTpuZXcgVWludDhBcnJheSgyNTYpLEU9MDtFPDY0O0UrKylmW18uY2hhckNvZGVBdChFKV09RTt2YXIgcD1mdW5jdGlvbihlKXt2YXIgdCxuPW5ldyBVaW50OEFycmF5KGUpLHI9bi5sZW5ndGgsaT1cIlwiO2Zvcih0PTA7dDxyO3QrPTMpaSs9X1tuW3RdPj4yXSxpKz1fWygzJm5bdF0pPDw0fG5bdCsxXT4+NF0saSs9X1soMTUmblt0KzFdKTw8MnxuW3QrMl0+PjZdLGkrPV9bNjMmblt0KzJdXTtyZXR1cm4gciUzPT0yP2k9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC0xKStcIj1cIjpyJTM9PTEmJihpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMikrXCI9PVwiKSxpfSxnPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHMsYT0uNzUqZS5sZW5ndGgsbz1lLmxlbmd0aCxkPTA7XCI9XCI9PT1lW2UubGVuZ3RoLTFdJiYoYS0tLFwiPVwiPT09ZVtlLmxlbmd0aC0yXSYmYS0tKTt2YXIgYz1uZXcgQXJyYXlCdWZmZXIoYSksbD1uZXcgVWludDhBcnJheShjKTtmb3IodD0wO3Q8bzt0Kz00KW49ZltlLmNoYXJDb2RlQXQodCldLHI9ZltlLmNoYXJDb2RlQXQodCsxKV0saT1mW2UuY2hhckNvZGVBdCh0KzIpXSxzPWZbZS5jaGFyQ29kZUF0KHQrMyldLGxbZCsrXT1uPDwyfHI+PjQsbFtkKytdPSgxNSZyKTw8NHxpPj4yLGxbZCsrXT0oMyZpKTw8Nnw2MyZzO3JldHVybiBjfSxtPXtleHBvcnRzOnt9fTtcbiAgICAvKiEgcGFrbyAyLjEuMCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28gQGxpY2Vuc2UgKE1JVCBBTkQgWmxpYikgKi9cbiAgICAhZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtsZXQgdD1lLmxlbmd0aDtmb3IoOy0tdD49MDspZVt0XT0wfWNvbnN0IG49MjU2LHI9Mjg2LGk9MzAscz0xNSxhPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKSxvPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSksZD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10pLGM9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxsPW5ldyBBcnJheSg1NzYpO3QobCk7Y29uc3QgaD1uZXcgQXJyYXkoNjApO3QoaCk7Y29uc3QgdT1uZXcgQXJyYXkoNTEyKTt0KHUpO2NvbnN0IF89bmV3IEFycmF5KDI1Nik7dChfKTtjb25zdCBmPW5ldyBBcnJheSgyOSk7dChmKTtjb25zdCBFPW5ldyBBcnJheShpKTtmdW5jdGlvbiBwKGUsdCxuLHIsaSl7dGhpcy5zdGF0aWNfdHJlZT1lLHRoaXMuZXh0cmFfYml0cz10LHRoaXMuZXh0cmFfYmFzZT1uLHRoaXMuZWxlbXM9cix0aGlzLm1heF9sZW5ndGg9aSx0aGlzLmhhc19zdHJlZT1lJiZlLmxlbmd0aH1sZXQgZyxtLEE7ZnVuY3Rpb24gdihlLHQpe3RoaXMuZHluX3RyZWU9ZSx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9dH10KEUpO2NvbnN0IHc9ZT0+ZTwyNTY/dVtlXTp1WzI1NisoZT4+PjcpXSxUPShlLHQpPT57ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnQsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1fSx5PShlLHQsbik9PntlLmJpX3ZhbGlkPjE2LW4/KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LFQoZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+MTYtZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1uLTE2KTooZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsZS5iaV92YWxpZCs9bil9LGI9KGUsdCxuKT0+e3koZSxuWzIqdF0sblsyKnQrMV0pfSxSPShlLHQpPT57bGV0IG49MDtkb3tufD0xJmUsZT4+Pj0xLG48PD0xfXdoaWxlKC0tdD4wKTtyZXR1cm4gbj4+PjF9LGs9KGUsdCxuKT0+e2NvbnN0IHI9bmV3IEFycmF5KDE2KTtsZXQgaSxhLG89MDtmb3IoaT0xO2k8PXM7aSsrKW89bytuW2ktMV08PDEscltpXT1vO2ZvcihhPTA7YTw9dDthKyspe2xldCB0PWVbMiphKzFdOzAhPT10JiYoZVsyKmFdPVIoclt0XSsrLHQpKX19LEk9ZT0+e2xldCB0O2Zvcih0PTA7dDxyO3QrKyllLmR5bl9sdHJlZVsyKnRdPTA7Zm9yKHQ9MDt0PGk7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8MTk7dCsrKWUuYmxfdHJlZVsyKnRdPTA7ZS5keW5fbHRyZWVbNTEyXT0xLGUub3B0X2xlbj1lLnN0YXRpY19sZW49MCxlLnN5bV9uZXh0PWUubWF0Y2hlcz0wfSxOPWU9PntlLmJpX3ZhbGlkPjg/VChlLGUuYmlfYnVmKTplLmJpX3ZhbGlkPjAmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT1lLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTB9LFM9KGUsdCxuLHIpPT57Y29uc3QgaT0yKnQscz0yKm47cmV0dXJuIGVbaV08ZVtzXXx8ZVtpXT09PWVbc10mJnJbdF08PXJbbl19LEM9KGUsdCxuKT0+e2NvbnN0IHI9ZS5oZWFwW25dO2xldCBpPW48PDE7Zm9yKDtpPD1lLmhlYXBfbGVuJiYoaTxlLmhlYXBfbGVuJiZTKHQsZS5oZWFwW2krMV0sZS5oZWFwW2ldLGUuZGVwdGgpJiZpKyssIVModCxyLGUuaGVhcFtpXSxlLmRlcHRoKSk7KWUuaGVhcFtuXT1lLmhlYXBbaV0sbj1pLGk8PD0xO2UuaGVhcFtuXT1yfSxQPShlLHQscik9PntsZXQgaSxzLGQsYyxsPTA7aWYoMCE9PWUuc3ltX25leHQpZG97aT0yNTUmZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrbCsrXSxpKz0oMjU1JmUucGVuZGluZ19idWZbZS5zeW1fYnVmK2wrK10pPDw4LHM9ZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrbCsrXSwwPT09aT9iKGUscyx0KTooZD1fW3NdLGIoZSxkK24rMSx0KSxjPWFbZF0sMCE9PWMmJihzLT1mW2RdLHkoZSxzLGMpKSxpLS0sZD13KGkpLGIoZSxkLHIpLGM9b1tkXSwwIT09YyYmKGktPUVbZF0seShlLGksYykpKX13aGlsZShsPGUuc3ltX25leHQpO2IoZSwyNTYsdCl9LEQ9KGUsdCk9Pntjb25zdCBuPXQuZHluX3RyZWUscj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxpPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxhPXQuc3RhdF9kZXNjLmVsZW1zO2xldCBvLGQsYyxsPS0xO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD01NzMsbz0wO288YTtvKyspMCE9PW5bMipvXT8oZS5oZWFwWysrZS5oZWFwX2xlbl09bD1vLGUuZGVwdGhbb109MCk6blsyKm8rMV09MDtmb3IoO2UuaGVhcF9sZW48MjspYz1lLmhlYXBbKytlLmhlYXBfbGVuXT1sPDI/KytsOjAsblsyKmNdPTEsZS5kZXB0aFtjXT0wLGUub3B0X2xlbi0tLGkmJihlLnN0YXRpY19sZW4tPXJbMipjKzFdKTtmb3IodC5tYXhfY29kZT1sLG89ZS5oZWFwX2xlbj4+MTtvPj0xO28tLSlDKGUsbixvKTtjPWE7ZG97bz1lLmhlYXBbMV0sZS5oZWFwWzFdPWUuaGVhcFtlLmhlYXBfbGVuLS1dLEMoZSxuLDEpLGQ9ZS5oZWFwWzFdLGUuaGVhcFstLWUuaGVhcF9tYXhdPW8sZS5oZWFwWy0tZS5oZWFwX21heF09ZCxuWzIqY109blsyKm9dK25bMipkXSxlLmRlcHRoW2NdPShlLmRlcHRoW29dPj1lLmRlcHRoW2RdP2UuZGVwdGhbb106ZS5kZXB0aFtkXSkrMSxuWzIqbysxXT1uWzIqZCsxXT1jLGUuaGVhcFsxXT1jKyssQyhlLG4sMSl9d2hpbGUoZS5oZWFwX2xlbj49Mik7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLCgoZSx0KT0+e2NvbnN0IG49dC5keW5fdHJlZSxyPXQubWF4X2NvZGUsaT10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxhPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxvPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsZD10LnN0YXRfZGVzYy5leHRyYV9iYXNlLGM9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aDtsZXQgbCxoLHUsXyxmLEUscD0wO2ZvcihfPTA7Xzw9cztfKyspZS5ibF9jb3VudFtfXT0wO2ZvcihuWzIqZS5oZWFwW2UuaGVhcF9tYXhdKzFdPTAsbD1lLmhlYXBfbWF4KzE7bDw1NzM7bCsrKWg9ZS5oZWFwW2xdLF89blsyKm5bMipoKzFdKzFdKzEsXz5jJiYoXz1jLHArKyksblsyKmgrMV09XyxoPnJ8fChlLmJsX2NvdW50W19dKyssZj0wLGg+PWQmJihmPW9baC1kXSksRT1uWzIqaF0sZS5vcHRfbGVuKz1FKihfK2YpLGEmJihlLnN0YXRpY19sZW4rPUUqKGlbMipoKzFdK2YpKSk7aWYoMCE9PXApe2Rve2ZvcihfPWMtMTswPT09ZS5ibF9jb3VudFtfXTspXy0tO2UuYmxfY291bnRbX10tLSxlLmJsX2NvdW50W18rMV0rPTIsZS5ibF9jb3VudFtjXS0tLHAtPTJ9d2hpbGUocD4wKTtmb3IoXz1jOzAhPT1fO18tLSlmb3IoaD1lLmJsX2NvdW50W19dOzAhPT1oOyl1PWUuaGVhcFstLWxdLHU+cnx8KG5bMip1KzFdIT09XyYmKGUub3B0X2xlbis9KF8tblsyKnUrMV0pKm5bMip1XSxuWzIqdSsxXT1fKSxoLS0pfX0pKGUsdCksayhuLGwsZS5ibF9jb3VudCl9LHg9KGUsdCxuKT0+e2xldCByLGkscz0tMSxhPXRbMV0sbz0wLGQ9NyxjPTQ7Zm9yKDA9PT1hJiYoZD0xMzgsYz0zKSx0WzIqKG4rMSkrMV09NjU1MzUscj0wO3I8PW47cisrKWk9YSxhPXRbMioocisxKSsxXSwrK288ZCYmaT09PWF8fChvPGM/ZS5ibF90cmVlWzIqaV0rPW86MCE9PWk/KGkhPT1zJiZlLmJsX3RyZWVbMippXSsrLGUuYmxfdHJlZVszMl0rKyk6bzw9MTA/ZS5ibF90cmVlWzM0XSsrOmUuYmxfdHJlZVszNl0rKyxvPTAscz1pLDA9PT1hPyhkPTEzOCxjPTMpOmk9PT1hPyhkPTYsYz0zKTooZD03LGM9NCkpfSxPPShlLHQsbik9PntsZXQgcixpLHM9LTEsYT10WzFdLG89MCxkPTcsYz00O2ZvcigwPT09YSYmKGQ9MTM4LGM9Mykscj0wO3I8PW47cisrKWlmKGk9YSxhPXRbMioocisxKSsxXSwhKCsrbzxkJiZpPT09YSkpe2lmKG88Yylkb3tiKGUsaSxlLmJsX3RyZWUpfXdoaWxlKDAhPS0tbyk7ZWxzZSAwIT09aT8oaSE9PXMmJihiKGUsaSxlLmJsX3RyZWUpLG8tLSksYihlLDE2LGUuYmxfdHJlZSkseShlLG8tMywyKSk6bzw9MTA/KGIoZSwxNyxlLmJsX3RyZWUpLHkoZSxvLTMsMykpOihiKGUsMTgsZS5ibF90cmVlKSx5KGUsby0xMSw3KSk7bz0wLHM9aSwwPT09YT8oZD0xMzgsYz0zKTppPT09YT8oZD02LGM9Myk6KGQ9NyxjPTQpfX07bGV0IE09ITE7Y29uc3QgTD0oZSx0LG4scik9Pnt5KGUsMCsocj8xOjApLDMpLE4oZSksVChlLG4pLFQoZSx+biksbiYmZS5wZW5kaW5nX2J1Zi5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K24pLGUucGVuZGluZyksZS5wZW5kaW5nKz1ufTt2YXIgVT0oZSx0LHIsaSk9PntsZXQgcyxhLG89MDtlLmxldmVsPjA/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT0oZT0+e2xldCB0LHI9NDA5MzYyNDQ0Nztmb3IodD0wO3Q8PTMxO3QrKyxyPj4+PTEpaWYoMSZyJiYwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gMDtpZigwIT09ZS5keW5fbHRyZWVbMThdfHwwIT09ZS5keW5fbHRyZWVbMjBdfHwwIT09ZS5keW5fbHRyZWVbMjZdKXJldHVybiAxO2Zvcih0PTMyO3Q8bjt0KyspaWYoMCE9PWUuZHluX2x0cmVlWzIqdF0pcmV0dXJuIDE7cmV0dXJuIDB9KShlKSksRChlLGUubF9kZXNjKSxEKGUsZS5kX2Rlc2MpLG89KGU9PntsZXQgdDtmb3IoeChlLGUuZHluX2x0cmVlLGUubF9kZXNjLm1heF9jb2RlKSx4KGUsZS5keW5fZHRyZWUsZS5kX2Rlc2MubWF4X2NvZGUpLEQoZSxlLmJsX2Rlc2MpLHQ9MTg7dD49MyYmMD09PWUuYmxfdHJlZVsyKmNbdF0rMV07dC0tKTtyZXR1cm4gZS5vcHRfbGVuKz0zKih0KzEpKzUrNSs0LHR9KShlKSxzPWUub3B0X2xlbiszKzc+Pj4zLGE9ZS5zdGF0aWNfbGVuKzMrNz4+PjMsYTw9cyYmKHM9YSkpOnM9YT1yKzUscis0PD1zJiYtMSE9PXQ/TChlLHQscixpKTo0PT09ZS5zdHJhdGVneXx8YT09PXM/KHkoZSwyKyhpPzE6MCksMyksUChlLGwsaCkpOih5KGUsNCsoaT8xOjApLDMpLCgoZSx0LG4scik9PntsZXQgaTtmb3IoeShlLHQtMjU3LDUpLHkoZSxuLTEsNSkseShlLHItNCw0KSxpPTA7aTxyO2krKyl5KGUsZS5ibF90cmVlWzIqY1tpXSsxXSwzKTtPKGUsZS5keW5fbHRyZWUsdC0xKSxPKGUsZS5keW5fZHRyZWUsbi0xKX0pKGUsZS5sX2Rlc2MubWF4X2NvZGUrMSxlLmRfZGVzYy5tYXhfY29kZSsxLG8rMSksUChlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSksSShlKSxpJiZOKGUpfSx6PXtfdHJfaW5pdDplPT57TXx8KCgoKT0+e2xldCBlLHQsbixjLHY7Y29uc3Qgdz1uZXcgQXJyYXkoMTYpO2ZvcihuPTAsYz0wO2M8Mjg7YysrKWZvcihmW2NdPW4sZT0wO2U8MTw8YVtjXTtlKyspX1tuKytdPWM7Zm9yKF9bbi0xXT1jLHY9MCxjPTA7YzwxNjtjKyspZm9yKEVbY109dixlPTA7ZTwxPDxvW2NdO2UrKyl1W3YrK109Yztmb3Iodj4+PTc7YzxpO2MrKylmb3IoRVtjXT12PDw3LGU9MDtlPDE8PG9bY10tNztlKyspdVsyNTYrdisrXT1jO2Zvcih0PTA7dDw9czt0Kyspd1t0XT0wO2ZvcihlPTA7ZTw9MTQzOylsWzIqZSsxXT04LGUrKyx3WzhdKys7Zm9yKDtlPD0yNTU7KWxbMiplKzFdPTksZSsrLHdbOV0rKztmb3IoO2U8PTI3OTspbFsyKmUrMV09NyxlKyssd1s3XSsrO2Zvcig7ZTw9Mjg3OylsWzIqZSsxXT04LGUrKyx3WzhdKys7Zm9yKGsobCwyODcsdyksZT0wO2U8aTtlKyspaFsyKmUrMV09NSxoWzIqZV09UihlLDUpO2c9bmV3IHAobCxhLDI1NyxyLHMpLG09bmV3IHAoaCxvLDAsaSxzKSxBPW5ldyBwKG5ldyBBcnJheSgwKSxkLDAsMTksNyl9KSgpLE09ITApLGUubF9kZXNjPW5ldyB2KGUuZHluX2x0cmVlLGcpLGUuZF9kZXNjPW5ldyB2KGUuZHluX2R0cmVlLG0pLGUuYmxfZGVzYz1uZXcgdihlLmJsX3RyZWUsQSksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTAsSShlKX0sX3RyX3N0b3JlZF9ibG9jazpMLF90cl9mbHVzaF9ibG9jazpVLF90cl90YWxseTooZSx0LHIpPT4oZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrZS5zeW1fbmV4dCsrXT10LGUucGVuZGluZ19idWZbZS5zeW1fYnVmK2Uuc3ltX25leHQrK109dD4+OCxlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZitlLnN5bV9uZXh0KytdPXIsMD09PXQ/ZS5keW5fbHRyZWVbMipyXSsrOihlLm1hdGNoZXMrKyx0LS0sZS5keW5fbHRyZWVbMiooX1tyXStuKzEpXSsrLGUuZHluX2R0cmVlWzIqdyh0KV0rKyksZS5zeW1fbmV4dD09PWUuc3ltX2VuZCksX3RyX2FsaWduOmU9Pnt5KGUsMiwzKSxiKGUsMjU2LGwpLChlPT57MTY9PT1lLmJpX3ZhbGlkPyhUKGUsZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wKTplLmJpX3ZhbGlkPj04JiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JmUuYmlfYnVmLGUuYmlfYnVmPj49OCxlLmJpX3ZhbGlkLT04KX0pKGUpfX0sRz0oZSx0LG4scik9PntsZXQgaT02NTUzNSZlLHM9ZT4+PjE2JjY1NTM1LGE9MDtmb3IoOzAhPT1uOyl7YT1uPjJlMz8yZTM6bixuLT1hO2Rve2k9aSt0W3IrK118MCxzPXMraXwwfXdoaWxlKC0tYSk7aSU9NjU1MjEscyU9NjU1MjF9cmV0dXJuIGl8czw8MTZ9O2NvbnN0IFY9bmV3IFVpbnQzMkFycmF5KCgoKT0+e2xldCBlLHQ9W107Zm9yKHZhciBuPTA7bjwyNTY7bisrKXtlPW47Zm9yKHZhciByPTA7cjw4O3IrKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbbl09ZX1yZXR1cm4gdH0pKCkpO3ZhciBxPShlLHQsbixyKT0+e2NvbnN0IGk9VixzPXIrbjtlXj0tMTtmb3IobGV0IG49cjtuPHM7bisrKWU9ZT4+PjheaVsyNTUmKGVedFtuXSldO3JldHVybn5lfSxGPXsyOlwibmVlZCBkaWN0aW9uYXJ5XCIsMTpcInN0cmVhbSBlbmRcIiwwOlwiXCIsXCItMVwiOlwiZmlsZSBlcnJvclwiLFwiLTJcIjpcInN0cmVhbSBlcnJvclwiLFwiLTNcIjpcImRhdGEgZXJyb3JcIixcIi00XCI6XCJpbnN1ZmZpY2llbnQgbWVtb3J5XCIsXCItNVwiOlwiYnVmZmVyIGVycm9yXCIsXCItNlwiOlwiaW5jb21wYXRpYmxlIHZlcnNpb25cIn0sSD17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX01FTV9FUlJPUjotNCxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fTtjb25zdHtfdHJfaW5pdDpqLF90cl9zdG9yZWRfYmxvY2s6QixfdHJfZmx1c2hfYmxvY2s6WixfdHJfdGFsbHk6VyxfdHJfYWxpZ246S309eix7Wl9OT19GTFVTSDokLFpfUEFSVElBTF9GTFVTSDpKLFpfRlVMTF9GTFVTSDpZLFpfRklOSVNIOlgsWl9CTE9DSzpRLFpfT0s6ZWUsWl9TVFJFQU1fRU5EOnRlLFpfU1RSRUFNX0VSUk9SOm5lLFpfREFUQV9FUlJPUjpyZSxaX0JVRl9FUlJPUjppZSxaX0RFRkFVTFRfQ09NUFJFU1NJT046c2UsWl9GSUxURVJFRDphZSxaX0hVRkZNQU5fT05MWTpvZSxaX1JMRTpkZSxaX0ZJWEVEOmNlLFpfREVGQVVMVF9TVFJBVEVHWTpsZSxaX1VOS05PV046aGUsWl9ERUZMQVRFRDp1ZX09SCxfZT0yNTgsZmU9MjYyLEVlPTQyLHBlPTExMyxnZT02NjYsbWU9KGUsdCk9PihlLm1zZz1GW3RdLHQpLEFlPWU9PjIqZS0oZT40Pzk6MCksdmU9ZT0+e2xldCB0PWUubGVuZ3RoO2Zvcig7LS10Pj0wOyllW3RdPTB9LHdlPWU9PntsZXQgdCxuLHIsaT1lLndfc2l6ZTt0PWUuaGFzaF9zaXplLHI9dDtkb3tuPWUuaGVhZFstLXJdLGUuaGVhZFtyXT1uPj1pP24taTowfXdoaWxlKC0tdCk7dD1pLHI9dDtkb3tuPWUucHJldlstLXJdLGUucHJldltyXT1uPj1pP24taTowfXdoaWxlKC0tdCl9O2xldCBUZT0oZSx0LG4pPT4odDw8ZS5oYXNoX3NoaWZ0Xm4pJmUuaGFzaF9tYXNrO2NvbnN0IHllPWU9Pntjb25zdCB0PWUuc3RhdGU7bGV0IG49dC5wZW5kaW5nO24+ZS5hdmFpbF9vdXQmJihuPWUuYXZhaWxfb3V0KSwwIT09biYmKGUub3V0cHV0LnNldCh0LnBlbmRpbmdfYnVmLnN1YmFycmF5KHQucGVuZGluZ19vdXQsdC5wZW5kaW5nX291dCtuKSxlLm5leHRfb3V0KSxlLm5leHRfb3V0Kz1uLHQucGVuZGluZ19vdXQrPW4sZS50b3RhbF9vdXQrPW4sZS5hdmFpbF9vdXQtPW4sdC5wZW5kaW5nLT1uLDA9PT10LnBlbmRpbmcmJih0LnBlbmRpbmdfb3V0PTApKX0sYmU9KGUsdCk9PntaKGUsZS5ibG9ja19zdGFydD49MD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQseWUoZS5zdHJtKX0sUmU9KGUsdCk9PntlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10fSxrZT0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdH0sSWU9KGUsdCxuLHIpPT57bGV0IGk9ZS5hdmFpbF9pbjtyZXR1cm4gaT5yJiYoaT1yKSwwPT09aT8wOihlLmF2YWlsX2luLT1pLHQuc2V0KGUuaW5wdXQuc3ViYXJyYXkoZS5uZXh0X2luLGUubmV4dF9pbitpKSxuKSwxPT09ZS5zdGF0ZS53cmFwP2UuYWRsZXI9RyhlLmFkbGVyLHQsaSxuKToyPT09ZS5zdGF0ZS53cmFwJiYoZS5hZGxlcj1xKGUuYWRsZXIsdCxpLG4pKSxlLm5leHRfaW4rPWksZS50b3RhbF9pbis9aSxpKX0sTmU9KGUsdCk9PntsZXQgbixyLGk9ZS5tYXhfY2hhaW5fbGVuZ3RoLHM9ZS5zdHJzdGFydCxhPWUucHJldl9sZW5ndGgsbz1lLm5pY2VfbWF0Y2g7Y29uc3QgZD1lLnN0cnN0YXJ0PmUud19zaXplLWZlP2Uuc3Ryc3RhcnQtKGUud19zaXplLWZlKTowLGM9ZS53aW5kb3csbD1lLndfbWFzayxoPWUucHJldix1PWUuc3Ryc3RhcnQrX2U7bGV0IF89Y1tzK2EtMV0sZj1jW3MrYV07ZS5wcmV2X2xlbmd0aD49ZS5nb29kX21hdGNoJiYoaT4+PTIpLG8+ZS5sb29rYWhlYWQmJihvPWUubG9va2FoZWFkKTtkb3tpZihuPXQsY1tuK2FdPT09ZiYmY1tuK2EtMV09PT1fJiZjW25dPT09Y1tzXSYmY1srK25dPT09Y1tzKzFdKXtzKz0yLG4rKztkb3t9d2hpbGUoY1srK3NdPT09Y1srK25dJiZjWysrc109PT1jWysrbl0mJmNbKytzXT09PWNbKytuXSYmY1srK3NdPT09Y1srK25dJiZjWysrc109PT1jWysrbl0mJmNbKytzXT09PWNbKytuXSYmY1srK3NdPT09Y1srK25dJiZjWysrc109PT1jWysrbl0mJnM8dSk7aWYocj1fZS0odS1zKSxzPXUtX2Uscj5hKXtpZihlLm1hdGNoX3N0YXJ0PXQsYT1yLHI+PW8pYnJlYWs7Xz1jW3MrYS0xXSxmPWNbcythXX19fXdoaWxlKCh0PWhbdCZsXSk+ZCYmMCE9LS1pKTtyZXR1cm4gYTw9ZS5sb29rYWhlYWQ/YTplLmxvb2thaGVhZH0sU2U9ZT0+e2NvbnN0IHQ9ZS53X3NpemU7bGV0IG4scixpO2Rve2lmKHI9ZS53aW5kb3dfc2l6ZS1lLmxvb2thaGVhZC1lLnN0cnN0YXJ0LGUuc3Ryc3RhcnQ+PXQrKHQtZmUpJiYoZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KHQsdCt0LXIpLDApLGUubWF0Y2hfc3RhcnQtPXQsZS5zdHJzdGFydC09dCxlLmJsb2NrX3N0YXJ0LT10LGUuaW5zZXJ0PmUuc3Ryc3RhcnQmJihlLmluc2VydD1lLnN0cnN0YXJ0KSx3ZShlKSxyKz10KSwwPT09ZS5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKG49SWUoZS5zdHJtLGUud2luZG93LGUuc3Ryc3RhcnQrZS5sb29rYWhlYWQsciksZS5sb29rYWhlYWQrPW4sZS5sb29rYWhlYWQrZS5pbnNlcnQ+PTMpZm9yKGk9ZS5zdHJzdGFydC1lLmluc2VydCxlLmluc19oPWUud2luZG93W2ldLGUuaW5zX2g9VGUoZSxlLmluc19oLGUud2luZG93W2krMV0pO2UuaW5zZXJ0JiYoZS5pbnNfaD1UZShlLGUuaW5zX2gsZS53aW5kb3dbaSszLTFdKSxlLnByZXZbaSZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1pLGkrKyxlLmluc2VydC0tLCEoZS5sb29rYWhlYWQrZS5pbnNlcnQ8MykpOyk7fXdoaWxlKGUubG9va2FoZWFkPGZlJiYwIT09ZS5zdHJtLmF2YWlsX2luKX0sQ2U9KGUsdCk9PntsZXQgbixyLGkscz1lLnBlbmRpbmdfYnVmX3NpemUtNT5lLndfc2l6ZT9lLndfc2l6ZTplLnBlbmRpbmdfYnVmX3NpemUtNSxhPTAsbz1lLnN0cm0uYXZhaWxfaW47ZG97aWYobj02NTUzNSxpPWUuYmlfdmFsaWQrNDI+PjMsZS5zdHJtLmF2YWlsX291dDxpKWJyZWFrO2lmKGk9ZS5zdHJtLmF2YWlsX291dC1pLHI9ZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LG4+citlLnN0cm0uYXZhaWxfaW4mJihuPXIrZS5zdHJtLmF2YWlsX2luKSxuPmkmJihuPWkpLG48cyYmKDA9PT1uJiZ0IT09WHx8dD09PSR8fG4hPT1yK2Uuc3RybS5hdmFpbF9pbikpYnJlYWs7YT10PT09WCYmbj09PXIrZS5zdHJtLmF2YWlsX2luPzE6MCxCKGUsMCwwLGEpLGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTRdPW4sZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmctM109bj4+OCxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0yXT1+bixlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0xXT1+bj4+OCx5ZShlLnN0cm0pLHImJihyPm4mJihyPW4pLGUuc3RybS5vdXRwdXQuc2V0KGUud2luZG93LnN1YmFycmF5KGUuYmxvY2tfc3RhcnQsZS5ibG9ja19zdGFydCtyKSxlLnN0cm0ubmV4dF9vdXQpLGUuc3RybS5uZXh0X291dCs9cixlLnN0cm0uYXZhaWxfb3V0LT1yLGUuc3RybS50b3RhbF9vdXQrPXIsZS5ibG9ja19zdGFydCs9cixuLT1yKSxuJiYoSWUoZS5zdHJtLGUuc3RybS5vdXRwdXQsZS5zdHJtLm5leHRfb3V0LG4pLGUuc3RybS5uZXh0X291dCs9bixlLnN0cm0uYXZhaWxfb3V0LT1uLGUuc3RybS50b3RhbF9vdXQrPW4pfXdoaWxlKDA9PT1hKTtyZXR1cm4gby09ZS5zdHJtLmF2YWlsX2luLG8mJihvPj1lLndfc2l6ZT8oZS5tYXRjaGVzPTIsZS53aW5kb3cuc2V0KGUuc3RybS5pbnB1dC5zdWJhcnJheShlLnN0cm0ubmV4dF9pbi1lLndfc2l6ZSxlLnN0cm0ubmV4dF9pbiksMCksZS5zdHJzdGFydD1lLndfc2l6ZSxlLmluc2VydD1lLnN0cnN0YXJ0KTooZS53aW5kb3dfc2l6ZS1lLnN0cnN0YXJ0PD1vJiYoZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLGUud2luZG93LnNldChlLnN0cm0uaW5wdXQuc3ViYXJyYXkoZS5zdHJtLm5leHRfaW4tbyxlLnN0cm0ubmV4dF9pbiksZS5zdHJzdGFydCksZS5zdHJzdGFydCs9byxlLmluc2VydCs9bz5lLndfc2l6ZS1lLmluc2VydD9lLndfc2l6ZS1lLmluc2VydDpvKSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLGE/NDp0IT09JCYmdCE9PVgmJjA9PT1lLnN0cm0uYXZhaWxfaW4mJmUuc3Ryc3RhcnQ9PT1lLmJsb2NrX3N0YXJ0PzI6KGk9ZS53aW5kb3dfc2l6ZS1lLnN0cnN0YXJ0LGUuc3RybS5hdmFpbF9pbj5pJiZlLmJsb2NrX3N0YXJ0Pj1lLndfc2l6ZSYmKGUuYmxvY2tfc3RhcnQtPWUud19zaXplLGUuc3Ryc3RhcnQtPWUud19zaXplLGUud2luZG93LnNldChlLndpbmRvdy5zdWJhcnJheShlLndfc2l6ZSxlLndfc2l6ZStlLnN0cnN0YXJ0KSwwKSxlLm1hdGNoZXM8MiYmZS5tYXRjaGVzKyssaSs9ZS53X3NpemUsZS5pbnNlcnQ+ZS5zdHJzdGFydCYmKGUuaW5zZXJ0PWUuc3Ryc3RhcnQpKSxpPmUuc3RybS5hdmFpbF9pbiYmKGk9ZS5zdHJtLmF2YWlsX2luKSxpJiYoSWUoZS5zdHJtLGUud2luZG93LGUuc3Ryc3RhcnQsaSksZS5zdHJzdGFydCs9aSxlLmluc2VydCs9aT5lLndfc2l6ZS1lLmluc2VydD9lLndfc2l6ZS1lLmluc2VydDppKSxlLmhpZ2hfd2F0ZXI8ZS5zdHJzdGFydCYmKGUuaGlnaF93YXRlcj1lLnN0cnN0YXJ0KSxpPWUuYmlfdmFsaWQrNDI+PjMsaT1lLnBlbmRpbmdfYnVmX3NpemUtaT42NTUzNT82NTUzNTplLnBlbmRpbmdfYnVmX3NpemUtaSxzPWk+ZS53X3NpemU/ZS53X3NpemU6aSxyPWUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCwocj49c3x8KHJ8fHQ9PT1YKSYmdCE9PSQmJjA9PT1lLnN0cm0uYXZhaWxfaW4mJnI8PWkpJiYobj1yPmk/aTpyLGE9dD09PVgmJjA9PT1lLnN0cm0uYXZhaWxfaW4mJm49PT1yPzE6MCxCKGUsZS5ibG9ja19zdGFydCxuLGEpLGUuYmxvY2tfc3RhcnQrPW4seWUoZS5zdHJtKSksYT8zOjEpfSxQZT0oZSx0KT0+e2xldCBuLHI7Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxmZSl7aWYoU2UoZSksZS5sb29rYWhlYWQ8ZmUmJnQ9PT0kKXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihuPTAsZS5sb29rYWhlYWQ+PTMmJihlLmluc19oPVRlKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLG49ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9PW4mJmUuc3Ryc3RhcnQtbjw9ZS53X3NpemUtZmUmJihlLm1hdGNoX2xlbmd0aD1OZShlLG4pKSxlLm1hdGNoX2xlbmd0aD49MylpZihyPVcoZSxlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQsZS5tYXRjaF9sZW5ndGgtMyksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPD1lLm1heF9sYXp5X21hdGNoJiZlLmxvb2thaGVhZD49Myl7ZS5tYXRjaF9sZW5ndGgtLTtkb3tlLnN0cnN0YXJ0KyssZS5pbnNfaD1UZShlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCszLTFdKSxuPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnR9d2hpbGUoMCE9LS1lLm1hdGNoX2xlbmd0aCk7ZS5zdHJzdGFydCsrfWVsc2UgZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCxlLmluc19oPWUud2luZG93W2Uuc3Ryc3RhcnRdLGUuaW5zX2g9VGUoZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMV0pO2Vsc2Ugcj1XKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYociYmKGJlKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDwyP2Uuc3Ryc3RhcnQ6Mix0PT09WD8oYmUoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/Mzo0KTplLnN5bV9uZXh0JiYoYmUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpPzE6Mn0sRGU9KGUsdCk9PntsZXQgbixyLGk7Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxmZSl7aWYoU2UoZSksZS5sb29rYWhlYWQ8ZmUmJnQ9PT0kKXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihuPTAsZS5sb29rYWhlYWQ+PTMmJihlLmluc19oPVRlKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLG49ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksZS5wcmV2X2xlbmd0aD1lLm1hdGNoX2xlbmd0aCxlLnByZXZfbWF0Y2g9ZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aD0yLDAhPT1uJiZlLnByZXZfbGVuZ3RoPGUubWF4X2xhenlfbWF0Y2gmJmUuc3Ryc3RhcnQtbjw9ZS53X3NpemUtZmUmJihlLm1hdGNoX2xlbmd0aD1OZShlLG4pLGUubWF0Y2hfbGVuZ3RoPD01JiYoZS5zdHJhdGVneT09PWFlfHwzPT09ZS5tYXRjaF9sZW5ndGgmJmUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydD40MDk2KSYmKGUubWF0Y2hfbGVuZ3RoPTIpKSxlLnByZXZfbGVuZ3RoPj0zJiZlLm1hdGNoX2xlbmd0aDw9ZS5wcmV2X2xlbmd0aCl7aT1lLnN0cnN0YXJ0K2UubG9va2FoZWFkLTMscj1XKGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLnByZXZfbGVuZ3RoLTEsZS5wcmV2X2xlbmd0aC09Mjtkb3srK2Uuc3Ryc3RhcnQ8PWkmJihlLmluc19oPVRlKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLG49ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCl9d2hpbGUoMCE9LS1lLnByZXZfbGVuZ3RoKTtpZihlLm1hdGNoX2F2YWlsYWJsZT0wLGUubWF0Y2hfbGVuZ3RoPTIsZS5zdHJzdGFydCsrLHImJihiZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9ZWxzZSBpZihlLm1hdGNoX2F2YWlsYWJsZSl7aWYocj1XKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxyJiZiZShlLCExKSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLSwwPT09ZS5zdHJtLmF2YWlsX291dClyZXR1cm4gMX1lbHNlIGUubWF0Y2hfYXZhaWxhYmxlPTEsZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS19cmV0dXJuIGUubWF0Y2hfYXZhaWxhYmxlJiYocj1XKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxlLm1hdGNoX2F2YWlsYWJsZT0wKSxlLmluc2VydD1lLnN0cnN0YXJ0PDI/ZS5zdHJzdGFydDoyLHQ9PT1YPyhiZShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihiZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfTtmdW5jdGlvbiB4ZShlLHQsbixyLGkpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1uLHRoaXMubWF4X2NoYWluPXIsdGhpcy5mdW5jPWl9Y29uc3QgT2U9W25ldyB4ZSgwLDAsMCwwLENlKSxuZXcgeGUoNCw0LDgsNCxQZSksbmV3IHhlKDQsNSwxNiw4LFBlKSxuZXcgeGUoNCw2LDMyLDMyLFBlKSxuZXcgeGUoNCw0LDE2LDE2LERlKSxuZXcgeGUoOCwxNiwzMiwzMixEZSksbmV3IHhlKDgsMTYsMTI4LDEyOCxEZSksbmV3IHhlKDgsMzIsMTI4LDI1NixEZSksbmV3IHhlKDMyLDEyOCwyNTgsMTAyNCxEZSksbmV3IHhlKDMyLDI1OCwyNTgsNDA5NixEZSldO2Z1bmN0aW9uIE1lKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9dWUsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IFVpbnQxNkFycmF5KDExNDYpLHRoaXMuZHluX2R0cmVlPW5ldyBVaW50MTZBcnJheSgxMjIpLHRoaXMuYmxfdHJlZT1uZXcgVWludDE2QXJyYXkoNzgpLHZlKHRoaXMuZHluX2x0cmVlKSx2ZSh0aGlzLmR5bl9kdHJlZSksdmUodGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgVWludDE2QXJyYXkoMTYpLHRoaXMuaGVhcD1uZXcgVWludDE2QXJyYXkoNTczKSx2ZSh0aGlzLmhlYXApLHRoaXMuaGVhcF9sZW49MCx0aGlzLmhlYXBfbWF4PTAsdGhpcy5kZXB0aD1uZXcgVWludDE2QXJyYXkoNTczKSx2ZSh0aGlzLmRlcHRoKSx0aGlzLnN5bV9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5zeW1fbmV4dD0wLHRoaXMuc3ltX2VuZD0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9Y29uc3QgTGU9ZT0+e2lmKCFlKXJldHVybiAxO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4hdHx8dC5zdHJtIT09ZXx8dC5zdGF0dXMhPT1FZSYmNTchPT10LnN0YXR1cyYmNjkhPT10LnN0YXR1cyYmNzMhPT10LnN0YXR1cyYmOTEhPT10LnN0YXR1cyYmMTAzIT09dC5zdGF0dXMmJnQuc3RhdHVzIT09cGUmJnQuc3RhdHVzIT09Z2U/MTowfSxVZT1lPT57aWYoTGUoZSkpcmV0dXJuIG1lKGUsbmUpO2UudG90YWxfaW49ZS50b3RhbF9vdXQ9MCxlLmRhdGFfdHlwZT1oZTtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIHQucGVuZGluZz0wLHQucGVuZGluZ19vdXQ9MCx0LndyYXA8MCYmKHQud3JhcD0tdC53cmFwKSx0LnN0YXR1cz0yPT09dC53cmFwPzU3OnQud3JhcD9FZTpwZSxlLmFkbGVyPTI9PT10LndyYXA/MDoxLHQubGFzdF9mbHVzaD0tMixqKHQpLGVlfSx6ZT1lPT57Y29uc3QgdD1VZShlKTt2YXIgbjtyZXR1cm4gdD09PWVlJiYoKG49ZS5zdGF0ZSkud2luZG93X3NpemU9MipuLndfc2l6ZSx2ZShuLmhlYWQpLG4ubWF4X2xhenlfbWF0Y2g9T2Vbbi5sZXZlbF0ubWF4X2xhenksbi5nb29kX21hdGNoPU9lW24ubGV2ZWxdLmdvb2RfbGVuZ3RoLG4ubmljZV9tYXRjaD1PZVtuLmxldmVsXS5uaWNlX2xlbmd0aCxuLm1heF9jaGFpbl9sZW5ndGg9T2Vbbi5sZXZlbF0ubWF4X2NoYWluLG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5sb29rYWhlYWQ9MCxuLmluc2VydD0wLG4ubWF0Y2hfbGVuZ3RoPW4ucHJldl9sZW5ndGg9MixuLm1hdGNoX2F2YWlsYWJsZT0wLG4uaW5zX2g9MCksdH0sR2U9KGUsdCxuLHIsaSxzKT0+e2lmKCFlKXJldHVybiBuZTtsZXQgYT0xO2lmKHQ9PT1zZSYmKHQ9NikscjwwPyhhPTAscj0tcik6cj4xNSYmKGE9MixyLT0xNiksaTwxfHxpPjl8fG4hPT11ZXx8cjw4fHxyPjE1fHx0PDB8fHQ+OXx8czwwfHxzPmNlfHw4PT09ciYmMSE9PWEpcmV0dXJuIG1lKGUsbmUpOzg9PT1yJiYocj05KTtjb25zdCBvPW5ldyBNZTtyZXR1cm4gZS5zdGF0ZT1vLG8uc3RybT1lLG8uc3RhdHVzPUVlLG8ud3JhcD1hLG8uZ3poZWFkPW51bGwsby53X2JpdHM9cixvLndfc2l6ZT0xPDxvLndfYml0cyxvLndfbWFzaz1vLndfc2l6ZS0xLG8uaGFzaF9iaXRzPWkrNyxvLmhhc2hfc2l6ZT0xPDxvLmhhc2hfYml0cyxvLmhhc2hfbWFzaz1vLmhhc2hfc2l6ZS0xLG8uaGFzaF9zaGlmdD1+figoby5oYXNoX2JpdHMrMy0xKS8zKSxvLndpbmRvdz1uZXcgVWludDhBcnJheSgyKm8ud19zaXplKSxvLmhlYWQ9bmV3IFVpbnQxNkFycmF5KG8uaGFzaF9zaXplKSxvLnByZXY9bmV3IFVpbnQxNkFycmF5KG8ud19zaXplKSxvLmxpdF9idWZzaXplPTE8PGkrNixvLnBlbmRpbmdfYnVmX3NpemU9NCpvLmxpdF9idWZzaXplLG8ucGVuZGluZ19idWY9bmV3IFVpbnQ4QXJyYXkoby5wZW5kaW5nX2J1Zl9zaXplKSxvLnN5bV9idWY9by5saXRfYnVmc2l6ZSxvLnN5bV9lbmQ9Myooby5saXRfYnVmc2l6ZS0xKSxvLmxldmVsPXQsby5zdHJhdGVneT1zLG8ubWV0aG9kPW4semUoZSl9O3ZhciBWZT17ZGVmbGF0ZUluaXQ6KGUsdCk9PkdlKGUsdCx1ZSwxNSw4LGxlKSxkZWZsYXRlSW5pdDI6R2UsZGVmbGF0ZVJlc2V0OnplLGRlZmxhdGVSZXNldEtlZXA6VWUsZGVmbGF0ZVNldEhlYWRlcjooZSx0KT0+TGUoZSl8fDIhPT1lLnN0YXRlLndyYXA/bmU6KGUuc3RhdGUuZ3poZWFkPXQsZWUpLGRlZmxhdGU6KGUsdCk9PntpZihMZShlKXx8dD5RfHx0PDApcmV0dXJuIGU/bWUoZSxuZSk6bmU7Y29uc3Qgbj1lLnN0YXRlO2lmKCFlLm91dHB1dHx8MCE9PWUuYXZhaWxfaW4mJiFlLmlucHV0fHxuLnN0YXR1cz09PWdlJiZ0IT09WClyZXR1cm4gbWUoZSwwPT09ZS5hdmFpbF9vdXQ/aWU6bmUpO2NvbnN0IHI9bi5sYXN0X2ZsdXNoO2lmKG4ubGFzdF9mbHVzaD10LDAhPT1uLnBlbmRpbmcpe2lmKHllKGUpLDA9PT1lLmF2YWlsX291dClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLGVlfWVsc2UgaWYoMD09PWUuYXZhaWxfaW4mJkFlKHQpPD1BZShyKSYmdCE9PVgpcmV0dXJuIG1lKGUsaWUpO2lmKG4uc3RhdHVzPT09Z2UmJjAhPT1lLmF2YWlsX2luKXJldHVybiBtZShlLGllKTtpZihuLnN0YXR1cz09PUVlJiYwPT09bi53cmFwJiYobi5zdGF0dXM9cGUpLG4uc3RhdHVzPT09RWUpe2xldCB0PXVlKyhuLndfYml0cy04PDw0KTw8OCxyPS0xO2lmKHI9bi5zdHJhdGVneT49b2V8fG4ubGV2ZWw8Mj8wOm4ubGV2ZWw8Nj8xOjY9PT1uLmxldmVsPzI6Myx0fD1yPDw2LDAhPT1uLnN0cnN0YXJ0JiYodHw9MzIpLHQrPTMxLXQlMzEsa2Uobix0KSwwIT09bi5zdHJzdGFydCYmKGtlKG4sZS5hZGxlcj4+PjE2KSxrZShuLDY1NTM1JmUuYWRsZXIpKSxlLmFkbGVyPTEsbi5zdGF0dXM9cGUseWUoZSksMCE9PW4ucGVuZGluZylyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLGVlfWlmKDU3PT09bi5zdGF0dXMpaWYoZS5hZGxlcj0wLFJlKG4sMzEpLFJlKG4sMTM5KSxSZShuLDgpLG4uZ3poZWFkKVJlKG4sKG4uZ3poZWFkLnRleHQ/MTowKSsobi5nemhlYWQuaGNyYz8yOjApKyhuLmd6aGVhZC5leHRyYT80OjApKyhuLmd6aGVhZC5uYW1lPzg6MCkrKG4uZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLFJlKG4sMjU1Jm4uZ3poZWFkLnRpbWUpLFJlKG4sbi5nemhlYWQudGltZT4+OCYyNTUpLFJlKG4sbi5nemhlYWQudGltZT4+MTYmMjU1KSxSZShuLG4uZ3poZWFkLnRpbWU+PjI0JjI1NSksUmUobiw5PT09bi5sZXZlbD8yOm4uc3RyYXRlZ3k+PW9lfHxuLmxldmVsPDI/NDowKSxSZShuLDI1NSZuLmd6aGVhZC5vcyksbi5nemhlYWQuZXh0cmEmJm4uZ3poZWFkLmV4dHJhLmxlbmd0aCYmKFJlKG4sMjU1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCksUmUobixuLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksbi5nemhlYWQuaGNyYyYmKGUuYWRsZXI9cShlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLDApKSxuLmd6aW5kZXg9MCxuLnN0YXR1cz02OTtlbHNlIGlmKFJlKG4sMCksUmUobiwwKSxSZShuLDApLFJlKG4sMCksUmUobiwwKSxSZShuLDk9PT1uLmxldmVsPzI6bi5zdHJhdGVneT49b2V8fG4ubGV2ZWw8Mj80OjApLFJlKG4sMyksbi5zdGF0dXM9cGUseWUoZSksMCE9PW4ucGVuZGluZylyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLGVlO2lmKDY5PT09bi5zdGF0dXMpe2lmKG4uZ3poZWFkLmV4dHJhKXtsZXQgdD1uLnBlbmRpbmcscj0oNjU1MzUmbi5nemhlYWQuZXh0cmEubGVuZ3RoKS1uLmd6aW5kZXg7Zm9yKDtuLnBlbmRpbmcrcj5uLnBlbmRpbmdfYnVmX3NpemU7KXtsZXQgaT1uLnBlbmRpbmdfYnVmX3NpemUtbi5wZW5kaW5nO2lmKG4ucGVuZGluZ19idWYuc2V0KG4uZ3poZWFkLmV4dHJhLnN1YmFycmF5KG4uZ3ppbmRleCxuLmd6aW5kZXgraSksbi5wZW5kaW5nKSxuLnBlbmRpbmc9bi5wZW5kaW5nX2J1Zl9zaXplLG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz50JiYoZS5hZGxlcj1xKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctdCx0KSksbi5nemluZGV4Kz1pLHllKGUpLDAhPT1uLnBlbmRpbmcpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxlZTt0PTAsci09aX1sZXQgaT1uZXcgVWludDhBcnJheShuLmd6aGVhZC5leHRyYSk7bi5wZW5kaW5nX2J1Zi5zZXQoaS5zdWJhcnJheShuLmd6aW5kZXgsbi5nemluZGV4K3IpLG4ucGVuZGluZyksbi5wZW5kaW5nKz1yLG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz50JiYoZS5hZGxlcj1xKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctdCx0KSksbi5nemluZGV4PTB9bi5zdGF0dXM9NzN9aWYoNzM9PT1uLnN0YXR1cyl7aWYobi5nemhlYWQubmFtZSl7bGV0IHQscj1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplKXtpZihuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+ciYmKGUuYWRsZXI9cShlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLXIscikpLHllKGUpLDAhPT1uLnBlbmRpbmcpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxlZTtyPTB9dD1uLmd6aW5kZXg8bi5nemhlYWQubmFtZS5sZW5ndGg/MjU1Jm4uZ3poZWFkLm5hbWUuY2hhckNvZGVBdChuLmd6aW5kZXgrKyk6MCxSZShuLHQpfXdoaWxlKDAhPT10KTtuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+ciYmKGUuYWRsZXI9cShlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLXIscikpLG4uZ3ppbmRleD0wfW4uc3RhdHVzPTkxfWlmKDkxPT09bi5zdGF0dXMpe2lmKG4uZ3poZWFkLmNvbW1lbnQpe2xldCB0LHI9bi5wZW5kaW5nO2Rve2lmKG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSl7aWYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPnImJihlLmFkbGVyPXEoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1yLHIpKSx5ZShlKSwwIT09bi5wZW5kaW5nKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsZWU7cj0wfXQ9bi5nemluZGV4PG4uZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZuLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQobi5nemluZGV4KyspOjAsUmUobix0KX13aGlsZSgwIT09dCk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPnImJihlLmFkbGVyPXEoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1yLHIpKX1uLnN0YXR1cz0xMDN9aWYoMTAzPT09bi5zdGF0dXMpe2lmKG4uZ3poZWFkLmhjcmMpe2lmKG4ucGVuZGluZysyPm4ucGVuZGluZ19idWZfc2l6ZSYmKHllKGUpLDAhPT1uLnBlbmRpbmcpKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsZWU7UmUobiwyNTUmZS5hZGxlciksUmUobixlLmFkbGVyPj44JjI1NSksZS5hZGxlcj0wfWlmKG4uc3RhdHVzPXBlLHllKGUpLDAhPT1uLnBlbmRpbmcpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxlZX1pZigwIT09ZS5hdmFpbF9pbnx8MCE9PW4ubG9va2FoZWFkfHx0IT09JCYmbi5zdGF0dXMhPT1nZSl7bGV0IHI9MD09PW4ubGV2ZWw/Q2Uobix0KTpuLnN0cmF0ZWd5PT09b2U/KChlLHQpPT57bGV0IG47Zm9yKDs7KXtpZigwPT09ZS5sb29rYWhlYWQmJihTZShlKSwwPT09ZS5sb29rYWhlYWQpKXtpZih0PT09JClyZXR1cm4gMTticmVha31pZihlLm1hdGNoX2xlbmd0aD0wLG49VyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrLG4mJihiZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PVg/KGJlKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKGJlKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9KShuLHQpOm4uc3RyYXRlZ3k9PT1kZT8oKGUsdCk9PntsZXQgbixyLGkscztjb25zdCBhPWUud2luZG93O2Zvcig7Oyl7aWYoZS5sb29rYWhlYWQ8PV9lKXtpZihTZShlKSxlLmxvb2thaGVhZDw9X2UmJnQ9PT0kKXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGUubG9va2FoZWFkPj0zJiZlLnN0cnN0YXJ0PjAmJihpPWUuc3Ryc3RhcnQtMSxyPWFbaV0scj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSkpe3M9ZS5zdHJzdGFydCtfZTtkb3t9d2hpbGUocj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmcj09PWFbKytpXSYmaTxzKTtlLm1hdGNoX2xlbmd0aD1fZS0ocy1pKSxlLm1hdGNoX2xlbmd0aD5lLmxvb2thaGVhZCYmKGUubWF0Y2hfbGVuZ3RoPWUubG9va2FoZWFkKX1pZihlLm1hdGNoX2xlbmd0aD49Mz8obj1XKGUsMSxlLm1hdGNoX2xlbmd0aC0zKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCk6KG49VyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrKSxuJiYoYmUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiBlLmluc2VydD0wLHQ9PT1YPyhiZShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihiZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfSkobix0KTpPZVtuLmxldmVsXS5mdW5jKG4sdCk7aWYoMyE9PXImJjQhPT1yfHwobi5zdGF0dXM9Z2UpLDE9PT1yfHwzPT09cilyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYobi5sYXN0X2ZsdXNoPS0xKSxlZTtpZigyPT09ciYmKHQ9PT1KP0sobik6dCE9PVEmJihCKG4sMCwwLCExKSx0PT09WSYmKHZlKG4uaGVhZCksMD09PW4ubG9va2FoZWFkJiYobi5zdHJzdGFydD0wLG4uYmxvY2tfc3RhcnQ9MCxuLmluc2VydD0wKSkpLHllKGUpLDA9PT1lLmF2YWlsX291dCkpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxlZX1yZXR1cm4gdCE9PVg/ZWU6bi53cmFwPD0wP3RlOigyPT09bi53cmFwPyhSZShuLDI1NSZlLmFkbGVyKSxSZShuLGUuYWRsZXI+PjgmMjU1KSxSZShuLGUuYWRsZXI+PjE2JjI1NSksUmUobixlLmFkbGVyPj4yNCYyNTUpLFJlKG4sMjU1JmUudG90YWxfaW4pLFJlKG4sZS50b3RhbF9pbj4+OCYyNTUpLFJlKG4sZS50b3RhbF9pbj4+MTYmMjU1KSxSZShuLGUudG90YWxfaW4+PjI0JjI1NSkpOihrZShuLGUuYWRsZXI+Pj4xNiksa2Uobiw2NTUzNSZlLmFkbGVyKSkseWUoZSksbi53cmFwPjAmJihuLndyYXA9LW4ud3JhcCksMCE9PW4ucGVuZGluZz9lZTp0ZSl9LGRlZmxhdGVFbmQ6ZT0+e2lmKExlKGUpKXJldHVybiBuZTtjb25zdCB0PWUuc3RhdGUuc3RhdHVzO3JldHVybiBlLnN0YXRlPW51bGwsdD09PXBlP21lKGUscmUpOmVlfSxkZWZsYXRlU2V0RGljdGlvbmFyeTooZSx0KT0+e2xldCBuPXQubGVuZ3RoO2lmKExlKGUpKXJldHVybiBuZTtjb25zdCByPWUuc3RhdGUsaT1yLndyYXA7aWYoMj09PWl8fDE9PT1pJiZyLnN0YXR1cyE9PUVlfHxyLmxvb2thaGVhZClyZXR1cm4gbmU7aWYoMT09PWkmJihlLmFkbGVyPUcoZS5hZGxlcix0LG4sMCkpLHIud3JhcD0wLG4+PXIud19zaXplKXswPT09aSYmKHZlKHIuaGVhZCksci5zdHJzdGFydD0wLHIuYmxvY2tfc3RhcnQ9MCxyLmluc2VydD0wKTtsZXQgZT1uZXcgVWludDhBcnJheShyLndfc2l6ZSk7ZS5zZXQodC5zdWJhcnJheShuLXIud19zaXplLG4pLDApLHQ9ZSxuPXIud19zaXplfWNvbnN0IHM9ZS5hdmFpbF9pbixhPWUubmV4dF9pbixvPWUuaW5wdXQ7Zm9yKGUuYXZhaWxfaW49bixlLm5leHRfaW49MCxlLmlucHV0PXQsU2Uocik7ci5sb29rYWhlYWQ+PTM7KXtsZXQgZT1yLnN0cnN0YXJ0LHQ9ci5sb29rYWhlYWQtMjtkb3tyLmluc19oPVRlKHIsci5pbnNfaCxyLndpbmRvd1tlKzMtMV0pLHIucHJldltlJnIud19tYXNrXT1yLmhlYWRbci5pbnNfaF0sci5oZWFkW3IuaW5zX2hdPWUsZSsrfXdoaWxlKC0tdCk7ci5zdHJzdGFydD1lLHIubG9va2FoZWFkPTIsU2Uocil9cmV0dXJuIHIuc3Ryc3RhcnQrPXIubG9va2FoZWFkLHIuYmxvY2tfc3RhcnQ9ci5zdHJzdGFydCxyLmluc2VydD1yLmxvb2thaGVhZCxyLmxvb2thaGVhZD0wLHIubWF0Y2hfbGVuZ3RoPXIucHJldl9sZW5ndGg9MixyLm1hdGNoX2F2YWlsYWJsZT0wLGUubmV4dF9pbj1hLGUuaW5wdXQ9byxlLmF2YWlsX2luPXMsci53cmFwPWksZWV9LGRlZmxhdGVJbmZvOlwicGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifTtjb25zdCBxZT0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7dmFyIEZlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2Zvcig7dC5sZW5ndGg7KXtjb25zdCBuPXQuc2hpZnQoKTtpZihuKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKG4rXCJtdXN0IGJlIG5vbi1vYmplY3RcIik7Zm9yKGNvbnN0IHQgaW4gbilxZShuLHQpJiYoZVt0XT1uW3RdKX19cmV0dXJuIGV9LEhlPWU9PntsZXQgdD0wO2ZvcihsZXQgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0Kz1lW25dLmxlbmd0aDtjb25zdCBuPW5ldyBVaW50OEFycmF5KHQpO2ZvcihsZXQgdD0wLHI9MCxpPWUubGVuZ3RoO3Q8aTt0Kyspe2xldCBpPWVbdF07bi5zZXQoaSxyKSxyKz1pLmxlbmd0aH1yZXR1cm4gbn07bGV0IGplPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKGUpe2plPSExfWNvbnN0IEJlPW5ldyBVaW50OEFycmF5KDI1Nik7Zm9yKGxldCBlPTA7ZTwyNTY7ZSsrKUJlW2VdPWU+PTI1Mj82OmU+PTI0OD81OmU+PTI0MD80OmU+PTIyND8zOmU+PTE5Mj8yOjE7QmVbMjU0XT1CZVsyNTRdPTE7dmFyIFplPWU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBUZXh0RW5jb2RlciYmVGV4dEVuY29kZXIucHJvdG90eXBlLmVuY29kZSlyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7bGV0IHQsbixyLGkscyxhPWUubGVuZ3RoLG89MDtmb3IoaT0wO2k8YTtpKyspbj1lLmNoYXJDb2RlQXQoaSksNTUyOTY9PSg2NDUxMiZuKSYmaSsxPGEmJihyPWUuY2hhckNvZGVBdChpKzEpLDU2MzIwPT0oNjQ1MTImcikmJihuPTY1NTM2KyhuLTU1Mjk2PDwxMCkrKHItNTYzMjApLGkrKykpLG8rPW48MTI4PzE6bjwyMDQ4PzI6bjw2NTUzNj8zOjQ7Zm9yKHQ9bmV3IFVpbnQ4QXJyYXkobykscz0wLGk9MDtzPG87aSsrKW49ZS5jaGFyQ29kZUF0KGkpLDU1Mjk2PT0oNjQ1MTImbikmJmkrMTxhJiYocj1lLmNoYXJDb2RlQXQoaSsxKSw1NjMyMD09KDY0NTEyJnIpJiYobj02NTUzNisobi01NTI5Njw8MTApKyhyLTU2MzIwKSxpKyspKSxuPDEyOD90W3MrK109bjpuPDIwNDg/KHRbcysrXT0xOTJ8bj4+PjYsdFtzKytdPTEyOHw2MyZuKTpuPDY1NTM2Pyh0W3MrK109MjI0fG4+Pj4xMix0W3MrK109MTI4fG4+Pj42JjYzLHRbcysrXT0xMjh8NjMmbik6KHRbcysrXT0yNDB8bj4+PjE4LHRbcysrXT0xMjh8bj4+PjEyJjYzLHRbcysrXT0xMjh8bj4+PjYmNjMsdFtzKytdPTEyOHw2MyZuKTtyZXR1cm4gdH0sV2U9KGUsdCk9Pntjb25zdCBuPXR8fGUubGVuZ3RoO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFRleHREZWNvZGVyJiZUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKXJldHVybihuZXcgVGV4dERlY29kZXIpLmRlY29kZShlLnN1YmFycmF5KDAsdCkpO2xldCByLGk7Y29uc3Qgcz1uZXcgQXJyYXkoMipuKTtmb3IoaT0wLHI9MDtyPG47KXtsZXQgdD1lW3IrK107aWYodDwxMjgpe3NbaSsrXT10O2NvbnRpbnVlfWxldCBhPUJlW3RdO2lmKGE+NClzW2krK109NjU1MzMscis9YS0xO2Vsc2V7Zm9yKHQmPTI9PT1hPzMxOjM9PT1hPzE1Ojc7YT4xJiZyPG47KXQ9dDw8Nnw2MyZlW3IrK10sYS0tO2E+MT9zW2krK109NjU1MzM6dDw2NTUzNj9zW2krK109dDoodC09NjU1MzYsc1tpKytdPTU1Mjk2fHQ+PjEwJjEwMjMsc1tpKytdPTU2MzIwfDEwMjMmdCl9fXJldHVybigoZSx0KT0+e2lmKHQ8NjU1MzQmJmUuc3ViYXJyYXkmJmplKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5sZW5ndGg9PT10P2U6ZS5zdWJhcnJheSgwLHQpKTtsZXQgbj1cIlwiO2ZvcihsZXQgcj0wO3I8dDtyKyspbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3JdKTtyZXR1cm4gbn0pKHMsaSl9LEtlPShlLHQpPT57KHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCk7bGV0IG49dC0xO2Zvcig7bj49MCYmMTI4PT0oMTkyJmVbbl0pOyluLS07cmV0dXJuIG48MHx8MD09PW4/dDpuK0JlW2Vbbl1dPnQ/bjp0fSwkZT1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz1cIlwiLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmRhdGFfdHlwZT0yLHRoaXMuYWRsZXI9MH07Y29uc3QgSmU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx7Wl9OT19GTFVTSDpZZSxaX1NZTkNfRkxVU0g6WGUsWl9GVUxMX0ZMVVNIOlFlLFpfRklOSVNIOmV0LFpfT0s6dHQsWl9TVFJFQU1fRU5EOm50LFpfREVGQVVMVF9DT01QUkVTU0lPTjpydCxaX0RFRkFVTFRfU1RSQVRFR1k6aXQsWl9ERUZMQVRFRDpzdH09SDtmdW5jdGlvbiBhdChlKXt0aGlzLm9wdGlvbnM9RmUoe2xldmVsOnJ0LG1ldGhvZDpzdCxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5Oml0fSxlfHx7fSk7bGV0IHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+MD90LndpbmRvd0JpdHM9LXQud2luZG93Qml0czp0Lmd6aXAmJnQud2luZG93Qml0cz4wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3ICRlLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgbj1WZS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHQubGV2ZWwsdC5tZXRob2QsdC53aW5kb3dCaXRzLHQubWVtTGV2ZWwsdC5zdHJhdGVneSk7aWYobiE9PXR0KXRocm93IG5ldyBFcnJvcihGW25dKTtpZih0LmhlYWRlciYmVmUuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sdC5oZWFkZXIpLHQuZGljdGlvbmFyeSl7bGV0IGU7aWYoZT1cInN0cmluZ1wiPT10eXBlb2YgdC5kaWN0aW9uYXJ5P1plKHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09SmUuY2FsbCh0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSk6dC5kaWN0aW9uYXJ5LG49VmUuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUpLG4hPT10dCl0aHJvdyBuZXcgRXJyb3IoRltuXSk7dGhpcy5fZGljdF9zZXQ9ITB9fWZ1bmN0aW9uIG90KGUsdCl7Y29uc3Qgbj1uZXcgYXQodCk7aWYobi5wdXNoKGUsITApLG4uZXJyKXRocm93IG4ubXNnfHxGW24uZXJyXTtyZXR1cm4gbi5yZXN1bHR9YXQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXRoaXMuc3RybSxyPXRoaXMub3B0aW9ucy5jaHVua1NpemU7bGV0IGkscztpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihzPXQ9PT1+fnQ/dDohMD09PXQ/ZXQ6WWUsXCJzdHJpbmdcIj09dHlwZW9mIGU/bi5pbnB1dD1aZShlKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1KZS5jYWxsKGUpP24uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6bi5pbnB1dD1lLG4ubmV4dF9pbj0wLG4uYXZhaWxfaW49bi5pbnB1dC5sZW5ndGg7OylpZigwPT09bi5hdmFpbF9vdXQmJihuLm91dHB1dD1uZXcgVWludDhBcnJheShyKSxuLm5leHRfb3V0PTAsbi5hdmFpbF9vdXQ9ciksKHM9PT1YZXx8cz09PVFlKSYmbi5hdmFpbF9vdXQ8PTYpdGhpcy5vbkRhdGEobi5vdXRwdXQuc3ViYXJyYXkoMCxuLm5leHRfb3V0KSksbi5hdmFpbF9vdXQ9MDtlbHNle2lmKGk9VmUuZGVmbGF0ZShuLHMpLGk9PT1udClyZXR1cm4gbi5uZXh0X291dD4wJiZ0aGlzLm9uRGF0YShuLm91dHB1dC5zdWJhcnJheSgwLG4ubmV4dF9vdXQpKSxpPVZlLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKGkpLHRoaXMuZW5kZWQ9ITAsaT09PXR0O2lmKDAhPT1uLmF2YWlsX291dCl7aWYocz4wJiZuLm5leHRfb3V0PjApdGhpcy5vbkRhdGEobi5vdXRwdXQuc3ViYXJyYXkoMCxuLm5leHRfb3V0KSksbi5hdmFpbF9vdXQ9MDtlbHNlIGlmKDA9PT1uLmF2YWlsX2luKWJyZWFrfWVsc2UgdGhpcy5vbkRhdGEobi5vdXRwdXQpfXJldHVybiEwfSxhdC5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSl9LGF0LnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09dHQmJih0aGlzLnJlc3VsdD1IZSh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWUsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ307dmFyIGR0PXtEZWZsYXRlOmF0LGRlZmxhdGU6b3QsZGVmbGF0ZVJhdzpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAsb3QoZSx0KX0sZ3ppcDpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5nemlwPSEwLG90KGUsdCl9LGNvbnN0YW50czpIfTtjb25zdCBjdD0xNjIwOTt2YXIgbHQ9ZnVuY3Rpb24oZSx0KXtsZXQgbixyLGkscyxhLG8sZCxjLGwsaCx1LF8sZixFLHAsZyxtLEEsdix3LFQseSxiLFI7Y29uc3Qgaz1lLnN0YXRlO249ZS5uZXh0X2luLGI9ZS5pbnB1dCxyPW4rKGUuYXZhaWxfaW4tNSksaT1lLm5leHRfb3V0LFI9ZS5vdXRwdXQscz1pLSh0LWUuYXZhaWxfb3V0KSxhPWkrKGUuYXZhaWxfb3V0LTI1Nyksbz1rLmRtYXgsZD1rLndzaXplLGM9ay53aGF2ZSxsPWsud25leHQsaD1rLndpbmRvdyx1PWsuaG9sZCxfPWsuYml0cyxmPWsubGVuY29kZSxFPWsuZGlzdGNvZGUscD0oMTw8ay5sZW5iaXRzKS0xLGc9KDE8PGsuZGlzdGJpdHMpLTE7ZTpkb3tfPDE1JiYodSs9YltuKytdPDxfLF8rPTgsdSs9YltuKytdPDxfLF8rPTgpLG09Zlt1JnBdO3Q6Zm9yKDs7KXtpZihBPW0+Pj4yNCx1Pj4+PUEsXy09QSxBPW0+Pj4xNiYyNTUsMD09PUEpUltpKytdPTY1NTM1Jm07ZWxzZXtpZighKDE2JkEpKXtpZighKDY0JkEpKXttPWZbKDY1NTM1Jm0pKyh1JigxPDxBKS0xKV07Y29udGludWUgdH1pZigzMiZBKXtrLm1vZGU9MTYxOTE7YnJlYWsgZX1lLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLGsubW9kZT1jdDticmVhayBlfXY9NjU1MzUmbSxBJj0xNSxBJiYoXzxBJiYodSs9YltuKytdPDxfLF8rPTgpLHYrPXUmKDE8PEEpLTEsdT4+Pj1BLF8tPUEpLF88MTUmJih1Kz1iW24rK108PF8sXys9OCx1Kz1iW24rK108PF8sXys9OCksbT1FW3UmZ107bjpmb3IoOzspe2lmKEE9bT4+PjI0LHU+Pj49QSxfLT1BLEE9bT4+PjE2JjI1NSwhKDE2JkEpKXtpZighKDY0JkEpKXttPUVbKDY1NTM1Jm0pKyh1JigxPDxBKS0xKV07Y29udGludWUgbn1lLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLGsubW9kZT1jdDticmVhayBlfWlmKHc9NjU1MzUmbSxBJj0xNSxfPEEmJih1Kz1iW24rK108PF8sXys9OCxfPEEmJih1Kz1iW24rK108PF8sXys9OCkpLHcrPXUmKDE8PEEpLTEsdz5vKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsay5tb2RlPWN0O2JyZWFrIGV9aWYodT4+Pj1BLF8tPUEsQT1pLXMsdz5BKXtpZihBPXctQSxBPmMmJmsuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGsubW9kZT1jdDticmVhayBlfWlmKFQ9MCx5PWgsMD09PWwpe2lmKFQrPWQtQSxBPHYpe3YtPUE7ZG97UltpKytdPWhbVCsrXX13aGlsZSgtLUEpO1Q9aS13LHk9Un19ZWxzZSBpZihsPEEpe2lmKFQrPWQrbC1BLEEtPWwsQTx2KXt2LT1BO2Rve1JbaSsrXT1oW1QrK119d2hpbGUoLS1BKTtpZihUPTAsbDx2KXtBPWwsdi09QTtkb3tSW2krK109aFtUKytdfXdoaWxlKC0tQSk7VD1pLXcseT1SfX19ZWxzZSBpZihUKz1sLUEsQTx2KXt2LT1BO2Rve1JbaSsrXT1oW1QrK119d2hpbGUoLS1BKTtUPWktdyx5PVJ9Zm9yKDt2PjI7KVJbaSsrXT15W1QrK10sUltpKytdPXlbVCsrXSxSW2krK109eVtUKytdLHYtPTM7diYmKFJbaSsrXT15W1QrK10sdj4xJiYoUltpKytdPXlbVCsrXSkpfWVsc2V7VD1pLXc7ZG97UltpKytdPVJbVCsrXSxSW2krK109UltUKytdLFJbaSsrXT1SW1QrK10sdi09M313aGlsZSh2PjIpO3YmJihSW2krK109UltUKytdLHY+MSYmKFJbaSsrXT1SW1QrK10pKX1icmVha319YnJlYWt9fXdoaWxlKG48ciYmaTxhKTt2PV8+PjMsbi09dixfLT12PDwzLHUmPSgxPDxfKS0xLGUubmV4dF9pbj1uLGUubmV4dF9vdXQ9aSxlLmF2YWlsX2luPW48cj9yLW4rNTo1LShuLXIpLGUuYXZhaWxfb3V0PWk8YT9hLWkrMjU3OjI1Ny0oaS1hKSxrLmhvbGQ9dSxrLmJpdHM9X307Y29uc3QgaHQ9MTUsdXQ9bmV3IFVpbnQxNkFycmF5KFszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0pLF90PW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0pLGZ0PW5ldyBVaW50MTZBcnJheShbMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0pLEV0PW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF0pO3ZhciBwdD0oZSx0LG4scixpLHMsYSxvKT0+e2NvbnN0IGQ9by5iaXRzO2xldCBjLGwsaCx1LF8sZixFPTAscD0wLGc9MCxtPTAsQT0wLHY9MCx3PTAsVD0wLHk9MCxiPTAsUj1udWxsO2NvbnN0IGs9bmV3IFVpbnQxNkFycmF5KDE2KSxJPW5ldyBVaW50MTZBcnJheSgxNik7bGV0IE4sUyxDLFA9bnVsbDtmb3IoRT0wO0U8PWh0O0UrKylrW0VdPTA7Zm9yKHA9MDtwPHI7cCsrKWtbdFtuK3BdXSsrO2ZvcihBPWQsbT1odDttPj0xJiYwPT09a1ttXTttLS0pO2lmKEE+bSYmKEE9bSksMD09PW0pcmV0dXJuIGlbcysrXT0yMDk3MTUyMCxpW3MrK109MjA5NzE1MjAsby5iaXRzPTEsMDtmb3IoZz0xO2c8bSYmMD09PWtbZ107ZysrKTtmb3IoQTxnJiYoQT1nKSxUPTEsRT0xO0U8PWh0O0UrKylpZihUPDw9MSxULT1rW0VdLFQ8MClyZXR1cm4tMTtpZihUPjAmJigwPT09ZXx8MSE9PW0pKXJldHVybi0xO2ZvcihJWzFdPTAsRT0xO0U8aHQ7RSsrKUlbRSsxXT1JW0VdK2tbRV07Zm9yKHA9MDtwPHI7cCsrKTAhPT10W24rcF0mJihhW0lbdFtuK3BdXSsrXT1wKTtpZigwPT09ZT8oUj1QPWEsZj0yMCk6MT09PWU/KFI9dXQsUD1fdCxmPTI1Nyk6KFI9ZnQsUD1FdCxmPTApLGI9MCxwPTAsRT1nLF89cyx2PUEsdz0wLGg9LTEseT0xPDxBLHU9eS0xLDE9PT1lJiZ5Pjg1Mnx8Mj09PWUmJnk+NTkyKXJldHVybiAxO2Zvcig7Oyl7Tj1FLXcsYVtwXSsxPGY/KFM9MCxDPWFbcF0pOmFbcF0+PWY/KFM9UFthW3BdLWZdLEM9UlthW3BdLWZdKTooUz05NixDPTApLGM9MTw8RS13LGw9MTw8dixnPWw7ZG97bC09YyxpW18rKGI+PncpK2xdPU48PDI0fFM8PDE2fEN9d2hpbGUoMCE9PWwpO2ZvcihjPTE8PEUtMTtiJmM7KWM+Pj0xO2lmKDAhPT1jPyhiJj1jLTEsYis9Yyk6Yj0wLHArKywwPT0tLWtbRV0pe2lmKEU9PT1tKWJyZWFrO0U9dFtuK2FbcF1dfWlmKEU+QSYmKGImdSkhPT1oKXtmb3IoMD09PXcmJih3PUEpLF8rPWcsdj1FLXcsVD0xPDx2O3YrdzxtJiYoVC09a1t2K3ddLCEoVDw9MCkpOyl2KyssVDw8PTE7aWYoeSs9MTw8diwxPT09ZSYmeT44NTJ8fDI9PT1lJiZ5PjU5MilyZXR1cm4gMTtoPWImdSxpW2hdPUE8PDI0fHY8PDE2fF8tc319cmV0dXJuIDAhPT1iJiYoaVtfK2JdPUUtdzw8MjR8NjQ8PDE2KSxvLmJpdHM9QSwwfTtjb25zdHtaX0ZJTklTSDpndCxaX0JMT0NLOm10LFpfVFJFRVM6QXQsWl9PSzp2dCxaX1NUUkVBTV9FTkQ6d3QsWl9ORUVEX0RJQ1Q6VHQsWl9TVFJFQU1fRVJST1I6eXQsWl9EQVRBX0VSUk9SOmJ0LFpfTUVNX0VSUk9SOlJ0LFpfQlVGX0VSUk9SOmt0LFpfREVGTEFURUQ6SXR9PUgsTnQ9MTYxODAsU3Q9MTYxOTAsQ3Q9MTYxOTEsUHQ9MTYxOTIsRHQ9MTYxOTQseHQ9MTYxOTksT3Q9MTYyMDAsTXQ9MTYyMDYsTHQ9MTYyMDksVXQ9ZT0+KGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KTtmdW5jdGlvbiB6dCgpe3RoaXMuc3RybT1udWxsLHRoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgVWludDE2QXJyYXkoMzIwKSx0aGlzLndvcms9bmV3IFVpbnQxNkFycmF5KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWNvbnN0IEd0PWU9PntpZighZSlyZXR1cm4gMTtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIXR8fHQuc3RybSE9PWV8fHQubW9kZTxOdHx8dC5tb2RlPjE2MjExPzE6MH0sVnQ9ZT0+e2lmKEd0KGUpKXJldHVybiB5dDtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPVwiXCIsdC53cmFwJiYoZS5hZGxlcj0xJnQud3JhcCksdC5tb2RlPU50LHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmZsYWdzPS0xLHQuZG1heD0zMjc2OCx0LmhlYWQ9bnVsbCx0LmhvbGQ9MCx0LmJpdHM9MCx0LmxlbmNvZGU9dC5sZW5keW49bmV3IEludDMyQXJyYXkoODUyKSx0LmRpc3Rjb2RlPXQuZGlzdGR5bj1uZXcgSW50MzJBcnJheSg1OTIpLHQuc2FuZT0xLHQuYmFjaz0tMSx2dH0scXQ9ZT0+e2lmKEd0KGUpKXJldHVybiB5dDtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIHQud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLFZ0KGUpfSxGdD0oZSx0KT0+e2xldCBuO2lmKEd0KGUpKXJldHVybiB5dDtjb25zdCByPWUuc3RhdGU7cmV0dXJuIHQ8MD8obj0wLHQ9LXQpOihuPTUrKHQ+PjQpLHQ8NDgmJih0Jj0xNSkpLHQmJih0PDh8fHQ+MTUpP3l0OihudWxsIT09ci53aW5kb3cmJnIud2JpdHMhPT10JiYoci53aW5kb3c9bnVsbCksci53cmFwPW4sci53Yml0cz10LHF0KGUpKX0sSHQ9KGUsdCk9PntpZighZSlyZXR1cm4geXQ7Y29uc3Qgbj1uZXcgenQ7ZS5zdGF0ZT1uLG4uc3RybT1lLG4ud2luZG93PW51bGwsbi5tb2RlPU50O2NvbnN0IHI9RnQoZSx0KTtyZXR1cm4gciE9PXZ0JiYoZS5zdGF0ZT1udWxsKSxyfTtsZXQganQsQnQsWnQ9ITA7Y29uc3QgV3Q9ZT0+e2lmKFp0KXtqdD1uZXcgSW50MzJBcnJheSg1MTIpLEJ0PW5ldyBJbnQzMkFycmF5KDMyKTtsZXQgdD0wO2Zvcig7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKHB0KDEsZS5sZW5zLDAsMjg4LGp0LDAsZS53b3JrLHtiaXRzOjl9KSx0PTA7dDwzMjspZS5sZW5zW3QrK109NTtwdCgyLGUubGVucywwLDMyLEJ0LDAsZS53b3JrLHtiaXRzOjV9KSxadD0hMX1lLmxlbmNvZGU9anQsZS5sZW5iaXRzPTksZS5kaXN0Y29kZT1CdCxlLmRpc3RiaXRzPTV9LEt0PShlLHQsbixyKT0+e2xldCBpO2NvbnN0IHM9ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PXMud2luZG93JiYocy53c2l6ZT0xPDxzLndiaXRzLHMud25leHQ9MCxzLndoYXZlPTAscy53aW5kb3c9bmV3IFVpbnQ4QXJyYXkocy53c2l6ZSkpLHI+PXMud3NpemU/KHMud2luZG93LnNldCh0LnN1YmFycmF5KG4tcy53c2l6ZSxuKSwwKSxzLnduZXh0PTAscy53aGF2ZT1zLndzaXplKTooaT1zLndzaXplLXMud25leHQsaT5yJiYoaT1yKSxzLndpbmRvdy5zZXQodC5zdWJhcnJheShuLXIsbi1yK2kpLHMud25leHQpLChyLT1pKT8ocy53aW5kb3cuc2V0KHQuc3ViYXJyYXkobi1yLG4pLDApLHMud25leHQ9cixzLndoYXZlPXMud3NpemUpOihzLnduZXh0Kz1pLHMud25leHQ9PT1zLndzaXplJiYocy53bmV4dD0wKSxzLndoYXZlPHMud3NpemUmJihzLndoYXZlKz1pKSkpLDB9O3ZhciAkdD17aW5mbGF0ZVJlc2V0OnF0LGluZmxhdGVSZXNldDI6RnQsaW5mbGF0ZVJlc2V0S2VlcDpWdCxpbmZsYXRlSW5pdDplPT5IdChlLDE1KSxpbmZsYXRlSW5pdDI6SHQsaW5mbGF0ZTooZSx0KT0+e2xldCBuLHIsaSxzLGEsbyxkLGMsbCxoLHUsXyxmLEUscCxnLG0sQSx2LHcsVCx5LGI9MDtjb25zdCBSPW5ldyBVaW50OEFycmF5KDQpO2xldCBrLEk7Y29uc3QgTj1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pO2lmKEd0KGUpfHwhZS5vdXRwdXR8fCFlLmlucHV0JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4geXQ7bj1lLnN0YXRlLG4ubW9kZT09PUN0JiYobi5tb2RlPVB0KSxhPWUubmV4dF9vdXQsaT1lLm91dHB1dCxkPWUuYXZhaWxfb3V0LHM9ZS5uZXh0X2luLHI9ZS5pbnB1dCxvPWUuYXZhaWxfaW4sYz1uLmhvbGQsbD1uLmJpdHMsaD1vLHU9ZCx5PXZ0O2U6Zm9yKDs7KXN3aXRjaChuLm1vZGUpe2Nhc2UgTnQ6aWYoMD09PW4ud3JhcCl7bi5tb2RlPVB0O2JyZWFrfWZvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fWlmKDImbi53cmFwJiYzNTYxNT09PWMpezA9PT1uLndiaXRzJiYobi53Yml0cz0xNSksbi5jaGVjaz0wLFJbMF09MjU1JmMsUlsxXT1jPj4+OCYyNTUsbi5jaGVjaz1xKG4uY2hlY2ssUiwyLDApLGM9MCxsPTAsbi5tb2RlPTE2MTgxO2JyZWFrfWlmKG4uaGVhZCYmKG4uaGVhZC5kb25lPSExKSwhKDEmbi53cmFwKXx8KCgoMjU1JmMpPDw4KSsoYz4+OCkpJTMxKXtlLm1zZz1cImluY29ycmVjdCBoZWFkZXIgY2hlY2tcIixuLm1vZGU9THQ7YnJlYWt9aWYoKDE1JmMpIT09SXQpe2UubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixuLm1vZGU9THQ7YnJlYWt9aWYoYz4+Pj00LGwtPTQsVD04KygxNSZjKSwwPT09bi53Yml0cyYmKG4ud2JpdHM9VCksVD4xNXx8VD5uLndiaXRzKXtlLm1zZz1cImludmFsaWQgd2luZG93IHNpemVcIixuLm1vZGU9THQ7YnJlYWt9bi5kbWF4PTE8PG4ud2JpdHMsbi5mbGFncz0wLGUuYWRsZXI9bi5jaGVjaz0xLG4ubW9kZT01MTImYz8xNjE4OTpDdCxjPTAsbD0wO2JyZWFrO2Nhc2UgMTYxODE6Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9aWYobi5mbGFncz1jLCgyNTUmbi5mbGFncykhPT1JdCl7ZS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLG4ubW9kZT1MdDticmVha31pZig1NzM0NCZuLmZsYWdzKXtlLm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLG4ubW9kZT1MdDticmVha31uLmhlYWQmJihuLmhlYWQudGV4dD1jPj44JjEpLDUxMiZuLmZsYWdzJiY0Jm4ud3JhcCYmKFJbMF09MjU1JmMsUlsxXT1jPj4+OCYyNTUsbi5jaGVjaz1xKG4uY2hlY2ssUiwyLDApKSxjPTAsbD0wLG4ubW9kZT0xNjE4MjtjYXNlIDE2MTgyOmZvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fW4uaGVhZCYmKG4uaGVhZC50aW1lPWMpLDUxMiZuLmZsYWdzJiY0Jm4ud3JhcCYmKFJbMF09MjU1JmMsUlsxXT1jPj4+OCYyNTUsUlsyXT1jPj4+MTYmMjU1LFJbM109Yz4+PjI0JjI1NSxuLmNoZWNrPXEobi5jaGVjayxSLDQsMCkpLGM9MCxsPTAsbi5tb2RlPTE2MTgzO2Nhc2UgMTYxODM6Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9bi5oZWFkJiYobi5oZWFkLnhmbGFncz0yNTUmYyxuLmhlYWQub3M9Yz4+OCksNTEyJm4uZmxhZ3MmJjQmbi53cmFwJiYoUlswXT0yNTUmYyxSWzFdPWM+Pj44JjI1NSxuLmNoZWNrPXEobi5jaGVjayxSLDIsMCkpLGM9MCxsPTAsbi5tb2RlPTE2MTg0O2Nhc2UgMTYxODQ6aWYoMTAyNCZuLmZsYWdzKXtmb3IoO2w8MTY7KXtpZigwPT09bylicmVhayBlO28tLSxjKz1yW3MrK108PGwsbCs9OH1uLmxlbmd0aD1jLG4uaGVhZCYmKG4uaGVhZC5leHRyYV9sZW49YyksNTEyJm4uZmxhZ3MmJjQmbi53cmFwJiYoUlswXT0yNTUmYyxSWzFdPWM+Pj44JjI1NSxuLmNoZWNrPXEobi5jaGVjayxSLDIsMCkpLGM9MCxsPTB9ZWxzZSBuLmhlYWQmJihuLmhlYWQuZXh0cmE9bnVsbCk7bi5tb2RlPTE2MTg1O2Nhc2UgMTYxODU6aWYoMTAyNCZuLmZsYWdzJiYoXz1uLmxlbmd0aCxfPm8mJihfPW8pLF8mJihuLmhlYWQmJihUPW4uaGVhZC5leHRyYV9sZW4tbi5sZW5ndGgsbi5oZWFkLmV4dHJhfHwobi5oZWFkLmV4dHJhPW5ldyBVaW50OEFycmF5KG4uaGVhZC5leHRyYV9sZW4pKSxuLmhlYWQuZXh0cmEuc2V0KHIuc3ViYXJyYXkocyxzK18pLFQpKSw1MTImbi5mbGFncyYmNCZuLndyYXAmJihuLmNoZWNrPXEobi5jaGVjayxyLF8scykpLG8tPV8scys9XyxuLmxlbmd0aC09Xyksbi5sZW5ndGgpKWJyZWFrIGU7bi5sZW5ndGg9MCxuLm1vZGU9MTYxODY7Y2FzZSAxNjE4NjppZigyMDQ4Jm4uZmxhZ3Mpe2lmKDA9PT1vKWJyZWFrIGU7Xz0wO2Rve1Q9cltzK18rK10sbi5oZWFkJiZUJiZuLmxlbmd0aDw2NTUzNiYmKG4uaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFQpKX13aGlsZShUJiZfPG8pO2lmKDUxMiZuLmZsYWdzJiY0Jm4ud3JhcCYmKG4uY2hlY2s9cShuLmNoZWNrLHIsXyxzKSksby09XyxzKz1fLFQpYnJlYWsgZX1lbHNlIG4uaGVhZCYmKG4uaGVhZC5uYW1lPW51bGwpO24ubGVuZ3RoPTAsbi5tb2RlPTE2MTg3O2Nhc2UgMTYxODc6aWYoNDA5NiZuLmZsYWdzKXtpZigwPT09bylicmVhayBlO189MDtkb3tUPXJbcytfKytdLG4uaGVhZCYmVCYmbi5sZW5ndGg8NjU1MzYmJihuLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShUKSl9d2hpbGUoVCYmXzxvKTtpZig1MTImbi5mbGFncyYmNCZuLndyYXAmJihuLmNoZWNrPXEobi5jaGVjayxyLF8scykpLG8tPV8scys9XyxUKWJyZWFrIGV9ZWxzZSBuLmhlYWQmJihuLmhlYWQuY29tbWVudD1udWxsKTtuLm1vZGU9MTYxODg7Y2FzZSAxNjE4ODppZig1MTImbi5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9aWYoNCZuLndyYXAmJmMhPT0oNjU1MzUmbi5jaGVjaykpe2UubXNnPVwiaGVhZGVyIGNyYyBtaXNtYXRjaFwiLG4ubW9kZT1MdDticmVha31jPTAsbD0wfW4uaGVhZCYmKG4uaGVhZC5oY3JjPW4uZmxhZ3M+PjkmMSxuLmhlYWQuZG9uZT0hMCksZS5hZGxlcj1uLmNoZWNrPTAsbi5tb2RlPUN0O2JyZWFrO2Nhc2UgMTYxODk6Zm9yKDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9ZS5hZGxlcj1uLmNoZWNrPVV0KGMpLGM9MCxsPTAsbi5tb2RlPVN0O2Nhc2UgU3Q6aWYoMD09PW4uaGF2ZWRpY3QpcmV0dXJuIGUubmV4dF9vdXQ9YSxlLmF2YWlsX291dD1kLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49byxuLmhvbGQ9YyxuLmJpdHM9bCxUdDtlLmFkbGVyPW4uY2hlY2s9MSxuLm1vZGU9Q3Q7Y2FzZSBDdDppZih0PT09bXR8fHQ9PT1BdClicmVhayBlO2Nhc2UgUHQ6aWYobi5sYXN0KXtjPj4+PTcmbCxsLT03Jmwsbi5tb2RlPU10O2JyZWFrfWZvcig7bDwzOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9c3dpdGNoKG4ubGFzdD0xJmMsYz4+Pj0xLGwtPTEsMyZjKXtjYXNlIDA6bi5tb2RlPTE2MTkzO2JyZWFrO2Nhc2UgMTppZihXdChuKSxuLm1vZGU9eHQsdD09PUF0KXtjPj4+PTIsbC09MjticmVhayBlfWJyZWFrO2Nhc2UgMjpuLm1vZGU9MTYxOTY7YnJlYWs7Y2FzZSAzOmUubXNnPVwiaW52YWxpZCBibG9jayB0eXBlXCIsbi5tb2RlPUx0fWM+Pj49MixsLT0yO2JyZWFrO2Nhc2UgMTYxOTM6Zm9yKGM+Pj49NyZsLGwtPTcmbDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9aWYoKDY1NTM1JmMpIT0oYz4+PjE2XjY1NTM1KSl7ZS5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsbi5tb2RlPUx0O2JyZWFrfWlmKG4ubGVuZ3RoPTY1NTM1JmMsYz0wLGw9MCxuLm1vZGU9RHQsdD09PUF0KWJyZWFrIGU7Y2FzZSBEdDpuLm1vZGU9MTYxOTU7Y2FzZSAxNjE5NTppZihfPW4ubGVuZ3RoLF8pe2lmKF8+byYmKF89byksXz5kJiYoXz1kKSwwPT09XylicmVhayBlO2kuc2V0KHIuc3ViYXJyYXkocyxzK18pLGEpLG8tPV8scys9XyxkLT1fLGErPV8sbi5sZW5ndGgtPV87YnJlYWt9bi5tb2RlPUN0O2JyZWFrO2Nhc2UgMTYxOTY6Zm9yKDtsPDE0Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9aWYobi5ubGVuPTI1NysoMzEmYyksYz4+Pj01LGwtPTUsbi5uZGlzdD0xKygzMSZjKSxjPj4+PTUsbC09NSxuLm5jb2RlPTQrKDE1JmMpLGM+Pj49NCxsLT00LG4ubmxlbj4yODZ8fG4ubmRpc3Q+MzApe2UubXNnPVwidG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHNcIixuLm1vZGU9THQ7YnJlYWt9bi5oYXZlPTAsbi5tb2RlPTE2MTk3O2Nhc2UgMTYxOTc6Zm9yKDtuLmhhdmU8bi5uY29kZTspe2Zvcig7bDwzOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9bi5sZW5zW05bbi5oYXZlKytdXT03JmMsYz4+Pj0zLGwtPTN9Zm9yKDtuLmhhdmU8MTk7KW4ubGVuc1tOW24uaGF2ZSsrXV09MDtpZihuLmxlbmNvZGU9bi5sZW5keW4sbi5sZW5iaXRzPTcsaz17Yml0czpuLmxlbmJpdHN9LHk9cHQoMCxuLmxlbnMsMCwxOSxuLmxlbmNvZGUsMCxuLndvcmssayksbi5sZW5iaXRzPWsuYml0cyx5KXtlLm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLG4ubW9kZT1MdDticmVha31uLmhhdmU9MCxuLm1vZGU9MTYxOTg7Y2FzZSAxNjE5ODpmb3IoO24uaGF2ZTxuLm5sZW4rbi5uZGlzdDspe2Zvcig7Yj1uLmxlbmNvZGVbYyYoMTw8bi5sZW5iaXRzKS0xXSxwPWI+Pj4yNCxnPWI+Pj4xNiYyNTUsbT02NTUzNSZiLCEocDw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSxjKz1yW3MrK108PGwsbCs9OH1pZihtPDE2KWM+Pj49cCxsLT1wLG4ubGVuc1tuLmhhdmUrK109bTtlbHNle2lmKDE2PT09bSl7Zm9yKEk9cCsyO2w8STspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fWlmKGM+Pj49cCxsLT1wLDA9PT1uLmhhdmUpe2UubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLG4ubW9kZT1MdDticmVha31UPW4ubGVuc1tuLmhhdmUtMV0sXz0zKygzJmMpLGM+Pj49MixsLT0yfWVsc2UgaWYoMTc9PT1tKXtmb3IoST1wKzM7bDxJOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9Yz4+Pj1wLGwtPXAsVD0wLF89MysoNyZjKSxjPj4+PTMsbC09M31lbHNle2ZvcihJPXArNztsPEk7KXtpZigwPT09bylicmVhayBlO28tLSxjKz1yW3MrK108PGwsbCs9OH1jPj4+PXAsbC09cCxUPTAsXz0xMSsoMTI3JmMpLGM+Pj49NyxsLT03fWlmKG4uaGF2ZStfPm4ubmxlbituLm5kaXN0KXtlLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixuLm1vZGU9THQ7YnJlYWt9Zm9yKDtfLS07KW4ubGVuc1tuLmhhdmUrK109VH19aWYobi5tb2RlPT09THQpYnJlYWs7aWYoMD09PW4ubGVuc1syNTZdKXtlLm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLG4ubW9kZT1MdDticmVha31pZihuLmxlbmJpdHM9OSxrPXtiaXRzOm4ubGVuYml0c30seT1wdCgxLG4ubGVucywwLG4ubmxlbixuLmxlbmNvZGUsMCxuLndvcmssayksbi5sZW5iaXRzPWsuYml0cyx5KXtlLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLG4ubW9kZT1MdDticmVha31pZihuLmRpc3RiaXRzPTYsbi5kaXN0Y29kZT1uLmRpc3RkeW4saz17Yml0czpuLmRpc3RiaXRzfSx5PXB0KDIsbi5sZW5zLG4ubmxlbixuLm5kaXN0LG4uZGlzdGNvZGUsMCxuLndvcmssayksbi5kaXN0Yml0cz1rLmJpdHMseSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlcyBzZXRcIixuLm1vZGU9THQ7YnJlYWt9aWYobi5tb2RlPXh0LHQ9PT1BdClicmVhayBlO2Nhc2UgeHQ6bi5tb2RlPU90O2Nhc2UgT3Q6aWYobz49NiYmZD49MjU4KXtlLm5leHRfb3V0PWEsZS5hdmFpbF9vdXQ9ZCxlLm5leHRfaW49cyxlLmF2YWlsX2luPW8sbi5ob2xkPWMsbi5iaXRzPWwsbHQoZSx1KSxhPWUubmV4dF9vdXQsaT1lLm91dHB1dCxkPWUuYXZhaWxfb3V0LHM9ZS5uZXh0X2luLHI9ZS5pbnB1dCxvPWUuYXZhaWxfaW4sYz1uLmhvbGQsbD1uLmJpdHMsbi5tb2RlPT09Q3QmJihuLmJhY2s9LTEpO2JyZWFrfWZvcihuLmJhY2s9MDtiPW4ubGVuY29kZVtjJigxPDxuLmxlbmJpdHMpLTFdLHA9Yj4+PjI0LGc9Yj4+PjE2JjI1NSxtPTY1NTM1JmIsIShwPD1sKTspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fWlmKGcmJiEoMjQwJmcpKXtmb3IoQT1wLHY9Zyx3PW07Yj1uLmxlbmNvZGVbdysoKGMmKDE8PEErdiktMSk+PkEpXSxwPWI+Pj4yNCxnPWI+Pj4xNiYyNTUsbT02NTUzNSZiLCEoQStwPD1sKTspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fWM+Pj49QSxsLT1BLG4uYmFjays9QX1pZihjPj4+PXAsbC09cCxuLmJhY2srPXAsbi5sZW5ndGg9bSwwPT09Zyl7bi5tb2RlPTE2MjA1O2JyZWFrfWlmKDMyJmcpe24uYmFjaz0tMSxuLm1vZGU9Q3Q7YnJlYWt9aWYoNjQmZyl7ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixuLm1vZGU9THQ7YnJlYWt9bi5leHRyYT0xNSZnLG4ubW9kZT0xNjIwMTtjYXNlIDE2MjAxOmlmKG4uZXh0cmEpe2ZvcihJPW4uZXh0cmE7bDxJOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9bi5sZW5ndGgrPWMmKDE8PG4uZXh0cmEpLTEsYz4+Pj1uLmV4dHJhLGwtPW4uZXh0cmEsbi5iYWNrKz1uLmV4dHJhfW4ud2FzPW4ubGVuZ3RoLG4ubW9kZT0xNjIwMjtjYXNlIDE2MjAyOmZvcig7Yj1uLmRpc3Rjb2RlW2MmKDE8PG4uZGlzdGJpdHMpLTFdLHA9Yj4+PjI0LGc9Yj4+PjE2JjI1NSxtPTY1NTM1JmIsIShwPD1sKTspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGMrPXJbcysrXTw8bCxsKz04fWlmKCEoMjQwJmcpKXtmb3IoQT1wLHY9Zyx3PW07Yj1uLmRpc3Rjb2RlW3crKChjJigxPDxBK3YpLTEpPj5BKV0scD1iPj4+MjQsZz1iPj4+MTYmMjU1LG09NjU1MzUmYiwhKEErcDw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSxjKz1yW3MrK108PGwsbCs9OH1jPj4+PUEsbC09QSxuLmJhY2srPUF9aWYoYz4+Pj1wLGwtPXAsbi5iYWNrKz1wLDY0Jmcpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsbi5tb2RlPUx0O2JyZWFrfW4ub2Zmc2V0PW0sbi5leHRyYT0xNSZnLG4ubW9kZT0xNjIwMztjYXNlIDE2MjAzOmlmKG4uZXh0cmEpe2ZvcihJPW4uZXh0cmE7bDxJOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sYys9cltzKytdPDxsLGwrPTh9bi5vZmZzZXQrPWMmKDE8PG4uZXh0cmEpLTEsYz4+Pj1uLmV4dHJhLGwtPW4uZXh0cmEsbi5iYWNrKz1uLmV4dHJhfWlmKG4ub2Zmc2V0Pm4uZG1heCl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLG4ubW9kZT1MdDticmVha31uLm1vZGU9MTYyMDQ7Y2FzZSAxNjIwNDppZigwPT09ZClicmVhayBlO2lmKF89dS1kLG4ub2Zmc2V0Pl8pe2lmKF89bi5vZmZzZXQtXyxfPm4ud2hhdmUmJm4uc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLG4ubW9kZT1MdDticmVha31fPm4ud25leHQ/KF8tPW4ud25leHQsZj1uLndzaXplLV8pOmY9bi53bmV4dC1fLF8+bi5sZW5ndGgmJihfPW4ubGVuZ3RoKSxFPW4ud2luZG93fWVsc2UgRT1pLGY9YS1uLm9mZnNldCxfPW4ubGVuZ3RoO18+ZCYmKF89ZCksZC09XyxuLmxlbmd0aC09Xztkb3tpW2ErK109RVtmKytdfXdoaWxlKC0tXyk7MD09PW4ubGVuZ3RoJiYobi5tb2RlPU90KTticmVhaztjYXNlIDE2MjA1OmlmKDA9PT1kKWJyZWFrIGU7aVthKytdPW4ubGVuZ3RoLGQtLSxuLm1vZGU9T3Q7YnJlYWs7Y2FzZSBNdDppZihuLndyYXApe2Zvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLGN8PXJbcysrXTw8bCxsKz04fWlmKHUtPWQsZS50b3RhbF9vdXQrPXUsbi50b3RhbCs9dSw0Jm4ud3JhcCYmdSYmKGUuYWRsZXI9bi5jaGVjaz1uLmZsYWdzP3Eobi5jaGVjayxpLHUsYS11KTpHKG4uY2hlY2ssaSx1LGEtdSkpLHU9ZCw0Jm4ud3JhcCYmKG4uZmxhZ3M/YzpVdChjKSkhPT1uLmNoZWNrKXtlLm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsbi5tb2RlPUx0O2JyZWFrfWM9MCxsPTB9bi5tb2RlPTE2MjA3O2Nhc2UgMTYyMDc6aWYobi53cmFwJiZuLmZsYWdzKXtmb3IoO2w8MzI7KXtpZigwPT09bylicmVhayBlO28tLSxjKz1yW3MrK108PGwsbCs9OH1pZig0Jm4ud3JhcCYmYyE9PSg0Mjk0OTY3Mjk1Jm4udG90YWwpKXtlLm1zZz1cImluY29ycmVjdCBsZW5ndGggY2hlY2tcIixuLm1vZGU9THQ7YnJlYWt9Yz0wLGw9MH1uLm1vZGU9MTYyMDg7Y2FzZSAxNjIwODp5PXd0O2JyZWFrIGU7Y2FzZSBMdDp5PWJ0O2JyZWFrIGU7Y2FzZSAxNjIxMDpyZXR1cm4gUnQ7ZGVmYXVsdDpyZXR1cm4geXR9cmV0dXJuIGUubmV4dF9vdXQ9YSxlLmF2YWlsX291dD1kLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49byxuLmhvbGQ9YyxuLmJpdHM9bCwobi53c2l6ZXx8dSE9PWUuYXZhaWxfb3V0JiZuLm1vZGU8THQmJihuLm1vZGU8TXR8fHQhPT1ndCkpJiZLdChlLGUub3V0cHV0LGUubmV4dF9vdXQsdS1lLmF2YWlsX291dCksaC09ZS5hdmFpbF9pbix1LT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1oLGUudG90YWxfb3V0Kz11LG4udG90YWwrPXUsNCZuLndyYXAmJnUmJihlLmFkbGVyPW4uY2hlY2s9bi5mbGFncz9xKG4uY2hlY2ssaSx1LGUubmV4dF9vdXQtdSk6RyhuLmNoZWNrLGksdSxlLm5leHRfb3V0LXUpKSxlLmRhdGFfdHlwZT1uLmJpdHMrKG4ubGFzdD82NDowKSsobi5tb2RlPT09Q3Q/MTI4OjApKyhuLm1vZGU9PT14dHx8bi5tb2RlPT09RHQ/MjU2OjApLCgwPT09aCYmMD09PXV8fHQ9PT1ndCkmJnk9PT12dCYmKHk9a3QpLHl9LGluZmxhdGVFbmQ6ZT0+e2lmKEd0KGUpKXJldHVybiB5dDtsZXQgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCx2dH0saW5mbGF0ZUdldEhlYWRlcjooZSx0KT0+e2lmKEd0KGUpKXJldHVybiB5dDtjb25zdCBuPWUuc3RhdGU7cmV0dXJuIDImbi53cmFwPyhuLmhlYWQ9dCx0LmRvbmU9ITEsdnQpOnl0fSxpbmZsYXRlU2V0RGljdGlvbmFyeTooZSx0KT0+e2NvbnN0IG49dC5sZW5ndGg7bGV0IHIsaSxzO3JldHVybiBHdChlKT95dDoocj1lLnN0YXRlLDAhPT1yLndyYXAmJnIubW9kZSE9PVN0P3l0OnIubW9kZT09PVN0JiYoaT0xLGk9RyhpLHQsbiwwKSxpIT09ci5jaGVjayk/YnQ6KHM9S3QoZSx0LG4sbikscz8oci5tb2RlPTE2MjEwLFJ0KTooci5oYXZlZGljdD0xLHZ0KSkpfSxpbmZsYXRlSW5mbzpcInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0sSnQ9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9O2NvbnN0IFl0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6WHQsWl9GSU5JU0g6UXQsWl9PSzplbixaX1NUUkVBTV9FTkQ6dG4sWl9ORUVEX0RJQ1Q6bm4sWl9TVFJFQU1fRVJST1I6cm4sWl9EQVRBX0VSUk9SOnNuLFpfTUVNX0VSUk9SOmFufT1IO2Z1bmN0aW9uIG9uKGUpe3RoaXMub3B0aW9ucz1GZSh7Y2h1bmtTaXplOjY1NTM2LHdpbmRvd0JpdHM6MTUsdG86XCJcIn0sZXx8e30pO2NvbnN0IHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+PTAmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cz0tdC53aW5kb3dCaXRzLDA9PT10LndpbmRvd0JpdHMmJih0LndpbmRvd0JpdHM9LTE1KSksISh0LndpbmRvd0JpdHM+PTAmJnQud2luZG93Qml0czwxNil8fGUmJmUud2luZG93Qml0c3x8KHQud2luZG93Qml0cys9MzIpLHQud2luZG93Qml0cz4xNSYmdC53aW5kb3dCaXRzPDQ4JiYhKDE1JnQud2luZG93Qml0cykmJih0LndpbmRvd0JpdHN8PTE1KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3ICRlLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgbj0kdC5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLHQud2luZG93Qml0cyk7aWYobiE9PWVuKXRocm93IG5ldyBFcnJvcihGW25dKTtpZih0aGlzLmhlYWRlcj1uZXcgSnQsJHQuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLHQuZGljdGlvbmFyeSYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmRpY3Rpb25hcnk/dC5kaWN0aW9uYXJ5PVplKHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09WXQuY2FsbCh0LmRpY3Rpb25hcnkpJiYodC5kaWN0aW9uYXJ5PW5ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSkpLHQucmF3JiYobj0kdC5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sdC5kaWN0aW9uYXJ5KSxuIT09ZW4pKSl0aHJvdyBuZXcgRXJyb3IoRltuXSl9ZnVuY3Rpb24gZG4oZSx0KXtjb25zdCBuPW5ldyBvbih0KTtpZihuLnB1c2goZSksbi5lcnIpdGhyb3cgbi5tc2d8fEZbbi5lcnJdO3JldHVybiBuLnJlc3VsdH1vbi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IG49dGhpcy5zdHJtLHI9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxpPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O2xldCBzLGEsbztpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihhPXQ9PT1+fnQ/dDohMD09PXQ/UXQ6WHQsXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09WXQuY2FsbChlKT9uLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOm4uaW5wdXQ9ZSxuLm5leHRfaW49MCxuLmF2YWlsX2luPW4uaW5wdXQubGVuZ3RoOzspe2ZvcigwPT09bi5hdmFpbF9vdXQmJihuLm91dHB1dD1uZXcgVWludDhBcnJheShyKSxuLm5leHRfb3V0PTAsbi5hdmFpbF9vdXQ9cikscz0kdC5pbmZsYXRlKG4sYSkscz09PW5uJiZpJiYocz0kdC5pbmZsYXRlU2V0RGljdGlvbmFyeShuLGkpLHM9PT1lbj9zPSR0LmluZmxhdGUobixhKTpzPT09c24mJihzPW5uKSk7bi5hdmFpbF9pbj4wJiZzPT09dG4mJm4uc3RhdGUud3JhcD4wJiYwIT09ZVtuLm5leHRfaW5dOykkdC5pbmZsYXRlUmVzZXQobikscz0kdC5pbmZsYXRlKG4sYSk7c3dpdGNoKHMpe2Nhc2Ugcm46Y2FzZSBzbjpjYXNlIG5uOmNhc2UgYW46cmV0dXJuIHRoaXMub25FbmQocyksdGhpcy5lbmRlZD0hMCwhMX1pZihvPW4uYXZhaWxfb3V0LG4ubmV4dF9vdXQmJigwPT09bi5hdmFpbF9vdXR8fHM9PT10bikpaWYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50byl7bGV0IGU9S2Uobi5vdXRwdXQsbi5uZXh0X291dCksdD1uLm5leHRfb3V0LWUsaT1XZShuLm91dHB1dCxlKTtuLm5leHRfb3V0PXQsbi5hdmFpbF9vdXQ9ci10LHQmJm4ub3V0cHV0LnNldChuLm91dHB1dC5zdWJhcnJheShlLGUrdCksMCksdGhpcy5vbkRhdGEoaSl9ZWxzZSB0aGlzLm9uRGF0YShuLm91dHB1dC5sZW5ndGg9PT1uLm5leHRfb3V0P24ub3V0cHV0Om4ub3V0cHV0LnN1YmFycmF5KDAsbi5uZXh0X291dCkpO2lmKHMhPT1lbnx8MCE9PW8pe2lmKHM9PT10bilyZXR1cm4gcz0kdC5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChzKSx0aGlzLmVuZGVkPSEwLCEwO2lmKDA9PT1uLmF2YWlsX2luKWJyZWFrfX1yZXR1cm4hMH0sb24ucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNodW5rcy5wdXNoKGUpfSxvbi5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PWVuJiYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PUhlKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgY249e0luZmxhdGU6b24saW5mbGF0ZTpkbixpbmZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCxkbihlLHQpfSx1bmd6aXA6ZG4sY29uc3RhbnRzOkh9O2NvbnN0e0RlZmxhdGU6bG4sZGVmbGF0ZTpobixkZWZsYXRlUmF3OnVuLGd6aXA6X259PWR0LHtJbmZsYXRlOmZuLGluZmxhdGU6RW4saW5mbGF0ZVJhdzpwbix1bmd6aXA6Z259PWNuO3ZhciBtbj1sbixBbj1obix2bj11bix3bj1fbixUbj1mbix5bj1Fbixibj1wbixSbj1nbixrbj1ILEluPXtEZWZsYXRlOm1uLGRlZmxhdGU6QW4sZGVmbGF0ZVJhdzp2bixnemlwOnduLEluZmxhdGU6VG4saW5mbGF0ZTp5bixpbmZsYXRlUmF3OmJuLHVuZ3ppcDpSbixjb25zdGFudHM6a259O2UuRGVmbGF0ZT1tbixlLkluZmxhdGU9VG4sZS5jb25zdGFudHM9a24sZS5kZWZhdWx0PUluLGUuZGVmbGF0ZT1BbixlLmRlZmxhdGVSYXc9dm4sZS5nemlwPXduLGUuaW5mbGF0ZT15bixlLmluZmxhdGVSYXc9Ym4sZS51bmd6aXA9Um4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KHQpfSgwLG0uZXhwb3J0cyk7dmFyIEE9cihtLmV4cG9ydHMpO2Z1bmN0aW9uIHYoKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBlPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGUuaW5kZXhPZihcImVkZy9cIik+LTF8fGUuaW5kZXhPZihcImVkZ2VcIik+LTF9KCk/dS5FREdFOnUuQ0hST01FfWNsYXNzIHd7Y29uc3RydWN0b3IoZSl7aWYodGhpcy52ZXJzaW9uPXQsdGhpcy5jb25maWc9ZSx0aGlzLmxvZ2dlcj1lLmxvZ2dlcix0aGlzLmNsaWVudEluZm89bnVsbCx0aGlzLmNlcnRQYXJhbXM9e25hbWU6XCJFQ0RTQVwiLG5hbWVkQ3VydmU6XCJQLTI1NlwifSx0aGlzLmV4dGVuc2lvbklkPXYoKSx0aGlzLnBjUHJveGllcz1uZXcgTWFwLHRoaXMuYXVkaW9Db250ZXh0UHJveGllcz1uZXcgTWFwLHRoaXMuYXVkaW9Ob2RlUHJveGllcz1uZXcgTWFwLHRoaXMud29ya2VyUHJveGllcz1uZXcgTWFwLHRoaXMuc3RyZWFtUHJveGllcz1uZXcgTWFwLHRoaXMuZXZlbnRMaXN0ZW5lcnM9bmV3IE1hcCx0aGlzLm1lZGlhRWxlbWVudFByb3hpZXM9bmV3IE1hcCx0aGlzLnRyYW5zY2VpdmVyUHJveGllcz1uZXcgTWFwLHRoaXMuc2VuZGVyUHJveGllcz1uZXcgTWFwLHRoaXMuZHRtZlByb3hpZXM9bmV3IE1hcCx0aGlzLnJlY2VpdmVyUHJveGllcz1uZXcgTWFwLHRoaXMudHJhY2tQcm94aWVzPW5ldyBNYXAsdGhpcy5vdmVycmlkZW5BcGlzPW5ldyBNYXAsdGhpcy5kZWNvZGVyPW5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpLHRoaXMubG9nZ2VyLmRlYnVnKGBDaGVja2luZyBmb3IgY2hyb21lIGV4dGVuc2lvbi4gIENocm9tZSBydW50aW1lOiAke2Nocm9tZS5ydW50aW1lfWApLHZvaWQgMD09PWNocm9tZS5ydW50aW1lKXRocm93IG5ldyBFcnJvcihcIkNocm9tZSBydW50aW1lIG5vdCBhdmFpbGFibGUuICBEQ1YgV2ViUlRDIGNocm9tZSBleHRlbnNpb24gbWF5IG5vdCBiZSBhY3RpdmUuXCIpO3RoaXMub3ZlcnJpZGVuQXBpcy5zZXQoXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSx0aGlzLm92ZXJyaWRlbkFwaXMuc2V0KFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzXCIsbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKSx0aGlzLm92ZXJyaWRlbkFwaXMuc2V0KFwid2luZG93LlJUQ1BlZXJDb25uZWN0aW9uXCIsd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uKSx0aGlzLm92ZXJyaWRlbkFwaXMuc2V0KFwid2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGVcIix3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSksdGhpcy5vdmVycmlkZW5BcGlzLnNldChcIndpbmRvdy5BdWRpb0NvbnRleHRcIix3aW5kb3cuQXVkaW9Db250ZXh0KSx0aGlzLm92ZXJyaWRlbkFwaXMuc2V0KFwid2luZG93LldvcmtlclwiLHdpbmRvdy5Xb3JrZXIpLHRoaXMuc3RhdHVzPWguTkVXLHRoaXMuc3RhdHVzQ2hhbmdlRXZlbnRMaXN0ZW5lcnM9W10sdGhpcy5sYXN0SGVhcnRiZWF0PURhdGUubm93KCksdGhpcy5oZWFydGJlYXRUaW1lb3V0PW51bGwsdGhpcy5oZWFydGJlYXRUaW1lb3V0TXM9MWU0LHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxQZXJpb2RNcz0xZTMsdGhpcy5oZWFydGJlYXRJbnRlcnZhbD1udWxsfWNsZWFySGVhcnRiZWF0SW50ZXJ2YWwoKXt0aGlzLmhlYXJ0YmVhdFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5oZWFydGJlYXRUaW1lb3V0KSx0aGlzLmhlYXJ0YmVhdFRpbWVvdXQ9bnVsbCksdGhpcy5oZWFyYmVhdEludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJiZWF0SW50ZXJ2YWwpLHRoaXMuaGVhcmJlYXRJbnRlcnZhbD1udWxsKX1yZXNldEhlYXJ0YmVhdChlKXt2YXIgdD10aGlzO3RoaXMuY2xlYXJIZWFydGJlYXRJbnRlcnZhbCgpLHRoaXMuaGVhcnRiZWF0VGltZW91dE1zPWUmJmUuaGVhcnRiZWF0VGltZW91dE1zP2UuaGVhcnRiZWF0VGltZW91dE1zOnRoaXMuaGVhcnRiZWF0VGltZW91dE1zLHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxQZXJpb2RNcz1lJiZlLmhlYXJ0YmVhdEludGVydmFsUGVyaW9kTXM/ZS5oZWFydGJlYXRJbnRlcnZhbFBlcmlvZE1zOnRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxQZXJpb2RNcyx0aGlzLmhlYXJiZWF0SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGFzeW5jIGZ1bmN0aW9uKCl7dC5oZWFydGJlYXRUaW1lb3V0fHwodC5oZWFydGJlYXRUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5sb2dnZXIuZGVidWcoYGhlYXJ0YmVhdFRpbWVvdXQgcmVhY2hlZCwgY3VycmVudCBzdGF0dXM6ICR7dC5zdGF0dXN9LCBsYXN0IGhiOiAke0RhdGUubm93KCktdC5sYXN0SGVhcnRiZWF0fW1zIGFnby5gKSx0LnN0YXR1cyE9PWguVU5BVkFJTEFCTEUmJih0LnN0YXR1cz1oLlVOQVZBSUxBQkxFLHQuc3RhdHVzQ2hhbmdlRXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh7c3RhdHVzOnQuc3RhdHVzLGRhdGE6dC5jbGllbnRJbmZvLGxhc3RIZWFydGJlYXQ6dC5sYXN0SGVhcnRiZWF0fSl9KSkpfSksdC5oZWFydGJlYXRUaW1lb3V0TXMpKTt0cnl7aWYodC5jbGllbnRJbmZvPWF3YWl0IHQuc2VuZEFwaVJlcXVlc3QoYS5IRUxMT19BUElfTkFNRSxbXSksIXQuY2xpZW50SW5mbyl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGNsaWVudEluZm8uXCIpO3QuaGVhcnRiZWF0VGltZW91dCYmKGNsZWFyVGltZW91dCh0LmhlYXJ0YmVhdFRpbWVvdXQpLHQuaGVhcnRiZWF0VGltZW91dD1udWxsKSx0LnN0YXR1cyE9PWguQVZBSUxBQkxFJiYodC5zdGF0dXM9aC5BVkFJTEFCTEUsdC5zdGF0dXNDaGFuZ2VFdmVudExpc3RlbmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtlKHtzdGF0dXM6dC5zdGF0dXMsZGF0YTp0LmNsaWVudEluZm99KX0pKSksdC5sYXN0SGVhcnRiZWF0PURhdGUubm93KCl9Y2F0Y2goZSl7dC5sb2dnZXIuZGVidWcoYEhlYXJ0YmVhdCBwaW5nIGZhaWxlZC4gIExhc3QgaGVhcnRiZWF0IHJlY2VpdmVkICR7RGF0ZS5ub3coKS10Lmxhc3RIZWFydGJlYXR9bXMgYWdvLmApfX0pLHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxQZXJpb2RNcyl9bWFrZU1lZGlhRGV2aWNlSW5mb1Byb3hpZXMoZSl7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSksZX1tYWtlVHJhY2tQcm94eShlKXt2YXIgdD10aGlzO2lmKHRoaXMudHJhY2tQcm94aWVzLmhhcyhlLmlkKSl7bGV0IHQ9dGhpcy50cmFja1Byb3hpZXMuZ2V0KGUuaWQpO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSksdH1yZXR1cm4gdGhpcy50cmFja1Byb3hpZXMuc2V0KGUuaWQsZSksZS5wZW5kaW5nRXZlbnRzPW5ldyBNYXAsZS5zdG9wPWZ1bmN0aW9uKCl7dC5zZW5kQXBpUmVxdWVzdChhLlRSQUNLX1NUT1BfQVBJX05BTUUsW2UuaWRdKX0sZS5nZXRTZXR0aW5ncz1mdW5jdGlvbigpe3JldHVybiB0LnNlbmRBcGlSZXF1ZXN0KGEuVFJBQ0tfR0VUX1NFVFRJTkdTLFtlLmlkXSkudGhlbigoZnVuY3Rpb24odCl7dCYmKGUuc2V0dGluZ3M9dCl9KSksZS5zZXR0aW5nc30sZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKG4scixpKXt0LmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgZW5kZWQgZXZlbnQgbGlzdGVuZXIgdmlhIGFkZEV2ZW50TGlzdGVuZXIuXCIpLHQuYWRkVHJhY2tFdmVudExpc3RlbmVyKGUuaWQsbixyLGkpfSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24obixyKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS5pZCxuLHIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIm9uZW5kZWRcIix7c2V0OmZ1bmN0aW9uKG4pe3QuYWRkVHJhY2tFdmVudExpc3RlbmVyKGUuaWQsZC5FTkRFRCxuKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJvbm11dGVcIix7c2V0OmZ1bmN0aW9uKG4pe3QuYWRkVHJhY2tFdmVudExpc3RlbmVyKGUuaWQsZC5NVVRFLG4pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIm9udW5tdXRlXCIse3NldDpmdW5jdGlvbihuKXt0LmFkZFRyYWNrRXZlbnRMaXN0ZW5lcihlLmlkLGQuVU5NVVRFLG4pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxlLnRyYWNrRW5hYmxlZD1lLmVuYWJsZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJlbmFibGVkXCIse3NldDpmdW5jdGlvbihuKXtlLnRyYWNrRW5hYmxlZD1uLHQuc2VuZEFwaVJlcXVlc3QoYS5UT0dHTEVfVFJBQ0tfRU5BQkxFRF9BUElfTkFNRSxbZS5pZCxuXSkudGhlbigoZnVuY3Rpb24obil7biYmKHQudHJhY2tQcm94aWVzLmdldChlLmlkKS50cmFja0VuYWJsZWQ9bi5lbmFibGVkKX0pKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUudHJhY2tFbmFibGVkfX0pLHRoaXMucHJlUmVnaXN0ZXJFdmVudHMoZCxlLHRoaXMuYWRkVHJhY2tFdmVudExpc3RlbmVyKSxlfW1ha2VTdHJlYW1Qcm94eShlKXt2YXIgdD10aGlzO3RoaXMuc3RyZWFtUHJveGllcy5zZXQoZS5pZCxlKTtsZXQgbj1uZXcgTWVkaWFTdHJlYW07bi50eXBlPVwicHJveHlcIixuLnByb3h5PWU7bGV0IHI9ZS50cmFja3M/ZS50cmFja3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5tYWtlVHJhY2tQcm94eShlKX0pKTpbXTtyZXR1cm4gZS50cmFja3M9cixuLmdldFRyYWNrcz1mdW5jdGlvbigpe3JldHVybiByfSxuLmdldEF1ZGlvVHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT1lLmtpbmR9KSl9LG4uZ2V0VmlkZW9UcmFja3M9ZnVuY3Rpb24oKXtyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUua2luZH0pKX0sbi5nZXRUcmFja0J5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSkpfSxuLmNyZWF0ZU1lZGlhRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jcmVhdGVNZWRpYUVsZW1lbnQoZSl9LG4uYWRkVHJhY2s9ZnVuY3Rpb24obil7dC5zZW5kQXBpUmVxdWVzdChhLlNUUkVBTV9BRERfVFJBQ0ssW2UuaWQsbi5pZF0pfSxuLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKG4pe3Quc2VuZEFwaVJlcXVlc3QoYS5TVFJFQU1fUkVNT1ZFX1RSQUNLLFtlLmlkLG4uaWRdKX0sbn11cGRhdGVUcmFuc2NlaXZlclByb3h5KGUpe2xldCB0PXRoaXMudHJhbnNjZWl2ZXJQcm94aWVzLmdldChlLmlkKTtyZXR1cm4gdHx8KHQ9e30pLE9iamVjdC5hc3NpZ24odCxlKSxlLnJlY2VpdmVyJiZcInByb3h5XCI9PT1lLnJlY2VpdmVyLnR5cGUmJih0LnJlY2VpdmVyPXRoaXMudXBkYXRlUmVjZWl2ZXJQcm94eShlLnJlY2VpdmVyKSksZS5zZW5kZXImJlwicHJveHlcIj09PWUuc2VuZGVyLnR5cGUmJih0LnNlbmRlcj10aGlzLnVwZGF0ZVNlbmRlclByb3h5KGUuc2VuZGVyKSksdGhpcy50cmFuc2NlaXZlclByb3hpZXMuc2V0KGUuaWQsdCksdH11cGRhdGVQQ1NlbmRlcnMoZSx0KXt2YXIgbj10aGlzO2xldCByPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi51cGRhdGVTZW5kZXJQcm94eShlKX0pKTt0aGlzLnBjUHJveGllcy5nZXQoZSkuc2VuZGVycz1yfXVwZGF0ZVBDUmVjZWl2ZXJzKGUsdCl7dmFyIG49dGhpcztsZXQgcj10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4udXBkYXRlUmVjZWl2ZXJQcm94eShlKX0pKTt0aGlzLnBjUHJveGllcy5nZXQoZSkucmVjZWl2ZXJzPXJ9dXBkYXRlUENUcmFuc2NlaXZlcnMoZSx0KXt2YXIgbj10aGlzO2xldCByPXQ7ci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnVwZGF0ZVRyYW5zY2VpdmVyUHJveHkoZSl9KSksdGhpcy5wY1Byb3hpZXMuZ2V0KGUpLnRyYW5zY2VpdmVycz1yfWlzVmFsaWRBcGkoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IG4gaW4gYSlpZihhW25dPT09ZSl7dD0hMDticmVha31yZXR1cm4gdH1hc3luYyBzZW5kQXBpUmVxdWVzdChlLHQsbj1jcnlwdG8ucmFuZG9tVVVJRCgpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhlLHQsbik7dHJ5e2NvbnN0IHI9e2FwaTplLGFyZ3M6dH07bGV0IGk9QS5kZWZsYXRlUmF3KEpTT04uc3RyaW5naWZ5KHIpKTtjb25zdCBzPXtyZXF1ZXN0SWQ6bixtZXNzYWdlOmksdHlwZTpcInJlcXVlc3RcIn07dGhpcy5sb2dnZXIuZGVidWcoXCJTZW5kaW5nIHJlcXVlc3Q6XCIsSlNPTi5zdHJpbmdpZnkocykpO2xldCBhPWF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHRoaXMuZXh0ZW5zaW9uSWQscyk7aT1hLm1lc3NhZ2U7Y29uc3Qgbz1BLmluZmxhdGVSYXcoaSksZD10aGlzLmRlY29kZXIuZGVjb2RlKG8pO2lmKGEubWVzc2FnZT1KU09OLnBhcnNlKGQpLHRoaXMubG9nZ2VyLmRlYnVnKFwiUmVjZWl2ZWQgcmVzcG9uc2U6IFwiLEpTT04uc3RyaW5naWZ5KGEpKSwhYXx8IWEubWVzc2FnZXx8IWEudHlwZSl7bGV0IGU9YFJlY2VpdmVkIGVtcHR5IG1lc3NhZ2Ugb3IgdHlwZSwgZXh0ZW5zaW9uUmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkoYSl9LCByZXF1ZXN0OiAke0pTT04uc3RyaW5naWZ5KHMpfSwgbWVzc2FnZTogJHtKU09OLnN0cmluZ2lmeShyKX1gO3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGUpLG51bGx9aWYoXCJlcnJvclwiPT09YS50eXBlKXtsZXQgZT1gUmVjZWl2ZWQgZXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoYSl9LCBmb3IgcmVxdWVzdDogJHtKU09OLnN0cmluZ2lmeShzKX0sIG1lc3NhZ2U6ICR7SlNPTi5zdHJpbmdpZnkocil9YCx0PW51bGw7aWYodGhpcy5sb2dnZXIuZGVidWcoZSksYS5tZXNzYWdlLmVycm9yJiZhLm1lc3NhZ2UuZXJyb3IubWVzc2FnZSYmYS5tZXNzYWdlLmVycm9yJiZhLm1lc3NhZ2UuZXJyb3IubmFtZSl0aHJvdyBlPWEubWVzc2FnZS5lcnJvci5tZXNzYWdlLHQ9YS5tZXNzYWdlLmVycm9yLm5hbWUsbmV3IERPTUV4Y2VwdGlvbihlLHQpO3JldHVybiBudWxsfWlmKFwicmVzcG9uc2VcIiE9PWEudHlwZSYmXCJldmVudFwiIT09YS50eXBlJiZcImVycm9yXCIhPT1hLnR5cGUpe2xldCBlPWBSZWNlaXZlZCBpbnZhbGlkIG1lc3NhZ2UgdHlwZSwgdHlwZTogJHtKU09OLnN0cmluZ2lmeShhLnR5cGUpfSwgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkoYSl9LCByZXF1ZXN0OiAke0pTT04uc3RyaW5naWZ5KHMpfSwgbWVzc2FnZTogJHtKU09OLnN0cmluZ2lmeShyKX1gO3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGUpLG51bGx9aWYoYS5tZXNzYWdlLmFwaSYmIXRoaXMuaXNWYWxpZEFwaShhLm1lc3NhZ2UuYXBpKSl7bGV0IGU9YFJlY2VpdmVkIGludmFsaWQgbWVzc2FnZSBhcGksIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KGEpfSwgcmVxdWVzdDogJHtKU09OLnN0cmluZ2lmeShzKX0sIG1lc3NhZ2U6ICR7SlNPTi5zdHJpbmdpZnkocil9YDtyZXR1cm4gdGhpcy5sb2dnZXIud2FybihlKSxudWxsfXJldHVyblwiZXZlbnRcIj09PWEudHlwZT9hLm1lc3NhZ2UuZXZlbnQ6YS5tZXNzYWdlLnJlc3BvbnNlfWNhdGNoKHIpe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gc2VuZCBhcGkgcmVxdWVzdDogYXBpOiAke2V9LCBhcmdzOiAke3R9LCByZXF1ZXN0SWQ6ICR7bn1gLHIpLG51bGx9fWFzeW5jIGdldFVzZXJNZWRpYUludGVybmFsKGUpe2xldCB0PWF3YWl0IHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5HRVRVU0VSTUVESUFfQVBJX05BTUUsW2VdKTtyZXR1cm4gdD90aGlzLm1ha2VTdHJlYW1Qcm94eSh0KTpudWxsfWdldE92ZXJyaWRlbkFwaShlKXtyZXR1cm4gdGhpcy5vdmVycmlkZW5BcGlzLmdldChlKX1hc3luYyBnZXRVc2VyTWVkaWEoZSl7Y29uc3QgdD1PYmplY3QuZnJlZXplKGUpO2lmKHQuYXVkaW8mJnQudmlkZW8pe2xldCBlPWF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZTpcIm1pY3JvcGhvbmVcIn0pLG49YXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiY2FtZXJhXCJ9KTtpZihlJiZcImdyYW50ZWRcIj09PWUuc3RhdGUmJm4mJlwiZ3JhbnRlZFwiPT09bi5zdGF0ZSlyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyTWVkaWFJbnRlcm5hbCh0KX1lbHNlIGlmKHQuYXVkaW8pe2xldCBlPWF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZTpcIm1pY3JvcGhvbmVcIn0pO2lmKGUmJlwiZ3JhbnRlZFwiPT09ZS5zdGF0ZSlyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyTWVkaWFJbnRlcm5hbCh0KX1lbHNlIGlmKHQudmlkZW8pe2xldCBlPWF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZTpcImNhbWVyYVwifSk7aWYoZSYmXCJncmFudGVkXCI9PT1lLnN0YXRlKXJldHVybiBhd2FpdCB0aGlzLmdldFVzZXJNZWRpYUludGVybmFsKHQpfWxldCBuPVtdO2lmKHQudmlkZW8mJihuPWF3YWl0IHRoaXMuZ2V0T3ZlcnJpZGVuQXBpKFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzXCIpLmFwcGx5KG5hdmlnYXRvci5tZWRpYURldmljZXMpLG49bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmtpbmQmJmUua2luZC5pbmRleE9mKFwidmlkZW9cIik+LTF9KSkpLHQuYXVkaW8mJiF0LnZpZGVvfHx0LnZpZGVvJiZuLmxlbmd0aD4wKXsoYXdhaXQgdGhpcy5nZXRPdmVycmlkZW5BcGkoXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKS5hcHBseShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLFt0XSkpLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpfXJldHVybiBhd2FpdCB0aGlzLmdldFVzZXJNZWRpYUludGVybmFsKHQpfWFzeW5jIGVudW1lcmF0ZURldmljZXMoKXtsZXQgZT1hd2FpdCB0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuRU5VTUVSQVRFREVWSUNFU19BUElfTkFNRSxbXSk7cmV0dXJuIGU/dGhpcy5tYWtlTWVkaWFEZXZpY2VJbmZvUHJveGllcyhlKTpudWxsfWdldFZlcnNpb24oKXtyZXR1cm4gdH1tYWtlUmVjZWl2ZXJQcm94eShlKXt2YXIgdD10aGlzO3JldHVybiBlLnRyYWNrJiYoZS50cmFjaz10aGlzLm1ha2VUcmFja1Byb3h5KGUudHJhY2spKSxlLmdldFN5bmNocm9uaXphdGlvblNvdXJjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zeW5jaHJvbml6YXRpb25Tb3VyY2VzfSxlLmdldFN0YXRzPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3Qgbj1hd2FpdCB0LnNlbmRBcGlSZXF1ZXN0KGEuR0VUX1JFQ0VJVkVSX1NUQVRTX0FQSV9OQU1FLFtlLmlkXSk7bGV0IHI9bmV3IE1hcDtyZXR1cm4gbiYmbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyLnNldChlLmlkLGUpfSkpLHJ9LGUuY3JlYXRlRW5jb2RlZFN0cmVhbXM9ZnVuY3Rpb24oKXtsZXQgbj17aWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0eXBlOlwicHJveHlcIixyZWFkYWJsZTp7aWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0eXBlOlwicHJveHlcIn0sd3JpdGFibGU6e2lkOmNyeXB0by5yYW5kb21VVUlEKCksdHlwZTpcInByb3h5XCJ9fTtyZXR1cm4gdC5zdHJlYW1Qcm94aWVzLnNldChuLmlkLG4pLHQuc2VuZEFwaVJlcXVlc3QoYS5SRUNFSVZFUl9DUkVBVEVfRU5DT0RFRF9TVFJFQU1TLFtlLmlkLG5dKSxufSx0aGlzLnJlY2VpdmVyUHJveGllcy5zZXQoZS5pZCxlKSxlfW1ha2VEVE1GUHJveHkoZSl7dmFyIHQ9dGhpcztsZXQgbj1lO3JldHVybiB0aGlzLmR0bWZQcm94aWVzLmhhcyhuLmlkKT8obj10aGlzLmR0bWZQcm94aWVzLmdldChuLmlkKSxPYmplY3QuYXNzaWduKG4sZSkpOih0aGlzLmR0bWZQcm94aWVzLnNldChuLmlkLG4pLG4ucGVuZGluZ0V2ZW50cz1uZXcgTWFwLG4uaW5zZXJ0RFRNRj1mdW5jdGlvbihlLHIsaSl7dC5zZW5kQXBpUmVxdWVzdChhLklOU0VSVF9EVE1GX0FQSV9OQU1FLFtuLmlkLGUscixpXSl9LG4uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHIsaSl7dC5hZGREdG1mRXZlbnRMaXN0ZW5lcihuLmlkLGUscixpKX0sbi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUscil7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4uaWQsZSxyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJvbnRvbmVjaGFuZ2VcIix7c2V0OmZ1bmN0aW9uKGUpe3QuYWRkRHRtZkV2ZW50TGlzdGVuZXIobi5pZCxjLlRPTkVDSEFOR0UsZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pLHRoaXMucHJlUmVnaXN0ZXJFdmVudHMoYyxuLHRoaXMuYWRkRHRtZkV2ZW50TGlzdGVuZXIpKSxufW1ha2VTZW5kZXJQcm94eShlKXt2YXIgdD10aGlzO3JldHVybiBlLnRyYWNrJiYoZS50cmFjaz10aGlzLm1ha2VUcmFja1Byb3h5KGUudHJhY2spKSxlLmR0bWYmJihlLmR0bWY9dGhpcy5tYWtlRFRNRlByb3h5KGUuZHRtZikpLGUuZ2V0U3RhdHM9YXN5bmMgZnVuY3Rpb24oKXtsZXQgbj1hd2FpdCB0LnNlbmRBcGlSZXF1ZXN0KGEuR0VUX1NFTkRFUl9TVEFUU19BUElfTkFNRSxbZS5pZF0pO3JldHVybiBuJiYobi5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PW4uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSkpfSxuLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbi5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KSl9KSxufSxlLnJlcGxhY2VUcmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gZS50cmFjaz1uLHQuc2VuZEFwaVJlcXVlc3QoYS5SRVBMQUNFX1NFTkRFUl9UUkFDS19BUElfTkFNRSxbZS5pZCxuXSl9LGUuY3JlYXRlRW5jb2RlZFN0cmVhbXM9ZnVuY3Rpb24oKXtsZXQgbj17aWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSx0eXBlOlwicHJveHlcIixyZWFkYWJsZTp7dHlwZTpcInByb3h5XCIsaWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKX0sd3JpdGFibGU6e3R5cGU6XCJwcm94eVwiLGlkOmNyeXB0by5yYW5kb21VVUlEKCl9fTtyZXR1cm4gdC5zdHJlYW1Qcm94aWVzLnNldChuLmlkLG4pLHQuc2VuZEFwaVJlcXVlc3QoYS5TRU5ERVJfQ1JFQVRFX0VOQ09ERURfU1RSRUFNUyxbZS5pZCxuXSksbn0sZX11cGRhdGVTZW5kZXJQcm94eShlKXtsZXQgdD10aGlzLnNlbmRlclByb3hpZXMuZ2V0KGUuaWQpO3JldHVybiB0P09iamVjdC5hc3NpZ24odCxlKToodD1lLHRoaXMuc2VuZGVyUHJveGllcy5zZXQoZS5pZCx0KSksdGhpcy5tYWtlU2VuZGVyUHJveHkodCl9dXBkYXRlUmVjZWl2ZXJQcm94eShlKXtsZXQgdD10aGlzLnJlY2VpdmVyUHJveGllcy5nZXQoZS5pZCk7cmV0dXJuIHQ/T2JqZWN0LmFzc2lnbih0LGUpOih0PWUsdGhpcy5yZWNlaXZlclByb3hpZXMuc2V0KGUuaWQsdCkpLHRoaXMubWFrZVJlY2VpdmVyUHJveHkodCl9YWRkVHJhY2soZSx0KXt2YXIgbj10aGlzO2xldCByPWNyeXB0by5yYW5kb21VVUlEKCk7dGhpcy5zZW5kQXBpUmVxdWVzdChhLkFERF9UUkFDS19BUElfTkFNRSxbciwuLi5hcmd1bWVudHNdKS50aGVuKChmdW5jdGlvbihlKXtlJiYobi51cGRhdGVTZW5kZXJQcm94eShlKSxuLnVwZGF0ZVBDU2VuZGVycyhlLnBjSWQsZS5zZW5kZXJzKSxuLnVwZGF0ZVBDUmVjZWl2ZXJzKGUucGNJZCxlLnJlY2VpdmVycyksbi51cGRhdGVQQ1RyYW5zY2VpdmVycyhlLnBjSWQsZS50cmFuc2NlaXZlcnMpKX0pKTtsZXQgaT10aGlzLnVwZGF0ZVNlbmRlclByb3h5KHtpZDpyfSk7cmV0dXJuIHRoaXMucGNQcm94aWVzLmdldChlKS5zZW5kZXJzLnB1c2goaSksaX11cGRhdGVQZWVyQ29ubmVjdGlvblByb3h5KGUpe2xldCB0PXRoaXMucGNQcm94aWVzLmdldChlLnBjSWQpO09iamVjdC5hc3NpZ24odCxlKSx0aGlzLnVwZGF0ZVBDU2VuZGVycyhlLnBjSWQsZS5zZW5kZXJzKSx0aGlzLnVwZGF0ZVBDUmVjZWl2ZXJzKGUucGNJZCxlLnJlY2VpdmVycyksdGhpcy51cGRhdGVQQ1RyYW5zY2VpdmVycyhlLnBjSWQsZS50cmFuc2NlaXZlcnMpfWNyZWF0ZVBlZXJDb25uZWN0aW9uKGUsdCl7dmFyIG49dGhpcztsZXQgcj1jcnlwdG8ucmFuZG9tVVVJRCgpLGk9dGhpczt0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgUlRDUGVlckNvbm5lY3Rpb24gd2l0aCBpZDogJHtyfWApO2xldCBzPXt0eXBlOlwicHJveHlcIixpZDpyLHNpZ25hbGluZ1N0YXRlOlwibmV3XCIsY29ubmVjdGlvblN0YXRlOlwibmV3XCIsaWNlQ29ubmVjdGlvblN0YXRlOlwibmV3XCIsaWNlR2F0aGVyaW5nU3RhdGU6XCJuZXdcIixyZWNlaXZlcnM6W10sc2VuZGVyczpbXSx0cmFuc2NlaXZlcnM6W10scGVuZGluZ0V2ZW50czpuZXcgTWFwLGNvbmZpZ3VyYXRpb246ZSxjbG9zZTpmdW5jdGlvbigpe24uY2xvc2Uocil9LGFkZFN0cmVhbTpmdW5jdGlvbihlKXtuLmFkZFN0cmVhbShyLGUpfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2VuZEFwaVJlcXVlc3QoYS5QQ19HRVRfQ09ORklHVVJBVElPTixbcl0pLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJihzLmNvbmZpZ3VyYXRpb249ZSl9KSkscy5jb25maWd1cmF0aW9ufSxnZXRTdGF0czpmdW5jdGlvbihlKXtyZXR1cm4gbi5nZXRTdGF0cyhyLGUpfSxjcmVhdGVPZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbi5jcmVhdGVPZmZlcihyLGUpfSxjcmVhdGVBbnN3ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY3JlYXRlQW5zd2VyKHIsZSl9LHNldExvY2FsRGVzY3JpcHRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc2V0TG9jYWxEZXNjcmlwdGlvbihyLGUpfSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7bi5hZGRQZWVyQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXIocixlLHQpfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKHIsZSx0KX0sZ2V0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihlKXtyZXR1cm4gbi5ldmVudExpc3RlbmVycy5nZXQocikuZ2V0KGUpfSxzZXQgb25pY2VjYW5kaWRhdGUoZSl7dGhpcy5hZGRFdmVudExpc3RlbmVyKG8uSUNFX0NBTkRJREFURSxlKX0sZ2V0IG9uaWNlY2FuZGlkYXRlKCl7cmV0dXJuIHRoaXMuZ2V0RXZlbnRMaXN0ZW5lcihvLklDRV9DQU5ESURBVEUpfSxzZXQgb250cmFjayhlKXt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoby5UUkFDSyxlKX0sZ2V0IG9udHJhY2soKXtyZXR1cm4gdGhpcy5nZXRFdmVudExpc3RlbmVyKG8uVFJBQ0spfSxnZXQgb25zaWduYWxpbmdzdGF0ZWNoYW5nZSgpe3JldHVybiB0aGlzLmdldEV2ZW50TGlzdGVuZXIoby5TSUdfU1RBVEVfQ0hBTkdFKX0sc2V0IG9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UoZSl7dGhpcy5hZGRFdmVudExpc3RlbmVyKG8uU0lHX1NUQVRFX0NIQU5HRSxlKX0sZ2V0IG9uY29ubmVjdGlvbnN0YXRlY2hhbmdlKCl7cmV0dXJuIHRoaXMuZ2V0RXZlbnRMaXN0ZW5lcihvLkNPTk5fU1RBVEVfQ0hBTkdFKX0sc2V0IG9uY29ubmVjdGlvbnN0YXRlY2hhbmdlKGUpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLkNPTk5fU1RBVEVfQ0hBTkdFLGUpfSxnZXQgb25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoKXtyZXR1cm4gdGhpcy5nZXRFdmVudExpc3RlbmVyKG8uSUNFX0NPTk5fU1RBVEVfQ0hBTkdFKX0sc2V0IG9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGUpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLklDRV9DT05OX1NUQVRFX0NIQU5HRSxlKX0sZ2V0IG9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UoKXtyZXR1cm4gdGhpcy5nZXRFdmVudExpc3RlbmVyKG8uSUNFX0dBVEhFUl9TVEFURV9DSEFOR0UpfSxzZXQgb25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZShlKXt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoby5JQ0VfR0FUSEVSX1NUQVRFX0NIQU5HRSxlKX0sZ2V0IG9ubmVnb3RpYXRpb25uZWVkZWQoKXtyZXR1cm4gdGhpcy5nZXRFdmVudExpc3RlbmVyKG8uTkVHT1RJQVRJT05fTkVFREVEKX0sc2V0IG9ubmVnb3RpYXRpb25uZWVkZWQoZSl7dGhpcy5hZGRFdmVudExpc3RlbmVyKG8uTkVHT1RJQVRJT05fTkVFREVELGUpfSxzZXRSZW1vdGVEZXNjcmlwdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihyLGUpfSxhZGRJY2VDYW5kaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uYWRkSWNlQ2FuZGlkYXRlKHIsZSl9LGdldFJlbW90ZVN0cmVhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2dnZXIud2FybihcImdldFJlbW90ZVN0cmVhbXMgbm90IGltcGxlbWVudGVkIG9uIHByb3h5LlwiKSxbXX0sZ2V0UmVjZWl2ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0UmVjZWl2ZXJzKHIpfSxnZXRTZW5kZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2VuZGVycyhyKX0sYWRkVHJhY2s6ZnVuY3Rpb24oZSl7bGV0IHQ9W3IsLi4uYXJndW1lbnRzXTtyZXR1cm4gaS5hZGRUcmFjay5hcHBseShpLHQpfSxhZGRUcmFuc2NlaXZlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuLmFkZFRyYW5zY2VpdmVyKHIsZSx0KX0sZ2V0VHJhbnNjZWl2ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0VHJhbnNjZWl2ZXJzKHIpfSxyZW1vdmVUcmFjazpmdW5jdGlvbihlKXtuLnJlbW92ZVRyYWNrKHIsZSl9fTtyZXR1cm4gdGhpcy5wY1Byb3hpZXMuc2V0KHIscyksdGhpcy5zZW5kQXBpUmVxdWVzdChhLk5FV1JUQ1BFRVJDT05ORUNUSU9OX0FQSV9OQU1FLFtyLGUsdF0scikudGhlbigoZnVuY3Rpb24oZSl7ZSYmbi51cGRhdGVQZWVyQ29ubmVjdGlvblByb3h5KGUpfSksKGZ1bmN0aW9uKGUpe24ubG9nZ2VyLmVycm9yKGBFcnJvciBjcmVhdGluZyBwcm94aWVkIFJUQ1BlZXJDb25uZWN0aW9uOiAke2V9YCl9KSksdGhpcy5wcmVSZWdpc3RlckV2ZW50cyhvLHRoaXMucGNQcm94aWVzLmdldChyKSx0aGlzLmFkZFBlZXJDb25uZWN0aW9uRXZlbnRMaXN0ZW5lciksdGhpcy5wY1Byb3hpZXMuZ2V0KHIpfXByZVJlZ2lzdGVyRXZlbnRzKGUsdCxuKXtmb3IoY29uc3QgciBpbiBlKVwic3RyaW5nXCI9PXR5cGVvZiBlW3JdJiZuLmFwcGx5KHRoaXMsW3QuaWQsZVtyXSxmdW5jdGlvbihlKXt0LnBlbmRpbmdFdmVudHMuaGFzKGUuZXZlbnROYW1lKXx8dC5wZW5kaW5nRXZlbnRzLnNldChlLmV2ZW50TmFtZSxbXSksdC5wZW5kaW5nRXZlbnRzLmdldChlLmV2ZW50TmFtZSkucHVzaChlKX1dKX11cGRhdGVBdWRpb0NvbnRleHRQcm94eShlKXtsZXQgdD10aGlzLmF1ZGlvQ29udGV4dFByb3hpZXMuZ2V0KGUuaWQpO09iamVjdC5hc3NpZ24odCxlKX11cGRhdGVBdWRpb05vZGVQcm94eShlKXtsZXQgdD10aGlzLmF1ZGlvTm9kZVByb3hpZXMuZ2V0KGUuaWQpO09iamVjdC5hc3NpZ24odCxlKSxlLnN0cmVhbSYmdGhpcy5tYWtlU3RyZWFtUHJveHkoZS5zdHJlYW0pfW1ha2VBdWRpb05vZGVQcm94eShlLHQpe3ZhciBuPXRoaXM7cmV0dXJue3R5cGU6XCJwcm94eVwiLGlkOnQsY29udGV4dDp0aGlzLmF1ZGlvQ29udGV4dFByb3hpZXMuZ2V0KGUpLGNvbm5lY3Q6ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBuLnNlbmRBcGlSZXF1ZXN0KGEuQVVESU9fTk9ERV9DT05ORUNULFt0LGUscixpXSksZX0sZGlzY29ubmVjdDpmdW5jdGlvbihlLHIsaSl7bi5zZW5kQXBpUmVxdWVzdChhLkFVRElPX05PREVfRElTQ09OTkVDVCxbdCxlLHIsaV0pfX19Y3JlYXRlQXVkaW9Ob2RlKGUsdCxuKXt2YXIgcj10aGlzO2xldCBpPWNyeXB0by5yYW5kb21VVUlEKCk7cmV0dXJuIHRoaXMuYXVkaW9Ob2RlUHJveGllcy5zZXQoaSx0aGlzLm1ha2VBdWRpb05vZGVQcm94eShlLGkpKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQVVESU9fQ1RYX0NSRUFURV9BVURJT19OT0RFLFtlLGksdCxuXSxpKS50aGVuKChmdW5jdGlvbihlKXtlJiZyLnVwZGF0ZUF1ZGlvTm9kZVByb3h5KGUpfSksKGZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKGBFcnJvciBjcmVhdGluZyBwcm94aWVkICR7dH06ICR7ZX1gKX0pKSx0aGlzLmF1ZGlvTm9kZVByb3hpZXMuZ2V0KGkpfW1ha2VXb3JrZXJQcm94eShlKXt2YXIgdD10aGlzO2xldCBuPXtpZDplLHBlbmRpbmdFdmVudHM6bmV3IE1hcCx0eXBlOlwicHJveHlcIixwb3N0TWVzc2FnZTpmdW5jdGlvbihuLHIpe3Quc2VuZEFwaVJlcXVlc3QoYS5XT1JLRVJfUE9TVF9NRVNTQUdFLFtlLG4scl0pfSx0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt0LnNlbmRBcGlSZXF1ZXN0KGEuV09SS0VSX1RFUk1JTkFURSxbZV0pfSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUscixpKXt0LmFkZFdvcmtlckV2ZW50TGlzdGVuZXIobi5pZCxlLHIsaSl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSxyKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIobi5pZCxlLHIpfX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwib25lcnJvclwiLHtzZXQ6ZnVuY3Rpb24oZSl7dC5hZGRXb3JrZXJFdmVudExpc3RlbmVyKG4uaWQsbC5FUlJPUixlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJvbm1lc3NhZ2VcIix7c2V0OmZ1bmN0aW9uKGUpe3QuYWRkV29ya2VyRXZlbnRMaXN0ZW5lcihuLmlkLGwuTUVTU0FHRSxlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJvbm1lc3NhZ2VlcnJvclwiLHtzZXQ6ZnVuY3Rpb24oZSl7dC5hZGRXb3JrZXJFdmVudExpc3RlbmVyKG4uaWQsbC5NRVNTQUdFX0VSUk9SLGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxufWNyZWF0ZVdvcmtlcihlLHQpe3ZhciBuPXRoaXM7bGV0IHI9Y3J5cHRvLnJhbmRvbVVVSUQoKSxpPXRoaXMubWFrZVdvcmtlclByb3h5KHIpO3JldHVybiB0aGlzLndvcmtlclByb3hpZXMuc2V0KHIsaSksZmV0Y2goZSkudGhlbigoZnVuY3Rpb24oZSl7ZS5ibG9iKCkudGhlbigoZnVuY3Rpb24oZSl7ZS5hcnJheUJ1ZmZlcigpLnRoZW4oKGZ1bmN0aW9uKGkpe2xldCBzPXAoaSk7bi5zZW5kQXBpUmVxdWVzdChhLkNSRUFURV9XT1JLRVIsW3IsZS50eXBlLHMsdF0pLnRoZW4oKGZ1bmN0aW9uKGUpe24ubG9nZ2VyLmRlYnVnKGBDcmVhdGVkIHdvcmtlcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKX0pKX0pKX0pKX0pKSx0aGlzLmxvZ2dlci5kZWJ1ZyhgUHJlcmVnaXN0ZXJpbmcgZXZlbnRzIGZvciB3b3JrZXI6ICR7SlNPTi5zdHJpbmdpZnkoaSl9YCksdGhpcy5wcmVSZWdpc3RlckV2ZW50cyhsLGksdGhpcy5hZGRXb3JrZXJFdmVudExpc3RlbmVyKSxpfWNyZWF0ZUF1ZGlvQ29udGV4dCgpe3ZhciBlPXRoaXM7bGV0IHQ9Y3J5cHRvLnJhbmRvbVVVSUQoKSxuPWNyeXB0by5yYW5kb21VVUlEKCk7cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0UHJveGllcy5zZXQodCx7dHlwZTpcInByb3h5XCIsaWQ6dCxkZXN0aW5hdGlvbjp0aGlzLm1ha2VBdWRpb05vZGVQcm94eSh0LG4pLGNyZWF0ZUdhaW46ZnVuY3Rpb24oKXtsZXQgbj1lLmNyZWF0ZUF1ZGlvTm9kZSh0LFwiR2FpblwiLFtdKSxyPXtzZXRWYWx1ZUF0VGltZTpmdW5jdGlvbih0LGkpe3JldHVybiByLmN1cnJlbnRWYWx1ZT10LGUuc2VuZEFwaVJlcXVlc3QoYS5BVURJT19QQVJBTV9TRVRfVkFMVUVfQVRfVElNRSxbbi5pZCx0LGldKSxyfSxsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZTpmdW5jdGlvbih0LGkpe3JldHVybiBlLnNlbmRBcGlSZXF1ZXN0KGEuQVVESU9fUEFSQU1fU0VUX1JBTVBfVE9fVkFMVUVfQVRfVElNRSxbbi5pZCx0LGldKSxyfX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwidmFsdWVcIix7c2V0OmZ1bmN0aW9uKGUpe3JldHVybiByLnNldFZhbHVlQXRUaW1lKGUsMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiByLmN1cnJlbnRWYWx1ZX19KSxuLmdhaW49cixufSxjcmVhdGVPc2NpbGxhdG9yOmZ1bmN0aW9uKCl7bGV0IG49ZS5jcmVhdGVBdWRpb05vZGUodCxcIk9zY2lsbGF0b3JcIixbXSk7bi5zdGFydD1mdW5jdGlvbih0PTApe2Uuc2VuZEFwaVJlcXVlc3QoYS5BVURJT19OT0RFX1NUQVJULFtuLmlkLHRdKX0sbi5zdG9wPWZ1bmN0aW9uKHQ9MCl7ZS5zZW5kQXBpUmVxdWVzdChhLkFVRElPX05PREVfU1RPUCxbbi5pZCx0XSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwidHlwZVwiLHtzZXQ6ZnVuY3Rpb24odCl7bi5jdXJyZW50VHlwZT10LGUuc2VuZEFwaVJlcXVlc3QoYS5BVURJT19OT0RFX1NFVF9UWVBFLFtuLmlkLHRdKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3VycmVudFR5cGV9fSk7bGV0IHI9e3NldFZhbHVlQXRUaW1lOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuc2VuZEFwaVJlcXVlc3QoYS5BVURJT19QQVJBTV9TRVRfVkFMVUVfQVRfVElNRSxbbi5pZCx0LGldKSxyfX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwidmFsdWVcIix7c2V0OmZ1bmN0aW9uKGUpe3JldHVybiByLnNldFZhbHVlQXRUaW1lKGUsMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiByLmN1cnJlbnRWYWx1ZX19KSxuLmZyZXF1ZW5jeT1yLG59LGNyZWF0ZU1lZGlhU3RyZWFtU291cmNlOmZ1bmN0aW9uKG4pe3JldHVybiBlLmNyZWF0ZUF1ZGlvTm9kZSh0LFwiTWVkaWFTdHJlYW1Tb3VyY2VcIixbbi5wcm94eV0pfSxjcmVhdGVBbmFseXNlcjpmdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZUF1ZGlvTm9kZSh0LFwiQW5hbHlzZXJcIixbXSl9LGNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb246ZnVuY3Rpb24oKXtsZXQgbj1lLmNyZWF0ZUF1ZGlvTm9kZSh0LFwiTWVkaWFTdHJlYW1EZXN0aW5hdGlvblwiLFtdKTtyZXR1cm4gbi5zdHJlYW09ZS5tYWtlU3RyZWFtUHJveHkoe2lkOm4uaWQsdHJhY2tzOlt7aWQ6bi5pZCxraW5kOlwiYXVkaW9cIn1dfSksbn0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZW5kQXBpUmVxdWVzdChhLkFVRElPX0NUWF9DTE9TRSxbdF0pfX0pLHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5ORVdfQVVESU9fQ09OVEVYVCxbdCxuXSx0KS50aGVuKChmdW5jdGlvbih0KXt0JiZlLnVwZGF0ZUF1ZGlvQ29udGV4dFByb3h5KHQpfSksKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLmVycm9yKGBFcnJvciBjcmVhdGluZyBwcm94aWVkIEF1ZGlvQ29udGV4dDogJHt0fWApfSkpLHRoaXMuYXVkaW9Db250ZXh0UHJveGllcy5nZXQodCl9Y2xvc2UoZSl7dGhpcy5ldmVudExpc3RlbmVycy5nZXQoZSkuY2xlYXIoKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuUENfQ0xPU0VfQVBJX05BTUUsW2VdKX1hZGRTdHJlYW0oZSx0KXt0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQUREU1RSRUFNX0FQSV9OQU1FLFtlLHQucHJveHldKX1nZXRTdGF0cyhlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiY2FsbGJhY2sgYmFzZWQgZ2V0U3RhdHMgaXMgb2Jzb2xldGUuXCIpKTp0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuR0VUX1NUQVRTX0FQSV9OQU1FLFtlLHRdKX1jcmVhdGVPZmZlcihlLHQpe3JldHVybiB0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQ1JFQVRFX09GRkVSX0FQSV9OQU1FLFtlLHRdKX1jcmVhdGVBbnN3ZXIoZSx0KXtyZXR1cm4gdGhpcy5zZW5kQXBpUmVxdWVzdChhLkNSRUFURV9BTlNXRVJfQVBJX05BTUUsW2UsdF0pfXNldExvY2FsRGVzY3JpcHRpb24oZSx0KXtyZXR1cm4gdGhpcy5wY1Byb3hpZXMuZ2V0KGUpLmxvY2FsRGVzY3JpcHRpb249dCx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX0FQSV9OQU1FLFtlLHRdKX1zZXRSZW1vdGVEZXNjcmlwdGlvbihlLHQpe3JldHVybiB0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuU0VUX1JFTU9URV9ERVNDUklQVElPTl9BUElfTkFNRSxbZSx0XSl9aGFuZGxlQWRkRXZlbnRMaXN0ZW5lclJlc3BvbnNlKGUpe3ZhciB0PXRoaXM7ZS5ldmVudE5hbWU9PT1vLlNJR19TVEFURV9DSEFOR0U/dGhpcy51cGRhdGVQZWVyQ29ubmVjdGlvblByb3h5KGUpOmUuZXZlbnROYW1lPT09by5UUkFDSz8oZS5zdHJlYW1zPWUuc3RyZWFtcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1ha2VTdHJlYW1Qcm94eShlKX0pKSxlLnRyYWNrPXRoaXMubWFrZVRyYWNrUHJveHkoZS50cmFjayksdGhpcy51cGRhdGVQZWVyQ29ubmVjdGlvblByb3h5KGUpKTooZS5ldmVudE5hbWU9PT1vLkNPTk5fU1RBVEVfQ0hBTkdFfHxlLmV2ZW50TmFtZT09PW8uSUNFX0NPTk5fU1RBVEVfQ0hBTkdFfHxlLmV2ZW50TmFtZT09PW8uSUNFX0dBVEhFUl9TVEFURV9DSEFOR0V8fGUuZXZlbnROYW1lPT09by5JQ0VfQ0FORElEQVRFfHxlLmV2ZW50TmFtZT09PW8uTkVHT1RJQVRJT05fTkVFREVEKSYmdGhpcy51cGRhdGVQZWVyQ29ubmVjdGlvblByb3h5KGUpLHRoaXMuZmlyZVVwRXZlbnRIYW5kbGVycyh0aGlzLnBjUHJveGllcy5nZXQoZS5wY0lkKSxlKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQUREX1BDX0VWRU5UX0xJU1RFTkVSLFtlLnBjSWQsZS5ldmVudE5hbWVdKS50aGVuKChmdW5jdGlvbihlKXtlJiZ0LmhhbmRsZUFkZEV2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1maXJlVXBFdmVudEhhbmRsZXJzKGUsdCl7aWYoZSYmdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZS5pZCkuaGFzKHQuZXZlbnROYW1lKSl7bGV0IG49ZS5wZW5kaW5nRXZlbnRzO3RoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGUuaWQpLmdldCh0LmV2ZW50TmFtZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXswPT09cj9lKHQpOm4uZ2V0KHQuZXZlbnROYW1lKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlKHQpfSkpfSkpLG4uc2V0KHQuZXZlbnROYW1lLFtdKX19aGFuZGxlQWRkVHJhY2tFdmVudExpc3RlbmVyUmVzcG9uc2UoZSl7dmFyIHQ9dGhpcztcIm11dGVcIiE9PWUuZXZlbnROYW1lJiZcInVubXV0ZVwiIT09ZS5ldmVudE5hbWV8fCh0aGlzLnRyYWNrUHJveGllcy5nZXQoZS50cmFja0lkKS5tdXRlZD1lLm11dGVkKSx0aGlzLmZpcmVVcEV2ZW50SGFuZGxlcnModGhpcy50cmFja1Byb3hpZXMuZ2V0KGUudHJhY2tJZCksZSksdGhpcy5zZW5kQXBpUmVxdWVzdChhLkFERF9UUkFDS19FVkVOVF9MSVNURU5FUixbZS50cmFja0lkLGUuZXZlbnROYW1lXSkudGhlbigoZnVuY3Rpb24oZSl7ZSYmdC5oYW5kbGVBZGRUcmFja0V2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1oYW5kbGVBZGREdG1mRXZlbnRMaXN0ZW5lclJlc3BvbnNlKGUpe3ZhciB0PXRoaXM7dGhpcy5maXJlVXBFdmVudEhhbmRsZXJzKHRoaXMuZHRtZlByb3hpZXMuZ2V0KGUuZHRtZklkKSxlKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQUREX0RUTUZfRVZFTlRfTElTVEVORVIsW2UuZHRtZklkLGUuZXZlbnROYW1lXSkudGhlbigoZnVuY3Rpb24oZSl7ZSYmdC5oYW5kbGVBZGREdG1mRXZlbnRMaXN0ZW5lclJlc3BvbnNlKGUpfSkpfWhhbmRsZUFkZFdvcmtlckV2ZW50TGlzdGVuZXJSZXNwb25zZShlKXt2YXIgdD10aGlzO3RoaXMuZmlyZVVwRXZlbnRIYW5kbGVycyh0aGlzLndvcmtlclByb3hpZXMuZ2V0KGUud0lkKSxlKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQUREX1dPUktFUl9FVkVOVF9MSVNURU5FUixbZS53SWQsZS5ldmVudE5hbWVdKS50aGVuKChmdW5jdGlvbihlKXtlJiZ0LmhhbmRsZUFkZFdvcmtlckV2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1hZGRFdmVudExpc3RlbmVyKGUsdCxuKXt0aGlzLmV2ZW50TGlzdGVuZXJzLmhhcyhlKXx8dGhpcy5ldmVudExpc3RlbmVycy5zZXQoZSxuZXcgTWFwKSx0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChlKS5oYXModCl8fHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGUpLnNldCh0LFtdKSx0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChlKS5nZXQodCkucHVzaChuKX1hZGRQZWVyQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXIoZSx0LG4pe3ZhciByPXRoaXM7dGhpcy5hZGRFdmVudExpc3RlbmVyKGUsdCxuKSx0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQUREX1BDX0VWRU5UX0xJU1RFTkVSLFtlLHRdKS50aGVuKChmdW5jdGlvbihlKXtlJiZyLmhhbmRsZUFkZEV2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1hZGRUcmFja0V2ZW50TGlzdGVuZXIoZSx0LG4scil7dmFyIGk9dGhpczt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZSx0LG4pLHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5BRERfVFJBQ0tfRVZFTlRfTElTVEVORVIsW2UsdCxyXSkudGhlbigoZnVuY3Rpb24oZSl7ZSYmaS5oYW5kbGVBZGRUcmFja0V2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1hZGREdG1mRXZlbnRMaXN0ZW5lcihlLHQsbixyKXt2YXIgaT10aGlzO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihlLHQsbiksdGhpcy5zZW5kQXBpUmVxdWVzdChhLkFERF9EVE1GX0VWRU5UX0xJU1RFTkVSLFtlLHQscl0pLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJmkuaGFuZGxlQWRkRHRtZkV2ZW50TGlzdGVuZXJSZXNwb25zZShlKX0pKX1hZGRXb3JrZXJFdmVudExpc3RlbmVyKGUsdCxuKXt2YXIgcj10aGlzO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihlLHQsbiksdGhpcy5zZW5kQXBpUmVxdWVzdChhLkFERF9XT1JLRVJfRVZFTlRfTElTVEVORVIsW2UsdF0pLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJnIuaGFuZGxlQWRkV29ya2VyRXZlbnRMaXN0ZW5lclJlc3BvbnNlKGUpfSkpfXJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LG4pe2xldCByPXRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGUpLmdldCh0KTtjb25zdCBpPXIuaW5kZXhPZihuKTtpPi0xJiZyLnNwbGljZShpLDEpfWFkZEljZUNhbmRpZGF0ZShlLHQpe2xldCBuPXQ/e3NkcE1MaW5lSW5kZXg6dC5zZHBNTGluZUluZGV4LHNkcE1pZDp0LnNkcE1pZCxjYW5kaWRhdGU6dC5jYW5kaWRhdGV9Om51bGw7cmV0dXJuIHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5BRERfSUNFX0NBTkRJREFURV9BUElfTkFNRSxbZSxuXSl9Y3JlYXRlTWVkaWFFbGVtZW50KGUpe3ZhciB0PXRoaXM7bGV0IG49Y3J5cHRvLnJhbmRvbVVVSUQoKTt0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuQ1JFQVRFX01FRElBX0VMRU1FTlRfQVBJX05BTUUsW24sZV0sbikudGhlbigoZnVuY3Rpb24oZSl7aWYoZSl7dC5tZWRpYUVsZW1lbnRQcm94aWVzLmdldChlLmlkKS5zaW5rSWQ9ZS5zaW5rSWR9fSkpO2xldCByPXtpZDpuLHR5cGU6XCJwcm94eVwiLGNsYXNzTGlzdDpuZXcgU2V0LGlzTXV0ZWQ6ITEscGxheTpmdW5jdGlvbigpe3Quc2VuZEFwaVJlcXVlc3QoYS5NRURJQV9FTEVNRU5UX1BMQVlfQVBJX05BTUUsW25dKX0scGF1c2U6ZnVuY3Rpb24oKXt0LnNlbmRBcGlSZXF1ZXN0KGEuTUVESUFfRUxFTUVOVF9QQVVTRV9BUElfTkFNRSxbbl0pfSxzZXRTaW5rSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VuZEFwaVJlcXVlc3QoYS5NRURJQV9FTEVNRU5UX1NFVF9TSU5LX0lEX0FQSV9OQU1FLFtuLGVdKX0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2VuZEFwaVJlcXVlc3QoYS5NRURJQV9FTEVNRU5UX1JFTU9WRSxbbl0pfX07cmV0dXJuIHRoaXMubWVkaWFFbGVtZW50UHJveGllcy5zZXQobixyKSxyLmNsYXNzTGlzdC5yZW1vdmU9ZnVuY3Rpb24oZSl7ci5jbGFzc0xpc3QuZGVsZXRlKGUpfSxPYmplY3QuYXNzaWduKHIsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzcmNPYmplY3RcIix7c2V0OmZ1bmN0aW9uKGUpe3Iuc3RyZWFtPWUsdC5zZW5kQXBpUmVxdWVzdChhLlNFVF9NRURJQV9TUkNfT0JKX0FQSV9OQU1FLFtyLmlkLGUmJmUucHJveHk/ZS5wcm94eTplXSl9LGdldDpmdW5jdGlvbigpe3JldHVybiByLnN0cmVhbX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImhpZGRlblwiLHtzZXQ6ZnVuY3Rpb24oZSl7dC5zZW5kQXBpUmVxdWVzdChhLlNFVF9NRURJQV9ISURERU5fQVBJX05BTUUsW3IuaWQsZV0pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5oaWRkZW59fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJ2b2x1bWVcIix7c2V0OmZ1bmN0aW9uKGUpe3Quc2VuZEFwaVJlcXVlc3QoYS5TRVRfTUVESUFfVk9MVU1FX0FQSV9OQU1FLFtyLmlkLGVdKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIudm9sdW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwibXV0ZWRcIix7c2V0OmZ1bmN0aW9uKGUpe3IuaXNNdXRlZD1lLHQuc2VuZEFwaVJlcXVlc3QoYS5NRURJQV9FTEVNRU5UX01VVEVELFtyLmlkLGVdKS50aGVuKChmdW5jdGlvbihlKXtlJiYoci5pc011dGVkPWUubXV0ZWQpfSkpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5pc011dGVkfX0pLHJ9Z2VuZXJhdGVDZXJ0aWZpY2F0ZShlKXtyZXR1cm4gdGhpcy5zZW5kQXBpUmVxdWVzdChhLkdFTkVSQVRFX0NFUlRJRklDQVRFX0FQSV9OQU1FLFtlXSl9Z2V0UmVjZWl2ZXJzKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5HRVRfUkVDRUlWRVJTX0FQSV9OQU1FLFtlXSkudGhlbigoZnVuY3Rpb24oZSl7ZSYmdC51cGRhdGVQQ1JlY2VpdmVycyhlLnBjSWQsZS5yZWNlaXZlcnMpfSkpLHRoaXMucGNQcm94aWVzLmdldChlKS5yZWNlaXZlcnN9Z2V0U2VuZGVycyhlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuR0VUX1NFTkRFUlNfQVBJX05BTUUsW2VdKS50aGVuKChmdW5jdGlvbihlKXtlJiZ0LnVwZGF0ZVBDU2VuZGVycyhlLnBjSWQsZS5zZW5kZXJzKX0pKSx0aGlzLnBjUHJveGllcy5nZXQoZSkuc2VuZGVyc31yZW1vdmVUcmFjayhlLHQpe3RoaXMuc2VuZEFwaVJlcXVlc3QoYS5QQ19SRU1PVkVfVFJBQ0tfQVBJX05BTUUsW2UsdF0pfWdldFRyYW5zY2VpdmVycyhlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnNlbmRBcGlSZXF1ZXN0KGEuR0VUX1RSQU5TQ0VJVkVSU19BUElfTkFNRSxbZV0pLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJnQudXBkYXRlUENUcmFuc2NlaXZlcnMoZS5wY0lkLGUudHJhbnNjZWl2ZXJzKX0pKSx0aGlzLnBjUHJveGllcy5nZXQoZSkudHJhbnNjZWl2ZXJzfWFkZFRyYW5zY2VpdmVyKGUsdCxuKXt2YXIgcj10aGlzO2xldCBpPWNyeXB0by5yYW5kb21VVUlEKCkscz17dHlwZTpcInByb3h5XCIsaWQ6aSxzZW5kZXI6dGhpcy5tYWtlU2VuZGVyUHJveHkoe2lkOmNyeXB0by5yYW5kb21VVUlEKCl9KSxyZWNlaXZlcjp0aGlzLm1ha2VSZWNlaXZlclByb3h5KHtpZDpjcnlwdG8ucmFuZG9tVVVJRCgpfSksc2V0Q29kZWNQcmVmZXJlbmNlczpmdW5jdGlvbihlKXtyLnNlbmRBcGlSZXF1ZXN0KGEuVFJBTlNDRUlWRVJfU0VUX0NPREVDX1BSRUZTLFtpLGVdKX19O3JldHVybiB0aGlzLnRyYW5zY2VpdmVyUHJveGllcy5zZXQocy5pZCxzKSx0aGlzLnBjUHJveGllcy5nZXQoZSkudHJhbnNjZWl2ZXJzLnB1c2gocyksdGhpcy5wY1Byb3hpZXMuZ2V0KGUpLnJlY2VpdmVycy5wdXNoKHMucmVjZWl2ZXIpLHRoaXMucGNQcm94aWVzLmdldChlKS5zZW5kZXJzLnB1c2gocy5zZW5kZXIpLHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5BRERfVFJBTlNDRUlWRVJfQVBJX05BTUUsW2UscyxcInN0cmluZ1wiPT10eXBlb2YgdD90OnRoaXMubWFrZVRyYWNrUHJveHkodCksbl0pLnRoZW4oKGZ1bmN0aW9uKGUpe2UmJihyLnVwZGF0ZVRyYW5zY2VpdmVyUHJveHkoZSksci51cGRhdGVQQ1NlbmRlcnMoZS5wY0lkLGUuc2VuZGVycyksci51cGRhdGVQQ1JlY2VpdmVycyhlLnBjSWQsZS5yZWNlaXZlcnMpLHIudXBkYXRlUENUcmFuc2NlaXZlcnMoZS5wY0lkLGUudHJhbnNjZWl2ZXJzKSl9KSksc31zZXRMb2dnZXIoZSl7dGhpcy5sb2dnZXI9ZX1vdmVycmlkZVdlYlJUQygpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIuaW5mbyhcIk92ZXJyaWRpbmcgV2ViUlRDIGludGVyZmFjZXMgZm9yIHRoZSBjdXJyZW50IHdlYmFwcC5cIik7bGV0IHQ9dGhpcztuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRVc2VyTWVkaWEodCl9LG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcz1mdW5jdGlvbigpe3JldHVybiBlLmVudW1lcmF0ZURldmljZXMoKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY3JlYXRlUGVlckNvbm5lY3Rpb24oZSxuKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2VuZXJhdGVDZXJ0aWZpY2F0ZShlKX0sd2luZG93LkF1ZGlvQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUF1ZGlvQ29udGV4dCgpfSx3aW5kb3cuV29ya2VyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY3JlYXRlV29ya2VyKGUsbil9fXJlbW92ZVN0YXR1c0NoYW5nZUV2ZW50TGlzdGVuZXIoZSl7dGhpcy5zdGF0dXNDaGFuZ2VFdmVudExpc3RlbmVycz10aGlzLnN0YXR1c0NoYW5nZUV2ZW50TGlzdGVuZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSkpfWFkZFN0YXR1c0NoYW5nZUV2ZW50TGlzdGVuZXIoZSl7dGhpcy5zdGF0dXNDaGFuZ2VFdmVudExpc3RlbmVycy5wdXNoKGUpfWFzeW5jIHNlbmRIZWxsb1JlcXVlc3QoKXt2YXIgZT10aGlzO2xldCBuPWF3YWl0IHRoaXMuc2VuZEFwaVJlcXVlc3QoYS5IRUxMT19BUElfTkFNRSxbXSk7cmV0dXJuIG4mJiFnbG9iYWxUaGlzLkRDVldlYlJUQ1JlZGlyUHJveHkmJih0aGlzLnN0YXR1cz1oLkFWQUlMQUJMRSx0aGlzLmxvZ2dlci5pbmZvKGBSdW5uaW5nIGluIGEgRENWIFdlYlJUQyByZWRpcmVjdGlvbiBlbnYsIHByb3h5IHZlcnNpb246ICR7dC52ZXJzaW9uU3RyfSAtICR7dC5naXRIYXNofWApLHRoaXMubG9nZ2VyLmluZm8oYENsaWVudCBpbmZvOiAke0pTT04uc3RyaW5naWZ5KG4pfWApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsKGZ1bmN0aW9uKHQpe2xldCBuPXtwY0lkczpbXSxzdHJlYW1JZHM6W10sbWVkaWFFbGVtZW50SWRzOltdLHRyYW5zY2VpdmVySWRzOltdLHNlbmRlcklkczpbXSxyZWNlaXZlcklkczpbXSx0cmFja0lkczpbXSx3b3JrZXJJZHM6W119O2UucGNQcm94aWVzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7bi5wY0lkcy5wdXNoKHQpfSkpLGUuc3RyZWFtUHJveGllcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe24uc3RyZWFtSWRzLnB1c2godCl9KSksZS50cmFja1Byb3hpZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtuLnRyYWNrSWRzLnB1c2godCl9KSksZS53b3JrZXJQcm94aWVzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7bi53b3JrZXJJZHMucHVzaCh0KX0pKSxlLm1lZGlhRWxlbWVudFByb3hpZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtuLm1lZGlhRWxlbWVudElkcy5wdXNoKHQpfSkpLGUudHJhbnNjZWl2ZXJQcm94aWVzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7bi50cmFuc2NlaXZlcklkcy5wdXNoKHQpfSkpLGUuc2VuZGVyUHJveGllcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe24uc2VuZGVySWRzLnB1c2godCl9KSksZS5yZWNlaXZlclByb3hpZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtuLnJlY2VpdmVySWRzLnB1c2godCl9KSksZS5zZW5kQXBpUmVxdWVzdChhLlVOTE9BRF9FVkVOVF9OQU1FLFtuXSl9KSkpLG59c3RhdGljIHNldEluaXRDYWxsYmFjayhlLHQpe2xldCBuPWdsb2JhbFRoaXMuRENWV2ViUlRDUmVkaXJQcm94eTtpZihuKWUoe3N1Y2Nlc3M6ITAscHJveHk6bn0pO2Vsc2V7dy5pbml0Q2FsbGJhY2tzfHwody5pbml0Q2FsbGJhY2tzPW5ldyBNYXApO2xldCBuPXNldFRpbWVvdXQoKGZ1bmN0aW9uKGUpe2Uoe3N1Y2Nlc3M6ITEsZXJyb3I6YEZhaWxlZCB0byBpbml0aWFsaXplIERDVldlYlJUQ1BlZXJDb25uZWN0aW9uUHJveHkgaW4gJHt0fW1zYH0pLHcuaW5pdENhbGxiYWNrcy5kZWxldGUoZSl9KSx0LGUpO3cuaW5pdENhbGxiYWNrcy5zZXQoZSxuKX19fWZ1bmN0aW9uIFQoZSx0LG4pe2dsb2JhbFRoaXMuRENWV2ViUlRDUmVkaXJQcm94eT10LHcuaW5pdENhbGxiYWNrcz8ody5pbml0Q2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKHIsaSl7Y2xlYXJUaW1lb3V0KHIpLGkoe3N1Y2Nlc3M6ZSxwcm94eTp0LGVycm9yOm59KX0pKSx3LmluaXRDYWxsYmFja3MuY2xlYXIoKSk6cy5kZWJ1ZyhcIk5vIERDVldlYlJUQ1BlZXJDb25uZWN0aW9uUHJveHkuaW5pdENhbGxiYWNrIHdhcyBzcGVjaWZpZWQuXCIpfXRyeXt3aW5kb3cuRENWV2ViUlRDUGVlckNvbm5lY3Rpb25Qcm94eT13O2xldCBlPW5ldyB3KHtsb2dnZXI6c30pO2Uuc2VuZEhlbGxvUmVxdWVzdCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3MuZGVidWcoYFN1Y2Nlc3NmdWxseSByZWNlaXZlZCBoZWxsbyByZXNwb25zZSBmcm9tIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeSh0KX1gKSxlLmNsaWVudEluZm89dCxlLnJlc2V0SGVhcnRiZWF0KG51bGwpLFQoITAsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9YFJ1bm5pbmcgaW4gYW4gaW52YWxpZCBkY3Ygd2VicnRjIGVudiwgc2tpcHBpbmcgc2V0dGluZyB1cCBwcm94eTogJHtKU09OLnN0cmluZ2lmeShlKX1gO3MuZGVidWcodCksVCghMSxudWxsLHQpfSkpfWNhdGNoKGUpe2NvbnN0IHQ9ZS5tZXNzYWdlO1QoITEsbnVsbCx0KSxzLmRlYnVnKGBTa2lwcGluZyBzZXR0aW5nIHVwIHByb3h5IGluIGNsaWVudCBlbnY6ICR7dH1gKX1lLkRDVldlYlJUQ1JlZGlyQ2xpZW50PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMudmVyc2lvbj10LHRoaXMuY29uZmlnPWUsdGhpcy5sb2dnZXI9ZS5sb2dnZXI/ZS5sb2dnZXI6cyx0aGlzLmNoYW5uZWw9ZS5jaGFubmVsLHRoaXMuZGVjb2Rlcj1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKSx0aGlzLm1lc3NhZ2VCdWZmZXI9bnVsbCx0aGlzLnBjcz1uZXcgTWFwLHRoaXMucGNQcm9taXNlcz1uZXcgTWFwLHRoaXMuYXVkaW9Db250ZXh0cz1uZXcgTWFwLHRoaXMuYXVkaW9Ob2Rlcz1uZXcgTWFwLHRoaXMud29ya2Vycz1uZXcgTWFwLHRoaXMud29ya2VyUHJvbWlzZXM9bmV3IE1hcCx0aGlzLmNlcnRzPW5ldyBNYXAsdGhpcy5zdHJlYW1zPW5ldyBNYXAsdGhpcy50cmFja3M9bmV3IE1hcCx0aGlzLm9mZmVycz1uZXcgTWFwLHRoaXMuYW5zd2Vycz1uZXcgTWFwLHRoaXMucmVtb3RlRGVzY3JpcHRpb25zPW5ldyBNYXAsdGhpcy5tZWRpYUVsZW1lbnRzPW5ldyBNYXAsdGhpcy5zZW5kZXJzPW5ldyBNYXAsdGhpcy5kdG1mU2VuZGVycz1uZXcgTWFwLHRoaXMucmVjZWl2ZXJzPW5ldyBNYXAsdGhpcy50cmFuc2NlaXZlcnM9bmV3IE1hcCx0aGlzLmxvZ2dlci5pbmZvKGBDcmVhdGVkIFdlYlJUQyBSZWRpcmVjdGlvbiBDbGllbnQgdmVyc2lvbjogJHt0LnZlcnNpb25TdHJ9IC0gJHt0LmdpdEhhc2h9YCl9ZW5jb2RlQmFzZTY0KGUpe3JldHVybiBwKGUpfWRlY29kZUJhc2U2NChlKXtyZXR1cm4gZyhlKX1nZXRWZXJzaW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn1jb25jYXRVaW50OEFycmF5cyhlKXtjb25zdCB0PWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuYnl0ZUxlbmd0aH0pLDApLG49bmV3IFVpbnQ4QXJyYXkodCk7bGV0IHI9MDtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnNldChlLHIpLHIrPWUuYnl0ZUxlbmd0aH0pKSxufXBhcnNlSGVhZGVyKGUpe3JldHVybiBlWzNdPDwyNHxlWzJdPDwxNnxlWzFdPDw4fGVbMF19b25NZXNzYWdlUmVjZWl2ZWQoZSl7dGhpcy5sb2dnZXIuZGVidWcoYG9uTWVzc2FnZVJlY2VpdmVkLCBiaW5hcnlQYXlsb2FkLmJ5dGVMZW5ndGg6ICR7ZS5ieXRlTGVuZ3RofWApO3RyeXtsZXQgdD0wO2ZvcihudWxsPT09dGhpcy5tZXNzYWdlQnVmZmVyP3RoaXMubWVzc2FnZUJ1ZmZlcj1uZXcgVWludDhBcnJheShlKTp0aGlzLm1lc3NhZ2VCdWZmZXI9dGhpcy5jb25jYXRVaW50OEFycmF5cyhbdGhpcy5tZXNzYWdlQnVmZmVyLG5ldyBVaW50OEFycmF5KGUpXSksdGhpcy5tZXNzYWdlQnVmZmVyLmJ5dGVMZW5ndGg+PTQmJih0PXRoaXMucGFyc2VIZWFkZXIodGhpcy5tZXNzYWdlQnVmZmVyKSk7dD4wJiZ0aGlzLm1lc3NhZ2VCdWZmZXIuYnl0ZUxlbmd0aD49dCs0Oyl7bGV0IGU9NCxuPTQrdCxyPXRoaXMubWVzc2FnZUJ1ZmZlci5zbGljZShlLG4pO3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVjb2RpbmcgcGF5bG9hZDogXCIscik7bGV0IGk9dGhpcy5kZWNvZGVyLmRlY29kZShyKTt0aGlzLmxvZ2dlci5kZWJ1ZyhgUmVjZWl2ZWQgbWVzc2FnZTogJHtpfWApO2xldCBzPUpTT04ucGFyc2UoaSk7dGhpcy5sb2dnZXIuZGVidWcoXCJSZWNlaXZlZCBqc29uOiBcIixzKSx0aGlzLmhhbmRsZU1lc3NhZ2UocyksdGhpcy5tZXNzYWdlQnVmZmVyPXRoaXMubWVzc2FnZUJ1ZmZlci5zbGljZShuKSx0PXRoaXMubWVzc2FnZUJ1ZmZlci5ieXRlTGVuZ3RoPj00P3RoaXMucGFyc2VIZWFkZXIodGhpcy5tZXNzYWdlQnVmZmVyKTowfX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIHBhcnNlIEpTT04gZnJvbSBiaW5hcnlQYXlsb2FkOiAke2V9YCksdGhpcy5tZXNzYWdlQnVmZmVyPW51bGx9fWdldFBlZXJDb25uZWN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucGNzLmhhcyhlKT90aGlzLnBjcy5nZXQoZSk6KHRoaXMucGNQcm9taXNlcy5oYXMoZSl8fHRoaXMucGNQcm9taXNlcy5zZXQoZSxbXSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5wY1Byb21pc2VzLmdldChlKS5wdXNoKHtyZXNvbHZlOm4scmVqZWN0OnJ9KX0pKSl9Y2xvc2VQZWVyQ29ubmVjdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMucGNzLmhhcyhlKSl7bGV0IG49dGhpcy5wY3MuZ2V0KGUpO24uZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZW5kZXImJihlLnNlbmRlci5kdG1mJiZ0LmR0bWZTZW5kZXJzLmZvckVhY2goKGZ1bmN0aW9uKG4scil7bj09PWUuc2VuZGVyLmR0bWYmJnQuZHRtZlNlbmRlcnMuZGVsZXRlKHIpfSkpLHQuc2VuZGVycy5mb3JFYWNoKChmdW5jdGlvbihuLHIpe249PT1lLnNlbmRlciYmdC5zZW5kZXJzLmRlbGV0ZShyKX0pKSksZS5yZWNlaXZlciYmdC5yZWNlaXZlcnMuZm9yRWFjaCgoZnVuY3Rpb24obixyKXtuPT09ZS5yZWNlaXZlciYmdC5yZWNlaXZlcnMuZGVsZXRlKHIpfSkpLHQudHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKG4scil7bj09PWUmJnQudHJhbnNjZWl2ZXJzLmRlbGV0ZShyKX0pKX0pKSxuLmdldFNlbmRlcnMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNlbmRlcnMuZm9yRWFjaCgoZnVuY3Rpb24obixyKXtuPT09ZSYmdC5zZW5kZXJzLmRlbGV0ZShyKX0pKX0pKSxuLmdldFJlY2VpdmVycygoZnVuY3Rpb24oZSl7dC5yZWNlaXZlcnMuZm9yRWFjaCgoZnVuY3Rpb24obixyKXtuPT09ZSYmdC5yZWNlaXZlcnMuZGVsZXRlKHIpfSkpfSkpLG4ubG9jYWxEZXNjcmlwdGlvbiYmKHRoaXMub2ZmZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7bi5sb2NhbERlc2NyaXB0aW9uLnR5cGU9PT1lLnR5cGUmJm4ubG9jYWxEZXNjcmlwdGlvbi5zZHA9PT1lLnNkcCYmdC5vZmZlcnMuZGVsZXRlKHIpfSkpLHRoaXMuYW5zd2Vycy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe24ubG9jYWxEZXNjcmlwdGlvbi50eXBlPT09ZS50eXBlJiZuLmxvY2FsRGVzY3JpcHRpb24uc2RwPT09ZS5zZHAmJnQub2ZmZXJzLmRlbGV0ZShyKX0pKSksbi5yZW1vdGVEZXNjcmlwdGlvbiYmdGhpcy5yZW1vdGVEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXtuLnJlbW90ZURlc2NyaXB0aW9uLnR5cGU9PT1lLnR5cGUmJm4ucmVtb3RlRGVzY3JpcHRpb24uc2RwPT09ZS5zZHAmJnQucmVtb3RlRGVzY3JpcHRpb25zLmRlbGV0ZShyKX0pKSx0aGlzLnBjUHJvbWlzZXMuaGFzKGUpJiYodGhpcy5wY1Byb21pc2VzLmdldChlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlamVjdChudWxsKX0pKSx0aGlzLnBjUHJvbWlzZXMuZGVsZXRlKGUpKSxuLmNsb3NlKCksdGhpcy5wY3MuZGVsZXRlKGUpfX1nZXRQZW5kaW5nRXZlbnQoZSx0KXtyZXR1cm4gZS5wZW5kaW5nRXZlbnRzLmhhcyh0KSYmZS5wZW5kaW5nRXZlbnRzLmdldCh0KS5sZW5ndGg+MD9lLnBlbmRpbmdFdmVudHMuZ2V0KHQpLnNoaWZ0KCk6KGUuZXZlbnRQcm9taXNlcy5oYXModCl8fGUuZXZlbnRQcm9taXNlcy5zZXQodCxbXSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5ldmVudFByb21pc2VzLmdldCh0KS5wdXNoKHtyZXNvbHZlOm4scmVqZWN0OnJ9KX0pKSl9Z2V0U3RyZWFtKGUpe3JldHVybiB0aGlzLnN0cmVhbXMuZ2V0KGUpfW1ha2VUcmFja1RPKGUsdD0oZS5pZD9lLmlkOmNyeXB0by5yYW5kb21VVUlEKCkpKXtyZXR1cm4gdGhpcy50cmFja3Muc2V0KHQsZSkse3R5cGU6XCJwcm94eVwiLGNvbnRlbnRIaW50OmUuY29udGVudEhpbnQsZW5hYmxlZDplLmVuYWJsZWQsaWQ6dCxraW5kOmUua2luZCxsYWJlbDplLmxhYmVsLG11dGVkOmUubXV0ZWQscmVhZHlTdGF0ZTplLnJlYWR5U3RhdGUsc2V0dGluZ3M6ZS5nZXRTZXR0aW5ncygpfX1tYWtlU3RyZWFtVE8oZSx0PShlLmlkP2UuaWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSkpe3ZhciBuPXRoaXM7dGhpcy5zdHJlYW1zLnNldCh0LGUpO2xldCByPWUuZ2V0VHJhY2tzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5tYWtlVHJhY2tUTyhlKX0pKTtyZXR1cm57dHlwZTpcInByb3h5XCIsaWQ6dCxhY3RpdmU6ZS5hY3RpdmUsdHJhY2tzOnJ9fW1ha2VTeW5jcm9uaXphdGlvblNvdXJjZVRPKGUpe3JldHVybnthdWRpb0xldmVsOmUuYXVkaW9MZXZlbCxydHBUaW1lc3RhbXA6ZS5ydHBUaW1lc3RhbXAsc291cmNlOmUuc291cmNlLHRpbWVzdGFtcDplLnRpbWVzdGFtcH19bWFrZVJlY2VpdmVyVE8oZSl7dmFyIHQ9dGhpcztsZXQgbj1lLmdldFN5bmNocm9uaXphdGlvblNvdXJjZXMoKTtuPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5tYWtlU3luY3Jvbml6YXRpb25Tb3VyY2VUTyhlKX0pKTtsZXQgcj17aWQ6ZS5pZD9lLmlkOmNyeXB0by5yYW5kb21VVUlEKCksdHlwZTpcInByb3h5XCIsdHJhY2s6ZS50cmFjaz90aGlzLm1ha2VUcmFja1RPKGUudHJhY2spOm51bGwsc3luY2hyb25pemF0aW9uU291cmNlczpuLHN0YXRzOltdfTtyZXR1cm4gZS5pZD1yLmlkLHRoaXMucmVjZWl2ZXJzLnNldChyLmlkLGUpLHJ9bWFrZURUTUZTZW5kZXJUTyhlKXtsZXQgdD17aWQ6ZS5pZD9lLmlkOmNyeXB0by5yYW5kb21VVUlEKCksdHlwZTpcInByb3h5XCIsdG9uZUJ1ZmZlcjplLnRvbmVCdWZmZXJ9O3JldHVybiBlLmlkPXQuaWQsdGhpcy5kdG1mU2VuZGVycy5zZXQodC5pZCxlKSx0fW1ha2VTZW5kZXJUTyhlKXtsZXQgdD17aWQ6ZS5pZD9lLmlkOmNyeXB0by5yYW5kb21VVUlEKCksdHlwZTpcInByb3h5XCIsdHJhY2s6ZS50cmFjaz90aGlzLm1ha2VUcmFja1RPKGUudHJhY2spOm51bGwsZHRtZjplLmR0bWY/dGhpcy5tYWtlRFRNRlNlbmRlclRPKGUuZHRtZik6bnVsbH07cmV0dXJuIGUuaWQ9dC5pZCx0aGlzLnNlbmRlcnMuc2V0KHQuaWQsZSksdH1tYWtlVHJhbnNjZWl2ZXJUTyhlKXtyZXR1cm57aWQ6ZS5pZCx0eXBlOlwicHJveHlcIixjdXJyZW50RGlyZWN0aW9uOmUuY3VycmVudERpcmVjdGlvbixkaXJlY3Rpb246ZS5kaXJlY3Rpb24sbWlkOmUubWlkLHJlY2VpdmVyOmUucmVjZWl2ZXI/dGhpcy5tYWtlUmVjZWl2ZXJUTyhlLnJlY2VpdmVyKTpudWxsLHNlbmRlcjplLnNlbmRlcj90aGlzLm1ha2VTZW5kZXJUTyhlLnNlbmRlcik6bnVsbCxzdG9wcGVkOmUuc3RvcHBlZH19ZmluZFByb3h5U3ViamVjdChlKXtyZXR1cm4gdGhpcy5wY3MuaGFzKGUpP3RoaXMucGNzLmdldChlKTp0aGlzLmF1ZGlvQ29udGV4dHMuaGFzKGUpP3RoaXMuYXVkaW9Db250ZXh0cy5nZXQoZSk6dGhpcy5hdWRpb05vZGVzLmhhcyhlKT90aGlzLmF1ZGlvTm9kZXMuZ2V0KGUpOnRoaXMud29ya2Vycy5oYXMoZSk/dGhpcy53b3JrZXJzLmdldChlKTp0aGlzLmNlcnRzLmhhcyhlKT90aGlzLmNlcnRzLmdldChlKTp0aGlzLnN0cmVhbXMuaGFzKGUpP3RoaXMuc3RyZWFtcy5nZXQoZSk6dGhpcy5vZmZlcnMuaGFzKGUpP3RoaXMub2ZmZXJzLmdldChlKTp0aGlzLmFuc3dlcnMuaGFzKGUpP3RoaXMuYW5zd2Vycy5nZXQoZSk6dGhpcy5yZW1vdGVEZXNjcmlwdGlvbnMuaGFzKGUpP3RoaXMucmVtb3RlRGVzY3JpcHRpb25zLmdldChlKTp0aGlzLm1lZGlhRWxlbWVudHMuaGFzKGUpP3RoaXMubWVkaWFFbGVtZW50cy5nZXQoZSk6dGhpcy5zZW5kZXJzLmhhcyhlKT90aGlzLnNlbmRlcnMuZ2V0KGUpOnRoaXMuZHRtZlNlbmRlcnMuaGFzKGUpP3RoaXMuZHRtZlNlbmRlcnMuZ2V0KGUpOnRoaXMucmVjZWl2ZXJzLmhhcyhlKT90aGlzLnJlY2VpdmVycy5nZXQoZSk6dGhpcy50cmFuc2NlaXZlcnMuaGFzKGUpP3RoaXMudHJhbnNjZWl2ZXJzLmdldChlKTp0aGlzLnRyYWNrcy5oYXMoZSk/dGhpcy50cmFja3MuZ2V0KGUpOm51bGx9dHJhdmVyc2UoZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSlmb3IoY29uc3QgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodC5hcHBseSh0aGlzLFtlLG4sZVtuXV0pLG51bGwhPT1lW25dJiZcIm9iamVjdFwiPT10eXBlb2YgZVtuXSYmdGhpcy50cmF2ZXJzZShlW25dLHQpKX1nZXRXb3JrZXIoZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy53b3JrZXJzLmhhcyhlKT90aGlzLndvcmtlcnMuZ2V0KGUpOih0aGlzLndvcmtlclByb21pc2VzLmhhcyhlKXx8dGhpcy53b3JrZXJQcm9taXNlcy5zZXQoZSxbXSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC53b3JrZXJQcm9taXNlcy5nZXQoZSkucHVzaCh7cmVzb2x2ZTpuLHJlamVjdDpyfSl9KSkpfWdhdGhlclBlZXJDb25uZWN0aW9uU3RhdGUoZSx0KXt2YXIgbj10aGlzO2UuY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXM9dC5jYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcyxlLmNvbm5lY3Rpb25TdGF0ZT10LmNvbm5lY3Rpb25TdGF0ZSxlLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uPXQuY3VycmVudExvY2FsRGVzY3JpcHRpb24sZS5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb249dC5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24sZS5pY2VDb25uZWN0aW9uU3RhdGU9dC5pY2VDb25uZWN0aW9uU3RhdGUsZS5pY2VHYXRoZXJpbmdTdGF0ZT10LmljZUdhdGhlcmluZ1N0YXRlLGUuaWNlR2F0aGVyaW5nU3RhdGU9dC5pY2VHYXRoZXJpbmdTdGF0ZSxlLmxvY2FsRGVzY3JpcHRpb249dC5sb2NhbERlc2NyaXB0aW9uLGUucGVlcklkZW50aXR5PXQucGVlcklkZW50aXR5LGUucGVuZGluZ0xvY2FsRGVzY3JpcHRpb249dC5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbixlLnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbj10LnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbixlLnJlbW90ZURlc2NyaXB0aW9uPXQucmVtb3RlRGVzY3JpcHRpb24sZS5zY3RwPXQuc2N0cCxlLnNpZ25hbGluZ1N0YXRlPXQuc2lnbmFsaW5nU3RhdGUsZS5jb25maWd1cmF0aW9uPXQuZ2V0Q29uZmlndXJhdGlvbigpLGUudHJhbnNjZWl2ZXJzPXQuZ2V0VHJhbnNjZWl2ZXJzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5tYWtlVHJhbnNjZWl2ZXJUTyhlKX0pKSxlLnNlbmRlcnM9dC5nZXRTZW5kZXJzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5tYWtlU2VuZGVyVE8oZSl9KSksZS5yZWNlaXZlcnM9dC5nZXRSZWNlaXZlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLm1ha2VSZWNlaXZlclRPKGUpfSkpfWFzeW5jIGNhbGxXZWJSVENBcGkoZSx0LG4pe3ZhciByPXRoaXM7c3dpdGNoKGUpe2Nhc2UgYS5IRUxMT19BUElfTkFNRTpyZXR1cm57dmVyc2lvbjp0aGlzLnZlcnNpb24scGxhdGZvcm06XCJ3ZWJcIix1c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH07Y2FzZSBhLkdFVFVTRVJNRURJQV9BUElfTkFNRTp7bGV0W2VdPW4sdD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShlKTtyZXR1cm4gdGhpcy5tYWtlU3RyZWFtVE8odCl9Y2FzZSBhLkVOVU1FUkFURURFVklDRVNfQVBJX05BTUU6cmV0dXJuKGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpO2Nhc2UgYS5TVFJFQU1fQUREX1RSQUNLOntsZXRbZSx0XT1uLHI9dGhpcy5zdHJlYW1zLmdldChlKSxpPXRoaXMudHJhY2tzLmdldCh0KTtyZXR1cm4gciYmaSYmci5hZGRUcmFjayhpKSx7fX1jYXNlIGEuU1RSRUFNX1JFTU9WRV9UUkFDSzp7bGV0W2UsdF09bixyPXRoaXMuc3RyZWFtcy5nZXQoZSksaT10aGlzLnRyYWNrcy5nZXQodCk7cmV0dXJuIHImJmkmJnIucmVtb3ZlVHJhY2soaSkse319Y2FzZSBhLkdFTkVSQVRFX0NFUlRJRklDQVRFX0FQSV9OQU1FOntsZXRbZV09bixyPWF3YWl0IFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUoZSk7cmV0dXJuIHRoaXMuY2VydHMuc2V0KHQscikse3R5cGU6XCJwcm94eVwiLGlkOnQsZXhwaXJlczpyLmV4cGlyZXMsZmluZ2VycHJpbnRzOnIuZ2V0RmluZ2VycHJpbnRzKCl9fWNhc2UgYS5ORVdSVENQRUVSQ09OTkVDVElPTl9BUElfTkFNRTp7bGV0W2UsdCxpXT1uO2lmKHQmJnQuY2VydGlmaWNhdGVzKXtsZXQgZT10LmNlcnRpZmljYXRlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLmNlcnRzLmdldChlLmlkKX0pKTt0LmNlcnRpZmljYXRlcz1lfWxldCBzPW5ldyBSVENQZWVyQ29ubmVjdGlvbih0LGkpO3RoaXMucGNzLnNldChlLHMpLHRoaXMucGNQcm9taXNlcy5oYXMoZSkmJih0aGlzLnBjUHJvbWlzZXMuZ2V0KGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVzb2x2ZShlKX0pKSx0aGlzLnBjUHJvbWlzZXMuc2V0KGUsW10pKTtsZXQgYT17dHlwZTpcInByb3h5XCIscGNJZDplfTtyZXR1cm4gdGhpcy5nYXRoZXJQZWVyQ29ubmVjdGlvblN0YXRlKGEscyksYX1jYXNlIGEuUENfR0VUX0NPTkZJR1VSQVRJT046e2xldFtlXT1uO3JldHVybihhd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpKS5nZXRDb25maWd1cmF0aW9uKCl9Y2FzZSBhLkNSRUFURV9XT1JLRVI6e2xldFtlLHQscixpXT1uLHM9ZyhyKSxhPW5ldyBCbG9iKFtzXSx7dHlwZTp0fSksbz1VUkwuY3JlYXRlT2JqZWN0VVJMKGEpLGQ9bmV3IFdvcmtlcihvLGkpO3JldHVybiB0aGlzLndvcmtlcnMuc2V0KGUsZCksdGhpcy53b3JrZXJQcm9taXNlcy5oYXMoZSkmJih0aGlzLndvcmtlclByb21pc2VzLmdldChlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlc29sdmUoZCl9KSksdGhpcy53b3JrZXJQcm9taXNlcy5zZXQoZSxbXSkpLHt0eXBlOlwicHJveHlcIixpZDplfX1jYXNlIGEuV09SS0VSX1RFUk1JTkFURTp7bGV0W2VdPW47cmV0dXJuIHRoaXMud29ya2Vycy5oYXMoZSkmJih0aGlzLndvcmtlcnMuZ2V0KGUpLnRlcm1pbmF0ZSgpLHRoaXMud29ya2VyUHJvbWlzZXMuaGFzKGUpJiZ0aGlzLndvcmtlclByb21pc2VzLmdldChlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlamVjdChudWxsKX0pKSx0aGlzLndvcmtlclByb21pc2VzLmRlbGV0ZShlKSx0aGlzLndvcmtlcnMuZGVsZXRlKGUpKSx7fX1jYXNlIGEuV09SS0VSX1BPU1RfTUVTU0FHRTp7bGV0W2UsdCxpXT1uLHM9YXdhaXQgdGhpcy5nZXRXb3JrZXIoZSk7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiTWVzc2FnZSBiZWZvcmUgdHJhdmVyc2luZzogXCIsSlNPTi5zdHJpbmdpZnkodCkpLHRoaXMudHJhdmVyc2UodCwoZnVuY3Rpb24oZSx0LG4pe1wicHJveHlcIj09PW4udHlwZSYmbi5pZCYmKGVbdF09ci5maW5kUHJveHlTdWJqZWN0KG4uaWQpKX0pKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIk1lc3NhZ2UgYWZ0ZXIgdHJhdmVyc2luZzogXCIsdCksdGhpcy5sb2dnZXIuZGVidWcoXCJPcHRpb25zIGJlZm9yZSB0cmF2ZXJzaW5nOiBcIixKU09OLnN0cmluZ2lmeShpKSksdGhpcy50cmF2ZXJzZShpLChmdW5jdGlvbihlLHQsbil7XCJwcm94eVwiPT09bi50eXBlJiZuLmlkJiYoZVt0XT1yLmZpbmRQcm94eVN1YmplY3Qobi5pZCkpfSkpLHRoaXMubG9nZ2VyLmRlYnVnKFwiT3B0aW9ucyBhZnRlciB0cmF2ZXJzaW5nOiBcIixpKSxzLnBvc3RNZXNzYWdlKHQsaSkse3R5cGU6XCJwcm94eVwiLGlkOmV9fWNhc2UgYS5ORVdfQVVESU9fQ09OVEVYVDp7bGV0W2UsdF09bixyPW5ldyBBdWRpb0NvbnRleHQ7cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0cy5zZXQoZSxyKSx0aGlzLmF1ZGlvTm9kZXMuc2V0KHQsci5kZXN0aW5hdGlvbikse3R5cGU6XCJwcm94eVwiLGlkOmUsYmFzZUxhdGVuY3k6ci5iYXNlTGF0ZW5jeSxjdXJyZW50VGltZTpyLmN1cnJlbnRUaW1lLG91dHB1dExhdGVuY3k6ci5vdXRwdXRMYXRlbmN5LHNhbXBsZVJhdGU6ci5zYW1wbGVSYXRlLHNpbmtJZDpyLnNpbmtJZCxzdGF0ZTpyLnN0YXRlfX1jYXNlIGEuQVVESU9fQ1RYX0NSRUFURV9BVURJT19OT0RFOntsZXRbZSx0LGksc109bjtpZih0aGlzLmF1ZGlvQ29udGV4dHMuaGFzKGUpKXtsZXQgbj10aGlzLmF1ZGlvQ29udGV4dHMuZ2V0KGUpLGE9bltcImNyZWF0ZVwiK2ldO3M9cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwicHJveHlcIj09PWUudHlwZT9yLmZpbmRQcm94eVN1YmplY3QoZS5pZCk6ZX0pKTtsZXQgbz1hLmFwcGx5KG4scyk7dGhpcy5hdWRpb05vZGVzLnNldCh0LG8pO2xldCBkPW51bGw7aWYoby5zdHJlYW0pe2xldCBlPW8uc3RyZWFtLmdldFRyYWNrcygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFrZVRyYWNrVE8oZSx0KX0pKTtkPXRoaXMubWFrZVN0cmVhbVRPKG8uc3RyZWFtLHQpLGQudHJhY2tzPWV9cmV0dXJue2lkOnQsY2hhbm5lbENvdW50Om8uY2hhbm5lbENvdW50LGNoYW5uZWxDb3VudE1vZGU6by5jaGFubmVsQ291bnRNb2RlLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpvLmNoYW5uZWxJbnRlcnByZXRhdGlvbixudW1iZXJPZklucHV0czpvLm51bWJlck9mSW5wdXRzLG51bWJlck9mT3V0cHV0czpvLm51bWJlck9mT3V0cHV0cyxmZnRTaXplOm8uZmZ0U2l6ZSxmcmVxdWVuY3lCaW5Db3VudDpvLmZyZXF1ZW5jeUJpbkNvdW50LG1heERlY2liZWxzOm8ubWF4RGVjaWJlbHMsbWluRGVjaWJlbHM6by5taW5EZWNpYmVscyxzbW9vdGhpbmdUaW1lQ29uc3RhbnQ6by5zbW9vdGhpbmdUaW1lQ29uc3RhbnQsc3RyZWFtOmR9fXJldHVybnt9fWNhc2UgYS5BVURJT19DVFhfQ0xPU0U6e2xldFtlXT1uO2lmKHRoaXMuYXVkaW9Db250ZXh0cy5oYXMoZSkpe3RoaXMuYXVkaW9Db250ZXh0cy5nZXQoZSkuY2xvc2UoKSx0aGlzLmF1ZGlvQ29udGV4dHMuZGVsZXRlKGUpfXJldHVybnt9fWNhc2UgYS5BVURJT19OT0RFX0NPTk5FQ1Q6e2xldFtlLHQscixpXT1uLHM9dGhpcy5hdWRpb05vZGVzLmdldChlKSxhPXRoaXMuZmluZFByb3h5U3ViamVjdCh0LmlkKTtyZXR1cm4gcyYmYSYmcy5jb25uZWN0KGEscnx8MCxpfHwwKSx7fX1jYXNlIGEuQVVESU9fTk9ERV9ESVNDT05ORUNUOntsZXRbZSx0LHIsaV09bixzPXRoaXMuYXVkaW9Ob2Rlcy5nZXQoZSksYT10aGlzLmZpbmRQcm94eVN1YmplY3QodC5pZCk7cmV0dXJuIHMmJmEmJnMuZGlzY29ubmVjdChhLHJ8fDAsaXx8MCkse319Y2FzZSBhLkFVRElPX05PREVfU0VUX1RZUEU6e2xldFtlLHRdPW47aWYodGhpcy5hdWRpb05vZGVzLmhhcyhlKSl7dGhpcy5hdWRpb05vZGVzLmdldChlKS50eXBlPXR9cmV0dXJue319Y2FzZSBhLkFVRElPX05PREVfU1RBUlQ6e2xldFtlLHRdPW47aWYodGhpcy5hdWRpb05vZGVzLmhhcyhlKSl7dGhpcy5hdWRpb05vZGVzLmdldChlKS5zdGFydCh0KX1yZXR1cm57fX1jYXNlIGEuQVVESU9fTk9ERV9TVE9QOntsZXRbZSx0XT1uO2lmKHRoaXMuYXVkaW9Ob2Rlcy5oYXMoZSkpe3RoaXMuYXVkaW9Ob2Rlcy5nZXQoZSkuc3RvcCh0KX1yZXR1cm57fX1jYXNlIGEuQVVESU9fUEFSQU1fU0VUX1ZBTFVFX0FUX1RJTUU6e2xldFtlLHQscl09bjtpZih0aGlzLmF1ZGlvTm9kZXMuaGFzKGUpKXtsZXQgbj10aGlzLmF1ZGlvTm9kZXMuZ2V0KGUpO24uZ2Fpbj9uLmdhaW4uc2V0VmFsdWVBdFRpbWUodCxyfHxuLmNvbnRleHQuY3VycmVudFRpbWUpOm4uZnJlcXVlbmN5JiZuLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSh0LHJ8fG4uY29udGV4dC5jdXJyZW50VGltZSl9cmV0dXJue319Y2FzZSBhLkFVRElPX1BBUkFNX1NFVF9SQU1QX1RPX1ZBTFVFX0FUX1RJTUU6e2xldFtlLHQscl09bjtpZih0aGlzLmF1ZGlvTm9kZXMuaGFzKGUpKXtsZXQgbj10aGlzLmF1ZGlvTm9kZXMuZ2V0KGUpO24uZnJlcXVlbmN5JiZuLmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0LHJ8fG4uY29udGV4dC5jdXJyZW50VGltZSl9cmV0dXJue319Y2FzZSBhLkdFVF9SRUNFSVZFUlNfQVBJX05BTUU6e2xldFtlXT1uO3JldHVybntwY0lkOmUscmVjZWl2ZXJzOihhd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpKS5nZXRSZWNlaXZlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VSZWNlaXZlclRPKGUpfSkpfX1jYXNlIGEuR0VUX1NFTkRFUlNfQVBJX05BTUU6e2xldFtlXT1uO3JldHVybntwY0lkOmUsc2VuZGVyczooYXdhaXQgdGhpcy5nZXRQZWVyQ29ubmVjdGlvbihlKSkuZ2V0U2VuZGVycygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFrZVNlbmRlclRPKGUpfSkpfX1jYXNlIGEuSU5TRVJUX0RUTUZfQVBJX05BTUU6e2xldFtlLHQscixpXT1uLHM9dGhpcy5kdG1mU2VuZGVycy5nZXQoZSk7cmV0dXJuIHMmJnMuaW5zZXJ0RFRNRih0LHIsaSkse319Y2FzZSBhLkdFVF9UUkFOU0NFSVZFUlNfQVBJX05BTUU6e2xldFtlXT1uLHQ9KGF3YWl0IHRoaXMuZ2V0UGVlckNvbm5lY3Rpb24oZSkpLmdldFRyYW5zY2VpdmVycygpO3JldHVybiB0PXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD1lLmlkP2UuaWQ6Y3J5cHRvLnJhbmRvbVVVSUQoKSxyLm1ha2VUcmFuc2NlaXZlclRPKGUpfSkpLHtwY0lkOmUsdHJhbnNjZWl2ZXJzOnR9fWNhc2UgYS5UUkFOU0NFSVZFUl9TRVRfQ09ERUNfUFJFRlM6cmV0dXJue307Y2FzZSBhLkFERF9UUkFDS19BUElfTkFNRTp7bGV0W2UsdCxpLC4uLnNdPW4sYT1hd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKHQpLG89W107cy5mb3JFYWNoKChmdW5jdGlvbihlKXtjb25zdCB0PXIuc3RyZWFtcy5nZXQoZS5wcm94eS5pZCk7dCYmby5wdXNoKHQpfSkpO2xldCBkPXRoaXMudHJhY2tzLmdldChpLmlkKTtpZihkKXtsZXQgbj1bZCwuLi5vXSxpPWEuYWRkVHJhY2suYXBwbHkoYSxuKTtpLmlkPWU7bGV0IHM9dGhpcy5tYWtlU2VuZGVyVE8oaSk7cmV0dXJuIHMucGNJZD10LHMuc2VuZGVycz1hLmdldFNlbmRlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VTZW5kZXJUTyhlKX0pKSxzLnJlY2VpdmVycz1hLmdldFJlY2VpdmVycygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFrZVJlY2VpdmVyVE8oZSl9KSkscy50cmFuc2NlaXZlcnM9YS5nZXRUcmFuc2NlaXZlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VUcmFuc2NlaXZlclRPKGUpfSkpLHN9cmV0dXJue319Y2FzZSBhLkFERF9UUkFOU0NFSVZFUl9BUElfTkFNRTp7bGV0W2UsdCxpLHNdPW4sYT1hd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpJiYoaT10aGlzLnRyYWNrcy5nZXQoaS5pZCkpLHMmJnMuc3RyZWFtcyl7bGV0IGU9W107cy5zdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQucHJveHkpe2xldCBuPXIuc3RyZWFtcy5nZXQodC5wcm94eS5pZCk7ZS5wdXNoKG4pfX0pKSxzLnN0cmVhbXM9ZX1sZXQgbz1hLmFkZFRyYW5zY2VpdmVyKGkscyk7by5pZD10LmlkLHRoaXMudHJhbnNjZWl2ZXJzLnNldCh0LmlkLG8pLG8uc2VuZGVyJiYoby5zZW5kZXIuaWQ9dC5zZW5kZXIuaWQsdGhpcy5zZW5kZXJzLnNldCh0LnNlbmRlci5pZCxvLnNlbmRlcikpLG8ucmVjZWl2ZXImJihvLnJlY2VpdmVyLmlkPXQucmVjZWl2ZXIuaWQsdGhpcy5yZWNlaXZlcnMuc2V0KHQucmVjZWl2ZXIuaWQsby5yZWNlaXZlcikpO2xldCBkPXRoaXMubWFrZVRyYW5zY2VpdmVyVE8obyk7cmV0dXJuIGQucGNJZD1lLGQuc2VuZGVycz1hLmdldFNlbmRlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VTZW5kZXJUTyhlKX0pKSxkLnJlY2VpdmVycz1hLmdldFJlY2VpdmVycygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFrZVJlY2VpdmVyVE8oZSl9KSksZC50cmFuc2NlaXZlcnM9YS5nZXRUcmFuc2NlaXZlcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VUcmFuc2NlaXZlclRPKGUpfSkpLGR9Y2FzZSBhLlBDX0NMT1NFX0FQSV9OQU1FOntsZXRbZV09bjtyZXR1cm4gdGhpcy5jbG9zZVBlZXJDb25uZWN0aW9uKGUpLHt9fWNhc2UgYS5BRERTVFJFQU1fQVBJX05BTUU6e2xldFtlLHRdPW4scj10aGlzLnN0cmVhbXMuZ2V0KHQuaWQpO3JldHVybihhd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpKS5hZGRTdHJlYW0ociksdH1jYXNlIGEuR0VUX1NUQVRTX0FQSV9OQU1FOntsZXRbZSx0XT1uLHI9YXdhaXQgdGhpcy5nZXRQZWVyQ29ubmVjdGlvbihlKSxpPWF3YWl0IHIuZ2V0U3RhdHModCkscz1bXTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXtsZXQgdD1PYmplY3QuYXNzaWduKHt9LGUpO3MucHVzaCh0KX0pKSxzfWNhc2UgYS5HRVRfU0VOREVSX1NUQVRTX0FQSV9OQU1FOntsZXRbZV09bjtpZih0aGlzLnNlbmRlcnMuaGFzKGUpKXtsZXQgdD1hd2FpdCB0aGlzLnNlbmRlcnMuZ2V0KGUpLmdldFN0YXRzKCksbj1bXTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtsZXQgdD1PYmplY3QuYXNzaWduKHt9LGUpO24ucHVzaCh0KX0pKSxufXJldHVybltdfWNhc2UgYS5HRVRfUkVDRUlWRVJfU1RBVFNfQVBJX05BTUU6e2xldFtlXT1uO2lmKHRoaXMucmVjZWl2ZXJzLmhhcyhlKSl7bGV0IHQ9YXdhaXQgdGhpcy5yZWNlaXZlcnMuZ2V0KGUpLmdldFN0YXRzKCksbj1bXTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtsZXQgdD17aWQ6ZS5pZD9lLmlkOmNyeXB0by5yYW5kb21VVUlEKCksdHlwZTplLnR5cGUsY29uY2VhbGVkU2FtcGxlczplLmNvbmNlYWxlZFNhbXBsZXN9O24ucHVzaCh0KX0pKSxufXJldHVybnt9fWNhc2UgYS5SRVBMQUNFX1NFTkRFUl9UUkFDS19BUElfTkFNRTp7bGV0W2UsdF09bixyPXRoaXMuc2VuZGVycy5nZXQoZSksaT10P3RoaXMudHJhY2tzLmdldCh0LmlkKTpudWxsO3JldHVybiBpJiZyJiZhd2FpdCByLnJlcGxhY2VUcmFjayhpKSx7fX1jYXNlIGEuUENfUkVNT1ZFX1RSQUNLX0FQSV9OQU1FOntsZXRbZSx0XT1uLHI9YXdhaXQgdGhpcy5nZXRQZWVyQ29ubmVjdGlvbihlKSxpPXRoaXMuc2VuZGVycy5nZXQodC5pZCk7cmV0dXJuIGkmJnIucmVtb3ZlVHJhY2soaSkse319Y2FzZSBhLkNSRUFURV9PRkZFUl9BUElfTkFNRTp7bGV0W2Uscl09bixpPWF3YWl0IHRoaXMuZ2V0UGVlckNvbm5lY3Rpb24oZSkscz1hd2FpdCBpLmNyZWF0ZU9mZmVyKHIpO3JldHVybiB0aGlzLm9mZmVycy5zZXQodCxzKSx7aWQ6dCx0eXBlOnMudHlwZSxzZHA6cy5zZHB9fWNhc2UgYS5DUkVBVEVfQU5TV0VSX0FQSV9OQU1FOntsZXRbZSxyXT1uLGk9YXdhaXQgdGhpcy5nZXRQZWVyQ29ubmVjdGlvbihlKSxzPWF3YWl0IGkuY3JlYXRlQW5zd2VyKHIpO3JldHVybiB0aGlzLmFuc3dlcnMuc2V0KHQscykse2lkOnQsdHlwZTpzLnR5cGUsc2RwOnMuc2RwfX1jYXNlIGEuU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX0FQSV9OQU1FOntsZXRbZSx0XT1uLHI9XCJvZmZlclwiPT09dC50eXBlP3RoaXMub2ZmZXJzOnRoaXMuYW5zd2VycyxpPXQuaWQ/ci5nZXQodC5pZCk6dDtpZihpKXtpLnNkcD10LnNkcDtsZXQgbj1hd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpO3JldHVybiBhd2FpdCBuLnNldExvY2FsRGVzY3JpcHRpb24oaSksdH1yZXR1cm57fX1jYXNlIGEuU0VUX1JFTU9URV9ERVNDUklQVElPTl9BUElfTkFNRTp7bGV0W2UsdF09bixyPWF3YWl0IHRoaXMuZ2V0UGVlckNvbm5lY3Rpb24oZSk7cmV0dXJuIGF3YWl0IHIuc2V0UmVtb3RlRGVzY3JpcHRpb24odCksdH1jYXNlIGEuQUREX0lDRV9DQU5ESURBVEVfQVBJX05BTUU6e2xldFtlLHRdPW4scj10P25ldyBSVENJY2VDYW5kaWRhdGUoe3NkcE1MaW5lSW5kZXg6dC5zZHBNTGluZUluZGV4LGNhbmRpZGF0ZTp0LmNhbmRpZGF0ZX0pOm51bGw7cmV0dXJuKGF3YWl0IHRoaXMuZ2V0UGVlckNvbm5lY3Rpb24oZSkpLmFkZEljZUNhbmRpZGF0ZShyKSx0fWNhc2UgYS5BRERfUENfRVZFTlRfTElTVEVORVI6e2xldFtlLGldPW4scz1hd2FpdCB0aGlzLmdldFBlZXJDb25uZWN0aW9uKGUpO2lmKHMucGVuZGluZ0V2ZW50c3x8KHMucGVuZGluZ0V2ZW50cz1uZXcgTWFwKSxzLmV2ZW50UHJvbWlzZXN8fChzLmV2ZW50UHJvbWlzZXM9bmV3IE1hcCkscy5wZW5kaW5nRXZlbnRzLmhhcyhpKSl7bGV0IGU9YXdhaXQgdGhpcy5nZXRQZW5kaW5nRXZlbnQocyxpKTt0aGlzLnNlbmRFdmVudChhLkFERF9QQ19FVkVOVF9MSVNURU5FUix0LGUpfWVsc2UgaWYoIXNbaV0pe2NvbnN0IG49ZnVuY3Rpb24obil7bGV0IGk9bnVsbDtpZihuLnR5cGU9PT1vLklDRV9DQU5ESURBVEUpe3IubG9nZ2VyLmRlYnVnKFwiZXZlbnQ6IFwiLG4pO2xldCB0PW4uY2FuZGlkYXRlLGE9bnVsbDt0JiYoYT17c2RwTUxpbmVJbmRleDp0LnNkcE1MaW5lSW5kZXgsc2RwTWlkOnQuc2RwTWlkLGNhbmRpZGF0ZTp0LmNhbmRpZGF0ZSx0eXBlOnQudHlwZSxmb3VuZGF0aW9uOnQuZm91bmRhdGlvbixwcm90b2NvbDp0LnByb3RvY29sLGFkZHJlc3M6dC5hZGRyZXNzLHBvcnQ6dC5wb3J0LHByaW9yaXR5OnQucHJpb3JpdHksdXJsOnQudXJsLHJlbGF5UHJvdG9jb2w6dC5yZWxheVByb3RvY29sLGNvbXBvbmVudDp0LmNvbXBvb25lbnQscmVsYXRlZEFkZHJlc3M6dC5yZWxhdGVkQWRkcmVzcyxyZWxhdGVkUG9ydDp0LnJlbGF0ZWRQb3J0LHRjcFR5cGU6dC50Y3BUeXBlLHVzZXJuYW1lRnJhZ21lbnQ6dC51c2VybmFtZUZyYWdtZW50fSksaT17cGNJZDplLGV2ZW50TmFtZTpuLnR5cGUsdHlwZTpcInByb3h5XCIsY2FuZGlkYXRlOmF9LHIuZ2F0aGVyUGVlckNvbm5lY3Rpb25TdGF0ZShpLHMpfWVsc2Ugbi50eXBlPT09by5TSUdfU1RBVEVfQ0hBTkdFPyhpPXtwY0lkOmUsZXZlbnROYW1lOm4udHlwZSx0eXBlOlwicHJveHlcIn0sci5nYXRoZXJQZWVyQ29ubmVjdGlvblN0YXRlKGkscykpOm4udHlwZT09PW8uVFJBQ0s/KGk9e3BjSWQ6ZSxldmVudE5hbWU6bi50eXBlLHR5cGU6XCJwcm94eVwiLHN0cmVhbXM6W10sc2VuZGVyczpbXSxyZWNlaXZlcnM6W10sdHJhY2s6ci5tYWtlVHJhY2tUTyhuLnRyYWNrKX0saS5zdHJlYW1zPW4uc3RyZWFtcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1ha2VTdHJlYW1UTyhlKX0pKSxyLmdhdGhlclBlZXJDb25uZWN0aW9uU3RhdGUoaSxzKSk6bi50eXBlPT09by5DT05OX1NUQVRFX0NIQU5HRXx8bi50eXBlPT09by5JQ0VfQ09OTl9TVEFURV9DSEFOR0V8fG4udHlwZT09PW8uSUNFX0dBVEhFUl9TVEFURV9DSEFOR0V8fG4udHlwZT09PW8uTkVHT1RJQVRJT05fTkVFREVEPyhpPXtwY0lkOmUsZXZlbnROYW1lOm4udHlwZSx0eXBlOlwicHJveHlcIn0sci5nYXRoZXJQZWVyQ29ubmVjdGlvblN0YXRlKGkscykpOnIubG9nZ2VyLndhcm4oYElnbm9yZWQgZXZlbnQsIHR5cGU6ICR7bi50eXBlfSwgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkobil9YCk7aSYmci5wcm9jZXNzUGVuZGluZ0V2ZW50cyhzLG4saSxhLkFERF9QQ19FVkVOVF9MSVNURU5FUix0KX07c1tpXT1uLHMuYWRkRXZlbnRMaXN0ZW5lcihpLG4pfXJldHVybiBudWxsfWNhc2UgYS5BRERfVFJBQ0tfRVZFTlRfTElTVEVORVI6e2xldFtlLGksc109bixvPXRoaXMudHJhY2tzLmdldChlKTtpZihvKXtpZihvLnBlbmRpbmdFdmVudHN8fChvLnBlbmRpbmdFdmVudHM9bmV3IE1hcCksby5ldmVudFByb21pc2VzfHwoby5ldmVudFByb21pc2VzPW5ldyBNYXApLG8ucGVuZGluZ0V2ZW50cy5oYXMoaSkpe2xldCBlPWF3YWl0IHRoaXMuZ2V0UGVuZGluZ0V2ZW50KG8saSk7dGhpcy5zZW5kRXZlbnQoYS5BRERfVFJBQ0tfRVZFTlRfTElTVEVORVIsdCxlKX1lbHNlIGlmKCFvW2ldKXtjb25zdCBuPWZ1bmN0aW9uKG4pe2lmKE9iamVjdC52YWx1ZXMoZCkuaW5jbHVkZXMoaSkpe2xldCBpPXt0cmFja0lkOmUsZXZlbnROYW1lOm4udHlwZSx0eXBlOlwicHJveHlcIn07aSYmci5wcm9jZXNzUGVuZGluZ0V2ZW50cyhvLG4saSxhLkFERF9UUkFDS19FVkVOVF9MSVNURU5FUix0KX1lbHNlIHIubG9nZ2VyLndhcm4oYElnbm9yZWQgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkobil9YCl9O29baV09bixvLmFkZEV2ZW50TGlzdGVuZXIoaSxuLHMpfXJldHVybiBudWxsfXJldHVybnt9fWNhc2UgYS5BRERfV09SS0VSX0VWRU5UX0xJU1RFTkVSOntsZXRbZSxpXT1uLHM9YXdhaXQgdGhpcy5nZXRXb3JrZXIoZSk7aWYocy5wZW5kaW5nRXZlbnRzfHwocy5wZW5kaW5nRXZlbnRzPW5ldyBNYXApLHMuZXZlbnRQcm9taXNlc3x8KHMuZXZlbnRQcm9taXNlcz1uZXcgTWFwKSxzLnBlbmRpbmdFdmVudHMuaGFzKGkpKXtsZXQgZT1hd2FpdCB0aGlzLmdldFBlbmRpbmdFdmVudChzLGkpO3RoaXMuc2VuZEV2ZW50KGEuQUREX1dPUktFUl9FVkVOVF9MSVNURU5FUix0LGUpfWVsc2UgaWYoIXNbaV0pe2NvbnN0IG49ZnVuY3Rpb24obil7aWYoci5sb2dnZXIuZGVidWcoXCJSZWNlaXZlZCBldmVudDogXCIsbiksT2JqZWN0LnZhbHVlcyhsKS5pbmNsdWRlcyhpKSl7bGV0IGk9e3dJZDplLGV2ZW50TmFtZTpuLnR5cGUsdHlwZTpcInByb3h5XCIsZGF0YTpuLmRhdGF9O2kmJnIucHJvY2Vzc1BlbmRpbmdFdmVudHMocyxuLGksYS5BRERfV09SS0VSX0VWRU5UX0xJU1RFTkVSLHQpfWVsc2Ugci5sb2dnZXIud2FybihgSWdub3JlZCBldmVudDogJHtKU09OLnN0cmluZ2lmeShuKX1gLG4pfTtzW2ldPW4scy5hZGRFdmVudExpc3RlbmVyKGksbil9cmV0dXJuIG51bGx9Y2FzZSBhLkFERF9EVE1GX0VWRU5UX0xJU1RFTkVSOntsZXRbZSxpLHNdPW4sbz10aGlzLmR0bWZTZW5kZXJzLmdldChlKTtpZihvLnBlbmRpbmdFdmVudHN8fChvLnBlbmRpbmdFdmVudHM9bmV3IE1hcCksby5ldmVudFByb21pc2VzfHwoby5ldmVudFByb21pc2VzPW5ldyBNYXApLG8ucGVuZGluZ0V2ZW50cy5oYXMoaSkpe2xldCBlPWF3YWl0IHRoaXMuZ2V0UGVuZGluZ0V2ZW50KG8saSk7dGhpcy5zZW5kRXZlbnQoYS5BRERfRFRNRl9FVkVOVF9MSVNURU5FUix0LGUpfWVsc2UgaWYoIW9baV0pe2NvbnN0IG49ZnVuY3Rpb24obil7aWYoT2JqZWN0LnZhbHVlcyhjKS5pbmNsdWRlcyhpKSl7bGV0IGk9e2R0bWZJZDplLGV2ZW50TmFtZTpuLnR5cGUsdHlwZTpuLnR5cGUsdG9uZTpuLnRvbmV9O3IucHJvY2Vzc1BlbmRpbmdFdmVudHMobyxuLGksYS5BRERfRFRNRl9FVkVOVF9MSVNURU5FUix0KX1lbHNlIHIubG9nZ2VyLndhcm4oYElnbm9yZWQgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkobil9YCl9O29baV09bixvLmFkZEV2ZW50TGlzdGVuZXIoaSxuLHMpfXJldHVybiBudWxsfWNhc2UgYS5DUkVBVEVfTUVESUFfRUxFTUVOVF9BUElfTkFNRTp7bGV0W2UsdF09bjtpZihcImF1ZGlvXCIhPT10LmtpbmQmJlwidmlkZW9cIiE9PXQua2luZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSW52YWxpZCBtZWRpYSB0eXBlOiAke0pTT04uc3RyaW5naWZ5KHQpfWApLG51bGw7bGV0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0LmtpbmQpO3JldHVybiBPYmplY3QuYXNzaWduKHIsdCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKSx0aGlzLm1lZGlhRWxlbWVudHMuc2V0KGUscikse2lkOmUsc2lua0lkOnIuc2lua0lkfX1jYXNlIGEuTUVESUFfRUxFTUVOVF9TRVRfU0lOS19JRF9BUElfTkFNRTp7bGV0W2UsdF09bixyPXRoaXMubWVkaWFFbGVtZW50cy5nZXQoZSk7aWYocil7cmV0dXJuIGF3YWl0IHIuc2V0U2lua0lkKHQpLHtpZDplLHNpbmtJZDpyLnNpbmtJZH19cmV0dXJue319Y2FzZSBhLlNFVF9NRURJQV9TUkNfT0JKX0FQSV9OQU1FOntsZXRbZSx0XT1uLHI9dD90aGlzLmdldFN0cmVhbSh0LmlkKTpudWxsO3JldHVybiB0aGlzLm1lZGlhRWxlbWVudHMuaGFzKGUpJiYodGhpcy5tZWRpYUVsZW1lbnRzLmdldChlKS5zcmNPYmplY3Q9cikse319Y2FzZSBhLk1FRElBX0VMRU1FTlRfTVVURUQ6e2xldFtlLHRdPW47cmV0dXJuIHRoaXMubWVkaWFFbGVtZW50cy5oYXMoZSkmJih0aGlzLm1lZGlhRWxlbWVudHMuZ2V0KGUpLm11dGVkPXQpLHtpZDplLG11dGVkOnR9fWNhc2UgYS5TRVRfTUVESUFfSElEREVOX0FQSV9OQU1FOntsZXRbZSx0XT1uLHI9dGhpcy5tZWRpYUVsZW1lbnRzLmdldChlKTtyZXR1cm4gciYmKHIuaGlkZGVuPXQpLHt9fWNhc2UgYS5TRVRfTUVESUFfVk9MVU1FX0FQSV9OQU1FOntsZXRbZSx0XT1uO3JldHVybiB0aGlzLm1lZGlhRWxlbWVudHMuaGFzKGUpJiYodGhpcy5tZWRpYUVsZW1lbnRzLmdldChlKS52b2x1bWU9dCkse319Y2FzZSBhLk1FRElBX0VMRU1FTlRfUExBWV9BUElfTkFNRTp7bGV0W2VdPW47cmV0dXJuIHRoaXMubWVkaWFFbGVtZW50cy5oYXMoZSkmJnRoaXMubWVkaWFFbGVtZW50cy5nZXQoZSkucGxheSgpLHt9fWNhc2UgYS5NRURJQV9FTEVNRU5UX1BBVVNFX0FQSV9OQU1FOntsZXRbZV09bjtyZXR1cm4gdGhpcy5tZWRpYUVsZW1lbnRzLmhhcyhlKSYmdGhpcy5tZWRpYUVsZW1lbnRzLmdldChlKS5wYXVzZSgpLHt9fWNhc2UgYS5NRURJQV9FTEVNRU5UX1JFTU9WRTp7bGV0W2VdPW47cmV0dXJuIHRoaXMubWVkaWFFbGVtZW50cy5oYXMoZSkmJih0aGlzLm1lZGlhRWxlbWVudHMuZ2V0KGUpLnJlbW92ZSgpLHRoaXMubWVkaWFFbGVtZW50cy5kZWxldGUoZSkpLHt9fWNhc2UgYS5UT0dHTEVfVFJBQ0tfRU5BQkxFRF9BUElfTkFNRTp7bGV0W2UsdF09bixyPXRoaXMudHJhY2tzLmdldChlKTtyZXR1cm4gcj8oci5lbmFibGVkPXQsdGhpcy5tYWtlVHJhY2tUTyhyKSk6e319Y2FzZSBhLlRSQUNLX1NUT1BfQVBJX05BTUU6e2xldFtlXT1uLHQ9dGhpcy50cmFja3MuZ2V0KGUpO3JldHVybiB0JiYodC5zdG9wKCksdGhpcy50cmFja3MuZGVsZXRlKGUpKSx7fX1jYXNlIGEuVFJBQ0tfR0VUX1NFVFRJTkdTOntsZXRbZV09bix0PXRoaXMudHJhY2tzLmdldChlKTtyZXR1cm4gdD90LmdldFNldHRpbmdzKCk6e319Y2FzZSBhLlNFTkRFUl9DUkVBVEVfRU5DT0RFRF9TVFJFQU1TOntsZXRbZSx0XT1uO2lmKHRoaXMuc2VuZGVycy5oYXMoZSkpe2xldCBuPXRoaXMuc2VuZGVycy5nZXQoZSkuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKTtyZXR1cm4gdGhpcy5zdHJlYW1zLnNldCh0LmlkLG4pLHRoaXMuc3RyZWFtcy5zZXQodC5yZWFkYWJsZS5pZCxuLnJlYWRhYmxlKSx0aGlzLnN0cmVhbXMuc2V0KHQud3JpdGFibGUuaWQsbi53cml0YWJsZSksdH1yZXR1cm57fX1jYXNlIGEuUkVDRUlWRVJfQ1JFQVRFX0VOQ09ERURfU1RSRUFNUzp7bGV0W2UsdF09bjtpZih0aGlzLnJlY2VpdmVycy5oYXMoZSkpe2xldCBuPXRoaXMucmVjZWl2ZXJzLmdldChlKS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpO3JldHVybiB0aGlzLnN0cmVhbXMuc2V0KHQuaWQsbiksdGhpcy5zdHJlYW1zLnNldCh0LnJlYWRhYmxlLmlkLG4ucmVhZGFibGUpLHRoaXMuc3RyZWFtcy5zZXQodC53cml0YWJsZS5pZCxuLndyaXRhYmxlKSx0fXJldHVybnt9fWNhc2UgYS5VTkxPQURfRVZFTlRfTkFNRTp7bGV0W2VdPW47cmV0dXJuIGUucGNJZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5jbG9zZVBlZXJDb25uZWN0aW9uKGUpfSkpLGUuc3RyZWFtSWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2xldCB0PXIuc3RyZWFtcy5nZXQoZSk7dCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0VHJhY2tzJiZ0LmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpLHIuc3RyZWFtcy5kZWxldGUoZSkpfSkpLGUudHJhY2tJZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci50cmFja3MuZGVsZXRlKGUpfSkpLGUud29ya2VySWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2xldCB0PXIud29ya2Vycy5nZXQoZSk7dCYmdC50ZXJtaW5hdGUoKSxyLndvcmtlcnMuZGVsZXRlKGUpfSkpLGUubWVkaWFFbGVtZW50SWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2xldCB0PXIubWVkaWFFbGVtZW50cy5nZXQoZSk7dCYmKHQucmVtb3ZlKCksci5tZWRpYUVsZW1lbnRzLmRlbGV0ZShlKSl9KSksZS50cmFuc2NlaXZlcklkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLnRyYW5zY2VpdmVycy5kZWxldGUoZSl9KSksZS5zZW5kZXJJZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5zZW5kZXJzLmRlbGV0ZShlKX0pKSxlLnJlY2VpdmVySWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IucmVjZWl2ZXJzLmRlbGV0ZShlKX0pKSx7fX1kZWZhdWx0OnJldHVybiBudWxsfX1zZW5kTWVzc2FnZShlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgU2VuZGluZyBtZXNzYWdlOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO2xldCB0PWUubWVzc2FnZSxuPUEuZGVmbGF0ZVJhdyhKU09OLnN0cmluZ2lmeSh0KSk7ZS5tZXNzYWdlPW47bGV0IHI9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKEpTT04uc3RyaW5naWZ5KGUpKSxpPXIuYnl0ZUxlbmd0aCxzPW5ldyBVaW50OEFycmF5KFtpLGk+PjgsaT4+MTYsaT4+MjRdKTt0aGlzLmNoYW5uZWwuc2VuZE1lc3NhZ2UocyksdGhpcy5jaGFubmVsLnNlbmRNZXNzYWdlKHIpfXNlbmRFdmVudChlLHQsbil7bGV0IHI9e3JlcXVlc3RJZDp0LHR5cGU6XCJldmVudFwiLG1lc3NhZ2U6e2FwaTplLGV2ZW50Om59fTt0aGlzLnNlbmRNZXNzYWdlKHIpfXNlbmRSZXNwb25zZShlLHQsbil7bGV0IHI9e3JlcXVlc3RJZDp0LHR5cGU6XCJyZXNwb25zZVwiLG1lc3NhZ2U6e2FwaTplLHJlc3BvbnNlOm59fTt0aGlzLnNlbmRNZXNzYWdlKHIpfXNlbmRFcnJvcihlLHQsbil7bGV0IHI9e3JlcXVlc3RJZDp0LHR5cGU6XCJlcnJvclwiLG1lc3NhZ2U6e2FwaTplLGVycm9yOm59fTt0aGlzLnNlbmRNZXNzYWdlKHIpfWFzeW5jIGhhbmRsZVdlYlJUQ0FwaShlKXt0cnl7bGV0IHQ9YXdhaXQgdGhpcy5jYWxsV2ViUlRDQXBpKGUubWVzc2FnZS5hcGksZS5yZXF1ZXN0SWQsZS5tZXNzYWdlLmFyZ3MpO3QmJnRoaXMuc2VuZFJlc3BvbnNlKGUubWVzc2FnZS5hcGksZS5yZXF1ZXN0SWQsdCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIGhhbmRsaW5nIFdlYlJUQyBBUEk6ICR7SlNPTi5zdHJpbmdpZnkoZSl9LCBtZXNzYWdlOiAke3QubWVzc2FnZT90Lm1lc3NhZ2U6XCIobm8gbWVzc2FnZSlcIn0sIGVycm9yOiAke0pTT04uc3RyaW5naWZ5KHQpfWApLHRoaXMubG9nZ2VyLnRyYWNlKHQpLHRoaXMuc2VuZEVycm9yKGUubWVzc2FnZS5hcGksZS5yZXF1ZXN0SWQse25hbWU6dC5uYW1lLG1lc3NhZ2U6dC5tZXNzYWdlfSl9fXByb2Nlc3NQZW5kaW5nRXZlbnRzKGUsdCxuLHIsaSl7aWYoZS5wZW5kaW5nRXZlbnRzLmhhcyh0LnR5cGUpKXtlLnBlbmRpbmdFdmVudHMuZ2V0KHQudHlwZSkucHVzaChuKTtsZXQgcj1lLmV2ZW50UHJvbWlzZXMuZ2V0KHQudHlwZSk7ciYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlc29sdmUobil9KSl9ZWxzZSB0aGlzLnNlbmRFdmVudChyLGksbiksZS5wZW5kaW5nRXZlbnRzLnNldCh0LnR5cGUsW10pfWhhbmRsZU1lc3NhZ2UoZSl7bGV0IHQ9ZS5tZXNzYWdlLG49QS5pbmZsYXRlUmF3KHQpLHI9dGhpcy5kZWNvZGVyLmRlY29kZShuKTtlLm1lc3NhZ2U9SlNPTi5wYXJzZShyKSxlLm1lc3NhZ2UuYXBpJiZlLnJlcXVlc3RJZCYmZS5tZXNzYWdlLmFyZ3M/dGhpcy5oYW5kbGVXZWJSVENBcGkoZSk6KHRoaXMubG9nZ2VyLmVycm9yKGBJbnZhbGlkIG1lc3NhZ2UgZm9ybWF0OiAke0pTT04uc3RyaW5naWZ5KGUpfWApLHRoaXMubG9nZ2VyLnRyYWNlKGUpKX1vbkNsb3NlKGUpe3RoaXMubG9nZ2VyLmluZm8oYFdlYlJUQyByZWRpciBjdXN0b20gY2hhbm5lbCBjbG9zZWQ6ICR7SlNPTi5zdHJpbmdpZnkoZSl9XCJgKSx0aGlzLnJlbGVhc2UoKX1yZWxlYXNlKCl7dmFyIGU9dGhpczt0aGlzLnN0cmVhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0b3AoKX0pKX0pKSx0aGlzLm1lZGlhRWxlbWVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pKSx0aGlzLnBjcy5mb3JFYWNoKChmdW5jdGlvbih0LG4pe2UuY2xvc2VQZWVyQ29ubmVjdGlvbihuKX0pKSx0aGlzLmNlcnRzLmNsZWFyKCl9fX0pKTsiLCIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEJ5IHVzaW5nIHRoZXNlIERldmVsb3BlciBNYXRlcmlhbHMsIHlvdSBhY2NlcHQgYW5kIGFncmVlIHRvIGNvbXBseSB3aXRoXHJcbi8vIHRoZSB0ZXJtcyBvZiB0aGUgQ2xvdWQgU29mdHdhcmUgR3JvdXAgRGV2ZWxvcGVyIFRlcm1zIG9mIFVzZSBmb3VuZCBoZXJlXHJcbi8vIChodHRwczovL3d3dy5jbG91ZC5jb20vbGVnYWwpXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG5cclxudmFyICRqc2NvbXA9e3Njb3BlOnt9LGdldEdsb2JhbDpmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c9PT1lP2U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6ZX19OyRqc2NvbXAuZ2xvYmFsPSRqc2NvbXAuZ2V0R2xvYmFsKHRoaXMpOyRqc2NvbXAuaW5pdFN5bWJvbD1mdW5jdGlvbigpeyRqc2NvbXAuZ2xvYmFsLlN5bWJvbHx8KCRqc2NvbXAuZ2xvYmFsLlN5bWJvbD0kanNjb21wLlN5bWJvbCk7JGpzY29tcC5pbml0U3ltYm9sPWZ1bmN0aW9uKCl7fX07JGpzY29tcC5zeW1ib2xDb3VudGVyXz0wOyRqc2NvbXAuU3ltYm9sPWZ1bmN0aW9uKGUpe3JldHVyblwianNjb21wX3N5bWJvbF9cIitlKyRqc2NvbXAuc3ltYm9sQ291bnRlcl8rK307XHJcbiRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yPWZ1bmN0aW9uKCl7JGpzY29tcC5pbml0U3ltYm9sKCk7JGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yfHwoJGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yPSRqc2NvbXAuZ2xvYmFsLlN5bWJvbChcIml0ZXJhdG9yXCIpKTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpe319OyRqc2NvbXAubWFrZUl0ZXJhdG9yPWZ1bmN0aW9uKGUpeyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7aWYoZVskanNjb21wLmdsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKXJldHVybiBlWyRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl0oKTt2YXIgbD0wO3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGw9PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW2wrK119fX19O1xyXG4kanNjb21wLmFycmF5RnJvbUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbCxwPVtdOyEobD1lLm5leHQoKSkuZG9uZTspcC5wdXNoKGwudmFsdWUpO3JldHVybiBwfTskanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZTokanNjb21wLmFycmF5RnJvbUl0ZXJhdG9yKCRqc2NvbXAubWFrZUl0ZXJhdG9yKGUpKX07XHJcbiRqc2NvbXAuaW5oZXJpdHM9ZnVuY3Rpb24oZSxsKXtmdW5jdGlvbiBwKCl7fXAucHJvdG90eXBlPWwucHJvdG90eXBlO2UucHJvdG90eXBlPW5ldyBwO2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7Zm9yKHZhciBiIGluIGwpaWYoJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMpe3ZhciBhPSRqc2NvbXAuZ2xvYmFsLk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCxiKTthJiYkanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxiLGEpfWVsc2UgZVtiXT1sW2JdfTskanNjb21wLmFycmF5PSRqc2NvbXAuYXJyYXl8fHt9OyRqc2NvbXAuYXJyYXkuZG9uZV89ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fTtcclxuJGpzY29tcC5hcnJheS5hcnJheUl0ZXJhdG9yXz1mdW5jdGlvbihlLGwpe2UgaW5zdGFuY2VvZiBTdHJpbmcmJihlPVN0cmluZyhlKSk7dmFyIHA9MDskanNjb21wLmluaXRTeW1ib2woKTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpO3ZhciBiPXt9LGE9KGIubmV4dD1mdW5jdGlvbigpe2lmKHA8ZS5sZW5ndGgpe3ZhciBiPXArKztyZXR1cm57dmFsdWU6bChiLGVbYl0pLGRvbmU6ITF9fWEubmV4dD0kanNjb21wLmFycmF5LmRvbmVfO3JldHVybiAkanNjb21wLmFycmF5LmRvbmVfKCl9LGJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBhfSxiKTtyZXR1cm4gYX07XHJcbiRqc2NvbXAuYXJyYXkuZmluZEludGVybmFsXz1mdW5jdGlvbihlLGwscCl7ZSBpbnN0YW5jZW9mIFN0cmluZyYmKGU9U3RyaW5nKGUpKTtmb3IodmFyIGI9ZS5sZW5ndGgsYT0wO2E8YjthKyspe3ZhciBjPWVbYV07aWYobC5jYWxsKHAsYyxhLGUpKXJldHVybntpOmEsdjpjfX1yZXR1cm57aTotMSx2OnZvaWQgMH19O1xyXG4kanNjb21wLmFycmF5LmZyb209ZnVuY3Rpb24oZSxsLHApe2w9dm9pZCAwPT09bD9mdW5jdGlvbihhKXtyZXR1cm4gYX06bDt2YXIgYj1bXTskanNjb21wLmluaXRTeW1ib2woKTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpO2lmKGVbU3ltYm9sLml0ZXJhdG9yXSl7JGpzY29tcC5pbml0U3ltYm9sKCk7JGpzY29tcC5pbml0U3ltYm9sSXRlcmF0b3IoKTtlPWVbU3ltYm9sLml0ZXJhdG9yXSgpO2Zvcih2YXIgYTshKGE9ZS5uZXh0KCkpLmRvbmU7KWIucHVzaChsLmNhbGwocCxhLnZhbHVlKSl9ZWxzZXthPWUubGVuZ3RoO2Zvcih2YXIgYz0wO2M8YTtjKyspYi5wdXNoKGwuY2FsbChwLGVbY10pKX1yZXR1cm4gYn07JGpzY29tcC5hcnJheS5vZj1mdW5jdGlvbihlKXtmb3IodmFyIGw9W10scD0wO3A8YXJndW1lbnRzLmxlbmd0aDsrK3ApbFtwLTBdPWFyZ3VtZW50c1twXTtyZXR1cm4gJGpzY29tcC5hcnJheS5mcm9tKGwpfTtcclxuJGpzY29tcC5hcnJheS5lbnRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuYXJyYXkuYXJyYXlJdGVyYXRvcl8odGhpcyxmdW5jdGlvbihlLGwpe3JldHVybltlLGxdfSl9OyRqc2NvbXAuYXJyYXkuZW50cmllcyRpbnN0YWxsPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmVudHJpZXN8fChBcnJheS5wcm90b3R5cGUuZW50cmllcz0kanNjb21wLmFycmF5LmVudHJpZXMpfTskanNjb21wLmFycmF5LmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gJGpzY29tcC5hcnJheS5hcnJheUl0ZXJhdG9yXyh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9OyRqc2NvbXAuYXJyYXkua2V5cyRpbnN0YWxsPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmtleXN8fChBcnJheS5wcm90b3R5cGUua2V5cz0kanNjb21wLmFycmF5LmtleXMpfTskanNjb21wLmFycmF5LnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiAkanNjb21wLmFycmF5LmFycmF5SXRlcmF0b3JfKHRoaXMsZnVuY3Rpb24oZSxsKXtyZXR1cm4gbH0pfTtcclxuJGpzY29tcC5hcnJheS52YWx1ZXMkaW5zdGFsbD1mdW5jdGlvbigpe0FycmF5LnByb3RvdHlwZS52YWx1ZXN8fChBcnJheS5wcm90b3R5cGUudmFsdWVzPSRqc2NvbXAuYXJyYXkudmFsdWVzKX07JGpzY29tcC5hcnJheS5jb3B5V2l0aGluPWZ1bmN0aW9uKGUsbCxwKXt2YXIgYj10aGlzLmxlbmd0aDtlPU51bWJlcihlKTtsPU51bWJlcihsKTtwPU51bWJlcihudWxsIT1wP3A6Yik7aWYoZTxsKWZvcihwPU1hdGgubWluKHAsYik7bDxwOylsIGluIHRoaXM/dGhpc1tlKytdPXRoaXNbbCsrXTooZGVsZXRlIHRoaXNbZSsrXSxsKyspO2Vsc2UgZm9yKHA9TWF0aC5taW4ocCxiK2wtZSksZSs9cC1sO3A+bDspLS1wIGluIHRoaXM/dGhpc1stLWVdPXRoaXNbcF06ZGVsZXRlIHRoaXNbZV07cmV0dXJuIHRoaXN9OyRqc2NvbXAuYXJyYXkuY29weVdpdGhpbiRpbnN0YWxsPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW58fChBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj0kanNjb21wLmFycmF5LmNvcHlXaXRoaW4pfTtcclxuJGpzY29tcC5hcnJheS5maWxsPWZ1bmN0aW9uKGUsbCxwKXtudWxsIT1wJiZlLmxlbmd0aHx8KHA9dGhpcy5sZW5ndGh8fDApO3A9TnVtYmVyKHApO2ZvcihsPU51bWJlcigodm9pZCAwPT09bD8wOmwpfHwwKTtsPHA7bCsrKXRoaXNbbF09ZTtyZXR1cm4gdGhpc307JGpzY29tcC5hcnJheS5maWxsJGluc3RhbGw9ZnVuY3Rpb24oKXtBcnJheS5wcm90b3R5cGUuZmlsbHx8KEFycmF5LnByb3RvdHlwZS5maWxsPSRqc2NvbXAuYXJyYXkuZmlsbCl9OyRqc2NvbXAuYXJyYXkuZmluZD1mdW5jdGlvbihlLGwpe3JldHVybiAkanNjb21wLmFycmF5LmZpbmRJbnRlcm5hbF8odGhpcyxlLGwpLnZ9OyRqc2NvbXAuYXJyYXkuZmluZCRpbnN0YWxsPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZpbmR8fChBcnJheS5wcm90b3R5cGUuZmluZD0kanNjb21wLmFycmF5LmZpbmQpfTtcclxuJGpzY29tcC5hcnJheS5maW5kSW5kZXg9ZnVuY3Rpb24oZSxsKXtyZXR1cm4gJGpzY29tcC5hcnJheS5maW5kSW50ZXJuYWxfKHRoaXMsZSxsKS5pfTskanNjb21wLmFycmF5LmZpbmRJbmRleCRpbnN0YWxsPWZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZpbmRJbmRleHx8KEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXg9JGpzY29tcC5hcnJheS5maW5kSW5kZXgpfTskanNjb21wLk1hcD1mdW5jdGlvbihlKXtlPXZvaWQgMD09PWU/W106ZTt0aGlzLmRhdGFfPXt9O3RoaXMuaGVhZF89JGpzY29tcC5NYXAuY3JlYXRlSGVhZF8oKTt0aGlzLnNpemU9MDtpZihlKXtlPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGUpO2Zvcih2YXIgbD1lLm5leHQoKTshbC5kb25lO2w9ZS5uZXh0KCkpbD1sLnZhbHVlLHRoaXMuc2V0KGxbMF0sbFsxXSl9fTtcclxuJGpzY29tcC5NYXAuY2hlY2tCcm93c2VyQ29uZm9ybWFuY2VfPWZ1bmN0aW9uKCl7dmFyIGU9JGpzY29tcC5nbG9iYWwuTWFwO2lmKCFlfHwhZS5wcm90b3R5cGUuZW50cmllc3x8IU9iamVjdC5zZWFsKXJldHVybiExO3RyeXt2YXIgbD1PYmplY3Quc2VhbCh7eDo0fSkscD1uZXcgZSgkanNjb21wLm1ha2VJdGVyYXRvcihbW2wsXCJzXCJdXSkpO2lmKFwic1wiIT1wLmdldChsKXx8MSE9cC5zaXplfHxwLmdldCh7eDo0fSl8fHAuc2V0KHt4OjR9LFwidFwiKSE9cHx8MiE9cC5zaXplKXJldHVybiExO3ZhciBiPXAuZW50cmllcygpLGE9Yi5uZXh0KCk7aWYoYS5kb25lfHxhLnZhbHVlWzBdIT1sfHxcInNcIiE9YS52YWx1ZVsxXSlyZXR1cm4hMTthPWIubmV4dCgpO3JldHVybiBhLmRvbmV8fDQhPWEudmFsdWVbMF0ueHx8XCJ0XCIhPWEudmFsdWVbMV18fCFiLm5leHQoKS5kb25lPyExOiEwfWNhdGNoKGMpe3JldHVybiExfX07XHJcbiRqc2NvbXAuTWFwLmNyZWF0ZUhlYWRfPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUucHJldmlvdXM9ZS5uZXh0PWUuaGVhZD1lfTskanNjb21wLk1hcC5nZXRJZF89ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgT2JqZWN0KSlyZXR1cm4gU3RyaW5nKGUpOyRqc2NvbXAuTWFwLmtleV8gaW4gZXx8ZSBpbnN0YW5jZW9mIE9iamVjdCYmT2JqZWN0LmlzRXh0ZW5zaWJsZSYmT2JqZWN0LmlzRXh0ZW5zaWJsZShlKSYmJGpzY29tcC5NYXAuZGVmaW5lUHJvcGVydHlfKGUsJGpzY29tcC5NYXAua2V5XywrKyRqc2NvbXAuTWFwLmluZGV4Xyk7cmV0dXJuICRqc2NvbXAuTWFwLmtleV8gaW4gZT9lWyRqc2NvbXAuTWFwLmtleV9dOlwiIFwiK2V9O1xyXG4kanNjb21wLk1hcC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsbCl7dmFyIHA9dGhpcy5tYXliZUdldEVudHJ5XyhlKSxiPXAuaWQsYT1wLmxpc3QscD1wLmVudHJ5O2F8fChhPXRoaXMuZGF0YV9bYl09W10pO3A/cC52YWx1ZT1sOihwPXtuZXh0OnRoaXMuaGVhZF8scHJldmlvdXM6dGhpcy5oZWFkXy5wcmV2aW91cyxoZWFkOnRoaXMuaGVhZF8sa2V5OmUsdmFsdWU6bH0sYS5wdXNoKHApLHRoaXMuaGVhZF8ucHJldmlvdXMubmV4dD1wLHRoaXMuaGVhZF8ucHJldmlvdXM9cCx0aGlzLnNpemUrKyk7cmV0dXJuIHRoaXN9O1xyXG4kanNjb21wLk1hcC5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24oZSl7dmFyIGw9dGhpcy5tYXliZUdldEVudHJ5XyhlKTtlPWwuaWQ7dmFyIHA9bC5saXN0LGI9bC5pbmRleDtyZXR1cm4obD1sLmVudHJ5KSYmcD8ocC5zcGxpY2UoYiwxKSxwLmxlbmd0aHx8ZGVsZXRlIHRoaXMuZGF0YV9bZV0sbC5wcmV2aW91cy5uZXh0PWwubmV4dCxsLm5leHQucHJldmlvdXM9bC5wcmV2aW91cyxsLmhlYWQ9bnVsbCx0aGlzLnNpemUtLSwhMCk6ITF9OyRqc2NvbXAuTWFwLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZGF0YV89e307dGhpcy5oZWFkXz10aGlzLmhlYWRfLnByZXZpb3VzPSRqc2NvbXAuTWFwLmNyZWF0ZUhlYWRfKCk7dGhpcy5zaXplPTB9OyRqc2NvbXAuTWFwLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLm1heWJlR2V0RW50cnlfKGUpLmVudHJ5fTtcclxuJGpzY29tcC5NYXAucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLm1heWJlR2V0RW50cnlfKGUpLmVudHJ5KSYmZS52YWx1ZX07JGpzY29tcC5NYXAucHJvdG90eXBlLm1heWJlR2V0RW50cnlfPWZ1bmN0aW9uKGUpe3ZhciBsPSRqc2NvbXAuTWFwLmdldElkXyhlKSxwPXRoaXMuZGF0YV9bbF07aWYocClmb3IodmFyIGI9MDtiPHAubGVuZ3RoO2IrKyl7dmFyIGE9cFtiXTtpZihlIT09ZSYmYS5rZXkhPT1hLmtleXx8ZT09PWEua2V5KXJldHVybntpZDpsLGxpc3Q6cCxpbmRleDpiLGVudHJ5OmF9fXJldHVybntpZDpsLGxpc3Q6cCxpbmRleDotMSxlbnRyeTp2b2lkIDB9fTskanNjb21wLk1hcC5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJfKGZ1bmN0aW9uKGUpe3JldHVybltlLmtleSxlLnZhbHVlXX0pfTskanNjb21wLk1hcC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJfKGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleX0pfTtcclxuJGpzY29tcC5NYXAucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJfKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSl9OyRqc2NvbXAuTWFwLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsbCl7Zm9yKHZhciBwPSRqc2NvbXAubWFrZUl0ZXJhdG9yKHRoaXMuZW50cmllcygpKSxiPXAubmV4dCgpOyFiLmRvbmU7Yj1wLm5leHQoKSliPWIudmFsdWUsZS5jYWxsKGwsYlsxXSxiWzBdLHRoaXMpfTtcclxuJGpzY29tcC5NYXAucHJvdG90eXBlLml0ZXJfPWZ1bmN0aW9uKGUpe3ZhciBsPXRoaXMscD10aGlzLmhlYWRfOyRqc2NvbXAuaW5pdFN5bWJvbCgpOyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7dmFyIGI9e307cmV0dXJuIGIubmV4dD1mdW5jdGlvbigpe2lmKHApe2Zvcig7cC5oZWFkIT1sLmhlYWRfOylwPXAucHJldmlvdXM7Zm9yKDtwLm5leHQhPXAuaGVhZDspcmV0dXJuIHA9cC5uZXh0LHtkb25lOiExLHZhbHVlOmUocCl9O3A9bnVsbH1yZXR1cm57ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fSxiW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYn07JGpzY29tcC5NYXAuaW5kZXhfPTA7JGpzY29tcC5NYXAuZGVmaW5lUHJvcGVydHlfPU9iamVjdC5kZWZpbmVQcm9wZXJ0eT9mdW5jdGlvbihlLGwscCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbCx7dmFsdWU6U3RyaW5nKHApfSl9OmZ1bmN0aW9uKGUsbCxwKXtlW2xdPVN0cmluZyhwKX07XHJcbiRqc2NvbXAuTWFwLkVudHJ5Xz1mdW5jdGlvbigpe307JGpzY29tcC5NYXAuQVNTVU1FX05PX05BVElWRT0hMTskanNjb21wLk1hcCRpbnN0YWxsPWZ1bmN0aW9uKCl7JGpzY29tcC5pbml0U3ltYm9sKCk7JGpzY29tcC5pbml0U3ltYm9sSXRlcmF0b3IoKTshJGpzY29tcC5NYXAuQVNTVU1FX05PX05BVElWRSYmJGpzY29tcC5NYXAuY2hlY2tCcm93c2VyQ29uZm9ybWFuY2VfKCk/JGpzY29tcC5NYXA9JGpzY29tcC5nbG9iYWwuTWFwOigkanNjb21wLmluaXRTeW1ib2woKSwkanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpLCRqc2NvbXAuTWFwLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPSRqc2NvbXAuTWFwLnByb3RvdHlwZS5lbnRyaWVzLCRqc2NvbXAuaW5pdFN5bWJvbCgpLCRqc2NvbXAuTWFwLmtleV89U3ltYm9sKFwibWFwLWlkLWtleVwiKSk7JGpzY29tcC5NYXAkaW5zdGFsbD1mdW5jdGlvbigpe319OyRqc2NvbXAubWF0aD0kanNjb21wLm1hdGh8fHt9O1xyXG4kanNjb21wLm1hdGguY2x6MzI9ZnVuY3Rpb24oZSl7ZT1OdW1iZXIoZSk+Pj4wO2lmKDA9PT1lKXJldHVybiAzMjt2YXIgbD0wOzA9PT0oZSY0Mjk0OTAxNzYwKSYmKGU8PD0xNixsKz0xNik7MD09PShlJjQyNzgxOTAwODApJiYoZTw8PTgsbCs9OCk7MD09PShlJjQwMjY1MzE4NDApJiYoZTw8PTQsbCs9NCk7MD09PShlJjMyMjEyMjU0NzIpJiYoZTw8PTIsbCs9Mik7MD09PShlJjIxNDc0ODM2NDgpJiZsKys7cmV0dXJuIGx9OyRqc2NvbXAubWF0aC5pbXVsPWZ1bmN0aW9uKGUsbCl7ZT1OdW1iZXIoZSk7bD1OdW1iZXIobCk7dmFyIHA9ZSY2NTUzNSxiPWwmNjU1MzU7cmV0dXJuIHAqYisoKGU+Pj4xNiY2NTUzNSkqYitwKihsPj4+MTYmNjU1MzUpPDwxNj4+PjApfDB9OyRqc2NvbXAubWF0aC5zaWduPWZ1bmN0aW9uKGUpe2U9TnVtYmVyKGUpO3JldHVybiAwPT09ZXx8aXNOYU4oZSk/ZTowPGU/MTotMX07XHJcbiRqc2NvbXAubWF0aC5sb2cxMD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5MTjEwfTskanNjb21wLm1hdGgubG9nMj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5MTjJ9OyRqc2NvbXAubWF0aC5sb2cxcD1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtpZiguMjU+ZSYmLS4yNTxlKXtmb3IodmFyIGw9ZSxwPTEsYj1lLGE9MCxjPTE7YSE9YjspbCo9ZSxjKj0tMSxiPShhPWIpK2MqbC8rK3A7cmV0dXJuIGJ9cmV0dXJuIE1hdGgubG9nKDErZSl9OyRqc2NvbXAubWF0aC5leHBtMT1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtpZiguMjU+ZSYmLS4yNTxlKXtmb3IodmFyIGw9ZSxwPTEsYj1lLGE9MDthIT1iOylsKj1lLysrcCxiPShhPWIpK2w7cmV0dXJuIGJ9cmV0dXJuIE1hdGguZXhwKGUpLTF9OyRqc2NvbXAubWF0aC5jb3NoPWZ1bmN0aW9uKGUpe2U9TnVtYmVyKGUpO3JldHVybihNYXRoLmV4cChlKStNYXRoLmV4cCgtZSkpLzJ9O1xyXG4kanNjb21wLm1hdGguc2luaD1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtyZXR1cm4gMD09PWU/ZTooTWF0aC5leHAoZSktTWF0aC5leHAoLWUpKS8yfTskanNjb21wLm1hdGgudGFuaD1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtpZigwPT09ZSlyZXR1cm4gZTt2YXIgbD1NYXRoLmV4cCgyKi1NYXRoLmFicyhlKSksbD0oMS1sKS8oMStsKTtyZXR1cm4gMD5lPy1sOmx9OyRqc2NvbXAubWF0aC5hY29zaD1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtyZXR1cm4gTWF0aC5sb2coZStNYXRoLnNxcnQoZSplLTEpKX07JGpzY29tcC5tYXRoLmFzaW5oPWZ1bmN0aW9uKGUpe2U9TnVtYmVyKGUpO2lmKDA9PT1lKXJldHVybiBlO3ZhciBsPU1hdGgubG9nKE1hdGguYWJzKGUpK01hdGguc3FydChlKmUrMSkpO3JldHVybiAwPmU/LWw6bH07XHJcbiRqc2NvbXAubWF0aC5hdGFuaD1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtyZXR1cm4oJGpzY29tcC5tYXRoLmxvZzFwKGUpLSRqc2NvbXAubWF0aC5sb2cxcCgtZSkpLzJ9O1xyXG4kanNjb21wLm1hdGguaHlwb3Q9ZnVuY3Rpb24oZSxsLHApe2Zvcih2YXIgYj1bXSxhPTI7YTxhcmd1bWVudHMubGVuZ3RoOysrYSliW2EtMl09YXJndW1lbnRzW2FdO2U9TnVtYmVyKGUpO2w9TnVtYmVyKGwpO2Zvcih2YXIgYz1NYXRoLm1heChNYXRoLmFicyhlKSxNYXRoLmFicyhsKSksUT0kanNjb21wLm1ha2VJdGVyYXRvcihiKSxhPVEubmV4dCgpOyFhLmRvbmU7YT1RLm5leHQoKSljPU1hdGgubWF4KGMsTWF0aC5hYnMoYS52YWx1ZSkpO2lmKDFFMTAwPGN8fDFFLTEwMD5jKXtlLz1jO2wvPWM7UT1lKmUrbCpsO2I9JGpzY29tcC5tYWtlSXRlcmF0b3IoYik7Zm9yKGE9Yi5uZXh0KCk7IWEuZG9uZTthPWIubmV4dCgpKWE9YS52YWx1ZSxhPU51bWJlcihhKS9jLFErPWEqYTtyZXR1cm4gTWF0aC5zcXJ0KFEpKmN9Yz1lKmUrbCpsO2I9JGpzY29tcC5tYWtlSXRlcmF0b3IoYik7Zm9yKGE9Yi5uZXh0KCk7IWEuZG9uZTthPWIubmV4dCgpKWE9YS52YWx1ZSxhPU51bWJlcihhKSxjKz1cclxuYSphO3JldHVybiBNYXRoLnNxcnQoYyl9OyRqc2NvbXAubWF0aC50cnVuYz1mdW5jdGlvbihlKXtlPU51bWJlcihlKTtpZihpc05hTihlKXx8SW5maW5pdHk9PT1lfHwtSW5maW5pdHk9PT1lfHwwPT09ZSlyZXR1cm4gZTt2YXIgbD1NYXRoLmZsb29yKE1hdGguYWJzKGUpKTtyZXR1cm4gMD5lPy1sOmx9OyRqc2NvbXAubWF0aC5jYnJ0PWZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVybiBlO2U9TnVtYmVyKGUpO3ZhciBsPU1hdGgucG93KE1hdGguYWJzKGUpLDEvMyk7cmV0dXJuIDA+ZT8tbDpsfTskanNjb21wLm51bWJlcj0kanNjb21wLm51bWJlcnx8e307JGpzY29tcC5udW1iZXIuaXNGaW5pdGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIiE9PXR5cGVvZiBlPyExOiFpc05hTihlKSYmSW5maW5pdHkhPT1lJiYtSW5maW5pdHkhPT1lfTtcclxuJGpzY29tcC5udW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKGUpe3JldHVybiAkanNjb21wLm51bWJlci5pc0Zpbml0ZShlKT9lPT09TWF0aC5mbG9vcihlKTohMX07JGpzY29tcC5udW1iZXIuaXNOYU49ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBlJiZpc05hTihlKX07JGpzY29tcC5udW1iZXIuaXNTYWZlSW50ZWdlcj1mdW5jdGlvbihlKXtyZXR1cm4gJGpzY29tcC5udW1iZXIuaXNJbnRlZ2VyKGUpJiZNYXRoLmFicyhlKTw9JGpzY29tcC5udW1iZXIuTUFYX1NBRkVfSU5URUdFUn07JGpzY29tcC5udW1iZXIuRVBTSUxPTj1NYXRoLnBvdygyLC01Mik7JGpzY29tcC5udW1iZXIuTUFYX1NBRkVfSU5URUdFUj05MDA3MTk5MjU0NzQwOTkxOyRqc2NvbXAubnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI9LTkwMDcxOTkyNTQ3NDA5OTE7JGpzY29tcC5vYmplY3Q9JGpzY29tcC5vYmplY3R8fHt9O1xyXG4kanNjb21wLm9iamVjdC5hc3NpZ249ZnVuY3Rpb24oZSxsKXtmb3IodmFyIHA9W10sYj0xO2I8YXJndW1lbnRzLmxlbmd0aDsrK2IpcFtiLTFdPWFyZ3VtZW50c1tiXTtwPSRqc2NvbXAubWFrZUl0ZXJhdG9yKHApO2ZvcihiPXAubmV4dCgpOyFiLmRvbmU7Yj1wLm5leHQoKSlpZihiPWIudmFsdWUpZm9yKHZhciBhIGluIGIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsYSkmJihlW2FdPWJbYV0pO3JldHVybiBlfTskanNjb21wLm9iamVjdC5pcz1mdW5jdGlvbihlLGwpe3JldHVybiBlPT09bD8wIT09ZXx8MS9lPT09MS9sOmUhPT1lJiZsIT09bH07JGpzY29tcC5TZXQ9ZnVuY3Rpb24oZSl7ZT12b2lkIDA9PT1lP1tdOmU7dGhpcy5tYXBfPW5ldyAkanNjb21wLk1hcDtpZihlKXtlPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGUpO2Zvcih2YXIgbD1lLm5leHQoKTshbC5kb25lO2w9ZS5uZXh0KCkpdGhpcy5hZGQobC52YWx1ZSl9dGhpcy5zaXplPXRoaXMubWFwXy5zaXplfTtcclxuJGpzY29tcC5TZXQuY2hlY2tCcm93c2VyQ29uZm9ybWFuY2VfPWZ1bmN0aW9uKCl7dmFyIGU9JGpzY29tcC5nbG9iYWwuU2V0O2lmKCFlfHwhZS5wcm90b3R5cGUuZW50cmllc3x8IU9iamVjdC5zZWFsKXJldHVybiExO3ZhciBsPU9iamVjdC5zZWFsKHt4OjR9KSxlPW5ldyBlKCRqc2NvbXAubWFrZUl0ZXJhdG9yKFtsXSkpO2lmKGUuaGFzKGwpfHwxIT1lLnNpemV8fGUuYWRkKGwpIT1lfHwxIT1lLnNpemV8fGUuYWRkKHt4OjR9KSE9ZXx8MiE9ZS5zaXplKXJldHVybiExO3ZhciBlPWUuZW50cmllcygpLHA9ZS5uZXh0KCk7aWYocC5kb25lfHxwLnZhbHVlWzBdIT1sfHxwLnZhbHVlWzFdIT1sKXJldHVybiExO3A9ZS5uZXh0KCk7cmV0dXJuIHAuZG9uZXx8cC52YWx1ZVswXT09bHx8NCE9cC52YWx1ZVswXS54fHxwLnZhbHVlWzFdIT1wLnZhbHVlWzBdPyExOmUubmV4dCgpLmRvbmV9O1xyXG4kanNjb21wLlNldC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3RoaXMubWFwXy5zZXQoZSxlKTt0aGlzLnNpemU9dGhpcy5tYXBfLnNpemU7cmV0dXJuIHRoaXN9OyRqc2NvbXAuU2V0LnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbihlKXtlPXRoaXMubWFwX1tcImRlbGV0ZVwiXShlKTt0aGlzLnNpemU9dGhpcy5tYXBfLnNpemU7cmV0dXJuIGV9OyRqc2NvbXAuU2V0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubWFwXy5jbGVhcigpO3RoaXMuc2l6ZT0wfTskanNjb21wLlNldC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hcF8uaGFzKGUpfTskanNjb21wLlNldC5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcF8uZW50cmllcygpfTskanNjb21wLlNldC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwXy52YWx1ZXMoKX07XHJcbiRqc2NvbXAuU2V0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsbCl7dmFyIHA9dGhpczt0aGlzLm1hcF8uZm9yRWFjaChmdW5jdGlvbihiKXtyZXR1cm4gZS5jYWxsKGwsYixiLHApfSl9OyRqc2NvbXAuU2V0LkFTU1VNRV9OT19OQVRJVkU9ITE7JGpzY29tcC5TZXQkaW5zdGFsbD1mdW5jdGlvbigpeyEkanNjb21wLlNldC5BU1NVTUVfTk9fTkFUSVZFJiYkanNjb21wLlNldC5jaGVja0Jyb3dzZXJDb25mb3JtYW5jZV8oKT8kanNjb21wLlNldD0kanNjb21wLmdsb2JhbC5TZXQ6KCRqc2NvbXAuTWFwJGluc3RhbGwoKSwkanNjb21wLmluaXRTeW1ib2woKSwkanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpLCRqc2NvbXAuU2V0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPSRqc2NvbXAuU2V0LnByb3RvdHlwZS52YWx1ZXMpOyRqc2NvbXAuU2V0JGluc3RhbGw9ZnVuY3Rpb24oKXt9fTskanNjb21wLnN0cmluZz0kanNjb21wLnN0cmluZ3x8e307XHJcbiRqc2NvbXAuc3RyaW5nLm5vUmVnRXhwXz1mdW5jdGlvbihlLGwpe2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuXCIrbCtcIiBtdXN0IG5vdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvblwiKTt9O1xyXG4kanNjb21wLnN0cmluZy5mcm9tQ29kZVBvaW50PWZ1bmN0aW9uKGUpe2Zvcih2YXIgbD1bXSxwPTA7cDxhcmd1bWVudHMubGVuZ3RoOysrcClsW3AtMF09YXJndW1lbnRzW3BdO2Zvcih2YXIgcD1cIlwiLGw9JGpzY29tcC5tYWtlSXRlcmF0b3IobCksYj1sLm5leHQoKTshYi5kb25lO2I9bC5uZXh0KCkpe2I9Yi52YWx1ZTtiPStiO2lmKDA+Ynx8MTExNDExMTxifHxiIT09TWF0aC5mbG9vcihiKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImludmFsaWRfY29kZV9wb2ludCBcIitiKTs2NTUzNT49Yj9wKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGIpOihiLT02NTUzNixwKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGI+Pj4xMCYxMDIzfDU1Mjk2KSxwKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGImMTAyM3w1NjMyMCkpfXJldHVybiBwfTtcclxuJGpzY29tcC5zdHJpbmcucmVwZWF0PWZ1bmN0aW9uKGUpe3ZhciBsPXRoaXMudG9TdHJpbmcoKTtpZigwPmV8fDEzNDIxNzcyNzk8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY291bnQgdmFsdWVcIik7ZXw9MDtmb3IodmFyIHA9XCJcIjtlOylpZihlJjEmJihwKz1sKSxlPj4+PTEpbCs9bDtyZXR1cm4gcH07JGpzY29tcC5zdHJpbmcucmVwZWF0JGluc3RhbGw9ZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLnJlcGVhdHx8KFN0cmluZy5wcm90b3R5cGUucmVwZWF0PSRqc2NvbXAuc3RyaW5nLnJlcGVhdCl9O1xyXG4kanNjb21wLnN0cmluZy5jb2RlUG9pbnRBdD1mdW5jdGlvbihlKXt2YXIgbD10aGlzLnRvU3RyaW5nKCkscD1sLmxlbmd0aDtlPU51bWJlcihlKXx8MDtpZigwPD1lJiZlPHApe2V8PTA7dmFyIGI9bC5jaGFyQ29kZUF0KGUpO2lmKDU1Mjk2PmJ8fDU2MzE5PGJ8fGUrMT09PXApcmV0dXJuIGI7ZT1sLmNoYXJDb2RlQXQoZSsxKTtyZXR1cm4gNTYzMjA+ZXx8NTczNDM8ZT9iOjEwMjQqKGItNTUyOTYpK2UrOTIxNn19OyRqc2NvbXAuc3RyaW5nLmNvZGVQb2ludEF0JGluc3RhbGw9ZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0fHwoU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdD0kanNjb21wLnN0cmluZy5jb2RlUG9pbnRBdCl9O1xyXG4kanNjb21wLnN0cmluZy5pbmNsdWRlcz1mdW5jdGlvbihlLGwpe2w9dm9pZCAwPT09bD8wOmw7JGpzY29tcC5zdHJpbmcubm9SZWdFeHBfKGUsXCJpbmNsdWRlc1wiKTtyZXR1cm4tMSE9PXRoaXMudG9TdHJpbmcoKS5pbmRleE9mKGUsbCl9OyRqc2NvbXAuc3RyaW5nLmluY2x1ZGVzJGluc3RhbGw9ZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzfHwoU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcz0kanNjb21wLnN0cmluZy5pbmNsdWRlcyl9O1xyXG4kanNjb21wLnN0cmluZy5zdGFydHNXaXRoPWZ1bmN0aW9uKGUsbCl7bD12b2lkIDA9PT1sPzA6bDskanNjb21wLnN0cmluZy5ub1JlZ0V4cF8oZSxcInN0YXJ0c1dpdGhcIik7dmFyIHA9dGhpcy50b1N0cmluZygpO2UrPVwiXCI7Zm9yKHZhciBiPXAubGVuZ3RoLGE9ZS5sZW5ndGgsYz1NYXRoLm1heCgwLE1hdGgubWluKGx8MCxwLmxlbmd0aCkpLFE9MDtRPGEmJmM8YjspaWYocFtjKytdIT1lW1ErK10pcmV0dXJuITE7cmV0dXJuIFE+PWF9OyRqc2NvbXAuc3RyaW5nLnN0YXJ0c1dpdGgkaW5zdGFsbD1mdW5jdGlvbigpe1N0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aHx8KFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD0kanNjb21wLnN0cmluZy5zdGFydHNXaXRoKX07XHJcbiRqc2NvbXAuc3RyaW5nLmVuZHNXaXRoPWZ1bmN0aW9uKGUsbCl7JGpzY29tcC5zdHJpbmcubm9SZWdFeHBfKGUsXCJlbmRzV2l0aFwiKTt2YXIgcD10aGlzLnRvU3RyaW5nKCk7ZSs9XCJcIjt2b2lkIDA9PT1sJiYobD1wLmxlbmd0aCk7Zm9yKHZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4obHwwLHAubGVuZ3RoKSksYT1lLmxlbmd0aDswPGEmJjA8YjspaWYocFstLWJdIT1lWy0tYV0pcmV0dXJuITE7cmV0dXJuIDA+PWF9OyRqc2NvbXAuc3RyaW5nLmVuZHNXaXRoJGluc3RhbGw9ZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aD0kanNjb21wLnN0cmluZy5lbmRzV2l0aCl9O1xyXG4oZnVuY3Rpb24oZSxsKXtcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWwoKTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxsKTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5DaXRyaXhXZWJSVEM9bCgpOmUuQ2l0cml4V2ViUlRDPWwoKX0pKHNlbGYsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGIpe3ZhciBhPXBbYl07aWYodm9pZCAwIT09YSlyZXR1cm4gYS5leHBvcnRzO2E9cFtiXT17ZXhwb3J0czp7fX07bFtiXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxlKTtyZXR1cm4gYS5leHBvcnRzfXZhciBsPXs5NDU6ZnVuY3Rpb24oYixhLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGssdil7YT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZlxyXG5BcnJheSYmZnVuY3Rpb24oYSxnKXthLl9fcHJvdG9fXz1nfXx8ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGsgaW4gZylnLmhhc093blByb3BlcnR5KGspJiYoYVtrXT1nW2tdKX07cmV0dXJuIGEoayx2KX07cmV0dXJuIGZ1bmN0aW9uKGssdil7ZnVuY3Rpb24gYigpe3RoaXMuY29uc3RydWN0b3I9a31hKGssdik7ay5wcm90b3R5cGU9bnVsbD09PXY/T2JqZWN0LmNyZWF0ZSh2KTooYi5wcm90b3R5cGU9di5wcm90b3R5cGUsbmV3IGIpfX0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLkF1ZGlvRWxlbWVudD12b2lkIDA7dmFyIHU9Yyg2NTgpLGg9Yyg1NTApLGQ9Yyg4NTEpLHc9Yyg5NDYpLHE7KGZ1bmN0aW9uKGEpe2EuSW5pdD1cIkluaXRcIjthLlBsYXlTdGFydGVkPVwiUGxheVN0YXJ0ZWRcIjthLlBhdXNlQ2FsbGVkPVwiUGF1c2VDYWxsZWRcIn0pKHF8fChxPXt9KSk7Yj1mdW5jdGlvbihhKXtmdW5jdGlvbiBrKCl7dmFyIGs9YS5jYWxsKHRoaXMsXHJcbm51bGwsaC5jbGFzc19pZF90LkF1ZGlvRWxlbWVudCwwLHUuUHJveHlNb2RlLkxvY2FsKXx8dGhpcztrLnNpbmtJZF89XCJcIjtrLnNyY09iamVjdF89bnVsbDtrLmxvb3BfPSExO2subm90aVN0YXRlPXEuSW5pdDtyZXR1cm4ga31lKGssYSk7ay5wcm90b3R5cGUuc2V0U2lua0lkPWZ1bmN0aW9uKGEpe3ZhciBrPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFNpbmtJZDogc2V0IHNpbmtJZCB0byBcIithKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZyxiKXtrLndhaXRVbnRpbENvbm5lY3RlZChcIkF1ZGlvRWxlbWVudC5zaW5rSWRcIikudGhlbihmdW5jdGlvbigpe3ZhciBiPWsucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX0F1ZGlvRWxlbWVudF90LnNpbmtJZCxhKTt3LmdldFJlZGlyZWN0b3IoKS5nZXRGZWF0dXJlVmFsdWUoaC5GRUFUVVJFX21zX3RlYW1zX3BzdG4pfHwoay5zaW5rSWRfPWEsZygpKTtyZXR1cm4gYn0pLnRoZW4oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coay51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnNldFNpbmtJZDogc3VjY2VzcyEgcmVzb2x2aW5nLi4uXCIpO2suc2lua0lkXz1hO2coKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1rLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2lua0lkIHNldHRlcjogZmFpbGVkIHRvIGNvbm5lY3QhXCIpO2IoYSl9KX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJzaW5rSWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2lua0lkX30sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuc2V0U2lua0lkKGEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcmNPYmplY3RffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGs9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3JjT2JqZWN0OiBzZXQgc3JjT2JqZWN0IHRvIFwiK0pTT04uc3RyaW5naWZ5KGEpKTthIT09XHJcbnRoaXMuc3JjT2JqZWN0XyYmKHRoaXMuc3JjT2JqZWN0Xz1hLHRoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiQXVkaW9FbGVtZW50LnNyY09iamVjdFwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuc3luY0JhcnJpZXIoKX0pLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGsudXNlcl9mcmllbmRseV9pZCgpK1wiLnNyY09iamVjdDogc2V0IHNyY09iamVjdCB0byBzIFwiK0pTT04uc3RyaW5naWZ5KGEpKTtyZXR1cm4gay5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3Quc3JjT2JqZWN0LG51bGwhPT1hJiZ2b2lkIDAhPT1hP2EuaWQ6XCJudWxsXCIpfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhrLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zcmNPYmplY3Qgc2V0dGVyOiByZW1vdGUgc3VjY2VzcyFcIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2subG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zcmNPYmplY3Qgc2V0dGVyOiBmYWlsZWQgdG8gY29ubmVjdCFcIil9KSl9LFxyXG5lbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcInNyY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcmNffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGs9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3JjOiBzZXQgc3JjIHRvIFwiK2EpO3RoaXMuc3JjXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiQXVkaW9FbGVtZW50LnNyY1wiKS50aGVuKGZ1bmN0aW9uKCl7ay5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3Quc3JjLGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtrLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc3JjIHNldHRlcjogZmFpbGVkIHRvIGNvbm5lY3QhXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7ay5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5wbGF5KCkgY2FsbGVkLlwiKTt0aGlzLnRvZ2dsZUF1ZGlvKCEwKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oayxnKXthLndhaXRVbnRpbENvbm5lY3RlZChcIkF1ZGlvRWxlbWVudC5wbGF5XCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3QucGxheSl9KS50aGVuKGZ1bmN0aW9uKCl7aygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihrKXthLmxvZ1JlbW90ZUludm9rZUVycm9yKGssXCIucGxheTogZmFpbGVkIHRvIGNvbm5lY3QhXCIpO2coayl9KX0pfTtrLnByb3RvdHlwZS5wbGF5RXg9ZnVuY3Rpb24oYSxrLGcpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnBsYXlFeCgpIHNyYzpcIithK1wiIHNpbmtJZDpcIitrK1wiIGxvb3A6XCIrZyk7dGhpcy5ub3RpU3RhdGU9cS5QbGF5U3RhcnRlZDt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIkF1ZGlvRWxlbWVudC5wbGF5RXhcIikudGhlbihmdW5jdGlvbigpe3ZhciBhPVxyXG5bXTtrJiZhLnB1c2goYi5zZXRTaW5rSWQoaykpO3ZvaWQgMCE9PWcmJm51bGwhPT1nJiYoYi5sb29wXz1nLGEucHVzaChiLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9BdWRpb0VsZW1lbnRfdC5sb29wLGcpKSk7cmV0dXJuIFByb21pc2UuYWxsKGEpfSkudGhlbihmdW5jdGlvbigpe2Iuc3JjXz1hO3JldHVybiBiLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9BdWRpb0VsZW1lbnRfdC5zcmMsYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucGxheSgpfSkudGhlbihmdW5jdGlvbigpe2lmKGIubm90aVN0YXRlPT1xLlBhdXNlQ2FsbGVkKXJldHVybiBkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIucGxheUV4KCkgcnVuIGRlZmVycmVkIHBhdXNlXCIpLGIuZG9QYXVzZUFuZERpc3Bvc2UoKX0pLnRoZW4oZnVuY3Rpb24oKXtiLm5vdGlTdGF0ZT1xLkluaXQ7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLnBsYXlFeCgpIGRvbmVcIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2Iubm90aVN0YXRlPVxyXG5xLkluaXQ7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnBsYXlFeCgpIGZhaWxlZCFcIil9KX07ay5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5wYXVzZSgpIGNhbGxlZC5cIik7dGhpcy50b2dnbGVBdWRpbyghMSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGssZyl7YS53YWl0VW50aWxDb25uZWN0ZWQoXCJBdWRpb0VsZW1lbnQucGF1c2VcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9BdWRpb0VsZW1lbnRfdC5wYXVzZSl9KS50aGVuKGZ1bmN0aW9uKCl7aygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihrKXthLmxvZ1JlbW90ZUludm9rZUVycm9yKGssXCIucGF1c2U6IGZhaWxlZCFcIik7ZygpfSl9KX07ay5wcm90b3R5cGUuZG9QYXVzZUFuZERpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuZG9QYXVzZUFuZERpc3Bvc2UoKSBjYWxsZWQuXCIpO3RoaXMudG9nZ2xlQXVkaW8oITEpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihrLGcpe2Eud2FpdFVudGlsQ29ubmVjdGVkKFwiQXVkaW9FbGVtZW50LmRvUGF1c2VBbmREaXNwb3NlXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3QucGF1c2UsW10pfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kb1BhdXNlQW5kRGlzcG9zZSgpIHJlc29sdmluZy4uLlwiKTtrKCk7YS5kaXNwb3NlKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGcpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoZyxcIi5kb1BhdXNlQW5kRGlzcG9zZTogZmFpbGVkIHRvIGNvbm5lY3QhXCIpfSl9KX07ay5wcm90b3R5cGUucGF1c2VBbmREaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5ub3RpU3RhdGU9PXEuUGxheVN0YXJ0ZWQ/KGQubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIucGF1c2VBbmREaXNwb3NlKCkgZGVmZXJyZWRcIiksdGhpcy5ub3RpU3RhdGU9cS5QYXVzZUNhbGxlZCk6dGhpcy5kb1BhdXNlQW5kRGlzcG9zZSgpfTtrLnByb3RvdHlwZS50b2dnbGVBdWRpbz1mdW5jdGlvbihhKXt0aGlzLnNyY09iamVjdF8mJihkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIudG9nZ2xlQXVkaW8oKSB0b2dnbGUgYXVkaW8gdHJhY2tzOlwiK2EpLHRoaXMuc3JjT2JqZWN0Xy50b2dnbGVBdWRpbyhhKSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImxvb3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9vcF99LHNldDpmdW5jdGlvbihhKXt2YXIgaz10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5sb29wOiBzZXQgbG9vcCB0byBcIithKTt0aGlzLmxvb3BfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJBdWRpb0VsZW1lbnQubG9vcFwiKS50aGVuKGZ1bmN0aW9uKCl7ay5yZW1vdGVJbnZva2UoITAsXHJcbmgubWV0aG9kX2lkX0F1ZGlvRWxlbWVudF90Lmxvb3AsYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2subG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5sb29wIHNldHRlcjogZmFpbGVkIHRvIGNvbm5lY3QhXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7ay5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kaXNwb3NlKClcIik7dGhpcy5zcmNfPXRoaXMuc2lua0lkXz1cIlwiO3RoaXMuc3JjT2JqZWN0Xz1udWxsO3RoaXMubG9vcF89ITE7dGhpcy5yZWxlYXNlKCl9O3JldHVybiBrfSh1LlByb3h5T2JqZWN0KTthLkF1ZGlvRWxlbWVudD1ifSwyMzk6ZnVuY3Rpb24oYixhLGMpe2EuRT12b2lkIDA7dmFyIGU9Yyg5NDUpLHU9Yyg4NTEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5zaW5rSWQ9dm9pZCAwO3RoaXMuc3JjPVwiXCI7dGhpcy5sb29wPXZvaWQgMDt0aGlzLmVsZW1lbnQ9bnVsbH1cclxuYS5wcm90b3R5cGUuZ2V0U3JjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3JjfTthLnByb3RvdHlwZS5zZXRTaW5rSWQ9ZnVuY3Rpb24oYSl7dGhpcy5zaW5rSWQ9YX07YS5wcm90b3R5cGUuZ2V0TG9vcD1mdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5sb29wfTthLnByb3RvdHlwZS5zZXRMb29wPWZ1bmN0aW9uKGEpe3RoaXMubG9vcD1hfTthLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudD1uZXcgZS5BdWRpb0VsZW1lbnQ7dGhpcy5zcmM9YTt0aGlzLmVsZW1lbnQucGxheUV4KHRoaXMuc3JjLHRoaXMuc2lua0lkLHRoaXMubG9vcCl9O2EucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiYodGhpcy5lbGVtZW50LnBhdXNlQW5kRGlzcG9zZSgpLHRoaXMuZWxlbWVudD1udWxsKX07YS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmKHRoaXMuZWxlbWVudC5kaXNwb3NlKCksdGhpcy5lbGVtZW50PW51bGwpfTtcclxucmV0dXJuIGF9KCk7Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLmF1ZGlvSWRNYXA9bnVsbDt0aGlzLmF1ZGlvSWRNYXA9bmV3IE1hcH1hLnByb3RvdHlwZS5nZXROb3RpZmljYXRpb25JbmZvPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYXVkaW9JZE1hcC5oYXMoYSkpcmV0dXJuIHRoaXMuYXVkaW9JZE1hcC5nZXQoYSk7dmFyIGI9bmV3IGg7dGhpcy5hdWRpb0lkTWFwLnNldChhLGIpO3JldHVybiBifTthLnByb3RvdHlwZS5wbGF5Tm90aWZ5QXVkaW89ZnVuY3Rpb24oYSxiKXtiJiYodS5sb2dnZXIubG9nKFwiQXVkaW9Ob3RpZmljYXRpb24ucGxheU5vdGlmeUF1ZGlvLCBSZW1vdGUgdG8gVGhpbiBDbGllbnQgYXVkaW9JZDpcIithK1wiIHNyYzpcIitiKSx0aGlzLmdldE5vdGlmaWNhdGlvbkluZm8oYSkucGxheShiKSl9O2EucHJvdG90eXBlLnBhdXNlTm90aWZ5QXVkaW89ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmF1ZGlvSWRNYXAuaGFzKGEpKXt2YXIgZD10aGlzLmF1ZGlvSWRNYXAuZ2V0KGEpO1xyXG5iJiZiIT1kLmdldFNyYygpJiZ1LmxvZ2dlci5sb2coXCJBdWRpb05vdGlmaWNhdGlvbi5wYXVzZU5vdGlmeUF1ZGlvIHdhcm5pbmc6IGZvciBhdWRpb0lkOlwiK2ErXCIsIGRpZmZlcmVudCBwYXJhbSBzcmM6XCIrYitcIiBmcm9tIG9yZyBzcmM6XCIrZC5nZXRTcmMoKSk7ZC5wYXVzZSgpfWVsc2UgdS5sb2dnZXIubG9nKFwiQXVkaW9Ob3RpZmljYXRpb24ucGF1c2VOb3RpZnlBdWRpbyBubyBhdWRpb0lkOlwiK2ErXCIgc3JjOlwiK2IpfTthLnByb3RvdHlwZS5zZXRTaW5rSWQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1iJiZiLnN0YXJ0c1dpdGgoXCJzcGVha2VyOlwiKSl7dS5sb2dnZXIubG9nKFwiQXVkaW9Ob3RpZmljYXRpb24uc2V0U2lua0lkIGJlZm9yZSBwYXJzaW5nIGF1ZGlvSWQ6XCIrYStcIiBzaW5rSWQ6XCIrYik7dmFyIGQ9Yi5zbGljZSg4KTt1LmxvZ2dlci5sb2coXCJBdWRpb05vdGlmaWNhdGlvbi5zZXRTaW5rSWQgYWZ0ZXIgcGFyc2luZyBhdWRpb0lkOlwiK2ErXCIgc3BlYWtlcnNpbmtJZDpcIitkKTtcclxuYj1kfXRoaXMuZ2V0Tm90aWZpY2F0aW9uSW5mbyhhKS5zZXRTaW5rSWQoYil9O2EucHJvdG90eXBlLmdldExvb3A9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Tm90aWZpY2F0aW9uSW5mbyhhKS5nZXRMb29wKCl9O2EucHJvdG90eXBlLnNldExvb3A9ZnVuY3Rpb24oYSxiKXt0aGlzLmdldE5vdGlmaWNhdGlvbkluZm8oYSkuc2V0TG9vcChiKX07YS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuYXVkaW9JZE1hcC5mb3JFYWNoKGZ1bmN0aW9uKGEsYixkKXthLnJlbGVhc2UoKX0pO3RoaXMuYXVkaW9JZE1hcC5jbGVhcigpfTtyZXR1cm4gYX0oKTthLkU9Yn0sNjEzOmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGQpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsXHJcbmIpe2Zvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWJbZF0pfTtyZXR1cm4gYShiLGQpfTtyZXR1cm4gZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBrKCl7dGhpcy5jb25zdHJ1Y3Rvcj1ifWEoYixkKTtiLnByb3RvdHlwZT1udWxsPT09ZD9PYmplY3QuY3JlYXRlKGQpOihrLnByb3RvdHlwZT1kLnByb3RvdHlwZSxuZXcgayl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuRTkxMVNlcnZpY2U9dm9pZCAwO3ZhciB1PWMoNTUwKSxoPWMoNjU4KSxkPWMoODUxKTtiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgZD1hLmNhbGwodGhpcyxudWxsLHUuY2xhc3NfaWRfdC5FOTExU2VydmljZSwwLGguUHJveHlNb2RlLkxvY2FsKXx8dGhpcztkLnByZUU5MTFJbmZvXz1udWxsO3JldHVybiBkfWUoYixhKTtiLnByb3RvdHlwZS5pc1NhbWVJbmZvPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMucHJlRTkxMUluZm9fJiZcclxubnVsbCE9YXx8bnVsbCE9dGhpcy5wcmVFOTExSW5mb18mJm51bGw9PWF8fHRoaXMucHJlRTkxMUluZm9fLmU5MTEubGVuZ3RoIT1hLmU5MTEubGVuZ3RofHx0aGlzLnByZUU5MTFJbmZvXy5ic3NpZCE9YS5ic3NpZHx8dGhpcy5wcmVFOTExSW5mb18uaXB2NCE9YS5pcHY0fHx0aGlzLnByZUU5MTFJbmZvXy5zdWJuZXRMZW5ndGhJcHY0IT1hLnN1Ym5ldExlbmd0aElwdjR8fHRoaXMucHJlRTkxMUluZm9fLmlwdjYhPWEuaXB2Nnx8dGhpcy5wcmVFOTExSW5mb18uc3VibmV0TGVuZ3RoSXB2NiE9YS5zdWJuZXRMZW5ndGhJcHY2fHx0aGlzLnByZUU5MTFJbmZvXy5tYWMhPWEubWFjfHwxRS00PD1NYXRoLmFicyh0aGlzLnByZUU5MTFJbmZvXy5sYXRpdHVkZS1hLmxhdGl0dWRlKXx8MUUtNDw9TWF0aC5hYnModGhpcy5wcmVFOTExSW5mb18ubG9uZ2l0dWRlLWEubG9uZ2l0dWRlKSlyZXR1cm4hMTtmb3IodmFyIGs9MDtrPGEuZTkxMS5sZW5ndGg7aysrKWlmKHRoaXMucHJlRTkxMUluZm9fLmU5MTFba10uY2hhc3Npc0lkIT1cclxuYS5lOTExW2tdLmNoYXNzaXNJZHx8dGhpcy5wcmVFOTExSW5mb18uZTkxMVtrXS5wb3J0SWQhPWEuZTkxMVtrXS5wb3J0SWQpcmV0dXJuITE7cmV0dXJuITB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9udXBkYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9udXBkYXRlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBrPXRoaXM7dGhpcy5vbnVwZGF0ZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnVwZGF0ZVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGE9ay5yZWdpc3RlckNhbGxiYWNrcyghMSxrLmlzTnVsbENhbGxiYWNrKGsub251cGRhdGVfKSx1Lm1ldGhvZF9pZF9FOTExU2VydmljZV90Lm9udXBkYXRlKTthLnRoZW4oZnVuY3Rpb24oYSl7YT1hLnBhcmFtczt2YXIgZz1hWzBdO2Euc2xpY2UoMSk7bnVsbCE9PWsucHJlRTkxMUluZm9fJiZrLmlzU2FtZUluZm8oZyl8fChkLmxvZ2dlci5sb2coay51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLm9udXBkYXRlXCIsSlNPTi5zdHJpbmdpZnkoZykpLGsub251cGRhdGVfJiZrLm9udXBkYXRlXyhnKSxrLnByZUU5MTFJbmZvXz1nKX0pO3JldHVybiBrLnJlbW90ZUludm9rZSghMCx1Lm1ldGhvZF9pZF9FOTExU2VydmljZV90Lm9udXBkYXRlLGEuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7cmV0dXJuIGQubG9nZ2VyLmxvZyhrLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnVwZGF0ZSwgY291bGQgbm90IHNldCBsaXN0ZW5lclwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmdldEU5MTFJbmZvPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oayxiKXthLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRFOTExSW5mb1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLHUubWV0aG9kX2lkX0U5MTFTZXJ2aWNlX3QuZ2V0RTkxMUluZm8pfSkudGhlbihmdW5jdGlvbihiKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldEU5MTFJbmZvXCIsSlNPTi5zdHJpbmdpZnkoYS5wYXJhbTAoYikpKTtrKGEucGFyYW0wKGIpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0RTkxMUluZm8gcHJvbWlzZSByZWplY3RlZFwiKTtiKCl9KX0pfTtiLnByb3RvdHlwZS51cGRhdGVFOTExSW5mbz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5nZXRFOTExSW5mbygpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGEub251cGRhdGUmJmEub251cGRhdGUoYil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7cmV0dXJuIGQubG9nZ2VyLmxvZyhcIkZhaWwgdG8gZ2V0IGU5MTEgaW5mb3JtYXRpb24hXCIpfSl9O3JldHVybiBifShoLlByb3h5T2JqZWN0KTthLkU5MTFTZXJ2aWNlPWJ9LDk6ZnVuY3Rpb24oYixhLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGIsayl7YT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZlxyXG5BcnJheSYmZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGcgaW4gYiliLmhhc093blByb3BlcnR5KGcpJiYoYVtnXT1iW2ddKX07cmV0dXJuIGEoYixrKX07cmV0dXJuIGZ1bmN0aW9uKGIsayl7ZnVuY3Rpb24gZCgpe3RoaXMuY29uc3RydWN0b3I9Yn1hKGIsayk7Yi5wcm90b3R5cGU9bnVsbD09PWs/T2JqZWN0LmNyZWF0ZShrKTooZC5wcm90b3R5cGU9ay5wcm90b3R5cGUsbmV3IGQpfX0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLkVuZ2luZUNvbnRyb2w9YS5WZXJzaW9uVHlwZT12b2lkIDA7dmFyIHU9Yyg1NTApLGg9Yyg5NDYpLGQ9Yyg2NTgpLHc9Yyg4NTEpOyhmdW5jdGlvbihhKXthW2EuV2VicnBjPTBdPVwiV2VicnBjXCI7YVthLldlYnJ0Y0NvZGVjcz0xXT1cIldlYnJ0Y0NvZGVjc1wiO2FbYS5SZWNlaXZlcj0yXT1cIlJlY2VpdmVyXCI7YVthLlZkYT0zXT1cIlZkYVwiO2FbYS5FbmRwb2ludD1cclxuNF09XCJFbmRwb2ludFwiO2FbYS5UeXBlU2NyaXB0PTVdPVwiVHlwZVNjcmlwdFwiO2FbYS5IZHhSdGNFbmdpbmU9Nl09XCJIZHhSdGNFbmdpbmVcIjthW2EuTWF4PTddPVwiTWF4XCJ9KShhLlZlcnNpb25UeXBlfHwoYS5WZXJzaW9uVHlwZT17fSkpO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihrKXt2YXIgYz1hLmNhbGwodGhpcyxudWxsLHUuY2xhc3NfaWRfdC5FbmdpbmVDb250cm9sLDAsZC5Qcm94eU1vZGUuTG9jYWwpfHx0aGlzO2MuY2xpZW50SW5mb189XCJcIjtjLmNsaWVudEluZm9fPWs7cmV0dXJuIGN9ZShiLGEpO2IucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt3LmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuYmluZCgpIGNhbGxlZC5cIik7dGhpcy5yZWNvbnN0cnVjdG9yKG51bGwsdS5jbGFzc19pZF90LkVuZ2luZUNvbnRyb2wsMCl9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3LmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixkKXthLnN5bmNCYXJyaWVyRGVlcChiLGQpJiZhLndhaXRVbnRpbENvbm5lY3RlZChcIkVuZ2luZUNvbnRyb2wuc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsdS5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90LnZlcnNpb24se21ham9yOjAsbWlub3I6MCxyZXZpc2lvbjowLGJ1aWxkOjB9KSxhLnJlbW90ZUludm9rZSghMSx1Lm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3QuZmVhdHVyZV9mbGFncyxbXSldKX0pLnRoZW4oZnVuY3Rpb24oYil7dy5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wicmVjZWl2ZWQgd2VicnBjIHZlcnNpb24gYW5kIHN1cHBvcnRlZCBmZWF0dXJlIGxpc3QuXCIpO2I9Yi5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEucGFyYW0wKGIpfSk7YS52ZXJzaW9uXz1iWzBdO2EuZmVhdHVyZXNfPVxyXG5iWzFdO2guZ2V0UmVkaXJlY3RvcigpLnNldEZlYXR1cmVzKGEuZmVhdHVyZXNfKTthLnJlbW90ZUludm9rZSghMSx1Lm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3Quc2V0X2NsaWVudF9pbmZvLChhLmNsaWVudEluZm9ffHxcIlVua25vd25cIikrXCI7IHZkaVNoaW0vXCIrdS5IRFhNU19WRVJTSU9OLGguZ2V0UmVkaXJlY3RvcigpLnNlc3Npb25DbGllbnRJZClbXCJjYXRjaFwiXShmdW5jdGlvbigpe3JldHVybiB3LmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgY291bGQgbm90IHNldCBjbGllbnQgaW5mb1wiKX0pO2I9W107Zm9yKHZhciBkPTAsdD1hLmZlYXR1cmVzXztkPHQubGVuZ3RoO2QrKyl7dmFyIG09dFtkXTtcIm1zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZ1wiPT09bS5uYW1lJiZtLnZhbHVlP2IucHVzaChhLnJlbW90ZUludm9rZSghMSx1Lm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3QudmVyc2lvbl9pbmZvLFtdKSk6XCJtc190ZWFtc19vc2luZm9cIj09PW0ubmFtZSYmbS52YWx1ZT9cclxuYi5wdXNoKGEucmVtb3RlSW52b2tlKCExLHUubWV0aG9kX2lkX0VuZ2luZUNvbnRyb2xfdC5vc2luZm8se2ZhbWlseTpcIlwiLHZlcnNpb246XCJcIixhcmNoaXRlY3R1cmU6XCJcIixkaXN0cm86XCJcIixlZGl0aW9uOlwiXCJ9KSk6XCJtc190ZWFtc19lbmRwb2ludF9pZFwiPT09bS5uYW1lJiZtLnZhbHVlP2IucHVzaChhLnJlbW90ZUludm9rZSghMSx1Lm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3QuZW5kcG9pbnRfaWQse21hY2hpbmVfaWQ6XCJcIix1c2VyX2lkOlwiXCJ9KSk6XCJtc190ZWFtc19oYXJkd2FyZV9pbmZvXCI9PT1tLm5hbWUmJm0udmFsdWUmJmIucHVzaChhLnJlbW90ZUludm9rZSghMSx1Lm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3QuaGFyZHdhcmVfaW5mbykpfWlmKDA8Yi5sZW5ndGgpcmV0dXJuIFByb21pc2UuYWxsKGIpfSkudGhlbihmdW5jdGlvbihiKXtpZih2b2lkIDA9PT1iKXcubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcInJlbGVhc2UtMTkwNSBjbGllbnQuXCIpO2Vsc2V7dy5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cInJlbGVhc2UtMTkwNiBvciBsYXRlciBjbGllbnQ6IHJlY2VpdmVkIGRldGFpbGVkIGNsaWVudCB2ZXJzaW9uIGxpc3QuXCIpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgdD1iW2RdO3QuaGRyLnByb2MuaWlkPT11LmNsYXNzX2lkX3QuRW5naW5lQ29udHJvbCYmdC5oZHIucHJvYy5tZXRob2RpZD09dS5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90LnZlcnNpb25faW5mbz9hLnZlcnNpb25zXz1hLnBhcmFtMCh0KTp0Lmhkci5wcm9jLmlpZD09dS5jbGFzc19pZF90LkVuZ2luZUNvbnRyb2wmJnQuaGRyLnByb2MubWV0aG9kaWQ9PXUubWV0aG9kX2lkX0VuZ2luZUNvbnRyb2xfdC5vc2luZm8/YS5vc2luZm9fPWEucGFyYW0wKHQpOnQuaGRyLnByb2MuaWlkPT11LmNsYXNzX2lkX3QuRW5naW5lQ29udHJvbCYmdC5oZHIucHJvYy5tZXRob2RpZD09dS5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90LmVuZHBvaW50X2lkP2EuZW5kcG9pbnRpZF89YS5wYXJhbTAodCk6dC5oZHIucHJvYy5paWQ9PVxyXG51LmNsYXNzX2lkX3QuRW5naW5lQ29udHJvbCYmdC5oZHIucHJvYy5tZXRob2RpZD09dS5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90LmhhcmR3YXJlX2luZm8mJihhLmhhcmR3YXJlaW5mb189YS5wYXJhbTAodCkpfX1hLnN5bmNCYXJyaWVyUmVzb2x2ZShhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCJmYWlsdXJlIHRvIHJldHJpZXZlIHZlcnNpb24vZmVhdHVyZSByZWxhdGVkIGNsaWVudCBpbmZvLlwiKTthLnN5bmNCYXJyaWVyUmVqZWN0KGIpfSl9KX07cmV0dXJuIGJ9KGQuUHJveHlPYmplY3QpO2EuRW5naW5lQ29udHJvbD1ifSwzNjg6ZnVuY3Rpb24oYixhLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuRnJhbWVzPWEuRnJhbWVUcmFja2VyPXZvaWQgMDt2YXIgZT1jKDg1MSksdT1jKDk0NiksaD1jKDY3OSksZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMucmVzb2x2ZT1cclxuYTt0aGlzLnJlamVjdD1ifX0oKSx3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMubmFtZT1cIm92ZXJsYXlcIjt0aGlzLnJlcXNfPVtdO3UuZ2V0UmVkaXJlY3RvcigpLmFkZFByb3RvY29sSGFuZGxlcih0aGlzKX1hLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe307YS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnJlcXNfLmZvckVhY2goZnVuY3Rpb24oYSxiKXthLnJlamVjdCgpfSk7dGhpcy5yZXFzXz1bXX07YS5wcm90b3R5cGUub25fbWVzc2FnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2UubG9nZ2VyLmxvZyhcIkhEWE1TOiBPdmVybGF5IDw8PCBcIitKU09OLnN0cmluZ2lmeShhKSk7aWYoXCJjYXBhYmlsaXRpZXNcIj09YS5jb21tYW5kKW5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsayl7Yi5yZXFzXy5wdXNoKG5ldyBkKGEsaykpO3UuZ2V0UmVkaXJlY3RvcigpLldTU2VuZE9iamVjdCh7djpcIm92ZXJsYXlcIixjb21tYW5kOlwiY29uZmlndXJlXCIsY2FwczpbXX0pfSk7ZWxzZXt2YXIgYz1cclxudGhpcy5yZXFzXy5zaGlmdCgpO3ZvaWQgMCE9Yz8xPT1hLnN0YXR1cyYmKFwidHJhY2tfd2luZG93XCI9PWEuY29tbWFuZD9jLnJlc29sdmUoYS53aW5kb3dJZCk6XCJ1bnRyYWNrX3dpbmRvd1wiPT1hLmNvbW1hbmQ/Yy5yZXNvbHZlKGEud2luZG93SGFuZGxlKTpcImNvbmZpZ3VyZVwiPT1hLmNvbW1hbmQ/Yy5yZXNvbHZlKHt9KTpjLnJlamVjdCh7fSkpOmUubG9nZ2VyLmxvZyhcInNwdXJpb3VzIHJlc3BvbnNlIGZvciBtZXNzYWdlOiBcIithLmNvbW1hbmQpfX07YS5wcm90b3R5cGUucmVnaXN0ZXJXaW5kb3dXaXRoU2VydmljZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGcpe3ZhciBCPXUuZ2V0UmVkaXJlY3RvcigpO2lmKHZvaWQgMD09YSl7ZS5sb2dnZXIubG9nKFwiRnJhbWVUcmFja2VyUHJvdG9jb2wucmVnaXN0ZXJXaW5kb3dXaXRoU2VydmljZTogbGVnYWN5IGNhc2VcIik7dmFyIHQ9d2luZG93LmdldFdpbmRvd0hhbmRsZUFzSGV4LmJpbmQod2luZG93KTtcclxuaWYodm9pZCAwPT09dHx8bnVsbD09PXQpZS5sb2dnZXIubG9nKFwiRnJhbWVUcmFja2VyUHJvdG9jb2wucmVnaXN0ZXJXaW5kb3dXaXRoU2VydmljZTogZ2V0V2luZG93SGFuZGxlIG1ldGhvZCBpcyB1bmRlZmluZWQgb3IgbnVsbFwiKSxnKHt9KTtQcm9taXNlLmFsbChbdCgpLEIuc3RhcnRSZWRpcmVjdGlvbighMSxcInJlZ2lzdGVyV2luZG93V2l0aFNlcnZpY2VcIildKS50aGVuKGZ1bmN0aW9uKGEpe2UubG9nZ2VyLmxvZyhcIkZyYW1lVHJhY2tlci5yZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlOiBzZXQgd2luZG93IGhhbmRsZTogXCIrYVswXSk7Qi5XU1NlbmRPYmplY3Qoe3Y6XCJvdmVybGF5XCIsY29tbWFuZDpcIndpbmRvd1wiLHdpbmRvd0hhbmRsZTphWzBdfSk7Yyh2b2lkIDApfSl9ZWxzZSBlLmxvZ2dlci5sb2coXCJGcmFtZVRyYWNrZXJQcm90b2NvbC5yZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlOiBuZXcgTVcgY2FzZVwiKSxCLnN0YXJ0UmVkaXJlY3Rpb24oITEsXCJyZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlXCIpLnRoZW4oZnVuY3Rpb24oKXtiLnJlcXNfLnB1c2gobmV3IGQoYyxcclxuZykpO0IuV1NTZW5kT2JqZWN0KHt2Olwib3ZlcmxheVwiLGNvbW1hbmQ6XCJ0cmFja193aW5kb3dcIix3aW5kb3dIYW5kbGU6YX0pfSl9KX07YS5wcm90b3R5cGUudW5yZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZS5sb2dnZXIubG9nKFwiRnJhbWVUcmFja2VyUHJvdG9jb2wudW5yZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlKGhhbmRsZTogXCIrYStcIilcIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZyl7dm9pZCAwPT1hP2coe30pOihiLnJlcXNfLnB1c2gobmV3IGQoYyxnKSksdS5nZXRSZWRpcmVjdG9yKCkuV1NTZW5kT2JqZWN0KHt2Olwib3ZlcmxheVwiLGNvbW1hbmQ6XCJ1bnRyYWNrX3dpbmRvd1wiLHdpbmRvd0hhbmRsZTphfSkpfSl9O3JldHVybiBhfSgpLHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3ZhciBkPXRoaXM7dGhpcy5ydW5uaW5nXz0hMTt0aGlzLmVsZW1lbnRzXz1bXTt0aGlzLmNsaXBSZWN0cz1uZXcgU2V0O3RoaXMudmlkZW9zXz1cclxuW107dGhpcy5jb25uZWN0ZWRfPSExO3RoaXMueUNsaWVudEFyZWFPZmZzZXRfPXRoaXMueENsaWVudEFyZWFPZmZzZXRfPTA7dGhpcy53aGVlbEV2ZW50SGFuZGxlcj1mdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC51cGRhdGVBbGwoKX0sMTApfTt0aGlzLnNjcm9sbEV2ZW50SGFuZGxlcj1mdW5jdGlvbihhKXtkLnVwZGF0ZUFsbCgpfTt0aGlzLmtleXVwRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGEpe1wiVGFiXCIhPWEuY29kZSYmXCJBcnJvd1VwXCIhPWEuY29kZSYmXCJBcnJvd0Rvd25cIiE9YS5jb2RlJiZcIkFycm93TGVmdFwiIT1hLmNvZGUmJlwiQXJyb3dSaWdodFwiIT1hLmNvZGUmJlwiUGFnZVVwXCIhPWEuY29kZSYmXCJQYWdlRG93blwiIT1hLmNvZGUmJlwiSG9tZVwiIT1hLmNvZGUmJlwiRW5kXCIhPWEuY29kZXx8ZC51cGRhdGVBbGwoKX07dGhpcy5yZXNpemVFdmVudEhhbmRsZXI9ZnVuY3Rpb24oYSl7ZS5sb2dnZXIubG9nKFwib25XaW5kb3dSZXNpemUuLi4gdXBkYXRlIHZpZGVvIGVsZW1lbnRzIHBvc2l0aW9uXCIpO1xyXG5kLnVwZGF0ZUFsbCgpfTtlLmxvZ2dlci5sb2coXCJGcmFtZVRyYWNrZXIuY29uc3RydWN0b3I6IChoYW5kbGU6IFwiK2IrXCIpXCIpO3RoaXMuaGFuZGxlXz1iO3RoaXMuY29ubmVjdFRvU2VydmljZSgpO3RoaXMub2JzZXJ2ZXJfPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGEpe2QudXBkYXRlQWxsKCl9KX1hLnByb3RvdHlwZS5jb25uZWN0VG9TZXJ2aWNlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpczthLlByb3RvY29sLnJlZ2lzdGVyV2luZG93V2l0aFNlcnZpY2UodGhpcy5oYW5kbGVfKS50aGVuKGZ1bmN0aW9uKGEpe2UubG9nZ2VyLmxvZyhcIkZyYW1lVHJhY2tlcjogY29ubmVjdGVkIHRvIHNlcnZpY2UuICh3aW5kb3dJZD1cIithK1wiKVwiKTtiLmNvbm5lY3RlZF89ITA7Yi53aW5kb3dJZF89YTtiLnZpZGVvc18uZm9yRWFjaChmdW5jdGlvbihhKXthLnNpbmtJZD1KU09OLnN0cmluZ2lmeShiLndpbmRvd0lkXyl9KTtiLnZpZGVvc189W119KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFxyXG5cImhhbmRsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2EucHJvdG90eXBlLmdldFdpbmRvd0Zyb21FbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd9O2EucHJvdG90eXBlLnJlY3RhbmdsZXNJbnRlcnNlY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS54PGIueCtiLndpZHRoJiZhLngrYS53aWR0aD5iLngmJmEueTxiLnkrYi5oZWlnaHQmJmEueSthLmhlaWdodD5iLnk/ITA6ITF9O2EucHJvdG90eXBlLmludGVyc2VjdGluZ1JlY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgZD1NYXRoLm1heChhLmxlZnQsYi5sZWZ0KSxnPU1hdGgubWF4KGEudG9wLGIudG9wKTtyZXR1cm4gbmV3IERPTVJlY3QoZCxnLE1hdGgubWluKGEucmlnaHQsYi5yaWdodCktZCxNYXRoLm1pbihhLmJvdHRvbSxiLmJvdHRvbSktZyl9O2EucHJvdG90eXBlLnBlZGlncmVlQ291bnQ9ZnVuY3Rpb24oYSxcclxuYil7Zm9yKHZhciBkPTAsZz1hLnBhcmVudEVsZW1lbnQ7bnVsbCE9ZyYmZyE9YjspZCsrLGc9Zy5wYXJlbnRFbGVtZW50O3JldHVybntpc0FuY2VzdG9yOm51bGwhPWcscGVkaWdyZWU6ZH19O2EucHJvdG90eXBlLnNlbGVjdFRvcG1vc3Q9ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChhKSxnPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGIpLGQ9dGhpcy5pbnRlcnNlY3RpbmdSZWN0KGQsZyksZz1hLm93bmVyRG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChkLmxlZnQrZC53aWR0aC8yLGQudG9wK2QuaGVpZ2h0LzIpO2lmKGc9PWEpcmV0dXJuIGE7aWYoZz09YilyZXR1cm4gYjtkPXRoaXMucGVkaWdyZWVDb3VudChhLGcpO2c9dGhpcy5wZWRpZ3JlZUNvdW50KGIsZyk7aWYoZC5pc0FuY2VzdG9yJiZnLmlzQW5jZXN0b3Ipe2lmKGQucGVkaWdyZWU8Zy5wZWRpZ3JlZSlyZXR1cm4gYTtpZihnLnBlZGlncmVlPGQucGVkaWdyZWUpcmV0dXJuIGJ9ZWxzZXtpZihkLmlzQW5jZXN0b3IpcmV0dXJuIGE7XHJcbmlmKGcuaXNBbmNlc3RvcilyZXR1cm4gYn19O2EucHJvdG90eXBlLmNoZWNrT3ZlcmxhcHBpbmdWaWRlb3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxkPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGEudGFyZ2V0KTthLm92ZXJsYXBzLmZvckVhY2goZnVuY3Rpb24oYil7YS50YXJnZXQucmVtb3RlVmlkZW9FbGVtZW50LnJlbW92ZUNsaXBSZWN0KGIucmVjdCl9KTthLm92ZXJsYXBzPVtdO3RoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24oZyl7aWYoZyE9YSl7dmFyIGM9Zy5vdmVybGFwcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWxlbWVudH0pLmluZGV4T2YoYS50YXJnZXQpOy0xIT1jJiYoYz1nLm92ZXJsYXBzLnNwbGljZShjLDEpWzBdLGcudGFyZ2V0LnJlbW90ZVZpZGVvRWxlbWVudC5yZW1vdmVDbGlwUmVjdChjLnJlY3QpKTtjPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGcudGFyZ2V0KTtpZihiLnJlY3RhbmdsZXNJbnRlcnNlY3QoZCxjKSl7dmFyIHQ9Yi5zZWxlY3RUb3Btb3N0KGEudGFyZ2V0LFxyXG5nLnRhcmdldCk7dD09YS50YXJnZXQ/KGcub3ZlcmxhcHMucHVzaCh7ZWxlbWVudDphLnRhcmdldCxyZWN0OmR9KSxnLnRhcmdldC5yZW1vdGVWaWRlb0VsZW1lbnQuYWRkQ2xpcFJlY3QoZCkpOnQ9PWcudGFyZ2V0JiYoYS5vdmVybGFwcy5wdXNoKHtlbGVtZW50OmcudGFyZ2V0LHJlY3Q6Y30pLGEudGFyZ2V0LnJlbW90ZVZpZGVvRWxlbWVudC5hZGRDbGlwUmVjdChjKSl9fX0pfTthLnByb3RvdHlwZS51cGRhdGVBbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGQ9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoYi50YXJnZXQpO2lmKHZvaWQgMCE9PWQpe3ZhciBnPWIuY2xpZW50UmVjdDtpZih2b2lkIDA9PT1nfHxnLnghPT1kLnh8fGcueSE9PWQueXx8Zy53aWR0aCE9PWQud2lkdGh8fGcuaGVpZ2h0IT09ZC5oZWlnaHQpYi5jbGllbnRSZWN0PWQsYi5jYWxsYmFjayhkKSxhLmNoZWNrT3ZlcmxhcHBpbmdWaWRlb3MoYil9fSl9O1xyXG5hLnByb3RvdHlwZS50cmFjaz1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsZz10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChhKTtlLmxvZ2dlci5sb2coXCJUcmFjayAoaGFuZGxlOiBcIit0aGlzLmhhbmRsZV8rXCIpIGVsZW1lbnQgZnJhbWVcIixhLEpTT04uc3RyaW5naWZ5KGcpKTtjb25zb2xlLmxvZyhhKTt0aGlzLmVsZW1lbnRzXy5wdXNoKHt0YXJnZXQ6YSxjbGllbnRSZWN0OnZvaWQgMCxjYWxsYmFjazpiLG92ZXJsYXBzOltdfSk7dHJ5e2UubG9nZ2VyLmxvZyhcIltIZHhXZWJSVEMuanNdIEluaXRpYWxpemluZyBvY2NsdXNpb24gZm9yIG5ldyB2aWRlb0VsZW1lbnRcIiksdGhpcy5jbGlwUmVjdHMuZm9yRWFjaChmdW5jdGlvbihiKXtkLmFwcGx5T2NjbHVzaW9uKGEsSlNPTi5wYXJzZShiKSl9KX1jYXRjaChjKXtlLmxvZ2dlci5sb2coXCJbSGR4V2ViUlRDLmpzXSBhZGRPY2NsdXNpb25Jbml0IGZhaWxlZCEgXCIrYyl9dGhpcy5ydW5uaW5nX3x8KGUubG9nZ2VyLmxvZyhcIlN0YXJ0IEZyYW1lVHJhY2tlciBvYnNlcnZlci4uLlwiKSxcclxudGhpcy5vYnNlcnZlcl8ub2JzZXJ2ZShhLm93bmVyRG9jdW1lbnQuYm9keSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGc9dGhpcy5nZXRXaW5kb3dGcm9tRWxlbWVudChhKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMud2hlZWxFdmVudEhhbmRsZXIpLGcuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuc2Nyb2xsRXZlbnRIYW5kbGVyKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMua2V5dXBFdmVudEhhbmRsZXIpLGcuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMucmVzaXplRXZlbnRIYW5kbGVyKSx0aGlzLnJ1bm5pbmdfPSEwKTt0aGlzLnVwZGF0ZUFsbCgpfTthLnByb3RvdHlwZS51bnRyYWNrPWZ1bmN0aW9uKGEpe2UubG9nZ2VyLmxvZyhcIlVudHJhY2sgKGhhbmRsZTogXCIrdGhpcy5oYW5kbGVfK1wiKSBlbGVtZW50IGZyYW1lXCIsYSk7dmFyIGI9LTE7dGhpcy5lbGVtZW50c18uZm9yRWFjaChmdW5jdGlvbihnLFxyXG5kKXtnLnRhcmdldD09PWEmJihiPWQpfSk7aWYoMDw9YiYmKHRoaXMuZWxlbWVudHNfLnNwbGljZShiLDEpLDA9PT10aGlzLmVsZW1lbnRzXy5sZW5ndGgpKXtlLmxvZ2dlci5sb2coXCJTdG9wIEZyYW1lVHJhY2tlciBvYnNlcnZlci4uLlwiKTt0aGlzLm9ic2VydmVyXy5kaXNjb25uZWN0KCk7dmFyIGQ9dGhpcy5nZXRXaW5kb3dGcm9tRWxlbWVudChhKTtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMud2hlZWxFdmVudEhhbmRsZXIpO2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuc2Nyb2xsRXZlbnRIYW5kbGVyKTtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMua2V5dXBFdmVudEhhbmRsZXIpO2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMucmVzaXplRXZlbnRIYW5kbGVyKTt0aGlzLnJ1bm5pbmdfPSExfX07YS5wcm90b3R5cGUuYXBwbHlPY2NsdXNpb249ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChhKTtcclxudGhpcy5yZWN0YW5nbGVzSW50ZXJzZWN0KGIsZCkmJnZvaWQgMCE9PWEucmVtb3RlVmlkZW9FbGVtZW50JiZhLnJlbW90ZVZpZGVvRWxlbWVudC5hZGRDbGlwUmVjdChiKX07YS5wcm90b3R5cGUuYWRkT2NjbHVzaW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZS5sb2dnZXIubG9nKFwiW0hkeFdlYlJUQy5qc10gQWRkaW5nIG9jY2x1c2lvbiBcIitKU09OLnN0cmluZ2lmeShhKSk7ZS5sb2dnZXIubG9nKFwiW0hkeFdlYlJUQy5qc10gVHJhY2tpbmcgJ1wiK3RoaXMuZWxlbWVudHNfLmxlbmd0aCtcIicgZWxlbWVudHMuXCIpO3RoaXMuY2xpcFJlY3RzLmFkZChKU09OLnN0cmluZ2lmeShhKSk7dGhpcy5lbGVtZW50c18uZm9yRWFjaChmdW5jdGlvbihkKXtiLmFwcGx5T2NjbHVzaW9uKGQudGFyZ2V0LGEpfSl9O2EucHJvdG90eXBlLnJlbW92ZU9jY2x1c2lvbj1mdW5jdGlvbihhKXtlLmxvZ2dlci5sb2coXCJbSGR4V2ViUlRDLmpzXSBSZW1vdmluZyBvY2NsdXNpb24gXCIrSlNPTi5zdHJpbmdpZnkoYSkpO1xyXG5lLmxvZ2dlci5sb2coXCJbSGR4V2ViUlRDLmpzXSBUcmFja2luZyAnXCIrdGhpcy5lbGVtZW50c18ubGVuZ3RoK1wiJyBlbGVtZW50cy5cIik7dGhpcy5jbGlwUmVjdHNbXCJkZWxldGVcIl0oSlNPTi5zdHJpbmdpZnkoYSkpO3RoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24oYil7dm9pZCAwIT09Yi50YXJnZXQucmVtb3RlVmlkZW9FbGVtZW50JiZiLnRhcmdldC5yZW1vdGVWaWRlb0VsZW1lbnQucmVtb3ZlQ2xpcFJlY3QoYSl9KX07YS5wcm90b3R5cGUuc2V0Q2xpZW50QXJlYU9mZnNldD1mdW5jdGlvbihhLGIpe3RoaXMueENsaWVudEFyZWFPZmZzZXRfPWE7dGhpcy55Q2xpZW50QXJlYU9mZnNldF89Yn07YS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0PWZ1bmN0aW9uKGEpe2E9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthLngrPXRoaXMueENsaWVudEFyZWFPZmZzZXRfO2EueSs9dGhpcy55Q2xpZW50QXJlYU9mZnNldF87cmV0dXJuIGF9O2EucHJvdG90eXBlLm5ld1ZpZGVvRWxlbWVudD1cclxuZnVuY3Rpb24oYil7dmFyIGQ9dGhpcztlLmxvZ2dlci5sb2coXCJGcmFtZVRyYWNrZXIubmV3VmlkZW9FbGVtZW50OiAoaWQ6IFwiK2IuaWQrXCIpXCIpO2lmKHZvaWQgMCE9PWIucmVtb3RlVmlkZW9FbGVtZW50KWUubG9nZ2VyLmxvZyhcIlZpZGVvIGVsZW1lbnQgaXMgYWxyZWFkeSBjb25maWd1cmVkISEhXCIpO2Vsc2V7Yi5pZHx8KGIuaWQ9XCJjdHgtdmlkLVwiK2EudmlkZW9FbGVtZW50SURzKyspO3ZhciBjPW5ldyBoLlZpZGVvRWxlbWVudChiLmlkLHRoaXMuZ2V0V2luZG93RnJvbUVsZW1lbnQoYikpO3RoaXMuY29ubmVjdGVkXz8oZS5sb2dnZXIubG9nKFwiRnJhbWVUcmFja2VyLm5ld1ZpZGVvRWxlbWVudDogaW5pdGlhbGl6aW5nIHZpZGVvIGVsZW1lbnQgd2l0aCBzaW5rIGlkIFwiK3RoaXMud2luZG93SWRfKSxjLnNpbmtJZD1KU09OLnN0cmluZ2lmeSh0aGlzLndpbmRvd0lkXykpOihlLmxvZ2dlci5sb2coXCJGcmFtZVRyYWNrZXIubmV3VmlkZW9FbGVtZW50OiB2aWRlbyBlbGVtZW50IGF3YWl0aW5nIHN0YWJsZSB3aW5kb3cgc3RhdGVcIiksXHJcbnRoaXMudmlkZW9zXy5wdXNoKGMpKTtjLm9ubG9hZGVkbWV0YWRhdGE9ZnVuY3Rpb24oKXtiLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibG9hZGVkbWV0YWRhdGFcIikpfTtjLm9udGltZXVwZGF0ZT1mdW5jdGlvbigpe2IuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ0aW1ldXBkYXRlXCIpKX07Yy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe1wiY29ubmVjdGVkXCI9PWMuY29ubmVjdGlvblN0YXRlP2QudHJhY2soYixmdW5jdGlvbihhKXtjLnNldEZyYW1lKGEpfSk6ZC51bnRyYWNrKGIpfTtkZWxldGUgYi5yZW1vdGVWaWRlb0VsZW1lbnQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsXCJyZW1vdGVWaWRlb0VsZW1lbnRcIix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOm51bGx9KTtiLnJlbW90ZVZpZGVvRWxlbWVudD1jO2RlbGV0ZSBiLnNyY09iamVjdDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixcInNyY09iamVjdFwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuc3JjT2JqZWN0fSxcclxuc2V0OmZ1bmN0aW9uKGEpe2UubG9nZ2VyLmxvZyhcIlZESSBTaGltIHNldCB2aWRlbyBlbGVtZW50IHNyY09iamVjdCBcIithKTtjLnNyY09iamVjdD1hfX0pO2RlbGV0ZSBiLnZpZGVvV2lkdGg7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsXCJ2aWRlb1dpZHRoXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy52aWRlb1dpZHRofX0pO2RlbGV0ZSBiLnZpZGVvSGVpZ2h0O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLFwidmlkZW9IZWlnaHRcIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLnZpZGVvSGVpZ2h0fX0pfX07YS5wcm90b3R5cGUuZGlzcG9zZVZpZGVvRWxlbWVudD1mdW5jdGlvbihhKXtlLmxvZ2dlci5sb2coXCJGcmFtZVRyYWNrZXIuZGlzcG9zZVZpZGVvRWxlbWVudDogKGlkOiBcIithLmlkK1wiKVwiKTt2YXIgYj1hLnJlbW90ZVZpZGVvRWxlbWVudDtpZih2b2lkIDAhPWIpe3ZhciBkPXRoaXMudmlkZW9zXy5maW5kSW5kZXgoZnVuY3Rpb24oYSl7cmV0dXJuIGEuSWQ9PVxyXG5iLklkfSk7LTE8ZCYmdGhpcy52aWRlb3NfLnNwbGljZShkLDEpO2IuZGlzcG9zZSgpO2EucmVtb3RlVmlkZW9FbGVtZW50PXZvaWQgMH19O2EudmlkZW9FbGVtZW50SURzPTA7YS5Qcm90b2NvbD1uZXcgdztyZXR1cm4gYX0oKTthLkZyYW1lVHJhY2tlcj1xO2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3RoaXMuZnJhbWVzXz1bXTtiJiZ0aGlzLmZyYW1lc18ucHVzaChuZXcgcSh2b2lkIDApKX1hLnByb3RvdHlwZS5uZXdGcmFtZT1mdW5jdGlvbihhKXtlLmxvZ2dlci5sb2coXCJGcmFtZXMubmV3RnJhbWU6IChoYW5kbGU6IFwiK2ErXCIpXCIpO3ZhciBiPXRoaXMuZmluZEZyYW1lKGEpO3ZvaWQgMD09YiYmKGI9bmV3IHEoYSksdGhpcy5mcmFtZXNfLnB1c2goYikpO3JldHVybiBifTthLnByb3RvdHlwZS5kaXNwb3NlRnJhbWU9ZnVuY3Rpb24oYSl7ZS5sb2dnZXIubG9nKFwiRnJhbWVzLmRpc3Bvc2VGcmFtZTogKGhhbmRsZTogXCIrYStcIilcIik7dmFyIGI9dGhpcy5mcmFtZXNfLmZpbmRJbmRleChmdW5jdGlvbihiKXtyZXR1cm4gYi5oYW5kbGU9PVxyXG5hfSk7LTE8YiYmKHEuUHJvdG9jb2wudW5yZWdpc3RlcldpbmRvd1dpdGhTZXJ2aWNlKGEpLnRoZW4oZnVuY3Rpb24oYSl7ZS5sb2dnZXIubG9nKFwiVW50cmFjayB3aW5kb3cgKGhhbmRsZTogXCIrYStcIikgc3VjY2Vzc2Z1bFwiKX0pLHRoaXMuZnJhbWVzXy5zcGxpY2UoYiwxKSl9O2EucHJvdG90eXBlLmZpbmRGcmFtZT1mdW5jdGlvbihhKXtlLmxvZ2dlci5sb2coXCJGcmFtZXMuZmluZEZyYW1lOiAoaGFuZGxlOiBcIithK1wiKVwiKTtyZXR1cm4gdm9pZCAwIT1hP3RoaXMuZnJhbWVzXy5maW5kKGZ1bmN0aW9uKGIpe3JldHVybiBiLmhhbmRsZT09YX0pOnRoaXMuZnJhbWVzX1swXX07YS5wcm90b3R5cGUucmVjb25uZWN0PWZ1bmN0aW9uKCl7ZS5sb2dnZXIubG9nKFwiRnJhbWVzLnJlY29ubmVjdCgpXCIpO3RoaXMuZnJhbWVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuY29ubmVjdFRvU2VydmljZSgpfSl9O3JldHVybiBhfSgpO2EuRnJhbWVzPWJ9LDI0NzpmdW5jdGlvbihiLGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFxyXG5cIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLmdldEdDPWEuR0M9dm9pZCAwO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt0aGlzLnBhcmVudF89dGhpcy5vYmplY3RfPW51bGw7dGhpcy5jaGlsZHJlbl89W107dGhpcy5vYmplY3RfPWJ9YS5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oYSl7YS5wYXJlbnRfIT10aGlzJiYoYS5wYXJlbnRfPXRoaXMsdGhpcy5jaGlsZHJlbl8ucHVzaChhKSl9O2EucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hpbGRyZW5fLmluZGV4T2YoYSk7dGhpcy5jaGlsZHJlbl8uc3BsaWNlKGIsMSk7YS5wYXJlbnRfPW51bGx9O3JldHVybiBhfSgpLGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5yb290Xz1uZXcgYyhudWxsKX1hLnByb3RvdHlwZS50cmFja09iamVjdD1mdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPW51bGwpO2lmKG51bGw9PT10aGlzLmZpbmROb2RlKGEsdGhpcy5yb290Xykpe3ZhciBlPVxyXG50aGlzLmZpbmROb2RlKGIsdGhpcy5yb290XyksaD1uZXcgYyhhKTtlP2UuYWRkQ2hpbGQoaCk6dGhpcy5yb290Xy5hZGRDaGlsZChoKX19O2EucHJvdG90eXBlLnJlbGVhc2VPYmplY3Q9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmROb2RlKGEsdGhpcy5yb290Xyk7aWYobnVsbD09PWF8fGE9PT10aGlzLnJvb3RfKXJldHVybiExO3RoaXMuZGVzdHJveU5vZGVPYmplY3RSZWN1cnNlKGEpO2EucGFyZW50Xy5yZW1vdmVDaGlsZChhKTtyZXR1cm4hMH07YS5wcm90b3R5cGUuZGVzdHJveU5vZGVPYmplY3RSZWN1cnNlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5jaGlsZHJlbl87YjxjLmxlbmd0aDtiKyspdGhpcy5kZXN0cm95Tm9kZU9iamVjdFJlY3Vyc2UoY1tiXSk7YS5vYmplY3RfLmRlc3Ryb3koKX07YS5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5maW5kTm9kZShhLHRoaXMucm9vdF8pO2lmKG51bGw9PT1jKXJldHVybiExO3ZhciBlPXRoaXMuZmluZE5vZGUoYixcclxudGhpcy5yb290Xyk7aWYobnVsbD09PWUpcmV0dXJuITE7aWYoYy5wYXJlbnRfPT09ZSlyZXR1cm4hMDtjLnBhcmVudF8ucmVtb3ZlQ2hpbGQoYyk7ZS5hZGRDaGlsZChjKTtyZXR1cm4hMH07YS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnJvb3RfLmNoaWxkcmVuXz1bXX07YS5wcm90b3R5cGUuZmluZE5vZGU9ZnVuY3Rpb24oYSxiKXtpZihiLm9iamVjdF89PT1hKXJldHVybiBiO2Zvcih2YXIgYz1udWxsLGU9MCxrPWIuY2hpbGRyZW5fO2U8ay5sZW5ndGgmJihjPXRoaXMuZmluZE5vZGUoYSxrW2VdKSxudWxsPT09Yyk7ZSsrKTtyZXR1cm4gY307cmV0dXJuIGF9KCk7YS5HQz1lO3ZhciB1PW5ldyBlO2EuZ2V0R0M9ZnVuY3Rpb24oKXtyZXR1cm4gdX19LDk0NjpmdW5jdGlvbihiLGEsYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5nZXRSZWRpcmVjdG9yPWEuSGR4TWVkaWFTdHJlYW09YS5SZWRpcmVjdGlvblN0YXR1cz1cclxuYS5XZWJycGNTdGF0dXNDb2RlPXZvaWQgMDt2YXIgZT1jKDY1OCksdT1jKDg1MSksaD1jKDU1MCksZD1jKDU0NSksdz1jKDM5NCkscT1jKDY5MSksbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsZCxtLGMsayx4LHIpe3ZvaWQgMD09PXImJihyPXZvaWQgMCk7dGhpcy5yZXNvbHZlPWE7dGhpcy5yZWplY3Q9Yjt0aGlzLmlpZD1kO3RoaXMub2lkPW07dGhpcy5jYmlkPWM7dGhpcy5vbmVTaG90PWs7dGhpcy5taWQ9eDt0aGlzLmNvbXBsZXRpb25fY2I9cn19KCksazsoZnVuY3Rpb24oYSl7YVthLnJwY19zdGF0dXNfc3VjY2Vzcz0wXT1cInJwY19zdGF0dXNfc3VjY2Vzc1wiO2FbYS5ycGNfc3RhdHVzX3Vuc3BlY2lmaWVkX2Vycm9yPTFdPVwicnBjX3N0YXR1c191bnNwZWNpZmllZF9lcnJvclwiO2FbYS5ycGNfc3RhdHVzX3VuZXhwZWN0ZWQ9Ml09XCJycGNfc3RhdHVzX3VuZXhwZWN0ZWRcIjthW2EucnBjX3N0YXR1c19pbmRleF9vdXRfb2ZfYm91bmRzPTNdPVwicnBjX3N0YXR1c19pbmRleF9vdXRfb2ZfYm91bmRzXCI7XHJcbmFbYS5ycGNfc3RhdHVzX21pc3NpbmdfcGFyYW1ldGVyPTRdPVwicnBjX3N0YXR1c19taXNzaW5nX3BhcmFtZXRlclwiO2FbYS5ycGNfc3RhdHVzX21pc3NpbmdfcmV0dXJuX3ZhbHVlPTVdPVwicnBjX3N0YXR1c19taXNzaW5nX3JldHVybl92YWx1ZVwiO2FbYS5ycGNfc3RhdHVzX2ludmFsaWRfb2JqZWN0PTZdPVwicnBjX3N0YXR1c19pbnZhbGlkX29iamVjdFwiO2FbYS5ycGNfc3RhdHVzX3VzZXJfZXhjZXB0aW9uPTddPVwicnBjX3N0YXR1c191c2VyX2V4Y2VwdGlvblwiO2FbYS5ycGNfc3RhdHVzX3N5c3RlbV9lcnJvcj04XT1cInJwY19zdGF0dXNfc3lzdGVtX2Vycm9yXCJ9KShrPWEuV2VicnBjU3RhdHVzQ29kZXx8KGEuV2VicnBjU3RhdHVzQ29kZT17fSkpO3ZhciB2OyhmdW5jdGlvbihhKXthW2EuTm90UmVkaXJlY3RlZD0wXT1cIk5vdFJlZGlyZWN0ZWRcIjthW2EuQ29ubmVjdGluZz0xXT1cIkNvbm5lY3RpbmdcIjthW2EuQmluZGluZz0yXT1cIkJpbmRpbmdcIjthW2EuUmVkaXJlY3RlZD0zXT1cIlJlZGlyZWN0ZWRcIn0pKHY9XHJcbmEuUmVkaXJlY3Rpb25TdGF0dXN8fChhLlJlZGlyZWN0aW9uU3RhdHVzPXt9KSk7Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnNlc3Npb25JZF89XCJcIjt0aGlzLmhhbmRsZXJzXz1bXTt0aGlzLnBpbmdhY3RpdmU9ITE7dGhpcy5zdGF0dXM9di5Ob3RSZWRpcmVjdGVkO3RoaXMucmVxcz1bXTt0aGlzLmNicz1bXTt0aGlzLmRlZmVycmVkQWN0aW9ucz1bXTt0aGlzLnRlbGVtZXRyeV89bmV3IHcuVGVsZW1ldHJ5O3RoaXMuc2NyZWVuc2hhcmVfPW5ldyBxLlNjcmVlblNoYXJlVXRpbDt0aGlzLnN0YXRlQ2hhbmdlTm90aWZjYXRpb25zPVtdO3RoaXMudmRhZmVhdHVyZXNfPVtdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcInRlbGVtZXRyeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWxlbWV0cnlffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcInNjcmVlbnNoYXJlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcmVlbnNoYXJlX30sXHJcbmVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7YS5wcm90b3R5cGUuc2V0UmVtb3RlU2Vzc2lvbkluZm9DYj1mdW5jdGlvbihhKXt0aGlzLnJlbW90ZVNlc3Npb25JbmZvQ2I9YX07YS5wcm90b3R5cGUuc2V0RmVhdHVyZXM9ZnVuY3Rpb24oYSl7dGhpcy5mZWF0dXJlcz1hO3RoaXMuc2NyZWVuc2hhcmUub25Jbml0Q29tcGxldGUoKTt0aGlzLmhhbmRsZXJzXy5mb3JFYWNoKGZ1bmN0aW9uKGIsZCl7Yi5pbml0KGEpfSl9O2EucHJvdG90eXBlLmdldEZlYXR1cmVWYWx1ZT1mdW5jdGlvbihhKXtpZih0aGlzLmZlYXR1cmVzKXt2YXIgYj10aGlzLmZlYXR1cmVzLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZT09PWF9KTtyZXR1cm4gdm9pZCAwIT09Yj9iLnZhbHVlOiExfXJldHVybiExfTthLnByb3RvdHlwZS5nZXRWREFGZWF0dXJlVmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PXRoaXMudmRhZmVhdHVyZXNfLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1cclxuYX0pPyEwOiExfTthLnByb3RvdHlwZS5vblJlZGlyZWN0aW9uQ29tcGxldGU9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuZGVmZXJyZWRBY3Rpb25zJiYwPHRoaXMuZGVmZXJyZWRBY3Rpb25zLmxlbmd0aDspdGhpcy5kZWZlcnJlZEFjdGlvbnMuc2hpZnQoKS5wb3N0KHRoaXMuc3RhdHVzPT12LlJlZGlyZWN0ZWQpfTthLnByb3RvdHlwZS5jb25uZWN0VG9TZXJ2aWNlPWZ1bmN0aW9uKCl7dS5sb2dnZXIubG9nKFwiUmVkaXJlY3Rpb24gc3RhdHVzOiBDb25uZWN0aW5nLi4uXCIpO3RoaXMuc3RhdHVzPXYuQ29ubmVjdGluZztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSxiKXt2YXIgZD1uZXcgV2ViU29ja2V0KFwid3NzOi8vMTI3LjAuMC4xOjkwMDJcIik7ZC5vbm9wZW49ZnVuY3Rpb24oKXthKGQpfTtkLm9uZXJyb3I9ZnVuY3Rpb24oYSl7dS5sb2dnZXIubG9nKFwid2Vic29ja2V0IGNvbm5lY3Rpb24gZXJyb3I6IFwiK2EudHlwZSk7YihhKX19KX07YS5wcm90b3R5cGUud2FpdFVudGlsUmVkaXJlY3RlZD1cclxuZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxjKXtiLnN0YXR1cz09di5SZWRpcmVjdGVkP2QoKTowPj1hP2MoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5sb2dnZXIubG9nKFwid2FpdFVudGlsUmVkaXJlY3RlZCgpIHRpbWVvdXQuIGNvdW50PVwiK2EpO2Iuc3RhdHVzIT12LlJlZGlyZWN0ZWQ/Yi53YWl0VW50aWxSZWRpcmVjdGVkKC0tYSkudGhlbihmdW5jdGlvbigpe2QoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtjKCl9KTpkKCl9LDJFMyl9KX07YS5wcm90b3R5cGUuaGFuZGxlUmVtb3RlU2Vzc2lvbkluZm89ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3UubG9nZ2VyLmxvZyhcImhhbmRsZVJlbW90ZVNlc3Npb25JbmZvIGNhbGxlZC5cIik7dmFyIGI9dGhpcztiLnJlbW90ZVNlc3Npb25JbmZvQ2I/Yi5yZW1vdGVTZXNzaW9uSW5mb0NiKCkudGhlbihmdW5jdGlvbihkKXt1LmxvZ2dlci5sb2coXCJyZW1vdGVTZXNzaW9uSW5mbyBzdWNjZXNzISBpbmZvOlwiK1xyXG5KU09OLnN0cmluZ2lmeShkKSk7dS5sb2dnZXIubG9nKFwiUmVkaXJlY3Rpb24gc3RhdHVzOiBSZWRpcmVjdGVkXCIpO2Iuc3RhdHVzPXYuUmVkaXJlY3RlZDtiLnBpbmdDb25uZWN0aW9uRW5kKCk7KGQ9d2luZG93Lm9uVmRpQ2xpZW50Q29ubmVjdGVkKSYmZCgpO2EudGVsZW1ldHJ5LlNlbmRUZWxlbWV0cnlJbml0KCk7Yi5vblJlZGlyZWN0aW9uQ29tcGxldGUoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt1LmxvZ2dlci5sb2coXCJyZW1vdGVTZXNzaW9uSW5mbyBmYWlsdXJlIVwiKTtiLnN1c3BlbmRSZWRpcmVjdGlvbighMCk7Yi5vblJlZGlyZWN0aW9uQ29tcGxldGUoKX0pOih1LmxvZ2dlci5sb2coXCJyZW1vdGVTZXNzaW9uSW5mb0NiIGlzIGludmFsaWQhXCIpLGIuc3VzcGVuZFJlZGlyZWN0aW9uKCEwKSxiLm9uUmVkaXJlY3Rpb25Db21wbGV0ZSgpKX07YS5wcm90b3R5cGUuc3RhcnRSZWRpcmVjdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsYz13aW5kb3cub25WZGlDbGllbnREaXNjb25uZWN0ZWQ7XHJcbnJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihnLGspe2Quc3RhdHVzIT12LlJlZGlyZWN0ZWQ/KHUubG9nZ2VyLmxvZyhcIkF0dGVtcHRpbmcgdG8gc3RhcnQgcmVkaXJlY3Rpb246IFwiK2IpLCExPT09YT9kLmRlZmVycmVkQWN0aW9ucy5wdXNoKG5ldyBlLmRlZmVycmVkX2FjdGlvbihnLGssYikpOmQuY29ubmVjdFRvU2VydmljZSgpLnRoZW4oZnVuY3Rpb24oYSl7dS5sb2dnZXIubG9nKFwiUmVkaXJlY3Rpb24gc3RhdHVzOiBCaW5kaW5nLi4uXCIpO2Quc3RhdHVzPXYuQmluZGluZztkLndlYnNvY2tldD1hO2Qud2Vic29ja2V0Lm9ubWVzc2FnZT1mdW5jdGlvbihhKXtkLm9uV1NNZXNzYWdlKGEpfTtkLndlYnNvY2tldC5vbmNsb3NlPWZ1bmN0aW9uKGEpe2Qub25XU0Nsb3NlKGEpfTtnKCk7ZC5oYW5kbGVSZW1vdGVTZXNzaW9uSW5mbygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXt1LmxvZ2dlci5sb2coXCJVbmFibGUgdG8gY29ubmVjdCB0byB3ZWJzb2NrZXQgc2VydmljZSEgXCIrYSk7XHJcbmsoKTtkLnN1c3BlbmRSZWRpcmVjdGlvbighMCk7ZC5vblJlZGlyZWN0aW9uQ29tcGxldGUoKTtjJiZjKCEwKX0pKToodS5sb2dnZXIubG9nKFwiUmVkaXJlY3Rpb24gYWxyZWFkeSBzdGFydGVkLlwiKSxnKCkpfSl9O2EucHJvdG90eXBlLnRlcm1pbmF0ZU9wdGltaXphdGlvbj1mdW5jdGlvbigpe3RoaXMud2Vic29ja2V0LmNsb3NlKDFFMyxcIm5vcm1hbCBkaXNjb25uZWN0aW5nIVwiKX07YS5wcm90b3R5cGUuc3VzcGVuZFJlZGlyZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dS5sb2dnZXIubG9nKFwiU3VzcGVuZGluZyByZWRpcmVjdGlvbi5cIik7dGhpcy5oYW5kbGVyc18uZm9yRWFjaChmdW5jdGlvbihhLGIpe2EucmVzZXQoKX0pO3ZhciBkPXdpbmRvdy5vblZkaUNsaWVudERpc2Nvbm5lY3RlZDt0cnl7ZCYmZCghMSl9Y2F0Y2goYyl7dS5sb2dnZXIubG9nKFwic3VzcGVuZFJlZGlyZWN0aW9uKCk6IGV4Y2VwdGlvbiBkdXJpbmcgdmRpQ2xpZW50RGlzY29ubmVjdDogXCIrYy5tZXNzYWdlKX11LmxvZ2dlci5sb2coXCJSZWRpcmVjdGlvbiBzdGF0dXM6IE5vdFJlZGlyZWN0ZWRcIik7XHJcbnZhciBnPXRoaXMuc3RhdHVzO3RoaXMuc3RhdHVzPXYuTm90UmVkaXJlY3RlZDt2YXIgaz0hMSxkPXdpbmRvdy5nZXRDaXRyaXhNU1RlYW1zUmVkaXIseD13aW5kb3cuZ2V0Q2l0cml4V2VicnRjUmVkaXIscjtkP3I9ZDp4JiYocj14KTtyJiZyKCkudGhlbihmdW5jdGlvbihkKXt1LmxvZ2dlci5sb2coXCJzdWNlc3NzIG9uIGRpc2Nvbm5lY3RcIitkKTtcIjFcIj09ZCYmKGs9ITAsdS5sb2dnZXIubG9nKFwiUmVnIGtleSBleGlzdHMgd2hpbGUgZGlzY29ubmVjdGluZ1wiKSk7YSYmZz09PXYuUmVkaXJlY3RlZCYmMT09ayYmKHUubG9nZ2VyLmxvZyhcIkNhbGxpbmcgcGluZyBub3Qgbm9ybWFsIGRpc2Nvbm5lY3RcIiksYi5waW5nQ29ubmVjdGlvbkJlZ2luKCExKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7dS5sb2dnZXIubG9nKFwiRmFpbHVyZSB0byBSZWFkIE1TIFRlYW1zIHJlZGlyIFJlZyBLZXksIG5vdCByZXRyeWluZy4uLlwiKX0pO3RoaXMuZGlzcGF0Y2hTdGF0ZUNoYW5nZU5vdGlmaWNhdGlvbnMoKX07XHJcbmEucHJvdG90eXBlLm9uV1NPcGVuPWZ1bmN0aW9uKCl7fTthLnByb3RvdHlwZS5vbldTQ2xvc2U9ZnVuY3Rpb24oYSl7dS5sb2dnZXIubG9nKFwiZGlzY29ubmVjdGVkIGZyb20gd2Vic29ja2V0IHNlcnZpY2UuIFwiK0pTT04uc3RyaW5naWZ5KGEpKTt0cnl7YSYmMUUzPT1hLmNvZGU/dGhpcy5zdXNwZW5kUmVkaXJlY3Rpb24oITEpOnRoaXMuc3VzcGVuZFJlZGlyZWN0aW9uKCEwKX1jYXRjaChiKXt1LmxvZ2dlci5sb2coXCJzdXNwZW5kUmVkaXJlY3Rpb24oKTogZXhjZXB0aW9uIGNsb3NpbmcgV2ViU29ja2V0OiBcIitiLm1lc3NhZ2UpfX07YS5wcm90b3R5cGUub25XU0Vycm9yPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuc3VzcGVuZFJlZGlyZWN0aW9uKCEwKX1jYXRjaChhKXt1LmxvZ2dlci5sb2coXCJzdXNwZW5kUmVkaXJlY3Rpb24oKTogZXhjZXB0aW9uIG9uIFdlYlNvY2tldCBlcnJvcjogXCIrYS5tZXNzYWdlKX19O2EucHJvdG90eXBlLldTU2VuZE9iamVjdFdyYXBwZXI9ZnVuY3Rpb24oYSxcclxuYixkLGMpe3ZhciBnPSEwO2IhPWguY2xhc3NfaWRfdC5FbmdpbmVDb250cm9sfHxkIT1oLm1ldGhvZF9pZF9FbmdpbmVDb250cm9sX3QuY3RvciYmZCE9aC5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90LnZlcnNpb24mJmQhPWgubWV0aG9kX2lkX0VuZ2luZUNvbnRyb2xfdC5mZWF0dXJlX2ZsYWdzfHwoZz0hMSk7dmFyIGs9ITA7aWYoZyYmKGs9ITEsdm9pZCAwIT10aGlzLmZlYXR1cmVzKSlmb3IodmFyIGc9MCxyPXRoaXMuZmVhdHVyZXM7ZzxyLmxlbmd0aDtnKyspe3ZhciBBPXJbZ107aWYoITA9PT1BLnZhbHVlJiZBLm5hbWU9PWEpe2s9ITA7YnJlYWt9fXJldHVybiAxPT1rP3RoaXMuV1NTZW5kT2JqZWN0KGMpOlByb21pc2UucmVqZWN0KFwiQ2Fubm90IGludm9rZSBtZXRob2QgdGhhdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHdlYnJwYzogaWlkKFwiK2IrXCIpIG1pZChcIitkK1wiKVwiKX07YS5wcm90b3R5cGUuV1NTZW5kT2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsXHJcbmMpe2lmKFwid2VicnRjXCI9PWEudil7dmFyIGc9YS5oZHIucHJvYy5paWQsaz1hLmhkci5wcm9jLm1ldGhvZGlkLHI9YS5vYmpyZWYub2lkO2EuaGRyLmRlc3Ryb3l8fChnPW5ldyBuKGQsYyxnLHIsMCwhMCxrKSxiLnJlcXMucHVzaChnKSk7Zz1KU09OLnN0cmluZ2lmeShhKTt1LmxvZ2dlci50cmFjZShcIldTU2VuZE9iamVjdDogPj4+IFwiK2guV2VicnBjQ2xhc3NMaWJJbmZvVXRpbC5jb21wb3NlQ2xhc3NJbmZvRGF0YShhKStcIiBcIitnKTt0cnl7Yi53ZWJzb2NrZXQucmVhZHlTdGF0ZT09V2ViU29ja2V0Lk9QRU4/Yi53ZWJzb2NrZXQuc2VuZChnKToodS5sb2dnZXIubG9nKFwiV1NTZW5kT2JqZWN0KCk6IHdhcmluaWc6IHdlYiBzb2NrZXQgaXMgbm90IG9wZW4sIGRyb3BwaW5nIHRoZSBtZXNzYWdlIVwiKSxkKHt9KSl9Y2F0Y2goQSl7dS5sb2dnZXIubG9nKFwiV1NTZW5kT2JqZWN0KCk6IGV4Y2VwdGlvbjogXCIrQS5tZXNzYWdlKSxjKEEubWVzc2FnZSl9fWVsc2UgaWYoXCJvdmVybGF5XCI9PVxyXG5hLnYpe2c9SlNPTi5zdHJpbmdpZnkoYSk7dS5sb2dnZXIubG9nKFwiSERYTVM6IFNlbmRPdmVybGF5RGF0YTogPj4+IFwiK2crXCInXCIpO3RyeXtiLndlYnNvY2tldC5yZWFkeVN0YXRlPT1XZWJTb2NrZXQuT1BFTj9iLndlYnNvY2tldC5zZW5kKGcpOih1LmxvZ2dlci5sb2coXCJXU1NlbmRPYmplY3QoKTogd2FyaW5pZzogd2ViIHNvY2tldCBpcyBub3Qgb3BlbiwgZHJvcHBpbmcgdGhlIG1lc3NhZ2UhXCIpLGQoe30pKX1jYXRjaChBKXt1LmxvZ2dlci5sb2coXCJXU1NlbmRPYmplY3QoKTogZXhjZXB0aW9uOiBcIitBLm1lc3NhZ2UpLGMoQS5tZXNzYWdlKX19ZWxzZSBpZihcInRlbGVtZXRyeVwiPT1hLnYpe2c9SlNPTi5zdHJpbmdpZnkoYSk7dS5sb2dnZXIubG9nKFwiSERYTVM6IFNlbmRUZWxlbWV0cnlEYXRhOiA+Pj4gXCIrZytcIidcIik7dHJ5e2Iud2Vic29ja2V0LnJlYWR5U3RhdGU9PVdlYlNvY2tldC5PUEVOP2Iud2Vic29ja2V0LnNlbmQoZyk6KHUubG9nZ2VyLmxvZyhcIldTU2VuZE9iamVjdCgpOiB3YXJpbmlnOiB3ZWIgc29ja2V0IGlzIG5vdCBvcGVuLCBkcm9wcGluZyB0aGUgbWVzc2FnZSFcIiksXHJcbmQoe30pKX1jYXRjaChBKXt1LmxvZ2dlci5sb2coXCJXU1NlbmRPYmplY3QoKTogZXhjZXB0aW9uOiBcIitBLm1lc3NhZ2UpLGMoQS5tZXNzYWdlKX19ZWxzZSBpZihcImFwcHNoYXJpbmdcIj09YS52KXtnPUpTT04uc3RyaW5naWZ5KGEpO3UubG9nZ2VyLmxvZyhcIkhEWE1TOiBTZW5kU2NyZWVuU2hhcmluZ0RhdGE6ID4+PiBcIitnK1wiJ1wiKTt0cnl7Yi53ZWJzb2NrZXQucmVhZHlTdGF0ZT09V2ViU29ja2V0Lk9QRU4/Yi53ZWJzb2NrZXQuc2VuZChnKToodS5sb2dnZXIubG9nKFwiV1NTZW5kT2JqZWN0KCk6IHdhcmluaWc6IHdlYiBzb2NrZXQgaXMgbm90IG9wZW4sIGRyb3BwaW5nIHRoZSBtZXNzYWdlIVwiKSxkKHt9KSl9Y2F0Y2goQSl7dS5sb2dnZXIubG9nKFwiV1NTZW5kT2JqZWN0KCk6IGV4Y2VwdGlvbjogXCIrQS5tZXNzYWdlKSxjKEEubWVzc2FnZSl9fWVsc2UgdS5sb2dnZXIubG9nKFwiSERYTVM6IFdTU2VuZE9iamVjdDogVW5rbm93biBwcm90b2NvbDogJ1wiK0pTT04uc3RyaW5naWZ5KGEpK1xyXG5cIidcIil9KX07YS5wcm90b3R5cGUud2VicnBjU3RhdHVzQ29kZVRvTmFtZT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBrLnJwY19zdGF0dXNfc3VjY2VzczphPVwicnBjX3N0YXR1c19zdWNjZXNzXCI7YnJlYWs7Y2FzZSBrLnJwY19zdGF0dXNfdW5zcGVjaWZpZWRfZXJyb3I6YT1cInJwY19zdGF0dXNfdW5zcGVjaWZpZWRfZXJyb3JcIjticmVhaztjYXNlIGsucnBjX3N0YXR1c191bmV4cGVjdGVkOmE9XCJycGNfc3RhdHVzX3VuZXhwZWN0ZWRcIjticmVhaztjYXNlIGsucnBjX3N0YXR1c19pbmRleF9vdXRfb2ZfYm91bmRzOmE9XCJycGNfc3RhdHVzX2luZGV4X291dF9vZl9ib3VuZHNcIjticmVhaztjYXNlIGsucnBjX3N0YXR1c19taXNzaW5nX3BhcmFtZXRlcjphPVwicnBjX3N0YXR1c19taXNzaW5nX3BhcmFtZXRlclwiO2JyZWFrO2Nhc2Ugay5ycGNfc3RhdHVzX21pc3NpbmdfcmV0dXJuX3ZhbHVlOmE9XCJycGNfc3RhdHVzX21pc3NpbmdfcmV0dXJuX3ZhbHVlXCI7YnJlYWs7Y2FzZSBrLnJwY19zdGF0dXNfaW52YWxpZF9vYmplY3Q6YT1cclxuXCJycGNfc3RhdHVzX2ludmFsaWRfb2JqZWN0XCI7YnJlYWs7Y2FzZSBrLnJwY19zdGF0dXNfdXNlcl9leGNlcHRpb246YT1cInJwY19zdGF0dXNfdXNlcl9leGNlcHRpb25cIjticmVhaztjYXNlIGsucnBjX3N0YXR1c19zeXN0ZW1fZXJyb3I6YT1cInJwY19zdGF0dXNfc3lzdGVtX2Vycm9yXCI7YnJlYWs7ZGVmYXVsdDphPVwidW5rbm93blwifXJldHVybiBhfTthLnByb3RvdHlwZS5wYXJjZVdlYnJwY0Vycm9yPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YSYmKGE9YiYmMDxiLmxlbmd0aD9iWzBdLmNhdGVnb3J5fHxiWzBdLmNvZGV8fGJbMF0ubWVzc2FnZT9rLnJwY19zdGF0dXNfc3lzdGVtX2Vycm9yOmsucnBjX3N0YXR1c191c2VyX2V4Y2VwdGlvbjprLnJwY19zdGF0dXNfdW5zcGVjaWZpZWRfZXJyb3IpO3ZhciBkO3N3aXRjaChhKXtjYXNlIGsucnBjX3N0YXR1c191bnNwZWNpZmllZF9lcnJvcjpjYXNlIGsucnBjX3N0YXR1c191bmV4cGVjdGVkOmNhc2Ugay5ycGNfc3RhdHVzX2luZGV4X291dF9vZl9ib3VuZHM6Y2FzZSBrLnJwY19zdGF0dXNfbWlzc2luZ19wYXJhbWV0ZXI6Y2FzZSBrLnJwY19zdGF0dXNfbWlzc2luZ19yZXR1cm5fdmFsdWU6Y2FzZSBrLnJwY19zdGF0dXNfaW52YWxpZF9vYmplY3Q6ZD1cclxubmV3IERPTUV4Y2VwdGlvbih0aGlzLndlYnJwY1N0YXR1c0NvZGVUb05hbWUoYSksdGhpcy53ZWJycGNTdGF0dXNDb2RlVG9OYW1lKGEpKTticmVhaztjYXNlIGsucnBjX3N0YXR1c191c2VyX2V4Y2VwdGlvbjpkPWImJjA8Yi5sZW5ndGg/bmV3IERPTUV4Y2VwdGlvbihiWzBdLHRoaXMud2VicnBjU3RhdHVzQ29kZVRvTmFtZShhKSk6bmV3IERPTUV4Y2VwdGlvbih0aGlzLndlYnJwY1N0YXR1c0NvZGVUb05hbWUoYSksdGhpcy53ZWJycGNTdGF0dXNDb2RlVG9OYW1lKGEpKTticmVhaztjYXNlIGsucnBjX3N0YXR1c19zeXN0ZW1fZXJyb3I6aWYoYiYmMDxiLmxlbmd0aCl7ZD1PYmplY3QuY3JlYXRlKERPTUV4Y2VwdGlvbik7dmFyIGc9e3ZhbHVlOm51bGwsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxDb25maWd1cmFibGU6ITB9O2cudmFsdWU9YlswXS5jYXRlZ29yeTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxcIm5hbWVcIixnKTtnLnZhbHVlPWJbMF0uY29kZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxcclxuXCJjb2RlXCIsZyk7Zy52YWx1ZT1iWzBdLm1lc3NhZ2U7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsXCJtZXNzYWdlXCIsZyl9ZWxzZSBkPW5ldyBET01FeGNlcHRpb24odGhpcy53ZWJycGNTdGF0dXNDb2RlVG9OYW1lKGEpLHRoaXMud2VicnBjU3RhdHVzQ29kZVRvTmFtZShhKSl9cmV0dXJuIGR9O2EucHJvdG90eXBlLm9uV1NNZXNzYWdlPWZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiO3RyeXtiPUpTT04ucGFyc2UoYSl9Y2F0Y2goZyl7dS5sb2dnZXIubG9nKFwiaW52YWxpZCBKU09OISEhXCIpO3UubG9nZ2VyLmxvZyhnKTt1LmxvZ2dlci5sb2coYSk7cmV0dXJufWlmKFwid2VicnRjXCI9PWIudil7dS5sb2dnZXIudHJhY2UoXCJvbldTTWVzc2FnZTogPDw8IFwiK2guV2VicnBjQ2xhc3NMaWJJbmZvVXRpbC5jb21wb3NlQ2xhc3NJbmZvRGF0YShiKStcIiBcIithKTt2YXIgYz1iLmhkci5wcm9jLmlpZCxrPWIuaGRyLnByb2MubWV0aG9kaWQsZT1iLm9ianJlZi5vaWQseD1iLnN0YXR1cztpZihiLmhkci5tc2dfdHlwZT09XHJcbmQuV3NKc29uVXRpbC5nZXRNc2dUeXBlKGQud3NfbXNnX3R5cGVfdC5yZXBseSkpYT10aGlzLnJlcXMuZmluZEluZGV4KGZ1bmN0aW9uKGEpe3JldHVybiBhLmlpZD09YyYmYS5vaWQ9PWUmJmEubWlkPT1rfSksMDw9YT8wPT14P3RoaXMucmVxcy5zcGxpY2UoYSwxKS5zaGlmdCgpLnJlc29sdmUoYik6KHg9dGhpcy5wYXJjZVdlYnJwY0Vycm9yKHgsYi5wYXJhbXMpLHRoaXMucmVxcy5zcGxpY2UoYSwxKS5zaGlmdCgpLnJlamVjdCh4KSk6KHUubG9nZ2VyLmxvZyhcIkhEWE1TIGRpZG50IGZpbmQgdGhpcyBvbmUuIChyZXFzKVwiKSx1LmxvZ2dlci5sb2codGhpcy5yZXFzKSk7ZWxzZSBpZihiLmhkci5tc2dfdHlwZT09ZC5Xc0pzb25VdGlsLmdldE1zZ1R5cGUoZC53c19tc2dfdHlwZV90LmV2ZW50X3JlcSkpe3ZhciByPWIuZnVuYy5pZDthPXRoaXMuY2JzLmZpbmRJbmRleChmdW5jdGlvbihhKXtyZXR1cm4gYS5paWQ9PWMmJmEub2lkPT1lJiZhLmNiaWQ9PXI+PjE2fSk7MDw9YT8oMD09XHJcbihyJjY1NTM1KT90aGlzLmNic1thXS5yZXNvbHZlKGIpOih4PXRoaXMucGFyY2VXZWJycGNFcnJvcih4LGIucGFyYW1zKSx0aGlzLmNic1thXS5yZWplY3QoeCkpLDE9PXRoaXMuY2JzW2FdLm9uZVNob3QmJih0aGlzLmNic1thXS5jb21wbGV0aW9uX2NiP3RoaXMuY2JzW2FdLmNvbXBsZXRpb25fY2IodGhpcy5jYnNbYV0uY2JpZCx0aGlzLmNic1thXS5taWQpOnUubG9nZ2VyLmxvZyhcIkhEWE1TIGRpZG50IGZpbmQgY29tcGxldGlvbl9jYiBmb3Igb25lU2hvdCBjYWxsYmFjaywgc29tZXRoaW5nIHdlbnQgd3JvbmchISEhIGNiaWQ9XCIrdGhpcy5jYnNbYV0uY2JpZCtcIiAoaWlkLCBtaWQpPShcIit0aGlzLmNic1thXS5paWQsXCIsXCIrdGhpcy5jYnNbYV0ubWlkK1wiKVwiKSkpOih1LmxvZ2dlci5sb2coXCJIRFhNUyBkaWRudCBmaW5kIHRoaXMgb25lLiAoY2JzKVwiKSx1LmxvZ2dlci5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5jYnMpKSl9ZWxzZSB1LmxvZ2dlci5sb2coXCJIRFhNUyBSZWNlaXZlZCBib2d1cyBtZXNzYWdlOiBcIitcclxuYStcIidcIil9ZWxzZSBpZihcInRlbGVtZXRyeVwiPT1iLnYpMD09Yi5zdGF0dXMmJih4PWIuaGRyLmNvbW1hbmQsMj09KHgmMjE0NzQ4MzY0NykmJihhPWIuaGRyLmlkLHRoaXMudGVsZW1ldHJ5Lm9uSW5pdGlhbGl6ZWQoYSksdS5sb2dnZXIubG9nKFwiVGVsZW1ldHJ5IGluaXQgcmVzcG9uc2UgcmVjZWl2ZWRcIikpKTtlbHNlIGlmKFwiZmVhdHVyZXNcIj09Yi52KXthPWIuZmVhdHVyZXM7aWYoXCJmZWF0dXJlLXN1cHBvcnRcIj09Yi5jb21tYW5kKWZvcih1LmxvZ2dlci5sb2coXCJmZWF0dXJlcyBjYXBhYmlsaXRpZXMgcmVjZWl2ZWQsIGZlYXR1cmVzOlwiK2EpLHRoaXMudmRhZmVhdHVyZXNfPWEseD0wO3g8YS5sZW5ndGg7eCsrKWlmKGFbeF09PT1oLkZFQVRVUkVfdmRhX2FwcF9zaGFyaW5nKXRoaXMuc2NyZWVuc2hhcmUub25Jbml0aWFsaXplZCghMCk7dGhpcy5jbGllbnRWaWV3cG9ydE1vZGVfPWIuY2xpZW50X3ZpZXdwb3J0X21vZGU7dS5sb2dnZXIubG9nKFwiZmVhdHVyZXMgY2xpZW50X3ZpZXdwb3J0X21vZGUgdmFsdWU6IFwiK1xyXG50aGlzLmNsaWVudFZpZXdwb3J0TW9kZV8pO3RoaXMuc2Vzc2lvbklkXz1iLmNsaWVudF9zZXNzaW9uX2lkfWVsc2UgaWYoXCJhcHBzaGFyaW5nXCI9PWIudilhPWIuc3RhdHVzLDA9PWE/KHg9Yi5oZHIuY29tbWFuZCxhPWIuaGRyLmlkLCh4JjIxNDc0ODM2NDcpPT1xLnNzaGFyZV9jbWQuR2V0U291cmNlcz8odS5sb2dnZXIubG9nKFwiYXBwc2hhcmluZyBHZXRTb3VyY2VzIHJlc3BvbnNlIHJlY2VpdmVkXCIpLHg9Yi5kYXRhLHRoaXMuc2NyZWVuc2hhcmUub25HZXRTb3VyY2VzKGEseCkpOih4JjIxNDc0ODM2NDcpPT1xLnNzaGFyZV9jbWQuU2V0QWN0aXZlPyh1LmxvZ2dlci5sb2coXCJhcHBzaGFyaW5nIFNldEFjdGl2ZSByZXNwb25zZSByZWNlaXZlZFwiKSx4PWIuZGF0YSx0aGlzLnNjcmVlbnNoYXJlLm9uU2V0QWN0aXZlKGEseCkpOih4JjIxNDc0ODM2NDcpPT1xLnNzaGFyZV9jbWQuVG9wb2xvZ3lDaGFuZ2VkPyh1LmxvZ2dlci5sb2coXCJhcHBzaGFyaW5nIFdpbmRvdyB0b3BvbG9neSBjaGFuZ2VkIGNtZCByZWNlaXZlZFwiKSxcclxudGhpcy5zY3JlZW5zaGFyZS5vblRvcGxvZ3lDaGFuZ2VkKCkpOih1LmxvZ2dlci5sb2coXCJpbnZhbGlkIGNvbW1hbmQgcmVwbHk6XCIreCksdGhpcy5zY3JlZW5zaGFyZS5vbkVycm9yKGEpKSk6KHUubG9nZ2VyLmxvZyhcImludmFsaWQgc3RhdHVzIHJlcGx5OlwiK2EpLGE9Yi5oZHIuaWQsdGhpcy5zY3JlZW5zaGFyZS5vbkVycm9yKGEpKTtlbHNlIGlmKHg9dGhpcy5oYW5kbGVyc18uZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1iLnZ9KSx2b2lkIDAhPXgpeC5vbl9tZXNzYWdlKGIpO2Vsc2UgdS5sb2dnZXIubG9nKFwiSERYTVM6IG9uV1NNZXNzYWdlOiBVbmtub3duIHByb3RvY29sOiBcIithK1wiJ1wiKX07YS5wcm90b3R5cGUuY2xlYXJSZXFzPWZ1bmN0aW9uKCl7dS5sb2dnZXIubG9nKFwiY2xlYXJSZXFzKClcIik7dGhpcy5yZXFzLmZvckVhY2goZnVuY3Rpb24oYSxiKXthLnJlamVjdCgpfSk7dGhpcy5yZXFzPVtdfTthLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXI9ZnVuY3Rpb24oYSxcclxuYixkLGcpe2E9bmV3IG4oZy5yZXNvbHZlLmJpbmQoZyksZy5yZWplY3QuYmluZChnKSxhLGIsZy5pZCxnLm9uZVNob3QsZCxnLmNvbXBsZXRpb25fY2IpO3RoaXMuY2JzLnB1c2goYSl9O2EucHJvdG90eXBlLnVucmVnaXN0ZXJIYW5kbGVyPWZ1bmN0aW9uKGEsYixkKXt2YXIgZz10aGlzLmNicy5maW5kSW5kZXgoZnVuY3Rpb24oZyl7cmV0dXJuIGcuaWlkPT1hJiZnLm9pZD09YiYmZy5jYmlkPT1kfSk7MDw9Zz90aGlzLmNicy5zcGxpY2UoZywxKToodS5sb2dnZXIubG9nKFwiSERYTVMgRGlkbnQgZmluZCB0aGlzIGNhbGxiYWNrIGluIHRoZSBsaXN0IVwiKSx1LmxvZ2dlci5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5jYnMpKSl9O2EucHJvdG90eXBlLmlzUmVkaXJlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz09PXYuUmVkaXJlY3RlZHx8dGhpcy5zdGF0dXM9PT12LkJpbmRpbmd8fHRoaXMuc3RhdHVzPT09di5Db25uZWN0aW5nfTthLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1cclxuZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXM9PXYuUmVkaXJlY3RlZH07YS5wcm90b3R5cGUuaXNQaW5nQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGluZ2FjdGl2ZX07YS5wcm90b3R5cGUucGluZ0Nvbm5lY3Rpb25CZWdpbj1mdW5jdGlvbihhKXt1LmxvZ2dlci5sb2coXCJTdGFydGVkIHRpbWVyXCIpO3RoaXMucGluZ2FjdGl2ZT0hMDt2YXIgYj13aW5kb3cub25WZGlDbGllbnREaXNjb25uZWN0ZWRUaW1lcjsxPT1hPyh1LmxvZ2dlci5sb2coXCJjaGVja2luZyBpZiB3ZSBhcmUgY29ubmVjdGVkLi4uXCIpLGIoKSk6dGhpcy5jb25udGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3UubG9nZ2VyLmxvZyhcImNoZWNraW5nIGlmIHdlIGFyZSBjb25uZWN0ZWQuLi5cIik7YiYmYigpfSwxNUUzKX07YS5wcm90b3R5cGUucGluZ0Nvbm5lY3Rpb25FbmQ9ZnVuY3Rpb24oKXt0aGlzLnBpbmdhY3RpdmU9ITE7Y2xlYXJUaW1lb3V0KHRoaXMuY29ubnRpbWVyKX07YS5wcm90b3R5cGUuU2VuZFRlbGVtZXRyeURhdGFfU3BlYWtlcj1cclxuZnVuY3Rpb24oYSl7dGhpcy50ZWxlbWV0cnkuU2VuZFRlbGVtZXRyeURhdGEody50ZWxfY21kLkRhdGEsdy50ZWxfa2V5X1NwZWFrZXJEZXZpY2VVc2VkLGEsMCl9O2EucHJvdG90eXBlLnJlZ2lzdGVyU3RhdGVDaGFuZ2VOb3RpZmljYXRpb249ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZUNoYW5nZU5vdGlmY2F0aW9ucy5wdXNoKGEpfTthLnByb3RvdHlwZS51bnJlZ2lzdGVyU3RhdGVDaGFuZ2VOb3RpZmljYXRpb249ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZUNoYW5nZU5vdGlmY2F0aW9ucz10aGlzLnN0YXRlQ2hhbmdlTm90aWZjYXRpb25zLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYiE9YX0pfTthLnByb3RvdHlwZS5kaXNwYXRjaFN0YXRlQ2hhbmdlTm90aWZpY2F0aW9ucz1mdW5jdGlvbigpe3RoaXMuc3RhdGVDaGFuZ2VOb3RpZmNhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX07YS5wcm90b3R5cGUudmRhYnVmZmVyTm9MaW1pdD1mdW5jdGlvbigpe2Zvcih2YXIgYT0hMSxcclxuYj0wLGQ9dGhpcy52ZGFmZWF0dXJlc187YjxkLmxlbmd0aDtiKyspaWYoZFtiXT09PWguRkVBVFVSRV92ZGFfc2VydmljZV9ub19idWZmZXJfbGltaXQpe2E9ITA7YnJlYWt9cmV0dXJuIGF9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcImNsaWVudFZpZXdwb3J0TW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGllbnRWaWV3cG9ydE1vZGVffHxcInVua25vd25cIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsXCJzZXNzaW9uQ2xpZW50SWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbklkX3x8XCJcIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTthLnByb3RvdHlwZS5hZGRQcm90b2NvbEhhbmRsZXI9ZnVuY3Rpb24oYSl7dm9pZCAwPT10aGlzLmhhbmRsZXJzXy5maW5kKGZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWEubmFtZX0pJiZ0aGlzLmhhbmRsZXJzXy5wdXNoKGEpfTtcclxucmV0dXJuIGF9KCk7YS5IZHhNZWRpYVN0cmVhbT1iO3ZhciB6PW5ldyBiO2EuZ2V0UmVkaXJlY3Rvcj1mdW5jdGlvbigpe3JldHVybiB6fX0sOTg1OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGQpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmKGFbZF09YltkXSl9O3JldHVybiBhKGIsZCl9O3JldHVybiBmdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWJ9YShiLGQpO2IucHJvdG90eXBlPW51bGw9PT1kP09iamVjdC5jcmVhdGUoZCk6KGMucHJvdG90eXBlPWQucHJvdG90eXBlLG5ldyBjKX19KCksdT10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgYT1cclxuMCxiPTAsZD1hcmd1bWVudHMubGVuZ3RoO2I8ZDtiKyspYSs9YXJndW1lbnRzW2JdLmxlbmd0aDtmb3IodmFyIGE9QXJyYXkoYSksYz0wLGI9MDtiPGQ7YisrKWZvcih2YXIgZT1hcmd1bWVudHNbYl0sZz0wLGg9ZS5sZW5ndGg7ZzxoO2crKyxjKyspYVtjXT1lW2ddO3JldHVybiBhfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLkljZUNhbmRpZGF0ZVBhaXI9YS5JY2VDYW5kaWRhdGU9dm9pZCAwO3ZhciBoPWMoNjU4KSxkPWMoNTUwKSx3PWMoODUxKTtiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxlLHope2Zvcih2YXIgZz1bXSxoPTM7aDxhcmd1bWVudHMubGVuZ3RoO2grKylnW2gtM109YXJndW1lbnRzW2hdO3JldHVybiBhLmFwcGx5KHRoaXMsdShbYyxkLmNsYXNzX2lkX3QuUlRDSWNlQ2FuZGlkYXRlLGUseixudWxsLFtdXSxnKSl8fHRoaXN9ZShiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImNhbmRpZGF0ZVwiLFxyXG57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuZGlkYXRlX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJzZHBNaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RwTWlkX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJzZHBNTGluZUluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNkcE1MaW5lSW5kZXhffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3LmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe2Euc3luY0JhcnJpZXJEZWVwKGIsYykmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiSWNlQ2FuZGlkYXRlLnN5bmNCYXJyaWVyXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLFxyXG5kLm1ldGhvZF9pZF9SVENJY2VDYW5kaWRhdGVfdC5jYW5kaWRhdGUsXCJcIiksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlX3Quc2RwTWlkLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZV90LnNkcE1MaW5lSW5kZXgsMCldKX0pLnRoZW4oZnVuY3Rpb24oYil7Yj1iLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTthLmNhbmRpZGF0ZV89YlswXTthLnNkcE1pZF89YlsxXTthLnNkcE1MaW5lSW5kZXhfPWJbMl07YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2I9YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnN5bmNCYXJyaWVyIGZhaWxlZCFcIik7YS5zeW5jQmFycmllclJlamVjdChiKX0pfSl9O3JldHVybiBifShoLlByb3h5T2JqZWN0KTthLkljZUNhbmRpZGF0ZT1iO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLmNhbGwodGhpcyxcclxuYyxkLmNsYXNzX2lkX3QuUlRDSWNlQ2FuZGlkYXRlUGFpcixlLGguUHJveHlNb2RlLlJlbW90ZSl8fHRoaXN9ZShiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImxvY2FsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJyZW1vdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3RlX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5zeW5jQmFycmllcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dy5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXthLnN5bmNCYXJyaWVyRGVlcChiLGMpJiZhLndhaXRVbnRpbENvbm5lY3RlZChcIkljZUNhbmRpZGF0ZVBhaXIuc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsXHJcbmQubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZVBhaXJfdC5sb2NhbCx7fSksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlUGFpcl90LnJlbW90ZSx7fSldKX0pLnRoZW4oZnVuY3Rpb24oYil7Yj1iLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTthLmxvY2FsXz1iWzBdO2EucmVtb3RlXz1iWzFdO2Euc3luY0JhcnJpZXJSZXNvbHZlKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5zeW5jQmFycmllciBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtyZXR1cm4gYn0oaC5Qcm94eU9iamVjdCk7YS5JY2VDYW5kaWRhdGVQYWlyPWJ9LDg1MTpmdW5jdGlvbihiLGEsYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5sb2dnZXI9YS5Mb2dnZXI9dm9pZCAwO3ZhciBlPWMoNTUwKTtiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt0aGlzLnRyYWNpbmc9XHJcbiExO3RoaXMubXNsb2dnZXJfPXZvaWQgMDt0aGlzLmVuYWJsZV90aW1lc3RhbXBfPSExO3RoaXMudGFnPWI7dGhpcy5lbmFibGVkPSEwO2UuQlVJTERfVFlQRV9TREsmJih0aGlzLmVuYWJsZV90aW1lc3RhbXBfPSEwKX1hLnByb3RvdHlwZS5zZXRNU0xvZ2dlcj1mdW5jdGlvbihhLGIpe3RoaXMubXNsb2dnZXJfPWE7dm9pZCAwIT1iJiYodGhpcy5lbmFibGVfdGltZXN0YW1wXz1iKX07YS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWFbYl09YXJndW1lbnRzW2JdO3RoaXMuZW5hYmxlZCYmKGE9dGhpcy50YWcrXCIgXCIrYSx0aGlzLmVuYWJsZV90aW1lc3RhbXBfJiYoYj1uZXcgRGF0ZSxhPVwiW1wiK2IuZ2V0VGltZSgpK1wiXSBcIitiLnRvSVNPU3RyaW5nKCkrXCIgXCIrYSksdm9pZCAwIT10aGlzLm1zbG9nZ2VyXz90aGlzLm1zbG9nZ2VyXy5pbmZvKGEpOmNvbnNvbGUubG9nKGEpKX07YS5wcm90b3R5cGUubG9neD1mdW5jdGlvbihhKXtmb3IodmFyIGI9XHJcbltdLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWJbYy0xXT1hcmd1bWVudHNbY107YXx8dGhpcy5sb2coYil9O2EucHJvdG90eXBlLnRyYWNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWFbYl09YXJndW1lbnRzW2JdO3RoaXMudHJhY2luZyYmdGhpcy5sb2cuYXBwbHkodGhpcyxhKX07cmV0dXJuIGF9KCk7YS5Mb2dnZXI9YjthLmxvZ2dlcj1uZXcgYihcIltIZHhXZWJSVEMuanNdXCIpO2EubG9nZ2VyLmVuYWJsZWQ9ITB9LDM2MDpmdW5jdGlvbihiLGEsYyl7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYixkKXthPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWJ9fHxmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWJbZF0pfTtyZXR1cm4gYShiLFxyXG5kKX07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZigpe3RoaXMuY29uc3RydWN0b3I9Yn1hKGIsZCk7Yi5wcm90b3R5cGU9bnVsbD09PWQ/T2JqZWN0LmNyZWF0ZShkKTooZi5wcm90b3R5cGU9ZC5wcm90b3R5cGUsbmV3IGYpfX0oKSx1PXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihhLGIsZCxmKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhIGluc3RhbmNlb2YgZD9hOm5ldyBkKGZ1bmN0aW9uKGYpe2YoYSl9KX1yZXR1cm4gbmV3IChkfHwoZD1Qcm9taXNlKSkoZnVuY3Rpb24oZCxLKXtmdW5jdGlvbiBnKGEpe3RyeXttKGYubmV4dChhKSl9Y2F0Y2goYil7SyhiKX19ZnVuY3Rpb24gcihhKXt0cnl7bShmW1widGhyb3dcIl0oYSkpfWNhdGNoKGIpe0soYil9fWZ1bmN0aW9uIG0oYSl7YS5kb25lP2QoYS52YWx1ZSk6YyhhLnZhbHVlKS50aGVuKGcscil9bSgoZj1mLmFwcGx5KGEsYnx8W10pKS5uZXh0KCkpfSl9LGg9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oYSxcclxuYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGYoW2EsYl0pfX1mdW5jdGlvbiBmKGYpe2lmKGcpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtjOyl0cnl7aWYoZz0xLHImJihtPWZbMF0mMj9yW1wicmV0dXJuXCJdOmZbMF0/cltcInRocm93XCJdfHwoKG09cltcInJldHVyblwiXSkmJm0uY2FsbChyKSwwKTpyLm5leHQpJiYhKG09bS5jYWxsKHIsZlsxXSkpLmRvbmUpcmV0dXJuIG07aWYocj0wLG0pZj1bZlswXSYyLG0udmFsdWVdO3N3aXRjaChmWzBdKXtjYXNlIDA6Y2FzZSAxOm09ZjticmVhaztjYXNlIDQ6cmV0dXJuIGMubGFiZWwrKyx7dmFsdWU6ZlsxXSxkb25lOiExfTtjYXNlIDU6Yy5sYWJlbCsrO3I9ZlsxXTtmPVswXTtjb250aW51ZTtjYXNlIDc6Zj1jLm9wcy5wb3AoKTtjLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG09Yy50cnlzLG09MDxtLmxlbmd0aCYmbVttLmxlbmd0aC1cclxuMV0pJiYoNj09PWZbMF18fDI9PT1mWzBdKSl7Yz0wO2NvbnRpbnVlfWlmKDM9PT1mWzBdJiYoIW18fGZbMV0+bVswXSYmZlsxXTxtWzNdKSljLmxhYmVsPWZbMV07ZWxzZSBpZig2PT09ZlswXSYmYy5sYWJlbDxtWzFdKWMubGFiZWw9bVsxXSxtPWY7ZWxzZSBpZihtJiZjLmxhYmVsPG1bMl0pYy5sYWJlbD1tWzJdLGMub3BzLnB1c2goZik7ZWxzZXttWzJdJiZjLm9wcy5wb3AoKTtjLnRyeXMucG9wKCk7Y29udGludWV9fWY9Yi5jYWxsKGEsYyl9Y2F0Y2goZCl7Zj1bNixkXSxyPTB9ZmluYWxseXtnPW09MH1pZihmWzBdJjUpdGhyb3cgZlsxXTtyZXR1cm57dmFsdWU6ZlswXT9mWzFdOnZvaWQgMCxkb25lOiEwfX12YXIgYz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYobVswXSYxKXRocm93IG1bMV07cmV0dXJuIG1bMV19LHRyeXM6W10sb3BzOltdfSxnLHIsbSxlOyRqc2NvbXAuaW5pdFN5bWJvbCgpOyRqc2NvbXAuaW5pdFN5bWJvbCgpOyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7XHJcbnJldHVybiBlPXtuZXh0OmQoMCksXCJ0aHJvd1wiOmQoMSksXCJyZXR1cm5cIjpkKDIpfSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiYoZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlfSxkPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGQ9YXJndW1lbnRzLmxlbmd0aDtiPGQ7YisrKWErPWFyZ3VtZW50c1tiXS5sZW5ndGg7Zm9yKHZhciBhPUFycmF5KGEpLGY9MCxiPTA7YjxkO2IrKylmb3IodmFyIGM9YXJndW1lbnRzW2JdLGc9MCxyPWMubGVuZ3RoO2c8cjtnKyssZisrKWFbZl09Y1tnXTtyZXR1cm4gYX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5QZWVyQ29ubmVjdGlvbj1hLlNlc3Npb25EZXNjcmlwdGlvbj1hLlNlc3Npb25EZXNjcmlwdGlvbkluaXQ9YS5SdGNDb25maWd1cmF0aW9uPWEuUnRjSWNlU2VydmVyPWEuSWNlQ2FuZGlkYXRlRXZlbnQ9XHJcbnZvaWQgMDt2YXIgdz1jKDk0NikscT1jKDE0NCksbj1jKDU4OSksaz1jKDY1OCksdj1jKDk4NSksej1jKDM3NyksZz1jKDY1MCksQj1jKDI0KSx0PWMoNTUwKSxtPWMoODUxKSxEPWMoNTE3KSx5PWMoMzk0KSx4PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCxmLGMpe2Q9YS5jYWxsKHRoaXMsZCx0LmNsYXNzX2lkX3QuUlRDSWNlQ2FuZGlkYXRlRXZlbnQsZixrLlByb3h5TW9kZS5SZW1vdGUpfHx0aGlzO2QudGFyZ2V0PWM7ZC50eXBlPVwiaWNlY2FuZGlkYXRlXCI7cmV0dXJuIGR9ZShiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImNhbmRpZGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5kaWRhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO1xyXG5yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZixiKXthLnN5bmNCYXJyaWVyRGVlcChmLGIpJiZhLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZUV2ZW50X3QuY2FuZGlkYXRlLHtvaWQ6MH0pfSkudGhlbihmdW5jdGlvbihmKXtmPWEucGFyYW0wKGYpO3JldHVybiExPT09Zi5pc19udWxsPyhuZXcgdi5JY2VDYW5kaWRhdGUoYSxmLm9pZCxrLlByb3h5TW9kZS5SZW1vdGUpKS5zeW5jQmFycmllcigpOlByb21pc2UucmVzb2x2ZShudWxsKX0pLnRoZW4oZnVuY3Rpb24oZil7bS5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uaWNlY2FuZGlkYXRlOiBpY2VjYW5kaWRhdGUgYXZhaWxhYmxlIVwiKTthLmNhbmRpZGF0ZV89ZjthLnN5bmNCYXJyaWVyUmVzb2x2ZShhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZil7Zj1cclxuYS5sb2dSZW1vdGVJbnZva2VFcnJvcihmLFwiLm9uaWNlY2FuZGlkYXRlKCkgZmFpbGVkIVwiKTthLnN5bmNCYXJyaWVyUmVqZWN0KGYpfSl9KX07cmV0dXJuIGJ9KGsuUHJveHlPYmplY3QpO2EuSWNlQ2FuZGlkYXRlRXZlbnQ9eDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXt0aGlzLnN0YXRlXz1cIm5ld1wiO3RoaXMuY2FuZGlkYXRlc189W107dGhpcy5nYXRoZXJpbmdzdGF0ZXVwZGF0ZWNiXz12b2lkIDA7dGhpcy5wY189Yjt0aGlzLmdhdGhlcmluZ3N0YXRldXBkYXRlY2JfPWR9YS5wcm90b3R5cGUucHVzaFN0YXRlPWZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnBjXy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZTogbmV3IHN0YXRlIGlzIFwiK2EpO3RoaXMuc3RhdGVfPWE7XCJnYXRoZXJpbmdcIj09dGhpcy5zdGF0ZV8/KHRoaXMuY2FuZGlkYXRlc189W10sdGhpcy5wb3N0VXBkYXRlKCkpOnRoaXMucHJvY2Vzc1JlbWFpbmluZygpfTtcclxuYS5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5jYW5kaWRhdGVzXy5wdXNoKGEpO3ZhciBmPVtdO2YucHVzaChhLnN5bmNCYXJyaWVyKCkpO2YucHVzaCh0aGlzLnBjXy51cGRhdGVTZHBEZXNjcmlwdGlvbighMCkpO1Byb21pc2UuYWxsKGYpLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGIucGNfLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWNhbmRpZGF0ZTogaWNlY2FuZGlkYXRlIGF2YWlsYWJsZSFcIik7Yi5wb3N0SWNlQ2FuZGlkYXRlKGFbMF0pfSl9O2EucHJvdG90eXBlLnBvc3RJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKHRoaXMucGNfLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWNhbmRpZGF0ZTogcG9zdGluZyBpY2UgY2FuZGlkYXRlIG5vdyFcIik7aWYobnVsbCE9dGhpcy5wY18ub25pY2VjYW5kaWRhdGUpdGhpcy5wY18ub25pY2VjYW5kaWRhdGUoYSk7ZWxzZSBtLmxvZ2dlci5sb2codGhpcy5wY18udXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIm9uaWNlY2FuZGlkYXRlIGlzIE5VTEwhISFcIik7dGhpcy5jYW5kaWRhdGVzXy5zaGlmdCgpO3RoaXMucHJvY2Vzc1JlbWFpbmluZygpfTthLnByb3RvdHlwZS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKHRoaXMucGNfLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlOiBwb3N0aW5nIGV2ZW50IG5vdyFcIik7dmFyIGE9bmV3IHAoXCJvbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsdGhpcy5wY18pO3RoaXMuZ2F0aGVyaW5nc3RhdGV1cGRhdGVjYl8mJnRoaXMuZ2F0aGVyaW5nc3RhdGV1cGRhdGVjYl8odGhpcy5zdGF0ZV8pO3RoaXMucGNfLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UoYSl9O2EucHJvdG90eXBlLnByb2Nlc3NSZW1haW5pbmc9ZnVuY3Rpb24oKXswPT10aGlzLmNhbmRpZGF0ZXNfLmxlbmd0aCYmXCJjb21wbGV0ZVwiPT10aGlzLnN0YXRlXz8odGhpcy5wY18ub25pY2VjYW5kaWRhdGUoe2NhbmRpZGF0ZTpudWxsLHRhcmdldDp0aGlzfSksXHJcbnRoaXMucG9zdFVwZGF0ZSgpKTptLmxvZ2dlci5sb2codGhpcy5wY18udXNlcl9mcmllbmRseV9pZCgpK1wiLm9uaWNlY2FuZGlkYXRlOiBjYW5kaWRhdGVzIHJlbWFpbmluZz1bXCIrdGhpcy5jYW5kaWRhdGVzXy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2JqZWN0X2lkKCl9KStcIl0sIHN0YXRlPVwiK3RoaXMuc3RhdGVfKX07cmV0dXJuIGF9KCksQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS50b1J0Y0ljZVNlcnZlcj1mdW5jdGlvbihhLGIpe3ZhciBmPXt1cmxzOltdLGNyZWRlbnRpYWw6XCJcIix1c2VybmFtZTpcIlwifTthJiYoYS51cmxzP0FycmF5LmlzQXJyYXkoYS51cmxzKT9mLnVybHM9YS51cmxzOmYudXJscy5wdXNoKGEudXJscyk6bS5sb2dnZXIubG9nKFwiUnRjSWNlU2VydmVyLnRvUnRjSWNlU2VydmVyKCkudXJscyBwcm9wZXJ0eSBpcyBtaXNzaW5nISB0aGlzIGlzIHJlcXVpcmVkIHByb3BlcnR5IVwiKSxhLmNyZWRlbnRpYWwmJihhLmNyZWRlbnRpYWwuaGFzT3duUHJvcGVydHkoXCJhY2Nlc3NUb2tlblwiKT9cclxuZi5jcmVkZW50aWFsPWEuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjpmLmNyZWRlbnRpYWw9YS5jcmVkZW50aWFsKSxhLnVzZXJuYW1lJiYoZi51c2VybmFtZT1hLnVzZXJuYW1lKSk7aWYoMT09Yilmb3IodmFyIGQgaW4gYSlcInVybHNcIiE9ZCYmXCJjcmVkZW50aWFsXCIhPWQmJlwidXNlcm5hbWVcIiE9ZCYmbS5sb2dnZXIubG9nKFwiUnRjSWNlU2VydmVyLnRvUnRjSWNlU2VydmVyKCkgd2FybmluZzogdW5zdXBwb3J0ZWQgcHJvcGVydHk6XCIrZCk7cmV0dXJuIGZ9O3JldHVybiBhfSgpO2EuUnRjSWNlU2VydmVyPUE7dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEudG9SdGNDb25maWd1cmF0aW9uPWZ1bmN0aW9uKGEsYil7MT09YiYmbS5sb2dnZXIubG9nKFwiUnRjQ29uZmlndXJhdGlvbi50b1J0Y0NvbmZpZ3VyYXRpb24oKSBpbiBSVENDb25maWd1cmF0aW9uIGNvbmZpZzpcIitKU09OLnN0cmluZ2lmeShhKSk7dmFyIGY9e307aWYoYSl7aWYoYS5pY2VTZXJ2ZXJzKXtmLmljZVNlcnZlcnM9XHJcbltdO2Zvcih2YXIgZD0wLGM9YS5pY2VTZXJ2ZXJzO2Q8Yy5sZW5ndGg7ZCsrKWYuaWNlU2VydmVycy5wdXNoKEEudG9SdGNJY2VTZXJ2ZXIoY1tkXSxiKSl9YS5pY2VUcmFuc3BvcnRQb2xpY3kmJihmLmljZVRyYW5zcG9ydFBvbGljeT1hLmljZVRyYW5zcG9ydFBvbGljeSk7YS5idW5kbGVQb2xpY3kmJihmLmJ1bmRsZVBvbGljeT1hLmJ1bmRsZVBvbGljeSk7YS5ydGNwTXV4UG9saWN5JiYoZi5ydGNwTXV4UG9saWN5PWEucnRjcE11eFBvbGljeSk7YS5pY2VUcmFuc3BvcnRzJiYoZi5pY2VUcmFuc3BvcnRzPWEuaWNlVHJhbnNwb3J0cyk7YS5zZHBTZW1hbnRpY3MmJihmLnNkcFNlbWFudGljcz1hLnNkcFNlbWFudGljcyk7YS5lbmFibGVEdGxzU3J0cCYmKGYuZW5hYmxlRHRsc1NydHA9YS5lbmFibGVEdGxzU3J0cCk7YS5lbmFibGVEc2NwJiYoZi5lbmFibGVEc2NwPWEuZW5hYmxlRHNjcCl9aWYoMT09Yil7Zm9yKHZhciBnIGluIGEpXCJpY2VTZXJ2ZXJzXCIhPWcmJlwiaWNlVHJhbnNwb3J0UG9saWN5XCIhPVxyXG5nJiZcImJ1bmRsZVBvbGljeVwiIT1nJiZcInJ0Y3BNdXhQb2xpY3lcIiE9ZyYmXCJpY2VUcmFuc3BvcnRzXCIhPWcmJlwic2RwU2VtYW50aWNzXCIhPWcmJlwiZW5hYmxlRHRsc1NydHBcIiE9ZyYmXCJlbmFibGVEc2NwXCIhPWcmJm0ubG9nZ2VyLmxvZyhcIlJ0Y0NvbmZpZ3VyYXRpb24udG9SdGNDb25maWd1cmF0aW9uKCkgd2FybmluZzogdW5zdXBwb3J0ZWQgcHJvcGVydHk6XCIrZyk7bS5sb2dnZXIubG9nKFwiUnRjQ29uZmlndXJhdGlvbi50b1J0Y0NvbmZpZ3VyYXRpb24oKSBjb252ZXJ0ZWQgUnRjQ29uZmlndXJhdGlvbiBjb25maWc6XCIrSlNPTi5zdHJpbmdpZnkoZikpfXJldHVybiBmfTtyZXR1cm4gYX0oKTthLlJ0Y0NvbmZpZ3VyYXRpb249TTt2YXIgRj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMuc2RwPWI7dGhpcy50eXBlPWF9fSgpO2EuU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdD1GO3ZhciBsPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxmLGcpe2Zvcih2YXIgcj1bXSxtPTM7bTxcclxuYXJndW1lbnRzLmxlbmd0aDttKyspclttLTNdPWFyZ3VtZW50c1ttXTtyZXR1cm4gYS5hcHBseSh0aGlzLGQoW2MsdC5jbGFzc19pZF90LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbixmLGcsbnVsbCxbXV0scikpfHx0aGlzfWUoYixhKTtiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTp0aGlzLnR5cGVfLHNkcDp0aGlzLnNkcF99fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJzZHBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RwX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO1xyXG5yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZixiKXthLnN5bmNCYXJyaWVyRGVlcChmLGIpJiZhLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UuYWxsKFthLnJlbW90ZUludm9rZSghMSx0Lm1ldGhvZF9pZF9SVENTZXNzaW9uRGVzY3JpcHRpb25fdC50eXBlLDApLGEucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ1Nlc3Npb25EZXNjcmlwdGlvbl90LnNkcCxcIlwiKV0pfSkudGhlbihmdW5jdGlvbihmKXthLnR5cGVfPWEuY29udmVydFR5cGUoYS5wYXJhbTAoZlswXSkpO2Euc2RwXz1hLnBhcmFtMChmWzFdKTthLnN5bmNCYXJyaWVyUmVzb2x2ZShhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZil7Zj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGYsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoZil9KX0pfTtiLnByb3RvdHlwZS5jb252ZXJ0VHlwZT1cclxuZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWE/XCJvZmZlclwiOjE9PWE/XCJwcmFuc3dlclwiOjI9PWE/XCJhbnN3ZXJcIjpcInJvbGxiYWNrXCJ9O2IuY29udmVydEMySD1mdW5jdGlvbihhKXtyZXR1cm5cIm9mZmVyXCI9PWE/MDpcInByYW5zd2VyXCI9PWE/MTpcImFuc3dlclwiPT1hPzI6M307cmV0dXJuIGJ9KGsuUHJveHlPYmplY3QpO2EuU2Vzc2lvbkRlc2NyaXB0aW9uPWw7dmFyIHA9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLnR5cGU9YTt0aGlzLnRhcmdldD1ifX0oKSxMPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX0oKSxQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQpe3RoaXMubG9jYWw9Yjt0aGlzLnJlbW90ZT1kfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZigxPT10aGlzLmxvY2FsfHwxPT10aGlzLnJlbW90ZSlhPSEwO3JldHVybiBhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO1xyXG5yZXR1cm4gYX0oKTtiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7dmFyIGY9YS5jYWxsKHRoaXMsbnVsbCx0LmNsYXNzX2lkX3QuUlRDUGVlckNvbm5lY3Rpb24sMCxrLlByb3h5TW9kZS5Mb2NhbCxudWxsLFtdLGIuZW5zdXJlX2NvbmZpZ19kZWZpbmVkKGQsITEpLHt9KXx8dGhpcztmLnRpbWVlcnN0YXJ0ZWRfPSExO2YuZmlyc3R0aW1lcmVtb3Rlb2ZmZXJfPSExO2YuZmlyc3RzdGFibGVfPSExO2YuZmlyc3R0aW1lbG9jYWxvZmZlcl89ITE7Zi5hdWRpb2NhbGxfPW5ldyBQKCExLCExKTtmLnZpZGVvY2FsbF89bmV3IFAoITEsITEpO2Yuc2NyZWVuc2hhcmluZ2NhbGxfPW5ldyBQKCExLCExKTtmLmNvbmZlcmVuY2VjYWxsXz0hMTtmLmluY29taW5nY2FsbF89ITE7Zi5vdXRnb2luZ2NhbGxfPSExO2YudXNpbmdhc3luY29ubHlfPSExO2YucnRjY29uZmlnXz1iLmVuc3VyZV9jb25maWdfZGVmaW5lZChkLCEwKTttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3Igc2RwU2VtYW50aWNzPVwiK1xyXG5mLnJ0Y2NvbmZpZ18uc2RwU2VtYW50aWNzKTtpZighdC5CVUlMRF9UWVBFX1NESyYmZi5pc1VuaWZpZWQoKSYmIXcuZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZSh0LkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiQ1dBIGNsaWVudCBkb2VzIG5vdCBzdXBwb3J0IHVuaWZpZWQgc2RwU2VtYW50aWNcIixcImNyZWF0ZVBlZXJDb25uZWN0aW9uXCIpO2YucGVuZGluZ3RyYW5zY2VpdmVyXz0wO2YucGVuZGluZ3RyYWNrXz0wO2YuZGVmZXJyZWRPZmZlckFuc3dlcnM9W107Zi5sb2NhbFN0cmVhbXM9W107Zi5yZW1vdGVTdHJlYW1zPVtdO2Yub25hZGRzdHJlYW1fPW51bGw7Zi5zaWduYWxpbmdTdGF0ZV89XCJzdGFibGVcIjtmLmljZUNvbm5lY3Rpb25TdGF0ZV89XCJuZXdcIjtmLmljZUdhdGhlcmluZ1N0YXRlXz1cIm5ld1wiO2YuaWNlUV89bmV3IHIoZixmdW5jdGlvbihhKXtmLm9uaWNlZ2F0aGVyaW5nc3RhdGV1cGRhdGUoYSl9KTtmLnJlY2VpdmVyc189XHJcbltdO2Yuc2VuZGVyc189W107Zi50cmFuc2NlaXZlcnNfPVtdO2YucmVnaXN0ZXJTdGF0ZUNoYW5nZU5vdGlmaWNhdGlvbihmLm9uU3RhdGVDaGFuZ2UpO2YubG9jYWxkYXRhY2hhbm5lbF89bnVsbDtmLnJlbW90ZWRhdGFjaGFubmVsXz1udWxsO3JldHVybiBmfWUoYixhKTtiLmVuc3VyZV9jb25maWdfZGVmaW5lZD1mdW5jdGlvbihhLGYpe3JldHVybiBNLnRvUnRjQ29uZmlndXJhdGlvbihhLGYpfTtiLnByb3RvdHlwZS5kdW1wU2RwPWZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kdW1wU2RwXCIpO2EmJihtLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgIC0tIHR5cGU6IFwiK2EudHlwZSksbS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiICAtLSBzZHA6IFwiK2Euc2RwKSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5nZXRfbG9jYWxEZXNjcmlwdGlvbigpIGNhbGxlZC5cIik7cmV0dXJuIHRoaXMubG9jYWxEZXNjcmlwdGlvbl99LHNldDpmdW5jdGlvbihhKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X2xvY2FsRGVzY3JpcHRpb24oKSBjYWxsZWQuXCIpO3RoaXMubG9jYWxEZXNjcmlwdGlvbl89YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJyZW1vdGVEZXNjcmlwdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X3JlbW90ZURlc2NyaXB0aW9uKCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5yZW1vdGVEZXNjcmlwdGlvbl99LHNldDpmdW5jdGlvbihhKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X3JlbW90ZURlc2NyaXB0aW9uKCkgY2FsbGVkLlwiKTt0aGlzLnJlbW90ZURlc2NyaXB0aW9uXz1hfSxcclxuZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5pc1VuaWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuaWZpZWRcIj09dGhpcy5ydGNjb25maWdfLnNkcFNlbWFudGljc3x8XCJ1bmlmaWVkLXBsYW5cIj09dGhpcy5ydGNjb25maWdfLnNkcFNlbWFudGljc307Yi5wcm90b3R5cGUub25TdGF0ZUNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBwKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcyk7aWYodGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8pdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8oYSl9O2IucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbihhKXt2YXIgZj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRJY2VDYW5kaWRhdGUoKSBjYWxsZWQuXCIpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZEljZUNhbmRpZGF0ZVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9XHJcbntjYW5kaWRhdGU6YS5jYW5kaWRhdGUsc2RwTWlkOmEuc2RwTWlkLHNkcE1MaW5lSW5kZXg6YS5zZHBNTGluZUluZGV4fTtpZih2b2lkIDA9PWIuY2FuZGlkYXRlfHxudWxsPT1iLmNhbmRpZGF0ZSliLmNhbmRpZGF0ZT1cIlwiO3ZvaWQgMD09Yi5zZHBNaWQmJihiLnNkcE1pZD1udWxsKTt2b2lkIDA9PWIuc2RwTUxpbmVJbmRleCYmKGIuc2RwTUxpbmVJbmRleD1udWxsKTtyZXR1cm4obmV3IHYuSWNlQ2FuZGlkYXRlKGYsMCxrLlByb3h5TW9kZS5Mb2NhbCxiKSkuc3luY0JhcnJpZXIoKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGYucmVtb3RlSW52b2tlRXgoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5hZGRJY2VDYW5kaWRhdGUsW2FdLHt9KX0pLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuYWRkSWNlQ2FuZGlkYXRlKCkgc3VjY2Vzcy5cIik7cmV0dXJuIGYudXBkYXRlU2RwRGVzY3JpcHRpb24oITEpfSkudGhlbihmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuYWRkSWNlQ2FuZGlkYXRlKCkgLSBzeW5jIHJlbW90ZSBzZHAgc3VjY2Vzcy5cIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2YubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5hZGRJY2VDYW5kaWRhdGUoKSBmYWlsZWQhXCIpfSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uaWNlY2FuZGlkYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uaWNlY2FuZGlkYXRlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmljZWNhbmRpZGF0ZSgpIGNhbGxlZC5cIik7dGhpcy5vbmljZWNhbmRpZGF0ZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWNhbmRpZGF0ZVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9Zi5yZWdpc3RlckNhbGxiYWNrcyghMSxmLmlzTnVsbENhbGxiYWNrKGEpLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25pY2VjYW5kaWRhdGUpO1xyXG5iLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uaWNlY2FuZGlkYXRlIGNhbGxiYWNrIHJlY2VpdmVkISEhXCIpO2E9bmV3IHgoZixmLnBhcmFtMChhKS5vaWQsZik7bnVsbCE9Zi5pY2VRXyYmZi5pY2VRXy5hZGRJY2VDYW5kaWRhdGUoYSl9KTtyZXR1cm4gZi5yZW1vdGVJbnZva2UoITAsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbmljZWNhbmRpZGF0ZSxiLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uaWNlY2FuZGlkYXRlKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmNvbnZlcnRJY2VDb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWE/XCJuZXdcIjoxPT1hP1wiY2hlY2tpbmdcIjoyPT1hP1wiY29ubmVjdGVkXCI6Mz09YT9cImNvbXBsZXRlZFwiOjQ9PWE/XCJmYWlsZWRcIjo1PT1hP1xyXG5cImRpc2Nvbm5lY3RlZFwiOlwiY2xvc2VkXCJ9O2IucHJvdG90eXBlLmNvbnZlcnRDb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oYSl7aWYoMCE9YSl7aWYoMT09YSlyZXR1cm5cImNvbm5lY3RpbmdcIjtpZigyPT1hKXJldHVyblwiY29ubmVjdGVkXCI7aWYoMz09YSlyZXR1cm5cImRpc2Nvbm5lY3RlZFwiO2lmKDQ9PWEpcmV0dXJuXCJmYWlsZWRcIjtpZig1PT1hKXJldHVyblwiY2xvc2VkXCJ9cmV0dXJuXCJuZXdcIn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25jb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2VffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkgY2FsbGVkLlwiKTt0aGlzLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9Zi5yZWdpc3RlckNhbGxiYWNrcyghMSxmLmlzTnVsbENhbGxiYWNrKGEpLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpO2IudGhlbihmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25jb25uZWN0aW9uc3RhdGVjaGFuZ2UoKTogc3VjY2VzcyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTtmLmNvbm5lY3Rpb25TdGF0ZV89Zi5jb252ZXJ0Q29ubmVjdGlvblN0YXRlKGYucGFyYW0wKGEpKTttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgY29ubmVjdGlvblN0YXRlPTpcIitmLmNvbm5lY3Rpb25TdGF0ZV8pO2E9bmV3IHAoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixmKTtpZihmLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXylmLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXyhhKX0pO3JldHVybiBmLnJlbW90ZUludm9rZSghMCxcclxudC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSxiLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmdldF9jb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X2Nvbm5lY3Rpb25TdGF0ZSgpIGNhbGxlZCwgdmFsdWUgPSBcIit0aGlzLmNvbm5lY3Rpb25TdGF0ZV8pO3JldHVybiB0aGlzLmlzUmVkaXJlY3RlZCgpP3RoaXMuY29ubmVjdGlvblN0YXRlXzpcImZhaWxlZFwifTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZV99LFxyXG5zZXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkgY2FsbGVkLlwiKTt0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYj1mLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGYuaXNOdWxsQ2FsbGJhY2soYSksdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSk7Yi50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpOiBzdWNjZXNzIGNhbGxiYWNrIHJlY2VpdmVkISEhXCIpO2YuaWNlQ29ubmVjdGlvblN0YXRlXz1mLmNvbnZlcnRJY2VDb25uZWN0aW9uU3RhdGUoZi5wYXJhbTAoYSkpO1xyXG5hPW5ldyBwKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsZik7aWYoZi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8pZi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8oYSl9KTtyZXR1cm4gZi5yZW1vdGVJbnZva2UoITAsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSxiLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImljZUNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X2ljZUNvbm5lY3Rpb25TdGF0ZSgpIGNhbGxlZCwgdmFsdWUgPSBcIit0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZV8pO1xyXG5yZXR1cm4gdGhpcy5pc1JlZGlyZWN0ZWQoKT90aGlzLmljZUNvbm5lY3Rpb25TdGF0ZV86XCJmYWlsZWRcIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5jb252ZXJ0SWNlR2F0aGVyaW5nU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWE/XCJuZXdcIjoxPT1hP1wiZ2F0aGVyaW5nXCI6XCJjb21wbGV0ZVwifTtiLnByb3RvdHlwZS5vbmljZWdhdGhlcmluZ3N0YXRldXBkYXRlPWZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWdhdGhlcmluZ3N0YXRldXBkYXRlKCkgY3VycmVudDpcIit0aGlzLmljZUdhdGhlcmluZ1N0YXRlXytcIiB1cGRhdGluZyB0bzpcIithKTt0aGlzLmljZUdhdGhlcmluZ1N0YXRlXz1hO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmljZWdhdGhlcmluZ3N0YXRldXBkYXRlKCkgYWZ0ZXIgdXBkYXRlOiBpY2VHYXRoZXJpbmdTdGF0ZV86XCIrdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZV8pfTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlKCkgY2FsbGVkLlwiKTt0aGlzLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9Zi5yZWdpc3RlckNhbGxiYWNrcyghMSxmLmlzTnVsbENhbGxiYWNrKGEpLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSk7Yi50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSgpOiBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTthPWYuY29udmVydEljZUdhdGhlcmluZ1N0YXRlKGYucGFyYW0wKGEpKTtudWxsIT1mLmljZVFfJiZmLmljZVFfLnB1c2hTdGF0ZShhKX0pO3JldHVybiBmLnJlbW90ZUludm9rZSghMCx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UsYi5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Zi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnNldF9vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImljZUdhdGhlcmluZ1N0YXRlXCIse2dldDpmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfaWNlR2F0aGVyaW5nU3RhdGUoKSBjYWxsZWQsIHZhbHVlID0gXCIrXHJcbnRoaXMuaWNlR2F0aGVyaW5nU3RhdGVfKTtyZXR1cm4gdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZV99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7Yi5wcm90b3R5cGUuY29udmVydFNpZ25hbFN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hP1wic3RhYmxlXCI6MT09YT9cImhhdmUtbG9jYWwtb2ZmZXJcIjoyPT1hP1wiaGF2ZS1sb2NhbC1wcmFuc3dlclwiOjM9PWE/XCJoYXZlLXJlbW90ZS1vZmZlclwiOjQ9PWE/XCJoYXZlLXJlbW90ZS1wcmFuc3dlclwiOlwiY2xvc2VkXCJ9O2IucHJvdG90eXBlLlRlbGVtdHJ5UmVhZGluZ3NfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztcImhhdmUtbG9jYWwtb2ZmZXJcIj09dGhpcy5zaWduYWxpbmdTdGF0ZV8mJjA9PXRoaXMuZmlyc3R0aW1lbG9jYWxvZmZlcl8mJjA9PXRoaXMuZmlyc3R0aW1lcmVtb3Rlb2ZmZXJfJiYodGhpcy5vdXRnb2luZ2NhbGxzdGFydF89KG5ldyBEYXRlKS5nZXRUaW1lKCksMD09dGhpcy5vdXRnb2luZ2NhbGxfJiYodGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxTdGF0ZSxcclxueS50ZWxfQ2FsbFN0YXRlLmFjdGl2ZSwxKSx0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9QZXJmQ2FsbERpcmVjdGlvbix5LnRlbF9DYWxsRGlyZWN0aW9uLm91dGdvaW5nLDEpLHRoaXMub3V0Z29pbmdjYWxsXz0hMCksdGhpcy5maXJzdHRpbWVsb2NhbG9mZmVyXz0hMCk7XCJoYXZlLXJlbW90ZS1vZmZlclwiPT10aGlzLnNpZ25hbGluZ1N0YXRlXyYmMD09dGhpcy5maXJzdHRpbWVyZW1vdGVvZmZlcl8mJjA9PXRoaXMuZmlyc3R0aW1lbG9jYWxvZmZlcl8mJih0aGlzLmluY29taW5nY2FsbHN0YXJ0Xz0obmV3IERhdGUpLmdldFRpbWUoKSwwPT10aGlzLmluY29taW5nY2FsbF8mJih0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9QZXJmQ2FsbFN0YXRlLHkudGVsX0NhbGxTdGF0ZS5hY3RpdmUsMSksdGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxEaXJlY3Rpb24seS50ZWxfQ2FsbERpcmVjdGlvbi5pbmNvbWluZywxKSx0aGlzLmluY29taW5nY2FsbF89XHJcbiEwKSx0aGlzLmZpcnN0dGltZXJlbW90ZW9mZmVyXz0hMCk7XCJzdGFibGVcIj09dGhpcy5zaWduYWxpbmdTdGF0ZV8mJjA9PXRoaXMuZmlyc3RzdGFibGVfJiYodGhpcy5jYWxsc3RhcnRUaW1lXz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmZpcnN0c3RhYmxlXz10aGlzLnRpbWVlcnN0YXJ0ZWRfPSEwKTtpZihcInN0YWJsZVwiPT10aGlzLnNpZ25hbGluZ1N0YXRlXyl7Zm9yKHZhciBmPTAsYj10aGlzLmxvY2FsU3RyZWFtcztmPGIubGVuZ3RoO2YrKyl7dmFyIGQ9YltmXTsxPD1kLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoJiYwPT10aGlzLmF1ZGlvY2FsbF8ubG9jYWwmJih0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9QZXJmQ2FsbFR5cGUseS50ZWxfQ2FsbFR5cGUuYXVkaW8sMSksdGhpcy5hdWRpb2NhbGxfLmxvY2FsPSEwKTtkPWQuZ2V0VmlkZW9UcmFja3MoKTtpZigxPD1kLmxlbmd0aClmb3IodmFyIGM9MCxnPWQ7YzxnLmxlbmd0aDtjKyspZD1nW2NdLDE9PWQuZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZC5pbmNsdWRlcyhcImRpc3BsYXlcIik/XHJcbjA9PXRoaXMuc2NyZWVuc2hhcmluZ2NhbGxfLmxvY2FsJiYodGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxUeXBlLHkudGVsX0NhbGxUeXBlLmRzaGFyZSwxKSx0aGlzLnNjcmVlbnNoYXJpbmdjYWxsXy5sb2NhbD0hMCk6MD09dGhpcy52aWRlb2NhbGxfLmxvY2FsJiYodGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxUeXBlLHkudGVsX0NhbGxUeXBlLnZpZGVvLDEpLHRoaXMudmlkZW9jYWxsXy5sb2NhbD0hMCl9Zj0wO2ZvcihiPXRoaXMucmVtb3RlU3RyZWFtcztmPGIubGVuZ3RoO2YrKylpZihkPWJbZl0sMTw9ZC5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCYmMD09dGhpcy5hdWRpb2NhbGxfLnJlbW90ZSYmKHRoaXMuU2VuZFRlbGVtZXRyeURhdGEoeS50ZWxfa2V5X1BlcmZDYWxsVHlwZSx5LnRlbF9DYWxsVHlwZS5hdWRpbywxKSx0aGlzLmF1ZGlvY2FsbF8ucmVtb3RlPSEwKSxjPWQuZ2V0VmlkZW9UcmFja3MoKSwxPD1jLmxlbmd0aClmb3IoZD1cclxuMDtkPGMubGVuZ3RoO2QrKykxPT1jW2RdLmlkLmluY2x1ZGVzKFwiYXBwbGljYXRpb25zaGFyaW5nVmlkZW9cIik/MD09dGhpcy5zY3JlZW5zaGFyaW5nY2FsbF8ucmVtb3RlJiYodGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxUeXBlLHkudGVsX0NhbGxUeXBlLmRzaGFyZSwxKSx0aGlzLnNjcmVlbnNoYXJpbmdjYWxsXy5yZW1vdGU9ITApOjA9PXRoaXMudmlkZW9jYWxsXy5yZW1vdGUmJih0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9QZXJmQ2FsbFR5cGUseS50ZWxfQ2FsbFR5cGUudmlkZW8sMSksdGhpcy52aWRlb2NhbGxfLnJlbW90ZT0hMCk7dGhpcy5nZXRSZWNlaXZlcnNBc3luYygpLnRoZW4oZnVuY3Rpb24oZil7MjxmLmxlbmd0aCYmMD09YS5jb25mZXJlbmNlY2FsbF8mJihhLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9QZXJmQ2FsbFR5cGUseS50ZWxfQ2FsbFR5cGUubXVsdGksMSksYS5jb25mZXJlbmNlY2FsbF89ITApfSl9fTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25zaWduYWxpbmdzdGF0ZWNoYW5nZVwiLHtzZXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uc2lnbmFsaW5nc3RhdGVjaGFuZ2UoKSBjYWxsZWQuXCIpO3RoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlZFwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9Zi5yZWdpc3RlckNhbGxiYWNrcyghMSxmLmlzTnVsbENhbGxiYWNrKGEpLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25zaWduYWxpbmdzdGF0ZWNoYW5nZSk7Yi50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlKCk6IGNhbGxiYWNrIHJlY2VpdmVkISEhXCIpO2Yuc2lnbmFsaW5nU3RhdGVfPVxyXG5mLmNvbnZlcnRTaWduYWxTdGF0ZShmLnBhcmFtMChhKSk7YT1uZXcgcChcIm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2VcIixmKTtpZihmLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2VfKWYub25zaWduYWxpbmdzdGF0ZWNoYW5nZV8oYSk7Zi5UZWxlbXRyeVJlYWRpbmdzXygpfSk7cmV0dXJuIGYucmVtb3RlSW52b2tlKCEwLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25zaWduYWxpbmdzdGF0ZWNoYW5nZSxiLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uc2lnbmFsaW5nc3RhdGVjaGFuZ2UoKSBmYWlsZWQhXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25zaWduYWxpbmdzdGF0ZWNoYW5nZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZV99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub250cmFja199LHNldDpmdW5jdGlvbihhKXt2YXIgZj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb250cmFjaygpIGNhbGxlZC5cIik7dGhpcy5vbnRyYWNrXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9udHJhY2tcIikudGhlbihmdW5jdGlvbigpe3ZhciBiPWYucmVnaXN0ZXJDYWxsYmFja3MoITEsZi5pc051bGxDYWxsYmFjayhhKSx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9udHJhY2spO2IudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdShmLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZixiLGQsYyxyLEssQyxlLHgsQSx0LHY9dGhpcztyZXR1cm4gaCh0aGlzLGZ1bmN0aW9uKGgpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIub250cmFjaygpOiBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTtmPW5ldyBMO2I9W107ZD10aGlzLnBhcmFtMChhKTt2b2lkIDAhPWQudHJhY2smJiExPT09ZC50cmFjay5pc19udWxsJiYobS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiIGFkZGluZyBhIFJlbW90ZU1lZGlhVHJhY2sgd2l0aCBvaWQ6XCIrZC50cmFjay5vaWQpLGM9bmV3IHEuUmVtb3RlTWVkaWFUcmFjayh0aGlzLGQudHJhY2sub2lkKSxiLnB1c2goYy5zeW5jQmFycmllcigpKSk7Zi50cmFjaz1jO3ZvaWQgMCE9ZC5yZWNlaXZlciYmITE9PT1kLnJlY2VpdmVyLmlzX251bGwmJihyPXRoaXMucmVjZWl2ZXJzXy5maW5kKGZ1bmN0aW9uKGEpe3JldHVybiBhLm9iamVjdF9pZCgpPT09ZC5yZWNlaXZlci5vaWR9KSx2b2lkIDA9PT1yJiYobS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiIGFkZGluZyBhIFJ0cFJlY2VpdmVyIHdpdGggb2lkOlwiK2QucmVjZWl2ZXIub2lkKSxyPW5ldyBuLlJ0cFJlY2VpdmVyKHRoaXMsXHJcbmQucmVjZWl2ZXIub2lkLGsuUHJveHlNb2RlLlJlbW90ZSx0aGlzLmlzVW5pZmllZCgpLGMpKSxiLnB1c2goci5zeW5jQmFycmllcigpKSk7Zi5yZWNlaXZlcj1yO2cuUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVXZWJydGMxZG90MFN1cHBvcnRlZCgpJiZ2b2lkIDAhPWQudHJhbnNjZWl2ZXImJiExPT09ZC50cmFuc2NlaXZlci5pc19udWxsJiYoSz10aGlzLnRyYW5zY2VpdmVyc18uZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKT09PWQudHJhbnNjZWl2ZXIub2lkfSksdm9pZCAwPT09SyYmKG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhZGRpbmcgYSBSdHBUcmFuc2NlaXZlciB3aXRoIG9pZDpcIitkLnRyYW5zY2VpdmVyLm9pZCksSz1uZXcgei5SdHBUcmFuc2NlaXZlcih0aGlzLGQudHJhbnNjZWl2ZXIub2lkLGsuUHJveHlNb2RlLlJlbW90ZSx0aGlzLmlzVW5pZmllZCgpLHouUnRjUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24uaW5hY3RpdmUsXHJcbnIpLHRoaXMudHJhbnNjZWl2ZXJzXy5wdXNoKEspKSxiLnB1c2goSy5zeW5jQmFycmllcigpKSk7Zi50cmFuc2NlaXZlcj1LO2Yuc3RyZWFtcz1bXTtpZih2b2lkIDAhPWQuc3RyZWFtcylmb3IoQz1mdW5jdGlvbihhKXt2YXIgZD1lLnJlbW90ZVN0cmVhbXMuZmluZChmdW5jdGlvbihmKXtyZXR1cm4hMT09PWEuaXNfbnVsbCYmZi5vYmplY3RfaWQoKT09PWEub2lkfSk7dm9pZCAwPT09ZCYmKG0ubG9nZ2VyLmxvZyhlLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhZGRpbmcgYSBSZW1vdGVTdHJlYW0gd2l0aCBvaWQ6XCIrYS5vaWQpLGQ9bmV3IHEuUmVtb3RlU3RyZWFtKGUsYS5vaWQsay5Qcm94eU1vZGUuUmVtb3RlKSxlLnJlbW90ZVN0cmVhbXMucHVzaChkKSk7Yi5wdXNoKGQuc3luY0JhcnJpZXIoKSk7Zi5zdHJlYW1zLnB1c2goZCl9LGU9dGhpcyx4PTAsQT1kLnN0cmVhbXM7eDxBLmxlbmd0aDt4KyspdD1BW3hdLEModCk7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5vbnRyYWNrKCk6IC5wcm9wLnN5bmNCYXJyaWVyIHN0YXJ0XCIpO1Byb21pc2UuYWxsKGIpLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub250cmFjaygpOiBub3RpZmllZCEhISB3aXRoIGV2dDogXCIrZik7Zm9yKHZhciBhPTAsYj1mLnN0cmVhbXM7YTxiLmxlbmd0aDthKyspYlthXS50b2dnbGVBdWRpbyghMSk7aWYodi5vbnRyYWNrXyl2Lm9udHJhY2tfKGYpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXt2LmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIub250cmFjaygpOiAucHJvcC5zeW5jQmFycmllciBmYWlsZWQuXCIpfSk7cmV0dXJuWzJdfSl9KX0pO3JldHVybiBmLnJlbW90ZUludm9rZSghMCx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9udHJhY2ssYi5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Zi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnNldF9vbnRyYWNrKCk6IGZhaWxlZC5cIil9KX0sZW51bWVyYWJsZTohMSxcclxuY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwic2lnbmFsaW5nU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9zaWduYWxpbmdTdGF0ZSgpIGNhbGxlZCwgdmFsdWUgPSBcIit0aGlzLnNpZ25hbGluZ1N0YXRlXyk7cmV0dXJuIHRoaXMuc2lnbmFsaW5nU3RhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9ubmVnb3RpYXRpb25uZWVkZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZF99LHNldDpmdW5jdGlvbihhKXt2YXIgZj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25uZWdvdGlhdGlvbm5lZWRlZCgpIGNhbGxlZC5cIik7dGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5vbm5lZ290aWF0aW9ubmVlZGVkXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYj1mLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGYuaXNOdWxsQ2FsbGJhY2soYSksdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbm5lZ290aWF0aW9ubmVlZGVkKTtiLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25uZWdvdGlhdGlvbm5lZWRlZCgpOiBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTt2YXIgYT1uZXcgcChcIm5lZ290aWF0aW9ubmVlZGVkXCIsZik7aWYoZi5vbm5lZ290aWF0aW9ubmVlZGVkXylmLm9ubmVnb3RpYXRpb25uZWVkZWRfKGEpfSk7cmV0dXJuIGYucmVtb3RlSW52b2tlKCEwLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25uZWdvdGlhdGlvbm5lZWRlZCxiLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29ubmVnb3RpYXRpb25uZWVkZWQoKTogZmFpbGVkLlwiKX0pfSxcclxuZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5kdW1wQ29uc3RyYWludHM9ZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiY29uc3RyYWludHM6IFwiK2EpO3ZvaWQgMCE9PWEmJjAhPT1PYmplY3Qua2V5cyhhKS5sZW5ndGh8fG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcImNvbnN0cmFpbnRzIGVpdGhlciB1bmRlZmluZWQgb3IgZW1wdHkhXCIpO2EmJihtLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgIC0tIHZpZGVvOiBcIithLm9mZmVyVG9SZWNlaXZlVmlkZW8pLG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIiAgLS0gYXVkaW86IFwiK2Eub2ZmZXJUb1JlY2VpdmVBdWRpbyksbS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiICAtLSBpY2VSZXN0YXJ0OiBcIithLmljZVJlc3RhcnQpLG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIgIC0tIHZvaWNlQWN0aXZpdHlEZXRlY3Rpb246IFwiK2Eudm9pY2VBY3Rpdml0eURldGVjdGlvbikpfTtiLnByb3RvdHlwZS5maXhfY29uc3RyYWludHM9ZnVuY3Rpb24oYSl7dGhpcy5kdW1wQ29uc3RyYWludHMoYSk7dmFyIGY9e307dGhpcy5pc1VuaWZpZWQoKXx8KGY9e2F1ZGlvOiEwLHZpZGVvOiEwfSk7aWYoYSl7aWYodm9pZCAwIT09YS52aWRlb3x8dm9pZCAwIT09YS5vZmZlclRvUmVjZWl2ZVZpZGVvKWYudmlkZW89YS5vZmZlclRvUmVjZWl2ZVZpZGVvO2lmKHZvaWQgMCE9PWEuYXVkaW98fHZvaWQgMCE9PWEub2ZmZXJUb1JlY2VpdmVBdWRpbylmLmF1ZGlvPWEub2ZmZXJUb1JlY2VpdmVBdWRpbzt2b2lkIDAhPT1hLmljZVJlc3RhcnQmJihmLmljZVJlc3RhcnQ9YS5pY2VSZXN0YXJ0KTt2b2lkIDAhPT1hLnZvaWNlQWN0aXZpdHlEZXRlY3Rpb24mJihmLnZvaWNlQWN0aXZpdHlEZXRlY3Rpb249YS52b2ljZUFjdGl2aXR5RGV0ZWN0aW9uKX1yZXR1cm4gZn07Yi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9XHJcbmZ1bmN0aW9uKGEsZixiKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlT2ZmZXIoKSBjYWxsZWQuXCIsSlNPTi5zdHJpbmdpZnkoYSkpO3JldHVybiB0aGlzLmlzVW5pZmllZCgpP3ZvaWQgMD09YT90aGlzLmNyZWF0ZU9mZmVyX3YyKCk6YT90aGlzLmNyZWF0ZU9mZmVyX3YyKGEpOnRoaXMuY3JlYXRlT2ZmZXJfdjEoYSxmLGIpOnRoaXMuY3JlYXRlT2ZmZXJfdjEoYSxmLGIpfTtiLnByb3RvdHlwZS5jcmVhdGVPZmZlcl92Mj1mdW5jdGlvbihhKXt2YXIgZj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVPZmZlcl92MigpIGNhbGxlZC5cIixKU09OLnN0cmluZ2lmeShhKSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsZCl7Zi5jcmVhdGVPZmZlcl92MShmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlT2ZmZXJfdjIoKTogZ290IHNkcCEhIVwiLEpTT04uc3RyaW5naWZ5KGEpKTtcclxuYT1uZXcgRihhLnR5cGUsYS5zZHApO2IoYSl9LGZ1bmN0aW9uKGEpe3ZvaWQgMCE9YSYmKGE9Zi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmNyZWF0ZU9mZmVyX3YyKCkgZmFpbGVkLlwiKSxkKGEpKX0sYSl9KX07Yi5wcm90b3R5cGUuY3JlYXRlT2ZmZXJfdjE9ZnVuY3Rpb24oYSxmLGIpe3ZhciBkPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNyZWF0ZU9mZmVyX3YxKCkuXCIsSlNPTi5zdHJpbmdpZnkoYikpO3ZhciBjPVt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVPZmZlcl92MVwiKSx0aGlzLndhaXRUcmFuc2NlaXZlckFuZFRyYWNrUmVhZHkodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlT2ZmZXJfdjFcIildO1Byb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYT1kLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuY3JlYXRlT2ZmZXIpO1xyXG5kLnJlbW90ZUludm9rZSghMSx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90LmNyZWF0ZU9mZmVyLGEuc3VjY2VzcyxhLmZhaWwsZC5maXhfY29uc3RyYWludHMoYikpO3JldHVybiBhLnByb20oKX0pLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLmNyZWF0ZU9mZmVyX3YxKCk6IHN1Y2Nlc3MgY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7cmV0dXJuKG5ldyBsKGQsZC5wYXJhbTAoYSkub2lkLGsuUHJveHlNb2RlLlJlbW90ZSkpLnN5bmNCYXJyaWVyKCl9KS50aGVuKGZ1bmN0aW9uKGYpe2EmJmEoZil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe3ZvaWQgMCE9YSYmKGE9ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmNyZWF0ZU9mZmVyX3YxKCkgZmFpbGVkLlwiKSxmJiZmKGEpKX0pfTtiLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oYSxmLGIpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVBbnN3ZXIoKSBjYWxsZWQuXCIsXHJcbkpTT04uc3RyaW5naWZ5KGEpKTtyZXR1cm4gdGhpcy5pc1VuaWZpZWQoKT92b2lkIDA9PWE/dGhpcy5jcmVhdGVBbnN3ZXJfdjIoKTphP3RoaXMuY3JlYXRlQW5zd2VyX3YyKGEpOnRoaXMuY3JlYXRlQW5zd2VyX3YxKGEsZixiKTp0aGlzLmNyZWF0ZUFuc3dlcl92MShhLGYsYil9O2IucHJvdG90eXBlLmNyZWF0ZUFuc3dlcl92Mj1mdW5jdGlvbihhKXt2YXIgZj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVBbnN3ZXJfdjIoKSBjYWxsZWQuXCIsSlNPTi5zdHJpbmdpZnkoYSkpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGQpe2YuY3JlYXRlQW5zd2VyX3YxKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVBbnN3ZXJfdjIoKTogZ290IHNkcCEhIVwiLEpTT04uc3RyaW5naWZ5KGEpKTthPW5ldyBGKGEudHlwZSxhLnNkcCk7YihhKX0sZnVuY3Rpb24oYSl7dm9pZCAwIT1hJiYoYT1mLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXHJcblwiLmNyZWF0ZUFuc3dlcl92MigpIGZhaWxlZC5cIiksZChhKSl9LGEpfSl9O2IucHJvdG90eXBlLmNyZWF0ZUFuc3dlcl92MT1mdW5jdGlvbihhLGYsYil7dmFyIGQ9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlQW5zd2VyX3YxKCkgY2FsbGVkLlwiLEpTT04uc3RyaW5naWZ5KGIpKTt2YXIgYz1bdGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlQW5zd2VyX3YxXCIpLHRoaXMud2FpdFRyYW5zY2VpdmVyQW5kVHJhY2tSZWFkeSh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVBbnN3ZXJfdjFcIildO1Byb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYT1kLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuY3JlYXRlQW5zd2VyKTtkLnJlbW90ZUludm9rZSghMSx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90LmNyZWF0ZUFuc3dlcixcclxuYS5zdWNjZXNzLGEuZmFpbCxkLmZpeF9jb25zdHJhaW50cyhiKSx7fSk7cmV0dXJuIGEucHJvbSgpfSkudGhlbihmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coZC51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3JlYXRlQW5zd2VyX3YxKCk6IHN1Y2Nlc3MgY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7cmV0dXJuKG5ldyBsKGQsZC5wYXJhbTAoYSkub2lkLGsuUHJveHlNb2RlLlJlbW90ZSkpLnN5bmNCYXJyaWVyKCl9KS50aGVuKGZ1bmN0aW9uKGYpe2EmJmEoZil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2E9ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmNyZWF0ZUFuc3dlcl92MSgpIGZhaWxlZC5cIik7ZiYmZihhLm1lc3NhZ2UpfSl9O2IucHJvdG90eXBlLnVwZGF0ZVNkcERlc2NyaXB0aW9uPWZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi51cGRhdGVTZHBEZXNjcmlwdGlvbigpIGNhbGxlZC5cIik7dmFyIGY9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixcclxuZCl7dmFyIGM9W107MT09YT9jLnB1c2goZi5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5sb2NhbERlc2NyaXB0aW9uLHtvaWQ6MH0pKTpjLnB1c2goZi5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5yZW1vdGVEZXNjcmlwdGlvbix7b2lkOjB9KSk7UHJvbWlzZS5hbGwoYykudGhlbihmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIudXBkYXRlU2RwRGVzY3JpcHRpb24oKSByZXNvbHZlZC5cIik7cmV0dXJuKG5ldyBsKGYsZi5wYXJhbTAoYVswXSkub2lkLGsuUHJveHlNb2RlLlJlbW90ZSkpLnN5bmNCYXJyaWVyKCl9KS50aGVuKGZ1bmN0aW9uKGQpezE9PWE/Zi5sb2NhbERlc2NyaXB0aW9uXz1kOmYucmVtb3RlRGVzY3JpcHRpb25fPWQ7bS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLnVwZGF0ZVNkcERlc2NyaXB0aW9uKCkgdXBkYXRlZCBzZHBcIik7YigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXHJcblwic2RwLnN5bmNCYXJyaWVyKCkgZmFpbGVkIVwiKTtkKCl9KX0pfTtiLnByb3RvdHlwZS5zZHBUb1N0cmluZz1mdW5jdGlvbihhKXt2YXIgZj1cIlwiLGI9MDtmb3IoYT1hP2Euc3BsaXQoL1xccj9cXG4vKTpbXTtiPGEubGVuZ3RoO2IrKyl7dmFyIGQ9YVtiXTstMSE9ZC5pbmRleE9mKFwibT1cIiwwKT9mKz1kK1wiXFxcXHJcXFxcblwiOi0xIT1kLmluZGV4T2YoXCJvPS1cIiwwKT9mKz1kK1wiXFxcXHJcXFxcblwiOi0xIT1kLmluZGV4T2YoXCJhPXNzcmNcIiwwKSYmKGYrPWQrXCJcXFxcclxcXFxuXCIpfXJldHVybiBmfTtiLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKGEsZixiKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0TG9jYWxEZXNjcmlwdGlvbigpIGNhbGxlZC5cIix0aGlzLnNkcFRvU3RyaW5nKGEuc2RwKSk7aWYoYSBpbnN0YW5jZW9mIEYpcmV0dXJuIHRoaXMuc2V0TG9jYWxEZXNjcmlwdGlvbl92MihhKTtpZihhIGluc3RhbmNlb2YgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uJiZcclxuZilyZXR1cm4gdGhpcy5zZXRMb2NhbERlc2NyaXB0aW9uX3YxKGEsZixiKTtmPXZvaWQgMDthP2Y9bmV3IEYoYS50eXBlLGEuc2RwKToobS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldExvY2FsRGVzY3JpcHRpb24oKSBlbXB0eSBwYXJhbTEsIHNldHRpbmcgc2RwIHR5cGUgdG8gcm9sbGJhY2tcIiksYT12b2lkIDAsYT1cImhhdmUtcmVtb3RlLW9mZmVyXCI9PXRoaXMuc2lnbmFsaW5nU3RhdGVfP1wiYW5zd2VyXCI6XCJoYXZlLWxvY2FsLXByYW5zd2VyXCI9PXRoaXMuc2lnbmFsaW5nU3RhdGVffHxcImhhdmUtcmVtb3RlLXByYW5zd2VyXCI9PXRoaXMuc2lnbmFsaW5nU3RhdGVfP1wicHJhbnN3ZXJcIjpcIm9mZmVyXCIsZj1uZXcgRihhLFwiXCIpKTtyZXR1cm4gdGhpcy5zZXRMb2NhbERlc2NyaXB0aW9uX3YyKGYpfTtiLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uX3YyPWZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixkKXtmLndhaXRVbnRpbENvbm5lY3RlZChmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YyXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4obmV3IGwoZiwwLGsuUHJveHlNb2RlLkxvY2FsLHt0eXBlOmwuY29udmVydEMySChhLnR5cGUpLHNkcDphLnNkcH0pKS5zeW5jQmFycmllcigpfSkudGhlbihmdW5jdGlvbihjKXt2YXIgZz1mLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0TG9jYWxEZXNjcmlwdGlvbl92Mikscj17dHlwZTpsLmNvbnZlcnRDMkgoYS50eXBlKSxzZHA6YS5zZHB9O2YucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0TG9jYWxEZXNjcmlwdGlvbl92MixyLGcuc3VjY2VzcyxnLmZhaWwpO2cucHJvbSgpLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnNldExvY2FsRGVzY3JpcHRpb25fdjIoKTogc3VjY2VzcyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTtmLmxvY2FsRGVzY3JpcHRpb25fPWM7bS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldExvY2FsRGVzY3JpcHRpb25fdjIoKTogdXBkYXRlZCBsb2NhbERlc2NyaXB0aW9uX1wiKTtQcm9taXNlLmFsbChbXSkudGhlbihmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YyKCkgc3VjY2Vzcy5cIik7YigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWYubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5wcm9wLnNldExvY2FsRGVzY3JpcHRpb25fdjIoKSBmYWlsZWQhXCIpO2QoYSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1mLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJzZXRMb2NhbERlc2NyaXB0aW9uX3YyKCkgZXJyb3IgY2FsbGJhY2sgcmVjZWl2ZWQhXCIpO2QoYSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1cclxuZi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnNldExvY2FsRGVzY3JpcHRpb25fdjIoKSBmYWlsZWQuXCIpO2QoYSl9KX0pfTtiLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uX3YxPWZ1bmN0aW9uKGEsZixiKXt2YXIgZD10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YxKCkgY2FsbGVkLlwiKTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YxXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4obmV3IGwoZCwwLGsuUHJveHlNb2RlLkxvY2FsLHt0eXBlOmwuY29udmVydEMySChhLnR5cGUpLHNkcDphLnNkcH0pKS5zeW5jQmFycmllcigpfSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz1kLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0TG9jYWxEZXNjcmlwdGlvbik7ZC5yZW1vdGVJbnZva2VFeCghMSxcclxudC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5zZXRMb2NhbERlc2NyaXB0aW9uLFthXSxjLnN1Y2Nlc3MsYy5mYWlsKTtjLnByb20oKS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldExvY2FsRGVzY3JpcHRpb25fdjEoKTogc3VjY2VzcyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTtkLmxvY2FsRGVzY3JpcHRpb25fPWE7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldExvY2FsRGVzY3JpcHRpb25fdjEoKTogdXBkYXRlZCBsb2NhbERlc2NyaXB0aW9uX1wiKTtQcm9taXNlLmFsbChbXSkudGhlbihmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhkLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRMb2NhbERlc2NyaXB0aW9uX3YxKCkgc3VjY2Vzcy5cIik7ZiYmZigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWQubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5wcm9wLnNldExvY2FsRGVzY3JpcHRpb25fdjEoKSBmYWlsZWQuXCIpO1xyXG5iJiZiKGEubWVzc2FnZSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1kLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0TG9jYWxEZXNjcmlwdGlvbl92MSgpIGVycm9yIGNhbGxiYWNrIHJlY2VpdmVkLlwiKTtiJiZiKGEubWVzc2FnZSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1kLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0TG9jYWxEZXNjcmlwdGlvbl92MSgpIGZhaWxlZC5cIik7YiYmYihhLm1lc3NhZ2UpfSl9O2IucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKGEsZixiKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBjYWxsZWQuXCIsdGhpcy5zZHBUb1N0cmluZyhhLnNkcCkpO2lmKGEgaW5zdGFuY2VvZiBGKXJldHVybiB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uX3YyKGEpO2lmKGEgaW5zdGFuY2VvZiBSVENTZXNzaW9uRGVzY3JpcHRpb24mJmYpcmV0dXJuIHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjEoYSxcclxuZixiKTtmPXZvaWQgMDthP2Y9bmV3IEYoYS50eXBlLGEuc2RwKToobS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgZW1wdHkgcGFyYW0xLCBzZXR0aW5nIHNkcCB0eXBlIHRvIHJvbGxiYWNrXCIpLGE9dm9pZCAwLGE9XCJoYXZlLXJlbW90ZS1vZmZlclwiPT10aGlzLnNpZ25hbGluZ1N0YXRlXz9cImFuc3dlclwiOlwiaGF2ZS1sb2NhbC1wcmFuc3dlclwiPT10aGlzLnNpZ25hbGluZ1N0YXRlX3x8XCJoYXZlLXJlbW90ZS1wcmFuc3dlclwiPT10aGlzLnNpZ25hbGluZ1N0YXRlXz9cInByYW5zd2VyXCI6XCJvZmZlclwiLGY9bmV3IEYoYSxcIlwiKSk7cmV0dXJuIHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjIoZil9O2IucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uX3YyPWZ1bmN0aW9uKGEpe3ZhciBmPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFJlbW90ZURlc2NyaXB0aW9uX3YyKCkgY2FsbGVkLlwiKTtcclxucmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsZCl7Zi53YWl0VW50aWxDb25uZWN0ZWQoZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjJcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPW5ldyBsKGYsMCxrLlByb3h5TW9kZS5Mb2NhbCx7dHlwZTpsLmNvbnZlcnRDMkgoYS50eXBlKSxzZHA6YS5zZHB9KSxnPVtdO2cucHVzaChjLnN5bmNCYXJyaWVyKCkpO3ZhciBjPWYucmVnaXN0ZXJDYWxsYmFja3MoITAsITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5zZXRSZW1vdGVEZXNjcmlwdGlvbl92Mikscj17dHlwZTpsLmNvbnZlcnRDMkgoYS50eXBlKSxzZHA6YS5zZHB9O2YucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0UmVtb3RlRGVzY3JpcHRpb25fdjIscixjLnN1Y2Nlc3MsYy5mYWlsKTtnLnB1c2goYy5wcm9tKCkpO1Byb21pc2UuYWxsKGcpLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5zZXRSZW1vdGVEZXNjcmlwdGlvbl92MigpOiByZW1vdGUgc3VjY2Vzcy5cIik7Zi5yZW1vdGVEZXNjcmlwdGlvbl89YVswXTtnPVtdO2YudXNpbmdhc3luY29ubHlffHwoZi5pc1VuaWZpZWQoKT9nLnB1c2goZi5nZXRUcmFuc2NlaXZlcnNBc3luYygpKTpnLnB1c2goZi5nZXRTZW5kZXJzQXN5bmMoKSkpO1Byb21pc2UuYWxsKGcpLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFJlbW90ZURlc2NyaXB0aW9uX3YyKCk6IGZpbmFsIHN1Y2Nlc3MuXCIpO2IoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1mLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIucHJvcC5zZXRSZW1vdGVEZXNjcmlwdGlvbl92MigpIGZpbmFsIGZhaWxlZC5cIik7ZChhKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWYubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5wcm9wLnNldFJlbW90ZURlc2NyaXB0aW9uX3YyKCkgcmVtb3RlIGZhaWxlZC5cIik7ZChhKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPVxyXG5mLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjIoKSBmYWlsZWQuXCIpO2QoYSl9KX0pfTtiLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbl92MT1mdW5jdGlvbihhLGYsYil7dmFyIGQ9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjEoKSBjYWxsZWQuXCIpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFJlbW90ZURlc2NyaXB0aW9uX3YxXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4obmV3IGwoZCwwLGsuUHJveHlNb2RlLkxvY2FsLHt0eXBlOmwuY29udmVydEMySChhLnR5cGUpLHNkcDphLnNkcH0pKS5zeW5jQmFycmllcigpfSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz1kLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0UmVtb3RlRGVzY3JpcHRpb24pO2QucmVtb3RlSW52b2tlRXgoITEsXHJcbnQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Quc2V0UmVtb3RlRGVzY3JpcHRpb24sW2FdLGMuc3VjY2VzcyxjLmZhaWwpO2MucHJvbSgpLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZC51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0UmVtb3RlRGVzY3JpcHRpb25fdjEoKTogc3VjY2VzcyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTtkLnJlbW90ZURlc2NyaXB0aW9uXz1hO20ubG9nZ2VyLmxvZyhkLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRSZW1vdGVEZXNjcmlwdGlvbl92MSgpOiB1cGRhdGVkIHJlbW90ZURlc2NyaXB0aW9uX1wiKTt2YXIgYz1bXTtkLnVzaW5nYXN5bmNvbmx5X3x8KGQuaXNVbmlmaWVkKCk/Yy5wdXNoKGQuZ2V0VHJhbnNjZWl2ZXJzQXN5bmMoKSk6Yy5wdXNoKGQuZ2V0U2VuZGVyc0FzeW5jKCkpKTtQcm9taXNlLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFJlbW90ZURlc2NyaXB0aW9uX3YxKCk6IHN1Y2Nlc3MuXCIpO1xyXG5mJiZmKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2E9ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnByb3Auc2V0UmVtb3RlRGVzY3JpcHRpb25fdjEoKSBmYWlsZWQuXCIpO2ImJmIoYS5tZXNzYWdlKX0pfSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2E9ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnNldFJlbW90ZURlc2NyaXB0aW9uX3YxKCkgZmFpbGVkLlwiKTtiJiZiKGEubWVzc2FnZSl9KX07Yi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKFwiUGVlckNvbm5lY3Rpb24uZ2V0TG9jYWxTdHJlYW1zKCkgY2FsbGVkLiBbb2lkPVwiK3RoaXMub2JqZWN0X2lkKCkrXCJdXCIpO2Zvcih2YXIgYT0wLGY9dGhpcy5sb2NhbFN0cmVhbXM7YTxmLmxlbmd0aDthKyspbS5sb2dnZXIubG9nKEpTT04uc3RyaW5naWZ5KGZbYV0pKTtyZXR1cm4gdGhpcy5sb2NhbFN0cmVhbXN9O2IucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldFJlbW90ZVN0cmVhbXMoKSBjYWxsZWQuXCIpO2Zvcih2YXIgYT0wLGY9dGhpcy5yZW1vdGVTdHJlYW1zO2E8Zi5sZW5ndGg7YSsrKW0ubG9nZ2VyLmxvZyhKU09OLnN0cmluZ2lmeShmW2FdKSk7cmV0dXJuIHRoaXMucmVtb3RlU3RyZWFtc307Yi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oYSxmKXtyZXR1cm4gdGhpcy5hZGRUcmFja0ludGVybmFsKGEsZiwhMSl9O2IucHJvdG90eXBlLmFkZFRyYWNrQXN5bmM9ZnVuY3Rpb24oYSxmKXtyZXR1cm4gdGhpcy5hZGRUcmFja0ludGVybmFsKGEsZiwhMCl9O2IucHJvdG90eXBlLmFkZFRyYWNrSW50ZXJuYWw9ZnVuY3Rpb24oYSxmLGIpe3ZhciBkPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYWNrSW50ZXJuYWwoKSBjYWxsZWQuIHRyYWNrLmlkID0gXCIrYS5pZCtcIiwgc3RyZWFtcyA9IFwiK0pTT04uc3RyaW5naWZ5KGYpK1wiLCBpc0FzeW5jID0gXCIrYik7dGhpcy5pbmNyZW1lbnRQZW5kaW5nVHJhY2tDb3VudCgpO1xyXG52YXIgYz1bXTtpZihmKWlmKGYgaW5zdGFuY2VvZiBxLlJlbW90ZVN0cmVhbSljLnB1c2goZi5pZCksdGhpcy5sb2NhbFN0cmVhbXMucHVzaChmKTtlbHNlIGZvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWMucHVzaChmW2ddLmlkKSx0aGlzLmxvY2FsU3RyZWFtcy5wdXNoKGZbZ10pO2Vsc2UgbS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYWNrSW50ZXJuYWwoKSBlbXB0eSBzdHJlYW1zIHBhc3NlZCBpbiwgY29udGludWUgd2l0aCBlbXB0eSBhcnJheVwiKTt2YXIgcj1uZXcgbi5SdHBTZW5kZXIodGhpcywwLGsuUHJveHlNb2RlLlBzZXVkbyx0aGlzLmlzVW5pZmllZCgpKTt0aGlzLnNlbmRlcnNfLnB1c2gocik7Zj1uZXcgUHJvbWlzZShmdW5jdGlvbihmLGIpe2Qud2FpdFVudGlsQ29ubmVjdGVkKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYWNrSW50ZXJuYWxcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBkLnJlbW90ZUludm9rZUV4KCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuYWRkVHJhY2ssXHJcblthXSxjKX0pLnRoZW4oZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYWNrSW50ZXJuYWwoKSBzdWNjZXNzIHdpdGggb2lkOiBcIitkLnBhcmFtMChhKS5vaWQpO3IuYmluZChkLGQucGFyYW0wKGEpLm9pZCk7ci5zeW5jQmFycmllcigpLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZC51c2VyX2ZyaWVuZGx5X2lkKCkrXCJzZW5kZXIuc3luY0JhcnJpZXIoKTogc3VjY2Vzc1wiKTshZC51c2luZ2FzeW5jb25seV8mJmQuaXNVbmlmaWVkKCk/ZC5nZXRUcmFuc2NlaXZlcnNBc3luYygpLnRoZW4oZnVuY3Rpb24oKXtkLmRlY3JlbWVudFBlbmRpbmdUcmFja0NvdW50KCk7ZihyKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmFkZFRyYWNrSW50ZXJuYWwoKSBnZXRUcmFuc2NlaXZlcnNBc3luYygpIGZhaWxlZCFcIik7ZC5kZWNyZW1lbnRQZW5kaW5nVHJhY2tDb3VudCgpO2IoKX0pOihkLmRlY3JlbWVudFBlbmRpbmdUcmFja0NvdW50KCksXHJcbmYocikpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtkLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJzZW5kZXIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2QuZGVjcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKTtiKCl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiYWRkVHJhY2soKSBmYWlsZWQhXCIpO2QuZGVjcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKTtiKCl9KX0pO2lmKGIpcmV0dXJuIGY7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYWNrKCkgcmV0dXJuaW5nOiBcIityKTtyZXR1cm4gcn07Yi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oYSl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVRyYWNrKCkgY2FsbGVkLlwiKTt0aGlzLnJlbW92ZVRyYWNrQXN5bmMoYSl9O2IucHJvdG90eXBlLnJlbW92ZVRyYWNrQXN5bmM9ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnJlbW92ZVRyYWNrQXN5bmMoKSBjYWxsZWQuXCIpO3RoaXMuaW5jcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKTtmb3IodmFyIGI9MDtiPHRoaXMuc2VuZGVyc18ubGVuZ3RoO2IrKyl0aGlzLnNlbmRlcnNfW2JdPT1hJiZ0aGlzLnNlbmRlcnNfLnNwbGljZShiLDEpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGQpe2Yud2FpdFVudGlsQ29ubmVjdGVkKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVRyYWNrQXN5bmNcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBmLnJlbW90ZUludm9rZUV4KCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QucmVtb3ZlVHJhY2ssW2FdKX0pLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coZi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIucmVtb3ZlVHJhY2tBc3luYygpIHN1Y2Nlc3MuXCIpOyFmLnVzaW5nYXN5bmNvbmx5XyYmZi5pc1VuaWZpZWQoKT9mLmdldFRyYW5zY2VpdmVyc0FzeW5jKCkudGhlbihmdW5jdGlvbigpe2YuZGVjcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKTtcclxuYigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJyZW1vdmVUcmFja0FzeW5jKCkgZ2V0VHJhbnNjZWl2ZXJzQXN5bmMoKSBmYWlsZWQhXCIpO2YuZGVjcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKTtkKGEpfSk6KGYuZGVjcmVtZW50UGVuZGluZ1RyYWNrQ291bnQoKSxiKCkpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJyZW1vdmVUcmFja0FzeW5jKCkgZmFpbGVkIVwiKTtmLmRlY3JlbWVudFBlbmRpbmdUcmFja0NvdW50KCk7ZChhKX0pfSl9O2IucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRTdHJlYW0oKSBjYWxsZWQ6IFwiK0pTT04uc3RyaW5naWZ5KGEpKTt0aGlzLmxvY2FsU3RyZWFtcy5wdXNoKGEpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFN0cmVhbVwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucmVtb3RlSW52b2tlRXgoITEsXHJcbnQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuYWRkU3RyZWFtLFthXSx7fSl9KS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFN0cmVhbSgpIHN1Y2Nlc3MuXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJhZGRTdHJlYW0oKSBmYWlsZWQuXCIpfSl9O2IucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZW1vdmVTdHJlYW0oKSBjYWxsZWQ6IFwiK0pTT04uc3RyaW5naWZ5KGEpKTtmb3IodmFyIGQ9MDtkPHRoaXMubG9jYWxTdHJlYW1zLmxlbmd0aDtkKyspdGhpcy5sb2NhbFN0cmVhbXNbZF09PWEmJnRoaXMubG9jYWxTdHJlYW1zLnNwbGljZShkLDEpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVN0cmVhbVwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucmVtb3RlSW52b2tlRXgoITEsXHJcbnQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QucmVtb3ZlU3RyZWFtLFthXSl9KS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVN0cmVhbSgpIHN1Y2Nlc3MuXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCJyZW1vdmVTdHJlYW0oKSBmYWlsZWQuXCIpfSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uYWRkc3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uYWRkc3RyZWFtX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmFkZHN0cmVhbSgpIGNhbGxlZC5cIik7dGhpcy5vbmFkZHN0cmVhbV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmFkZHN0cmVhbVwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGQ9Yi5yZWdpc3RlckNhbGxiYWNrcyghMSxcclxuYi5pc051bGxDYWxsYmFjayhhKSx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9uYWRkc3RyZWFtKTtkLnRoZW4oZnVuY3Rpb24oYSl7KG5ldyBxLlJlbW90ZVN0cmVhbUV2ZW50KGIsYi5wYXJhbTAoYSkub2lkKSkuc3luY0JhcnJpZXIoKS50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmFkZHN0cmVhbSBjYWxsYmFjayByZWNlaXZlZCFcIik7dm9pZCAwPT09Yi5yZW1vdGVTdHJlYW1zLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIHZvaWQgMCE9YS5zdHJlYW0mJmIub2JqZWN0X2lkKCk9PT1hLnN0cmVhbS5vYmplY3RfaWQoKX0pJiZiLnJlbW90ZVN0cmVhbXMucHVzaChhLnN0cmVhbSk7Yi5vbmFkZHN0cmVhbV8mJihtLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25hZGRzdHJlYW0gbm90aWZpZWQhISEgXCIrYS5zdHJlYW0uaWQpLGIub25hZGRzdHJlYW1fKGEpKX0pfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLFxyXG50Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9uYWRkc3RyZWFtLGQuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcInNldF9vbmFkZHN0cmVhbSgpIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbnJlbW92ZXN0cmVhbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbnJlbW92ZXN0cmVhbV99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25yZW1vdmVzdHJlYW0oKSBjYWxsZWQuXCIpO3RoaXMub25yZW1vdmVzdHJlYW1fPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25yZW1vdmVzdHJlYW1cIikudGhlbihmdW5jdGlvbigpe3ZhciBkPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxcclxudC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5vbnJlbW92ZXN0cmVhbSk7ZC50aGVuKGZ1bmN0aW9uKGEpeyhuZXcgcS5SZW1vdGVTdHJlYW1FdmVudChiLGIucGFyYW0wKGEpLm9pZCkpLnN5bmNCYXJyaWVyKCkudGhlbihmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25yZW1vdmVzdHJlYW0gY2FsbGJhY2sgcmVjZWl2ZWQhIFwiK2Euc3RyZWFtLmlkKTt2YXIgZD1iLnJlbW90ZVN0cmVhbXMuZmluZEluZGV4KGZ1bmN0aW9uKGIpe3JldHVybiBiLmlkPT1hLnN0cmVhbS5pZH0pOzA8PWQmJmIucmVtb3RlU3RyZWFtcy5zcGxpY2UoZCwxKTtpZihiLm9ucmVtb3Zlc3RyZWFtXyliLm9ucmVtb3Zlc3RyZWFtXyhhKX0pfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25yZW1vdmVzdHJlYW0sZC5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cInNldF9vbnJlbW92ZXN0cmVhbSgpIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGMpe2IuaXNSZWRpcmVjdGVkKCk/Yi53YWl0VW50aWxDb25uZWN0ZWQoYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0U3RhdHNcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITAsITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5nZXRTdGF0cyk7Yy50aGVuKGZ1bmN0aW9uKGIpe3ZvaWQgMD09PWIucGFyYW1zfHwwPT09Yi5wYXJhbXMubGVuZ3RofHwwPT09Yi5wYXJhbXNbMF0ubGVuZ3RoP2QoKTphPyhhKEQuU3RhdHNSZXBvcnQuZnJvbUpTT04oSlNPTi5wYXJzZShiLnBhcmFtc1swXSkpKSxkKCkpOmQoRC5TdGF0c1JlcG9ydC50b1JUQ1N0YXRzUmVwb3J0KEpTT04ucGFyc2UoYi5wYXJhbXNbMF0pKSl9KTtcclxucmV0dXJuIGE/Yi5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5nZXRTdGF0cyxjLnN1Y2Nlc3MpOmIucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuZ2V0U3RhdHNfdjIsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YiYmKGE9Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmdldFN0YXRzKCkgZmFpbGVkIVwiKSxjKGEpKX0pOihhKHt9KSxkKCkpfSl9O2IucHJvdG90eXBlLlNlbmRUZWxlbWV0cnlEYXRhPWZ1bmN0aW9uKGEsYixkKXt3LmdldFJlZGlyZWN0b3IoKS50ZWxlbWV0cnkuU2VuZFRlbGVtZXRyeURhdGEoeS50ZWxfY21kLkRhdGEsYSxiLGQpfTtiLnByb3RvdHlwZS5NaWxsaXNlY29uZHN0b0Rpc3BsYXlmb3JtYXRfPWZ1bmN0aW9uKGEpe3ZhciBiLGQ7ZD1NYXRoLmZsb29yKGEvMUUzKTtiPU1hdGguZmxvb3IoZC82MCk7YT1NYXRoLmZsb29yKGIvNjApO20ubG9nZ2VyLmxvZyhNYXRoLmZsb29yKGEvXHJcbjI0KStcIjpcIithJTI0K1wiOlwiK2IlNjArXCI6XCIrZCU2MCl9O2IucHJvdG90eXBlLkNhbGN1bGF0ZUNhbGxEdXJhdGlvbmFuZFR5cGVfPWZ1bmN0aW9uKCl7aWYoMT09dGhpcy50aW1lZXJzdGFydGVkXyl7dGhpcy50aW1lZXJzdGFydGVkXz0hMTt0aGlzLmNhbGxlbmRUaW1lXz0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgYT10aGlzLmNhbGxlbmRUaW1lXy10aGlzLmNhbGxzdGFydFRpbWVfO3RoaXMuTWlsbGlzZWNvbmRzdG9EaXNwbGF5Zm9ybWF0XyhhKTthPU1hdGgucm91bmQoYS8xRTMpO20ubG9nZ2VyLmxvZyhcIkNhbGwgRHVyYXRpb24gXCIrYSk7MT09dGhpcy5jb25mZXJlbmNlY2FsbF8/dGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfQ29uZmVyZW5jZUNhbGxEdXJhdGlvbixhLDEpOigxPT10aGlzLmF1ZGlvY2FsbF8uYWN0aXZlJiZ0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9BdWRpb0NhbGxEdXJhdGlvbixhLDEpLDE9PXRoaXMudmlkZW9jYWxsXy5hY3RpdmUmJlxyXG50aGlzLlNlbmRUZWxlbWV0cnlEYXRhKHkudGVsX2tleV9WaWRlb0NhbGxEdXJhdGlvbixhLDEpLDE9PXRoaXMuc2NyZWVuc2hhcmluZ2NhbGxfLmFjdGl2ZSYmdGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfU2NyZWVuc2hhcmluZ0NhbGxEdXJhdGlvbixhLDEpKTt2YXIgYjsxPT10aGlzLmZpcnN0dGltZWxvY2Fsb2ZmZXJfJiYoYj10aGlzLmNhbGxzdGFydFRpbWVfLXRoaXMub3V0Z29pbmdjYWxsc3RhcnRfKTsxPT10aGlzLmZpcnN0dGltZXJlbW90ZW9mZmVyXyYmKGI9dGhpcy5jYWxsc3RhcnRUaW1lXy10aGlzLmluY29taW5nY2FsbHN0YXJ0Xyk7dGhpcy5NaWxsaXNlY29uZHN0b0Rpc3BsYXlmb3JtYXRfKGIpO2I9TWF0aC5yb3VuZChiLzFFMyk7bS5sb2dnZXIubG9nKFwiQ2FsbCBFc3RhYmxpc2ggVGltZSBcIitiKTsxPT10aGlzLmluY29taW5nY2FsbF8/dGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfQ2FsbEVzdEluY29taW5nLGIsMSk6MT09dGhpcy5vdXRnb2luZ2NhbGxfJiZcclxudGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfQ2FsbEVzdE91dGdvaW5nLGIsMSk7dGhpcy5TZW5kVGVsZW1ldHJ5RGF0YSh5LnRlbF9rZXlfUGVyZkNhbGxTdGF0ZSx5LnRlbF9DYWxsU3RhdGUuaWRsZSwxKX19O2IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY2xvc2UoKSBjYWxsZWQuXCIpO3RoaXMuQ2FsY3VsYXRlQ2FsbER1cmF0aW9uYW5kVHlwZV8oKTt0aGlzLnVucmVnaXN0ZXJTdGF0ZUNoYW5nZU5vdGlmaWNhdGlvbih0aGlzLm9uU3RhdGVDaGFuZ2UpO3RoaXMub25uZWdvdGlhdGlvbm5lZWRlZD10aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9dGhpcy5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlPXRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9dGhpcy5vbmljZWNhbmRpZGF0ZT10aGlzLm9uYWRkc3RyZWFtPW51bGw7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmNsb3NlXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5jbG9zZSl9KS50aGVuKGZ1bmN0aW9uKCl7YS5pY2VRXz1udWxsO2EucmVsZWFzZSgpO20ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jbG9zZSgpIHN1Y2Nlc3MuXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXthLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuY2xvc2UoKSBmYWlsZWQuXCIpO2EuaWNlUV89bnVsbDthLnJlbGVhc2UoKX0pfTtiLnByb3RvdHlwZS5jcmVhdGVEVE1GU2VuZGVyPWZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVEVE1GU2VuZGVyKCkgY2FsbGVkLlwiKTt2YXIgYixkPXRoaXMuc2VuZGVyc187aWYodm9pZCAwPT09ZHx8MD09PWQubGVuZ3RoKWQ9dGhpcy5nZXRTZW5kZXJzKCk7dm9pZCAwIT1kJiYoZD1kLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIGIudHJhY2suaWQ9PT1cclxuYS5pZH0pLHZvaWQgMCE9ZCYmKG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIiByZXR1cm5pbmcgUnRwU2VuZGVyIHdpdGggb2lkOlwiK2Qub2JqZWN0X2lkKCkpLGI9ZC5kdG1mKSk7cmV0dXJuIGJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInVzaW5nQXN5bmNPbmx5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzaW5nYXN5bmNvbmx5X30sc2V0OmZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi51c2luZ0FzeW5jT25seSgpIGNhbGxlZCB3aXRoIGFzeW5jOlwiK2EpO3ZvaWQgMCE9YSYmbnVsbCE9YSYmKHRoaXMudXNpbmdhc3luY29ubHlfPWEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmdldFNlbmRlcnNBc3luYz1mdW5jdGlvbigpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzQXN5bmMoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLmdldFNlbmRlcnNBc3luY0ludGVybmFsKCl9O1xyXG5iLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFNlbmRlcnMoKSBjYWxsZWQuIFwiKTtpZih0aGlzLnVzaW5nYXN5bmNvbmx5Xyl0aHJvdyBtLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0U2VuZGVycygpOiB0aHJvd2luZyBleGNlcHRpb246IG5vdCBhbGxvd2VkIHdoZW4gdXNpbmdBc3luY09ubHkgaXMgdHJ1ZSEhIVwiKSxuZXcgRE9NRXhjZXB0aW9uKFwiLmdldFNlbmRlcnMoKSBub3QgYWxsb3dlZCB3aGVuIHVzaW5nQXN5bmNPbmx5IGlzIHRydWUhISFcIik7dGhpcy5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbCgpO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzKCkgcmV0dXJuaW5nOlwiK3RoaXMuc2VuZGVyc18ubGVuZ3RoK1wiIGl0ZW1zXCIpO3JldHVybiB0aGlzLnNlbmRlcnNffTtiLnByb3RvdHlwZS5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbD1cclxuZnVuY3Rpb24oKXt2YXIgYT10aGlzO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbCgpIGNhbGxlZC4gXCIrdGhpcy5zZW5kZXJzXyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsZCl7YS53YWl0VW50aWxDb25uZWN0ZWQoYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0U2VuZGVyc0FzeW5jSW50ZXJuYWxcIikudGhlbihmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbCBpbnZva2luZyByZW1vdGVcIik7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuZ2V0U2VuZGVycyl9KS50aGVuKGZ1bmN0aW9uKGQpe20ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbCByZW1vdGUgc3VjY2Vzc1wiKTt2YXIgYz1bXSxnPVtdO2QucGFyYW1zWzBdLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGY9XHJcbmEuc2VuZGVyc18uZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKT09PWIub2lkfSk7dm9pZCAwPT09ZiYmKG0ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhZGRpbmcgYSBSdHBTZW5kZXIgd2l0aCBvaWQ6XCIrYi5vaWQpLGY9bmV3IG4uUnRwU2VuZGVyKGEsYi5vaWQsay5Qcm94eU1vZGUuUmVtb3RlLGEuaXNVbmlmaWVkKCkpKTtnLnB1c2goZi5zeW5jQmFycmllcigpKTtjLnB1c2goZil9KTtQcm9taXNlLmFsbChnKS50aGVuKGZ1bmN0aW9uKCl7YS5zZW5kZXJzXz1jO20ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbDogcmV0dXJuaW5nIHNlbmRlcnMgd2l0aCBpZHMgW1wiK2Euc2VuZGVyc18ubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm9iamVjdF9pZCgpfSkrXCJdXCIpO2IoYS5zZW5kZXJzXyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGQpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoZCxcIi5wcm9wLmdldFNlbmRlcnNBc3luY0ludGVybmFsKCkgZmFpbGVkLlwiKTtcclxuYS5zZW5kZXJzXz1bXTtiKGEuc2VuZGVyc18pfSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGQpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoZCxcIi5nZXRTZW5kZXJzQXN5bmNJbnRlcm5hbCgpIGZhaWxlZC5cIik7YS5zZW5kZXJzXz1bXTtiKGEuc2VuZGVyc18pfSl9KX07Yi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzQXN5bmM9ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UmVjZWl2ZXJzQXN5bmMoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLmdldFJlY2VpdmVyc0FzeW5jSW50ZXJuYWwoKX07Yi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFJlY2VpdmVycygpIGNhbGxlZC4gXCIpO2lmKHRoaXMudXNpbmdhc3luY29ubHlfKXRocm93IG0ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRSZWNlaXZlcnMoKTogdGhyb3dpbmcgZXhjZXB0aW9uOiBub3QgYWxsb3dlZCB3aGVuIHVzaW5nQXN5bmNPbmx5IGlzIHRydWUhISFcIiksXHJcbm5ldyBET01FeGNlcHRpb24oXCIuZ2V0UmVjZWl2ZXJzKCkgbm90IGFsbG93ZWQgd2hlbiB1c2luZ0FzeW5jT25seSBpcyB0cnVlISEhXCIpO3RoaXMuZ2V0UmVjZWl2ZXJzQXN5bmNJbnRlcm5hbCgpO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRSZWNlaXZlcnMoKSByZXR1cm5pbmc6XCIrdGhpcy5yZWNlaXZlcnNfLmxlbmd0aCtcIiBpdGVtc1wiKTtyZXR1cm4gdGhpcy5yZWNlaXZlcnNffTtiLnByb3RvdHlwZS5nZXRSZWNlaXZlcnNBc3luY0ludGVybmFsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UmVjZWl2ZXJzQXN5bmNJbnRlcm5hbCgpIGNhbGxlZC4gXCIrdGhpcy5yZWNlaXZlcnNfKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixkKXthLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRSZWNlaXZlcnNBc3luY0ludGVybmFsXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsXHJcbnQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3QuZ2V0UmVjZWl2ZXJzKX0pLnRoZW4oZnVuY3Rpb24oZCl7bS5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFJlY2VpdmVyc0FzeW5jSW50ZXJuYWw6IHJlbW90ZSBzdWNjZXNzLlwiKTt2YXIgYz1bXSxnPVtdO2QucGFyYW1zWzBdLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGY9YS5yZWNlaXZlcnNfLmZpbmQoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2JqZWN0X2lkKCk9PT1iLm9pZH0pO3ZvaWQgMD09PWYmJihtLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgYWRkaW5nIGEgUnRwUmVjZWl2ZXIgd2l0aCBvaWQ6XCIrYi5vaWQpLGY9bmV3IG4uUnRwUmVjZWl2ZXIoYSxiLm9pZCxrLlByb3h5TW9kZS5SZW1vdGUsYS5pc1VuaWZpZWQoKSkpO2cucHVzaChmLnN5bmNCYXJyaWVyKCkpO2MucHVzaChmKX0pO1Byb21pc2UuYWxsKGcpLnRoZW4oZnVuY3Rpb24oKXthLnJlY2VpdmVyc189YzttLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldFJlY2VpdmVyc0FzeW5jSW50ZXJuYWw6IHJldHVybmluZyByZWNlaXZlciB3aXRoIGlkcyBbXCIrYS5yZWNlaXZlcnNfLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKX0pK1wiXVwiKTtiKGEucmVjZWl2ZXJzXyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGQpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoZCxcIi5wcm9wLmdldFJlY2VpdmVyc0FzeW5jSW50ZXJuYWwoKSBmYWlsZWQhXCIpO2EucmVjZWl2ZXJzXz1bXTtiKGEucmVjZWl2ZXJzXyl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZCl7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihkLFwiLmdldFJlY2VpdmVyc0FzeW5jSW50ZXJuYWwoKSBmYWlsZWQhXCIpO2EucmVjZWl2ZXJzXz1bXTtiKGEucmVjZWl2ZXJzXyl9KX0pfTtiLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcj1mdW5jdGlvbihhLGIpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRUcmFuc2NlaXZlcigpIGNhbGxlZDogXCIrSlNPTi5zdHJpbmdpZnkoYSkrXHJcblwiIGluaXQ9XCIrSlNPTi5zdHJpbmdpZnkoYikpO3JldHVybiB0aGlzLmFkZFRyYW5zY2VpdmVySW50ZXJuYWwoYSxiLCExKX07Yi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXJBc3luYz1mdW5jdGlvbihhLGIpe20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRUcmFuc2NlaXZlckFzeW5jKCkgY2FsbGVkOiBcIitKU09OLnN0cmluZ2lmeShhKStcIiBpbml0PVwiK0pTT04uc3RyaW5naWZ5KGIpKTtyZXR1cm4gdGhpcy5hZGRUcmFuc2NlaXZlckludGVybmFsKGEsYiwhMCl9O2IucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVySW50ZXJuYWw9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYW5zY2VpdmVySW50ZXJuYWwoKSBjYWxsZWQ6IFwiK0pTT04uc3RyaW5naWZ5KGEpK1wiIGluaXQ9XCIrSlNPTi5zdHJpbmdpZnkoYikpO3RoaXMuaW5jcmVtZW50UGVuZGluZ1RyYW5zY2VpdmVyQ291bnQoKTtcclxudmFyIHI9ei5SdGNSdHBUcmFuc2NlaXZlckRpcmVjdGlvbi5zZW5kcmVjdixlPXZvaWQgMDtiJiYoZT16LlJ0Y1J0cFRyYW5zY2VpdmVySW5pdC50b1J0Y1J0cFRyYW5zY2VpdmVySW5pdChiKSxlLmRpcmVjdGlvbiYmKHI9ZS5kaXJlY3Rpb24pKTt2YXIgQz1iO2cuUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVDYWxsQ29uc3RyYWludHNTdXBwb3J0ZWQoKSYmKEM9ZSk7dmFyIHg9bmV3IHouUnRwVHJhbnNjZWl2ZXIodGhpcywwLGsuUHJveHlNb2RlLlBzZXVkbyx0aGlzLmlzVW5pZmllZCgpLHIpO3RoaXMudHJhbnNjZWl2ZXJzXy5wdXNoKHgpO2I9bmV3IFByb21pc2UoZnVuY3Rpb24oYixmKXtjLndhaXRVbnRpbENvbm5lY3RlZChjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRUcmFuc2NlaXZlckludGVybmFsXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGE/Yy5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5hZGRUcmFuc2NlaXZlcldpdGhLaW5kLFxyXG5hLEMpOmMucmVtb3RlSW52b2tlRXgoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5hZGRUcmFuc2NlaXZlcldpdGhUcmFjayxbYV0sQyl9KS50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5hZGRUcmFuc2NlaXZlckludGVybmFsKCkgc3VjY2VzcyB3aXRoIG9pZDogXCIrYy5wYXJhbTAoYSkub2lkKTt4LmJpbmQoYyxjLnBhcmFtMChhKS5vaWQpO3guc3luY0JhcnJpZXIoKS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYW5zY2VpdmVySW50ZXJuYWwoKTogc3VjY2Vzc1wiKTtjLmRlY3JlbWVudFBlbmRpbmdUcmFuc2NlaXZlckNvdW50KCk7Yih4KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yy5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnByb3AuYWRkVHJhbnNjZWl2ZXJJbnRlcm5hbCgpIGZhaWxlZCFcIik7Yy5kZWNyZW1lbnRQZW5kaW5nVHJhbnNjZWl2ZXJDb3VudCgpO1xyXG5mKCl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yy5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiYWRkVHJhbnNjZWl2ZXJJbnRlcm5hbCgpIGZhaWxlZCFcIik7Yy5kZWNyZW1lbnRQZW5kaW5nVHJhbnNjZWl2ZXJDb3VudCgpO2YoKX0pfSk7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFRyYW5zY2VpdmVySW50ZXJuYWwoKSByZXR1cm5pbmc6XCIpO3JldHVybiBkP2I6eH07Yi5wcm90b3R5cGUuaW5jcmVtZW50UGVuZGluZ1RyYW5zY2VpdmVyQ291bnQ9ZnVuY3Rpb24oKXsrK3RoaXMucGVuZGluZ3RyYW5zY2VpdmVyX307Yi5wcm90b3R5cGUuZGVjcmVtZW50UGVuZGluZ1RyYW5zY2VpdmVyQ291bnQ9ZnVuY3Rpb24oKXswPHRoaXMucGVuZGluZ3RyYW5zY2VpdmVyXyYmLS10aGlzLnBlbmRpbmd0cmFuc2NlaXZlcl99O2IucHJvdG90eXBlLmluY3JlbWVudFBlbmRpbmdUcmFja0NvdW50PWZ1bmN0aW9uKCl7Kyt0aGlzLnBlbmRpbmd0cmFja199O2IucHJvdG90eXBlLmRlY3JlbWVudFBlbmRpbmdUcmFja0NvdW50PVxyXG5mdW5jdGlvbigpezA8dGhpcy5wZW5kaW5ndHJhY2tfJiYtLXRoaXMucGVuZGluZ3RyYWNrX307Yi5wcm90b3R5cGUud2FpdFRyYW5zY2VpdmVyQW5kVHJhY2tSZWFkeT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGMpe20ubG9nZ2VyLnRyYWNlKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLndhaXRUcmFuc2NlaXZlckFuZFRyYWNrUmVhZHkoKTogcGVuZGluZ3RyYW5zY2VpdmVyXz1cIitiLnBlbmRpbmd0cmFuc2NlaXZlcl8rXCIsIHBlbmRpbmd0cmFja189XCIrYi5wZW5kaW5ndHJhY2tfKTtpZigwPT1iLnBlbmRpbmd0cmFuc2NlaXZlcl8mJjA9PWIucGVuZGluZ3RyYWNrXyl7Zm9yKDtiLmRlZmVycmVkT2ZmZXJBbnN3ZXJzJiYwPGIuZGVmZXJyZWRPZmZlckFuc3dlcnMubGVuZ3RoOyliLmRlZmVycmVkT2ZmZXJBbnN3ZXJzLnNoaWZ0KCkucG9zdCghMCk7ZCgpfWVsc2UgYi5kZWZlcnJlZE9mZmVyQW5zd2Vycy5wdXNoKG5ldyBrLmRlZmVycmVkX2FjdGlvbihkLFxyXG5jLGEpKSxiLmNoZWNrVHJhbnNjZWl2ZXJBbmRUcmFjayg2MDAsMjUpfSl9O2IucHJvdG90eXBlLmNoZWNrVHJhbnNjZWl2ZXJBbmRUcmFjaz1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXM7aWYoMD49YSlmb3IobS5sb2dnZXIubG9nKFwiLmNoZWNrVHJhbnNjZWl2ZXJBbmRUcmFjaygpIHRpbWVvdXQgd2FpdGluZyBmb3IgdHJhbnNjZWl2ZXIgcmVhZHkhXCIpO3RoaXMuZGVmZXJyZWRPZmZlckFuc3dlcnMmJjA8dGhpcy5kZWZlcnJlZE9mZmVyQW5zd2Vycy5sZW5ndGg7KXRoaXMuZGVmZXJyZWRPZmZlckFuc3dlcnMuc2hpZnQoKS5wb3N0KCExKTtlbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oYSl7aWYoMD09ZC5wZW5kaW5ndHJhbnNjZWl2ZXJfJiYwPT1kLnBlbmRpbmd0cmFja18pZm9yKDtkLmRlZmVycmVkT2ZmZXJBbnN3ZXJzJiYwPGQuZGVmZXJyZWRPZmZlckFuc3dlcnMubGVuZ3RoOylkLmRlZmVycmVkT2ZmZXJBbnN3ZXJzLnNoaWZ0KCkucG9zdCghMCk7ZWxzZSBtLmxvZ2dlci5sb2coJy5jaGVja1RyYW5zY2VpdmVyQW5kVHJhY2soKTogY291bnQ9IFwiJytcclxuYSksZC5jaGVja1RyYW5zY2VpdmVyQW5kVHJhY2soLS1hLGIpfSxiLGEpfTtiLnByb3RvdHlwZS5nZXRUcmFuc2NlaXZlcnM9ZnVuY3Rpb24oKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0VHJhbnNjZWl2ZXJzKCkgY2FsbGVkLiBcIik7aWYodGhpcy51c2luZ2FzeW5jb25seV8pdGhyb3cgbS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFRyYW5zY2VpdmVycygpOiB0aHJvd2luZyBleGNlcHRpb246IG5vdCBhbGxvd2VkIHdoZW4gdXNpbmdBc3luY09ubHkgaXMgdHJ1ZSEhIVwiKSxuZXcgRE9NRXhjZXB0aW9uKFwiLmdldFRyYW5zY2VpdmVycygpIG5vdCBhbGxvd2VkIHdoZW4gdXNpbmdBc3luY09ubHkgaXMgdHJ1ZSEhIVwiKTt0aGlzLmdldFRyYW5zY2VpdmVyc0FzeW5jKCk7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFRyYW5zY2VpdmVycygpIHJldHVybmluZzpcIit0aGlzLnRyYW5zY2VpdmVyc18ubGVuZ3RoK1xyXG5cIiBpdGVtc1wiKTtyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnNffTtiLnByb3RvdHlwZS5nZXRUcmFuc2NlaXZlcnNBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFRyYW5zY2VpdmVyc0FzeW5jKCkgY2FsbGVkLiBcIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsZCl7aWYoIWEuaXNVbmlmaWVkKCkpcmV0dXJuIG0ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRUcmFuc2NlaXZlcnNBc3luYygpIGNhbGxlZCBpbiBub24tVW5pZmllZC4gXCIpLFByb21pc2UucmVzb2x2ZShhLnRyYW5zY2VpdmVyc18pO2Eud2FpdFVudGlsQ29ubmVjdGVkKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFRyYW5zY2VpdmVyc0FzeW5jXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5nZXRUcmFuc2NlaXZlcnMpfSkudGhlbihmdW5jdGlvbihkKXttLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldFRyYW5zY2VpdmVyc0FzeW5jKCkgcmVtb3RlIHN1Y2Nlc3MuXCIpO3ZhciBjPVtdLGc9W107ZC5wYXJhbXNbMF0uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgZj1hLnRyYW5zY2VpdmVyc18uZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKT09PWIub2lkfSk7dm9pZCAwPT09ZiYmKG0ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhZGRpbmcgYSBSdHBUcmFuc2NlaXZlciB3aXRoIG9pZDpcIitiLm9pZCksZj1uZXcgei5SdHBUcmFuc2NlaXZlcihhLGIub2lkLGsuUHJveHlNb2RlLlJlbW90ZSxhLmlzVW5pZmllZCgpKSk7Zy5wdXNoKGYuc3luY0JhcnJpZXIoKSk7Yy5wdXNoKGYpfSk7UHJvbWlzZS5hbGwoZykudGhlbihmdW5jdGlvbigpe2EudHJhbnNjZWl2ZXJzXz1jO20ubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5wcm9wLmdldFRyYW5zY2VpdmVyc0FzeW5jOiByZXR1cm5pbmcgdHJhbnNjZWl2ZXIgd2l0aCBpZHMgW1wiK2EudHJhbnNjZWl2ZXJzXy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2JqZWN0X2lkKCl9KStcclxuXCJdXCIpO2IoYS50cmFuc2NlaXZlcnNfKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZCl7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihkLFwiLnByb3AuZ2V0VHJhbnNjZWl2ZXJzQXN5bmMoKSBmYWlsZWQhXCIpO2EudHJhbnNjZWl2ZXJzXz1bXTtiKGEudHJhbnNjZWl2ZXJzXyl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZCl7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihkLFwiLmdldFRyYW5zY2VpdmVyc0FzeW5jKCkgZmFpbGVkIVwiKTthLnRyYW5zY2VpdmVyc189W107YihhLnRyYW5zY2VpdmVyc18pfSl9KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwic2N0cFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3RwX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbmRhdGFjaGFubmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uZGF0YWNoYW5uZWxffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XHJcbnRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmRhdGFjaGFubmVsKCkgY2FsbGVkLlwiKTt0aGlzLm9uZGF0YWNoYW5uZWxfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25kYXRhY2hhbm5lbFwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGQ9Yi5yZWdpc3RlckNhbGxiYWNrcyghMSxiLmlzTnVsbENhbGxiYWNrKGEpLHQubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Qub25kYXRhY2hhbm5lbCk7ZC50aGVuKGZ1bmN0aW9uKGEpe20ubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmRhdGFjaGFubmVsIGNhbGxiYWNrIHJlY2VpdmVkISEhXCIpO2lmKG51bGw9PT1iLnJlbW90ZWRhdGFjaGFubmVsX3x8Yi5yZW1vdGVkYXRhY2hhbm5lbF8ub2JqZWN0X2lkKCkhPWIucGFyYW0wKGEpLm9pZCliLnJlbW90ZWRhdGFjaGFubmVsXz1uZXcgQi5SdGNEYXRhQ2hhbm5lbChiLGIucGFyYW0wKGEpLm9pZCxcclxuay5Qcm94eU1vZGUuUmVtb3RlKSxiLnJlbW90ZWRhdGFjaGFubmVsXy5zeW5jQmFycmllcigpLnRoZW4oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCJyZW1vdGVkYXRhY2hhbm5lbF8uc3luY0JhcnJpZXIoKTogc3VjY2Vzc1wiKTt2YXIgYT1uZXcgRXZlbnQoXCJvbmRhdGFjaGFubmVsXCIpO2EuY2hhbm5lbD1iLnJlbW90ZWRhdGFjaGFubmVsXztpZihiLmxvY2FsZGF0YWNoYW5uZWxfJiYhYi5sb2NhbGRhdGFjaGFubmVsXy5pc2Rlc3Ryb3llZCgpKWIubG9jYWxkYXRhY2hhbm5lbF8uc3luY0JhcnJpZXIoKS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wib25kYXRhY2hhbm5lbCgpOiBub3RpZnlpbmcuLi5cIik7aWYoYi5vbmRhdGFjaGFubmVsXyliLm9uZGF0YWNoYW5uZWxfKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcImxvY2FsZGF0YWNoYW5uZWxfLnN5bmNCYXJyaWVyKCk6IGZhaWxlZCFcIil9KTtcclxuZWxzZSBpZihtLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCJvbmRhdGFjaGFubmVsKCk6IG5vdGlmeWluZy4uLlwiKSxiLm9uZGF0YWNoYW5uZWxfKWIub25kYXRhY2hhbm5lbF8oYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wicmVtb3RlZGF0YWNoYW5uZWxfLnN5bmNCYXJyaWVyKCk6IGZhaWxlZCFcIil9KX0pO3JldHVybiBiLnJlbW90ZUludm9rZSghMCx0Lm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90Lm9uZGF0YWNoYW5uZWwsZC5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXttLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25kYXRhY2hhbm5lbCgpIGZhaWxlZC5cIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5maXhEYXRhQ2hhbm5lbENvbmZpZz1mdW5jdGlvbihhKXttLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZml4RGF0YUNoYW5uZWxDb25maWcoKSBjYWxsZWQ6IFwiK1xyXG5hKTt2b2lkIDA9PWEmJihhPXt9KTt2b2lkIDA9PWEubmVnb3RpYXRlZCYmdm9pZCAwPT1hLmlkJiYoYS5uZWdvdGlhdGVkPSExLGEuaWQ9LTEpO3JldHVybiBhfTtiLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXM7bS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNyZWF0ZURhdGFDaGFubmVsKCkgY2FsbGVkLiBsYWJlbDpcIithKTt0aGlzLmxvY2FsZGF0YWNoYW5uZWxfPW5ldyBCLlJ0Y0RhdGFDaGFubmVsKHRoaXMsMCxrLlByb3h5TW9kZS5Qc2V1ZG8pO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNyZWF0ZURhdGFDaGFubmVsXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZC5yZW1vdGVJbnZva2UoITEsdC5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdC5jcmVhdGVEYXRhQ2hhbm5lbCxhLGQuZml4RGF0YUNoYW5uZWxDb25maWcoYikpfSkudGhlbihmdW5jdGlvbihhKXttLmxvZ2dlci5sb2coZC51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmNyZWF0ZURhdGFDaGFubmVsKCkgc3VjY2VzcyB3aXRoIG9pZDogXCIrZC5wYXJhbTAoYSkub2lkKTtkLmxvY2FsZGF0YWNoYW5uZWxfLmJpbmQoZCxkLnBhcmFtMChhKS5vaWQpO2QubG9jYWxkYXRhY2hhbm5lbF8uc3luY0JhcnJpZXIoKS50aGVuKGZ1bmN0aW9uKCl7bS5sb2dnZXIubG9nKGQudXNlcl9mcmllbmRseV9pZCgpK1wiY2hhbm5lbC5zeW5jQmFycmllcigpOiBzdWNjZXNzXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe20ubG9nZ2VyLmxvZyhkLnVzZXJfZnJpZW5kbHlfaWQoKStcImNoYW5uZWwuc3luY0JhcnJpZXIoKTogZmFpbGVkIVwiKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWQucGFyYW0wKGEpO20ubG9nZ2VyLmxvZyhkLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVEYXRhQ2hhbm5lbCgpIGZhaWxlZCB3aXRoIGVycm9yOiBcIithKX0pO20ubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jcmVhdGVEYXRhQ2hhbm5lbCgpIHJldHVybmluZzogXCIrXHJcbnRoaXMubG9jYWxkYXRhY2hhbm5lbF8pO3JldHVybiB0aGlzLmxvY2FsZGF0YWNoYW5uZWxffTtyZXR1cm4gYn0oay5Qcm94eU9iamVjdCk7YS5QZWVyQ29ubmVjdGlvbj1ifSw2NTg6ZnVuY3Rpb24oYixhLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGQ9YXJndW1lbnRzLmxlbmd0aDtiPGQ7YisrKWErPWFyZ3VtZW50c1tiXS5sZW5ndGg7Zm9yKHZhciBhPUFycmF5KGEpLGM9MCxiPTA7YjxkO2IrKylmb3IodmFyIGc9YXJndW1lbnRzW2JdLHI9MCxlPWcubGVuZ3RoO3I8ZTtyKyssYysrKWFbY109Z1tyXTtyZXR1cm4gYX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5Qcm94eU9iamVjdD1hLlByb3h5TW9kZT1hLlByb3h5UmVhZHlTdGF0ZT1hLm51bWJlcl9hbGxvY2F0b3I9YS5jYWxsYmFjaz1hLnJwY19jYWxsYmFjaz1hLmRlZmVycmVkX2FjdGlvbj12b2lkIDA7dmFyIHU9XHJcbmMoOTQ2KSxoPWMoODUxKSxkPWMoNTQ1KSx3PWMoMjQ3KSxxPWMoNTUwKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQsYyl7dGhpcy5yZXNvbHZlPWI7dGhpcy5yZWplY3Q9ZDt0aGlzLm5hbWVfPWN9T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTthLnByb3RvdHlwZS5wb3N0PWZ1bmN0aW9uKGEpezE9PWE/KGgubG9nZ2VyLmxvZygnZGVmZXJyZWRfYWN0aW9uLnBvc3QoKTogcmVzb2x2aW5nIFwiJyt0aGlzLm5hbWVfKydcIicpLHRoaXMucmVzb2x2ZSgpKTooaC5sb2dnZXIubG9nKCdkZWZlcnJlZF9hY3Rpb24ucG9zdCgpOiByZWplY3RpbmcgXCInK3RoaXMubmFtZV8rJ1wiJyksdGhpcy5yZWplY3QoKSl9O2EucHJvdG90eXBlLnBvc3RXaXRoUmVzdWx0PWZ1bmN0aW9uKGEsYil7MT09YT8oaC5sb2dnZXIubG9nKCdkZWZlcnJlZF9hY3Rpb24ucG9zdCgpOiByZXNvbHZpbmcgXCInK1xyXG50aGlzLm5hbWVfKydcIicpLHRoaXMucmVzb2x2ZShiKSk6KGgubG9nZ2VyLmxvZygnZGVmZXJyZWRfYWN0aW9uLnBvc3QoKTogcmVqZWN0aW5nIFwiJyt0aGlzLm5hbWVfKydcIicpLHRoaXMucmVqZWN0KCkpfTthLnByb3RvdHlwZS5wb3N0UmVzb2x2ZT1mdW5jdGlvbihhKXt0aGlzLnJlc29sdmUoYSl9O2EucHJvdG90eXBlLnBvc3RSZWplY3Q9ZnVuY3Rpb24oYSl7dm9pZCAwPT1hP3RoaXMucmVqZWN0KCk6dGhpcy5yZWplY3QoYSl9O3JldHVybiBhfSgpO2EuZGVmZXJyZWRfYWN0aW9uPW47dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLmlkPWE7dGhpcy5pc19udWxsPWJ9fSgpO2EucnBjX2NhbGxiYWNrPWs7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCxjKXt0aGlzLnN1Y2Nlc3M9bmV3IGsoYjw8MTYsZCk7dGhpcy5mYWlsPW5ldyBrKGI8PDE2fDEsZCk7dGhpcy5pZD1iO3RoaXMub25lU2hvdD1jfWEucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oYSl7aC5sb2dnZXIudHJhY2UoXCJjYWxsYmFjay5yZXNvbHZlKCkgY2FsbGVkLiBbaWQ9XCIrXHJcbnRoaXMuaWQrXCJdXCIpO251bGwhPXRoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyKGEpfTthLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5lcnJfaGFuZGxlciYmdGhpcy5lcnJfaGFuZGxlcihhKX07YS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhKXt0aGlzLmhhbmRsZXI9YX07YS5wcm90b3R5cGUucHJvbT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsZCl7YS5oYW5kbGVyPWI7YS5lcnJfaGFuZGxlcj1kfSl9O3JldHVybiBhfSgpO2EuY2FsbGJhY2s9djt2YXIgej1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkLGMpe3RoaXMubWluXz1iPGEuQk9VTkRfTE9XfHxiPmEuQk9VTkRfSElHSD9hLkRFRl9NSU46Yjt0aGlzLm1heF89ZDxhLkJPVU5EX0xPV3x8ZD5hLkJPVU5EX0hJR0g/YS5ERUZfTUFYOmQ7dGhpcy5pbnRlcnZhbF89YzxhLkJPVU5EX0xPV3x8Yz5hLkJPVU5EX0hJR0g/YS5ERUZfSU5URVJWQUw6Yzt0aGlzLm51bWJlcnNfPVxyXG5uZXcgTWFwO3RoaXMubnVtYmVyc18uc2V0KHRoaXMubWluXyx0aGlzLm1heF8pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcIm1heFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcIm1pblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW5ffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcImludGVydmFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVydmFsX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsXCJudW1iZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm51bWJlcnNffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2EucHJvdG90eXBlLmFsbG9jYXRlPVxyXG5mdW5jdGlvbigpe3ZhciBhPS0xO2lmKDA8dGhpcy5udW1iZXJzXy5zaXplKXt2YXIgYj1BcnJheS5mcm9tKHRoaXMubnVtYmVyc18ua2V5cygpKS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pWzBdLGQ9dGhpcy5udW1iZXJzXy5nZXQoYiksYT10aGlzLm1pbl8rKGItdGhpcy5taW5fKSp0aGlzLmludGVydmFsXzt0aGlzLm51bWJlcnNfW1wiZGVsZXRlXCJdKGIpO2IrPTE7YjxkJiZ0aGlzLm51bWJlcnNfLnNldChiLGQpfXJldHVybiBhfTthLnByb3RvdHlwZS5kZWFsbG9jYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LmZyb20odGhpcy5udW1iZXJzXy5rZXlzKCkpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7YT0oYS10aGlzLm1pbl8pL3RoaXMuaW50ZXJ2YWxfO2Zvcih2YXIgZD0hMSxjPTA7YzxiLmxlbmd0aCYmKGJbY109PWErMT8odGhpcy5udW1iZXJzXy5zZXQoYSx0aGlzLm51bWJlcnNfLmdldChiW2NdKSksdGhpcy5udW1iZXJzX1tcImRlbGV0ZVwiXShiW2NdKSxcclxuZD0hMCk6dGhpcy5udW1iZXJzXy5nZXQoYltjXSk9PWEmJih0aGlzLm51bWJlcnNfLnNldChiW2NdLGErMSksYysxPGIubGVuZ3RoJiZiW2MrMV09PWErMSYmKHRoaXMubnVtYmVyc18uc2V0KGJbY10sdGhpcy5udW1iZXJzXy5nZXQoYltjKzFdKSksdGhpcy5udW1iZXJzX1tcImRlbGV0ZVwiXShiW2MrMV0pKSxkPSEwKSwhZCk7YysrKTtkfHx0aGlzLm51bWJlcnNfLnNldChhLGErMSl9O2EuQk9VTkRfTE9XPTA7YS5CT1VORF9ISUdIPTQyOTQ5NjcyOTU7YS5ERUZfTUlOPTA7YS5ERUZfTUFYPTEwMjQ7YS5ERUZfSU5URVJWQUw9MTtyZXR1cm4gYX0oKTthLm51bWJlcl9hbGxvY2F0b3I9ejt2YXIgZzsoZnVuY3Rpb24oYSl7YVthLk5vdENvbmZpZ3VyZWQ9MF09XCJOb3RDb25maWd1cmVkXCI7YVthLkNvbmZpZ3VyZWQ9MV09XCJDb25maWd1cmVkXCI7YVthLkVycm9yPTJdPVwiRXJyb3JcIjthW2EuRGVzdHJveWVkPTNdPVwiRGVzdHJveWVkXCJ9KShnPWEuUHJveHlSZWFkeVN0YXRlfHwoYS5Qcm94eVJlYWR5U3RhdGU9XHJcbnt9KSk7dmFyIEI7KGZ1bmN0aW9uKGEpe2FbYS5Mb2NhbD0wXT1cIkxvY2FsXCI7YVthLlJlbW90ZT0xXT1cIlJlbW90ZVwiO2FbYS5Qc2V1ZG89Ml09XCJQc2V1ZG9cIn0pKEI9YS5Qcm94eU1vZGV8fChhLlByb3h5TW9kZT17fSkpO2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxrLHgscixBKXt2YXIgej10aGlzO3ZvaWQgMD09PXImJihyPW51bGwpO3ZvaWQgMD09PUEmJihBPVtdKTtmb3IodmFyIHY9W10sbj02O248YXJndW1lbnRzLmxlbmd0aDtuKyspdltuLTZdPWFyZ3VtZW50c1tuXTt0aGlzLmhkeG1zPXUuZ2V0UmVkaXJlY3RvcigpO3RoaXMuaWlkPWM7dGhpcy5vaWQ9azt0aGlzLm1vZGU9eDt0aGlzLnByb3h5c3RhdGU9Zy5Ob3RDb25maWd1cmVkO3RoaXMuZGVmZXJyZWRBY3Rpb25zPVtdO3RoaXMucGVuZGluZ1N5bmNCYXJyaWVycz1bXTt0aGlzLmNicz1uZXcgTWFwO2lmKHg9PT1CLkxvY2FsKXtuPSExO3RoaXMuaWlkPT09cS5jbGFzc19pZF90LkVuZ2luZUNvbnRyb2wmJihuPVxyXG4hMCk7dmFyIGw9dGhpczt0aGlzLmhkeG1zLnN0YXJ0UmVkaXJlY3Rpb24obix0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKSkudGhlbihmdW5jdGlvbigpe3oub2lkPWEubmV4dElkKys7aC5sb2dnZXIubG9nKHoudXNlcl9mcmllbmRseV9pZCgpK1wiIGFzc2lnbmVkIGxvY2FsIG9pZDpcIit6Lm9pZCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsYil7bC53YWl0VW50aWxDb25uZWN0ZWRFeChsLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jdG9yKClcIixBKS50aGVuKGZ1bmN0aW9uKCl7aC5sb2dnZXIubG9nKGwudXNlcl9mcmllbmRseV9pZCgpK1wiLmN0b3IoKSBhbGwgcGFyYW1ldGVyIHJwYyBvYmplY3RzIGFyZSByZWFkeS5cIik7dmFyIGE9bC5vaWRzRnJvbVByb3h5T2piZWN0cyhBKS5jb25jYXQodiksYj1xLldlYnJwY0NsYXNzTGliSW5mb1V0aWwuZ2V0TWV0aG9kRmVhdHVyZUJ5aWQoYywwKTtyZXR1cm4gbC5oZHhtcy5XU1NlbmRPYmplY3RXcmFwcGVyKGIsYywwLGQuV3NKc29uVXRpbC5jcmVhdGVNZXNzYWdlQnlpZC5hcHBseShkLldzSnNvblV0aWwsXHJcbmUoWyExLCExLGQud3NfbXNnX3R5cGVfdC5yZXEsYywwLGwub2lkXSxhKSkpfSkudGhlbihmdW5jdGlvbihiKXtoLmxvZ2dlci5sb2cobC51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY3RvcigpIHN1Y2Nlc3MuXCIpO2EoYil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7aC5sb2dnZXIubG9nKGwudXNlcl9mcmllbmRseV9pZCgpK1wiLmN0b3IoKSBmYWlsZWQuXCIpO2IoKX0pfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2gubG9nZ2VyLnRyYWNlKFwiUHJveHlPYmplY3Q6IHNldHRpbmcgc3RhdGUgdG8gY29uZmlndXJlZC4gKGlpZDogXCIrei5paWQrXCIgb2lkOiBcIit6Lm9pZCtcIilcIik7dmFyIGQ9ei5vaWQ7bC5wcm94eXN0YXRlPWcuQ29uZmlndXJlZDtsLm9pZD16LnBhcmFtMChhKTtoLmxvZ2dlci5sb2coei51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgYXNzaWduZWQgcmVtb3RlIG9pZCBmb3IgbG9jYWwgb2lkOlwiK2QpO2wub25Db25uZWN0ZWQoKTtyJiZyKCk7dy5nZXRHQygpLnRyYWNrT2JqZWN0KHosYil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7bC5wcm94eXN0YXRlPVxyXG5nLkVycm9yO2wub25Db25uZWN0ZWQoKX0pfWVsc2UgeD09PUIuUmVtb3RlJiYodGhpcy5wcm94eXN0YXRlPWcuQ29uZmlndXJlZCx3LmdldEdDKCkudHJhY2tPYmplY3QodGhpcyxiKSl9YS5wcm90b3R5cGUuc3luY0JhcnJpZXJEZWVwPWZ1bmN0aW9uKGEsYil7dmFyIGQ9ITA7MDx0aGlzLnBlbmRpbmdTeW5jQmFycmllcnMubGVuZ3RoJiYoZD0hMSk7dGhpcy5wZW5kaW5nU3luY0JhcnJpZXJzLnB1c2gobmV3IG4oYSxiLHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyXCIpKTtoLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXJEZWVwKCkgcXVlaW5nIHJlcXVlc3QgZm9yOlwiK3RoaXMub2lkK1wiLCBydjpcIitkK1wiLCBpdGVtczpcIit0aGlzLnBlbmRpbmdTeW5jQmFycmllcnMubGVuZ3RoKTtyZXR1cm4gZH07YS5wcm90b3R5cGUuc3luY0JhcnJpZXJSZXNvbHZlPWZ1bmN0aW9uKGEpe2ZvcihoLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnN5bmNCYXJyaWVyUmVzb2x2ZSgpIGl0ZW1zOlwiK3RoaXMucGVuZGluZ1N5bmNCYXJyaWVycy5sZW5ndGgpO3RoaXMucGVuZGluZ1N5bmNCYXJyaWVycyYmMDx0aGlzLnBlbmRpbmdTeW5jQmFycmllcnMubGVuZ3RoOyloLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXJSZXNvbHZlKCkgaXRlbXM6XCIrdGhpcy5wZW5kaW5nU3luY0JhcnJpZXJzLmxlbmd0aCtcIiByZXNvbHZpbmcgcmVxdWVzdCBmb3I6XCIrdGhpcy5vaWQpLHRoaXMucGVuZGluZ1N5bmNCYXJyaWVycy5zaGlmdCgpLnBvc3RSZXNvbHZlKGEpfTthLnByb3RvdHlwZS5zeW5jQmFycmllclJlamVjdD1mdW5jdGlvbihhKXtmb3IoaC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyUmVqZWN0KCkgaXRlbXM6XCIrdGhpcy5wZW5kaW5nU3luY0JhcnJpZXJzLmxlbmd0aCk7dGhpcy5wZW5kaW5nU3luY0JhcnJpZXJzJiYwPHRoaXMucGVuZGluZ1N5bmNCYXJyaWVycy5sZW5ndGg7KWgubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuc3luY0JhcnJpZXJSZWplY3QoKSByZWplY3RpbmcgcmVxdWVzdCBmb3I6XCIrdGhpcy5vaWQpLHRoaXMucGVuZGluZ1N5bmNCYXJyaWVycy5zaGlmdCgpLnBvc3RSZWplY3QoYSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcInByb3h5cmVhZHlzdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm94eXN0YXRlfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5wcm94eXN0YXRlPWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7YS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2gubG9nZ2VyLnRyYWNlKFwiUHJveHlPYmplY3Q6IGJpbmRpbmcgb2JqZWN0LiAoaWlkOiBcIit0aGlzLmlpZCtcIiBvaWQ6IFwiK2IrXCIgbW9kZTogXCIrdGhpcy5tb2RlK1wiKVwiKTtpZih0aGlzLm1vZGU9PT1CLlBzZXVkbyl7dGhpcy5wcm94eXN0YXRlPWcuQ29uZmlndXJlZDt2YXIgZD10aGlzLm9pZDt0aGlzLm9pZD1iO2gubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIgYXNzaWduZWQgcmVtb3RlIG9pZCBmb3IgbG9jYWwgb2lkOlwiK2QpO3RoaXMub25Db25uZWN0ZWQoKTt3LmdldEdDKCkudHJhY2tPYmplY3QodGhpcyxhKTt0aGlzLm1vZGU9Qi5SZW1vdGV9ZWxzZSB0aGlzLm1vZGU9PT1CLlJlbW90ZT9oLmxvZ2dlci5sb2coXCJQcm94eU9iamVjdDogYmluZGluZyBhbHJlYWR5IGNvbXBsZXRlLlwiKTpoLmxvZ2dlci5sb2coXCJQcm94eU9iamVjdDogYmluZGluZyBmYWlsdXJlLiBpbmNvcnJlY3QgbW9kZSFcIil9O2EucHJvdG90eXBlLnJlY29uc3RydWN0b3I9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgeD10aGlzLHI9W10sQT0zO0E8YXJndW1lbnRzLmxlbmd0aDtBKyspcltBLTNdPWFyZ3VtZW50c1tBXTt0aGlzLnByb3h5c3RhdGU9Zy5Ob3RDb25maWd1cmVkO3RoaXMuZGVmZXJyZWRBY3Rpb25zPVtdO0E9cS5XZWJycGNDbGFzc0xpYkluZm9VdGlsLmdldE1ldGhvZEZlYXR1cmVCeWlkKGIsMCk7dGhpcy5oZHhtcy5XU1NlbmRPYmplY3RXcmFwcGVyKEEsXHJcbmIsMCxkLldzSnNvblV0aWwuY3JlYXRlTWVzc2FnZUJ5aWQuYXBwbHkoZC5Xc0pzb25VdGlsLGUoWyExLCExLGQud3NfbXNnX3R5cGVfdC5yZXEsYiwwLHRoaXMub2lkXSxyKSkpLnRoZW4oZnVuY3Rpb24oYil7aC5sb2dnZXIudHJhY2UoXCJQcm94eU9iamVjdDogc2V0dGluZyBzdGF0ZSB0byBjb25maWd1cmVkLiAoaWlkOiBcIit4LmlpZCtcIiBvaWQ6IFwiK3gub2lkK1wiKVwiKTt2YXIgZD14Lm9pZDt4LnByb3h5c3RhdGU9Zy5Db25maWd1cmVkO3gub2lkPXgucGFyYW0wKGIpO2gubG9nZ2VyLmxvZyh4LnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhc3NpZ25lZCByZW1vdGUgb2lkIGZvciBsb2NhbCBvaWQ6XCIrZCk7eC5vbkNvbm5lY3RlZCgpO3cuZ2V0R0MoKS50cmFja09iamVjdCh4LGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe3gucHJveHlzdGF0ZT1nLkVycm9yO3gub25Db25uZWN0ZWQoKX0pfTthLnByb3RvdHlwZS5zZXRQYXJlbnQ9ZnVuY3Rpb24oYSl7dy5nZXRHQygpLnNldFBhcmVudCh0aGlzLFxyXG5hKX07YS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe2gubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZWxlYXNlKCkgY2FsbGVkLlwiKTt3LmdldEdDKCkucmVsZWFzZU9iamVjdCh0aGlzKX07YS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2gubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kZXN0cm95KCkgY2FsbGVkLlwiKTt0aGlzLnByb3h5c3RhdGU9Zy5EZXN0cm95ZWQ7dmFyIGE9cS5XZWJycGNDbGFzc0xpYkluZm9VdGlsLmdldE1ldGhvZEZlYXR1cmVCeWlkKHRoaXMuaWlkLDApO3RoaXMuaGR4bXMuV1NTZW5kT2JqZWN0V3JhcHBlcihhLHRoaXMuaWlkLDAsZC5Xc0pzb25VdGlsLmNyZWF0ZU1lc3NhZ2VCeWlkKCExLCEwLGQud3NfbXNnX3R5cGVfdC5yZXEsdGhpcy5paWQsMCx0aGlzLm9pZCkpO3RoaXMuY2xlYXJDYWxsYmFja3MoKX07YS5wcm90b3R5cGUuaXNkZXN0cm95ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm94eXN0YXRlPT1cclxuZy5EZXN0cm95ZWR9O2EucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmRlZmVycmVkQWN0aW9ucyYmMDx0aGlzLmRlZmVycmVkQWN0aW9ucy5sZW5ndGg7KXRoaXMuZGVmZXJyZWRBY3Rpb25zLnNoaWZ0KCkucG9zdCh0aGlzLnByb3h5c3RhdGU9PWcuQ29uZmlndXJlZCl9O2EucHJvdG90eXBlLmlzUHNldWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZT09Qi5Qc2V1ZG99O2EucHJvdG90eXBlLmNoZWNrU3RhdGU9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXM7MD49YT8oaC5sb2dnZXIubG9nKFwiUHJveHlPYmplY3QuY2hlY2tTdGF0ZSgpIHRpbWVvdXQgd2FpdGluZyBmb3IgY29ubmVjdGlvbiByZXNwb25zZSEgZmFpbGVkLiAoaWlkOiBcIitjLmlpZCtcIiBvaWQ6IFwiK2Mub2lkK1wibmFtZTogXCIrZCtcIilcIiksYy5vbkNvbm5lY3RlZCgpKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKGEsZCl7aWYoYy5wcm94eXN0YXRlPT1nLkNvbmZpZ3VyZWQpYy5vbkNvbm5lY3RlZCgpO1xyXG5lbHNlIGlmKGMucHJveHlzdGF0ZT09Zy5FcnJvciljLm9uQ29ubmVjdGVkKCk7ZWxzZSBpZihjLnByb3h5c3RhdGU9PWcuRGVzdHJveWVkKWMub25Db25uZWN0ZWQoKTtlbHNlIGMuY2hlY2tTdGF0ZSgtLWEsYixkKX0sYixhLGQpfTthLnByb3RvdHlwZS53YWl0VW50aWxDb25uZWN0ZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxjKXtiPyhoLmxvZ2dlci50cmFjZShcIlByb3h5T2JqZWN0LndhaXRVbnRpbENvbm5lY3RlZCgpOiByZWFkeVN0YXRlPVwiK2IucHJveHlzdGF0ZStcIi4gKGlpZDogXCIrYi5paWQrXCIgb2lkOiBcIitiLm9pZCtcIilcIiksYi5wcm94eXN0YXRlPT1nLkRlc3Ryb3llZD8oYi5vbkNvbm5lY3RlZCgpLGgubG9nZ2VyLnRyYWNlKFwicmVqZWN0aW5nIGFscmVhZHkgZGVzdHJveWVkIE9iamVjdDpcIitiLnVzZXJfZnJpZW5kbHlfaWQoKSksYyhcIk9iamVjdCBhbHJlYWR5IGRlc3Ryb3llZCA6XCIrYi51c2VyX2ZyaWVuZGx5X2lkKCkpKTpcclxuYi5wcm94eXN0YXRlPT1nLkNvbmZpZ3VyZWQ/KGIub25Db25uZWN0ZWQoKSxkKCkpOmIucHJveHlzdGF0ZT09Zy5FcnJvcj8oaC5sb2dnZXIudHJhY2UoXCJQcm94eU9iamVjdC53YWl0VW50aWxDb25uZWN0ZWQoKTogcmVhZHlTdGF0ZT1cIitiLnByb3h5c3RhdGUrXCIuIChpaWQ6IFwiK2IuaWlkK1wiIG9pZDogXCIrYi5vaWQrXCIpXCIpLGIub25Db25uZWN0ZWQoKSxjKCkpOihoLmxvZ2dlci5sb2coJ1Byb3h5T2JqZWN0LndhaXRVbnRpbENvbm5lY3RlZCgpOiBkZWZlcnJpbmcgYWN0aW9uIFwiJythKydcIi4gKGlpZDogJytiLmlpZCtcIiBvaWQ6IFwiK2Iub2lkK1wiKVwiKSxiLmRlZmVycmVkQWN0aW9ucy5wdXNoKG5ldyBuKGQsYyxhKSksYi5jaGVja1N0YXRlKDYwMCwyNSxhKSkpOmMoXCJJbnZhbGlkIE9iamVjdFwiKX0pfTthLnByb3RvdHlwZS5yZW1vdGVJbnZva2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10saz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspY1trLTJdPWFyZ3VtZW50c1trXTtpZih0aGlzLnByb3h5c3RhdGU9PVxyXG5nLkRlc3Ryb3llZClyZXR1cm4gaC5sb2dnZXIudHJhY2UoXCJyZWplY3RpbmcgYWxyZWFkeSBkZXN0cm95ZWQgT2JqZWN0OlwiK3RoaXMudXNlcl9mcmllbmRseV9pZCgpKSxQcm9taXNlLnJlamVjdChcIkNhbm5vdCBpbnZva2UgZGVzdHJveWVkIG9iamVjdCA6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpO2lmKHRoaXMucHJveHlzdGF0ZT09Zy5FcnJvcilyZXR1cm4gaC5sb2dnZXIudHJhY2UoXCJyZWplY3RpbmcgYWxyZWFkeSBlcnJvciBzdGF0ZSBPYmplY3Q6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpLFByb21pc2UucmVqZWN0KFwiQ2Fubm90IGludm9rZSBvYmplY3QgaW4gRXJyb3Igc3RhdGU6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpO2s9cS5XZWJycGNDbGFzc0xpYkluZm9VdGlsLmdldE1ldGhvZEZlYXR1cmVCeWlkKHRoaXMuaWlkLGIpO3JldHVybiB0aGlzLmhkeG1zLldTU2VuZE9iamVjdFdyYXBwZXIoayx0aGlzLmlpZCxiLGQuV3NKc29uVXRpbC5jcmVhdGVNZXNzYWdlQnlpZC5hcHBseShkLldzSnNvblV0aWwsXHJcbmUoW2EsITEsZC53c19tc2dfdHlwZV90LnJlcSx0aGlzLmlpZCxiLHRoaXMub2lkXSxjKSkpfTthLnByb3RvdHlwZS53YWl0VW50aWxDb25uZWN0ZWRFeD1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZyl7aWYoZCl7Zm9yKHZhciBlPVtdLGs9MDtrPGIubGVuZ3RoO2srKyl7dmFyIHo9YltrXTtpZih6IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciB2PTA7djx6Lmxlbmd0aDt2Kyspe3ZhciB0PXpbdl07ZS5wdXNoKHQud2FpdFVudGlsQ29ubmVjdGVkKGErXCIuXCIrdC51c2VyX2ZyaWVuZGx5X2lkKCkpKX1lbHNlIGUucHVzaCh6LndhaXRVbnRpbENvbm5lY3RlZChhK1wiLlwiK3oudXNlcl9mcmllbmRseV9pZCgpKSl9UHJvbWlzZS5hbGwoZSkudGhlbihmdW5jdGlvbigpe2gubG9nZ2VyLmxvZyhkLnVzZXJfZnJpZW5kbHlfaWQoKStcIi53YWl0VW50aWxDb25uZWN0ZWRFeCgpIHN1Y2Nlc3MuXCIpO2MoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cIi53YWl0VW50aWxDb25uZWN0ZWRFeCgpOiBmYWlsZWQuXCIpO2coKX0pfWVsc2UgZyhcIkludmFsaWQgT2JqZWN0XCIpfSl9O2EucHJvdG90eXBlLm9pZHNGcm9tUHJveHlPamJlY3RzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBjPWFbZF07aWYoYyBpbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIGc9W10sZT0wO2U8Yy5sZW5ndGg7ZSsrKWcucHVzaCh7b2lkOmNbZV0ub2JqZWN0X2lkKCl9KTtiLnB1c2goZyl9ZWxzZSBiLnB1c2goe29pZDpjLm9iamVjdF9pZCgpfSl9cmV0dXJuIGJ9O2EucHJvdG90eXBlLnJlbW90ZUludm9rZUV4PWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGs9W10scj0zO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspa1tyLTNdPWFyZ3VtZW50c1tyXTtpZih0aGlzLnByb3h5c3RhdGU9PWcuRGVzdHJveWVkKXJldHVybiBoLmxvZ2dlci50cmFjZShcInJlamVjdGluZyBhbHJlYWR5IGRlc3Ryb3llZCBPYmplY3Q6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpLFxyXG5Qcm9taXNlLnJlamVjdChcIkNhbm5vdCBpbnZva2UgZGVzdHJveWVkIG9iamVjdCA6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpO2lmKHRoaXMucHJveHlzdGF0ZT09Zy5FcnJvcilyZXR1cm4gaC5sb2dnZXIudHJhY2UoXCJyZWplY3RpbmcgYWxyZWFkeSBlcnJvciBzdGF0ZSBPYmplY3Q6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpLFByb21pc2UucmVqZWN0KFwiQ2Fubm90IGludm9rZSBvYmplY3QgaW4gRXJyb3Igc3RhdGU6XCIrdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpO3ZhciBBPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGcscil7QS53YWl0VW50aWxDb25uZWN0ZWRFeChBLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZW1vdGVJbnZva2VFeFwiLGMpLnRoZW4oZnVuY3Rpb24oKXtoLmxvZ2dlci5sb2coQS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIucmVtb3RlSW52b2tlRXgoKSBhbGwgcGFyYW1ldGVyIHJwYyBvYmplY3RzIGFyZSByZWFkeS5cIik7dmFyIGc9QS5vaWRzRnJvbVByb3h5T2piZWN0cyhjKS5jb25jYXQoayksXHJcbnI9cS5XZWJycGNDbGFzc0xpYkluZm9VdGlsLmdldE1ldGhvZEZlYXR1cmVCeWlkKEEuaWlkLGIpO3JldHVybiBBLmhkeG1zLldTU2VuZE9iamVjdFdyYXBwZXIocixBLmlpZCxiLGQuV3NKc29uVXRpbC5jcmVhdGVNZXNzYWdlQnlpZC5hcHBseShkLldzSnNvblV0aWwsZShbYSwhMSxkLndzX21zZ190eXBlX3QucmVxLEEuaWlkLGIsQS5vaWRdLGcpKSl9KS50aGVuKGZ1bmN0aW9uKGEpe2gubG9nZ2VyLmxvZyhBLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZW1vdGVJbnZva2VFeCgpIHN1Y2Nlc3MuXCIpO2coYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7aC5sb2dnZXIubG9nKEEudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW90ZUludm9rZUV4KCkgZmFpbGVkLlwiKTtyKCl9KX0pfTthLnByb3RvdHlwZS5sb2dSZW1vdGVJbnZva2VFcnJvcj1mdW5jdGlvbihhLGIpe3ZhciBkPVwiXCIsYz1hO2M/ZD1iK1wiIHdpdGggZXJyb3I6IFwiK0pTT04uc3RyaW5naWZ5KGMubWVzc2FnZSk6KGQ9dGhpcy5wYXJhbTAoYSksXHJcbmM9MCE9PU9iamVjdC5rZXlzKGQpLmxlbmd0aD9uZXcgRE9NRXhjZXB0aW9uKGIrXCIgd2l0aCBlcnJvcjogXCIrSlNPTi5zdHJpbmdpZnkoZCksdGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkpOm5ldyBET01FeGNlcHRpb24oYix0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKSksZD1jLm1lc3NhZ2UpO2gubG9nZ2VyLmxvZ3godGhpcy5pc2Rlc3Ryb3llZCgpLHRoaXMudXNlcl9mcmllbmRseV9pZCgpK2QpO3JldHVybiBjfTthLnByb3RvdHlwZS5hbGxvY2F0ZV9jYmlkPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY2JpZF9hbGxvY2F0b3JfLmFsbG9jYXRlKCl9O2EucHJvdG90eXBlLmRlYWxsb2NhdGVfY2JpZD1mdW5jdGlvbihiKXthLmNiaWRfYWxsb2NhdG9yXy5kZWFsbG9jYXRlKGIpfTthLnByb3RvdHlwZS5yZWdpc3RlckNhbGxiYWNrcz1mdW5jdGlvbihhLGIsZCl7dmFyIGM9dGhpcyxnPXRoaXMuYWxsb2NhdGVfY2JpZCgpO2E9bmV3IHYoZyxiLGEpOzA+ZyYmaC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5yZWdpc3RlckNhbGxiYWNrcygpLiAhISEhIHJhbiBvdXQgb2YgY2JpZCAhISEhXCIpO2J8fCh0aGlzLmNicy5zZXQoZyxkKSxhLmNvbXBsZXRpb25fY2I9ZnVuY3Rpb24oYSxiKXtjLnVucmVnaXN0ZXJDYWxsYmFja3MoYSl9LHRoaXMuaGR4bXMucmVnaXN0ZXJIYW5kbGVyKHRoaXMuaWlkLHRoaXMub2lkLGQsYSkpO3JldHVybiBhfTthLnByb3RvdHlwZS51bnJlZ2lzdGVyQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe3RoaXMuY2JzLmhhcyhhKT8odGhpcy5oZHhtcy51bnJlZ2lzdGVySGFuZGxlcih0aGlzLmlpZCx0aGlzLm9pZCxhKSx0aGlzLmRlYWxsb2NhdGVfY2JpZChhKSx0aGlzLmNic1tcImRlbGV0ZVwiXShhKSk6aC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnVucmVnaXN0ZXJDYWxsYmFja3MoKS4gbWlkPVwiK3RoaXMuY2JzLmdldChhKStcIiBjYmlkPVwiK2ErXCIgQ2FudCBmaW5kIGNhbGxiYWNrIGhhbmRsZXIgcmVnaXN0cmF0aW9uISEhIVwiKX07YS5wcm90b3R5cGUuY2xlYXJDYWxsYmFja3M9XHJcbmZ1bmN0aW9uKCl7aC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNsZWFyQ2FsbGJhY2tzKCkuXCIpO2Zvcih2YXIgYT0wLGI9QXJyYXkuZnJvbSh0aGlzLmNicy5rZXlzKCkpO2E8Yi5sZW5ndGg7YSsrKXt2YXIgZD1iW2FdO3RoaXMuaGR4bXMudW5yZWdpc3RlckhhbmRsZXIodGhpcy5paWQsdGhpcy5vaWQsZCk7dGhpcy5kZWFsbG9jYXRlX2NiaWQoZCl9dGhpcy5jYnMuY2xlYXIoKX07YS5wcm90b3R5cGUub2JqZWN0X2lkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2lkfTthLnByb3RvdHlwZS5wYXJhbTA9ZnVuY3Rpb24oYSl7dmFyIGI9e307YSYmYS5wYXJhbXMmJihiPWEucGFyYW1zWzBdKTtyZXR1cm4gYn07YS5wcm90b3R5cGUuaXNOdWxsQ2FsbGJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09YXx8bnVsbD09YX07YS5wcm90b3R5cGUudXNlcl9mcmllbmRseV9pZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RydWN0b3IubmFtZTswPD10aGlzLmlpZCYmXHJcbihhPXEuY2xhc3NfaWRfdFt0aGlzLmlpZF0pO3JldHVybiBhK1wiW1wiK3RoaXMub2lkK1wiXVwifTthLnByb3RvdHlwZS5pc1JlZGlyZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZHhtcy5pc1JlZGlyZWN0ZWQoKX07YS5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbigpe3JldHVybiEodGhpcy5wcm94eXN0YXRlPT09Zy5FcnJvcnx8dGhpcy5wcm94eXN0YXRlPT09Zy5EZXN0cm95ZWQpfTthLnByb3RvdHlwZS5yZWdpc3RlclN0YXRlQ2hhbmdlTm90aWZpY2F0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuaGR4bXMucmVnaXN0ZXJTdGF0ZUNoYW5nZU5vdGlmaWNhdGlvbihhKX07YS5wcm90b3R5cGUudW5yZWdpc3RlclN0YXRlQ2hhbmdlTm90aWZpY2F0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuaGR4bXMudW5yZWdpc3RlclN0YXRlQ2hhbmdlTm90aWZpY2F0aW9uKGEpfTthLm5leHRJZD0wO2EuQ0JJRF9NQVg9NjU1MzY7YS5jYmlkX2FsbG9jYXRvcl89bmV3IHooMCxhLkNCSURfTUFYLDEpO3JldHVybiBhfSgpO1xyXG5hLlByb3h5T2JqZWN0PWJ9LDE0NDpmdW5jdGlvbihiLGEsYyl7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYixkKXthPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWJ9fHxmdW5jdGlvbihhLGIpe2Zvcih2YXIgZiBpbiBiKWIuaGFzT3duUHJvcGVydHkoZikmJihhW2ZdPWJbZl0pfTtyZXR1cm4gYShiLGQpfTtyZXR1cm4gZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1ifWEoYixkKTtiLnByb3RvdHlwZT1udWxsPT09ZD9PYmplY3QuY3JlYXRlKGQpOihjLnByb3RvdHlwZT1kLnByb3RvdHlwZSxuZXcgYyl9fSgpLHU9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGEsYixkLGMpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBkP2E6bmV3IGQoZnVuY3Rpb24oYil7YihhKX0pfXJldHVybiBuZXcgKGR8fFxyXG4oZD1Qcm9taXNlKSkoZnVuY3Rpb24oZixkKXtmdW5jdGlvbiByKGEpe3RyeXtDKGMubmV4dChhKSl9Y2F0Y2goYil7ZChiKX19ZnVuY3Rpb24gZShhKXt0cnl7QyhjW1widGhyb3dcIl0oYSkpfWNhdGNoKGIpe2QoYil9fWZ1bmN0aW9uIEMoYSl7YS5kb25lP2YoYS52YWx1ZSk6ZyhhLnZhbHVlKS50aGVuKHIsZSl9QygoYz1jLmFwcGx5KGEsYnx8W10pKS5uZXh0KCkpfSl9LGg9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYyhbYSxiXSl9fWZ1bmN0aW9uIGMoZCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2c7KXRyeXtpZihmPTEsciYmKGU9ZFswXSYyP3JbXCJyZXR1cm5cIl06ZFswXT9yW1widGhyb3dcIl18fCgoZT1yW1wicmV0dXJuXCJdKSYmZS5jYWxsKHIpLDApOnIubmV4dCkmJiEoZT1lLmNhbGwocixkWzFdKSkuZG9uZSlyZXR1cm4gZTtcclxuaWYocj0wLGUpZD1bZFswXSYyLGUudmFsdWVdO3N3aXRjaChkWzBdKXtjYXNlIDA6Y2FzZSAxOmU9ZDticmVhaztjYXNlIDQ6cmV0dXJuIGcubGFiZWwrKyx7dmFsdWU6ZFsxXSxkb25lOiExfTtjYXNlIDU6Zy5sYWJlbCsrO3I9ZFsxXTtkPVswXTtjb250aW51ZTtjYXNlIDc6ZD1nLm9wcy5wb3AoKTtnLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGU9Zy50cnlzLGU9MDxlLmxlbmd0aCYmZVtlLmxlbmd0aC0xXSkmJig2PT09ZFswXXx8Mj09PWRbMF0pKXtnPTA7Y29udGludWV9aWYoMz09PWRbMF0mJighZXx8ZFsxXT5lWzBdJiZkWzFdPGVbM10pKWcubGFiZWw9ZFsxXTtlbHNlIGlmKDY9PT1kWzBdJiZnLmxhYmVsPGVbMV0pZy5sYWJlbD1lWzFdLGU9ZDtlbHNlIGlmKGUmJmcubGFiZWw8ZVsyXSlnLmxhYmVsPWVbMl0sZy5vcHMucHVzaChkKTtlbHNle2VbMl0mJmcub3BzLnBvcCgpO2cudHJ5cy5wb3AoKTtjb250aW51ZX19ZD1iLmNhbGwoYSxnKX1jYXRjaChDKXtkPVxyXG5bNixDXSxyPTB9ZmluYWxseXtmPWU9MH1pZihkWzBdJjUpdGhyb3cgZFsxXTtyZXR1cm57dmFsdWU6ZFswXT9kWzFdOnZvaWQgMCxkb25lOiEwfX12YXIgZz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoZVswXSYxKXRocm93IGVbMV07cmV0dXJuIGVbMV19LHRyeXM6W10sb3BzOltdfSxmLHIsZSxrOyRqc2NvbXAuaW5pdFN5bWJvbCgpOyRqc2NvbXAuaW5pdFN5bWJvbCgpOyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7cmV0dXJuIGs9e25leHQ6ZCgwKSxcInRocm93XCI6ZCgxKSxcInJldHVyblwiOmQoMil9LFwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJihrW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuTmF2aWdhdG9yVXNlck1lZGlhPWEuUmVtb3RlTWVkaWFTdHJlYW1Db25zdHJhaW50cz1hLlJlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50cz1hLlJlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50U2V0PVxyXG5hLlJlbW90ZURldmljZXM9YS5SZW1vdGVEZXZpY2VJbmZvPWEuRGV2aWNlSW5mbz1hLlJlbW90ZVN0cmVhbUV2ZW50PWEuUmVtb3RlU3RyZWFtPWEuUmVtb3RlTWVkaWFUcmFjaz1hLmVudW1lcmF0ZWREZXZpY2VzPXZvaWQgMDt2YXIgZD1jKDU1MCksdz1jKDY1OCkscT1jKDg1MSksbj1jKDk0Niksaz1jKDM5NCksdj1jKDI1OSksej1jKDY1MCksZz1jKDk3MyksbDthLmVudW1lcmF0ZWREZXZpY2VzPWw7dmFyIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLnR5cGU9YTt0aGlzLnRhcmdldD1ifX0oKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMuaXNfbG9jYWxfY2xvbmU9ITE7dGhpcy5jbG9uZV9pZD10aGlzLmNsb25lX2NvdW50PTB9YS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt0aGlzLmNsb25lX2NvdW50Kys7dmFyIGI9bmV3IGE7Yi5pc19sb2NhbF9jbG9uZT0hMDtiLmNsb25lX2lkPXRoaXMuY2xvbmVfY291bnQ7cmV0dXJuIGJ9O2EucHJvdG90eXBlLnN5bmNocm9uaXplPVxyXG5mdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmlzX2xvY2FsX2Nsb25lP1syLGEuYXN5bmNDbG9uZSgpXTpbMixQcm9taXNlLnJlc29sdmUoYSldfSl9KX07cmV0dXJuIGF9KCkscD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGMsZyxyKXt2b2lkIDA9PT1yJiYocj13LlByb3h5TW9kZS5SZW1vdGUpO2M9YS5jYWxsKHRoaXMsYyxkLmNsYXNzX2lkX3QuTWVkaWFTdHJlYW1UcmFjayxnLHIpfHx0aGlzO2MucmVmQ291bnRfPTA7Yy5yZWZDb3VudF8rKztjLmNsb25lX3N0YXRlPW5ldyBtO3JldHVybiBjfWUoYixhKTtiLnByb3RvdHlwZS5kdW1wSW5mbz1mdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kdW1wSW5mbygpIFtpZD1cIit0aGlzLmlkK1wiXSBraW5kPVwiK3RoaXMua2luZCtcIiBsYWJlbD1cIit0aGlzLmxhYmVsK1wiIHJlZmNvdW50PVwiK1xyXG50aGlzLnJlZmNvdW50K1wiIGVuYWJsZWQ9XCIrdGhpcy5lbmFibGVkK1wiIHJlYWR5U3RhdGU9XCIrdGhpcy5yZWFkeVN0YXRlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicmVmY291bnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmQ291bnRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmFkZFJlZj1mdW5jdGlvbigpe3RoaXMucmVmQ291bnRfKys7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZFJlZigpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdIHJlZmNvdW50PVwiK3RoaXMucmVmQ291bnRfKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25lbmRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X29uZW5kZWQoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtyZXR1cm4gdGhpcy5vbmVuZGVkX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPVxyXG50aGlzO3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25lbmRlZCgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3RoaXMub25lbmRlZF89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtVHJhY2sub25lbmRlZFwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9Yi5yZWdpc3RlckNhbGxiYWNrcyghMSxiLmlzTnVsbENhbGxiYWNrKGEpLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5vbmVuZGVkKTtjLnRoZW4oZnVuY3Rpb24oYSl7cS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wib25lbmRlZCBldmVudCByZWNlaXZlZCEhIVwiKTthPW5ldyB0KFwiZW5kZWRcIixiKTtiLnJlYWR5U3RhdGVfPVwiZW5kZWRcIjtiLm9uZW5kZWRfKGEpfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5vbmVuZGVkLGMuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcclxuXCIub25lbmRlZCBmYWlsZWQhXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25tdXRlXCIse2dldDpmdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfb25tdXRlKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl1cIik7cmV0dXJuIHRoaXMub25tdXRlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbm11dGUoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTt0aGlzLm9ubXV0ZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtVHJhY2sub25tdXRlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYSksZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190Lm9ubXV0ZSk7Yy50aGVuKGZ1bmN0aW9uKGEpe3EubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCJvbm11dGUgZXZlbnQgcmVjZWl2ZWQhISFcIik7YT1uZXcgdChcIm11dGVcIixiKTtiLm11dGVkPSEwO2Iub25tdXRlXyhhKX0pO3JldHVybiBiLnJlbW90ZUludm9rZSghMCxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3Qub25tdXRlLGMuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5vbm11dGUgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9udW5tdXRlXCIse2dldDpmdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfb251bm11dGUoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtyZXR1cm4gdGhpcy5vbnVubXV0ZV99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb251bm11dGUoKSBjYWxsZWQuIFtpZD1cIitcclxudGhpcy5pZCtcIl1cIik7dGhpcy5vbnVubXV0ZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtVHJhY2sub251bm11dGVcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3Qub251bm11dGUpO2MudGhlbihmdW5jdGlvbihhKXtxLmxvZ2dlci5sb2coXCJvbnVubXV0ZSBldmVudCByZWNlaXZlZCEhIVwiKTthPW5ldyB0KFwidW5tdXRlXCIsYik7Yi5tdXRlZD0hMTtiLm9udW5tdXRlXyhhKX0pO3JldHVybiBiLnJlbW90ZUludm9rZSghMCxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3Qub251bm11dGUsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLm9udW5tdXRlIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXHJcblwib25zdG9wXCIse3NldDpmdW5jdGlvbihhKXt0aGlzLm9uc3RvcF89YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJlbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfZW5hYmxlZCgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCIsIHZhbHVlPVwiK3RoaXMuZW5hYmxlZF8rXCJdXCIpO3JldHVybiB0aGlzLmVuYWJsZWRffSxzZXQ6ZnVuY3Rpb24oYSl7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9lbmFibGVkKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIiwgdmFsdWU9XCIrYStcIl1cIik7dGhpcy5lbmFibGVkXz1hO3RoaXMucmVtb3RlSW52b2tlKCEwLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5lbmFibGVkLGEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcclxuXCJyZWFkeVN0YXRlXCIse2dldDpmdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfcmVhZHlTdGF0ZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3JldHVybiB0aGlzLnJlYWR5U3RhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmFzeW5jQ2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYSxjLGc7cmV0dXJuIGgodGhpcyxmdW5jdGlvbihmKXtzd2l0Y2goZi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiUmVtb3RlTWVkaWFUcmFjay5hc3luY0Nsb25lXCIpXTtjYXNlIDE6cmV0dXJuIGYuc2VudCgpLFs0LHRoaXMucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5jbG9uZSldO2Nhc2UgMjpyZXR1cm4gYT1mLnNlbnQoKSxjPXRoaXMucGFyYW0wKGEpLGc9bmV3IGIodGhpcyxcclxuYy5vaWQpLFsyLGcuc3luY0JhcnJpZXIoKV19fSl9KX07Yi5wcm90b3R5cGUuZGVlcENsb25lPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmRlZXBDbG9uZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO2lmKHouUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVUcmFja0Nsb25lV2l0aElkU3VwcG9ydGVkKCkpe3ZhciBnPW5ldyBiKG51bGwsMCx3LlByb3h5TW9kZS5Qc2V1ZG8pLGY9bmV3IG07Zy5pZD1hP2E6dGhpcy5pZCtcIi5cIitmLmNsb25lX2lkLnRvU3RyaW5nKCk7Zy5sYWJlbD10aGlzLmxhYmVsO2cua2luZD10aGlzLmtpbmQ7Zy5lbmFibGVkXz10aGlzLmVuYWJsZWRfO2cubXV0ZWQ9dGhpcy5tdXRlZDtnLnJlYWR5U3RhdGVfPXRoaXMucmVhZHlTdGF0ZV87Zy50cmFja1NldHRpbmdzXz10aGlzLnRyYWNrU2V0dGluZ3NfO2cuY2xvbmVfc3RhdGU9ZjtnLmNvbnN0cmFpbnRzXz10aGlzLmNvbnN0cmFpbnRzXztnLmNhcGFiaWxpdGllc189XHJcbnRoaXMuY2FwYWJpbGl0aWVzXztnLm9uZW5kZWQ9dGhpcy5vbmVuZGVkO2cub25tdXRlPXRoaXMub25tdXRlO2cub251bm11dGU9dGhpcy5vbnVubXV0ZTtnLm9uc3RvcD10aGlzLm9uc3RvcDt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIlJlbW90ZU1lZGlhVHJhY2suZGVlcENsb25lXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYy5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190LmNsb25lLGcuaWQpfSkudGhlbihmdW5jdGlvbihhKXtxLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGVlcENsb25lKCkgc3VjY2VzcyB3aXRoIG9pZDogXCIrYy5wYXJhbTAoYSkub2lkKTtnLmJpbmQobnVsbCxjLnBhcmFtMChhKS5vaWQpO2cuc3luY0JhcnJpZXIoKS50aGVuKGZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1widHJhY2suc3luY0JhcnJpZXIoKTogc3VjY2Vzc1wiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yy5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cInRyYWNrLnN5bmNCYXJyaWVyKCkgZmFpbGVkIVwiKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtjLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuZGVlcENsb25lKCkgZmFpbGVkIVwiKX0pO3JldHVybiBnfXEubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kZWVwQ2xvbmUoKSBpcyBub3Qgc3VwcG9ydGVkIVwiKX07Yi5wcm90b3R5cGUubG9jYWxDbG9uZT1mdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5sb2NhbENsb25lKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl1cIik7dmFyIGE9dGhpcy5jbG9uZV9zdGF0ZS5jbG9uZSgpLGQ9bmV3IGIodGhpcyx0aGlzLm9iamVjdF9pZCgpKTtkLmlkPXRoaXMuaWQrXCIuXCIrYS5jbG9uZV9pZC50b1N0cmluZygpO2QubGFiZWw9dGhpcy5sYWJlbDtkLmtpbmQ9dGhpcy5raW5kO2QuZW5hYmxlZF89dGhpcy5lbmFibGVkXztkLm11dGVkPXRoaXMubXV0ZWQ7ZC5yZWFkeVN0YXRlXz10aGlzLnJlYWR5U3RhdGVfO1xyXG5kLnRyYWNrU2V0dGluZ3NfPXRoaXMudHJhY2tTZXR0aW5nc187ZC5jbG9uZV9zdGF0ZT1hO2QuY29uc3RyYWludHNfPXRoaXMuY29uc3RyYWludHNfO2QuY2FwYWJpbGl0aWVzXz10aGlzLmNhcGFiaWxpdGllc187cmV0dXJuIGR9O2IucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNsb25lKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl1cIik7cmV0dXJuIHouUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVUcmFja0Nsb25lV2l0aElkU3VwcG9ydGVkKCk/dGhpcy5kZWVwQ2xvbmUoKTp0aGlzLmxvY2FsQ2xvbmUoKX07Yi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN0b3AoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXSByZWZjb3VudD1cIit0aGlzLnJlZkNvdW50Xyk7dGhpcy5yZWFkeVN0YXRlXz1cImVuZGVkXCI7aWYoMDx0aGlzLnJlZkNvdW50XyYmXHJcbih0aGlzLnJlZkNvdW50Xy0tLDA9PT10aGlzLnJlZkNvdW50XyYmKHEubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zdG9wKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl0gcmVtb3RlIGludm9raW5nLi4uXCIpLHRoaXMucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5zdG9wKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5zdG9wIGZhaWxlZCFcIil9KSxcInZpZGVvXCI9PXRoaXMua2luZCYmXCJyZW1vdGVhcHAtdHJhY2tcIj09dGhpcy5sYWJlbCYmZy5TY3JlZW5TaGFyaW5nLnNjcmVlblNoYXJpbmdJbnN0YW5jZSgpLnN0b3BBcHBzaGFyZSgpLG51bGwhPT10aGlzLm9uc3RvcF8mJnZvaWQgMCE9dGhpcy5vbnN0b3BfKSkpdGhpcy5vbnN0b3BfKCl9O2IucHJvdG90eXBlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhcGFiaWxpdGllc199O2IucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPVxyXG5mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cmFpbnRzX307Yi5wcm90b3R5cGUuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXtyZXR1cm5cImF1ZGlvXCI9PXRoaXMua2luZD9mdW5jdGlvbihhKXtyZXR1cm57ZGV2aWNlSWQ6YS5kZXZpY2VJZCxlY2hvQ2FuY2VsbGF0aW9uOmEuZWNob0NhbmNlbGxhdGlvbn19KHRoaXMudHJhY2tTZXR0aW5nc18pOmZ1bmN0aW9uKGEpe3JldHVybnthc3BlY3RSYXRpbzphLmFzcGVjdFJhdGlvLGRldmljZUlkOmEuZGV2aWNlSWQsZnJhbWVSYXRlOmEuZnJhbWVSYXRlLGhlaWdodDphLmhlaWdodCx3aWR0aDphLndpZHRofX0odGhpcy50cmFja1NldHRpbmdzXyl9O2IucHJvdG90eXBlLmdldENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybiAyfTtiLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFwcGx5Q29uc3RyYWludHMoKSBjYWxsZWQuXCIpO1xyXG5yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxmKXtiLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtVHJhY2suYXBwbHlDb25zdHJhaW50c1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UuYWxsKFtiLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3QuYXBwbHlDb25zdHJhaW50cyxhKSxiLnN5bmNCYXJyaWVyKCldKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiYXBwbHlDb25zdHJhaW50cyBmYWlsZWQhXCIpO2Yoe25hbWU6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLG1lc3NhZ2U6XCJGYWlsZWQgdG8gYXBwbHkgY29uc3RyYWludHMuXCJ9KX0pLnRoZW4oZnVuY3Rpb24oKXtiLmNvbnN0cmFpbnRzXz1hO3JldHVybiBiLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3QuZ2V0Q29uc3RyYWludHMpfSkudGhlbihmdW5jdGlvbihhKXtiLmNvbnN0cmFpbnRzXz1cclxuYi5wYXJhbTAoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zeW5jQmFycmllcigpIHJlbW90ZSBjbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBnZXRDb25zdHJhaW50cyBtZXRob2QuIElnbm9yZSBpdFwiKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYygpfSl9KX07Yi5jb252ZXJ0UmVhZHlTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gMD09YT9cImxpdmVcIjpcImVuZGVkXCJ9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGcpe2Euc3luY0JhcnJpZXJEZWVwKGMsZykmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiTWVkaWFTdHJlYW1UcmFjay5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UuYWxsKFthLnJlbW90ZUludm9rZSghMSxcclxuZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190LmtpbmQsXCJcIiksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190LmlkLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5sYWJlbCxcIlwiKSxhLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3QuZW5hYmxlZCwhMSksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190Lm11dGVkLCExKSxhLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3QucmVhZHlTdGF0ZSwwKSxhLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3QuZ2V0U2V0dGluZ3MpLGEucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtVHJhY2tfdC5nZXRDYXBhYmlsaXRpZXMpXSl9KS50aGVuKGZ1bmN0aW9uKGYpe3ZhciBkPTA7Zj1mLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTtcclxuYS5raW5kPWZbMF07YS5pZD1mWzFdO2EubGFiZWw9ZlsyXTthLmVuYWJsZWRfPWZbM107YS5tdXRlZD1mWzRdO2Q9Zls1XTthLnRyYWNrU2V0dGluZ3NfPWZbNl07YS5jYXBhYmlsaXRpZXNfPWZbN107YS5yZWFkeVN0YXRlXz1iLmNvbnZlcnRSZWFkeVN0YXRlKGQpO2Euc3luY0JhcnJpZXJSZXNvbHZlKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5zeW5jQmFycmllcigpIGZhaWxlZCFcIik7YS5zeW5jQmFycmllclJlamVjdChiKX0pfSl9O2IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGlzcG9zZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3RoaXMuc3RvcCgpOzA9PT10aGlzLnJlZkNvdW50XyYmdGhpcy5yZWxlYXNlKCl9O3JldHVybiBifSh3LlByb3h5T2JqZWN0KTthLlJlbW90ZU1lZGlhVHJhY2s9cDt2YXIgeT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCksXHJcbng9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGcscixmLGUpe3ZvaWQgMD09PXImJihyPXcuUHJveHlNb2RlLkxvY2FsKTt2b2lkIDA9PT1mJiYoZj1bXSk7dmFyIGs9dGhpcztxLmxvZ2dlci5sb2coXCJSZW1vdGVTdHJlYW0uY3RvcigpIHN0cmVhbWlkPVwiK2UrXCIgbnVtIHRyYWNrcz1cIitmLmxlbmd0aCk7cj09dy5Qcm94eU1vZGUuUmVtb3RlfHxlfHwoZT1iLnV1aWR2NCgpKTtrPWUmJnouUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVUcmFja0Nsb25lV2l0aElkU3VwcG9ydGVkKCk/YS5jYWxsKHRoaXMsYyxkLmNsYXNzX2lkX3QuTWVkaWFTdHJlYW0sZyxyLG51bGwsW2ZdLGUpfHx0aGlzOmEuY2FsbCh0aGlzLGMsZC5jbGFzc19pZF90Lk1lZGlhU3RyZWFtLGcscixudWxsLFtmXSl8fHRoaXM7ay5pZD1lO2sudHJhY2tzXz1mO2suY2xvbmVfc3RhdGU9bmV3IG07ay5hY3RpdmVfPSEwO2sudHJhY2tzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Euc2V0UGFyZW50KGspfSk7cmV0dXJuIGt9ZShiLFxyXG5hKTtiLnV1aWR2ND1mdW5jdGlvbigpe3JldHVyblwiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwXCIucmVwbGFjZSgvWzAxOF0vZyxmdW5jdGlvbihhKXtyZXR1cm4oYV5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+YS80KS50b1N0cmluZygxNil9KX07Yi5wcm90b3R5cGUuZHVtcEluZm89ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZHVtcEluZm8oKSBbaWQ9XCIrdGhpcy5pZCtcIl0gYWN0aXZlPVwiK3RoaXMuYWN0aXZlXytcIiBudW0gdHJhY2tzPVwiK3RoaXMudHJhY2tzXy5sZW5ndGgpO2Zvcih2YXIgYT0wLGI9dGhpcy50cmFja3NfO2E8Yi5sZW5ndGg7YSsrKXt2YXIgZD1iW2FdO2QmJmQuZHVtcEluZm8oKX19O2IucHJvdG90eXBlLnRvZ2dsZUF1ZGlvPWZ1bmN0aW9uKGEpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi50b2dnbGVBdWRpbygpIGNhbGxlZDogXCIrXHJcbmEpO2Zvcih2YXIgYj0wLGQ9dGhpcy5nZXRBdWRpb1RyYWNrcygpO2I8ZC5sZW5ndGg7YisrKWRbYl0uZW5hYmxlZD1hfTtiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeTthLmlkPXRoaXMuaWQ7YS5hY3RpdmU9dGhpcy5hY3RpdmVfO2Eub2lkPXRoaXMub2JqZWN0X2lkKCk7cmV0dXJuXCJSZW1vdGVTdHJlYW06XCIrSlNPTi5zdHJpbmdpZnkoYSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXQgYWN0aXZlKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl0gYWN0aXZlPVwiK3RoaXMuYWN0aXZlXyk7bi5nZXRSZWRpcmVjdG9yKCkuZ2V0RmVhdHVyZVZhbHVlKGQuRkVBVFVSRV9tc190ZWFtc19zdHJlYW1fYWN0aXZlX3N0YXR1cyk/dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJNZWRpYVN0cmVhbS5hY3RpdmVcIikudGhlbihmdW5jdGlvbigpe3EubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuZ2V0IGFjdGl2ZSgpIHJlbW90ZSBpbnZva2luZ1wiKTtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdC5hY3RpdmUsITEpfSkudGhlbihmdW5jdGlvbihiKXthLmFjdGl2ZV89YS5wYXJhbTAoYik7cS5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldCBhY3RpdmUoKSBzdWNjZXNzLCBhY3RpdmU9XCIrYS5hY3RpdmVfKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7YS5hY3RpdmVfPSEwO2EubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5nZXQgYWN0aXZlKCkgZmFpbGVkISBhY3RpdmU9XCIrYS5hY3RpdmVfKX0pOnRoaXMuYWN0aXZlXz0hMDtyZXR1cm4gdGhpcy5hY3RpdmVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPWZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldEF1ZGlvVHJhY2tzKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcclxuXCJdXCIpO2Zvcih2YXIgYT1bXSxiPTAsZD10aGlzLnRyYWNrc187YjxkLmxlbmd0aDtiKyspe3ZhciBmPWRbYl07XCJhdWRpb1wiPT1mLmtpbmQmJmEucHVzaChmKX1yZXR1cm4gYX07Yi5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0VmlkZW9UcmFja3MoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtmb3IodmFyIGE9W10sYj0wLGQ9dGhpcy50cmFja3NfO2I8ZC5sZW5ndGg7YisrKXt2YXIgZj1kW2JdO1widmlkZW9cIj09Zi5raW5kJiZhLnB1c2goZil9cmV0dXJuIGF9O2IucHJvdG90eXBlLmdldFRyYWNrcz1mdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRUcmFja3MoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtyZXR1cm4gdGhpcy50cmFja3NffTtiLnByb3RvdHlwZS5nZXRUcmFja0J5SWQ9ZnVuY3Rpb24oYSl7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5nZXRUcmFja0J5SWQoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtmb3IodmFyIGI9MCxkPXRoaXMudHJhY2tzXztiPGQubGVuZ3RoO2IrKyl7dmFyIGY9ZFtiXTtpZihmLmlkPT1hKXJldHVybiBmfX07Yi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuYWRkVHJhY2soKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTt0aGlzLnRyYWNrc18ucHVzaChhKTthJiZhLmR1bXBJbmZvKCk7dmFyIGM9dGhpczt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtLmFkZFRyYWNrXCIpLnRoZW4oZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuYWRkVHJhY2sgcmVtb3RlIGludm9raW5nXCIpO3JldHVybiBjLnJlbW90ZUludm9rZUV4KCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtX3QuYWRkVHJhY2ssW2FdKX0pLnRoZW4oZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmFkZFRyYWNrIHN1Y2Nlc3NcIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5hZGRUcmFjayBmYWlsZWQhXCIpfSl9O2IucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVRyYWNrKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl1cIik7dmFyIGM9dGhpcy50cmFja3NfLmluZGV4T2YoYSk7dGhpcy50cmFja3NfLnNwbGljZShjLDEpO3ZhciBmPXRoaXM7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJNZWRpYVN0cmVhbS5yZW1vdmVUcmFja1wiKS50aGVuKGZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZVRyYWNrIHJlbW90ZSBpbnZva2luZ1wiKTtyZXR1cm4gZi5yZW1vdGVJbnZva2VFeCghMSxkLm1ldGhvZF9pZF9NZWRpYVN0cmVhbV90LnJlbW92ZVRyYWNrLFthXSl9KS50aGVuKGZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5yZW1vdmVUcmFjayBzdWNjZXNzXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIucmVtb3ZlVHJhY2sgZmFpbGVkIVwiKX0pfTtiLnByb3RvdHlwZS5hc3luY0Nsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGEsYyxnO3JldHVybiBoKHRoaXMsZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFzeW5jQ2xvbmUoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKSxbNCx0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcImFzeW5jQ2xvbmVcIildO2Nhc2UgMTpyZXR1cm4gZi5zZW50KCksWzQsdGhpcy5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdC5jbG9uZSldO2Nhc2UgMjpyZXR1cm4gYT1mLnNlbnQoKSxxLmxvZ2dlci5sb2coYSksYz10aGlzLnBhcmFtMChhKSxnPW5ldyBiKHRoaXMsXHJcbmMub2lkLHcuUHJveHlNb2RlLlJlbW90ZSksWzIsZy5zeW5jQmFycmllcigpXX19KX0pfTtiLnByb3RvdHlwZS5kZWVwQ2xvbmU9ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGVlcENsb25lKCkgY2FsbGVkLiBbaWQ9XCIrdGhpcy5pZCtcIl1cIik7aWYoei5SZW1vdGVTZXNzaW9uLmlzRmVhdHVyZVRyYWNrQ2xvbmVXaXRoSWRTdXBwb3J0ZWQoKSl7dmFyIGM9W107dGhpcy50cmFja3NfLmZvckVhY2goZnVuY3Rpb24oYSl7Yy5wdXNoKGEuZGVlcENsb25lKCkpfSk7dmFyIGY9bmV3IG07YT1hP2E6dGhpcy5pZCtcIi5cIitmLmNsb25lX2lkLnRvU3RyaW5nKCk7dmFyIGc9bmV3IGIobnVsbCwwLHcuUHJveHlNb2RlLkxvY2FsLGMsYSk7Zy5pZD1hO2cuYWN0aXZlXz10aGlzLmFjdGl2ZV87Zy5jbG9uZV9zdGF0ZT1mO2cudHJhY2tzXz1jO2cud2FpdFVudGlsQ29ubmVjdGVkKFwiUmVtb3RlU3RyZWFtLmRlZXBDbG9uZVwiKS50aGVuKGZ1bmN0aW9uKCl7Zy5zeW5jQmFycmllcigpLnRoZW4oZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2coZC51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwic3RyZWFtLnN5bmNCYXJyaWVyKCk6IHN1Y2Nlc3NcIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2QubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcInN0cmVhbS5zeW5jQmFycmllcigpIGZhaWxlZCFcIil9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7ZC5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLmRlZXBDbG9uZSgpIGZhaWxlZCFcIil9KTtyZXR1cm4gZ31xLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGVlcENsb25lKCkgaXMgbm90IHN1cHBvcnRlZCFcIil9O2IucHJvdG90eXBlLmxvY2FsQ2xvbmU9ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIubG9jYWxDbG9uZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3ZhciBhPXRoaXMuY2xvbmVfc3RhdGUuY2xvbmUoKSxkPW5ldyBiKHRoaXMsdGhpcy5vYmplY3RfaWQoKSx3LlByb3h5TW9kZS5SZW1vdGUpO2QuaWQ9dGhpcy5pZCtcIi5cIithLmNsb25lX2lkLnRvU3RyaW5nKCk7XHJcbmQuYWN0aXZlXz10aGlzLmFjdGl2ZV87dGhpcy50cmFja3NfLmZvckVhY2goZnVuY3Rpb24oYSl7YS5hZGRSZWYoKX0pO2QudHJhY2tzXz10aGlzLnRyYWNrc187ZC5jbG9uZV9zdGF0ZT1hO3JldHVybiBkfTtiLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jbG9uZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3JldHVybiB6LlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlVHJhY2tDbG9uZVdpdGhJZFN1cHBvcnRlZCgpP3RoaXMuZGVlcENsb25lKCk6dGhpcy5sb2NhbENsb25lKCl9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuIFtpZD1cIit0aGlzLmlkK1wiXVwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXthLnN5bmNCYXJyaWVyRGVlcChiLGMpJiZhLndhaXRVbnRpbENvbm5lY3RlZChcIk1lZGlhU3RyZWFtLnN5bmNCYXJyaWVyXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYj1cclxuW107Yi5wdXNoKGEucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtX3QuaWQsXCJcIikpO24uZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZShkLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX2FjdGl2ZV9zdGF0dXMpJiZiLnB1c2goYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdC5hY3RpdmUsITApKTtiLnB1c2goYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdC5nZXRUcmFja3MpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KS50aGVuKGZ1bmN0aW9uKGIpe3EubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllcigpIHJlbW90ZSBzdWNjZXNzXCIpO3ZhciBjO24uZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZShkLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX2FjdGl2ZV9zdGF0dXMpPyhiPWIubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLnBhcmFtMChiKX0pLGEuaWQ9YlswXSxcclxuYS5hY3RpdmVfPWJbMV0sYz1iWzJdKTooYj1iLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KSxhLmlkPWJbMF0sYz1iWzFdLGEuYWN0aXZlXz0hMCk7dmFyIGc9W107Yj1mdW5jdGlvbihiKXt2YXIgZj1hLnRyYWNrc18uZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKT09PWIub2lkfSk7dm9pZCAwPT09ZiYmKHEubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBhZGRpbmcgYSBSZW1vdGVNZWRpYVRyYWNrIHdpdGggb2lkOlwiK2Iub2lkKSxmPW5ldyBwKGEsYi5vaWQpKTtnLnB1c2goZi5zeW5jQmFycmllcigpKX07Zm9yKHZhciByPTA7cjxjLmxlbmd0aDtyKyspYihjW3JdKTtyZXR1cm4gUHJvbWlzZS5hbGwoZyl9KS50aGVuKGZ1bmN0aW9uKGIpe2EudHJhY2tzXz1bXTtiLmZvckVhY2goZnVuY3Rpb24oYil7ZC5CVUlMRF9UWVBFX1NES3x8KGIub25zdG9wPWZ1bmN0aW9uKCl7dmFyIGI9ITA7YS50cmFja3NfLmZvckVhY2goZnVuY3Rpb24oYSl7XCJlbmRlZFwiIT1cclxuYS5yZWFkeVN0YXRlJiYoYj0hMSl9KTtiJiZhLnJlbGVhc2UoKX0pO2EudHJhY2tzXy5wdXNoKGIpfSk7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2EubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5zeW5jQmFycmllciBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoKX0pfSl9O2IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGlzcG9zZSgpIGNhbGxlZC4gW2lkPVwiK3RoaXMuaWQrXCJdXCIpO3RoaXMudHJhY2tzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGlzcG9zZSgpfSk7dGhpcy5yZWxlYXNlKCl9O3JldHVybiBifSh3LlByb3h5T2JqZWN0KTthLlJlbW90ZVN0cmVhbT14O2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGcpe3JldHVybiBhLmNhbGwodGhpcyxjLGQuY2xhc3NfaWRfdC5NZWRpYVN0cmVhbUV2ZW50LGcsdy5Qcm94eU1vZGUuUmVtb3RlKXx8dGhpc31cclxuZShiLGEpO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe2Euc3luY0JhcnJpZXJEZWVwKGIsYykmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiTWVkaWFTdHJlYW1FdmVudC5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhU3RyZWFtRXZlbnRfdC5zdHJlYW0se29pZDowfSl9KS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybihuZXcgeChhLGIucGFyYW1zWzBdLm9pZCx3LlByb3h5TW9kZS5SZW1vdGUpKS5zeW5jQmFycmllcigpfSkudGhlbihmdW5jdGlvbihiKXthLnN0cmVhbT1iO2Euc3luY0JhcnJpZXJSZXNvbHZlKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcclxuXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtyZXR1cm4gYn0ody5Qcm94eU9iamVjdCk7YS5SZW1vdGVTdHJlYW1FdmVudD1iO3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkLGMpe3RoaXMuZGV2aWNlSWQ9YTt0aGlzLmdyb3VwSWQ9Yjt0aGlzLmtpbmQ9ZDt0aGlzLmxhYmVsPWN9fSgpO2EuRGV2aWNlSW5mbz1yO3ZhciBBPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyl7cmV0dXJuIGEuY2FsbCh0aGlzLG51bGwsZC5jbGFzc19pZF90Lk1lZGlhRGV2aWNlSW5mbyxjLHcuUHJveHlNb2RlLlJlbW90ZSl8fHRoaXN9ZShiLGEpO2IuY29udmVydEtpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWE/XCJhdWRpb2lucHV0XCI6MT09YT9cImF1ZGlvb3V0cHV0XCI6XCJ2aWRlb2lucHV0XCJ9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxnKXthLnN5bmNCYXJyaWVyRGVlcChjLGcpJiZhLndhaXRVbnRpbENvbm5lY3RlZChcIlJlbW90ZURldmljZUluZm8uc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFEZXZpY2VJbmZvX3QuZGV2aWNlSWQsXCJcIiksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFEZXZpY2VJbmZvX3Qua2luZCwwKSxhLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYURldmljZUluZm9fdC5sYWJlbCxcIlwiKSxhLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYURldmljZUluZm9fdC5ncm91cElkLFwiXCIpXSl9KS50aGVuKGZ1bmN0aW9uKGYpe2Eua2luZD1iLmNvbnZlcnRLaW5kKGEucGFyYW0wKGYuc3BsaWNlKDEsMSlbMF0pKTtmPWYubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLnBhcmFtMChiKX0pO1xyXG5hLmRldmljZUlkPWZbMF07YS5sYWJlbD1mWzFdO2EuZ3JvdXBJZD1mWzJdO2Euc3luY0JhcnJpZXJSZXNvbHZlKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5zeW5jQmFycmllcigpIGZhaWxlZCFcIik7YS5zeW5jQmFycmllclJlamVjdChiKX0pfSl9O3JldHVybiBifSh3LlByb3h5T2JqZWN0KTthLlJlbW90ZURldmljZUluZm89QTtiPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1iLmNhbGwodGhpcyxudWxsLGQuY2xhc3NfaWRfdC5NZWRpYURldmljZXMsMCx3LlByb3h5TW9kZS5Mb2NhbCxmdW5jdGlvbigpe2Euc2V0RGV2aWNlQ2hhbmdlQ2FsbGJhY2soKX0pfHx0aGlzO2EuZGV2aWNlc189W107YS5lbnVtZXJhdGVNYXJrZXI9XCJlbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZVwiO2EuZW51bWVyYXRlUmVtb3RlTWFya2VyPVwiZW51bWVyYXRlZERldmljZXNQcml2YXRlLVJlbW90ZVwiO2Euc2hhcmVTeXN0ZW1BdWRpb189ITE7YS5wZW5kaW5nRW51bWVyYXRlRGV2aWNlXz1cclxuW107YS5wYW5lbGlkXz0tMTtyZXR1cm4gYX1lKGMsYik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLFwicGFuZWxpZFwiLHtzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5wYW5lbGlkXz1hfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2MucHJvdG90eXBlLmNsZWFyUGFuZWxJZD1mdW5jdGlvbigpe3RoaXMucGFuZWxpZF89LTF9O2MucHJvdG90eXBlLmVudW1lcmF0ZURldmljZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiAwPHRoaXMuZGV2aWNlc18ubGVuZ3RoJiYwPT10aGlzLnBlbmRpbmdFbnVtZXJhdGVEZXZpY2VfLmxlbmd0aD9uZXcgUHJvbWlzZShmdW5jdGlvbihiLGQpe3EubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5lbnVtZXJhdGVEZXZpY2VzOiByZXR1cm5pbmcgY2FjaGVkIGRldmljZXNcIik7YihhLmRldmljZXNfKX0pOnRoaXMuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGUoITEpfTtjLnByb3RvdHlwZS5lbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZT1cclxuZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZShkLkZFQVRVUkVfbXNfdGVhbXNfZW51bWVyYXRlX2RldmljZXNfdjIpP3RoaXMuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGVWMihhKTp0aGlzLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjEoYSl9O2MucHJvdG90eXBlLnBvc3RFbnVtZXJhdGVEZXZpY2VzUmVzdWx0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPSEwLGI9MCxkPTAsZj10aGlzLnBlbmRpbmdFbnVtZXJhdGVEZXZpY2VfO2Q8Zi5sZW5ndGg7ZCsrKXt2YXIgYz1mW2RdO2lmKDA9PWEmJmMubmFtZT09dGhpcy5lbnVtZXJhdGVSZW1vdGVNYXJrZXIpYnJlYWs7Yy5wb3N0V2l0aFJlc3VsdCghMCx0aGlzLmRldmljZXNfKTtiKys7YT0hMX0wPGImJnRoaXMucGVuZGluZ0VudW1lcmF0ZURldmljZV8uc3BsaWNlKDAsYil9O2MucHJvdG90eXBlLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjI9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjIoKSBjYWxsZWQuIHJlZnJlc2g6XCIrYitcIiBwZW5kaW5nOlwiK3RoaXMucGVuZGluZ0VudW1lcmF0ZURldmljZV8ubGVuZ3RoKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZyxmKXsxPT1ifHwwPT1jLnBlbmRpbmdFbnVtZXJhdGVEZXZpY2VfLmxlbmd0aD8oYy5wZW5kaW5nRW51bWVyYXRlRGV2aWNlXy5wdXNoKG5ldyB3LmRlZmVycmVkX2FjdGlvbihnLGYsYy5lbnVtZXJhdGVSZW1vdGVNYXJrZXIpKSxjLndhaXRVbnRpbENvbm5lY3RlZChcIlJlbW90ZURldmljZXMuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGVWMlwiKS50aGVuKGZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjIoKSByZW1vdGUgaW52b2tpbmcuLi5cIik7cmV0dXJuIGMucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX01lZGlhRGV2aWNlc190LmVudW1lcmF0ZURldmljZXNWMil9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBmPVxyXG5bXTtiLnBhcmFtc1swXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9bmV3IHIoYS5kZXZpY2VJZCxhLmdyb3VwSWQsQS5jb252ZXJ0S2luZChhLmtpbmQpLGEubGFiZWwpO2YucHVzaChhKX0pO2MuZGV2aWNlc189ZjthLmVudW1lcmF0ZWREZXZpY2VzPWw9ZjtxLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGVWMjogcmVzb2x2aW5nIGVudW1lcmF0ZWQgZGV2aWNlczogXCIrSlNPTi5zdHJpbmdpZnkoYy5kZXZpY2VzXykpO2MucG9zdEVudW1lcmF0ZURldmljZXNSZXN1bHQoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yy5kZXZpY2VzXz1bXTthLmVudW1lcmF0ZWREZXZpY2VzPWw9W107Yy5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjIoKSBmYWlsZWQsIHJlc29sdmluZyB3aXRoIGVtcHR5IGxpc3QuXCIpO2MucG9zdEVudW1lcmF0ZURldmljZXNSZXN1bHQoKX0pKTooYy5wZW5kaW5nRW51bWVyYXRlRGV2aWNlXy5wdXNoKG5ldyB3LmRlZmVycmVkX2FjdGlvbihnLFxyXG5mLGMuZW51bWVyYXRlTWFya2VyKSkscS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjIoKSBub3QgcmVtb3RpbmcgdGhpcyBjYWxsLi4uXCIpKX0pfTtjLnByb3RvdHlwZS5lbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZVYxPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjEoKSBjYWxsZWQuIHJlZnJlc2g6XCIrYitcIiBwZW5kaW5nOlwiK3RoaXMucGVuZGluZ0VudW1lcmF0ZURldmljZV8ubGVuZ3RoKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZyxmKXsxPT1ifHwwPT1jLnBlbmRpbmdFbnVtZXJhdGVEZXZpY2VfLmxlbmd0aD8oYy5wZW5kaW5nRW51bWVyYXRlRGV2aWNlXy5wdXNoKG5ldyB3LmRlZmVycmVkX2FjdGlvbihnLGYsYy5lbnVtZXJhdGVSZW1vdGVNYXJrZXIpKSxjLndhaXRVbnRpbENvbm5lY3RlZChcIlJlbW90ZURldmljZXMuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGVWMVwiKS50aGVuKGZ1bmN0aW9uKCl7cS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5lbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZVYxKCkgcmVtb3RlIGludm9raW5nLi4uXCIpO3JldHVybiBjLnJlbW90ZUludm9rZSghMSxkLm1ldGhvZF9pZF9NZWRpYURldmljZXNfdC5lbnVtZXJhdGVEZXZpY2VzKX0pLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9W107YS5wYXJhbXNbMF0uZm9yRWFjaChmdW5jdGlvbihhKXthPW5ldyBBKGEub2lkKTtiLnB1c2goYS5zeW5jQmFycmllcigpKX0pO3JldHVybiBQcm9taXNlLmFsbChiKX0pLnRoZW4oZnVuY3Rpb24oYil7dmFyIGY9W107Yi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW5ldyByKGEuZGV2aWNlSWQsYS5ncm91cElkLGEua2luZCxhLmxhYmVsKTtmLnB1c2goYik7YS5yZWxlYXNlKCl9KTtjLmRldmljZXNfPWY7YS5lbnVtZXJhdGVkRGV2aWNlcz1sPWY7cS5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLmVudW1lcmF0ZURldmljZXNQcml2YXRlVjE6IHJlc29sdmluZyBlbnVtZXJhdGVkIGRldmljZXM6IFwiK0pTT04uc3RyaW5naWZ5KGMuZGV2aWNlc18pKTtcclxuYy5wb3N0RW51bWVyYXRlRGV2aWNlc1Jlc3VsdCgpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXthLmVudW1lcmF0ZWREZXZpY2VzPWw9W107Yy5kZXZpY2VzXz1bXTtjLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuZW51bWVyYXRlRGV2aWNlc1ByaXZhdGVWMSgpIGZhaWxlZCwgcmVzb2x2aW5nIHdpdGggZW1wdHkgbGlzdC5cIik7Yy5wb3N0RW51bWVyYXRlRGV2aWNlc1Jlc3VsdCgpfSkpOihjLnBlbmRpbmdFbnVtZXJhdGVEZXZpY2VfLnB1c2gobmV3IHcuZGVmZXJyZWRfYWN0aW9uKGcsZixjLmVudW1lcmF0ZU1hcmtlcikpLHEubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5lbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZVYxKCkgbm90IHJlbW90aW5nIHRoaXMgY2FsbC4uLlwiKSl9KX07Yy5wcm90b3R5cGUuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZil7Yi53YWl0VW50aWxDb25uZWN0ZWQoXCJSZW1vdGVEZXZpY2VzLmdldERpc3BsYXlNZWRpYVwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGcuU2NyZWVuU2hhcmluZy5zY3JlZW5TaGFyaW5nSW5zdGFuY2UoKS5zZXRBY3RpdmVTb3VyY2UoYi5wYW5lbGlkXyxcclxuei5SZW1vdGVTZXNzaW9uLmlzRmVhdHVyQXBwc2hhcmVTdXBwb3J0ZWQoKSl9KS50aGVuKGZ1bmN0aW9uKGYpe3ZvaWQgMCE9PWEudmlkZW8mJm51bGwhPT1hLnZpZGVvJiZ2b2lkIDAhPT1mJiYoYS52aWRlby5kZXZpY2VJZD1mKTtuLmdldFJlZGlyZWN0b3IoKS5nZXRGZWF0dXJlVmFsdWUoZC5GRUFUVVJFX21zX3RlYW1zX3NoYXJlX3N5c3RlbV9hdWRpbykmJih2b2lkIDAhPT1hLmF1ZGlvJiZcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmF1ZGlvP3EubG9nZ2VyLmxvZyhcIk5vbi1ib29sZWFuIGF1ZGlvIGNvbnN0cmFpbnRzXCIpOmEuYXVkaW89YS5hdWRpb3x8Yi5zaGFyZVN5c3RlbUF1ZGlvXyk7Zj1iLnByZXBhcmVEaXNwbGF5Q29uc3RyYWludHMoYSk7Zj1KLnRvUmVtb3RlTWVkaWFTdHJlYW1Db25zdHJhaW50cyhmLCEwKTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTWVkaWFEZXZpY2VzX3QuZ2V0RGlzcGxheU1lZGlhLGYpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4obmV3IHgobnVsbCxcclxuYS5wYXJhbXNbMF0ub2lkLHcuUHJveHlNb2RlLlJlbW90ZSkpLnN5bmNCYXJyaWVyKCl9KS50aGVuKGZ1bmN0aW9uKGEpe2MoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2cuU2NyZWVuU2hhcmluZy5zY3JlZW5TaGFyaW5nSW5zdGFuY2UoKS5pc0FwcHNoYXJlQWN0aXZlKCkmJmcuU2NyZWVuU2hhcmluZy5zY3JlZW5TaGFyaW5nSW5zdGFuY2UoKS5zdG9wQXBwc2hhcmUoKTthPWIubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5nZXREaXNwbGF5TWVkaWEoKSBmYWlsZWQhXCIpO2YoYSl9KX0pfTtjLnByb3RvdHlwZS5zZXREZXZpY2VDaGFuZ2VDYWxsYmFjaz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9EZXZpY2VDaGFuZ2VDYWxsYmFjaygpIGNhbGxlZC5cIik7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJNZWRpYURldmljZXMub25kZXZpY2VjaGFuZ2VcIikudGhlbihmdW5jdGlvbigpe3ZhciBiPWEucmVnaXN0ZXJDYWxsYmFja3MoITEsXHJcbiExLGQubWV0aG9kX2lkX01lZGlhRGV2aWNlc190Lm9uZGV2aWNlY2hhbmdlKTtiLnRoZW4oZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25kZXZpY2VjaGFuZ2UoKTogY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7YS5lbnVtZXJhdGVEZXZpY2VzUHJpdmF0ZSghMCkudGhlbihmdW5jdGlvbigpe25hdmlnYXRvci5tZWRpYURldmljZXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJkZXZpY2VjaGFuZ2VcIikpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe25hdmlnYXRvci5tZWRpYURldmljZXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJkZXZpY2VjaGFuZ2VcIikpfSl9KTtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITAsZC5tZXRob2RfaWRfTWVkaWFEZXZpY2VzX3Qub25kZXZpY2VjaGFuZ2UsYi5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnNldF9vbmRldmljZWNoYW5nZSgpIGZhaWxlZCFcIil9KX07XHJcbmMucHJvdG90eXBlLnByZXBhcmVEaXNwbGF5Q29uc3RyYWludHM9ZnVuY3Rpb24oYSl7aWYobi5nZXRSZWRpcmVjdG9yKCkuZ2V0RmVhdHVyZVZhbHVlKGQuRkVBVFVSRV9tc190ZWFtc19jb21tb25fbWVkaWFfY29uc3RyYWludHMpKXJldHVybiBhO3ZhciBiPXtmcmFtZVJhdGU6MTUsd2lkdGg6e21heDoxOTIwfSxoZWlnaHQ6e21heDoxMDgwfX07aWYodm9pZCAwIT09YS52aWRlbyYmbnVsbCE9PWEudmlkZW8pe3ZhciBjPWEudmlkZW87dm9pZCAwIT09Yy5mcmFtZVJhdGUmJnZvaWQgMCE9PWMud2lkdGgmJnZvaWQgMCE9PWMuaGVpZ2h0JiYoYi5mcmFtZVJhdGU9Yy5mcmFtZVJhdGUsYi53aWR0aC5tYXg9Yy53aWR0aC5tYXh8fGMud2lkdGgsYi5oZWlnaHQubWF4PWMuaGVpZ2h0Lm1heHx8Yy5oZWlnaHQpfXJldHVybiBhLmF1ZGlvP3t2aWRlbzpiLGF1ZGlvOmEuYXVkaW99Ont2aWRlbzpifX07cmV0dXJuIGN9KHcuUHJveHlPYmplY3QpO2EuUmVtb3RlRGV2aWNlcz1iO3ZhciBNPVxyXG5mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS50b1JlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50U2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXZvaWQgMDt2LlV0aWwuaGFzVmFsdWUoYSkmJihiPXt9LHYuVXRpbC5oYXNWYWx1ZShhLndpZHRoKSYmKGIud2lkdGg9YS53aWR0aCksdi5VdGlsLmhhc1ZhbHVlKGEuaGVpZ2h0KSYmKGIuaGVpZ2h0PWEuaGVpZ2h0KSx2LlV0aWwuaGFzVmFsdWUoYS5hc3BlY3RSYXRpbykmJihiLmFzcGVjdFJhdGlvPWEuYXNwZWN0UmF0aW8pLHYuVXRpbC5oYXNWYWx1ZShhLmZyYW1lUmF0ZSkmJihiLmZyYW1lUmF0ZT1hLmZyYW1lUmF0ZSksdi5VdGlsLmhhc1ZhbHVlKGEuZmFjaW5nTW9kZSkmJihiLmZhY2luZ01vZGU9YS5mYWNpbmdNb2RlKSx2LlV0aWwuaGFzVmFsdWUoYS5zYW1wbGVSYXRlKSYmKGIuc2FtcGxlUmF0ZT1hLnNhbXBsZVJhdGUpLHYuVXRpbC5oYXNWYWx1ZShhLnNhbXBsZVNpemUpJiYoYi5zYW1wbGVTaXplPWEuc2FtcGxlU2l6ZSksdi5VdGlsLmhhc1ZhbHVlKGEudm9sdW1lKSYmXHJcbihiLnZvbHVtZT1hLnZvbHVtZSksdi5VdGlsLmhhc1ZhbHVlKGEuZWNob0NhbmNlbGxhdGlvbikmJihiLmVjaG9DYW5jZWxsYXRpb249YS5lY2hvQ2FuY2VsbGF0aW9uKSx2LlV0aWwuaGFzVmFsdWUoYS5hdXRvR2FpbkNvbnRyb2wpJiYoYi5hdXRvR2FpbkNvbnRyb2w9YS5hdXRvR2FpbkNvbnRyb2wpLHYuVXRpbC5oYXNWYWx1ZShhLm5vaXNlU3VwcHJlc3Npb24pJiYoYi5ub2lzZVN1cHByZXNzaW9uPWEubm9pc2VTdXBwcmVzc2lvbiksdi5VdGlsLmhhc1ZhbHVlKGEubGF0ZW5jeSkmJihiLmxhdGVuY3k9YS5sYXRlbmN5KSx2LlV0aWwuaGFzVmFsdWUoYS5jaGFubmVsQ291bnQpJiYoYi5jaGFubmVsQ291bnQ9YS5jaGFubmVsQ291bnQpLHYuVXRpbC5oYXNWYWx1ZShhLmRldmljZUlkKSYmKGIuZGV2aWNlSWQ9YS5kZXZpY2VJZCksdi5VdGlsLmhhc1ZhbHVlKGEuZ3JvdXBJZCkmJihiLmdyb3VwSWQ9YS5ncm91cElkKSx2LlV0aWwuaGFzVmFsdWUoYS5tYXhGcmFtZVJhdGUpJiYoYi5tYXhGcmFtZVJhdGU9XHJcbmEubWF4RnJhbWVSYXRlKSx2LlV0aWwuaGFzVmFsdWUoYS5tYXhIZWlnaHQpJiYoYi5tYXhIZWlnaHQ9YS5tYXhIZWlnaHQpLHYuVXRpbC5oYXNWYWx1ZShhLm1heFdpZHRoKSYmKGIubWF4V2lkdGg9YS5tYXhXaWR0aCksdi5VdGlsLmhhc1ZhbHVlKGEubWluSGVpZ2h0KSYmKGIubWluSGVpZ2h0PWEubWluSGVpZ2h0KSx2LlV0aWwuaGFzVmFsdWUoYS5taW5XaWR0aCkmJihiLm1pbldpZHRoPWEubWluV2lkdGgpLHYuVXRpbC5oYXNWYWx1ZShhLnNvdXJjZUlkKSYmKGIuc291cmNlSWQ9YS5zb3VyY2VJZCkpO3JldHVybiBifTtyZXR1cm4gYX0oKTthLlJlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50U2V0PU07dmFyIEY9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBudWxsIT09YSYmYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZShiLGEpO2IuZGVmTWFuZGF0b3J5PWZ1bmN0aW9uKGEpe3ZhciBiPWE7di5VdGlsLmhhc1ZhbHVlKGEpPyh2LlV0aWwuaGFzVmFsdWUoYS5tYXhGcmFtZVJhdGUpfHxcclxuKGIubWF4RnJhbWVSYXRlPTMwKSx2LlV0aWwuaGFzVmFsdWUoYS5taW5XaWR0aCl8fChiLm1pbldpZHRoPTM2MCksdi5VdGlsLmhhc1ZhbHVlKGEubWF4V2lkdGgpfHwoYi5tYXhXaWR0aD0xOTIwKSx2LlV0aWwuaGFzVmFsdWUoYS5taW5IZWlnaHQpfHwoYi5taW5IZWlnaHQ9MTgwKSx2LlV0aWwuaGFzVmFsdWUoYS5tYXhIZWlnaHQpfHwoYi5tYXhIZWlnaHQ9MTA4MCkpOmI9e21heEZyYW1lUmF0ZTozMCxtaW5XaWR0aDozNjAsbWF4V2lkdGg6MTkyMCxtaW5IZWlnaHQ6MTgwLG1heEhlaWdodDoxMDgwfTtyZXR1cm4gYn07Yi50b1JlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50cz1mdW5jdGlvbihhKXt2YXIgYj12b2lkIDA7di5VdGlsLmhhc1ZhbHVlKGEpJiYoYj1NLnRvUmVtb3RlTWVkaWFUcmFja0NvbnN0cmFpbnRTZXQoYSksYi5hZHZhbmNlZD1bXSx2LlV0aWwuaGFzVmFsdWUoYS5hZHZhbmNlZCkmJmEuYWR2YW5jZWQuZm9yRWFjaChmdW5jdGlvbihhKXthPU0udG9SZW1vdGVNZWRpYVRyYWNrQ29uc3RyYWludFNldChhKTtcclxuYi5hZHZhbmNlZC5wdXNoKGEpfSksdi5VdGlsLmhhc1ZhbHVlKGEubWFuZGF0b3J5KSYmKGIubWFuZGF0b3J5PVwiYm9vbGVhblwiIT10eXBlb2YgYS5tYW5kYXRvcnk/TS50b1JlbW90ZU1lZGlhVHJhY2tDb25zdHJhaW50U2V0KGEubWFuZGF0b3J5KTphLm1hbmRhdG9yeSkpO3JldHVybiBifTtyZXR1cm4gYn0oTSk7YS5SZW1vdGVNZWRpYVRyYWNrQ29uc3RyYWludHM9Rjt2YXIgSj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS5nZXREZWZhdWx0QXVkaW9EZXZpY2VJZD1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PWwpe3ZhciBhPWwuZmluZChmdW5jdGlvbihhKXtyZXR1cm5cImF1ZGlvaW5wdXRcIj09PWEua2luZCYmXCJkZWZhdWx0XCI9PT1hLmRldmljZUlkfSk7aWYodm9pZCAwIT09YSlyZXR1cm4gYS5kZXZpY2VJZH1yZXR1cm5cIlwifTthLmdldERlZmF1bHRWaWRlb0RldmljZUlkPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09bCl7dmFyIGE9bC5maW5kKGZ1bmN0aW9uKGEpe3JldHVyblwidmlkZW9pbnB1dFwiPT09XHJcbmEua2luZH0pO2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuZGV2aWNlSWR9cmV0dXJuXCJcIn07YS50b1JlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHM9ZnVuY3Rpb24oYixjKXt2b2lkIDA9PT1jJiYoYz0hMSk7cS5sb2dnZXIubG9nKFwiUmVtb3RlTWVkaWFTdHJlYW1Db25zdHJhaW50cy50b1JlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHMoKSBpbiBjb25zdHJhaW50czpcIitKU09OLnN0cmluZ2lmeShiKSk7dmFyIGc9e307di5VdGlsLmhhc1ZhbHVlKGIpJiYodi5VdGlsLmhhc1ZhbHVlKGIuYXVkaW8pJiYoXCJib29sZWFuXCIhPXR5cGVvZiBiLmF1ZGlvPyhnLmF1ZGlvPUYudG9SZW1vdGVNZWRpYVRyYWNrQ29uc3RyYWludHMoYi5hdWRpbyksMCE9T2JqZWN0LmtleXMoZy5hdWRpbykubGVuZ3RoJiZ2LlV0aWwuaGFzVmFsdWUoZy5hdWRpbyl8fChnLmF1ZGlvPXtkdW1teToxfSksZC5CVUlMRF9UWVBFX1NESyYmMD09YyYmYS5pc0NvbnN0cmFpbnRzQXVkaW9EZXZpY2VJZEVtcHR5KGIpJiZcclxuKGcuYXVkaW8uZGV2aWNlSWQ9YS5nZXREZWZhdWx0QXVkaW9EZXZpY2VJZCgpLHEubG9nZ2VyLmxvZyhcIlJlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHMudG9SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKCkgc2V0IGRlZmF1bHQgYXVkaW8gZGV2aWNlSWQ6J1wiK2cuYXVkaW8uZGV2aWNlSWQrXCInXCIpKSk6Zy5hdWRpbz1iLmF1ZGlvKSx2LlV0aWwuaGFzVmFsdWUoYi5wZWVySWRlbnRpdHkpJiYoZy5wZWVySWRlbnRpdHk9Yi5wZWVySWRlbnRpdHkpLHYuVXRpbC5oYXNWYWx1ZShiLnZpZGVvKSYmKFwiYm9vbGVhblwiIT10eXBlb2YgYi52aWRlbz8oZy52aWRlbz1GLnRvUmVtb3RlTWVkaWFUcmFja0NvbnN0cmFpbnRzKGIudmlkZW8pLDA9PWMmJlwiYm9vbGVhblwiIT10eXBlb2YgZy52aWRlby5tYW5kYXRvcnkmJihnLnZpZGVvLm1hbmRhdG9yeT1GLmRlZk1hbmRhdG9yeShnLnZpZGVvLm1hbmRhdG9yeSksZC5CVUlMRF9UWVBFX1NESyYmYS5pc0NvbnN0cmFpbnRzVmlkZW9Tb3VyY2VJZEVtcHR5KGIpJiZcclxuKGcudmlkZW8ubWFuZGF0b3J5LnNvdXJjZUlkPWEuZ2V0RGVmYXVsdFZpZGVvRGV2aWNlSWQoKSxxLmxvZ2dlci5sb2coXCJSZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzLnRvUmVtb3RlTWVkaWFTdHJlYW1Db25zdHJhaW50cygpIHNldCBkZWZhdWx0IHZpZGVvIHNvdXJjZUlkOidcIitnLnZpZGVvLm1hbmRhdG9yeS5zb3VyY2VJZCtcIidcIikpKSk6KGcudmlkZW89Yi52aWRlbywxPT1iLnZpZGVvJiYwPT1jJiZkLkJVSUxEX1RZUEVfU0RLJiZhLmlzQ29uc3RyYWludHNWaWRlb1NvdXJjZUlkRW1wdHkoYikmJihnLnZpZGVvPXt9LGcudmlkZW8ubWFuZGF0b3J5PUYuZGVmTWFuZGF0b3J5KHZvaWQgMCksZy52aWRlby5tYW5kYXRvcnkuc291cmNlSWQ9YS5nZXREZWZhdWx0VmlkZW9EZXZpY2VJZCgpLHEubG9nZ2VyLmxvZyhcIlJlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHMudG9SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKCkgc2V0IGRlZmF1bHQgdmlkZW8gc291cmNlSWQ6J1wiK1xyXG5nLnZpZGVvLm1hbmRhdG9yeS5zb3VyY2VJZCtcIidcIikpKSkpO3EubG9nZ2VyLmxvZyhcIlJlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHMudG9SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKCkgb3V0IGNvbnN0cmFpbnRzOlwiK0pTT04uc3RyaW5naWZ5KGcpKTtyZXR1cm4gZ307YS5pc0NvbnN0cmFpbnRzQXVkaW9EZXZpY2VJZEVtcHR5PWZ1bmN0aW9uKGEpe3ZhciBiPSExO3YuVXRpbC5oYXNWYWx1ZShhKSYmdi5VdGlsLmhhc1ZhbHVlKGEuYXVkaW8pJiYoXCJib29sZWFuXCI9PXR5cGVvZiBhLmF1ZGlvPzE9PWEuYXVkaW8mJihiPSEwKTooYT1hLmF1ZGlvLCFhfHwhMSE9PXYuVXRpbC5oYXNWYWx1ZShhLmRldmljZUlkKSYmXCJcIiE9PWEuZGV2aWNlSWR8fChiPSEwKSkpO3JldHVybiBifTthLmlzQ29uc3RyYWludHNWaWRlb1NvdXJjZUlkRW1wdHk9ZnVuY3Rpb24oYSl7dmFyIGI9ITE7aWYodi5VdGlsLmhhc1ZhbHVlKGEpJiZ2LlV0aWwuaGFzVmFsdWUoYS52aWRlbykpaWYoXCJib29sZWFuXCI9PVxyXG50eXBlb2YgYS52aWRlbykxPT1hLnZpZGVvJiYoYj0hMCk7ZWxzZSBpZihhPWEudmlkZW8pKGE9YS5tYW5kYXRvcnkpJiYhMSE9PXYuVXRpbC5oYXNWYWx1ZShhLnNvdXJjZUlkKSYmXCJcIiE9PWEuc291cmNlSWR8fChiPSEwKTtyZXR1cm4gYn07cmV0dXJuIGF9KCk7YS5SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzPUo7dmFyIEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy52aWRlbz10aGlzLmF1ZGlvPWEuRW1wdHlDYXBhYmlsaXRpZXN9YS5FbXB0eUNhcGFiaWxpdGllcz17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W119O3JldHVybiBhfSgpO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBhLmNhbGwodGhpcyxudWxsLGQuY2xhc3NfaWRfdC5OYXZpZ2F0b3JVc2VyTWVkaWEsMCx3LlByb3h5TW9kZS5Mb2NhbCl8fHRoaXN9ZShiLGEpO2IuZ2V0Q2FwYWJpbGl0aWVzPWZ1bmN0aW9uKGEpe3EubG9nZ2VyLmxvZyhcIk5hdmlnYXRvclVzZXJNZWRpYS5nZXRDYXBhYmlsaXRpZXMgZm9yIHR5cGU9XCIrXHJcbmErXCIgY2FwYWJpbGl0aWVzPVwiK0pTT04uc3RyaW5naWZ5KGIuY2FwYWJpbGl0aWVzW2FdKSk7cmV0dXJuIGIuY2FwYWJpbGl0aWVzW2FdfTtiLnJlc2V0Q2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7Yi5jYXBhYmlsaXRpZXM9bmV3IEd9O2IucHJvdG90eXBlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldENhcGFiaWxpdGllcy4uLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxnKXthLndhaXRVbnRpbENvbm5lY3RlZChcIk5hdmlnYXRvclVzZXJNZWRpYS5nZXRDYXBhYmlsaXRpZXNcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTmF2aWdhdG9yVXNlck1lZGlhX3QuZ2V0Q2FwYWJpbGl0aWVzLFwiYXVkaW9cIiksYS5yZW1vdGVJbnZva2UoITEsZC5tZXRob2RfaWRfTmF2aWdhdG9yVXNlck1lZGlhX3QuZ2V0Q2FwYWJpbGl0aWVzLFxyXG5cInZpZGVvXCIpXSl9KS50aGVuKGZ1bmN0aW9uKGYpe2IuY2FwYWJpbGl0aWVzLmF1ZGlvPWEucGFyYW0wKGZbMF0pO2IuY2FwYWJpbGl0aWVzLnZpZGVvPWEucGFyYW0wKGZbMV0pO3EubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRDYXBhYmlsaXRpZXMgY2FwYWJpbGl0aWVzPVwiK0pTT04uc3RyaW5naWZ5KGIuY2FwYWJpbGl0aWVzKSk7YyhiLmNhcGFiaWxpdGllcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2coYS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLmdldENhcGFiaWxpdGllcyBmYWlsZWQhXCIpKX0pfSl9O2IucHJvdG90eXBlLnNldENvZGVjQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cS5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldENvZGVjQ2FwYWJpbGl0aWVzIDogc2V0IGNvZGVjQ2FwYWJpbGl0aWVzIHRvIFwiK0pTT04uc3RyaW5naWZ5KGEpKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxmKXtiLndhaXRVbnRpbENvbm5lY3RlZChcIk5hdmlnYXRvclVzZXJNZWRpYS5zZXRDb2RlY0NhcGFiaWxpdGllc1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucmVtb3RlSW52b2tlKCExLFxyXG5kLm1ldGhvZF9pZF9OYXZpZ2F0b3JVc2VyTWVkaWFfdC5zZXRDb2RlY0NhcGFiaWxpdGllcyxhKX0pLnRoZW4oZnVuY3Rpb24oKXtxLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0Q29kZWNDYXBhYmlsaXRpZXMoKSBzdWNjZXNzLlwiKTtjKCEwKTtiLmdldENhcGFiaWxpdGllcygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWIubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zZXRDb2RlY0NhcGFiaWxpdGllcygpIGZhaWxlZCFcIik7ZihhKX0pfSl9O2IucHJvdG90eXBlLndlYmtpdEdldFVzZXJNZWRpYT1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIHRoaXMuZ2V0VXNlck1lZGlhKGEsYixkKX07Yi5wcm90b3R5cGUuTG9nVGVsZW1ldHJ5RGV2aWNlXz1mdW5jdGlvbihhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhLmF1ZGlvKXt2YXIgYj1hLmF1ZGlvLmRldmljZUlkLGQ7bC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2I9PWEuZGV2aWNlSWQmJihkPWEubGFiZWwpfSk7XHJcbnEubG9nZ2VyLmxvZyhkKTt0aGlzLlNlbmRUZWxlbWV0cnlEYXRhKGsudGVsX2tleV9BdWRpb0RldmljZVVzZWQsZCwwKX1pZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEudmlkZW8pe3ZhciBmPWEudmlkZW8ubWFuZGF0b3J5LGM7ZiYmbC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Yuc291cmNlSWQ9PWEuZGV2aWNlSWQmJihjPWEubGFiZWwpfSk7cS5sb2dnZXIubG9nKGMpO3RoaXMuU2VuZFRlbGVtZXRyeURhdGEoay50ZWxfa2V5X1ZpZGVvRGV2aWNlVXNlZCxjLDApfX1jYXRjaChnKXtxLmxvZ2dlci5sb2coZyl9fTtiLnByb3RvdHlwZS5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oYSxiLGQpe3EubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRVc2VyTWVkaWEoKSBjYWxsZWQ6IFwiK0pTT04uc3RyaW5naWZ5KGEpKTtyZXR1cm4gYiYmZD90aGlzLmdldFVzZXJNZWRpYV92MShhLGIsZCk6dGhpcy5nZXRVc2VyTWVkaWFfdjIoYSl9O2IucHJvdG90eXBlLmdldFVzZXJNZWRpYV92Mj1cclxuZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0VXNlck1lZGlhX3YyKCkgY2FsbGVkOiBcIitKU09OLnN0cmluZ2lmeShhKSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZil7Yi5nZXRVc2VyTWVkaWFQcml2YXRlKGEsZnVuY3Rpb24oYSl7cS5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiZ2V0VXNlck1lZGlhX3YyOiByZXNvbHZpbmcgc3RyZWFtXCIpO2QoYSl9LGZ1bmN0aW9uKGEpe3EubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcImdldFVzZXJNZWRpYV92MjogcmVqZWN0aW5nIHN0cmVhbVwiKTtmKGEpfSl9KX07Yi5wcm90b3R5cGUuZ2V0VXNlck1lZGlhX3YxPWZ1bmN0aW9uKGEsYixkKXtxLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0VXNlck1lZGlhX3YxKCkgY2FsbGVkOiBcIitKU09OLnN0cmluZ2lmeShhKSk7cmV0dXJuIHRoaXMuZ2V0VXNlck1lZGlhUHJpdmF0ZShhLFxyXG5iLGQpfTtiLnByb3RvdHlwZS5nZXRVc2VyTWVkaWFQcml2YXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZj10aGlzO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiTmF2aWdhdG9yVXNlck1lZGlhLmdldFVzZXJNZWRpYVByaXZhdGVcIikudGhlbihmdW5jdGlvbigpe3ZhciBiPWYucmVnaXN0ZXJDYWxsYmFja3MoITAsITEsZC5tZXRob2RfaWRfTmF2aWdhdG9yVXNlck1lZGlhX3QuZ2V0VXNlck1lZGlhKSxjPUoudG9SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKGEpO2YucmVtb3RlSW52b2tlKCExLGQubWV0aG9kX2lkX05hdmlnYXRvclVzZXJNZWRpYV90LmdldFVzZXJNZWRpYSxjLGIuc3VjY2VzcyxiLmZhaWwpO3JldHVybiBiLnByb20oKX0pLnRoZW4oZnVuY3Rpb24oYSl7cS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFVzZXJNZWRpYVByaXZhdGU6IHJlY2VpdmVkIHN1Y2Nlc3MgY2FsbGJhY2shXCIpO3JldHVybihuZXcgeChudWxsLGYucGFyYW0wKGEpLm9pZCxcclxudy5Qcm94eU1vZGUuUmVtb3RlKSkuc3luY0JhcnJpZXIoKX0pLnRoZW4oZnVuY3Rpb24oZCl7cS5sb2dnZXIubG9nKGYudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFVzZXJNZWRpYVByaXZhdGU6IE1lZGlhU3RyZWFtIHJlYWR5IHRvIGRlbGl2ZXJcIixKU09OLnN0cmluZ2lmeShkKSk7MD09ZC5nZXRUcmFja3MoKS5sZW5ndGg/KHEubG9nZ2VyLmxvZyhmLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRVc2VyTWVkaWFQcml2YXRlOiByZXBvcnRpbmcgbm8gdHJhY2tzIGFzIGVycm9yLlwiKSxjKHtjb25zdHJhaW50TmFtZTpcIlwiLG5hbWU6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLG1lc3NhZ2U6XCJcIn0pKTooZi5Mb2dUZWxlbWV0cnlEZXZpY2VfKGEpLGIoZCkpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtmLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuZ2V0VXNlck1lZGlhUHJpdmF0ZSgpIGZhaWxlZCFcIik7bi5nZXRSZWRpcmVjdG9yKCkuZ2V0RmVhdHVyZVZhbHVlKGQuRkVBVFVSRV9tc190ZWFtc18xOTEyKT9cclxuZi5wYXJhbTAmJmE/YyhmLnBhcmFtMChhKSk6Yyh7Y29uc3RyYWludE5hbWU6XCJcIixuYW1lOlwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIixtZXNzYWdlOlwiXCJ9KTpjKHtjb25zdHJhaW50TmFtZTpcIlwiLG5hbWU6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLG1lc3NhZ2U6XCJcIn0pfSl9O2IucHJvdG90eXBlLlNlbmRUZWxlbWV0cnlEYXRhPWZ1bmN0aW9uKGEsYixkKXtuLmdldFJlZGlyZWN0b3IoKS50ZWxlbWV0cnkuU2VuZFRlbGVtZXRyeURhdGEoay50ZWxfY21kLkRhdGEsYSxiLGQpfTtiLmNhcGFiaWxpdGllcz1uZXcgRztyZXR1cm4gYn0ody5Qcm94eU9iamVjdCk7YS5OYXZpZ2F0b3JVc2VyTWVkaWE9Yn0sNjUwOmZ1bmN0aW9uKGIsYSxjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLlJlbW90ZVNlc3Npb249YS5TZXNzaW9uSW5mbz1hLlJlbW90ZVR5cGU9dm9pZCAwO3ZhciBlPWMoOTQ2KSxsPWMoNTUwKSxoPWMoOSksZD1jKDg1MSksdz1jKDU1MCksXHJcbnE9YygzOTQpLG47KGZ1bmN0aW9uKGEpe2FbYS5Vbmtub3duPTBdPVwiVW5rbm93blwiO2FbYS5XaW5kb3dzPTFdPVwiV2luZG93c1wiO2FbYS5MaW51eD0yXT1cIkxpbnV4XCJ9KShuPWEuUmVtb3RlVHlwZXx8KGEuUmVtb3RlVHlwZT17fSkpO3ZhciBrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX0oKTthLlNlc3Npb25JbmZvPWs7Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXt2YXIgYz10aGlzO3RoaXMuaXNyZW1vdGVfPSExO3RoaXMuaXNyZW1vdGVfPSEwO3RoaXMudHlwZV89bi5XaW5kb3dzO3RoaXMuYWRkcmVzc189XCIwLjAuMC4wXCI7dGhpcy5zZXNzaW9uaW5mb189bnVsbDtlLmdldFJlZGlyZWN0b3IoKS5zZXRSZW1vdGVTZXNzaW9uSW5mb0NiKGZ1bmN0aW9uKCl7cmV0dXJuIGMucmVtb3RlU2Vzc2lvbkluZm8oKX0pO3RoaXMuZW5naW5lY29udHJvbF89bmV3IGguRW5naW5lQ29udHJvbChiK1wiOjpcIitkKX1hLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7ZS5nZXRSZWRpcmVjdG9yKCkuc2V0UmVtb3RlU2Vzc2lvbkluZm9DYihudWxsKX07XHJcbmEucHJvdG90eXBlLnVzZXJfZnJpZW5kbHlfaWQ9ZnVuY3Rpb24oKXtyZXR1cm5cIltSZW1vdGVTZXNzaW9uXVwifTthLnByb3RvdHlwZS5nZXRGZWF0dXJlRmxhZ3M9ZnVuY3Rpb24oKXt2YXIgYT17fTtudWxsIT09dGhpcy5lbmdpbmVjb250cm9sXyYmbnVsbCE9PXRoaXMuZW5naW5lY29udHJvbF8uZmVhdHVyZXNfJiZ2b2lkIDAhPT10aGlzLmVuZ2luZWNvbnRyb2xfLmZlYXR1cmVzXyYmdGhpcy5lbmdpbmVjb250cm9sXy5mZWF0dXJlc18uZm9yRWFjaChmdW5jdGlvbihiKXthW2IubmFtZV09Yi52YWx1ZX0pO3JldHVybiBhfTthLnByb3RvdHlwZS5pc0ZlYXR1cmVTdXBwb3J0ZWQ9ZnVuY3Rpb24oYSl7aWYoXCJ2aWRlb1wiPT09YSlyZXR1cm4hMDtpZihcImdpdmVjb250cm9sXCI9PT1hJiZ0aGlzLnNlc3Npb25pbmZvXy5jbGllbnRQbGF0Zm9ybS5pbmNsdWRlcyhcIkxpbnV4XCIpfHwhKGEgaW4gdy5mZWF0dXJlTmFtZU1hcCkpcmV0dXJuITE7Zm9yKHZhciBiPXcuZmVhdHVyZU5hbWVNYXBbYV0sXHJcbmQ9dGhpcy5nZXRGZWF0dXJlRmxhZ3MoKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoIShiW2NdaW4gZCl8fCEwIT09ZFtiW2NdXSlyZXR1cm4hMTtyZXR1cm4gYSBpbiB3LnZkYUZlYXR1cmVOYW1lTWFwP3cudmRhRmVhdHVyZU5hbWVNYXBbYV0ubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBlLmdldFJlZGlyZWN0b3IoKS5nZXRWREFGZWF0dXJlVmFsdWUoYSl9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYn0sITApOiEwfTthLmlzRmVhdHVyZVBzdG5TdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5wc3RuX307YS5pc0ZlYXR1cmVEdG1mU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZHRtZnN3aXRjaF99O2EuaXNGZWF0dXJBcHBzaGFyZVN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcHNoYXJlX307YS5pc0ZlYXR1cmVXZWJydGMxZG90MFN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiBhLndlYnJ0YzFkb3QwX307YS5pc0ZlYXR1cmVEYXRhQ2hhbm5lbFN1cHBvcnRlZD1cclxuZnVuY3Rpb24oKXtyZXR1cm4gYS5kYXRhY2hhbm5lbF99O2EuaXNGZWF0dXJlVmROb0J1ZmZlckxpbWl0U3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGEudmRub2J1ZmxpbWl0X307YS5pc0ZlYXR1cmVDYWxsQ29uc3RyYWludHNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsY29uc3RyYWludHNffTthLmlzRmVhdHVyZVRyYWNrQ2xvbmVXaXRoSWRTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS50cmFja2Nsb25ld2l0aGlkX307YS5pc0ZlYXR1cmVTZW5kZXJTdGF0c0ZpeFN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiBhLnNlbmRlcnN0YXRzZml4X307YS5wcm90b3R5cGUuZ2V0U2Vzc2lvbkluZm89ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0U2Vzc2lvbkluZm8oKSBjYWxsZWQuXCIpO3JldHVybiBudWxsIT10aGlzLnNlc3Npb25pbmZvXz9Qcm9taXNlLnJlc29sdmUodGhpcy5zZXNzaW9uaW5mb18pOlByb21pc2UucmVqZWN0KCl9O1xyXG5hLnByb3RvdHlwZS5yZW1vdGVTZXNzaW9uSW5mbz1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzO2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZW1vdGVTZXNzaW9uSW5mbygpIGNhbGxlZC5cIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sdCl7Yy5lbmdpbmVjb250cm9sXy5zeW5jQmFycmllcigpLnRoZW4oZnVuY3Rpb24oZSl7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiZW5naW5lY29udHJvbCBpbmZvIHJlY2VpdmVkIVwiKTtjLnNlc3Npb25pbmZvXz1uZXcgaztjLnNlc3Npb25pbmZvXy50eXBlX3NjcmlwdD1sLkhEWE1TX1ZFUlNJT047Yy5zZXNzaW9uaW5mb18ud2VicnBjPWUudmVyc2lvbl8ubWFqb3IudG9TdHJpbmcoKStcIi5cIitlLnZlcnNpb25fLm1pbm9yLnRvU3RyaW5nKCkrXCIuXCIrZS52ZXJzaW9uXy5yZXZpc2lvbi50b1N0cmluZygpK1wiLlwiK2UudmVyc2lvbl8uYnVpbGQudG9TdHJpbmcoKTtpZih2b2lkIDAhPWUudmVyc2lvbnNfJiZcclxubnVsbCE9ZS52ZXJzaW9uc18pe2MuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X1ZlclR5cGVTY3JpcHQsbC5IRFhNU19WRVJTSU9OLDApO2Zvcih2YXIgdD0wLHk9MCx4PWUudmVyc2lvbnNfO3k8eC5sZW5ndGg7eSsrKXt2YXIgcj14W3ldLHI9ci5tYWpvci50b1N0cmluZygpK1wiLlwiK3IubWlub3IudG9TdHJpbmcoKStcIi5cIityLnJldmlzaW9uLnRvU3RyaW5nKCkrXCIuXCIrci5idWlsZC50b1N0cmluZygpO3N3aXRjaCh0KXtjYXNlIGguVmVyc2lvblR5cGUuV2VicnBjOmMuc2Vzc2lvbmluZm9fLndlYnJwYz1yO2MuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X1ZlcldlYnJwYyxyLDApO2JyZWFrO2Nhc2UgaC5WZXJzaW9uVHlwZS5XZWJydGNDb2RlY3M6Yy5zZXNzaW9uaW5mb18ud2VicnRjX2NvZGVjcz1yO2MuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X1ZlcldlYnJ0Y0NvZGVjcyxyLDApO2JyZWFrO2Nhc2UgaC5WZXJzaW9uVHlwZS5SZWNlaXZlcjpjLnNlc3Npb25pbmZvXy5yZWNlaXZlcj1cclxucjtjLlNlbmRUZWxlbWV0cnlEYXRhKHEudGVsX2tleV9WZXJSZWNlaXZlcixyLDApO2JyZWFrO2Nhc2UgaC5WZXJzaW9uVHlwZS5WZGE6Yy5zZXNzaW9uaW5mb18udmRhPXI7Yy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfVmVyVmRhLHIsMCk7YnJlYWs7Y2FzZSBoLlZlcnNpb25UeXBlLkVuZHBvaW50OmMuc2Vzc2lvbmluZm9fLmVuZHBvaW50PXI7Yy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfVmVyRW5kcG9pbnQsciwwKTticmVhaztjYXNlIGguVmVyc2lvblR5cGUuSGR4UnRjRW5naW5lOmMuc2Vzc2lvbmluZm9fLmhkeHJ0Y2VuZ2luZT1yO2MuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X1ZlckhkeFJ0Y0VuZ2luZSxyLDApO2JyZWFrO2RlZmF1bHQ6ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiVW5rbm93biB2ZXJzaW9uIHR5cGUhXCIpfXQrK319dm9pZCAwIT1lLm9zaW5mb18mJm51bGwhPWUub3NpbmZvXyYmKGMuc2Vzc2lvbmluZm9fLm9zaW5mbz1cclxuZS5vc2luZm9fLGUub3NpbmZvXy5mYW1pbHkuaW5jbHVkZXMoXCJEYXJ3aW5cIikmJltcIk1hYyBPUyBYXCIsXCJtYWNPU1wiLFwiT1MgWFwiXS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBlLm9zaW5mb18uZWRpdGlvbi5zdGFydHNXaXRoKGEpfSk/Yy5zZXNzaW9uaW5mb18uY2xpZW50UGxhdGZvcm09XCJNYWNcIjpjLnNlc3Npb25pbmZvXy5jbGllbnRQbGF0Zm9ybT1lLm9zaW5mb18uZmFtaWx5LGMuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X09TRmFtaWx5LGUub3NpbmZvXy5mYW1pbHksMCksYy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfT1NWZXJzaW9uLGUub3NpbmZvXy52ZXJzaW9uLDApLGMuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X09TQXJjaGl0ZWN0dXJlLGUub3NpbmZvXy5hcmNoaXRlY3R1cmUsMCksYy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfT1NEaXN0cm8sZS5vc2luZm9fLmRpc3RybywwKSxjLlNlbmRUZWxlbWV0cnlEYXRhKHEudGVsX2tleV9PU0VkaXRpb24sXHJcbmUub3NpbmZvXy5lZGl0aW9uLDApKTt2b2lkIDAhPWUuZW5kcG9pbnRpZF8mJm51bGwhPWUuZW5kcG9pbnRpZF8mJihjLnNlc3Npb25pbmZvXy5lbmRwb2ludElkPWUuZW5kcG9pbnRpZF8ubWFjaGluZV9pZCk7dm9pZCAwIT1lLmhhcmR3YXJlaW5mb18mJm51bGwhPWUuaGFyZHdhcmVpbmZvXyYmKGMuc2Vzc2lvbmluZm9fLmhhcmR3YXJlX2luZm89ZS5oYXJkd2FyZWluZm9fLGMuU2VuZFRlbGVtZXRyeURhdGEocS50ZWxfa2V5X0NQVU1vZGVsLGUuaGFyZHdhcmVpbmZvXy5jcHVfaW5mby5jcHVtb2RlbCwwKSxjLlNlbmRUZWxlbWV0cnlEYXRhKHEudGVsX2tleV9DUFVQcm9jZXNzb3JzLGUuaGFyZHdhcmVpbmZvXy5jcHVfaW5mby5udW1iZXJvZnByb2Nlc3NvcnMsMCksYy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfQ1BVR3B1aW5mbyxKU09OLnN0cmluZ2lmeShlLmhhcmR3YXJlaW5mb18uZ3B1X2luZm8uZ3B1cyksMCksYy5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9rZXlfQ1BVVG90YWxtZW1vcnksXHJcbmUuaGFyZHdhcmVpbmZvXy5tZW1vcnlfaW5mby50b3RhbG1lbW9yeSwwKSk7YS5wc3RuXz1iLmlzRmVhdHVyZVN1cHBvcnRlZChsLkZlYXR1cmVzLkZFQVRVUkVfcHVibGljX3BzdG4pO2EuZHRtZnN3aXRjaF89Yi5pc0ZlYXR1cmVTdXBwb3J0ZWQobC5GZWF0dXJlcy5GRUFUVVJFX3B1YmxpY19kdG1mKTthLmFwcHNoYXJlXz1iLmlzRmVhdHVyZVN1cHBvcnRlZChsLkZlYXR1cmVzLkZFQVRVUkVfcHVibGljX2FwcF9zaGFyaW5nKTthLndlYnJ0YzFkb3QwXz1iLmlzRmVhdHVyZVN1cHBvcnRlZChsLkZlYXR1cmVzLkZFQVRVUkVfcHVibGljX3dlYnJ0YzFkb3QwKTthLmRhdGFjaGFubmVsXz1iLmlzRmVhdHVyZVN1cHBvcnRlZChsLkZlYXR1cmVzLkZFQVRVUkVfcHVibGljX2RhdGFfY2hhbm5lbCk7YS52ZG5vYnVmbGltaXRfPWIuaXNGZWF0dXJlU3VwcG9ydGVkKGwuRmVhdHVyZXMuRkVBVFVSRV9wdWJsaWNfdmRub2J1ZmxpbWl0KTthLmNhbGxjb25zdHJhaW50c189Yi5pc0ZlYXR1cmVTdXBwb3J0ZWQobC5GZWF0dXJlcy5GRUFUVVJFX3B1YmxpY19zdHJlYW1fcmVzb2x1dGlvbik7XHJcbmEudHJhY2tjbG9uZXdpdGhpZF89Yi5pc0ZlYXR1cmVTdXBwb3J0ZWQobC5GZWF0dXJlcy5GRUFUVVJFX3B1YmxpY190cmFja19jbG9uZV93aXRoX2lkKTthLnNlbmRlcnN0YXRzZml4Xz1iLmlzRmVhdHVyZVN1cHBvcnRlZChsLkZlYXR1cmVzLkZFQVRVUkVfcHVibGljX3NlbmRlcl9zdGF0c19maXgpO24oYy5zZXNzaW9uaW5mb18pO2MuZW5naW5lY29udHJvbF8ucmVsZWFzZSgpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2UuZ2V0UmVkaXJlY3RvcigpLmlzUGluZ0FjdGl2ZSgpP2MucmV0cnlTZXNzaW9uSW5mbygpOih0KCksYy5lbmdpbmVjb250cm9sXy5yZWxlYXNlKCksYy5lbmdpbmVjb250cm9sXz1udWxsKX0pfSl9O2EucHJvdG90eXBlLnJldHJ5U2Vzc2lvbkluZm89ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coXCJjaGVja2luZyBpZiB3ZSBhcmUgY29ubmVjdGVkLi4uXCIpO2EuZW5naW5lY29udHJvbF8uYmluZCgpO2UuZ2V0UmVkaXJlY3RvcigpLmhhbmRsZVJlbW90ZVNlc3Npb25JbmZvKCl9LFxyXG4xNUUzKX07YS5wcm90b3R5cGUuU2VuZFRlbGVtZXRyeURhdGE9ZnVuY3Rpb24oYSxiLGQpe2UuZ2V0UmVkaXJlY3RvcigpLnRlbGVtZXRyeS5TZW5kVGVsZW1ldHJ5RGF0YShxLnRlbF9jbWQuRGF0YSxhLGIsZCl9O2EucHN0bl89ITE7YS5kdG1mc3dpdGNoXz0hMTthLmFwcHNoYXJlXz0hMTthLndlYnJ0YzFkb3QwXz0hMTthLmRhdGFjaGFubmVsXz0hMTthLnZkbm9idWZsaW1pdF89ITE7YS5jYWxsY29uc3RyYWludHNfPSExO2EudHJhY2tjbG9uZXdpdGhpZF89ITE7YS5zZW5kZXJzdGF0c2ZpeF89ITE7cmV0dXJuIGF9KCk7YS5SZW1vdGVTZXNzaW9uPWJ9LDI0OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGQpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmXHJcbihhW2RdPWJbZF0pfTtyZXR1cm4gYShiLGQpfTtyZXR1cm4gZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1ifWEoYixkKTtiLnByb3RvdHlwZT1udWxsPT09ZD9PYmplY3QuY3JlYXRlKGQpOihjLnByb3RvdHlwZT1kLnByb3RvdHlwZSxuZXcgYyl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuUnRjRGF0YUNoYW5uZWw9YS5SVENTY3RwVHJhbnNwb3J0PXZvaWQgMDt2YXIgbD1jKDY1OCksaD1jKDU1MCksZD1jKDg1MSksdz1jKDU4OSkscTsoZnVuY3Rpb24oYSl7YVthW1wibmV3XCJdPTBdPVwibmV3XCI7YVthLmNvbm5lY3Rpbmc9MV09XCJjb25uZWN0aW5nXCI7YVthLmNvbm5lY3RlZD0yXT1cImNvbm5lY3RlZFwiO2FbYS5jbG9zZWQ9M109XCJjbG9zZWRcIjthW2EubWF4PTRdPVwibWF4XCJ9KShxfHwocT17fSkpO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGcpe3ZhciBlPWEuY2FsbCh0aGlzLGMsaC5jbGFzc19pZF90LlJUQ1NjdHBUcmFuc3BvcnQsXHJcbmcsbC5Qcm94eU1vZGUuUmVtb3RlKXx8dGhpcztkLmxvZ2dlci5sb2coZS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3JcIik7cmV0dXJuIGV9ZShiLGEpO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe2Euc3luY0JhcnJpZXJEZWVwKGIsYykmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiUlRDU2N0cFRyYW5zcG9ydC5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyQmFzZSBzdWNjZXNzLlwiKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1NjdHBUcmFuc3BvcnRfdC50cmFuc3BvcnQse29pZDowfSksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDU2N0cFRyYW5zcG9ydF90LnN0YXRlLFxyXG4wKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENTY3RwVHJhbnNwb3J0X3QubWF4TWVzc2FnZVNpemUsMCksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDU2N0cFRyYW5zcG9ydF90Lm1heENoYW5uZWxzLDApXSl9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjO2M9Yi5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEucGFyYW0wKGIpfSk7Yj1jWzBdO2Euc2N0cHN0YXRlXz1jWzFdO2EubWF4TWVzc2FnZVNpemVfPWNbMl07YS5tYXhDaGFubmVsc189Y1szXTtjPWEudHJhbnNwb3J0Xzt2b2lkIDA9PWJ8fCExIT09Yi5pc19udWxsfHxudWxsIT09YS50cmFuc3BvcnRfJiZhLnRyYW5zcG9ydF8ub2JqZWN0X2lkKCk9PWIub2lkfHwoYz1uZXcgdy5EdGxzVHJhbnNwb3J0KGEsYi5vaWQpKTtjLnN5bmNCYXJyaWVyKCkudGhlbihmdW5jdGlvbihiKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCJ0cmFuc3BvcnQuc3luY0JhcnJpZXIoKTogc3VjY2Vzc1wiKTtcclxuYS50cmFuc3BvcnRfPWI7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1widHJhbnNwb3J0LnN5bmNCYXJyaWVyKCk6IGZhaWxlZCFcIik7YS50cmFuc3BvcnRfPW51bGw7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJ0cmFuc3BvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF90cmFuc3BvcnQoKSBjYWxsZWQ6IFwiK3RoaXMudHJhbnNwb3J0Xyk7cmV0dXJuIHRoaXMudHJhbnNwb3J0X30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXHJcblwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9zdGF0ZSgpIGNhbGxlZDogXCIrdGhpcy5zY3Rwc3RhdGVfKTtyZXR1cm4gdGhpcy5zY3Rwc3RhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm1heE1lc3NhZ2VTaXplXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfbWF4TWVzc2FnZVNpemUoKSBjYWxsZWQ6IFwiK3RoaXMubWF4TWVzc2FnZVNpemVfKTtyZXR1cm4gdGhpcy5tYXhNZXNzYWdlU2l6ZV99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwibWF4Q2hhbm5lbHNcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9tYXhDaGFubmVscygpIGNhbGxlZDogXCIrXHJcbnRoaXMubWF4Q2hhbm5lbHNfKTtyZXR1cm4gdGhpcy5tYXhDaGFubmVsc199LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25zdGF0ZWNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X29uc3RhdGVjaGFuZ2UoKSBjYWxsZWQ6IFwiK3RoaXMub25zdGF0ZWNoYW5nZV8pO3JldHVybiB0aGlzLm9uc3RhdGVjaGFuZ2VffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uc3RhdGVjaGFuZ2UoKSBjYWxsZWQuXCIpO3RoaXMub25zdGF0ZWNoYW5nZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnN0YXRlY2hhbmdlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT1jLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGMuaXNOdWxsQ2FsbGJhY2soYSksXHJcbmgubWV0aG9kX2lkX1JUQ1NjdHBUcmFuc3BvcnRfdC5vbnN0YXRlY2hhbmdlKTtlLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uc3RhdGVjaGFuZ2UgY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7Yy5zY3Rwc3RhdGVfPWIuY29udmVydFN0YXRlKGMucGFyYW0wKGEpKTtkLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCJzY3Rwc3RhdGVfOiBcIitjLnNjdHBzdGF0ZV8pO2E9bmV3IEV2ZW50KFwib25zdGF0ZWNoYW5nZVwiKTtjLm9uc3RhdGVjaGFuZ2VfKGEpfSk7cmV0dXJuIGMucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1JUQ1NjdHBUcmFuc3BvcnRfdC5vbnN0YXRlY2hhbmdlLGUuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uc3RhdGVjaGFuZ2UoKSBmYWlsZWQuXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7Yi5jb252ZXJ0U3RhdGU9XHJcbmZ1bmN0aW9uKGEpe3JldHVybiBhPT1xW1wibmV3XCJdP1wiY2xvc2VkXCI6YT09cS5jb25uZWN0aW5nP1wiY29ubmVjdGluZ1wiOmE9PXEuY29ubmVjdGVkP1wiY29ubmVjdGVkXCI6XCJjbG9zZWRcIn07cmV0dXJuIGJ9KGwuUHJveHlPYmplY3QpO2EuUlRDU2N0cFRyYW5zcG9ydD1iO3ZhciBuOyhmdW5jdGlvbihhKXthW2EuY29ubmVjdGluZz0wXT1cImNvbm5lY3RpbmdcIjthW2Eub3Blbj0xXT1cIm9wZW5cIjthW2EuY2xvc2luZz0yXT1cImNsb3NpbmdcIjthW2EuY2xvc2VkPTNdPVwiY2xvc2VkXCJ9KShufHwobj17fSkpO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGcsZSl7Yz1hLmNhbGwodGhpcyxjLGguY2xhc3NfaWRfdC5SVENEYXRhQ2hhbm5lbCxnLGUpfHx0aGlzO2MuYmluYXJ5VHlwZV89XCJibG9iXCI7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNvbnN0cnVjdG9yXCIpO3JldHVybiBjfWUoYixhKTtiLnByb3RvdHlwZS5zeW5jQmFycmllcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7XHJcbmQubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllcigpIGNhbGxlZC5cIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsYyl7YS5zeW5jQmFycmllckRlZXAoYixjKSYmYS53YWl0VW50aWxDb25uZWN0ZWQoXCJSdGNEYXRhQ2hhbm5lbC5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyIHJlbW90ZSBpbnZva2luZy5cIik7cmV0dXJuIFByb21pc2UuYWxsKFthLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90LmxhYmVsLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Qub3JkZXJlZCwhMCksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5tYXhQYWNrZXRMaWZlVGltZSwwKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90Lm1heFJldHJhbnNtaXRzLFxyXG4wKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90LnByb3RvY29sLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3QubmVnb3RpYXRlZCwhMSksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5pZCwwKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90LnJlYWR5U3RhdGUsMCksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5idWZmZXJlZEFtb3VudCwwKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90LmJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkLDApXSl9KS50aGVuKGZ1bmN0aW9uKGIpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllciBzdWNjZXNzLlwiKTt2YXIgYztiPWIubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLnBhcmFtMChiKX0pO1xyXG5hLmxhYmVsXz1iWzBdO2Eub3JkZXJlZF89YlsxXTthLm1heFBhY2tldExpZmVUaW1lXz1iWzJdO2EubWF4UmV0cmFuc21pdHNfPWJbM107YS5wcm90b2NvbF89Yls0XTthLm5lZ290aWF0ZWRfPWJbNV07YS5pZF89Yls2XTtjPWJbN107YS5idWZmZXJlZEFtb3VudF89Yls4XTthLmJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXz1iWzldO2EucmVhZHlTdGF0ZV89YS50b1JUQ0RhdGFDaGFubmVsU3RhdGUoYyk7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2I9YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnN5bmNCYXJyaWVyKCkgZmFpbGVkIVwiKTthLnN5bmNCYXJyaWVyUmVqZWN0KGIpfSl9KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwibGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9sYWJlbCgpIGNhbGxlZDogXCIrdGhpcy5sYWJlbF8pO3JldHVybiB0aGlzLmxhYmVsX30sXHJcbmVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib3JkZXJlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X29yZGVyZWQoKSBjYWxsZWQ6IFwiK3RoaXMub3JkZXJlZF8pO3JldHVybiB0aGlzLm9yZGVyZWRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm1heFBhY2tldExpZmVUaW1lXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfbWF4UGFja2V0TGlmZVRpbWUoKSBjYWxsZWQ6IFwiK3RoaXMubWF4UGFja2V0TGlmZVRpbWVfKTtyZXR1cm4gdGhpcy5tYXhQYWNrZXRMaWZlVGltZV99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwibWF4UmV0cmFuc21pdHNcIixcclxue2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfbWF4UmV0cmFuc21pdHMoKSBjYWxsZWQ6IFwiK3RoaXMubWF4UmV0cmFuc21pdHNfKTtyZXR1cm4gdGhpcy5tYXhSZXRyYW5zbWl0c199LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicHJvdG9jb2xcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9wcm90b2NvbCgpIGNhbGxlZDogXCIrdGhpcy5wcm90b2NvbF8pO3JldHVybiB0aGlzLnByb3RvY29sX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJuZWdvdGlhdGVkXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfbmVnb3RpYXRlZCgpIGNhbGxlZDogXCIrdGhpcy5uZWdvdGlhdGVkXyk7XHJcbnJldHVybiB0aGlzLm5lZ290aWF0ZWRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfaWQoKSBjYWxsZWQ6IFwiK3RoaXMuaWRfKTtyZXR1cm4gdGhpcy5pZF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicmVhZHlTdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X3JlYWR5U3RhdGUoKSBjYWxsZWQ6IFwiK3RoaXMucmVhZHlTdGF0ZV8pO3JldHVybiB0aGlzLnJlYWR5U3RhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImJ1ZmZlcmVkQW1vdW50XCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuZ2V0X2J1ZmZlcmVkQW1vdW50KCkgY2FsbGVkOiBcIit0aGlzLmJ1ZmZlcmVkQW1vdW50Xyk7cmV0dXJuIHRoaXMuYnVmZmVyZWRBbW91bnRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQoKSBjYWxsZWQ6IFwiK3RoaXMuYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGRfKTtyZXR1cm4gdGhpcy5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZF99LHNldDpmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X2J1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkKCkgY2FsbGVkOiBcIithKTt0aGlzLmJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXz1hfSxlbnVtZXJhYmxlOiExLFxyXG5jb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJiaW5hcnlUeXBlXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfYmluYXJ5VHlwZSgpIGNhbGxlZDogXCIrdGhpcy5iaW5hcnlUeXBlXyk7cmV0dXJuIHRoaXMuYmluYXJ5VHlwZV99LHNldDpmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X2JpbmFyeVR5cGUoKSBjYWxsZWQ6IFwiK2EpO3RoaXMuYmluYXJ5VHlwZV89XCJibG9iXCI9PWF8fFwiYXJyYXlidWZmZXJcIj09YT9hOlwiYmxvYlwifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9ub3BlblwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X29ub3BlbigpIGNhbGxlZC5cIik7cmV0dXJuIHRoaXMub25vcGVuX30sXHJcbnNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25vcGVuKCkgY2FsbGVkLlwiKTt0aGlzLm9ub3Blbl89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbm9wZW5cIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90Lm9ub3Blbik7Yy50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbm9wZW4gY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7Yi5zeW5jQmFycmllcigpLnRoZW4oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25vcGVuIG5vdGlmeWluZy4uLlwiKTt2YXIgYT1uZXcgRXZlbnQoXCJvcGVuXCIse30pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwidGFyZ2V0XCIse3dyaXRhYmxlOiExLFxyXG52YWx1ZTpifSk7Yi5vbm9wZW5fKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllcigpOiBmYWlsZWQhXCIpfSl9KTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5vbm9wZW4sYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25vcGVuKCkgZmFpbGVkLlwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uYnVmZmVyZWRhbW91bnRsb3dcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9vbmJ1ZmZlcmVkYW1vdW50bG93KCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5vbmJ1ZmZlcmVkYW1vdW50bG93X30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7XHJcbmQubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25idWZmZXJlZGFtb3VudGxvdygpIGNhbGxlZC5cIik7dGhpcy5vbmJ1ZmZlcmVkYW1vdW50bG93Xz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uYnVmZmVyZWRhbW91bnRsb3dcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90Lm9uYnVmZmVyZWRhbW91bnRsb3cpO2MudGhlbihmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25idWZmZXJlZGFtb3VudGxvdyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTthPW5ldyBFdmVudChcIm9uYnVmZmVyZWRhbW91bnRsb3dcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJ0YXJnZXRcIix7d3JpdGFibGU6ITEsdmFsdWU6Yn0pO2Iub25idWZmZXJlZGFtb3VudGxvd18oYSl9KTtcclxucmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Qub25idWZmZXJlZGFtb3VudGxvdyxjLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmJ1ZmZlcmVkYW1vdW50bG93cygpIGZhaWxlZC5cIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbmVycm9yXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfb25lcnJvcigpIGNhbGxlZC5cIik7cmV0dXJuIHRoaXMub25lcnJvcl99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25lcnJvcigpIGNhbGxlZC5cIik7dGhpcy5vbmVycm9yXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1xyXG5cIi5vbmVycm9yXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5vbmVycm9yKTtjLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uZXJyb3IgY2FsbGJhY2sgcmVjZWl2ZWQhXCIpO2E9Yi5wYXJhbTAoYSk7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiZXJyb3I6IFwiK2EpO2E9bmV3IEV2ZW50KFwib25lcnJvclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcInRhcmdldFwiLHt3cml0YWJsZTohMSx2YWx1ZTpifSk7Yi5vbmVycm9yXyhhKX0pO3JldHVybiBiLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90Lm9uZXJyb3IsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25lcnJvcigpIGZhaWxlZC5cIil9KX0sXHJcbmVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25jbG9zaW5nXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfb25jbG9zaW5nKCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5vbmNsb3NpbmdffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uY2xvc2luZygpIGNhbGxlZC5cIik7dGhpcy5vbmNsb3NpbmdfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25jbG9zaW5nXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5vbmNsb3NpbmcpO2MudGhlbihmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLm9uY2xvc2luZyBjYWxsYmFjayByZWNlaXZlZCEhIVwiKTthPW5ldyBFdmVudChcIm9uY2xvc2luZ1wiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcInRhcmdldFwiLHt3cml0YWJsZTohMSx2YWx1ZTpifSk7Yi5vbmNsb3NpbmdfKGEpfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Qub25jbG9zaW5nLGMuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uY2xvc2luZygpIGZhaWxlZC5cIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbmNsb3NlXCIse2dldDpmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRfb25jbG9zZSgpIGNhbGxlZC5cIik7cmV0dXJuIHRoaXMub25jbG9zZV99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuc2V0X29uY2xvc2UoKSBjYWxsZWQuXCIpO3RoaXMub25jbG9zZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmNsb3NlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5vbmNsb3NlKTtjLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uY2xvc2UgY2FsbGJhY2sgcmVjZWl2ZWQhISFcIik7YT1uZXcgRXZlbnQoXCJvbmNsb3NlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwidGFyZ2V0XCIse3dyaXRhYmxlOiExLHZhbHVlOmJ9KTtiLm9uY2xvc2VfKGEpfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Qub25jbG9zZSxjLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIub25jbG9zZSgpIGZhaWxlZC5cIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbm1lc3NhZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9vbm1lc3NhZ2UoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLm9ubWVzc2FnZV99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25tZXNzYWdlKCkgY2FsbGVkLlwiKTt0aGlzLm9ubWVzc2FnZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZCh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbm1lc3NhZ2VcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90Lm9ubWVzc2FnZSk7Yy50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIub25tZXNzYWdlIGNhbGxiYWNrIHJlY2VpdmVkISEhXCIpO3ZhciBjPWIucGFyYW0wKGEpO2E9bmV3IEV2ZW50KFwib25tZXNzYWdlXCIpO2MuYmluYXJ5P2EuZGF0YT1jLmRhdGFfYWI6KGM9YXRvYihjLmRhdGFfc3opLGEuZGF0YT1jKTtiLm9ubWVzc2FnZV8oYSl9KTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5vbm1lc3NhZ2UsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25tZXNzYWdlKCkgZmFpbGVkLlwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY2xvc2UoKSBjYWxsZWQuXCIpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiUlRDRGF0YUNoYW5uZWwuY2xvc2VcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBhLnJlbW90ZUludm9rZSghMSxcclxuaC5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdC5jbG9zZSl9KS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmNsb3NlOiBzdWNjZXNzLlwiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY2xvc2U6IGZhaWxlZC5cIil9KX07Yi5wcm90b3R5cGUudG9CeXRlQXJyYXk9ZnVuY3Rpb24oYSl7dmFyIGI9W107YT1uZXcgVWludDhBcnJheShhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/YTphLmJ1ZmZlcik7Zm9yKHZhciBkIGluIGEpYi5wdXNoKGFbZF0pO3JldHVybiBifTtiLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNlbmQoKSBjYWxsZWQuXCIpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiUlRDRGF0YUNoYW5uZWwuc2VuZFwiKS50aGVuKGZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiZGF0YShzdHJpbmcpOiBcIithKSxiLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90LnNlbmRfdGV4dCxhKTtpZihhIGluc3RhbmNlb2YgQmxvYilhLmFycmF5QnVmZmVyKCkudGhlbihmdW5jdGlvbihhKXthPWIudG9CeXRlQXJyYXkoYSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Quc2VuZF9iaW5hcnksYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLmFycmF5QnVmZmVyKCk6IGZhaWxlZC5cIil9KTtlbHNle3ZhciBjPWIudG9CeXRlQXJyYXkoYSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Quc2VuZF9iaW5hcnksYyl9fSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZW5kOiBzdWNjZXNzLlwiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnNlbmQ6IGZhaWxlZC5cIil9KX07Yi5wcm90b3R5cGUudG9SVENEYXRhQ2hhbm5lbFN0YXRlPWZ1bmN0aW9uKGEpe3ZhciBiPVwiY2xvc2VkXCI7YT09bi5jb25uZWN0aW5nP2I9XCJjb25uZWN0aW5nXCI6YT09bi5vcGVuP2I9XCJvcGVuXCI6YT09bi5jbG9zaW5nP2I9XCJjbG9zaW5nXCI6YT09bi5jbG9zZWQmJihiPVwiY2xvc2VkXCIpO3JldHVybiBifTtyZXR1cm4gYn0obC5Qcm94eU9iamVjdCk7YS5SdGNEYXRhQ2hhbm5lbD1ifSw0ODQ6ZnVuY3Rpb24oYixhLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGIsZCl7YT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQgaW4gYiliLmhhc093blByb3BlcnR5KGQpJiYoYVtkXT1iW2RdKX07cmV0dXJuIGEoYixkKX07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gYygpe3RoaXMuY29uc3RydWN0b3I9XHJcbmJ9YShiLGQpO2IucHJvdG90eXBlPW51bGw9PT1kP09iamVjdC5jcmVhdGUoZCk6KGMucHJvdG90eXBlPWQucHJvdG90eXBlLG5ldyBjKX19KCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5SdGNSdHBSZWNlaXZlUGFyYW1ldGVycz1hLlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzPWEuUnRjUnRwRW5jb2RpbmdQYXJhbWV0ZXJzPWEuUnRjUnRwUGFyYW1ldGVycz1hLlJ0Y1J0Y3BQYXJhbWV0ZXJzPWEuUnRjUnRwSGVhZGVyRXh0ZW5zaW9uUGFyYW1ldGVycz1hLlJ0Y1J0cENvZGVjUGFyYW1ldGVycz12b2lkIDA7dmFyIGw9Yyg4NTEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuZGVmUnRjUnRwQ29kZWNQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJue21pbWVUeXBlOlwiXCIscGF5bG9hZFR5cGU6MCxzZHBGbXRwTGluZTpcIlwifX07YS5kZWZSVENSdHBDb2RlY1BhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm57Y2xvY2tSYXRlOjAsbWltZVR5cGU6XCJcIixcclxucGF5bG9hZFR5cGU6MH19O2EudG9SdGNSdHBDb2RlY1BhcmFtZXRlcnM9ZnVuY3Rpb24oYil7dmFyIGQ9YS5kZWZSdGNSdHBDb2RlY1BhcmFtZXRlcnMoKTtiJiYoYi5jaGFubmVscyYmKGQuY2hhbm5lbHM9Yi5jaGFubmVscyksYi5jbG9ja1JhdGUmJihkLmNsb2NrUmF0ZT1iLmNsb2NrUmF0ZSksYi5taW1lVHlwZSYmKGQubWltZVR5cGU9Yi5taW1lVHlwZSksYi5wYXlsb2FkVHlwZSYmKGQucGF5bG9hZFR5cGU9Yi5wYXlsb2FkVHlwZSksYi5zZHBGbXRwTGluZSYmKGQuc2RwRm10cExpbmU9Yi5zZHBGbXRwTGluZSkpO3JldHVybiBkfTthLnRvUlRDUnRwQ29kZWNQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBkPWEuZGVmUlRDUnRwQ29kZWNQYXJhbWV0ZXJzKCk7YiYmKGIuY2hhbm5lbHMmJihkLmNoYW5uZWxzPWIuY2hhbm5lbHMpLGIuY2xvY2tSYXRlJiYoZC5jbG9ja1JhdGU9Yi5jbG9ja1JhdGUpLGIubWltZVR5cGUmJihkLm1pbWVUeXBlPWIubWltZVR5cGUpLGIucGF5bG9hZFR5cGUmJlxyXG4oZC5wYXlsb2FkVHlwZT1iLnBheWxvYWRUeXBlKSxiLnNkcEZtdHBMaW5lJiYoZC5zZHBGbXRwTGluZT1iLnNkcEZtdHBMaW5lKSk7cmV0dXJuIGR9O3JldHVybiBhfSgpO2EuUnRjUnRwQ29kZWNQYXJhbWV0ZXJzPWg7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuZGVmUnRjUnRwSGVhZGVyRXh0ZW5zaW9uUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybntlbmNyeXB0ZWQ6ITEsaWQ6MCx1cmk6XCJcIn19O2EuZGVmUlRDUnRwSGVhZGVyRXh0ZW5zaW9uUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybntpZDowLHVyaTpcIlwifX07YS50b1J0Y1J0cEhlYWRlckV4dGVuc2lvblBhcmFtZXRlcnM9ZnVuY3Rpb24oYil7dmFyIGQ9YS5kZWZSdGNSdHBIZWFkZXJFeHRlbnNpb25QYXJhbWV0ZXJzKCk7aWYoYil7dmFyIGM9Yi5lbmNyeXB0ZWQ7dm9pZCAwIT1jJiZudWxsIT1jJiYoZC5lbmNyeXB0ZWQ9Yyk7Yi5pZCYmKGQuaWQ9Yi5pZCk7Yi51cmkmJihkLnVyaT1iLnVyaSl9cmV0dXJuIGR9O1xyXG5hLnRvUlRDUnRwSGVhZGVyRXh0ZW5zaW9uUGFyYW1ldGVycz1mdW5jdGlvbihiKXt2YXIgZD1hLmRlZlJUQ1J0cEhlYWRlckV4dGVuc2lvblBhcmFtZXRlcnMoKTtpZihiKXt2YXIgYz1iLmVuY3J5cHRlZDt2b2lkIDAhPWMmJm51bGwhPWMmJihkLmVuY3J5cHRlZD1jKTtiLmlkJiYoZC5pZD1iLmlkKTtiLnVyaSYmKGQudXJpPWIudXJpKX1yZXR1cm4gZH07cmV0dXJuIGF9KCk7YS5SdGNSdHBIZWFkZXJFeHRlbnNpb25QYXJhbWV0ZXJzPWQ7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuZGVmUnRjUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm57Y25hbWU6XCJcIixyZWR1Y2VkU2l6ZTohMX19O2EuZGVmUlRDUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm57fX07YS50b1J0Y1J0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBkPWEuZGVmUnRjUnRjcFBhcmFtZXRlcnMoKTtiJiYoYi5jbmFtZSYmKGQuY25hbWU9Yi5jbmFtZSksYj1iLnJlZHVjZWRTaXplLFxyXG52b2lkIDAhPWImJm51bGwhPWImJihkLnJlZHVjZWRTaXplPWIpKTtyZXR1cm4gZH07YS50b1JUQ1J0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBkPWEuZGVmUlRDUnRjcFBhcmFtZXRlcnMoKTtiJiYoYi5jbmFtZSYmKGQuY25hbWU9Yi5jbmFtZSksYj1iLnJlZHVjZWRTaXplLHZvaWQgMCE9YiYmbnVsbCE9YiYmKGQucmVkdWNlZFNpemU9YikpO3JldHVybiBkfTtyZXR1cm4gYX0oKTthLlJ0Y1J0Y3BQYXJhbWV0ZXJzPXc7dmFyIHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuZGVmUnRjUnRwUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybntjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxydGNwOncuZGVmUnRjUnRjcFBhcmFtZXRlcnMoKX19O2EuZGVmUlRDUnRwUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybntjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxydGNwOncuZGVmUlRDUnRjcFBhcmFtZXRlcnMoKX19O2EudG9SdGNSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBjPVxyXG5hLmRlZlJ0Y1J0cFBhcmFtZXRlcnMoKTtpZihiKXtpZihiLmNvZGVjcylmb3IodmFyIGc9MCxlPWIuY29kZWNzO2c8ZS5sZW5ndGg7ZysrKWMuY29kZWNzLnB1c2goaC50b1J0Y1J0cENvZGVjUGFyYW1ldGVycyhlW2ddKSk7aWYoYi5oZWFkZXJFeHRlbnNpb25zKWZvcihnPTAsZT1iLmhlYWRlckV4dGVuc2lvbnM7ZzxlLmxlbmd0aDtnKyspYy5oZWFkZXJFeHRlbnNpb25zLnB1c2goZC50b1J0Y1J0cEhlYWRlckV4dGVuc2lvblBhcmFtZXRlcnMoZVtnXSkpO2IucnRjcCYmKGMucnRjcD13LnRvUnRjUnRjcFBhcmFtZXRlcnMoYi5ydGNwKSl9cmV0dXJuIGN9O2EudG9SVENSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBjPWEuZGVmUlRDUnRwUGFyYW1ldGVycygpO2lmKGIpe2lmKGIuY29kZWNzKWZvcih2YXIgZT0wLG49Yi5jb2RlY3M7ZTxuLmxlbmd0aDtlKyspYy5jb2RlY3MucHVzaChoLnRvUlRDUnRwQ29kZWNQYXJhbWV0ZXJzKG5bZV0pKTtpZihiLmhlYWRlckV4dGVuc2lvbnMpZm9yKGU9XHJcbjAsbj1iLmhlYWRlckV4dGVuc2lvbnM7ZTxuLmxlbmd0aDtlKyspYy5oZWFkZXJFeHRlbnNpb25zLnB1c2goZC50b1JUQ1J0cEhlYWRlckV4dGVuc2lvblBhcmFtZXRlcnMobltlXSkpO2IucnRjcCYmKGMucnRjcD13LnRvUnRjUnRjcFBhcmFtZXRlcnMoYi5ydGNwKSl9cmV0dXJuIGN9O3JldHVybiBhfSgpO2EuUnRjUnRwUGFyYW1ldGVycz1xO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31hLmRlZlJ0Y1J0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybnthY3RpdmU6ITAscmlkOlwiXCJ9fTthLmRlZlJUQ1J0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybnt9fTthLnRvUnRjUnRwRW5jb2RpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBkPWEuZGVmUnRjUnRwRW5jb2RpbmdQYXJhbWV0ZXJzKCk7aWYoYil7dmFyIGM9Yi5hY3RpdmU7dm9pZCAwIT1jJiZudWxsIT1jJiYoZC5hY3RpdmU9Yyk7Yi5tYXhCaXRyYXRlJiYoZC5tYXhCaXRyYXRlPVxyXG5iLm1heEJpdHJhdGUpO2IubWF4RnJhbWVyYXRlJiYoZC5tYXhGcmFtZXJhdGU9Yi5tYXhGcmFtZXJhdGUpO2Iuc2NhbGVSZXNvbHV0aW9uRG93bkJ5JiYoZC5zY2FsZVJlc29sdXRpb25Eb3duQnk9Yi5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2IucmlkJiYoZC5yaWQ9Yi5yaWQpO2IubmV0d29ya1ByaW9yaXR5JiYoZC5uZXR3b3JrUHJpb3JpdHk9Yi5uZXR3b3JrUHJpb3JpdHkpfXJldHVybiBkfTthLnRvUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGIpe3ZhciBkPWEuZGVmUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzKCk7aWYoYil7dmFyIGM9Yi5hY3RpdmU7dm9pZCAwIT1jJiZudWxsIT1jJiYoZC5hY3RpdmU9Yyk7Yi5tYXhCaXRyYXRlJiYoZC5tYXhCaXRyYXRlPWIubWF4Qml0cmF0ZSk7Yi5tYXhGcmFtZXJhdGUmJihkLm1heEZyYW1lcmF0ZT1iLm1heEZyYW1lcmF0ZSk7Yi5zY2FsZVJlc29sdXRpb25Eb3duQnkmJihkLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1iLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk7XHJcbmIucmlkJiYoZC5yaWQ9Yi5yaWQpO2IubmV0d29ya1ByaW9yaXR5JiYoZC5uZXR3b3JrUHJpb3JpdHk9Yi5uZXR3b3JrUHJpb3JpdHkpfXJldHVybiBkfTtyZXR1cm4gYX0oKTthLlJ0Y1J0cEVuY29kaW5nUGFyYW1ldGVycz1uO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBudWxsIT09YSYmYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZShiLGEpO2IuZGVmUnRjUnRwU2VuZFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgYT1xLmRlZlJ0Y1J0cFBhcmFtZXRlcnMoKTthLmVuY29kaW5ncz1bXTthLnRyYW5zYWN0aW9uX2lkPVwiXCI7cmV0dXJuIGF9O2IuZGVmUlRDUnRwU2VuZFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgYT1xLmRlZlJUQ1J0cFBhcmFtZXRlcnMoKTthLmVuY29kaW5ncz1bXTthLnRyYW5zYWN0aW9uSWQ9XCJcIjtyZXR1cm4gYX07Yi50b1J0Y1J0cFNlbmRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe2wubG9nZ2VyLmxvZyhcIlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzLnRvUnRjUnRwU2VuZFBhcmFtZXRlcnMoKSBpbiBwYXJhbTpcIitcclxuSlNPTi5zdHJpbmdpZnkoYSkpO3ZhciBkPWIuZGVmUnRjUnRwU2VuZFBhcmFtZXRlcnMoKSxjPXEudG9SdGNSdHBQYXJhbWV0ZXJzKGEpO2MuY29kZWNzLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGQuY29kZWNzLnB1c2goYSl9KTtjLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gZC5oZWFkZXJFeHRlbnNpb25zLnB1c2goYSl9KTtkLnJ0Y3A9Yy5ydGNwO2lmKGEpe2lmKGEuZW5jb2RpbmdzKWZvcih2YXIgYz0wLGU9YS5lbmNvZGluZ3M7YzxlLmxlbmd0aDtjKyspZC5lbmNvZGluZ3MucHVzaChuLnRvUnRjUnRwRW5jb2RpbmdQYXJhbWV0ZXJzKGVbY10pKTthLnRyYW5zYWN0aW9uSWQmJihkLnRyYW5zYWN0aW9uX2lkPWEudHJhbnNhY3Rpb25JZCl9bC5sb2dnZXIubG9nKFwiUnRjUnRwU2VuZFBhcmFtZXRlcnMudG9SdGNSdHBTZW5kUGFyYW1ldGVycygpIG91dCBwYXJhbTpcIitKU09OLnN0cmluZ2lmeShkKSk7cmV0dXJuIGR9O2IudG9SVENSdHBTZW5kUGFyYW1ldGVycz1cclxuZnVuY3Rpb24oYSl7bC5sb2dnZXIubG9nKFwiUnRjUnRwU2VuZFBhcmFtZXRlcnMudG9SVENSdHBTZW5kUGFyYW1ldGVycygpIGluIHBhcmFtOlwiK0pTT04uc3RyaW5naWZ5KGEpKTt2YXIgZD1iLmRlZlJUQ1J0cFNlbmRQYXJhbWV0ZXJzKCksYz1xLnRvUlRDUnRwUGFyYW1ldGVycyhhKTtjLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBkLmNvZGVjcy5wdXNoKGEpfSk7Yy5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGQuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKGEpfSk7ZC5ydGNwPWMucnRjcDtpZihhKXtpZihhLmVuY29kaW5ncylmb3IodmFyIGM9MCxlPWEuZW5jb2RpbmdzO2M8ZS5sZW5ndGg7YysrKWQuZW5jb2RpbmdzLnB1c2gobi50b1JUQ1J0cEVuY29kaW5nUGFyYW1ldGVycyhlW2NdKSk7YS50cmFuc2FjdGlvbl9pZCYmKGQudHJhbnNhY3Rpb25JZD1hLnRyYW5zYWN0aW9uX2lkKX1sLmxvZ2dlci5sb2coXCJSdGNSdHBTZW5kUGFyYW1ldGVycy50b1JUQ1J0cFNlbmRQYXJhbWV0ZXJzKCkgb3V0IHBhcmFtOlwiK1xyXG5KU09OLnN0cmluZ2lmeShkKSk7cmV0dXJuIGR9O3JldHVybiBifShxKTthLlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzPWI7Yj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIG51bGwhPT1hJiZhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31lKGIsYSk7Yi5kZWZSdGNSdHBSZWNlaXZlUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiBxLmRlZlJ0Y1J0cFBhcmFtZXRlcnMoKX07Yi5kZWZSVENSdHBSZWNlaXZlUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiBxLmRlZlJUQ1J0cFBhcmFtZXRlcnMoKX07Yi50b1J0Y1J0cFJlY2VpdmVQYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe2wubG9nZ2VyLmxvZyhcIlJ0Y1J0cFJlY2VpdmVQYXJhbWV0ZXJzLnRvUnRjUnRwUmVjZWl2ZVBhcmFtZXRlcnMoKSBpbiBwYXJhbTpcIitKU09OLnN0cmluZ2lmeShhKSk7YT1xLnRvUnRjUnRwUGFyYW1ldGVycyhhKTtsLmxvZ2dlci5sb2coXCJSdGNSdHBSZWNlaXZlUGFyYW1ldGVycy50b1J0Y1J0cFJlY2VpdmVQYXJhbWV0ZXJzKCkgb3V0IHBhcmFtOlwiK1xyXG5KU09OLnN0cmluZ2lmeShhKSk7cmV0dXJuIGF9O2IudG9SVENSdHBSZWNlaXZlUGFyYW1ldGVycz1mdW5jdGlvbihhKXtsLmxvZ2dlci5sb2coXCJSdGNSdHBSZWNlaXZlUGFyYW1ldGVycy50b1JUQ1J0cFJlY2VpdmVQYXJhbWV0ZXJzKCkgaW4gcGFyYW06XCIrSlNPTi5zdHJpbmdpZnkoYSkpO2E9cS50b1JUQ1J0cFBhcmFtZXRlcnMoYSk7bC5sb2dnZXIubG9nKFwiUnRjUnRwUmVjZWl2ZVBhcmFtZXRlcnMudG9SVENSdHBSZWNlaXZlUGFyYW1ldGVycygpIG91dCBwYXJhbTpcIitKU09OLnN0cmluZ2lmeShhKSk7cmV0dXJuIGF9O3JldHVybiBifShxKTthLlJ0Y1J0cFJlY2VpdmVQYXJhbWV0ZXJzPWJ9LDU4OTpmdW5jdGlvbihiLGEsYyl7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYixkKXthPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihhLGIpe2EuX19wcm90b19fPVxyXG5ifXx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQgaW4gYiliLmhhc093blByb3BlcnR5KGQpJiYoYVtkXT1iW2RdKX07cmV0dXJuIGEoYixkKX07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gYygpe3RoaXMuY29uc3RydWN0b3I9Yn1hKGIsZCk7Yi5wcm90b3R5cGU9bnVsbD09PWQ/T2JqZWN0LmNyZWF0ZShkKTooYy5wcm90b3R5cGU9ZC5wcm90b3R5cGUsbmV3IGMpfX0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLlJ0cFJlY2VpdmVyPWEuUnRwU2VuZGVyPWEuUnRwU2VuZGVyUmVjZWl2ZXI9YS5EdGxzVHJhbnNwb3J0PWEuSWNlVHJhbnNwb3J0PWEuRHRtZlNlbmRlcj1hLkRUTUZUb25lQ2hhbmdlRXZlbnQ9dm9pZCAwO3ZhciBsPWMoNjU4KSxoPWMoNTUwKSxkPWMoODUxKSx3PWMoMTQ0KSxxPWMoNTE3KSxuPWMoNjUwKSxrPWMoNDg0KSx2PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxlKXt2YXIgZz1hLmNhbGwodGhpcyxjLFxyXG5oLmNsYXNzX2lkX3QuUlRDRFRNRlRvbmVDaGFuZ2VFdmVudCxlLGwuUHJveHlNb2RlLlJlbW90ZSl8fHRoaXM7ZC5sb2dnZXIubG9nKGcudXNlcl9mcmllbmRseV9pZCgpK1wiLmNvbnN0cnVjdG9yXCIpO3JldHVybiBnfWUoYixhKTtiLnByb3RvdHlwZS5zeW5jQmFycmllcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXthLnN5bmNCYXJyaWVyRGVlcChiLGMpJiZhLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7UHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RUTUZUb25lQ2hhbmdlRXZlbnRfdC50b25lLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0RUTUZUb25lQ2hhbmdlRXZlbnRfdC50b25lX2J1ZmZlcixcclxuXCJcIildKS50aGVuKGZ1bmN0aW9uKGIpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllcigpOiBzdWNjZXNzLlwiKTtiPWIubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLnBhcmFtMChiKX0pO2EudG9uZT1iWzBdO2EudG9uZV9idWZmZXJfPWJbMV07YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2I9YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnByb3Auc3luY0JhcnJpZXIoKSBmYWlsZWQuXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQuXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJ0b25lX2J1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b25lX2J1ZmZlcl99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7XHJcbnJldHVybiBifShsLlByb3h5T2JqZWN0KTthLkRUTUZUb25lQ2hhbmdlRXZlbnQ9djt2YXIgcD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGMsZSl7dmFyIGc9YS5jYWxsKHRoaXMsYyxoLmNsYXNzX2lkX3QuUlRDRFRNRlNlbmRlcixlLGwuUHJveHlNb2RlLlJlbW90ZSl8fHRoaXM7ZC5sb2dnZXIubG9nKGcudXNlcl9mcmllbmRseV9pZCgpK1wiLmNvbnN0cnVjdG9yXCIpO2cuY2FuSW5zZXJ0RFRNRj0hMDtnLnRvbmVCdWZmZXJfPVwiXCI7cmV0dXJuIGd9ZShiLGEpO2IucHJvdG90eXBlLmluc2VydERUTUY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7dm9pZCAwPT09YiYmKGI9MTAwKTt2b2lkIDA9PT1jJiYoYz03MCk7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmluc2VydERUTUYoKSBjYWxsZWQsIHRvbmVzOiBcIithKTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIkR0bWZTZW5kZXIuaW5zZXJ0RFRNRlwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3RlSW52b2tlKCExLFxyXG5oLm1ldGhvZF9pZF9SVENEVE1GU2VuZGVyX3QuaW5zZXJ0RFRNRixhLGIsYyl9KS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGUudXNlcl9mcmllbmRseV9pZCgpK1wiLmluc2VydERUTUYoKSBzdWNjZXNzLCB0b25lczogXCIrYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2UubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5pbnNlcnREVE1GKCkgZmFpbGVkIVwiKX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbnRvbmVjaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub250b25lY2hhbmdlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbnRvbmVjaGFuZ2UoKSBjYWxsZWQuXCIpO3RoaXMub250b25lY2hhbmdlXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiRHRtZlNlbmRlci5vbnRvbmVjaGFuZ2VcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsXHJcbmIuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDRFRNRlNlbmRlcl90Lm9udG9uZWNoYW5nZSk7Yy50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnRvbmVjaGFuZ2UgY2FsbGJhY2sgcmVjZWl2ZWQhXCIpOyhuZXcgdihiLGIucGFyYW0wKGEpLm9pZCkpLnN5bmNCYXJyaWVyKCkudGhlbihmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCJ0b25lOiBcIithLnRvbmUrXCIgdG9uZV9idWZmZXI6IFwiK2EudG9uZV9idWZmZXIpO2IudG9uZUJ1ZmZlcl89YS50b25lX2J1ZmZlcjtiLm9udG9uZWNoYW5nZV8oYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi50b25lRXZ0LnN5bmNCYXJyaWVyKCkgZmFpbGVkIVwiKX0pfSk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1JUQ0RUTUZTZW5kZXJfdC5vbnRvbmVjaGFuZ2UsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cIi5zZXRfb250b25lY2hhbmdlKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInRvbmVCdWZmZXJcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnRvbmVCdWZmZXIoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLnRvbmVCdWZmZXJffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO3JldHVybiBifShsLlByb3h5T2JqZWN0KTthLkR0bWZTZW5kZXI9cDt2YXIgZz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGMsZSl7dmFyIGc9YS5jYWxsKHRoaXMsYyxoLmNsYXNzX2lkX3QuUlRDSWNlVHJhbnNwb3J0LGUsbC5Qcm94eU1vZGUuUmVtb3RlKXx8dGhpcztkLmxvZ2dlci5sb2coZy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3JcIik7Zy5zZWxlY3RlZFBhaXI9bnVsbDtnLmxvY2FsQ2FuZGlkYXRlc189W107Zy5yZW1vdGVDYW5kaWRhdGVzXz1cclxuW107cmV0dXJuIGd9ZShiLGEpO2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2Euc3luY0JhcnJpZXJEZWVwKGMsZSkmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiSWNlVHJhbnNwb3J0LnN5bmNCYXJyaWVyXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0ljZVRyYW5zcG9ydF90LnJvbGUsMCksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3QuY29tcG9uZW50LDApLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0ljZVRyYW5zcG9ydF90LnN0YXRlLDApLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0ljZVRyYW5zcG9ydF90LmdhdGhlcmluZ1N0YXRlLFxyXG4wKV0pfSkudGhlbihmdW5jdGlvbihjKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIgc3VjY2Vzcy5cIik7dmFyIGU9MCxnPTA7Yz1jLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTthLnJvbGVfPWNbMF07YS5jb21wb25lbnRfPWNbMV07ZT1jWzJdO2c9Y1szXTthLnN0YXRlXz1iLmNvbnZlcnRTdGF0ZShlKTthLmdhdGhlcmluZ1N0YXRlXz1iLmNvbnZlcnRHYXRoZXJpbmdTdGF0ZShnKTthLnN5bmNCYXJyaWVyUmVzb2x2ZShhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtiLnByb3RvdHlwZS5zeW5jQ2FuZGlkYXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNDYW5kaWRhdGVzKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixcclxuYyl7YS53YWl0VW50aWxDb25uZWN0ZWQoXCJJY2VUcmFuc3BvcnQuc3luY0NhbmRpZGF0ZXNcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3QubG9jYWxjYW5kaWRhdGVzLFtdKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENJY2VUcmFuc3BvcnRfdC5yZW1vdGVjYW5kaWRhdGVzLFtdKV0pfSkudGhlbihmdW5jdGlvbihjKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0NhbmRpZGF0ZXMgc3VjY2Vzcy5cIik7Yz1jLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTthLmxvY2FsQ2FuZGlkYXRlc189Y1swXTthLnJlbW90ZUNhbmRpZGF0ZXNfPWNbMV07YihhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0NhbmRpZGF0ZXMoKSBmYWlsZWQhXCIpO2MoYil9KX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXHJcblwicm9sZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb2xlX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJjb21wb25lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50X30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJTdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZV99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwiZ2F0aGVyaW5nU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2F0aGVyaW5nU3RhdGVffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uc3RhdGVjaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25zdGF0ZWNoYW5nZV99LFxyXG5zZXQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X29uc3RhdGVjaGFuZ2UoKSBjYWxsZWQuXCIpO3RoaXMub25zdGF0ZWNoYW5nZV89YTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIkljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT1jLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGMuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3Qub25zdGF0ZWNoYW5nZSk7ZS50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnN0YXRlY2hhbmdlIGNhbGxiYWNrIHJlY2VpdmVkIVwiKTtjLnN5bmNDYW5kaWRhdGVzKCkudGhlbihmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCJyZWNlaXZlZCB1cGRhdGVkIGljZSBjYW5kaWRhdGVzIVwiKX0pO2Muc3RhdGVfPWIuY29udmVydFN0YXRlKGMucGFyYW0wKGEpKTtcclxuZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wic3RhdGU6IFwiK2Muc3RhdGVfKTtjLm9uc3RhdGVjaGFuZ2VfKCl9KTtyZXR1cm4gYy5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3Qub25zdGF0ZWNoYW5nZSxlLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtjLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uc3RhdGVjaGFuZ2UgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25nYXRoZXJpbmdzdGF0ZWNoYW5nZV99LHNldDpmdW5jdGlvbihhKXt2YXIgYz10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25nYXRoZXJpbmdzdGF0ZWNoYW5nZSgpIGNhbGxlZC5cIik7dGhpcy5vbmdhdGhlcmluZ3N0YXRlY2hhbmdlXz1cclxuYTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIkljZVRyYW5zcG9ydC5vbmdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT1jLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGMuaXNOdWxsQ2FsbGJhY2soYSksaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3Qub25nYXRoZXJpbmdzdGF0ZWNoYW5nZSk7ZS50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbmdhdGhlcmluZ3N0YXRlY2hhbmdlIGNhbGxiYWNrIHJlY2VpdmVkIVwiKTtjLnN5bmNDYW5kaWRhdGVzKCkudGhlbihmdW5jdGlvbihhKXtkLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCJyZWNlaXZlZCB1cGRhdGVkIGljZSBjYW5kaWRhdGVzIVwiKX0pO2MuZ2F0aGVyaW5nU3RhdGVfPWIuY29udmVydEdhdGhlcmluZ1N0YXRlKGMucGFyYW0wKGEpKTtkLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCJnYXRoZXJpbmdTdGF0ZTogXCIrYy5nYXRoZXJpbmdTdGF0ZV8pO1xyXG5jLm9uZ2F0aGVyaW5nc3RhdGVjaGFuZ2VfKCl9KTtyZXR1cm4gYy5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3Qub25nYXRoZXJpbmdzdGF0ZWNoYW5nZSxlLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtjLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZSgpIGNhbGxlZC5cIik7dGhpcy5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZV89XHJcbmE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJJY2VUcmFuc3BvcnQub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2VcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWIucmVnaXN0ZXJDYWxsYmFja3MoITEsYi5pc051bGxDYWxsYmFjayhhKSxoLm1ldGhvZF9pZF9SVENJY2VUcmFuc3BvcnRfdC5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZSk7Yy50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZSBjYWxsYmFjayByZWNlaXZlZCFcIik7Yi5zeW5jQ2FuZGlkYXRlcygpLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wicmVjZWl2ZWQgdXBkYXRlZCBpY2UgY2FuZGlkYXRlcyFcIil9KTtiLnNlbGVjdGVkUGFpcj1iLnBhcmFtMChhKTtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCJzZWxlY3RlZFBhaXI6IFwiK2Iuc2VsZWN0ZWRQYWlyKTtcclxuYi5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZV8oKX0pO3JldHVybiBiLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9SVENJY2VUcmFuc3BvcnRfdC5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZSxjLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5nZXRMb2NhbENhbmRpZGF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbENhbmRpZGF0ZXNffTtiLnByb3RvdHlwZS5nZXRSZW1vdGVDYW5kaWRhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3RlQ2FuZGlkYXRlc199O2IucHJvdG90eXBlLmdldExvY2FsUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtiLnByb3RvdHlwZS5nZXRSZW1vdGVQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xyXG5iLnByb3RvdHlwZS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZFBhaXJ9O2IuY29udmVydFN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hP1wibmV3XCI6MT09YT9cImNoZWNraW5nXCI6Mj09YT9cImNvbm5lY3RlZFwiOjM9PWE/XCJjb21wbGV0ZWRcIjo0PT1hP1wiZmFpbGVkXCI6NT09YT9cImRpc2Nvbm5lY3RlZFwiOlwiY2xvc2VkXCJ9O2IuY29udmVydEdhdGhlcmluZ1N0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hP1wibmV3XCI6MT09YT9cImdhdGhlcmluZ1wiOlwiY29tcGxldGVcIn07cmV0dXJuIGJ9KGwuUHJveHlPYmplY3QpO2EuSWNlVHJhbnNwb3J0PWc7dmFyIEI7KGZ1bmN0aW9uKGEpe2FbYVtcIm5ld1wiXT0wXT1cIm5ld1wiO2FbYS5jb25uZWN0aW5nPTFdPVwiY29ubmVjdGluZ1wiO2FbYS5jb25uZWN0ZWQ9Ml09XCJjb25uZWN0ZWRcIjthW2EuY2xvc2VkPTNdPVwiY2xvc2VkXCI7YVthLmZhaWxlZD00XT1cImZhaWxlZFwiO2FbYS5tYXg9NV09XCJtYXhcIn0pKEJ8fFxyXG4oQj17fSkpO3ZhciB0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxlKXt2YXIgZz1hLmNhbGwodGhpcyxjLGguY2xhc3NfaWRfdC5SVENEdGxzVHJhbnNwb3J0LGUsbC5Qcm94eU1vZGUuUmVtb3RlKXx8dGhpcztkLmxvZ2dlci5sb2coZy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3JcIik7Zy5zdGF0ZV89XCJuZXdcIjtnLnRyYW5zcG9ydF89bnVsbDtnLnJlbW90ZUNlcnRpZmljYXRlc189W107cmV0dXJuIGd9ZShiLGEpO2IucHJvdG90eXBlLmR1bXBJbmZvPWZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKFwiRHRsc1RyYW5zcG9ydFtcIit0aGlzLm9iamVjdF9pZCgpK1wiXS5kdW1wSW5mbygpOlwiKTtkLmxvZ2dlci5sb2coXCIgICAgLSBzdGF0ZTpcIit0aGlzLnN0YXRlXyk7ZC5sb2dnZXIubG9nKFwiICAgIC0gdHJhbnNwb3J0OlwiK3RoaXMudHJhbnNwb3J0Xyl9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxlKXthLnN5bmNCYXJyaWVyRGVlcChjLGUpJiZhLndhaXRVbnRpbENvbm5lY3RlZChcIkR0bHNUcmFuc3BvcnQuc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDRHRsc1RyYW5zcG9ydF90LnRyYW5zcG9ydCx7fSksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDRHRsc1RyYW5zcG9ydF90LnN0YXRlLDApLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ0R0bHNUcmFuc3BvcnRfdC5nZXRSZW1vdGVDZXJ0aWZpY2F0ZXMpXSl9KS50aGVuKGZ1bmN0aW9uKGMpe3ZhciBlO2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllciByZW1vdGUgc3VjY2Vzcy5cIik7dmFyIGg7ZT1jLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTtcclxuYz1lWzBdO2g9ZVsxXTthLnJlbW90ZUNlcnRpZmljYXRlc189ZVsyXTthLnN0YXRlXz1iLmNvbnZlcnRTdGF0ZShoKTtlPVtdO2lmKHZvaWQgMCE9YyYmMD09Yy5pc19udWxsKXtoPWEudHJhbnNwb3J0XztpZihudWxsPT09YS50cmFuc3BvcnRffHxhLnRyYW5zcG9ydF8ub2JqZWN0X2lkKCkhPWMub2lkKWg9bmV3IGcoYSxjLm9pZCk7ZS5wdXNoKGguc3luY0JhcnJpZXIoKSl9ZWxzZSBlLnB1c2goUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtQcm9taXNlLmFsbChlKS50aGVuKGZ1bmN0aW9uKGIpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllciBzdWNjZXNzXCIpO2EudHJhbnNwb3J0Xz1iWzBdO2Euc3luY0JhcnJpZXJSZXNvbHZlKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYixcIi5wcm9wLnN5bmNCYXJyaWVyIGZhaWxlZCFcIik7YS5zeW5jQmFycmllclJlamVjdChiKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPVxyXG5hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0JhcnJpZXIgZmFpbGVkIVwiKTthLnN5bmNCYXJyaWVyUmVqZWN0KGIpfSl9KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwidHJhbnNwb3J0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zcG9ydF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9zdGF0ZSgpIGNhbGxlZDogXCIrdGhpcy5zdGF0ZV8pO3JldHVybiB0aGlzLnN0YXRlX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5nZXRSZW1vdGVDZXJ0aWZpY2F0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdGVDZXJ0aWZpY2F0ZXNffTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbnN0YXRlY2hhbmdlXCIsXHJcbntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbnN0YXRlY2hhbmdlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbnN0YXRlY2hhbmdlKCkgY2FsbGVkLlwiKTt0aGlzLm9uc3RhdGVjaGFuZ2VfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJEdGxzVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2VcIikudGhlbihmdW5jdGlvbigpe3ZhciBlPWMucmVnaXN0ZXJDYWxsYmFja3MoITEsYy5pc051bGxDYWxsYmFjayhhKSxoLm1ldGhvZF9pZF9SVENEdGxzVHJhbnNwb3J0X3Qub25zdGF0ZWNoYW5nZSk7ZS50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnN0YXRlY2hhbmdlIGNhbGxiYWNrIHJlY2VpdmVkIVwiKTtjLnN0YXRlXz1iLmNvbnZlcnRTdGF0ZShjLnBhcmFtMChhKSk7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wic3RhdGVfOiBcIitjLnN0YXRlXyk7XHJcbmMub25zdGF0ZWNoYW5nZV8oKX0pO3JldHVybiBjLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9SVENEdGxzVHJhbnNwb3J0X3Qub25zdGF0ZWNoYW5nZSxlLnN1Y2Nlc3MpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtjLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X29uc3RhdGVjaGFuZ2UgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9uZXJyb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25lcnJvcl99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfb25lcnJvcigpIGNhbGxlZC5cIik7dGhpcy5vbmVycm9yXz1hO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiRHRsc1RyYW5zcG9ydC5vbmVycm9yXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYSksXHJcbmgubWV0aG9kX2lkX1JUQ0R0bHNUcmFuc3BvcnRfdC5vbmVycm9yKTtjLnRoZW4oZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uZXJyb3IgY2FsbGJhY2sgcmVjZWl2ZWQhXCIpO2E9Yi5wYXJhbTAoYSk7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiZXJyb3I6IFwiK2EpO2Iub25lcnJvcl8oYSl9KTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDRHRsc1RyYW5zcG9ydF90Lm9uZXJyb3IsYy5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnNldF9vbmVycm9yIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLmNvbnZlcnRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYT09QltcIm5ld1wiXT9cIm5ld1wiOmE9PUIuY29ubmVjdGluZz9cImNvbm5lY3RpbmdcIjphPT1CLmNvbm5lY3RlZD9cImNvbm5lY3RlZFwiOmE9PUIuY2xvc2VkP1xyXG5cImNsb3NlZFwiOlwiZmFpbGVkXCJ9O3JldHVybiBifShsLlByb3h5T2JqZWN0KTthLkR0bHNUcmFuc3BvcnQ9dDtiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxlLGcsaCl7Yz1hLmNhbGwodGhpcyxjLGUsZyxoKXx8dGhpcztkLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3IgYmFzZVwiKTtjLnRyYWNrXz1udWxsO2MudHJhbnNwb3J0Xz1udWxsO3JldHVybiBjfWUoYixhKTtiLnByb3RvdHlwZS5zeW5jQmFycmllckJhc2U9ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXJCYXNlKCkgY2FsbGVkLlwiKTt2YXIgYT1bXSxiLGM7dGhpcyBpbnN0YW5jZW9mIG0/KGI9aC5tZXRob2RfaWRfUlRDUnRwU2VuZGVyX3QudHJhY2ssYz1oLm1ldGhvZF9pZF9SVENSdHBTZW5kZXJfdC50cmFuc3BvcnQpOnRoaXMgaW5zdGFuY2VvZiBEJiYoYj1oLm1ldGhvZF9pZF9SVENSdHBSZWNlaXZlcl90LnRyYWNrLGM9aC5tZXRob2RfaWRfUlRDUnRwUmVjZWl2ZXJfdC50cmFuc3BvcnQpO1xyXG5uLlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlUHN0blN1cHBvcnRlZCgpJiZuLlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlRHRtZlN1cHBvcnRlZCgpPyhhLnB1c2godGhpcy5yZW1vdGVJbnZva2UoITEsYix7b2lkOjB9KSksYS5wdXNoKHRoaXMucmVtb3RlSW52b2tlKCExLGMse29pZDowfSkpKTphLnB1c2godGhpcy5yZW1vdGVJbnZva2UoITEsYix7b2lkOjB9KSk7cmV0dXJuIGF9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyQmFzZVJlc3VsdHM9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzO2I9MDtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXJCYXNlUmVzdWx0c1wiKTt2YXIgZTtuLlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlUHN0blN1cHBvcnRlZCgpJiZuLlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlRHRtZlN1cHBvcnRlZCgpPyhiPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLnBhcmFtMChhKX0pLGE9YlswXSxlPWJbMV0sYj0yKTooYT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5wYXJhbTAoYSl9KVswXSxcclxuYj0xKTt2YXIgZz1bXTtpZih2b2lkIDAhPWEmJiExPT09YS5pc19udWxsKXt2YXIgaD10aGlzLnRyYWNrXztudWxsPT09dGhpcy50cmFja198fHRoaXMudHJhY2tfLm9iamVjdF9pZCgpIT1hLm9pZD9oPW5ldyB3LlJlbW90ZU1lZGlhVHJhY2sodGhpcyxhLm9pZCk6dGhpcy50cmFja18uYmluZCh0aGlzLGEub2lkKTtnLnB1c2goaC5zeW5jQmFycmllcigpKX1lbHNlIGcucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpO2lmKHZvaWQgMCE9ZSYmITE9PT1lLmlzX251bGwpe2E9dGhpcy50cmFuc3BvcnRfO2lmKG51bGw9PT10aGlzLnRyYW5zcG9ydF98fHRoaXMudHJhbnNwb3J0Xy5vYmplY3RfaWQoKSE9ZS5vaWQpYT1uZXcgdCh0aGlzLGUub2lkKTtnLnB1c2goYS5zeW5jQmFycmllcigpKX1lbHNlIGcucHVzaChQcm9taXNlLnJlc29sdmUobnVsbCkpO3JldHVybltiLGddfTtiLnByb3RvdHlwZS5zeW5jQmFycmllckJhc2VSZXN1bHRzV2l0aEFsbFByb21pc2VzRnVsRmlsbGVkPWZ1bmN0aW9uKGEpe3RoaXMudHJhY2tfPVxyXG5hWzBdO3RoaXMudHJhbnNwb3J0Xz1hWzFdfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJ0cmFuc3BvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldCB0cmFuc3BvcnQoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLnRyYW5zcG9ydF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicnRjcFRyYW5zcG9ydFwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0IHJ0Y3BUcmFuc3BvcnQoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLnRyYW5zcG9ydF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwidHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhY2tffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO1xyXG5iLnByb3RvdHlwZS5yZWluaXRUcmFjaz1mdW5jdGlvbihhKXt0aGlzLnRyYWNrXz1hfTtiLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTdGF0cygpIGNhbGxlZC5cIik7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXthLmlzUmVkaXJlY3RlZCgpP2Eud2FpdFVudGlsQ29ubmVjdGVkKFwiUnRwUmVjZWl2ZXIuZ2V0U3RhdHNcIikudGhlbihmdW5jdGlvbigpe2lmKG4uUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVTZW5kZXJTdGF0c0ZpeFN1cHBvcnRlZCgpKXt2YXIgZDthIGluc3RhbmNlb2YgbT9kPWgubWV0aG9kX2lkX1JUQ1J0cFNlbmRlcl90LmdldFN0YXRzOmEgaW5zdGFuY2VvZiBEJiYoZD1oLm1ldGhvZF9pZF9SVENSdHBSZWNlaXZlcl90LmdldFN0YXRzKTt2YXIgYz1hLnJlZ2lzdGVyQ2FsbGJhY2tzKCEwLCExLGQpO2MudGhlbihmdW5jdGlvbihhKXt2b2lkIDA9PT1hLnBhcmFtc3x8XHJcbjA9PT1hLnBhcmFtcy5sZW5ndGh8fDA9PT1hLnBhcmFtc1swXS5sZW5ndGg/YigpOmIocS5TdGF0c1JlcG9ydC5mcm9tSlNPTihKU09OLnBhcnNlKGEucGFyYW1zWzBdKSkpfSk7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLGQsYy5zdWNjZXNzKX1iKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2I9YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLmdldFN0YXRzKCkgZmFpbGVkIVwiKTtjKGIpfSk6KGQubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRTdGF0cygpOiBub3QgaW4gYWN0aXZlIHJlZGlyZWN0aW9uIVwiKSxiKCkpfSl9O3JldHVybiBifShsLlByb3h5T2JqZWN0KTthLlJ0cFNlbmRlclJlY2VpdmVyPWI7dmFyIG09ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGUsZyxtKXtjPWEuY2FsbCh0aGlzLGMsaC5jbGFzc19pZF90LlJUQ1J0cFNlbmRlcixlLGcpfHx0aGlzO2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jb25zdHJ1Y3RvclwiKTtjLmR0bWZfPVxyXG5udWxsO2MucGFyYW1zXz1rLlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzLmRlZlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzKCk7Yy51bmlmaWVkXz1tO3JldHVybiBjfWUoYixhKTtiLnByb3RvdHlwZS5kdW1wSW5mbz1mdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhcIlJ0cFNlbmRlcltcIit0aGlzLm9iamVjdF9pZCgpK1wiXS5kdW1wSW5mbygpOlwiKTt0aGlzLnRyYWNrJiZ0aGlzLnRyYWNrLmR1bXBJbmZvKCl9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2Iuc3luY0JhcnJpZXJEZWVwKGMsZSkmJmIud2FpdFVudGlsQ29ubmVjdGVkKFwiUnRwU2VuZGVyLnN5bmNCYXJyaWVyXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1hLnByb3RvdHlwZS5zeW5jQmFycmllckJhc2UuY2FsbChiKTtuLlJlbW90ZVNlc3Npb24uaXNGZWF0dXJlUHN0blN1cHBvcnRlZCgpJiZcclxubi5SZW1vdGVTZXNzaW9uLmlzRmVhdHVyZUR0bWZTdXBwb3J0ZWQoKSYmKGMucHVzaChiLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENSdHBTZW5kZXJfdC5kdG1mLHtvaWQ6MH0pKSxjLnB1c2goYi5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDUnRwU2VuZGVyX3QuZ2V0UGFyYW1ldGVycykpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYyl9KS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBjLGU7Yz1iLnN5bmNCYXJyaWVyQmFzZVJlc3VsdHMoYSk7ZT1jWzBdO2M9Y1sxXTthPWEuc2xpY2UoZSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLnBhcmFtMChhKX0pO2U9YVswXTtiLnBhcmFtc189YVsxXTt2b2lkIDA9PWV8fCExIT09ZS5pc19udWxsfHxudWxsIT09Yi5kdG1mXyYmYi5kdG1mXy5vYmplY3RfaWQoKT09ZS5vaWR8fChiLmR0bWZfPW5ldyBwKGIsZS5vaWQpKTtQcm9taXNlLmFsbChjKS50aGVuKGZ1bmN0aW9uKGEpe2Iuc3luY0JhcnJpZXJCYXNlUmVzdWx0c1dpdGhBbGxQcm9taXNlc0Z1bEZpbGxlZChhKTtcclxuZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyQmFzZSBzdWNjZXNzLlwiKTtiLnN5bmNCYXJyaWVyUmVzb2x2ZShiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1iLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc3luY0JhcnJpZXIoKSBwcm9taXNlc19iYXNlIGZhaWxlZCFcIik7Yi5zeW5jQmFycmllclJlamVjdChhKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXthPWIubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zeW5jQmFycmllciBmYWlsZWQhXCIpO2Iuc3luY0JhcnJpZXJSZWplY3QoYSl9KX0pfTtiLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbihhKXtkLmxvZ2dlci5sb2codGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiLmdldENhcGFiaWxpdGllcygpIGNhbGxlZC5cIik7cmV0dXJuIHcuTmF2aWdhdG9yVXNlck1lZGlhLmdldENhcGFiaWxpdGllcyhhKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwiZHRtZlwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldCBkdG1mKCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5kdG1mX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtiLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNBc3luYyhhKX07Yi5wcm90b3R5cGUuc2V0UGFyYW1ldGVyc0FzeW5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldFBhcmFtZXRlcnNBc3luYygpIGNhbGxlZC5cIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7Yi53YWl0VW50aWxDb25uZWN0ZWQoXCJSdHBTZW5kZXIuc2V0UGFyYW1ldGVyc0FzeW5jXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2IucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1J0cFNlbmRlcl90LnNldFBhcmFtZXRlcnMsay5SdGNSdHBTZW5kUGFyYW1ldGVycy50b1J0Y1J0cFNlbmRQYXJhbWV0ZXJzKGEpKV0pfSkudGhlbihmdW5jdGlvbihlKXtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnNldFBhcmFtZXRlcnNBc3luYygpOiBzdWNjZXNzLlwiKTtjKCk7Yi5wYXJhbXNfPWsuUnRjUnRwU2VuZFBhcmFtZXRlcnMudG9SdGNSdHBTZW5kUGFyYW1ldGVycyhhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1iLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0UGFyYW1ldGVyc0FzeW5jKCkgZmFpbGVkIVwiKTtlKGEpfSl9KX07Yi5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRQYXJhbWV0ZXJzKCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5nZXRQYXJhbWV0ZXJzSW50ZXJuYWwoITEpfTtiLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzQXN5bmM9ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UGFyYW1ldGVyc0FzeW5jKCkgY2FsbGVkLlwiKTtyZXR1cm4gdGhpcy5nZXRQYXJhbWV0ZXJzSW50ZXJuYWwoITApfTtiLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzSW50ZXJuYWw9XHJcbmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihhLGMpe2Iud2FpdFVudGlsQ29ubmVjdGVkKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFBhcmFtZXRlcnNJbnRlcm5hbFwiKS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFBhcmFtZXRlcnNJbnRlcm5hbCgpIHJlbW90ZSBpbnZva2luZ1wiKTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDUnRwU2VuZGVyX3QuZ2V0UGFyYW1ldGVycyl9KS50aGVuKGZ1bmN0aW9uKGMpe2IucGFyYW1zXz1iLnBhcmFtMChjKTtkLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UGFyYW1ldGVyc0ludGVybmFsKCkgc3VjY2VzcyByZXR1cm5pbmc6IFwiK2IucGFyYW1zXyk7YShrLlJ0Y1J0cFNlbmRQYXJhbWV0ZXJzLnRvUlRDUnRwU2VuZFBhcmFtZXRlcnMoYi5wYXJhbXNfKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2E9Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cIi5nZXRQYXJhbWV0ZXJzSW50ZXJuYWwoKSBmYWlsZWQhXCIpO2MoYSl9KX0pO2lmKGEpcmV0dXJuIGM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFBhcmFtZXRlcnNJbnRlcm5hbCgpIHJldHVybmluZzogXCIrdGhpcy5wYXJhbXNfKTtyZXR1cm4gay5SdGNSdHBTZW5kUGFyYW1ldGVycy50b1JUQ1J0cFNlbmRQYXJhbWV0ZXJzKHRoaXMucGFyYW1zXyl9O2IucHJvdG90eXBlLnJlcGxhY2VUcmFjaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZXBsYWNlVHJhY2soKSBjYWxsZWQuIGN1cnJlbnQgdHJhY2s6XCIrKHRoaXMudHJhY2tfP3RoaXMudHJhY2tfLm9iamVjdF9pZCgpOlwibnVsbFwiKStcIiB3aXRoIHRyYWNrPVwiKyhhP2Eub2JqZWN0X2lkKCk6XCJudWxsXCIpKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxlKXtiLndhaXRVbnRpbENvbm5lY3RlZChcIlJ0cFNlbmRlci5yZXBsYWNlVHJhY2tcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBhfHxcclxubi5SZW1vdGVTZXNzaW9uLmlzRmVhdHVyZVdlYnJ0YzFkb3QwU3VwcG9ydGVkKCk/YT9iLnJlbW90ZUludm9rZUV4KCExLGgubWV0aG9kX2lkX1JUQ1J0cFNlbmRlcl90LnJlcGxhY2VUcmFjayxbYV0pOmIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1J0cFNlbmRlcl90LnJlcGxhY2VUcmFjayx7b2lkOi0xfSk6UHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIkRvZXMgbm90IHN1cHBvcnQgcmVwbGFjZSB0cmFjayB3aXRoIG51bGwgaW4gbm9uLVVuaWZpZWQgU0RQIHNlbWFudGljIVwiKSl9KS50aGVuKGZ1bmN0aW9uKGUpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5yZXBsYWNlVHJhY2soKTogc3VjY2Vzcy5cIik7YygpO2IucmVpbml0VHJhY2soYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2E9Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnJlcGxhY2VUcmFjaygpIGZhaWxlZCFcIik7ZShhKX0pfSl9O3JldHVybiBifShiKTthLlJ0cFNlbmRlcj1cclxubTt2YXIgRD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGMsZSxnLG0seCl7Yz1hLmNhbGwodGhpcyxjLGguY2xhc3NfaWRfdC5SVENSdHBSZWNlaXZlcixlLGcpfHx0aGlzO2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jb25zdHJ1Y3RvclwiKTtjLmNvbnRyaWJzb3VyY2VzXz1bXTtjLnN5bmNzb3VyY2VzXz1bXTtjLnBhcmFtc189ay5SdGNSdHBQYXJhbWV0ZXJzLmRlZlJ0Y1J0cFBhcmFtZXRlcnMoKTtjLnVuaWZpZWRfPW07eCYmKGMudHJhY2tfPXgpO3JldHVybiBjfWUoYixhKTtiLnByb3RvdHlwZS5kdW1wSW5mbz1mdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhcIlJ0cFJlY2VpdmVyW1wiK3RoaXMub2JqZWN0X2lkKCkrXCJdLmR1bXBJbmZvKCk6XCIpO3RoaXMudHJhY2smJnRoaXMudHJhY2suZHVtcEluZm8oKTt0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnQuZHVtcEluZm8oKX07Yi5wcm90b3R5cGUuc3luY0JhcnJpZXI9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2Iuc3luY0JhcnJpZXJEZWVwKGMsZSkmJmIud2FpdFVudGlsQ29ubmVjdGVkKFwiUnRwUmVjZWl2ZXIuc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPWEucHJvdG90eXBlLnN5bmNCYXJyaWVyQmFzZS5jYWxsKGIpO24uUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVQc3RuU3VwcG9ydGVkKCkmJm4uUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVEdG1mU3VwcG9ydGVkKCk/KGMucHVzaChiLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENSdHBSZWNlaXZlcl90LmdldENvbnRyaWJ1dGluZ1NvdXJjZXMpKSxjLnB1c2goYi5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDUnRwUmVjZWl2ZXJfdC5nZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzKSksYy5wdXNoKGIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1J0cFJlY2VpdmVyX3QuZ2V0UGFyYW1ldGVycykpKTpcclxuYy5wdXNoKGIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1J0cFJlY2VpdmVyX3QuZ2V0Q29udHJpYnV0aW5nU291cmNlcykpO3JldHVybiBQcm9taXNlLmFsbChjKX0pLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGMsZTtjPWIuc3luY0JhcnJpZXJCYXNlUmVzdWx0cyhhKTtlPWNbMF07Yz1jWzFdO2E9YS5zbGljZShlKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIucGFyYW0wKGEpfSk7Yi5jb250cmlic291cmNlc189YVswXTtiLnN5bmNzb3VyY2VzXz1hWzFdO2IucGFyYW1zXz1hWzJdO1Byb21pc2UuYWxsKGMpLnRoZW4oZnVuY3Rpb24oYSl7Yi5zeW5jQmFycmllckJhc2VSZXN1bHRzV2l0aEFsbFByb21pc2VzRnVsRmlsbGVkKGEpO2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllciBzdWNjZXNzLlwiKTtiLnN5bmNCYXJyaWVyUmVzb2x2ZShiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1iLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc3luY0JhcnJpZXIoKSBwcm9taXNlc19iYXNlIGZhaWxlZCFcIik7XHJcbmIuc3luY0JhcnJpZXJSZWplY3QoYSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7YT1iLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQhXCIpO2Iuc3luY0JhcnJpZXJSZWplY3QoYSl9KX0pfTtiLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbihhKXtkLmxvZ2dlci5sb2codGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiLmdldENhcGFiaWxpdGllcygpIGNhbGxlZC5cIik7cmV0dXJuIHcuTmF2aWdhdG9yVXNlck1lZGlhLmdldENhcGFiaWxpdGllcyhhKX07Yi5wcm90b3R5cGUuZ2V0Q29udHJpYnV0aW5nU291cmNlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldENvbnRyaWJ1dGluZ1NvdXJjZXMoKSBjYWxsZWQuIFwiK0pTT04uc3RyaW5naWZ5KHRoaXMuY29udHJpYnNvdXJjZXNfKSk7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJSdHBSZWNlaXZlci5nZXRDb250cmlidXRpbmdTb3VyY2VzXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLFxyXG5oLm1ldGhvZF9pZF9SVENSdHBSZWNlaXZlcl90LmdldENvbnRyaWJ1dGluZ1NvdXJjZXMpXSl9KS50aGVuKGZ1bmN0aW9uKGIpe2EuY29udHJpYnNvdXJjZXNfPWIubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLnBhcmFtMChiKX0pWzBdO2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKSxcIi5nZXRDb250cmlidXRpbmdTb3VyY2VzKCkgc3VjY2VzczogXCIrSlNPTi5zdHJpbmdpZnkoYS5jb250cmlic291cmNlc18pKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLmdldENvbnRyaWJ1dGluZ1NvdXJjZXMoKSBmYWlsZWQhXCIpO2EuY29udHJpYnNvdXJjZXNfPVtdfSk7cmV0dXJuIHRoaXMuY29udHJpYnNvdXJjZXNffTtiLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UGFyYW1ldGVycygpIGNhbGxlZC5cIik7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmdldFBhcmFtZXRlcnNcIikudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRQYXJhbWV0ZXJzKCkgcmVtb3RlIGludm9raW5nXCIpO3JldHVybiBhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENSdHBSZWNlaXZlcl90LmdldFBhcmFtZXRlcnMpfSkudGhlbihmdW5jdGlvbihiKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UGFyYW1ldGVycygpIHN1Y2Nlc3NcIik7YS5wYXJhbXNfPWEucGFyYW0wKGIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXthLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuZ2V0UGFyYW1ldGVycygpIGZhaWxlZCFcIil9KTtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UGFyYW1ldGVycygpIHJldHVybmluZzogXCIrdGhpcy5wYXJhbXNfKTtyZXR1cm4gay5SdGNSdHBSZWNlaXZlUGFyYW1ldGVycy50b1JUQ1J0cFJlY2VpdmVQYXJhbWV0ZXJzKHRoaXMucGFyYW1zXyl9O1xyXG5iLnByb3RvdHlwZS5nZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzPWZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFN5bmNocm9uaXphdGlvblNvdXJjZXMoKSBjYWxsZWQuXCIpO3JldHVybiB0aGlzLnN5bmNzb3VyY2VzX307cmV0dXJuIGJ9KGIpO2EuUnRwUmVjZWl2ZXI9RH0sMzc3OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGMpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109YltjXSl9O3JldHVybiBhKGIsYyl9O3JldHVybiBmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXt0aGlzLmNvbnN0cnVjdG9yPWJ9YShiLGMpO2IucHJvdG90eXBlPW51bGw9PT1cclxuYz9PYmplY3QuY3JlYXRlKGMpOihkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxuZXcgZCl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuUnRwVHJhbnNjZWl2ZXI9YS5SdGNSdHBUcmFuc2NlaXZlckluaXQ9YS5SdGNSdHBUcmFuc2NlaXZlckRpcmVjdGlvbj12b2lkIDA7dmFyIGw9Yyg2NTgpLGg9Yyg1NTApLGQ9Yyg4NTEpLHc9Yyg1ODkpLHE9Yyg0ODQpLG47KGZ1bmN0aW9uKGEpe2FbYS5zZW5kcmVjdj0wXT1cInNlbmRyZWN2XCI7YVthLnNlbmRvbmx5PTFdPVwic2VuZG9ubHlcIjthW2EucmVjdm9ubHk9Ml09XCJyZWN2b25seVwiO2FbYS5pbmFjdGl2ZT0zXT1cImluYWN0aXZlXCI7YVthLnN0b3BwZWQ9NF09XCJzdG9wcGVkXCJ9KShuPWEuUnRjUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb258fChhLlJ0Y1J0cFRyYW5zY2VpdmVyRGlyZWN0aW9uPXt9KSk7dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEudG9SdGNSdHBUcmFuc2NlaXZlckRpcmVjdGlvbj1cclxuZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJpbmFjdGl2ZVwiOmE9bi5pbmFjdGl2ZTticmVhaztjYXNlIFwicmVjdm9ubHlcIjphPW4ucmVjdm9ubHk7YnJlYWs7Y2FzZSBcInNlbmRvbmx5XCI6YT1uLnNlbmRvbmx5O2JyZWFrO2Nhc2UgXCJzZW5kcmVjdlwiOmE9bi5zZW5kcmVjdjticmVhaztjYXNlIFwic3RvcHBlZFwiOmE9bi5zdG9wcGVkO2JyZWFrO2RlZmF1bHQ6YT1uLnNlbmRyZWN2fXJldHVybiBhfTthLnRvUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb249ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2Ugbi5pbmFjdGl2ZTphPVwiaW5hY3RpdmVcIjticmVhaztjYXNlIG4ucmVjdm9ubHk6YT1cInJlY3Zvbmx5XCI7YnJlYWs7Y2FzZSBuLnNlbmRvbmx5OmE9XCJzZW5kb25seVwiO2JyZWFrO2Nhc2Ugbi5zZW5kcmVjdjphPVwic2VuZHJlY3ZcIjticmVhaztjYXNlIG4uc3RvcHBlZDphPVwic3RvcHBlZFwiO2JyZWFrO2RlZmF1bHQ6YT1cInNlbmRyZWN2XCJ9cmV0dXJuIGF9O2EudG9SdGNSdHBUcmFuc2NlaXZlckluaXQ9XHJcbmZ1bmN0aW9uKGIpe2QubG9nZ2VyLmxvZyhcIlJ0Y1J0cFRyYW5zY2VpdmVySW5pdC50b1J0Y1J0cFRyYW5zY2VpdmVySW5pdCgpIGluIGluaXQ6XCIrSlNPTi5zdHJpbmdpZnkoYikpO3ZhciBjPXt9O2ImJihiLmRpcmVjdGlvbiYmKGMuZGlyZWN0aW9uPWEudG9SdGNSdHBUcmFuc2NlaXZlckRpcmVjdGlvbihiLmRpcmVjdGlvbikpLGIuc2VuZEVuY29kaW5ncyYmKGMuc2VuZEVuY29kaW5ncz1bXSxiLnNlbmRFbmNvZGluZ3MuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gYy5zZW5kRW5jb2RpbmdzLnB1c2gocS5SdGNSdHBFbmNvZGluZ1BhcmFtZXRlcnMudG9SdGNSdHBFbmNvZGluZ1BhcmFtZXRlcnMoYSkpfSkpLGIuc3RyZWFtcyYmKGMuc3RyZWFtcz1iLnN0cmVhbXMpKTtkLmxvZ2dlci5sb2coXCJSdGNSdHBUcmFuc2NlaXZlckluaXQudG9SdGNSdHBUcmFuc2NlaXZlckluaXQoKSBvdXQgaW5pdDpcIitKU09OLnN0cmluZ2lmeShjKSk7cmV0dXJuIGN9O3JldHVybiBhfSgpO2EuUnRjUnRwVHJhbnNjZWl2ZXJJbml0PVxyXG5rO2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGUsayxtLHEseSl7Yz1hLmNhbGwodGhpcyxjLGguY2xhc3NfaWRfdC5SVENSdHBUcmFuc2NlaXZlcixlLGspfHx0aGlzO2QubG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jb25zdHJ1Y3RvclwiKTtjLnVuaWZpZWRfPW07Yy5zZW5kZXJfPW5ldyB3LlJ0cFNlbmRlcihjLDAsbC5Qcm94eU1vZGUuUHNldWRvLG0pO2MucmVjZWl2ZXJfPXk/eTpuZXcgdy5SdHBSZWNlaXZlcihjLDAsbC5Qcm94eU1vZGUuUHNldWRvLG0pO3E/KGMuZGlyZWN0aW9uXz1xLGMuY3VycmVudERpcmVjdGlvbl89cSk6KGMuZGlyZWN0aW9uXz1uLnNlbmRyZWN2LGMuY3VycmVudERpcmVjdGlvbl89bi5zZW5kcmVjdik7cmV0dXJuIGN9ZShiLGEpO2IucHJvdG90eXBlLmR1bXBJbmZvPWZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmR1bXBJbmZvKCkgW2lkPVwiK3RoaXMubWlkK1wiXSBkaXJlY3Rpb249XCIray50b1JUQ1J0cFRyYW5zY2VpdmVyRGlyZWN0aW9uKHRoaXMuZGlyZWN0aW9uXykrXHJcblwiIGN1cnJlbnREaXJlY3Rpb249XCIray50b1JUQ1J0cFRyYW5zY2VpdmVyRGlyZWN0aW9uKHRoaXMuY3VycmVudERpcmVjdGlvbl8pKTt0aGlzLnNlbmRlciYmdGhpcy5zZW5kZXIuZHVtcEluZm8oKTt0aGlzLnJlY2VpdmVyJiZ0aGlzLnJlY2VpdmVyLmR1bXBJbmZvKCl9O2IucHJvdG90eXBlLnN5bmNCYXJyaWVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3luY0JhcnJpZXIoKSBjYWxsZWQuXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe2Euc3luY0JhcnJpZXJEZWVwKGIsYykmJmEud2FpdFVudGlsQ29ubmVjdGVkKFwiUnRwVHJhbnNjZWl2ZXIuc3luY0JhcnJpZXJcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDUnRwVHJhbnNjZWl2ZXJfdC5taWQsXCJcIiksYS5yZW1vdGVJbnZva2UoITEsaC5tZXRob2RfaWRfUlRDUnRwVHJhbnNjZWl2ZXJfdC5kaXJlY3Rpb24sXHJcbjApLGEucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1JUQ1J0cFRyYW5zY2VpdmVyX3QuY3VycmVudERpcmVjdGlvbiwwKSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENSdHBUcmFuc2NlaXZlcl90LnNlbmRlcix7b2lkOjB9KSxhLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9SVENSdHBUcmFuc2NlaXZlcl90LnJlY2VpdmVyLHtvaWQ6MH0pXSl9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjO2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllciByZW1vdGUgc3VjY2Vzcy5cIik7Yz1iLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5wYXJhbTAoYil9KTthLm1pZF89Y1swXTthLmRpcmVjdGlvbl89Y1sxXTthLmN1cnJlbnREaXJlY3Rpb25fPWNbMl07Yj1jWzNdO2M9Y1s0XTt2YXIgZT1bXTt2b2lkIDAhPWImJiExPT09Yi5pc19udWxsJiYoYS5zZW5kZXJfLmJpbmQoYSxiLm9pZCksZS5wdXNoKGEuc2VuZGVyXy5zeW5jQmFycmllcigpKSk7XHJcbnZvaWQgMCE9YyYmITE9PT1jLmlzX251bGwmJihhLnJlY2VpdmVyXy5iaW5kKGEsYy5vaWQpLGUucHVzaChhLnJlY2VpdmVyXy5zeW5jQmFycmllcigpKSk7aWYoMD09ZS5sZW5ndGgpZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyIHN1Y2Nlc3NcIiksYS5zeW5jQmFycmllclJlc29sdmUoYSk7ZWxzZSByZXR1cm4gZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnByb3Auc3luY0JhcnJpZXIgc3RhcnRcIiksUHJvbWlzZS5hbGwoZSl9KS50aGVuKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyIHN1Y2Nlc3NcIik7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2I9YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnN5bmNCYXJyaWVyKCkgZmFpbGVkIVwiKTthLnN5bmNCYXJyaWVyUmVqZWN0KGIpfSl9KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFxyXG5cIm1pZFwiLHtnZXQ6ZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0X21pZCgpIGNhbGxlZDogXCIrdGhpcy5taWRfKTtyZXR1cm4gdGhpcy5taWRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInNlbmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZW5kZXJffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInJlY2VpdmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlY2VpdmVyX30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJkaXJlY3Rpb25cIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9kaXJlY3Rpb24oKSBjYWxsZWQuIFwiK2sudG9SVENSdHBUcmFuc2NlaXZlckRpcmVjdGlvbih0aGlzLmRpcmVjdGlvbl8pKTtcclxucmV0dXJuIGsudG9SVENSdHBUcmFuc2NlaXZlckRpcmVjdGlvbih0aGlzLmRpcmVjdGlvbl8pfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0X2RpcmVjdGlvbigpIGNhbGxlZC4gXCIrYSk7dGhpcy5kaXJlY3Rpb25fPWsudG9SdGNSdHBUcmFuc2NlaXZlckRpcmVjdGlvbihhKTt0aGlzLndhaXRVbnRpbENvbm5lY3RlZChcIlJ0cFRyYW5zY2VpdmVyLnNldF9kaXJlY3Rpb25cIikudGhlbihmdW5jdGlvbigpe3JldHVybiBiLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9SVENSdHBUcmFuc2NlaXZlcl90LmRpcmVjdGlvbixrLnRvUnRjUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24oYSkpfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRfZGlyZWN0aW9uOiBzdWNjZXNzLlwiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFxyXG5cIi5zZXRfZGlyZWN0aW9uKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImN1cnJlbnREaXJlY3Rpb25cIix7Z2V0OmZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldF9jdXJyZW50RGlyZWN0aW9uKCkgY2FsbGVkLiBcIitrLnRvUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24odGhpcy5jdXJyZW50RGlyZWN0aW9uXykpO3JldHVybiBrLnRvUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24odGhpcy5jdXJyZW50RGlyZWN0aW9uXyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7Yi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN0b3AoKSBjYWxsZWQuXCIpO3RoaXMud2FpdFVudGlsQ29ubmVjdGVkKFwiUnRwVHJhbnNjZWl2ZXIuc3RvcFwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCEwLFxyXG5oLm1ldGhvZF9pZF9SVENSdHBUcmFuc2NlaXZlcl90LnN0b3ApfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zdG9wOiBzdWNjZXNzLlwiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7YS5sb2dSZW1vdGVJbnZva2VFcnJvcihiLFwiLnN0b3AoKSBmYWlsZWQhXCIpfSl9O2IucHJvdG90eXBlLnNldENvZGVjUHJlZmVyZW5jZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc2V0Q29kZWNQcmVmZXJlbmNlcygpIGNhbGxlZC5cIik7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJSdHBUcmFuc2NlaXZlci5zZXRDb2RlY1ByZWZlcmVuY2VzXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfUlRDUnRwVHJhbnNjZWl2ZXJfdC5zZXRDb2RlY1ByZWZlcmVuY2VzLGEpfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuc2V0Q29kZWNQcmVmZXJlbmNlczogc3VjY2Vzcy5cIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zZXRDb2RlY1ByZWZlcmVuY2VzKCkgZmFpbGVkIVwiKX0pfTtyZXR1cm4gYn0obC5Qcm94eU9iamVjdCk7YS5SdHBUcmFuc2NlaXZlcj1ifSw5NzM6ZnVuY3Rpb24oYixhLGMpe2Z1bmN0aW9uIGUoYSxiKXtyZXR1cm4gdm9pZCAwIT09YS5maW5kKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0pfWZ1bmN0aW9uIGwoYSxiLGMpe2IvPWEud2lkdGg7Yy89YS5oZWlnaHQ7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxlPWQuZ2V0Q29udGV4dChcIjJkXCIpO2Qud2lkdGg9YS53aWR0aCpiO2QuaGVpZ2h0PWEuaGVpZ2h0KmM7ZS5wdXRJbWFnZURhdGEoYSwwLDApO2lmKDEhPWJ8fDEhPWMpZS5zY2FsZShiLGMpLGUuZHJhd0ltYWdlKGQsMCwwKTtyZXR1cm4gZH1mdW5jdGlvbiBoKGEsYixjKXthPWwoYSxiLGMpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuYi5zcmM9YS50b0RhdGFVUkwoKTtyZXR1cm4gYn1mdW5jdGlvbiBkKGEsYixjLGQpe2M9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjP2M6RC5XaWR0aDtkPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZD9kOkQuSGVpZ2h0O2lmKCEwPT09YilyZXR1cm4gaChhLGMsZCk7Yj1udWxsO2M9PWEud2lkdGgmJmQ9PT1hLmhlaWdodD9iPWE6KGE9bChhLGMsZCksYj1hLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLGEud2lkdGgsYS5oZWlnaHQpKTtyZXR1cm4gYn12YXIgdz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGMpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109YltjXSl9O3JldHVybiBhKGIsYyl9O3JldHVybiBmdW5jdGlvbihiLFxyXG5jKXtmdW5jdGlvbiBkKCl7dGhpcy5jb25zdHJ1Y3Rvcj1ifWEoYixjKTtiLnByb3RvdHlwZT1udWxsPT09Yz9PYmplY3QuY3JlYXRlKGMpOihkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxuZXcgZCl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuU2NyZWVuU291cmNlPWEuU2NyZWVuU291cmNlVmRhPWEuU2NyZWVuU2hhcmluZ1ZkYT1hLlNjcmVlblNoYXJpbmdSZW1vdGU9YS5TY3JlZW5TaGFyaW5nPWEuSW1hZ2VEYXRhUmVtb3RlPXZvaWQgMDt2YXIgcT1jKDY1OCksbj1jKDU1MCksaz1jKDg1MSkscD1jKDk0Niksej1jKDY5MSksZz1jKDY1MCksQjsoZnVuY3Rpb24oYSl7YVthLkxlZ2FjeT0wXT1cIkxlZ2FjeVwiO2FbYS5Nb25pdG9yc0FuZEFwcHM9MTBdPVwiTW9uaXRvcnNBbmRBcHBzXCJ9KShCfHwoQj17fSkpO2I9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe3RoaXMuZGF0YT1hO3RoaXMuaGVpZ2h0PWI7dGhpcy53aWR0aD1cclxuY319KCk7YS5JbWFnZURhdGFSZW1vdGU9YjtiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMubG9jYWxfPXRoaXMucmVtb3RlXz1udWxsfWEuc2NyZWVuU2hhcmluZ0luc3RhbmNlPWZ1bmN0aW9uKGIpe2EuaW5zdGFuY2V8fChhLmluc3RhbmNlPW5ldyBhLGImJihhLmluc3RhbmNlLm9uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkPWIpKTtyZXR1cm4gYS5pbnN0YW5jZX07YS5kZXN0cm95SW5zdGFuY2U9ZnVuY3Rpb24oKXthLmluc3RhbmNlJiZhLmluc3RhbmNlLnJlbW90ZV8mJmEuaW5zdGFuY2UucmVtb3RlXy5yZWxlYXNlKCk7YS5pbnN0YW5jZT1udWxsfTthLnByb3RvdHlwZS51c2VyX2ZyaWVuZGx5X2lkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIltdXCJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcIm9uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkXCIse3NldDpmdW5jdGlvbihhKXt0aGlzLnJlbW90ZV98fCh0aGlzLnJlbW90ZV89bmV3IHQpO1xyXG50aGlzLnJlbW90ZV8ub25zY3JlZW50b3BvbG9neWNoYW5nZWQ9YTt0aGlzLmxvY2FsX3x8KHRoaXMubG9jYWxfPW5ldyBtKTt0aGlzLmxvY2FsXy5vbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZD1hfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2EucHJvdG90eXBlLmdldFdpbmRvd3NBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFdpbmRvd3NBc3luYygpIGNhbGxlZC5cIik7bnVsbD09dGhpcy5sb2NhbF8mJih0aGlzLmxvY2FsXz1uZXcgbSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9W107YS5sb2NhbF8uZ2V0V2luZG93c0FzeW5jKCkudGhlbihmdW5jdGlvbihjKXtjJiYoZD1jKTtrLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0V2luZG93c0FzeW5jKCkgcmV0dXJuaW5nIHNvdXJjZXNcIik7YihkKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2coXCJTY3JlZW5TaGFyaW5nLmdldFdpbmRvd3NBc3luYygpOiByZWplY3RlZFwiKTtcclxuYihkKX0pfSl9O2EucHJvdG90eXBlLmdldFNjcmVlbnNBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFNjcmVlbnNBc3luYygpIGNhbGxlZC5cIik7bnVsbD09dGhpcy5yZW1vdGVfJiYodGhpcy5yZW1vdGVfPW5ldyB0KTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXt2YXIgZD1bXTthLnJlbW90ZV8uZ2V0U2NyZWVuc0FzeW5jKCkudGhlbihmdW5jdGlvbihjKXtjJiYoZD1jKTtrLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0U2NyZWVuc0FzeW5jKCkgcmV0dXJuaW5nIHNvdXJjZXNcIik7YihkKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2coXCJTY3JlZW5TaGFyaW5nLmdldFNjcmVlbnNBc3luYygpOiByZWplY3RlZFwiKTtiKGQpfSl9KX07YS5wcm90b3R5cGUuc2V0QWN0aXZlU291cmNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztrLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLnNldEFjdGl2ZVNvdXJjZSgpIGNhbGxlZC4gaWQ9XCIrYStcIiBhcHBzaGFyZT1cIitiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXtjLnJlbW90ZV8uY29udGFpbnMoYSk/Yy5yZW1vdGVfLnNldEFjdGl2ZShhKS50aGVuKGZ1bmN0aW9uKGEpe2QoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ay5sb2dnZXIubG9nKFwiU2NyZWVuU2hhcmluZy5zZXRBY3RpdmVTb3VyY2UoKTogcmVqZWN0ZWRcIik7ZSgpfSk6Yj9jLmxvY2FsXy5jb250YWlucyhhKT9jLmxvY2FsXy5zZXRBY3RpdmUoITAsYSkudGhlbihmdW5jdGlvbihhKXtkKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2subG9nZ2VyLmxvZyhcIlNjcmVlblNoYXJpbmcuc2V0QWN0aXZlU291cmNlKCk6IHJlamVjdGVkXCIpO2UoKX0pOihrLmxvZ2dlci5sb2coXCJTY3JlZW5TaGFyaW5nLnNldEFjdGl2ZVNvdXJjZSgpOiBsZWdhY3kgc2NyZWVuIHNoYXJpbmdcIiksZChcIlwiKSk6KGsubG9nZ2VyLmxvZyhcIlNjcmVlblNoYXJpbmcuc2V0QWN0aXZlU291cmNlKCk6IGxlZ2FjeSBzY3JlZW4gc2hhcmluZ1wiKSxcclxuZChcIlwiKSl9KX07YS5wcm90b3R5cGUuaXNBcHBzaGFyZUFjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsXyYmLTEhPT10aGlzLmxvY2FsXy5sYXN0QWN0aXZlfTthLnByb3RvdHlwZS5zdG9wQXBwc2hhcmU9ZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuc3RvcEFwcHNoYXJlKCkgY2FsbGVkLlwiKTt0aGlzLmxvY2FsXyYmdGhpcy5sb2NhbF8uc2V0QWN0aXZlKCExKS50aGVuKGZ1bmN0aW9uKGEpe2subG9nZ2VyLmxvZyhcIlNjcmVlblNoYXJpbmcuc3RvcEFwcHNoYXJlKCk6IHN1Y2Nlc3MsIGRldmljZWlkPVwiLGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2subG9nZ2VyLmxvZyhcIlNjcmVlblNoYXJpbmcuc3RvcEFwcHNoYXJlKCk6IGZhaWx1cmUgb3IgdGltZW91dCBkdWUgdG8gbm9ucmVzcG9uc2l2ZSBXUyBBZ2VudFwiKX0pfTthLmluc3RhbmNlPW51bGw7cmV0dXJuIGF9KCk7YS5TY3JlZW5TaGFyaW5nPWI7dmFyIHQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBjPVxyXG5hLmNhbGwodGhpcyxudWxsLG4uY2xhc3NfaWRfdC5TY3JlZW5TaGFyaW5nUmVtb3RlLDAscS5Qcm94eU1vZGUuTG9jYWwpfHx0aGlzO2subG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jb25zdHJ1Y3RvclwiKTtjLnNvdXJjZXNfPVtdO3JldHVybiBjfXcoYixhKTtiLnByb3RvdHlwZS5nZXRTb3VyY2VCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNvdXJjZXNfLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0SWQoKT09YX0pfTtiLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5nZXRTb3VyY2VCeUlkKGEpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJvbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZF99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMub25zY3JlZW50b3BvbG9neWNoYW5nZWRfPWE7XHJcbnRoaXMud2FpdFVudGlsQ29ubmVjdGVkKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkXCIpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYT1iLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLGIuaXNOdWxsQ2FsbGJhY2soYi5vbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZF8pLG4ubWV0aG9kX2lkX1ZESVNoYXJpbmdSZW1vdGVfdC5vbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZCk7YS50aGVuKGZ1bmN0aW9uKCl7ay5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wib25zY3JlZW50b3BvbG9neWNoYW5nZWQgZXZlbnQgcmVjZWl2ZWQhISFcIik7Yi5vbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZF8mJmIub25zY3JlZW50b3BvbG9neWNoYW5nZWRfKCl9KTtyZXR1cm4gYi5yZW1vdGVJbnZva2UoITAsbi5tZXRob2RfaWRfVkRJU2hhcmluZ1JlbW90ZV90Lm9uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkLGEuc3VjY2Vzcyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcclxuXCIuc2V0X29uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkKCkgZmFpbGVkIVwiKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLmdldFNjcmVlbnNBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFNjcmVlbnNBc3luYygpIGNhbGxlZC5cIik7dmFyIGI9dGhpcy5zb3VyY2VzXzt0aGlzLnNvdXJjZXNfPVtdO3ZhciBjPXAuZ2V0UmVkaXJlY3RvcigpLnZkYWJ1ZmZlck5vTGltaXQoKSYmZy5SZW1vdGVTZXNzaW9uLmlzRmVhdHVyZVZkTm9CdWZmZXJMaW1pdFN1cHBvcnRlZCgpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGcpe2Eud2FpdFVudGlsQ29ubmVjdGVkKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFNjcmVlbnNBc3luY1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1ZESVNoYXJpbmdSZW1vdGVfdC5nZXRTY3JlZW5zQXN5bmMsXHJcbmMpfSkudGhlbihmdW5jdGlvbihjKXt2YXIgaD1bXTtjLnBhcmFtc1swXS5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWIuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5vYmplY3RfaWQoKT09PWMub2lkfSk7dm9pZCAwPT09ZCYmKGsubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIiBjcmVhdGUgYSBTY3JlZW5Tb3VyY2Ugd2l0aCBvaWQ6XCIrYy5vaWQpLGQ9bmV3IHkoYSxjLm9pZCxxLlByb3h5TW9kZS5SZW1vdGUpKTtoLnB1c2goZC5zeW5jQmFycmllcigpKX0pO1Byb21pc2UuYWxsKGgubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJue3ZhbHVlOmEsc3RhdHVzOlwiZnVsZmlsbGVkXCJ9fSxmdW5jdGlvbihhKXtyZXR1cm57dmFsdWU6YSxzdGF0dXM6XCJyZWplY3RlZFwifX0pfSkpLnRoZW4oZnVuY3Rpb24oYyl7dmFyIGc9Yy5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuXCJmdWxmaWxsZWRcIj09PWEuc3RhdHVzfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSk7XHJcbmEuc291cmNlc189ZztiLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hZShnLGEpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZWxlYXNlKCl9KTtkKGcpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihjKXtjPWEubG9nUmVtb3RlSW52b2tlRXJyb3IoYyxcIi5nZXRTY3JlZW5zQXN5bmMoKSBmYWlsZWQhXCIpO2IuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlbGVhc2UoKX0pO2coYyl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYyl7Yz1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGMsXCIuZ2V0U2NyZWVuc0FzeW5jKCkgZmFpbGVkIVwiKTtiLmZvckVhY2goZnVuY3Rpb24oYSl7YS5yZWxlYXNlKCl9KTtnKGMpfSl9KX07Yi5wcm90b3R5cGUuc2V0QWN0aXZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldEFjdGl2ZSgpIGNhbGxlZC4gdW5pcXVlaWQ9XCIrYSk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZCl7LTEhPWE/XHJcbmMoYi5nZXRTb3VyY2VCeUlkKGEpLmdldERldmljZUlkKCkpOmQoKX0pfTtyZXR1cm4gYn0ocS5Qcm94eU9iamVjdCk7YS5TY3JlZW5TaGFyaW5nUmVtb3RlPXQ7dmFyIG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmNvbnN0cnVjdG9yXCIpO3RoaXMuc291cmNlc189W107dGhpcy5sYXN0YWN0aXZlXz0tMX1hLnByb3RvdHlwZS51c2VyX2ZyaWVuZGx5X2lkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIltdXCJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcIm9uc2NyZWVudG9wb2xvZ3ljaGFuZ2VkXCIse3NldDpmdW5jdGlvbihhKXtwLmdldFJlZGlyZWN0b3IoKS5zY3JlZW5zaGFyZS5zZXRUb3BvbG9neUNoYW5nZUNCKGEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcImxhc3RBY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdGFjdGl2ZV99LFxyXG5lbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2EucHJvdG90eXBlLmdldFNvdXJjZUJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlc18uZmluZChmdW5jdGlvbihiKXtyZXR1cm4gYi5nZXRJZCgpPT1hfSl9O2EucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDAhPT10aGlzLmdldFNvdXJjZUJ5SWQoYSl9O2EucHJvdG90eXBlLmdldFdpbmRvd3NBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFdpbmRvd3NBc3luYygpIGNhbGxlZC5cIik7dmFyIGI9dGhpcy5zb3VyY2VzXzt0aGlzLnNvdXJjZXNfPVtdO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGQpe3AuZ2V0UmVkaXJlY3RvcigpLnNjcmVlbnNoYXJlLmdldFNvdXJjZXMobmV3IHouZ2V0U291cmNlc1JlcURhdGEoMikpLnRoZW4oZnVuY3Rpb24oZCl7ZD1kLm1hcChmdW5jdGlvbihjKXt2YXIgZD1cclxuYi5maW5kKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVxdWl2YWxlbnQoYyl9KTtyZXR1cm4gdm9pZCAwIT09ZD8oZC5zZXREZXNjcmlwdGlvbihjLmdldERlc2NyaXB0aW9uKCkpLGMuZ2V0SWNvbigpLnRoZW4oZnVuY3Rpb24oYSl7ZC5zZXRJY29uKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2subG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRXaW5kb3dzQXN5bmMoKSBmYWlsZWQgdG8gcmV0cmlldmUgbmV3IGljb24uXCIpfSksYy5nZXRQcmV2aWV3QXN5bmMoKS50aGVuKGZ1bmN0aW9uKGEpe2Quc2V0UHJldmlldyhhKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0V2luZG93c0FzeW5jKCkgZmFpbGVkIHRvIHJldHJpZXZlIG5ldyBwcmV2aWV3LlwiKX0pLGQpOmN9KTtpZigtMSE9YS5sYXN0YWN0aXZlXyl7dmFyIGU9Yi5maW5kKGZ1bmN0aW9uKGIpe3JldHVybiBiLmdldElkKCk9PWEubGFzdGFjdGl2ZV99KSxcclxuZz1kLmZpbmQoZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0SWQoKT09YS5sYXN0YWN0aXZlX30pO3ZvaWQgMCE9PWUmJnZvaWQgMD09PWcmJmQucHVzaChlKX1hLnNvdXJjZXNfPWQ7YyhhLnNvdXJjZXNfKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0V2luZG93c0FzeW5jKCk6IHJlamVjdGVkXCIpO2QoKX0pfSl9O2EucHJvdG90eXBlLmFjdGl2YXRlU291cmNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXt2YXIgZz1iP1wiYWN0aXZhdGVcIjpcImRlYWN0aXZhdGVcIjtrLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuYWN0aXZhdGVTb3VyY2UoKSBjYWxsZWQuIGFjdGlvbj1cIitnKTt2YXIgaD1uZXcgei5zZXRBY3RpdmVSZXFEYXRhKGEuc3JjaWQsYS5od25kLGEub3JpZ2luLGEucGlkLCEwLCEwLGIpO3AuZ2V0UmVkaXJlY3RvcigpLnNjcmVlbnNoYXJlLnNldEFjdGl2ZShoKS50aGVuKGZ1bmN0aW9uKGIpe2subG9nZ2VyLmxvZyhjLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCI6IFwiK2crXCIgc3VjY2Vzczogc3JjaWQ9XCIrYi5zcmNpZCtcIiBkZXZpY2VpZD1cIitiLmJ1ZmZlcmlkKTthLmRldmljZWlkPWIuYnVmZmVyaWQ7ZChiLmJ1ZmZlcmlkKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtrLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCJmYWlsZWQgdG8gXCIrZytcIjogc3JjaWQ9XCIrYS5zcmNpZCtcIiwgbWF5YmUgV1MgQWdlbnQgaXMgdG9vIHNsb3cgdG8gcmVzcG9uZFwiKTtlKCl9KX0pfTthLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2subG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRBY3RpdmUoKSBjYWxsZWQuIHVuaXF1ZWlkPVwiK2IpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGUpe2F8fChiPWMubGFzdGFjdGl2ZV8pOy0xIT1iPyhhPyhiIT1jLmxhc3RhY3RpdmVfJiYtMSE9Yy5sYXN0YWN0aXZlXyYmYy5hY3RpdmF0ZVNvdXJjZShjLmdldFNvdXJjZUJ5SWQoYy5sYXN0YWN0aXZlXyksXHJcbiExKSxjLmxhc3RhY3RpdmVfPWIpOmMubGFzdGFjdGl2ZV89LTEsYy5hY3RpdmF0ZVNvdXJjZShjLmdldFNvdXJjZUJ5SWQoYiksYSkudGhlbihmdW5jdGlvbihiKXtkKGE/XCJSZW1vdGVBcHBsaWNhdGlvbi1cIitiOmIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe2UoKX0pKTplKCl9KX07cmV0dXJuIGF9KCk7YS5TY3JlZW5TaGFyaW5nVmRhPW07dmFyIEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuV2lkdGg9MTQwO2EuSGVpZ2h0PTkwO3JldHVybiBhfSgpO2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxkLGUsZyxoLGssbSxuLGwpe3RoaXMudW5pcXVlaWRfPXkubmV4dElkXysrO3RoaXMuc3JjaWRfPWI7dGhpcy5kZXZpY2VpZF89Yzt0aGlzLnR5cGVfPWQ7dGhpcy5pbWFnZWRhdGFfPWU7dGhpcy5pY29uXz1nO3RoaXMubmFtZV89aDt0aGlzLmh3bmRfPWs7dGhpcy5vcmlnaW5fPW07dGhpcy5jYXB0aW9uXz1uO3RoaXMucGlkXz1sfWEucHJvdG90eXBlLnVzZXJfZnJpZW5kbHlfaWQ9XHJcbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIltcIit0aGlzLnVuaXF1ZWlkXytcIl1cIn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwic3JjaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3JjaWRffSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxcImh3bmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHduZF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwib3JpZ2luXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbl99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwicGlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpZF99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7YS5wcm90b3R5cGUuZ2V0SWQ9XHJcbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pcXVlaWRffTthLnByb3RvdHlwZS5nZXREZXZpY2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRldmljZWlkX307T2JqZWN0LmRlZmluZVByb3BlcnR5KGEucHJvdG90eXBlLFwiZGV2aWNlaWRcIix7c2V0OmZ1bmN0aW9uKGEpe3RoaXMuZGV2aWNlaWRfPWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7YS5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiAyfTthLnByb3RvdHlwZS5nZXRQcmV2aWV3PWZ1bmN0aW9uKGEsYixjKXtrLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UHJldmlldygpIGNhbGxlZCwgd2lkdGg6XCIrYStcIiBoZWlnaHQ6XCIrYitcIiBhc0ltYWdlOlwiK2MpO3JldHVybiBQcm9taXNlLnJlamVjdChudWxsKX07YS5wcm90b3R5cGUuc2V0UHJldmlldz1mdW5jdGlvbihhKXt0aGlzLmltYWdlZGF0YV89YX07YS5wcm90b3R5cGUuZ2V0UHJldmlld0FzeW5jPWZ1bmN0aW9uKGEsXHJcbmIsYyl7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFByZXZpZXdBc3luYygpIGNhbGxlZCwgd2lkdGg6XCIrYStcIiBoZWlnaHQ6XCIrYik7cmV0dXJuITA9PT1jPyhhPWgodGhpcy5pbWFnZWRhdGFfLEQuV2lkdGgsRC5IZWlnaHQpLFByb21pc2UucmVzb2x2ZSh7ZGF0YTphLnNyYy5yZXBsYWNlKC9eZGF0YTppbWFnZVxcLyhwbmd8anBnKTtiYXNlNjQsLyxcIlwiKX0pKTpQcm9taXNlLnJlc29sdmUodGhpcy5pbWFnZWRhdGFfKX07YS5wcm90b3R5cGUuZ2V0UHJldmlld0ltYWdlPWZ1bmN0aW9uKGEsYixjKXtrLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0UHJldmlld0ltYWdlKCkgY2FsbGVkLCB3aWR0aDpcIitiK1wiIGhlaWdodDpcIitjKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGQodGhpcy5pbWFnZWRhdGFfLGEsYixjKSl9O2EucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZV99O2EucHJvdG90eXBlLnNldERlc2NyaXB0aW9uPVxyXG5mdW5jdGlvbihhKXt0aGlzLm5hbWVfPWF9O2EucHJvdG90eXBlLmdldEljb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiEwPT09Yz8oYT1oKHRoaXMuaWNvbl8sRC5XaWR0aCxELkhlaWdodCksUHJvbWlzZS5yZXNvbHZlKHtkYXRhOmEuc3JjLnJlcGxhY2UoL15kYXRhOmltYWdlXFwvKHBuZ3xqcGcpO2Jhc2U2NCwvLFwiXCIpfSkpOlByb21pc2UucmVzb2x2ZSh0aGlzLmljb25fKX07YS5wcm90b3R5cGUuZ2V0SWNvbkltYWdlPWZ1bmN0aW9uKGEsYixjKXtrLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0SWNvbkltYWdlKCkgY2FsbGVkLCB3aWR0aDpcIitiK1wiIGhlaWdodDpcIitjKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGQodGhpcy5pY29uXyxhLFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYj9iOnRoaXMuaWNvbl8ud2lkdGgsXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjP2M6dGhpcy5pY29uXy5oZWlnaHQpKX07YS5wcm90b3R5cGUuc2V0SWNvbj1mdW5jdGlvbihhKXt0aGlzLmljb25fPVxyXG5hfTthLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm57eDowLHk6MCx3aWR0aDowLGhlaWdodDowfX07YS5wcm90b3R5cGUuZXF1aXZhbGVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5waWRfPT09YS5waWRfJiZ0aGlzLmh3bmRfPT09YS5od25kX307cmV0dXJuIGF9KCk7YS5TY3JlZW5Tb3VyY2VWZGE9Yjt2YXIgeT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGMsZCxlKXtjPWEuY2FsbCh0aGlzLGMsbi5jbGFzc19pZF90LlNjcmVlblNvdXJjZSxkLGUpfHx0aGlzO2Muc2NyZWVuc2hhcmVfPW5ldyB6LlNjcmVlblNoYXJlVXRpbDtjLnVuaXF1ZWlkXz1iLm5leHRJZF8rKztrLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuY29uc3RydWN0b3JcIik7cmV0dXJuIGN9dyhiLGEpO2IucHJvdG90eXBlLnVzZXJfZnJpZW5kbHlfaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiW1wiK3RoaXMudW5pcXVlaWRfK1wiXVwifTtiLnByb3RvdHlwZS50b0pTSW1hZ2VEYXRhPVxyXG5mdW5jdGlvbihhKXt2YXIgYj1hdG9iKGEuZGF0YS50b1N0cmluZygpKSxiPXRoaXMuc2NyZWVuc2hhcmVfLnN0cjJhYihiKSxiPW5ldyBVaW50OENsYW1wZWRBcnJheShiLDAsYi5ieXRlTGVuZ3RoKTt0aGlzLmltYWdlZGF0YV89bmV3IEltYWdlRGF0YShiLGEud2lkdGgsYS5oZWlnaHQpfTtiLnByb3RvdHlwZS5zeW5jQmFycmllcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyKCkgY2FsbGVkLlwiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixjKXthLnN5bmNCYXJyaWVyRGVlcChiLGMpJiZhLndhaXRVbnRpbENvbm5lY3RlZChhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zeW5jQmFycmllclwiKS50aGVuKGZ1bmN0aW9uKCl7UHJvbWlzZS5hbGwoW2EucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90LnNyY2lkLDApLGEucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90LmRldmljZWlkLFxyXG5cIlwiKSxhLnJlbW90ZUludm9rZSghMSxuLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdC50eXBlLDApLGEucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90Lm5hbWUsXCJcIiksYS5yZW1vdGVJbnZva2UoITEsbi5tZXRob2RfaWRfU2NyZWVuU291cmNlX3QuaW1hZ2VkYXRhKSxhLnJlbW90ZUludm9rZSghMSxuLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdC5od25kLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90Lm9yaWdpbiwwKSxhLnJlbW90ZUludm9rZSghMSxuLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdC5jYXB0aW9uLFwiXCIpLGEucmVtb3RlSW52b2tlKCExLG4ubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90LnBpZCwwKV0pLnRoZW4oZnVuY3Rpb24oYil7ay5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLnN5bmNCYXJyaWVyKCk6IHN1Y2Nlc3MuXCIpO3ZhciBjO2I9Yi5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEucGFyYW0wKGIpfSk7XHJcbmEuc3JjaWRfPWJbMF07YS5kZXZpY2VpZF89YlsxXTthLnR5cGVfPWJbMl07YS5uYW1lXz1iWzNdO2M9Yls0XTthLmh3bmRfPWJbNV07YS5vcmlnaW5fPWJbNl07YS5jYXB0aW9uXz1iWzddO2EucGlkXz1iWzhdO2EudG9KU0ltYWdlRGF0YShjKTthLnJlbW90ZUludm9rZSghMSxuLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdC5ib3VuZHMsMCkudGhlbihmdW5jdGlvbihiKXthLmJvdW5kc189YS5wYXJhbTAoYik7YS5zeW5jQmFycmllclJlc29sdmUoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGIpe2EuYm91bmRzXz12b2lkIDA7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIucHJvcC5zeW5jQmFycmllcigpIGdldEJvdW5kcyBmYWlsZWQuXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYil7Yj1hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIucHJvcC5zeW5jQmFycmllcigpIGZhaWxlZC5cIik7YS5zeW5jQmFycmllclJlamVjdChiKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXtiPVxyXG5hLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuc3luY0JhcnJpZXIoKSBmYWlsZWQuXCIpO2Euc3luY0JhcnJpZXJSZWplY3QoYil9KX0pfTtiLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaXF1ZWlkX307Yi5wcm90b3R5cGUuZ2V0RGV2aWNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXZpY2VpZF99O2IucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gMX07Yi5wcm90b3R5cGUuZ2V0UHJldmlldz1mdW5jdGlvbihhLGIsYyl7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFByZXZpZXcoKSBjYWxsZWQsIHdpZHRoOlwiK2ErXCIgaGVpZ2h0OlwiK2IrXCIgYXNJbWFnZTpcIitjKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QobnVsbCl9O2IucHJvdG90eXBlLmdldFByZXZpZXdBc3luYz1mdW5jdGlvbihhLGIsYyl7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFByZXZpZXdBc3luYygpIGNhbGxlZCwgd2lkdGg6XCIrXHJcbmErXCIgaGVpZ2h0OlwiK2IpO3JldHVybiEwPT09Yz8oYT1oKHRoaXMuaW1hZ2VkYXRhXyxELldpZHRoLEQuSGVpZ2h0KSxQcm9taXNlLnJlc29sdmUoe2RhdGE6YS5zcmMucmVwbGFjZSgvXmRhdGE6aW1hZ2VcXC8ocG5nfGpwZyk7YmFzZTY0LC8sXCJcIil9KSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuaW1hZ2VkYXRhXyl9O2IucHJvdG90eXBlLmdldFByZXZpZXdJbWFnZT1mdW5jdGlvbihhLGIsYyl7ay5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldFByZXZpZXdJbWFnZSgpIGNhbGxlZCwgd2lkdGg6XCIrYitcIiBoZWlnaHQ6XCIrYyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShkKHRoaXMuaW1hZ2VkYXRhXyxhLGIsYykpfTtiLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWVffTtiLnByb3RvdHlwZS5nZXRJY29uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmltYWdlZGF0YV8pfTtiLnByb3RvdHlwZS5nZXRCb3VuZHM9XHJcbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRzX3x8e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH19O2IubmV4dElkXz1CLk1vbml0b3JzQW5kQXBwcztyZXR1cm4gYn0ocS5Qcm94eU9iamVjdCk7YS5TY3JlZW5Tb3VyY2U9eX0sNjkxOmZ1bmN0aW9uKGIsYSxjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLlNjcmVlblNoYXJlVXRpbD1hLkJpdG1hcD1hLkJpdG1hcEluZm9IZWFkZXI9YS5CaXRtYXBGaWxlSGVhZGVyPWEuc2V0QWN0aXZlUmVzcERhdGE9YS5zZXRBY3RpdmVSZXFEYXRhPWEuZ2V0U291cmNlc1JlcURhdGE9YS5zc2hhcmVfc3RhdGU9YS5zc2hhcmVfY21kPXZvaWQgMDt2YXIgZT1jKDk0NiksbD1jKDk3MyksaD1jKDg1MSksZDsoZnVuY3Rpb24oYSl7YVthLlVua25vd249MF09XCJVbmtub3duXCI7YVthLkNhcD0xXT1cIkNhcFwiO2FbYS5HZXRTb3VyY2VzPTJdPVwiR2V0U291cmNlc1wiO2FbYS5TZXRBY3RpdmU9M109XCJTZXRBY3RpdmVcIjtcclxuYVthLlRvcG9sb2d5Q2hhbmdlZD00XT1cIlRvcG9sb2d5Q2hhbmdlZFwifSkoZD1hLnNzaGFyZV9jbWR8fChhLnNzaGFyZV9jbWQ9e30pKTt2YXIgdzsoZnVuY3Rpb24oYSl7YVthLlVua25vd249MF09XCJVbmtub3duXCI7YVthLkluaXRpYWxpemVkPTFdPVwiSW5pdGlhbGl6ZWRcIjthW2EuRXJyb3I9Ml09XCJFcnJvclwifSkodz1hLnNzaGFyZV9zdGF0ZXx8KGEuc3NoYXJlX3N0YXRlPXt9KSk7Yj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXt0aGlzLm9yaWdpbj1hfX0oKTthLmdldFNvdXJjZXNSZXFEYXRhPWI7Yj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyxkLGUsaCxrKXt0aGlzLnNyY2lkPWE7dGhpcy5od25kPWI7dGhpcy5vcmlnaW49Yzt0aGlzLnBpZD1kO3RoaXMuYm9yZGVyPWU7dGhpcy5jdXJzb3I9aDt0aGlzLmFjdGl2YXRlPWt9fSgpO2Euc2V0QWN0aXZlUmVxRGF0YT1iO3ZhciBxPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXt0aGlzLnNyY2lkPVxyXG5hO3RoaXMub3JpZ2luPWI7dGhpcy5idWZmZXJpZD1jfX0oKTthLnNldEFjdGl2ZVJlc3BEYXRhPXE7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxkLGUsZyl7dGhpcy5pZF89Yjt0aGlzLnJlc29sdmVfPWM7dGhpcy5yZWplY3RfPWQ7dGhpcy5jbWRfPWU7dGhpcy5kYXRhXz1nO3RoaXMuc2VudF89ITE7dGhpcy50aW1lb3V0SWQ9dm9pZCAwfWEucHJvdG90eXBlLnVzZXJfZnJpZW5kbHlfaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiW1wiK3RoaXMuaWRfK1wiXVwifTthLnByb3RvdHlwZS5jbWRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbWRfPT1kLkNhcD9cIkNhcFwiOnRoaXMuY21kXz09ZC5HZXRTb3VyY2VzP1wiR2V0U291cmNlc1wiOnRoaXMuY21kXz09ZC5TZXRBY3RpdmU/XCJTZXRBY3RpdmVcIjpcIlVua25vd25cIn07cmV0dXJuIGF9KCksaz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCk7YS5CaXRtYXBGaWxlSGVhZGVyPWs7XHJcbnZhciBwPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX0oKTthLkJpdG1hcEluZm9IZWFkZXI9cDt2YXIgej1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCk7YS5CaXRtYXA9ejtiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMuY21kcXVlXz1bXX1hLnByb3RvdHlwZS5yZXFpZD1mdW5jdGlvbigpe3JldHVybiBhLm5leHRJZCsrfTthLnByb3RvdHlwZS51c2VyX2ZyaWVuZGx5X2lkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIltdXCJ9O2EucHJvdG90eXBlLnN0YXRlU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGEuc3RhdGVfPT13LkluaXRpYWxpemVkP1wiSW5pdGlhbGl6ZWRcIjphLnN0YXRlXz09dy5FcnJvcj9cIkVycm9yXCI6XCJVbmtub3duXCJ9O2EucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7YS5zdGF0ZV89dy5Vbmtub3duO3RoaXMuY21kcXVlXz1bXX07YS5wcm90b3R5cGUuZGlzcGF0Y2hDbWRzPWZ1bmN0aW9uKCl7dmFyIGI9XHJcbnRoaXM7YS5zdGF0ZV89PXcuSW5pdGlhbGl6ZWQ/dGhpcy5jbWRxdWVfLmZvckVhY2goZnVuY3Rpb24oYSl7MD09YS5zZW50XyYmKGEuY21kXz09ZC5HZXRTb3VyY2VzPyhiLldTU2VuZEdldFNvdXJjZXMoYS5pZF8sYS5kYXRhXyksYS5zZW50Xz0hMCxhLnRpbWVvdXRJZD1zZXRUaW1lb3V0KGIuYWJvcnRDbWQuYmluZChiLGEuaWRfKSw1RTMpKTphLmNtZF89PWQuU2V0QWN0aXZlPyhiLldTU2VuZFNldEFjdGl2ZShhLmlkXyxhLmRhdGFfKSxhLnNlbnRfPSEwLGEudGltZW91dElkPXNldFRpbWVvdXQoYi5hYm9ydENtZC5iaW5kKGIsYS5pZF8pLDVFMykpOmgubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kaXNwYXRjaENtZHMoKTogaW52YWxpZCBjbWQ6IFwiK2EuY21kU3RyaW5nKCkpKX0pOmEuc3RhdGVfPT13LkVycm9yPyh0aGlzLmNtZHF1ZV8uZm9yRWFjaChmdW5jdGlvbihhKXtoLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZGlzcGF0Y2hDbWRzKCk6IHB1cmdpbmcgY21kOiBcIitcclxuYS5jbWRTdHJpbmcoKSk7YS5yZWplY3RfKCl9KSx0aGlzLmNtZHF1ZV89W10pOmgubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kaXNwYXRjaENtZHMoKTogaW52YWxpZCBzdGF0ZTogXCIrdGhpcy5zdGF0ZVN0cmluZygpKX07YS5wcm90b3R5cGUuYWJvcnRDbWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbWRxdWVfLmZpbmRJbmRleChmdW5jdGlvbihiKXtyZXR1cm4gYi5pZF89PT1hfSk7LTEhPT1iPyhiPXRoaXMuY21kcXVlXy5zcGxpY2UoYiwxKVswXSxoLmxvZ2dlci5sb2coYi51c2VyX2ZyaWVuZGx5X2lkKCkrTmFOK2IuY21kU3RyaW5nKCkrXCJdOiBhYm9ydGVkIGR1ZSB0byBub25yZXNwb25zaXZlIFdTIEFnZW50IVwiKSxiLmNtZF89PT1kLlNldEFjdGl2ZSYmYi5kYXRhXy5hY3RpdmF0ZSYmbC5TY3JlZW5TaGFyaW5nLnNjcmVlblNoYXJpbmdJbnN0YW5jZSgpLnN0b3BBcHBzaGFyZSgpLGIucmVqZWN0XygpKTpoLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXHJcblwiLmFib3J0Q21kKCk6IENtZCBub3QgZm91bmQhXCIpfTthLnByb3RvdHlwZS5maW5hbGl6ZUNtZD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7ZDx0aGlzLmNtZHF1ZV8ubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5jbWRxdWVfW2RdO2lmKHZvaWQgMCE9YiYmYj09ZS5pZF8mJjE9PWUuc2VudF98fHZvaWQgMD09YiYmMT09ZS5zZW50Xyl7Y2xlYXJUaW1lb3V0KGUudGltZW91dElkKTtoLmxvZ2dlci5sb2coZS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZmluYWxpemVDbWQoKTogcHVyZ2luZyBjbWQ6IFwiK2UuY21kU3RyaW5nKCkpO2E/dm9pZCAwIT1jP2UucmVzb2x2ZV8oYyk6ZS5yZXNvbHZlXygpOmUucmVqZWN0XygpO3RoaXMuY21kcXVlXy5zcGxpY2UoZCwxKTticmVha319fTthLnByb3RvdHlwZS5vbkluaXRpYWxpemVkPWZ1bmN0aW9uKGIpe2gubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbkluaXRpYWxpemVkKCk6IGluaXQ6IFwiK2IrXCIgc3RhdGU6XCIrdGhpcy5zdGF0ZVN0cmluZygpKTtcclxuYS5zdGF0ZV8hPXcuSW5pdGlhbGl6ZWQmJihhLnN0YXRlXz1iP3cuSW5pdGlhbGl6ZWQ6dy5FcnJvcik7dGhpcy5kaXNwYXRjaENtZHMoKX07YS5wcm90b3R5cGUub25Jbml0Q29tcGxldGU9ZnVuY3Rpb24oKXtoLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25Jbml0Q29tcGxldGUoKTogc3RhdGU6XCIrdGhpcy5zdGF0ZVN0cmluZygpKTthLnN0YXRlXz09dy5Vbmtub3duJiYoYS5zdGF0ZV89dy5FcnJvcixoLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub25Jbml0Q29tcGxldGUoKTogaXRlbXMgaW4gcXVldWU6XCIrdGhpcy5jbWRxdWVfLmxlbmd0aCksdGhpcy5kaXNwYXRjaENtZHMoKSl9O2EucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oYil7aC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9uRXJyb3IoKTogc3RhdGU6IFwiK3RoaXMuc3RhdGVTdHJpbmcoKSk7YS5zdGF0ZV89PXcuVW5rbm93bj8oYS5zdGF0ZV89XHJcbncuRXJyb3IsdGhpcy5kaXNwYXRjaENtZHMoKSk6YS5zdGF0ZV89PXcuSW5pdGlhbGl6ZWQmJnRoaXMuZmluYWxpemVDbWQoITEsYil9O2EucHJvdG90eXBlLmFiMnN0cj1mdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKX07YS5wcm90b3R5cGUuc3RyMmFiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgQXJyYXlCdWZmZXIoYS5sZW5ndGgpLGM9bmV3IFVpbnQ4QXJyYXkoYiksZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyljW2RdPWEuY2hhckNvZGVBdChkKTtyZXR1cm4gYn07YS5wcm90b3R5cGUuZ2V0Qk1QPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBEYXRhVmlldyhhKSxjPW5ldyB6O2MuZmlsZWhlYWRlcj1uZXcgaztjLmZpbGVoZWFkZXIuYmZUeXBlPWIuZ2V0VWludDE2KDAsITApO2MuZmlsZWhlYWRlci5iZlNpemU9Yi5nZXRVaW50MzIoMiwhMCk7Yy5maWxlaGVhZGVyLmJmUmVzZXJ2ZWQxPWIuZ2V0VWludDE2KDYsXHJcbiEwKTtjLmZpbGVoZWFkZXIuYmZSZXNlcnZlZDI9Yi5nZXRVaW50MTYoOCwhMCk7Yy5maWxlaGVhZGVyLmJmT2ZmQml0cz1iLmdldFVpbnQzMigxMCwhMCk7Yy5pbmZvaGVhZGVyPW5ldyBwO2MuaW5mb2hlYWRlci5iaVNpemU9Yi5nZXRVaW50MzIoMTQsITApO2MuaW5mb2hlYWRlci5iaVdpZHRoPWIuZ2V0VWludDMyKDE4LCEwKTtjLmluZm9oZWFkZXIuYmlIZWlnaHQ9Yi5nZXRVaW50MzIoMjIsITApO2MuaW5mb2hlYWRlci5iaVBsYW5lcz1iLmdldFVpbnQxNigyNiwhMCk7Yy5pbmZvaGVhZGVyLmJpQml0Q291bnQ9Yi5nZXRVaW50MTYoMjgsITApO2MuaW5mb2hlYWRlci5iaUNvbXByZXNzaW9uPWIuZ2V0VWludDMyKDMwLCEwKTtjLmluZm9oZWFkZXIuYmlTaXplSW1hZ2U9Yi5nZXRVaW50MzIoMzQsITApO2MuaW5mb2hlYWRlci5iaVhQZWxzUGVyTWV0ZXI9Yi5nZXRVaW50MzIoMzgsITApO2MuaW5mb2hlYWRlci5iaVlQZWxzUGVyTWV0ZXI9Yi5nZXRVaW50MzIoNDIsITApO2MuaW5mb2hlYWRlci5iaUNsclVzZWQ9XHJcbmIuZ2V0VWludDMyKDQ2LCEwKTtjLmluZm9oZWFkZXIuYmlDbHJJbXBvcnRhbnQ9Yi5nZXRVaW50MzIoNTAsITApO2I9Yy5maWxlaGVhZGVyLmJmT2ZmQml0cztjLnN0cmlkZT00Kk1hdGguZmxvb3IoKGMuaW5mb2hlYWRlci5iaUJpdENvdW50KmMuaW5mb2hlYWRlci5iaVdpZHRoKzMxKS8zMik7Yy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkoYSxiKTtyZXR1cm4gY307YS5wcm90b3R5cGUuY29udmVydFRvSW1hZ2VEYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpLGM9YS5pbmZvaGVhZGVyLmJpV2lkdGgsZD1hLmluZm9oZWFkZXIuYmlIZWlnaHQsYj1iLmNyZWF0ZUltYWdlRGF0YShjLGQpLGU9Yi5kYXRhLGc9YS5waXhlbHM7YT1hLnN0cmlkZTtmb3IodmFyIGg9MDtoPGQ7KytoKWZvcih2YXIgaz0wO2s8YzsrK2spe3ZhciBsPTQqKGsrYyooZC1oKSksbj00KmsrYSpoO2VbbF09Z1tuKzJdO2VbbCsxXT1nW24rXHJcbjFdO2VbbCsyXT1nW25dO2VbbCszXT0yNTV9cmV0dXJuIGJ9O2EucHJvdG90eXBlLm9uR2V0U291cmNlcz1mdW5jdGlvbihhLGIpe3RoaXMuc291cmNlc189W107dmFyIGM9dGhpcztiLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLmltYWdlLGQ9YXRvYihiLmRhdGEpLGQ9Yy5zdHIyYWIoZCksZD1uZXcgVWludDhDbGFtcGVkQXJyYXkoZCwwLGQuYnl0ZUxlbmd0aCksYj1uZXcgSW1hZ2VEYXRhKGQsYi53aWR0aCxiLmhlaWdodCksZD1hLmljb24sZT1hdG9iKGQuZGF0YSksZT1jLnN0cjJhYihlKSxlPW5ldyBVaW50OENsYW1wZWRBcnJheShlLDAsZS5ieXRlTGVuZ3RoKSxkPW5ldyBJbWFnZURhdGEoZSxkLndpZHRoLGQuaGVpZ2h0KTthPW5ldyBsLlNjcmVlblNvdXJjZVZkYShhLnNyY2lkLGEuZGV2aWNkaWQsYS50eXBlLGIsZCxhLm5hbWUsYS5od25kLGEub3JpZ2luLGEuY2FwdGlvbixhLnBpZCk7Yy5zb3VyY2VzXy5wdXNoKGEpfSk7dGhpcy5maW5hbGl6ZUNtZCghMCxcclxuYSx0aGlzLnNvdXJjZXNfKX07YS5wcm90b3R5cGUuZ2V0U291cmNlcz1mdW5jdGlvbihiKXt2YXIgYz10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLGgpe2lmKGEuc3RhdGVfIT13LkVycm9yKXt2YXIgaz1uZXcgbihjLnJlcWlkKCksZSxoLGQuR2V0U291cmNlcyxiKTtjLmNtZHF1ZV8ucHVzaChrKX1lbHNlIGgoKTthLnN0YXRlXz09dy5Jbml0aWFsaXplZCYmYy5kaXNwYXRjaENtZHMoKX0pfTthLnByb3RvdHlwZS5vblNldEFjdGl2ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBxKGIuc3JjaWQsYi5vcmlnaW4sYi5idWZmZXJpZCk7dGhpcy5maW5hbGl6ZUNtZCghMCxhLGMpfTthLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxoKXtpZihhLnN0YXRlXyE9dy5FcnJvcil7dmFyIGs9bmV3IG4oYy5yZXFpZCgpLGUsaCxkLlNldEFjdGl2ZSxiKTtjLmNtZHF1ZV8ucHVzaChrKX1lbHNlIGgoKTtcclxuYS5zdGF0ZV89PXcuSW5pdGlhbGl6ZWQmJmMuZGlzcGF0Y2hDbWRzKCl9KX07YS5wcm90b3R5cGUuc2V0VG9wb2xvZ3lDaGFuZ2VDQj1mdW5jdGlvbihhKXt0aGlzLm9ud2luZG93dG9wb2xvZ3ljaGFuZ2VkXz1hfTthLnByb3RvdHlwZS5vblRvcGxvZ3lDaGFuZ2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5vbndpbmRvd3RvcG9sb2d5Y2hhbmdlZF8pdGhpcy5vbndpbmRvd3RvcG9sb2d5Y2hhbmdlZF8oKX07YS5wcm90b3R5cGUuV1NTZW5kR2V0U291cmNlcz1mdW5jdGlvbihhLGIpe3RyeXtlLmdldFJlZGlyZWN0b3IoKS5XU1NlbmRPYmplY3Qoe3Y6XCJhcHBzaGFyaW5nXCIsaGRyOntjb21tYW5kOmQuR2V0U291cmNlcyxpZDphfSxkYXRhOntvcmlnaW46Yi5vcmlnaW59fSl9Y2F0Y2goYyl7aC5sb2dnZXIubG9nKGMpfX07YS5wcm90b3R5cGUuV1NTZW5kU2V0QWN0aXZlPWZ1bmN0aW9uKGEsYil7dHJ5e2UuZ2V0UmVkaXJlY3RvcigpLldTU2VuZE9iamVjdCh7djpcImFwcHNoYXJpbmdcIixoZHI6e2NvbW1hbmQ6ZC5TZXRBY3RpdmUsXHJcbmlkOmF9LGRhdGE6e3NyY2lkOmIuc3JjaWQsaHduZDpiLmh3bmQsb3JpZ2luOmIub3JpZ2luLHBpZDpiLnBpZCxib3JkZXI6Yi5ib3JkZXIsY3Vyc29yOmIuY3Vyc29yLGFjdGl2YXRlOmIuYWN0aXZhdGV9fSl9Y2F0Y2goYyl7aC5sb2dnZXIubG9nKGMpfX07YS5zdGF0ZV89dy5Vbmtub3duO2EubmV4dElkPTA7cmV0dXJuIGF9KCk7YS5TY3JlZW5TaGFyZVV0aWw9Yn0sNTE3OmZ1bmN0aW9uKGIsYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5TdGF0cz1hLlN0YXRzUmVwb3J0PXZvaWQgMDt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLml0ZW1zPVtdfWEuZnJvbUpTT049ZnVuY3Rpb24oYil7Zm9yKHZhciBjPW5ldyBhLGw9MDtsPGIubGVuZ3RoO2wrKyl7dmFyIHE9ZS5mcm9tSlNPTihiW2xdKTtjLml0ZW1zLnB1c2gocSl9cmV0dXJuIGN9O2EudG9SVENTdGF0c1JlcG9ydD1mdW5jdGlvbihhKXtyZXR1cm4gYX07YS5wcm90b3R5cGUudG9KU09OPVxyXG5mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLml0ZW1zKX07YS5wcm90b3R5cGUucmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXN9O3JldHVybiBhfSgpO2EuU3RhdHNSZXBvcnQ9Yzt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLm5hbWVzXz1bXTt0aGlzLnN0YXRfPW5ldyBNYXA7dGhpcy5pZD1cIlwiO3RoaXMudGltZXN0YW1wPTA7dGhpcy50eXBlPVwiXCJ9YS5mcm9tSlNPTj1mdW5jdGlvbihiKXt2YXIgYz1uZXcgYTtjLmlkPWIuaWR8fFwiXCI7Yy50aW1lc3RhbXA9Yi50aW1lc3RhbXB8fFwiXCI7Yy50eXBlPWIudHlwZXx8XCJcIjtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe1wiaWRcIiE9PWEmJlwidGltZXN0YW1wXCIhPT1hJiZcInR5cGVcIiE9PWEmJihjLm5hbWVzXy5wdXNoKGEpLGMuc3RhdF8uc2V0KGEsYlthXSkpfSk7cmV0dXJuIGN9O2EucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7aWQ6dGhpcy5pZCxcclxudGltZXN0YW1wOnRoaXMudGltZXN0YW1wLHR5cGU6dGhpcy50eXBlLHN0YXQ6dGhpcy5zdGF0X30pfTthLnByb3RvdHlwZS5uYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWVzX307YS5wcm90b3R5cGUuc3RhdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0Xy5nZXQoYSl9O3JldHVybiBhfSgpO2EuU3RhdHM9ZX0sNzA0OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGMpe2E9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109YltjXSl9O3JldHVybiBhKGIsYyl9O3JldHVybiBmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXt0aGlzLmNvbnN0cnVjdG9yPWJ9YShiLGMpO2IucHJvdG90eXBlPVxyXG5udWxsPT09Yz9PYmplY3QuY3JlYXRlKGMpOihkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxuZXcgZCl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuU3RyZWFtUmVzb2x1dGlvbj1hLlJlbW90ZUNhbGxDb25zdHJhaW50cz12b2lkIDA7dmFyIGw9Yyg1NTApLGg9Yyg2NTgpLGQ9Yyg4NTEpO2I9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSgpO2EuUmVtb3RlQ2FsbENvbnN0cmFpbnRzPWI7Yj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGM9YS5jYWxsKHRoaXMsbnVsbCxsLmNsYXNzX2lkX3QuU3RyZWFtUmVzb2x1dGlvbiwwLGguUHJveHlNb2RlLkxvY2FsKXx8dGhpcztjLmxhc3RTZW50Q29uc3RyYWludHNfPW51bGw7cmV0dXJuIGN9ZShiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcIm9udXBkYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9udXBkYXRlX30sc2V0OmZ1bmN0aW9uKGEpe3ZhciBjPVxyXG50aGlzO3RoaXMub251cGRhdGVfPWE7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQodGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub251cGRhdGVcIikudGhlbihmdW5jdGlvbigpe3ZhciBhPWMucmVnaXN0ZXJDYWxsYmFja3MoITEsYy5pc051bGxDYWxsYmFjayhjLm9udXBkYXRlXyksbC5tZXRob2RfaWRfU3RyZWFtUmVzb2x1dGlvbl90Lm9udXBkYXRlKTthLnRoZW4oZnVuY3Rpb24oYSl7YT1hLnBhcmFtczt2YXIgZT1hWzBdO2Euc2xpY2UoMSk7ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9udXBkYXRlXCIsSlNPTi5zdHJpbmdpZnkoZSkpO2MubGFzdFNlbnRDb25zdHJhaW50c18mJkpTT04uc3RyaW5naWZ5KGMubGFzdFNlbnRDb25zdHJhaW50c18pPT1KU09OLnN0cmluZ2lmeShlKT9kLmxvZ2dlci5sb2coYy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIub251cGRhdGUgY29uc3RyYWludHMgdW5jaGFuZ2VkLCBpZ25vcmluZ1wiKTpjLm9udXBkYXRlXyYmKGIuaXNWYWxpZFJlbW90ZUNvbnN0cmFpbnRzKGUpP1xyXG4oYy5sYXN0U2VudENvbnN0cmFpbnRzXz1lLGMub251cGRhdGVfKGMudG9JQ2FsbENvbnN0cmFpbnRzKGMubGFzdFNlbnRDb25zdHJhaW50c18pKSk6ZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9udXBkYXRlIGludmFsaWQgUmVtb3RlQ2FsbENvbnN0cmFpbnRzXCIpKX0pO3JldHVybiBjLnJlbW90ZUludm9rZSghMCxsLm1ldGhvZF9pZF9TdHJlYW1SZXNvbHV0aW9uX3Qub251cGRhdGUsYS5zdWNjZXNzKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtyZXR1cm4gZC5sb2dnZXIubG9nKGMudXNlcl9mcmllbmRseV9pZCgpK1wiLm9udXBkYXRlLCBjb3VsZCBub3Qgc2V0IGxpc3RlbmVyXCIpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7Yi5wcm90b3R5cGUudG9JQ2FsbENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPXttYXhQYXJ0aWNpcGFudFJlc29sdXRpb25zOm51bGx9O2lmKGEubWF4X3BhcnRpY2lwYW50X3Jlc29sdXRpb25zX2R5bmFtaWMpe2IubWF4UGFydGljaXBhbnRSZXNvbHV0aW9ucz1cclxue307Zm9yKHZhciBjPTAsZT1hLm1heF9wYXJ0aWNpcGFudF9yZXNvbHV0aW9uc19keW5hbWljO2M8ZS5sZW5ndGg7YysrKXt2YXIgZz1lW2NdO2IubWF4UGFydGljaXBhbnRSZXNvbHV0aW9uc1tnLmNvdW50XT1nLnJlc29sdXRpb259fWVsc2UgYS5tYXhfcGFydGljaXBhbnRfcmVzb2x1dGlvbnNfc3RhdGljJiYoYi5tYXhQYXJ0aWNpcGFudFJlc29sdXRpb25zPWEubWF4X3BhcnRpY2lwYW50X3Jlc29sdXRpb25zX3N0YXRpYyk7Yi5tYXhJbmNvbWluZ1N0cmVhbXM9YS5tYXhfaW5jb21pbmdfc3RyZWFtcztiLm1heE91dGdvaW5nUmVzb2x1dGlvbj1hLm1heF9vdXRnb2luZ19yZXNvbHV0aW9uO2IubWF4U2ltdWxjYXN0TGF5ZXJzPWEubWF4X3NpbXVsY2FzdF9sYXllcnM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnRvSUNhbGxDb25zdHJhaW50czogXCIrSlNPTi5zdHJpbmdpZnkoYikpO3JldHVybiBifTtiLmlzVmFsaWRSZW1vdGVDb25zdHJhaW50cz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9XHJcbmEmJihudWxsIT1hLm1heF9wYXJ0aWNpcGFudF9yZXNvbHV0aW9uc19keW5hbWljfHxudWxsIT1hLm1heF9wYXJ0aWNpcGFudF9yZXNvbHV0aW9uc19zdGF0aWMpJiZudWxsIT1hLm1heF9pbmNvbWluZ19zdHJlYW1zJiZudWxsIT1hLm1heF9vdXRnb2luZ19yZXNvbHV0aW9uJiZudWxsIT1hLm1heF9zaW11bGNhc3RfbGF5ZXJzfTtiLnByb3RvdHlwZS5nZXRDYWxsQ29uc3RyYWludHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2Eud2FpdFVudGlsQ29ubmVjdGVkKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldENhbGxDb25zdHJhaW50c1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlSW52b2tlKCExLGwubWV0aG9kX2lkX1N0cmVhbVJlc29sdXRpb25fdC5nZXRDYWxsQ29uc3RyYWludHMpfSkudGhlbihmdW5jdGlvbihoKXtoPWEucGFyYW0wKGgpO2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5nZXRDYWxsQ29uc3RyYWludHNcIixcclxuSlNPTi5zdHJpbmdpZnkoaCkpO2IuaXNWYWxpZFJlbW90ZUNvbnN0cmFpbnRzKGgpPyhhLm9udXBkYXRlXyYmKGEubGFzdFNlbnRDb25zdHJhaW50c189aCksYyhhLnRvSUNhbGxDb25zdHJhaW50cyhoKSkpOihkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIuZ2V0Q2FsbENvbnN0cmFpbnRzIGludmFsaWQgUmVtb3RlQ2FsbENvbnN0cmFpbnRzXCIpLGUoKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmdldENhbGxDb25zdHJhaW50cyBwcm9taXNlIHJlamVjdGVkXCIpO2UoKX0pfSl9O2IuZ2V0RGVmYXVsdENvbnN0cmFpbnRzPWZ1bmN0aW9uKCl7dmFyIGE9e21heFBhcnRpY2lwYW50UmVzb2x1dGlvbnM6ezE6NzIwLDI6NzIwLDM6MzYwLG1vcmU6MzYwfSxtYXhJbmNvbWluZ1N0cmVhbXM6NCxtYXhPdXRnb2luZ1Jlc29sdXRpb246NzIwLG1heFNpbXVsY2FzdExheWVyczowfTtkLmxvZ2dlci5sb2coXCJTdHJlYW1SZXNvbHV0aW9uLmdldERlZmF1bHRDb25zdHJhaW50czogXCIrXHJcbkpTT04uc3RyaW5naWZ5KGEpKTtyZXR1cm4gYX07Yi5wcm90b3R5cGUudXBkYXRlU3RyZWFtUmVzb2x1dGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5nZXRDYWxsQ29uc3RyYWludHMoKS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBhLm9udXBkYXRlJiZhLm9udXBkYXRlKGIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe3JldHVybiBkLmxvZ2dlci5sb2coXCJGYWlsZWQgdG8gZ2V0IHN0cmVhbSByZXNvbHV0aW9uIGluZm9ybWF0aW9uIVwiKX0pfTtyZXR1cm4gYn0oaC5Qcm94eU9iamVjdCk7YS5TdHJlYW1SZXNvbHV0aW9uPWJ9LDM5NDpmdW5jdGlvbihiLGEsYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5UZWxlbWV0cnk9YS50ZWxfa2V5X0NQVVRvdGFsbWVtb3J5PWEudGVsX2tleV9DUFVHcHVpbmZvPWEudGVsX2tleV9DUFVNYWNoaW5laWQ9YS50ZWxfa2V5X0NQVVByb2Nlc3NvcnM9YS50ZWxfa2V5X0NQVUNvcmVzPWEudGVsX2tleV9DUFVNb2RlbD1cclxuYS50ZWxfa2V5X0NQVVNwZWVkPWEudGVsX2tleV9PU0VkaXRpb249YS50ZWxfa2V5X09TRGlzdHJvPWEudGVsX2tleV9PU0FyY2hpdGVjdHVyZT1hLnRlbF9rZXlfT1NWZXJzaW9uPWEudGVsX2tleV9PU0ZhbWlseT1hLnRlbF9rZXlfVmVySGR4UnRjRW5naW5lPWEudGVsX2tleV9WZXJUeXBlU2NyaXB0PWEudGVsX2tleV9WZXJFbmRwb2ludD1hLnRlbF9rZXlfVmVyVmRhPWEudGVsX2tleV9WZXJSZWNlaXZlcj1hLnRlbF9rZXlfVmVyV2VicnRjQ29kZWNzPWEudGVsX2tleV9WZXJXZWJycGM9YS50ZWxfa2V5X1BlcmZDYWxsVHlwZT1hLnRlbF9rZXlfUGVyZkNhbGxTdGF0ZT1hLnRlbF9rZXlfUGVyZkNhbGxEaXJlY3Rpb249YS50ZWxfa2V5X1NwZWFrZXJEZXZpY2VVc2VkPWEudGVsX2tleV9WaWRlb0RldmljZVVzZWQ9YS50ZWxfa2V5X0F1ZGlvRGV2aWNlVXNlZD1hLnRlbF9rZXlfQ2FsbEVzdE91dGdvaW5nPWEudGVsX2tleV9DYWxsRXN0SW5jb21pbmc9YS50ZWxfa2V5X1NjcmVlbnNoYXJpbmdDYWxsRHVyYXRpb249XHJcbmEudGVsX2tleV9WaWRlb0NhbGxEdXJhdGlvbj1hLnRlbF9rZXlfQXVkaW9DYWxsRHVyYXRpb249YS50ZWxfa2V5X0NvbmZlcmVuY2VDYWxsRHVyYXRpb249YS50ZWxfY21kPWEudGVsX0NhbGxUeXBlPWEudGVsX0NhbGxEaXJlY3Rpb249YS50ZWxfQ2FsbFN0YXRlPXZvaWQgMDt2YXIgZT1jKDk0NiksbD1jKDg1MSk7KGZ1bmN0aW9uKGEpe2FbYS51bmtub3duPTBdPVwidW5rbm93blwiO2FbYS5hY3RpdmU9MV09XCJhY3RpdmVcIjthW2EuaWRsZT0yXT1cImlkbGVcIn0pKGEudGVsX0NhbGxTdGF0ZXx8KGEudGVsX0NhbGxTdGF0ZT17fSkpOyhmdW5jdGlvbihhKXthW2EudW5rbm93bj0wXT1cInVua25vd25cIjthW2EuaW5jb21pbmc9MV09XCJpbmNvbWluZ1wiO2FbYS5vdXRnb2luZz0yXT1cIm91dGdvaW5nXCJ9KShhLnRlbF9DYWxsRGlyZWN0aW9ufHwoYS50ZWxfQ2FsbERpcmVjdGlvbj17fSkpOyhmdW5jdGlvbihhKXthW2EudW5rbm93bj0wXT1cInVua25vd25cIjthW2EuYXVkaW89MV09XCJhdWRpb1wiO2FbYS52aWRlbz1cclxuMl09XCJ2aWRlb1wiO2FbYS5tdWx0aT0zXT1cIm11bHRpXCI7YVthLmRzaGFyZT00XT1cImRzaGFyZVwifSkoYS50ZWxfQ2FsbFR5cGV8fChhLnRlbF9DYWxsVHlwZT17fSkpO3ZhciBoOyhmdW5jdGlvbihhKXthW2EuVW5rbm93bj0wXT1cIlVua25vd25cIjthW2EuQ2FwPTFdPVwiQ2FwXCI7YVthLkluaXQ9Ml09XCJJbml0XCI7YVthLkRhdGE9M109XCJEYXRhXCJ9KShoPWEudGVsX2NtZHx8KGEudGVsX2NtZD17fSkpO2EudGVsX2tleV9Db25mZXJlbmNlQ2FsbER1cmF0aW9uPVwiQ29uZmVyZW5jZUNhbGxEdXJhdGlvblwiO2EudGVsX2tleV9BdWRpb0NhbGxEdXJhdGlvbj1cIkF1ZGlvQ2FsbER1cmF0aW9uXCI7YS50ZWxfa2V5X1ZpZGVvQ2FsbER1cmF0aW9uPVwiVmlkZW9DYWxsRHVyYXRpb25cIjthLnRlbF9rZXlfU2NyZWVuc2hhcmluZ0NhbGxEdXJhdGlvbj1cIlNjcmVlbnNoYXJpbmdDYWxsRHVyYXRpb25cIjthLnRlbF9rZXlfQ2FsbEVzdEluY29taW5nPVwiQ2FsbEVzdEluY29taW5nXCI7YS50ZWxfa2V5X0NhbGxFc3RPdXRnb2luZz1cclxuXCJDYWxsRXN0T3V0Z29pbmdcIjthLnRlbF9rZXlfQXVkaW9EZXZpY2VVc2VkPVwiQXVkaW9EZXZpY2VVc2VkXCI7YS50ZWxfa2V5X1ZpZGVvRGV2aWNlVXNlZD1cIlZpZGVvRGV2aWNlVXNlZFwiO2EudGVsX2tleV9TcGVha2VyRGV2aWNlVXNlZD1cIlNwZWFrZXJEZXZpY2VVc2VkXCI7YS50ZWxfa2V5X1BlcmZDYWxsRGlyZWN0aW9uPVwiUGVyZkNhbGxEaXJlY3Rpb25cIjthLnRlbF9rZXlfUGVyZkNhbGxTdGF0ZT1cIlBlcmZDYWxsU3RhdGVcIjthLnRlbF9rZXlfUGVyZkNhbGxUeXBlPVwiUGVyZkNhbGxUeXBlXCI7YS50ZWxfa2V5X1ZlcldlYnJwYz1cIlZlcldlYnJwY1wiO2EudGVsX2tleV9WZXJXZWJydGNDb2RlY3M9XCJWZXJXZWJydGNDb2RlY3NcIjthLnRlbF9rZXlfVmVyUmVjZWl2ZXI9XCJWZXJSZWNlaXZlclwiO2EudGVsX2tleV9WZXJWZGE9XCJWZXJWZGFcIjthLnRlbF9rZXlfVmVyRW5kcG9pbnQ9XCJWZXJFbmRwb2ludFwiO2EudGVsX2tleV9WZXJUeXBlU2NyaXB0PVwiVmVyVHlwZVNjcmlwdFwiO2EudGVsX2tleV9WZXJIZHhSdGNFbmdpbmU9XHJcblwiVmVySGR4UnRjRW5naW5lXCI7YS50ZWxfa2V5X09TRmFtaWx5PVwiT1NGYW1pbHlcIjthLnRlbF9rZXlfT1NWZXJzaW9uPVwiT1NWZXJzaW9uXCI7YS50ZWxfa2V5X09TQXJjaGl0ZWN0dXJlPVwiT1NBcmNoaXRlY3R1cmVcIjthLnRlbF9rZXlfT1NEaXN0cm89XCJPU0Rpc3Ryb1wiO2EudGVsX2tleV9PU0VkaXRpb249XCJPU0VkaXRpb25cIjthLnRlbF9rZXlfQ1BVU3BlZWQ9XCJDUFVTcGVlZFwiO2EudGVsX2tleV9DUFVNb2RlbD1cIkNQVU1vZGVsXCI7YS50ZWxfa2V5X0NQVUNvcmVzPVwiQ1BVQ29yZXNcIjthLnRlbF9rZXlfQ1BVUHJvY2Vzc29ycz1cIkNQVVByb2Nlc3NvcnNcIjthLnRlbF9rZXlfQ1BVTWFjaGluZWlkPVwiQ1BVTWFjaGluZWlkXCI7YS50ZWxfa2V5X0NQVUdwdWluZm89XCJDUFVHcHVpbmZvXCI7YS50ZWxfa2V5X0NQVVRvdGFsbWVtb3J5PVwiQ1BVVG90YWxtZW1vcnlcIjt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjLGQsZSl7dGhpcy5jbWQ9Yjt0aGlzLmtleT1jO3RoaXMudmFsdWU9ZDt0aGlzLmZsYWdzPVxyXG5lfWEucHJvdG90eXBlLlNlbmRUZWxlbWV0cnlEYXRhPWZ1bmN0aW9uKGEpe2EuU2VuZFRlbGVtZXRyeURhdGEodGhpcy5jbWQsdGhpcy5rZXksdGhpcy52YWx1ZSx0aGlzLmZsYWdzKX07cmV0dXJuIGF9KCk7Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLmlkPTA7dGhpcy5kZWZlcnJlZERhdGE9W119YS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmlkPTA7dGhpcy5kZWZlcnJlZERhdGE9W119O2EucHJvdG90eXBlLm9uSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oYSl7Zm9yKHRoaXMuaWQ9YTt0aGlzLmRlZmVycmVkRGF0YSYmMDx0aGlzLmRlZmVycmVkRGF0YS5sZW5ndGg7KXRoaXMuZGVmZXJyZWREYXRhLnNoaWZ0KCkuU2VuZFRlbGVtZXRyeURhdGEodGhpcyl9O2EucHJvdG90eXBlLlNlbmRUZWxlbWV0cnlJbml0PWZ1bmN0aW9uKCl7MDx0aGlzLmlkJiZ0aGlzLnJlc2V0KCk7dHJ5e2UuZ2V0UmVkaXJlY3RvcigpLldTU2VuZE9iamVjdCh7djpcInRlbGVtZXRyeVwiLFxyXG5oZHI6e2NvbW1hbmQ6aC5Jbml0LGlkOjB9LGluaXQ6e2RvbWFpbjpcIkhEWE1NIFRlYW1zXCIsc3ViZG9tYWluOlwiVGVhbXNcIixmZWF0dXJlOlwibXN0ZWFtc1wiLHZlcnNpb246XCIxLjEuMS4xXCJ9fSl9Y2F0Y2goYSl7bC5sb2dnZXIubG9nKGEpfX07YS5wcm90b3R5cGUuU2VuZFRlbGVtZXRyeURhdGE9ZnVuY3Rpb24oYSxiLGMsdyl7aWYoYSE9aC5EYXRhKWwubG9nZ2VyLmxvZyhcImludmFsaWQgdGVsZW1ldHJ5IGNvbW1hbmQhXCIpO2Vsc2UgaWYoMD09dGhpcy5pZCl0aGlzLmRlZmVycmVkRGF0YS5wdXNoKG5ldyBkKGEsYixjLHcpKTtlbHNlIHRyeXtlLmdldFJlZGlyZWN0b3IoKS5XU1NlbmRPYmplY3Qoe3Y6XCJ0ZWxlbWV0cnlcIixoZHI6e2NvbW1hbmQ6YSxpZDp0aGlzLmlkfSxkYXRhOntrZXk6Yix2YWx1ZTpjLGZsYWdzOnd9fSl9Y2F0Y2gocCl7bC5sb2dnZXIubG9nKHApfX07cmV0dXJuIGF9KCk7YS5UZWxlbWV0cnk9Yn0sMjU5OmZ1bmN0aW9uKGIsYSxjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcclxuXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5VdGlsPXZvaWQgMDt2YXIgZT1jKDg1MSk7Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS5zdHJpbmdpZnlBcnJheT1mdW5jdGlvbihhKXtmb3IodmFyIGI9XCJbXCIsYz0wO2M8YS5sZW5ndGg7KytjKTAhPWMmJihiKz1cIixcIiksYis9dGhpcy5zdHJpbmdpZnkoYVtjXSk7cmV0dXJuIGIrXCJdXCJ9O2Euc3RyaW5naWZ5T2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPVwie1wiLGM9ITAsZTtmb3IoZSBpbiBhKWM/Yz0hMTpiKz1cIixcIixiPWIrJ1wiJytlKydcIjonLGI9YVtlXWluc3RhbmNlb2YgQXJyYXk/Yit0aGlzLnN0cmluZ2lmeUFycmF5KGFbZV0pOlwib2JqZWN0XCI9PXR5cGVvZiBhW2VdP2IrdGhpcy5zdHJpbmdpZnlPYmplY3QoYVtlXSk6YitKU09OLnN0cmluZ2lmeShhW2VdKTtyZXR1cm4gYitcIn1cIn07YS5zdHJpbmdpZnk9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/XCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk/XHJcbnRoaXMuc3RyaW5naWZ5QXJyYXkoYSk6dGhpcy5zdHJpbmdpZnlPYmplY3QoYSk6SlNPTi5zdHJpbmdpZnkoYSl9O2EuR2V0T2JqZWN0UHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXZvaWQgMDthIT1PYmplY3QucHJvdG90eXBlOyl7Yz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7aWYodm9pZCAwIT09YylicmVhazthPWEuX19wcm90b19ffXJldHVybiBjfTthLnNlbmRFdmVudD1mdW5jdGlvbihhLGIpe3RyeXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO2MuaW5pdEV2ZW50KGIsITAsITApO2EuZGlzcGF0Y2hFdmVudChjKX1jYXRjaChsKXtlLmxvZ2dlci5sb2coJ3NlbmRFdmVudCgpOiBleGNlcHRpb24gZGlzcGF0Y2hpbmcgXCInK2IrJ1wiIGV2ZW50OiAnK2wubWVzc2FnZSl9fTthLmhhc1ZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPT1hJiZ2b2lkIDAhPT1hJiYoYj0hMCk7cmV0dXJuIGJ9O3JldHVybiBhfSgpO1xyXG5hLlV0aWw9Yn0sMzA3OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGM/YTpuZXcgYyhmdW5jdGlvbihiKXtiKGEpfSl9cmV0dXJuIG5ldyAoY3x8KGM9UHJvbWlzZSkpKGZ1bmN0aW9uKGMsZyl7ZnVuY3Rpb24gaChhKXt0cnl7bChkLm5leHQoYSkpfWNhdGNoKGIpe2coYil9fWZ1bmN0aW9uIGsoYSl7dHJ5e2woZFtcInRocm93XCJdKGEpKX1jYXRjaChiKXtnKGIpfX1mdW5jdGlvbiBsKGEpe2EuZG9uZT9jKGEudmFsdWUpOmUoYS52YWx1ZSkudGhlbihoLGspfWwoKGQ9ZC5hcHBseShhLGJ8fFtdKSkubmV4dCgpKX0pfSxsPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGQoW2EsYl0pfX1mdW5jdGlvbiBkKGMpe2lmKGcpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbmZvcig7ZTspdHJ5e2lmKGc9MSxoJiYoaz1jWzBdJjI/aFtcInJldHVyblwiXTpjWzBdP2hbXCJ0aHJvd1wiXXx8KChrPWhbXCJyZXR1cm5cIl0pJiZrLmNhbGwoaCksMCk6aC5uZXh0KSYmIShrPWsuY2FsbChoLGNbMV0pKS5kb25lKXJldHVybiBrO2lmKGg9MCxrKWM9W2NbMF0mMixrLnZhbHVlXTtzd2l0Y2goY1swXSl7Y2FzZSAwOmNhc2UgMTprPWM7YnJlYWs7Y2FzZSA0OnJldHVybiBlLmxhYmVsKysse3ZhbHVlOmNbMV0sZG9uZTohMX07Y2FzZSA1OmUubGFiZWwrKztoPWNbMV07Yz1bMF07Y29udGludWU7Y2FzZSA3OmM9ZS5vcHMucG9wKCk7ZS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShrPWUudHJ5cyxrPTA8ay5sZW5ndGgmJmtbay5sZW5ndGgtMV0pJiYoNj09PWNbMF18fDI9PT1jWzBdKSl7ZT0wO2NvbnRpbnVlfWlmKDM9PT1jWzBdJiYoIWt8fGNbMV0+a1swXSYmY1sxXTxrWzNdKSllLmxhYmVsPWNbMV07ZWxzZSBpZig2PT09Y1swXSYmZS5sYWJlbDxrWzFdKWUubGFiZWw9XHJcbmtbMV0saz1jO2Vsc2UgaWYoayYmZS5sYWJlbDxrWzJdKWUubGFiZWw9a1syXSxlLm9wcy5wdXNoKGMpO2Vsc2V7a1syXSYmZS5vcHMucG9wKCk7ZS50cnlzLnBvcCgpO2NvbnRpbnVlfX1jPWIuY2FsbChhLGUpfWNhdGNoKGwpe2M9WzYsbF0saD0wfWZpbmFsbHl7Zz1rPTB9aWYoY1swXSY1KXRocm93IGNbMV07cmV0dXJue3ZhbHVlOmNbMF0/Y1sxXTp2b2lkIDAsZG9uZTohMH19dmFyIGU9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKGtbMF0mMSl0aHJvdyBrWzFdO3JldHVybiBrWzFdfSx0cnlzOltdLG9wczpbXX0sZyxoLGssbDskanNjb21wLmluaXRTeW1ib2woKTskanNjb21wLmluaXRTeW1ib2woKTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpO3JldHVybiBsPXtuZXh0OmMoMCksXCJ0aHJvd1wiOmMoMSksXCJyZXR1cm5cIjpjKDIpfSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiYobFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxsfSxoPVxyXG5jKDM2MCksZD1jKDE0NCk7Yyg2NzkpO3ZhciBwPWMoOTQ1KSxxPWMoMzY4KSxuPWMoODUxKS5sb2dnZXIsaz1jKDY1MCksdj1jKDk3Myksej1jKDI0NykuZ2V0R0MsZz1jKDk0NiksQj1jKDYxMykuRTkxMVNlcnZpY2U7Yj1jKDU1MCk7dmFyIHQ9Yi5GZWF0dXJlcyxtPWIuRkVBVFVSRV92ZGFfZGVsZXRlX3ZpZXdwb3J0LEQ9Yyg3MDQpLlN0cmVhbVJlc29sdXRpb24seT1jKDIzOSkuRTsoZnVuY3Rpb24oYSxiKXthLkNpdHJpeFdlYlJUQz1iKCl9KShcInVuZGVmaW5lZFwiIT09dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe24ubG9nKFwiVkRJIFNoaW0gY3JlYXRlTWVkaWFTdHJlYW1JbnRlcm5hbFwiKTtHKCk7dmFyIGY9bmV3IGQuUmVtb3RlU3RyZWFtKG51bGwsMCwwLGIpLGU9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxiKXtmLnN5bmNCYXJyaWVyKCkudGhlbihmdW5jdGlvbihiKXtuLmxvZyhcInN0cmVhbS5zeW5jQmFycmllcigpOiBzdWNjZXNzLlwiKTtcclxuYShiKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7bi5sb2coXCJzdHJlYW0uc3luY0JhcnJpZXIoKTogZmFpbGVkIHdpdGggZXJyb3I6IFwiK0pTT04uc3RyaW5naWZ5KGEpKTtmLnJlbGVhc2UoKTtiKCl9KX0pO3JldHVybiBjP2U6Zn1mdW5jdGlvbiBiKGEpe251bGw9PVkmJihZPW5ldyBxLkZyYW1lcyghTy5pc0ZlYXR1cmVTdXBwb3J0ZWQodC5GRUFUVVJFX3B1YmxpY19tdWx0aV93aW5kb3cpKSk7YShZKX1mdW5jdGlvbiBjKGEsZCl7YihmdW5jdGlvbihiKXt2YXIgYz1iLmZpbmRGcmFtZShhKTt2b2lkIDA9PWMmJihjPWIubmV3RnJhbWUoYSkpO2QoYyl9KX1mdW5jdGlvbiBNKGEsYyl7YihmdW5jdGlvbihiKXtiPWIuZmluZEZyYW1lKGEpO251bGwhPWImJmMoYil9KX1mdW5jdGlvbiBGKGEpe2cuZ2V0UmVkaXJlY3RvcigpLlNlbmRUZWxlbWV0cnlEYXRhX1NwZWFrZXIoYSl9ZnVuY3Rpb24gSihhLGIpe2lmKFMpdHJ5e1widmRpRTkxMUluZm9DaGFuZ2VkXCI9PT1hP2E9XCJ2ZGlFOTExRGF0YUNoYW5nZWRcIjpcclxuXCJ2ZGlDYWxsQ29uc3RyYWludHNDaGFuZ2VkXCI9PT1hJiYoYT1cInZkaVN0cmVhbUNvbnN0cmFpbnRzQ2hhbmdlZFwiKTt2YXIgYz1PYmplY3QuYXNzaWduKHtldmVudDphfSxiKTtuLmxvZyhcIkRpc3BhdGNoaW5nIFZNIGV2ZW50OlwiK0pTT04uc3RyaW5naWZ5KGMpKTtTKGMpfWNhdGNoKGQpe24ubG9nKFwiRXhjZXB0aW9uIG9uVk1FdmVudCgpLCBldmVudE5hbWU6XCIrYStcIiBtZXNzYWdlOlwiK2QubWVzc2FnZSl9fWZ1bmN0aW9uIEcoKXt2YXIgYT13aW5kb3cuZ2V0Q2l0cml4V2VicnRjUmVkaXI7dm9pZCAwIT09YT9hKCkudGhlbihmdW5jdGlvbihhKXtuLmxvZyhcInN1Y2Vzc3Mgb24gY29ubmVjdCwgZ2V0Q2l0cml4V2VicnRjUmVkaXIgcmVnIHZhbHVlOlwiK2EpO1wiMVwiIT09YXx8T3x8KG4ubG9nKFwic3VwcG9ydGVkIGNsaWVudFwiKSxQKFcpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtuLmxvZyhcIkZhaWx1cmUgdG8gUmVhZCBXZWJydGMgcmVkaXIgUmVnIEtleVwiKTtmKCl9KToobi5sb2coXCJ3aW5kb3cuZ2V0Q2l0cml4V2VicnRjUmVkaXIoKSBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSB5ZXRcIiksXHJcbmYoKSl9ZnVuY3Rpb24gTChhKXtuLmxvZyhcIlZESSBFdmVudDogdmRpQ2xpZW50RGlzY29ubmVjdGVkXCIpO2JhKCk7aWYoITA9PT1hJiYhMT09PWFhKXtuLmxvZyhcIlZESSBFdmVudDogdmRpQ2xpZW50RGlzY29ubmVjdGVkIHdpdGggZmFpbHVyZSByZXBvcnRlZFwiKTthYT0hMDt0cnl7Uyh7ZXZlbnQ6XCJ2ZGlDbGllbnREaXNjb25uZWN0ZWRcIixyZWFzb246XCJmYWlsdXJlXCIsbXNnOlwiV2Vic29ja2V0IENvbm5lY3Rpb24gRmFpbHVyZVwifSl9Y2F0Y2goYil7bi5sb2coXCJvblZNRXZlbnQoKTogZXhjZXB0aW9uOiBcIitiLm1lc3NhZ2UpfX1lbHNle2FhPSExO3RyeXtTKHtldmVudDpcInZkaUNsaWVudERpc2Nvbm5lY3RlZFwiLHJlYXNvbjpcImVuZHBvaW50RGlzY29ubmVjdGVkXCJ9KX1jYXRjaChiKXtuLmxvZyhcIm9uVk1FdmVudCgpOiBleGNlcHRpb246IFwiK2IubWVzc2FnZSl9fX1mdW5jdGlvbiBQKGEpe24ubG9nKFwiaW5pdFJlbW90ZVNlc3Npb24gd2l0aCB2ZW5kb3I6XCIrYSk7T3x8KE89bmV3IGsuUmVtb3RlU2Vzc2lvbihcIkNpdHJpeFdlYlJUQ1NES1wiLFxyXG5hKSl9ZnVuY3Rpb24gQygpe24ubG9nKFwiVkRJIEV2ZW50OiBvblZkaUNsaWVudERpc2Nvbm5lY3RlZFRpbWVyXCIpO1AoVyl9ZnVuY3Rpb24gUigpe3ZhciBhPXRoaXM7bi5sb2coXCJWREkgU2hpbSBvblZkaUNsaWVudENvbm5lY3RlZC4uLlwiKTtPP08uZ2V0U2Vzc2lvbkluZm8oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBlKGEsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBsKHRoaXMsZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbi5sb2coXCJWREkgU2hpbSBvblZkaUNsaWVudENvbm5lY3RlZCwgY2xpZW50IGVuZHBvaW50IGluZm86XCIrSlNPTi5zdHJpbmdpZnkoYykpLEgmJkguaXNWYWxpZCgpfHwoSD1uZXcgZC5SZW1vdGVEZXZpY2VzKSxJJiZJLmlzVmFsaWQoKXx8KEk9bmV3IGQuTmF2aWdhdG9yVXNlck1lZGlhKSxiKGZ1bmN0aW9uKGEpe2EucmVjb25uZWN0KCl9KSxKKFwidmRpQ2xpZW50Q29ubmVjdGVkXCIse3ZlcnNpb246YyxlbmRwb2ludElkOmMuZW5kcG9pbnRJZH0pLFxyXG5bNCxJLmdldENhcGFiaWxpdGllcygpLnRoZW4oZnVuY3Rpb24oYSl7bi5sb2coXCJWREkgU2hpbSBvblZkaUNsaWVudENvbm5lY3RlZCwgY2FwcyA9IFwiK2EpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe24ubG9nKFwiVkRJIFNoaW0gb25WZGlDbGllbnRDb25uZWN0ZWQsIGNvdWxkIG5vdCBnZXQgY2FwYWJpbGl0aWVzXCIpfSldO2Nhc2UgMTpyZXR1cm4gYS5zZW50KCksVHx8KFQ9bmV3IEIsVC5vbnVwZGF0ZT1mdW5jdGlvbihhKXtKKFwidmRpRTkxMUluZm9DaGFuZ2VkXCIsYSl9LFQudXBkYXRlRTkxMUluZm8oKSksVXx8KEooXCJ2ZGlDYWxsQ29uc3RyYWludHNDaGFuZ2VkXCIsRC5nZXREZWZhdWx0Q29uc3RyYWludHMoKSksbnVsbCE9PU8mJmsuUmVtb3RlU2Vzc2lvbi5pc0ZlYXR1cmVDYWxsQ29uc3RyYWludHNTdXBwb3J0ZWQoKSYmKFU9bmV3IEQsVS5vbnVwZGF0ZT1mdW5jdGlvbihhKXtKKFwidmRpQ2FsbENvbnN0cmFpbnRzQ2hhbmdlZFwiLGEpfSxVLnVwZGF0ZVN0cmVhbVJlc29sdXRpb24oKSkpLFxyXG5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiZGV2aWNlY2hhbmdlXCIpKSxbMl19fSl9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtuLmxvZyhcIlZESSBTaGltIG9uVmRpQ2xpZW50Q29ubmVjdGVkLCBnZXRTZXNzaW9uSW5mbyBmYWlsdXJlISBTZXNzaW9uIGlzIG5vdCBmdWxseSBjb25uZWN0ZWQgeWV0Li4uXCIpfSk6bi5sb2coXCJWREkgU2hpbSBvblZkaUNsaWVudENvbm5lY3RlZCwgcmVtb3RlU2Vzc2lvbiBkb2VzIG5vdCBleGlzdFwiKX1mdW5jdGlvbiBLKGEpe2lmKFwiMVwiPT09YSluLmxvZyhcIlN1cHBvcnRlZCBjbGllbnRcIiksZy5nZXRSZWRpcmVjdG9yKCkucGluZ0Nvbm5lY3Rpb25CZWdpbighMCk7ZWxzZSBpZihcIjBcIj09PWEpe24ubG9nKFwiVkRJIEV2ZW50OiBVbnN1cHBvcnRlZCBjbGllbnQgcmVwb3J0ZWRcIik7dHJ5e1Moe2V2ZW50OlwidmRpQ2xpZW50RGlzY29ubmVjdGVkXCIscmVhc29uOlwiZW5kcG9pbnRVbnN1cHBvcnRlZFwiLG1zZzpcIlVuc3VwcG9ydGVkIGVuZHBvaW50IGNvbm5lY3RlZFwifSl9Y2F0Y2goYil7bi5sb2coXCJvblZNRXZlbnQoKTogZXhjZXB0aW9uOiBcIitcclxuYi5tZXNzYWdlKX19ZWxzZSBuLmxvZyhcIkNpdHJpeCBXZWJydGMgUmVkaXIgUmVnIEtleSB2YWx1ZSBpcyBpbmNvcnJlY3RcIil9ZnVuY3Rpb24gZigpeyExPT09WiYmKG4ubG9nKFwic3RhcnRpbmcgTVMgUmVnIHJldHJ5Li4uXCIpLFo9ITAsWCgxMCkpfWZ1bmN0aW9uIFgoYSl7aWYoMD49YSl7Wj0hMTtuLmxvZyhcIlZESSBFdmVudDogUmVnIEtleSBub3QgVXBkYXRlZCBhZnRlciB0aW1lciByZXBvcnRlZCwgRmFsbGJhY2tcIik7dHJ5e1Moe2V2ZW50OlwidmRpQ2xpZW50RGlzY29ubmVjdGVkXCIscmVhc29uOlwiZmFpbHVyZVwiLG1zZzpcIkNpdHJpeCBXZWJydGMgUmVkaXIgUmVnIEtleSBub3QgUHJlc2VudFwifSl9Y2F0Y2goYil7bi5sb2coXCJvblZNRXZlbnQoKTogZXhjZXB0aW9uOiBcIitiLm1lc3NhZ2UpfX1lbHNle3ZhciBjPXdpbmRvdy5nZXRDaXRyaXhXZWJydGNSZWRpcjt2b2lkIDAhPT1jP2MoKS50aGVuKGZ1bmN0aW9uKGIpe24ubG9nKFwiQ2l0cml4TVNUZWFtc1JlZGlyIHJlZyB2YWx1ZTpcIitcclxuYik7XCIwXCI9PT1ifHxcIjFcIj09PWI/KEsoYiksWj0hMSk6KG4ubG9nKFwiTVMgVGVhbXMgUmVkaXIgUmVnIGtleSBub3QgdXBkYXRlZCAtIFN0YXJ0IHRpbWVyXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmxvZyhcIlRpbWVyIHdhaXRpbmcgZm9yIHJlZ2lzdHJ5IHRvIGJlIHVwZGF0ZWQgY291bnQgOlwiK2EpO1goLS1hKX0sMUUzKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7bi5sb2coXCJGYWlsdXJlIHRvIFJlYWQgTVMgVGVhbXMgcmVkaXIgUmVnIEtleSAtIFN0YXJ0IHRpbWVyXCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmxvZyhcIlRpbWVyIHdhaXRpbmcgZm9yIHJlZ2lzdHJ5IHRvIGJlIHVwZGF0ZWQgY291bnQgOlwiK2EpO1goLS1hKX0sMUUzKX0pOihuLmxvZyhcIndpbmRvdy5nZXRDaXRyaXhXZWJydGNSZWRpcigpIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHlldFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5sb2coXCJUaW1lciB3YWl0aW5nIGZvciByZWdpc3RyeSB0byBiZSB1cGRhdGVkIGNvdW50IDpcIitcclxuYSk7WCgtLWEpfSwxRTMpKX19ZnVuY3Rpb24gYmEoKXtuLmxvZyhcIlZESSA6IGNsZWFudXBcIik7Zy5nZXRSZWRpcmVjdG9yKCkuY2xlYXJSZXFzKCk7ZC5OYXZpZ2F0b3JVc2VyTWVkaWEucmVzZXRDYXBhYmlsaXRpZXMoKTtZPUg9ST1udWxsO04mJk4ucmVsZWFzZSgpO08mJk8ucmVsZWFzZSgpO089bnVsbDt2LlNjcmVlblNoYXJpbmcuZGVzdHJveUluc3RhbmNlKCk7VCYmKFQucmVsZWFzZSgpLFQ9bnVsbCk7VSYmKFUucmVsZWFzZSgpLFU9bnVsbCk7eigpLnJlc2V0KCk7bi5sb2coXCJWREkgOiBjbGVhbnVwIGRvbmVcIil9ZnVuY3Rpb24gY2EoKXtyZXR1cm4gdi5TY3JlZW5TaGFyaW5nLnNjcmVlblNoYXJpbmdJbnN0YW5jZShmdW5jdGlvbigpe2lmKFMpdHJ5e1Moe2V2ZW50OlwidmRpU2NyZWVuVG9wb2xvZ3lDaGFuZ2VkXCJ9KX1jYXRjaChhKXtuLmxvZyhcIm9uVk1FdmVudCgndmRpU2NyZWVuVG9wb2xvZ3lDaGFuZ2VkJyk6IGV4Y2VwdGlvbjogXCIrYS5tZXNzYWdlKX19KX1mdW5jdGlvbiBFKGEpe2lmKCFWKXRocm93IG4ubG9nKFwiVkRJIFNoaW0gXCIrXHJcbmErXCI6IHRocm93aW5nIGV4Y2VwdGlvbjogbm90IGluaXRpYWxpemVkISFcIiksbmV3IERPTUV4Y2VwdGlvbihcIlVDU0RLIGlzIG5vdCBpbml0aWFsaXplZCEhIVwiKTt9dmFyIEk9bnVsbCxkYT1kLk5hdmlnYXRvclVzZXJNZWRpYS5nZXRDYXBhYmlsaXRpZXMsSD1udWxsLFk9bnVsbCxOPW51bGwsUz1udWxsLFQ9bnVsbCxVPW51bGwsYWE9ITEsTz12b2lkIDAsWj0hMSxWPSExLFc9dm9pZCAwO3JldHVybntGZWF0dXJlczp0LENpdHJpeFBlZXJDb25uZWN0aW9uOmguUGVlckNvbm5lY3Rpb24sZ2V0VXNlck1lZGlhOmZ1bmN0aW9uKGEsYixjKXtFKFwiZ2V0VXNlck1lZGlhXCIpO0coKTtuLmxvZyhcIlZESSBTaGltIGdldFVzZXJNZWRpYVwiKTtudWxsIT09SSYmSS5pc1ZhbGlkKCl8fChJPW5ldyBkLk5hdmlnYXRvclVzZXJNZWRpYSk7dmFyIGY9ZC5SZW1vdGVNZWRpYVN0cmVhbUNvbnN0cmFpbnRzLmlzQ29uc3RyYWludHNBdWRpb0RldmljZUlkRW1wdHkoYSksZT1kLlJlbW90ZU1lZGlhU3RyZWFtQ29uc3RyYWludHMuaXNDb25zdHJhaW50c1ZpZGVvU291cmNlSWRFbXB0eShhKTtcclxucmV0dXJuIGZ8fGU/bmV3IFByb21pc2UoZnVuY3Rpb24oZCxmKXtILmVudW1lcmF0ZURldmljZXMoKS50aGVuKGZ1bmN0aW9uKGQpe3JldHVybiBJLndlYmtpdEdldFVzZXJNZWRpYShhLGIsYyl9KS50aGVuKGZ1bmN0aW9uKGEpe24ubG9nKFwid2Via2l0R2V0VXNlck1lZGlhIGZvciBkZWZhdWx0IHdhcyByZXNvbHZlZFwiKTtkKGEpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtuLmxvZyhcImdldFVzZXJNZWRpYSgpIGZvciBkZWZhdWx0IGZhaWxlZCB3aXRoIGVycm9yOlwiK0pTT04uc3RyaW5naWZ5KGEpKTtmKCl9KX0pOkkud2Via2l0R2V0VXNlck1lZGlhKGEsYixjKX0sZ2V0RGlzcGxheU1lZGlhOmZ1bmN0aW9uKGEpe0UoXCJnZXREaXNwbGF5TWVkaWFcIik7RygpO24ubG9nKFwiVkRJIFNoaW0gZ2V0RGlzcGxheU1lZGlhXCIpO251bGwhPT1IJiZILmlzVmFsaWQoKXx8KEg9bmV3IGQuUmVtb3RlRGV2aWNlcyk7cmV0dXJuIEguZ2V0RGlzcGxheU1lZGlhKGEpfSxlbnVtZXJhdGVEZXZpY2VzOmZ1bmN0aW9uKCl7RShcImVudW1lcmF0ZURldmljZXNcIik7XHJcbkcoKTtuLmxvZyhcIlZESSBTaGltIGVudW1lcmF0ZURldmljZXNcIik7bnVsbCE9PUgmJkguaXNWYWxpZCgpfHwoSD1uZXcgZC5SZW1vdGVEZXZpY2VzKTtyZXR1cm4gSC5lbnVtZXJhdGVEZXZpY2VzKCl9LG9uV2luZG93Q2xvc2U6ZnVuY3Rpb24oYSxjLGQpe0UoXCJvbldpbmRvd0Nsb3NlXCIpO24ubG9nKFwiVkRJIFNoaW0gb25XaW5kb3dDbG9zZTogKGhhbmRsZTogXCIrYStcIilcIik7Zy5nZXRSZWRpcmVjdG9yKCkuZ2V0VkRBRmVhdHVyZVZhbHVlKG0pJiZiKGZ1bmN0aW9uKGIpe2IuZGlzcG9zZUZyYW1lKGEpfSl9LHNldENsaWVudEFyZWFPZmZzZXQ6ZnVuY3Rpb24oYSxiLGQpe0UoXCJzZXRDbGllbnRBcmVhT2Zmc2V0XCIpO24ubG9nKFwiVkRJIHNldENsaWVudEFyZWFPZmZzZXQgd2l0aCB4T2Zmc2V0ID0gXCIrYStcIiwgeU9mZnNldCA9IFwiK2IrXCIsIHdpbmRvd0hhbmRsZSA9IFwiK2QpO0coKTtjKGQsZnVuY3Rpb24oYyl7Yy5zZXRDbGllbnRBcmVhT2Zmc2V0KGEsYil9KX0sbWFwVmlkZW9FbGVtZW50OmZ1bmN0aW9uKGEsXHJcbmIpe0UoXCJtYXBWaWRlb0VsZW1lbnRcIik7bi5sb2coXCJWREkgTmV3IFZpZGVvIEVsZW1lbnQgQ3JlYXRlZCwgQ3JlYXRpbmcgTWFwcGluZyB0byBUaGluIENsaWVudCBET01cIik7RygpO2MoYixmdW5jdGlvbihiKXtiLm5ld1ZpZGVvRWxlbWVudChhKX0pfSxtYXBBdWRpb0VsZW1lbnQ6ZnVuY3Rpb24oYSl7RShcIm1hcEF1ZGlvRWxlbWVudFwiKTtuLmxvZyhcIlZESSBOZXcgQXVkaW8gRWxlbWVudCBDcmVhdGVkLCBDcmVhdGluZyBNYXBwaW5nIHRvIFZEQVwiKTtpZih2b2lkIDAhPT1hLnJlbW90ZUF1ZGlvRWxlbWVudCluLmxvZyhcIkF1ZGlvIGVsZW1lbnQgaXMgYWxyZWFkeSBjb25maWd1cmVkIVwiKTtlbHNle0coKTtkZWxldGUgYS5yZW1vdGVBdWRpb0VsZW1lbnQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJyZW1vdGVBdWRpb0VsZW1lbnRcIix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOm51bGx9KTthLnJlbW90ZUF1ZGlvRWxlbWVudD1uZXcgcC5BdWRpb0VsZW1lbnQ7ZGVsZXRlIGEuc2lua0lkO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcInNpbmtJZFwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3RlQXVkaW9FbGVtZW50P2EucmVtb3RlQXVkaW9FbGVtZW50LnNpbmtJZDp2b2lkIDB9LHNldDpmdW5jdGlvbihiKXtuLmxvZyhcIlZESSBTaGltIHNldCBhdWRpbyBlbGVtZW50IFNpbmtJZCB2YWx1ZSA9IFwiK2IpO2Euc2V0U2lua0lkKGIpLnRoZW4oZnVuY3Rpb24oKXtuLmxvZyhcIlZESSBTaGltIHNldCBhdWRpbyBlbGVtZW50IFNpbmtJZCBzdWNjZXNzXCIpfSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe24ubG9nKFwiVkRJIFNoaW0gc2V0IGF1ZGlvIGVsZW1lbnQgU2lua0lkIGZhaWx1cmVcIil9KX19KTt2YXIgYj1hLnJlbW90ZUF1ZGlvRWxlbWVudC5wbGF5O2EucGxheT1mdW5jdGlvbigpe24ubG9nKFwiVkRJIFNoaW0gcmVtb3RlIGF1ZGlvIHBsYXlcIik7cmV0dXJuIGIuYXBwbHkoYS5yZW1vdGVBdWRpb0VsZW1lbnQsYXJndW1lbnRzKX07dmFyIGM9YS5yZW1vdGVBdWRpb0VsZW1lbnQucGF1c2U7XHJcbmEucGF1c2U9ZnVuY3Rpb24oKXtuLmxvZyhcIlZESSBTaGltIHJlbW90ZSBhdWRpbyBwYXVzZVwiKTtyZXR1cm4gYy5hcHBseShhLnJlbW90ZUF1ZGlvRWxlbWVudCxhcmd1bWVudHMpfTthLnNldFNpbmtJZD1mdW5jdGlvbihiKXtuLmxvZyhcIlZESSBTaGltIHNldCBhdWRpbyBlbGVtZW50IFNpbmtJZCB2YWx1ZSA9IFwiK2IpO3ZhciBjPWEucmVtb3RlQXVkaW9FbGVtZW50LnNldFNpbmtJZChiKSxmO2QuZW51bWVyYXRlZERldmljZXMuZm9yRWFjaChmdW5jdGlvbihhKXtiPT09YS5kZXZpY2VJZCYmKGY9YS5sYWJlbCl9KTtGKGYpO3JldHVybiBjfTtkZWxldGUgYS5zcmNPYmplY3Q7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJzcmNPYmplY3RcIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLnJlbW90ZUF1ZGlvRWxlbWVudD9hLnJlbW90ZUF1ZGlvRWxlbWVudC5zcmNPYmplY3Q6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYil7bi5sb2coXCJWREkgU2hpbSBzZXQgYXVkaW8gZWxlbWVudCBzcmNPYmplY3QgXCIrXHJcbkpTT04uc3RyaW5naWZ5KGIpKTthLnJlbW90ZUF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9Yn19KX19LGRpc3Bvc2VWaWRlb0VsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtFKFwiZGlzcG9zZVZpZGVvRWxlbWVudFwiKTtuLmxvZyhcIlZESSBTaGltIGRpc3Bvc2VWaWRlb0VsZW1lbnQ6IFwiKTtNKGIsZnVuY3Rpb24oYil7Yi5kaXNwb3NlVmlkZW9FbGVtZW50KGEpfSl9LGRpc3Bvc2VBdWRpb0VsZW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe0UoXCJkaXNwb3NlQXVkaW9FbGVtZW50XCIpO24ubG9nKFwiVkRJIFNoaW0gZGlzcG9zZUF1ZGlvRWxlbWVudDogXCIpO2EmJihiPWEucmVtb3RlQXVkaW9FbGVtZW50KSYmKGIuZGlzcG9zZSgpLGEucmVtb3RlQXVkaW9FbGVtZW50PXZvaWQgMCl9LHNldFZNRXZlbnRDYWxsYmFjazpmdW5jdGlvbihhKXt2YXIgYj10aGlzO1M9YTtnLmdldFJlZGlyZWN0b3IoKS5pc0Nvbm5lY3RlZCgpJiZPLmdldFNlc3Npb25JbmZvKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gZShiLHZvaWQgMCxcclxudm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpcyxmdW5jdGlvbihiKXtuLmxvZyhcIlZESSBTaGltIG9uVmRpQ2xpZW50Q29ubmVjdGVkLCBjbGllbnQgZW5kcG9pbnQgaW5mbzpcIitKU09OLnN0cmluZ2lmeShhKSk7SihcInZkaUNsaWVudENvbm5lY3RlZFwiLHt2ZXJzaW9uOmEsZW5kcG9pbnRJZDphLmVuZHBvaW50SWR9KTtyZXR1cm5bMl19KX0pfSk7bi5sb2coXCJWREkgRXZlbnQgQ2FsbGJhY2sgU2V0XCIpfSxwbGF5Tm90aWZ5QXVkaW86ZnVuY3Rpb24oYSxiKXtFKFwicGxheU5vdGlmeUF1ZGlvXCIpO24ubG9nKFwiVkRJIFNoaW0gQXVkaW8gcGxheU5vdGlmeUF1ZGlvIGF1ZGlvSWQ6XCIrYStcIiBzcmM6XCIrYik7TiYmTi5wbGF5Tm90aWZ5QXVkaW8oYSxiKX0sc3RvcE5vdGlmeUF1ZGlvOmZ1bmN0aW9uKGEsYil7RShcInN0b3BOb3RpZnlBdWRpb1wiKTtuLmxvZyhcIlZESSBTaGltIEF1ZGlvIHBhdXNlTm90aWZ5QXVkaW8gYXVkaW9JZDpcIithK1wiIHNyYzpcIitiKTtOJiZOLnBhdXNlTm90aWZ5QXVkaW8oYSxcclxuYil9LHNldFNpbmtJZDpmdW5jdGlvbihhLGIpe0UoXCJzZXRTaW5rSWRcIik7bi5sb2coXCJWREkgU2hpbSBBdWRpbyBzZXRTaW5rSWQgYXVkaW9JZDpcIithK1wiIHNpbmtJZDpcIitiKTtOJiZOLnNldFNpbmtJZChhLGIpfSxnZXRMb29wOmZ1bmN0aW9uKGEpe0UoXCJnZXRMb29wXCIpO3ZhciBiO04mJihiPU4uZ2V0TG9vcChhKSk7bi5sb2coXCJWREkgU2hpbSBBdWRpbyBnZXRMb29wIGF1ZGlvSWQ6XCIrYStcIiBsb29wOiBcIitiKTtyZXR1cm4gYn0sc2V0TG9vcDpmdW5jdGlvbihhLGIpe0UoXCJzZXRMb29wXCIpO24ubG9nKFwiVkRJIFNoaW0gQXVkaW8gc2V0TG9vcCBhdWRpb0lkOlwiK2ErXCIgYm9vbDpcIitiKTtOJiZOLnNldExvb3AoYSxiKX0sYWRkQ2xpcFJlY3Q6ZnVuY3Rpb24oYSxiKXtFKFwiYWRkQ2xpcFJlY3RcIik7bi5sb2coXCJWREkgQWRkaW5nIE9jY2x1c2lvbiBcIitKU09OLnN0cmluZ2lmeShhKSk7YyhiLGZ1bmN0aW9uKGIpe2IuYWRkT2NjbHVzaW9uKGEpfSl9LHJlbW92ZUNsaXBSZWN0OmZ1bmN0aW9uKGEsXHJcbmIpe0UoXCJyZW1vdmVDbGlwUmVjdFwiKTtuLmxvZyhcIlZESSBSZW1vdmluZyBPY2NsdXNpb24gXCIrSlNPTi5zdHJpbmdpZnkoYSkpO2MoYixmdW5jdGlvbihiKXtiLnJlbW92ZU9jY2x1c2lvbihhKX0pfSxpbml0TG9nOmZ1bmN0aW9uKGEsYil7bi5zZXRNU0xvZ2dlcihhLGIpO24ubG9nKFwiVkRJIGluaXQgbG9nZ2VyXCIpfSxpc0ZlYXR1cmVPbjpmdW5jdGlvbihhKXtFKFwiaXNGZWF0dXJlT25cIik7cmV0dXJuIE8/Ty5pc0ZlYXR1cmVTdXBwb3J0ZWQoYSk6ITF9LG9uQ29ubmVjdGlvbkNoYW5nZTpmdW5jdGlvbihhKXtFKFwib25Db25uZWN0aW9uQ2hhbmdlXCIpO24ubG9nKFwiVkRJIDogb25Db25uZWN0aW9uQ2hhbmdlIHRvIFwiK2EpOyExPT09YT9uLmxvZyhcIkRpc2Nvbm5lY3RpbmcgZnJvbSB0aGUgVkRBXCIpOihuLmxvZyhcIkNvbm5lY3RpbmcgdG8gdGhlIFZEQVwiKSxhPXdpbmRvdy5nZXRDaXRyaXhXZWJydGNSZWRpcix2b2lkIDAhPT1hP2EoKS50aGVuKGZ1bmN0aW9uKGEpe24ubG9nKFwiU3VjZXNzcyBvbiBjb25uZWN0LCBDaXRyaXhSZWRpciByZWcgdmFsdWU6XCIrXHJcbmEpO1wiMFwiPT09YXx8XCIxXCI9PT1hP0soYSk6KG4ubG9nKFwiTVMgVGVhbXMgUmVkaXIgUmVnIGtleSBub3QgdXBkYXRlZCB5ZXRcIiksZigpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtuLmxvZyhcIkZhaWx1cmUgdG8gUmVhZCBNUyBUZWFtcyByZWRpciBSZWcgS2V5XCIpO2YoKX0pOihuLmxvZyhcIndpbmRvdy5nZXRDaXRyaXhXZWJydGNSZWRpcigpIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHlldFwiKSxmKCkpKX0sZ2V0U2NyZWVuc0FzeW5jOmZ1bmN0aW9uKCl7RShcImdldFNjcmVlbnNBc3luY1wiKTtuLmxvZyhcIlZESSBTaGltIGdldFNjcmVlbnNBc3luY1wiKTtHKCk7dmFyIGE9Y2EoKTtyZXR1cm4gYS5nZXRTY3JlZW5zQXN5bmMuYXBwbHkoYSxhcmd1bWVudHMpfSxnZXRXaW5kb3dzQXN5bmM6ZnVuY3Rpb24oKXtFKFwiZ2V0V2luZG93c0FzeW5jXCIpO24ubG9nKFwiVkRJIFNoaW0gZ2V0V2luZG93c0FzeW5jXCIpO0coKTt2YXIgYT1jYSgpO3JldHVybiBhLmdldFdpbmRvd3NBc3luYy5hcHBseShhLFxyXG5hcmd1bWVudHMpfSxzZXRTY3JlZW5TaGFyZVBhbmVsSWQ6ZnVuY3Rpb24oYSl7RShcInNldFNjcmVlblNoYXJlUGFuZWxJZFwiKTtuLmxvZyhcIlZESTogc2V0U2NyZWVuU2hhcmVQYW5lbElkIHNldCB0byBcIitKU09OLnN0cmluZ2lmeShhKSk7RygpO251bGwhPT1IJiZILmlzVmFsaWQoKXx8KEg9bmV3IGQuUmVtb3RlRGV2aWNlcyk7SC5wYW5lbGlkPWF9LHNldENvZGVjQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEpe0UoXCJzZXRDb2RlY0NhcGFiaWxpdGllc1wiKTtHKCk7bi5sb2coXCJWREkgU2hpbSBzZXRDb2RlY0NhcGFiaWxpdGllc1wiKTtudWxsIT09SSYmSS5pc1ZhbGlkKCl8fChJPW5ldyBkLk5hdmlnYXRvclVzZXJNZWRpYSk7cmV0dXJuIEkuc2V0Q29kZWNDYXBhYmlsaXRpZXMoYSl9LGdldEU5MTFEYXRhOmZ1bmN0aW9uKCl7RShcImdldEU5MTFEYXRhXCIpO3JldHVybiBUP1QuZ2V0RTkxMUluZm8oKTpudWxsfSxjcmVhdGVNZWRpYVN0cmVhbTpmdW5jdGlvbihiKXtFKFwiY3JlYXRlTWVkaWFTdHJlYW1cIik7XHJcbm4ubG9nKFwiVkRJIFNoaW0gY3JlYXRlTWVkaWFTdHJlYW1cIik7cmV0dXJuIGEoYiwhMSl9LGNyZWF0ZU1lZGlhU3RyZWFtQXN5bmM6ZnVuY3Rpb24oYil7RShcImNyZWF0ZU1lZGlhU3RyZWFtQXN5bmNcIik7bi5sb2coXCJWREkgU2hpbSBjcmVhdGVNZWRpYVN0cmVhbUFzeW5jXCIpO3JldHVybiBhKGIsITApfSxkaXNwb3NlTWVkaWFTdHJlYW06ZnVuY3Rpb24oYSl7RShcImRpc3Bvc2VNZWRpYVN0cmVhbVwiKTtuLmxvZyhcIlZESSBTaGltIGRpc3Bvc2VNZWRpYVN0cmVhbTogXCIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2MmJmMuZGlzcG9zZSgpfX0sZ2V0Q2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEpe0UoXCJnZXRDYXBhYmlsaXRpZXNcIik7RygpO24ubG9nKFwiVkRJIFNoaW0gZ2V0Q2FwYWJpbGl0aWVzXCIpO251bGwhPT1JJiZJLmlzVmFsaWQoKXx8KEk9bmV3IGQuTmF2aWdhdG9yVXNlck1lZGlhLGRhPWQuTmF2aWdhdG9yVXNlck1lZGlhLmdldENhcGFiaWxpdGllcyk7XHJcbnJldHVybiBkYS5hcHBseShJLGFyZ3VtZW50cyl9LGluaXRVQ1NESzpmdW5jdGlvbihhKXtuLmxvZyhcIlZESSBTaGltIGluaXRVQ1NESyB2ZW5kb3I6XCIrYSk7dmFyIGI9ITA7dm9pZCAwPT1hfHxudWxsPT1hfHxcInN0cmluZ1wiIT09dHlwZW9mIGF8fDA9PWEubGVuZ3RoP2I9ITE6MD09YS5zcGxpdChcIiBcIikuam9pbihcIlwiKS5sZW5ndGgmJihiPSExKTtpZighYil0aHJvdyBuLmxvZyhcIlZESSBTaGltIGluaXRVQ1NESzogdGhyb3dpbmcgZXhjZXB0aW9uOiB2ZW5kb3IgaW5mbyBjYW5ub3QgYmUgZW1wdHkhISFcIiksbmV3IERPTUV4Y2VwdGlvbihcInZlbmRvciBpbmZvIGNhbm5vdCBiZSBlbXB0eSwgcGxlYXNlIHBhc3MgdmVuZG9yIGluZm8gc3RyaW5nISEhXCIpO1Z8fChXPWEsST1uZXcgZC5OYXZpZ2F0b3JVc2VyTWVkaWEsSD1uZXcgZC5SZW1vdGVEZXZpY2VzLE49bmV3IHksSD1uZXcgZC5SZW1vdGVEZXZpY2VzLFAoVyksd2luZG93Lm9uVmRpQ2xpZW50RGlzY29ubmVjdGVkPUwsd2luZG93Lm9uVmRpQ2xpZW50RGlzY29ubmVjdGVkVGltZXI9XHJcbkMsd2luZG93Lm9uVmRpQ2xpZW50Q29ubmVjdGVkPVIsVj0hMCl9LGRlaW5pdFVDU0RLOmZ1bmN0aW9uKCl7bi5sb2coXCJWREkgU2hpbSBkZWluaXRVQ1NES1wiKTtWJiYoZy5nZXRSZWRpcmVjdG9yKCkudGVybWluYXRlT3B0aW1pemF0aW9uKCksYmEoKSx3aW5kb3cub25WZGlDbGllbnREaXNjb25uZWN0ZWQ9dm9pZCAwLHdpbmRvdy5vblZkaUNsaWVudERpc2Nvbm5lY3RlZFRpbWVyPXZvaWQgMCxXPXdpbmRvdy5vblZkaUNsaWVudENvbm5lY3RlZD12b2lkIDAsVj0hMSl9fX0pfSw2Nzk6ZnVuY3Rpb24oYixhLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGIsYyl7YT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYiliLmhhc093blByb3BlcnR5KGMpJiYoYVtjXT1iW2NdKX07XHJcbnJldHVybiBhKGIsYyl9O3JldHVybiBmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXt0aGlzLmNvbnN0cnVjdG9yPWJ9YShiLGMpO2IucHJvdG90eXBlPW51bGw9PT1jP09iamVjdC5jcmVhdGUoYyk6KGQucHJvdG90eXBlPWMucHJvdG90eXBlLG5ldyBkKX19KCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5WaWRlb0VsZW1lbnQ9YS5WaWRlb1JlY3Q9dm9pZCAwO3ZhciBsPWMoNjU4KSxoPWMoNTUwKSxkPWMoODUxKSxwPWMoOTQ2KSxxPWMoNTUwKSxuPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dGhpcy54PU1hdGgucm91bmQoYS54KSpiLmRldmljZVBpeGVsUmF0aW87dGhpcy55PU1hdGgucm91bmQoYS55KSpiLmRldmljZVBpeGVsUmF0aW87dGhpcy53aWR0aD1NYXRoLnJvdW5kKGEud2lkdGgpKmIuZGV2aWNlUGl4ZWxSYXRpbzt0aGlzLmhlaWdodD1NYXRoLnJvdW5kKGEuaGVpZ2h0KSpiLmRldmljZVBpeGVsUmF0aW99fSgpO1xyXG5hLlZpZGVvUmVjdD1uO3ZhciBrOyhmdW5jdGlvbihhKXthW2EucGl4ZWxzPTBdPVwicGl4ZWxzXCI7YVthLnBlcmNlbnQ9MV09XCJwZXJjZW50XCJ9KShrfHwoaz17fSkpO3ZhciB2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt0aGlzLnZhbHVlPXBhcnNlSW50KGIpO3RoaXMudW5pdHM9dGhpcy5kZXRlY3RVbml0cyhiKX1hLnByb3RvdHlwZS5kZXRlY3RVbml0cz1mdW5jdGlvbihhKXtyZXR1cm4tMT09PWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwicHhcIik/ay5waXhlbHM6ay5wZXJjZW50fTtyZXR1cm4gYX0oKSx6OyhmdW5jdGlvbihhKXthW2EuZmlsbD0wXT1cImZpbGxcIjthW2EuY29udGFpbj0xXT1cImNvbnRhaW5cIjthW2EuY292ZXI9Ml09XCJjb3ZlclwifSkoenx8KHo9e30pKTt2YXIgZz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMueD1hO3RoaXMueT1ifX0oKSxCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMsZCl7dGhpcy5maXQ9dGhpcy5jb252ZXJ0Rml0KGIpO3RoaXMucG9zaXRpb249XHJcbm5ldyBnKGMsZCl9YS5wcm90b3R5cGUuY29udmVydEZpdD1mdW5jdGlvbihhKXtyZXR1cm5cImZpbGxcIj09YT96LmZpbGw6XCJjb250YWluXCI9PWE/ei5jb250YWluOlwiY292ZXJcIj09YT96LmNvdmVyOnouZmlsbH07cmV0dXJuIGF9KCksdDsoZnVuY3Rpb24oYSl7YVthLk5vdFJlYWR5PTBdPVwiTm90UmVhZHlcIjthW2EuUmVhZHk9MV09XCJSZWFkeVwifSkodHx8KHQ9e30pKTtiPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxlKXt2YXIgZz1hLmNhbGwodGhpcyxudWxsLGguY2xhc3NfaWRfdC5WaWRlb0VsZW1lbnQsMCxsLlByb3h5TW9kZS5Mb2NhbCl8fHRoaXM7Zy5zcmNPYmplY3RfPW51bGw7Zy5zaW5rSWRfPVwiXCI7Zy52aWRlb1dpZHRoPTA7Zy52aWRlb0hlaWdodD0wO2cuaXNMb2FkZWQ9ITE7Zy5jb25uZWN0aW9uU3RhdGU9XCJkaXNjb25uZWN0ZWRcIjtnLnN0eWxlT2JzZXJ2ZXI9bnVsbDtnLnJlYWR5U3RhdGVfPXQuTm90UmVhZHk7Zy5kZWZlcnJlZFZpZGVvQWN0aW9ucz1bXTtnLnBlbmRpbmdSZWxlYXNlXz1cclxuITE7Zy5hY3RpdmVDb25uZWN0aW9uRXZlbnRfPW51bGw7Zy5jb25uZWN0aW9uRXZlbnRRdWV1ZV89W107Zy53aW5kb3dfPWU7Zy5lbGVtZW50SWQ9YztkLmxvZ2dlci5sb2coXCJWaWRlb0VsZW1lbnQuY29uc3RydWN0b3IgKGVsZW1lbnRpZDogXCIrYytcIilcIik7cmV0dXJuIGd9ZShiLGEpO2IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2QubG9nZ2VyLmxvZyhcIlZpZGVvRWxlbWVudC5kaXNwb3NlIChlbGVtZW50SWQ6IFwiK3RoaXMuZWxlbWVudElkK1wiIG9pZDogXCIrdGhpcy5vYmplY3RfaWQoKStcIilcIik7dGhpcy5wZW5kaW5nUmVsZWFzZV89ITA7dGhpcy5zcmNPYmplY3Q9dGhpcy5vbnRpbWV1cGRhdGU9dGhpcy5vbmxvYWRlZG1ldGFkYXRhPW51bGw7dGhpcy53YWl0VW50aWxSZWFkeShcIlZpZGVvRWxlbWVudC5kaXNwb3NlXCIpLnRoZW4oZnVuY3Rpb24oKXt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7YS5wZW5kaW5nUmVsZWFzZV89ITE7YS5zZXRTdGF0ZShcImRpc2Nvbm5lY3RlZFwiKTtcclxuYS5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsO2EucmVsZWFzZSgpfSk7dGhpcy5vblJlYWR5KCl9O2IucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMuY29ubmVjdGlvblN0YXRlPWE7aWYodGhpcy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8pdGhpcy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZV8oKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwiSWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudElkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInNpbmtJZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaW5rSWRffSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkLmxvZ2dlci5sb2coXCJWaWRlb0VsZW1lbnQuc2lua0lkOiAoaWQ9XCIrYStcIilcIik7dGhpcy53YWl0VW50aWxDb25uZWN0ZWQoXCJWaWRlb0VsZW1lbnQuc2lua0lkXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT1cclxuYT9iLnJlbW90ZUludm9rZSghMCxoLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5zaW5rSWQsYSk6bmV3IFByb21pc2UoZnVuY3Rpb24oYSl7cmV0dXJuIGEodm9pZCAwKX0pfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhcInZpZGVvRWxlbWVudDogc2V0dGluZyBzdGF0ZSB0byByZWFkeS4gKG9pZDogXCIrYi5vYmplY3RfaWQoKStcIilcIik7Yi5zaW5rSWRfPWE7Yi5yZWFkeVN0YXRlXz10LlJlYWR5O2Iub25SZWFkeSgpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXCIuc2V0X3NpbmtJZCgpIGZhaWxlZCFcIil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJzcmNPYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3JjT2JqZWN0X30sc2V0OmZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyh0aGlzLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zcmNPYmplY3Q6IHNldCBzcmNPYmplY3QuLi4gdGhpcy5zcmNPYmplY3Q6XCIrXHJcbnRoaXMuc3JjT2JqZWN0K1wiIG9iajpcIithKTtpZih0aGlzLnNyY09iamVjdF8hPT1hKXt2YXIgYj1wLmdldFJlZGlyZWN0b3IoKS5nZXRGZWF0dXJlVmFsdWUocS5GRUFUVVJFX21zX3RlYW1zXzE5MTEpO251bGwhPT10aGlzLnNyY09iamVjdF8mJihudWxsPT09YSYmYiYmdGhpcy5kaXNjb25uZWN0KCksYnx8dGhpcy5kaXNjb25uZWN0KCksdGhpcy5pc0xvYWRlZD0hMSk7dGhpcy5zcmNPYmplY3RfPWE7bnVsbCE9PXRoaXMuc3JjT2JqZWN0XyYmdGhpcy5jb25uZWN0VG8odGhpcy5zcmNPYmplY3RfKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25jb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2VffSxzZXQ6ZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpIGNhbGxlZC5cIik7XHJcbnRoaXMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2VfPWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwib25sb2FkZWRtZXRhZGF0YVwiLHtzZXQ6ZnVuY3Rpb24oYSl7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldF9vbmxvYWRlZG1ldGFkYXRhKCkgY2FsbGVkLlwiKTt0aGlzLm9ubG9hZGVkbWV0YWRhdGFfPWF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSk7Yi5wcm90b3R5cGUuc2V0dXBPblZpZGVvRnJhbWVDaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMucmVnaXN0ZXJDYWxsYmFja3MoITEsITEsaC5tZXRob2RfaWRfVmlkZW9FbGVtZW50X3Qub252aWRlb2ZyYW1lY2hhbmdlZCk7Yi50aGVuKGZ1bmN0aW9uKGIpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5vbnZpZGVvZnJhbWVjaGFuZ2VkXCIsYi5wYXJhbXMpO2EudmlkZW9XaWR0aD1cclxuYi5wYXJhbXNbMF18fDA7YS52aWRlb0hlaWdodD1iLnBhcmFtc1sxXXx8MDthLmlzTG9hZGVkfHwoYS5pc0xvYWRlZD0hMCxhLm9ubG9hZGVkbWV0YWRhdGFfJiZhLm9ubG9hZGVkbWV0YWRhdGFfKCkpfSk7dGhpcy5yZW1vdGVJbnZva2UoITAsaC5tZXRob2RfaWRfVmlkZW9FbGVtZW50X3Qub252aWRlb2ZyYW1lY2hhbmdlZCxiLnN1Y2Nlc3MpfTtiLnByb3RvdHlwZS5wcm9jZXNzQ29ubmVjdGlvbkV2ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZigwIT09dGhpcy5jb25uZWN0aW9uRXZlbnRRdWV1ZV8ubGVuZ3RoJiYhdGhpcy5hY3RpdmVDb25uZWN0aW9uRXZlbnRfKXt2YXIgYj10aGlzLmNvbm5lY3Rpb25FdmVudFF1ZXVlXy5wb3AoKTtcImNvbm5lY3RUb1wiPT1iLm9wZXJhdGlvbj90aGlzLmFjdGl2ZUNvbm5lY3Rpb25FdmVudF89dGhpcy5jb25uZWN0VG9Bc3luYyhiLnBhcmFtKTpcImRpc2Nvbm5lY3RcIj09Yi5vcGVyYXRpb24mJih0aGlzLmFjdGl2ZUNvbm5lY3Rpb25FdmVudF89XHJcbnRoaXMuZGlzY29ubmVjdEFzeW5jKCkpO3RoaXMuYWN0aXZlQ29ubmVjdGlvbkV2ZW50Xy50aGVuKGZ1bmN0aW9uKCl7YS5hY3RpdmVDb25uZWN0aW9uRXZlbnRfPXZvaWQgMDthLnByb2Nlc3NDb25uZWN0aW9uRXZlbnQoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXtkLmxvZ2dlci5sb2coYS51c2VyX2ZyaWVuZGx5X2lkKCkrXCIgOiBGYWlsZWQgdG8gaGFuZGxlIGNvbm5lY3Rpb24gZXZlbnQhIFwiKTthLmFjdGl2ZUNvbm5lY3Rpb25FdmVudF89dm9pZCAwO2EucHJvY2Vzc0Nvbm5lY3Rpb25FdmVudCgpfSl9fTtiLnByb3RvdHlwZS5jb25uZWN0VG89ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0aW9uRXZlbnRRdWV1ZV8ucHVzaCh7b3BlcmF0aW9uOlwiY29ubmVjdFRvXCIscGFyYW06YX0pO3RoaXMucHJvY2Vzc0Nvbm5lY3Rpb25FdmVudCgpfTtiLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0aW9uRXZlbnRRdWV1ZV8ucHVzaCh7b3BlcmF0aW9uOlwiZGlzY29ubmVjdFwiLFxyXG5wYXJhbTpudWxsfSk7dGhpcy5wcm9jZXNzQ29ubmVjdGlvbkV2ZW50KCl9O2IucHJvdG90eXBlLmNvbm5lY3RUb0FzeW5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7ZC5sb2dnZXIubG9nKGIudXNlcl9mcmllbmRseV9pZCgpK1wiLmNvbm5lY3RUbzogY29ubmVjdCBtZWRpYSBzdHJlYW0gd2l0aCBpZCA9IFwiK2EuaWQrXCIsIGNsb25lX2lkID0gXCIrYS5jbG9uZV9zdGF0ZS5jbG9uZV9pZCk7Yi5zdHJlYW1JZF89YS5pZDtiLndhaXRVbnRpbFJlYWR5KFwiVmlkZW9FbGVtZW50LmNvbm5lY3RUb1wiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEud2FpdFVudGlsQ29ubmVjdGVkKFwiTWVkaWFTdHJlYW0uY29ubmVjdFRvXCIpfSkudGhlbihmdW5jdGlvbigpe2Iuc2V0dXBPblZpZGVvRnJhbWVDaGFuZ2VkKCk7cmV0dXJuIGEuY2xvbmVfc3RhdGUuc3luY2hyb25pemUoYSl9KS50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcclxuXCIuY29ubmVjdFRvOiByZW1vdGUgaW52b2tpbmdcIik7dmFyIGM9Yi5yZWdpc3RlckNhbGxiYWNrcyghMCwhMSxoLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5jb25uZWN0VG8pO3JldHVybiBQcm9taXNlLmFsbChbYi5yZW1vdGVJbnZva2VFeCghMSxoLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5jb25uZWN0VG8sW2FdLGMuc3VjY2VzcyxjLmZhaWwpLGMucHJvbSgpXSl9KS50aGVuKGZ1bmN0aW9uKGEpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5jb25uZWN0VG86IHJlbW90ZSBtZWRpYSBzdHJlYW0gaXMgY29ubmVjdGVkIVwiKTtiLnNldFN0YXRlKFwiY29ubmVjdGVkXCIpO2Iud2F0Y2goKTtiLnVwZGF0ZVRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Yi5vbnRpbWV1cGRhdGUmJmIub250aW1ldXBkYXRlKCl9LDI1MCk7KGE9Yi53aW5kb3dfLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIuZWxlbWVudElkKSkmJmIudXBkYXRlU3R5bGUoYSk7YygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihhKXtiLmxvZ1JlbW90ZUludm9rZUVycm9yKGEsXHJcblwiLmNvbm5lY3RUbzogZmFpbGVkIHRvIGNvbm5lY3QhXCIpO2UoKX0pfSl9O2IucHJvdG90eXBlLmRpc2Nvbm5lY3RBc3luYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsYyl7ZC5sb2dnZXIubG9nKGEudXNlcl9mcmllbmRseV9pZCgpK1wiLmRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3Rpbmcgc3RyZWFtIDogXCIrYS5zdHJlYW1JZF8pO2EudW53YXRjaCgpO2Eud2FpdFVudGlsUmVhZHkoXCJWaWRlb0VsZW1lbnQuZGlzY29ubmVjdFwiKS50aGVuKGZ1bmN0aW9uKCl7YS51cGRhdGVUaW1lciYmY2xlYXJJbnRlcnZhbChhLnVwZGF0ZVRpbWVyKTt2YXIgYj1hLnJlZ2lzdGVyQ2FsbGJhY2tzKCExLCEwLGgubWV0aG9kX2lkX1ZpZGVvRWxlbWVudF90Lm9udmlkZW9mcmFtZWNoYW5nZWQpO2EucmVtb3RlSW52b2tlKCEwLGgubWV0aG9kX2lkX1ZpZGVvRWxlbWVudF90Lm9udmlkZW9mcmFtZWNoYW5nZWQsYi5zdWNjZXNzKTtyZXR1cm4gYS5yZW1vdGVJbnZva2UoITEsXHJcbmgubWV0aG9kX2lkX1ZpZGVvRWxlbWVudF90LmRpc2Nvbm5lY3QpfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhhLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5kaXNjb25uZWN0OiByZW1vdGUgbWVkaWEgc3RyZWFtIGlzIGRpc2Nvbm5lY3RlZCFcIik7YS5zZXRTdGF0ZShcImRpc2Nvbm5lY3RlZFwiKTsxPT1hLnBlbmRpbmdSZWxlYXNlXyYmKGEucGVuZGluZ1JlbGVhc2VfPSExLGEub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCxhLnJlbGVhc2UoKSk7YigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihiKXthLmxvZ1JlbW90ZUludm9rZUVycm9yKGIsXCIuZGlzY29ubmVjdDogZmFpbGVkIHRvIGNvbm5lY3QhXCIpO2MoKX0pfSl9O2IucHJvdG90eXBlLnNldEZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnNldEZyYW1lOiBzZXQgdmlkZW8gZnJhbWUgdG9cIixhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3RoaXMud2FpdFVudGlsUmVhZHkoXCJWaWRlb0VsZW1lbnQuc2V0RnJhbWVcIikudGhlbihmdW5jdGlvbigpe3ZhciBjPVxyXG5uZXcgbihhLGIud2luZG93Xyk7cmV0dXJuIGIucmVtb3RlSW52b2tlKCExLGgubWV0aG9kX2lkX1ZpZGVvRWxlbWVudF90LnNldEZyYW1lLGMpfSkudGhlbihmdW5jdGlvbigpe2QubG9nZ2VyLmxvZyhiLnVzZXJfZnJpZW5kbHlfaWQoKStcIi5zZXRGcmFtZTogc3VjY2VzcyFcIil9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5zZXRGcmFtZTogZmFpbGVkIHRvIGNvbm5lY3QhXCIpfSl9O2IucHJvdG90eXBlLmFkZENsaXBSZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLmFkZENsaXBSZWN0OiBcIixKU09OLnN0cmluZ2lmeShhKSk7dGhpcy53YWl0VW50aWxSZWFkeShcIlZpZGVvRWxlbWVudC5hZGRDbGlwUmVjdFwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9bmV3IG4oYSxiLndpbmRvd18pO3JldHVybiBiLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5hZGRDbGlwUmVjdCxcclxuYyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5hZGRDbGlwUmVjdCBmYWlsZWQhXCIpfSl9O2IucHJvdG90eXBlLnJlbW92ZUNsaXBSZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZC5sb2dnZXIubG9nKHRoaXMudXNlcl9mcmllbmRseV9pZCgpK1wiLnJlbW92ZUNsaXBSZWN0OiBcIixKU09OLnN0cmluZ2lmeShhKSk7dGhpcy53YWl0VW50aWxSZWFkeShcIlZpZGVvRWxlbWVudC5yZW1vdmVDbGlwUmVjdFwiKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9bmV3IG4oYSxiLndpbmRvd18pO3JldHVybiBiLnJlbW90ZUludm9rZSghMSxoLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5yZW1vdmVDbGlwUmVjdCxjKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oYSl7Yi5sb2dSZW1vdGVJbnZva2VFcnJvcihhLFwiLnJlbW92ZUNsaXBSZWN0IGZhaWxlZCFcIil9KX07Yi5wcm90b3R5cGUud2F0Y2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKHAuZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZShxLkZFQVRVUkVfbXNfdGVhbXNfdmlkZW9fcGxhY2VtZW50KSl7dmFyIGI9XHJcbnRoaXMud2luZG93Xy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsZW1lbnRJZCk7YiYmKHRoaXMudW53YXRjaCgpLHRoaXMuc3R5bGVPYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihiKXtiLmZvckVhY2goZnVuY3Rpb24oYil7XCJzdHlsZVwiPT1iLmF0dHJpYnV0ZU5hbWU/YS51cGRhdGVTdHlsZShiLnRhcmdldCk6YS5lbGVtZW50SWQ9Yi50YXJnZXQuaWR9KX0pLHRoaXMuc3R5bGVPYnNlcnZlci5vYnNlcnZlKGIse2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsYXR0cmlidXRlRmlsdGVyOltcInN0eWxlXCIsXCJpZFwiXX0pKX19O2IucHJvdG90eXBlLnVud2F0Y2g9ZnVuY3Rpb24oKXt0aGlzLnN0eWxlT2JzZXJ2ZXImJih0aGlzLnN0eWxlT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHRoaXMuc3R5bGVPYnNlcnZlcj1udWxsKX07Yi5wcm90b3R5cGUudXBkYXRlU3R5bGU9ZnVuY3Rpb24oYSl7aWYoXCJjb25uZWN0ZWRcIj09dGhpcy5jb25uZWN0aW9uU3RhdGUpe3ZhciBiPVxyXG50aGlzLndpbmRvd18uZ2V0Q29tcHV0ZWRTdHlsZShhKS5nZXRQcm9wZXJ0eVZhbHVlKFwib2JqZWN0LWZpdFwiKSxjPXRoaXMud2luZG93Xy5nZXRDb21wdXRlZFN0eWxlKGEpLmdldFByb3BlcnR5VmFsdWUoXCJvYmplY3QtcG9zaXRpb25cIikuc3BsaXQoXCIgXCIpO2E9bmV3IHYoY1swXSk7Yz1uZXcgdihjWzFdKTt0aGlzLnBsYWNlbWVudD1uZXcgQihiLGEsYyl9ZWxzZSBkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIudXBkYXRlU3R5bGU6IHZpZGVvIGVsZW1lbnQgaXMgbm90IGNvbm5lY3RlZFwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicGxhY2VtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYWNlbWVudF99LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3AuZ2V0UmVkaXJlY3RvcigpLmdldEZlYXR1cmVWYWx1ZShxLkZFQVRVUkVfbXNfdGVhbXNfdmlkZW9fcGxhY2VtZW50KT90aGlzLndhaXRVbnRpbFJlYWR5KFwiVmlkZW9FbGVtZW50LnBsYWNlbWVudFwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIucmVtb3RlSW52b2tlKCEwLFxyXG5oLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdC5wbGFjZW1lbnQsYSl9KS50aGVuKGZ1bmN0aW9uKCl7Yi5wbGFjZW1lbnRfPWF9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGEpe2IubG9nUmVtb3RlSW52b2tlRXJyb3IoYSxcIi5wbGFjZW1lbnQgc2V0dGVyOiBmYWlsZWQgdG8gY29ubmVjdCFcIil9KTpkLmxvZ2dlci5sb2codGhpcy51c2VyX2ZyaWVuZGx5X2lkKCkrXCIucGxhY2VtZW50OiB2aWRlbyBwbGFjZW1lbnQgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIG9uIGEgY2xpZW50XCIpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pO2IucHJvdG90eXBlLndhaXRVbnRpbFJlYWR5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7ZC5sb2dnZXIubG9nKFwiVmlkZW9FbGVtZW50LndhaXRVbnRpbFJlYWR5KCk6IHJlYWR5U3RhdGU9XCIrYi5yZWFkeVN0YXRlXytcIi4gKG9pZDogXCIrYi5vYmplY3RfaWQoKStcIilcIik7Yi5yZWFkeVN0YXRlXz09XHJcbnQuUmVhZHk/YygpOihkLmxvZ2dlci5sb2coJ3ZpZGVvRWxlbWVudC53YWl0VW50aWxSZWFkeSgpOiBkZWZlcnJpbmcgYWN0aW9uIFwiJythKydcIi4gKG9pZDogJytiLm9iamVjdF9pZCgpK1wiKVwiKSxiLmRlZmVycmVkVmlkZW9BY3Rpb25zLnB1c2gobmV3IGwuZGVmZXJyZWRfYWN0aW9uKGMsZSxhKSkpfSl9O2IucHJvdG90eXBlLm9uUmVhZHk9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuZGVmZXJyZWRWaWRlb0FjdGlvbnMmJjA8dGhpcy5kZWZlcnJlZFZpZGVvQWN0aW9ucy5sZW5ndGg7KXRoaXMuZGVmZXJyZWRWaWRlb0FjdGlvbnMuc2hpZnQoKS5wb3N0KHRoaXMucmVhZHlTdGF0ZV89PXQuUmVhZHkpfTtyZXR1cm4gYn0obC5Qcm94eU9iamVjdCk7YS5WaWRlb0VsZW1lbnQ9Yn0sMjY5OmZ1bmN0aW9uKGIsYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5IYXJkd2FyZUluZm89YS5NZW1vcnlJbmZvPWEuR1BVSW5mbz1hLkdQVT1hLkNQVUluZm89XHJcbmEuV2VicnBjQ2xhc3NMaWJJbmZvPWEuV2VicnBjQ2xhc3NJbmZvPWEuV2VicnBjTWV0aG9kSW5mbz1hLkVuZHBvaW50SWQ9YS5PU0luZm89YS5XZWJycGNGZWF0dXJlSW5mbz1hLkZlYXR1cmVEYXRhPWEuVmVyc2lvbkRhdGE9YS5GRUFUVVJFX3Vuc3VwcG9ydGVkPWEuRkVBVFVSRV9tc190ZWFtc19yZWRpcmVjdGlvbj12b2lkIDA7YS5GRUFUVVJFX21zX3RlYW1zX3JlZGlyZWN0aW9uPVwibXNfdGVhbXNfcmVkaXJlY3Rpb25cIjthLkZFQVRVUkVfdW5zdXBwb3J0ZWQ9XCJ1bnN1cHBvcnRlZFwiO3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjLGQpe3RoaXMubWFqb3I9YTt0aGlzLm1pbm9yPWI7dGhpcy5yZXZpc2lvbj1jO3RoaXMuYnVpbGQ9ZH19KCk7YS5WZXJzaW9uRGF0YT1jO2M9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSgpO2EuRmVhdHVyZURhdGE9YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dGhpcy5mYXR1cmU9YTt0aGlzLnZlcnNpb249XHJcbmJ9fSgpO2EuV2VicnBjRmVhdHVyZUluZm89YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5mYW1pbHk9YTt0aGlzLnZlcnNpb249Yjt0aGlzLmFyY2hpdGVjdHVyZT1jO3RoaXMuZGlzdHJvPWQ7dGhpcy5lZGl0aW9uPWV9fSgpO2EuT1NJbmZvPWM7Yz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMubWFjaGluZV9pZD1hO3RoaXMudXNlcl9pZD1ifX0oKTthLkVuZHBvaW50SWQ9YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlLGQsbCl7dm9pZCAwPT09bCYmKGw9YS5GRUFUVVJFX21zX3RlYW1zX3JlZGlyZWN0aW9uKTt0aGlzLmlpZD1iO3RoaXMubWlkPWM7dGhpcy5uYW1lPWU7dGhpcy5pc3Byb3A9ZDt0aGlzLmZlYXR1cmU9bH19KCk7YS5XZWJycGNNZXRob2RJbmZvPWM7Yz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7dGhpcy5pZD1hO3RoaXMubmFtZT1iO3RoaXMubWV0aG9kcz1jfX0oKTthLldlYnJwY0NsYXNzSW5mbz1cclxuYztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5jbGFzc2VzPWJ9fSgpO2EuV2VicnBjQ2xhc3NMaWJJbmZvPWM7Yz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3RoaXMuY3B1bW9kZWw9YTt0aGlzLm51bWJlcm9mcHJvY2Vzc29ycz1ifX0oKTthLkNQVUluZm89YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5kcml2ZXI9Yn19KCk7YS5HUFU9YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3RoaXMuZ3B1cz1hfX0oKTthLkdQVUluZm89YztjPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3RoaXMudG90YWxtZW1vcnk9YX19KCk7YS5NZW1vcnlJbmZvPWM7Yz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7dGhpcy5jcHVfaW5mbz1hO3RoaXMuZ3B1X2luZm89Yjt0aGlzLm1lbW9yeV9pbmZvPWN9fSgpO2EuSGFyZHdhcmVJbmZvPWN9LDU1MDpmdW5jdGlvbihiLFxyXG5hLGMpe3ZhciBlPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihhLGIsYyxlKXt2b2lkIDA9PT1lJiYoZT1jKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxlLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW2NdfX0pfTpmdW5jdGlvbihhLGIsYyxlKXt2b2lkIDA9PT1lJiYoZT1jKTthW2VdPWJbY119KTtiPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKVwiZGVmYXVsdFwiPT09Y3x8Yi5oYXNPd25Qcm9wZXJ0eShjKXx8ZShiLGEsYyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2EuV2VicnBjQ2xhc3NMaWJJbmZvVXRpbD12b2lkIDA7dmFyIGw9YygxODcpO2IoYygxODcpLGEpO2M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWEuZ2V0SW50ZXJmYWNlQnlpZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPWwuY2xhc3NfbGliX2luZm8uY2xhc3NlcztiPFxyXG5jLmxlbmd0aDtiKyspe3ZhciBlPWNbYl07aWYoZS5pZD09YSlyZXR1cm4gZX1yZXR1cm4gbnVsbH07YS5nZXRNZXRob2RCeWlkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRJbnRlcmZhY2VCeWlkKGEpO2lmKG51bGwhPWMpZm9yKHZhciBlPTAsYz1jLm1ldGhvZHM7ZTxjLmxlbmd0aDtlKyspe3ZhciBrPWNbZV07aWYoay5taWQ9PWIpcmV0dXJuIGt9cmV0dXJuIG51bGx9O2EuZ2V0TWV0aG9kRmVhdHVyZUJ5aWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEludGVyZmFjZUJ5aWQoYSk7aWYobnVsbCE9Yylmb3IodmFyIGU9MCxjPWMubWV0aG9kcztlPGMubGVuZ3RoO2UrKyl7dmFyIGs9Y1tlXTtpZihrLm1pZD09YilyZXR1cm4gay5mZWF0dXJlfXJldHVybiBudWxsfTthLmNvbXBvc2VDbGFzc0luZm9EYXRhPWZ1bmN0aW9uKGEpe2E9YS5oZHI7aWYodm9pZCAwPT1hKXJldHVyblwiKioqIEludmFsaWQgcGFja2V0OiBDb3VsZG4ndCBmaW5kIGhkciBvYmplY3QgKioqXCI7dmFyIGI9XHJcbmEucHJvYztpZih2b2lkIDA9PWIpcmV0dXJuXCJcIjthPWIuaWlkO2Zvcih2YXIgYj1iLm1ldGhvZGlkLGM9MCxlPWwuY2xhc3NfbGliX2luZm8uY2xhc3NlcztjPGUubGVuZ3RoO2MrKyl7dmFyIGs9ZVtjXTtpZihrLmlkPT1hKWZvcih2YXIgaD0wLHA9ay5tZXRob2RzO2g8cC5sZW5ndGg7aCsrKXt2YXIgZz1wW2hdO2lmKGcubWlkPT1iKXJldHVybiBrLm5hbWUrXCI6OlwiK2cubmFtZX19cmV0dXJuXCJcIn07cmV0dXJuIGF9KCk7YS5XZWJycGNDbGFzc0xpYkluZm9VdGlsPWN9LDE4NzpmdW5jdGlvbihiLGEsYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YS5jbGFzc19saWJfaW5mbz1hLm1ldGhvZF9pZF9TdHJlYW1SZXNvbHV0aW9uX3Q9YS5tZXRob2RfaWRfUlRDU2N0cFRyYW5zcG9ydF90PWEubWV0aG9kX2lkX1JUQ0RhdGFDaGFubmVsX3Q9YS5tZXRob2RfaWRfRTkxMVNlcnZpY2VfdD1hLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdD1hLm1ldGhvZF9pZF9WRElTaGFyaW5nUmVtb3RlX3Q9XHJcbmEubWV0aG9kX2lkX1JUQ1J0cFRyYW5zY2VpdmVyX3Q9YS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlUGFpcl90PWEubWV0aG9kX2lkX1JUQ0RUTUZUb25lQ2hhbmdlRXZlbnRfdD1hLm1ldGhvZF9pZF9SVENEVE1GU2VuZGVyX3Q9YS5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3Q9YS5tZXRob2RfaWRfUlRDRHRsc1RyYW5zcG9ydF90PWEubWV0aG9kX2lkX1JUQ1J0cFNlbmRlcl90PWEubWV0aG9kX2lkX1JUQ1J0cFJlY2VpdmVyX3Q9YS5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3Q9YS5tZXRob2RfaWRfVmlkZW9FbGVtZW50X3Q9YS5tZXRob2RfaWRfTWVkaWFTdHJlYW1FdmVudF90PWEubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZUV2ZW50X3Q9YS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlX3Q9YS5tZXRob2RfaWRfTmF2aWdhdG9yVXNlck1lZGlhX3Q9YS5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdD1hLm1ldGhvZF9pZF9NZWRpYVN0cmVhbVRyYWNrX3Q9YS5tZXRob2RfaWRfUlRDU2Vzc2lvbkRlc2NyaXB0aW9uX3Q9XHJcbmEubWV0aG9kX2lkX01lZGlhRGV2aWNlSW5mb190PWEubWV0aG9kX2lkX01lZGlhRGV2aWNlc190PWEubWV0aG9kX2lkX1JUQ1BlZXJDb25uZWN0aW9uX3Q9YS5tZXRob2RfaWRfRW5naW5lQ29udHJvbF90PWEuY2xhc3NfaWRfdD1hLnZkYUZlYXR1cmVOYW1lTWFwPWEuZmVhdHVyZU5hbWVNYXA9YS5GZWF0dXJlcz1hLkZFQVRVUkVfbXNfdGVhbXNfc2VuZGVyX3N0YXRzX2ZpeD1hLkZFQVRVUkVfbXNfdGVhbXNfZW51bWVyYXRlX2RldmljZXNfdjI9YS5GRUFUVVJFX21zX3RlYW1zX3RyYWNrX2Nsb25lX3dpdGhfaWQ9YS5GRUFUVVJFX21zX3RlYW1zX2F1ZGlvX25vdGlmaWNhdGlvbnNfbG9vcD1hLkZFQVRVUkVfbXNfdGVhbXNfc2hhcmVfc3lzdGVtX2F1ZGlvPWEuRkVBVFVSRV9tc190ZWFtc19zdHJlYW1fYWN0aXZlX3N0YXR1cz1hLkZFQVRVUkVfbXNfdGVhbXNfaGFyZHdhcmVfaW5mbz1hLkZFQVRVUkVfbXNfdGVhbXNfc2Vjb25kYXJ5X2F1ZGlvX25vdGlmaWNhdGlvbnM9YS5GRUFUVVJFX21zX3RlYW1zX3N0cmVhbV9yZXNvbHV0aW9uPVxyXG5hLkZFQVRVUkVfbXNfdGVhbXNfY2xpZW50X2luZm89YS5GRUFUVVJFX21zX3RlYW1zX25vX3ZkX2J1ZmZlcl9saW1pdD1hLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsPWEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDA9YS5GRUFUVVJFX21zX3RlYW1zX211bHRpX3dpbmRvdz1hLkZFQVRVUkVfbXNfdGVhbXNfZ3RjPWEuRkVBVFVSRV9tc190ZWFtc19lOTExPWEuRkVBVFVSRV9tc190ZWFtc19jb2RlY19jYXBhYmlsaXR5PWEuRkVBVFVSRV9tc190ZWFtc19hcHBfc2hhcmluZz1hLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nPWEuRkVBVFVSRV9tc190ZWFtc192aWRlb19wbGFjZW1lbnQ9YS5GRUFUVVJFX21zX3RlYW1zX2R0bWY9YS5GRUFUVVJFX21zX3RlYW1zX2RldmljZV9ncm91cF9pZD1hLkZFQVRVUkVfbXNfdGVhbXNfcmVtb3RlX2F1ZGlvX25vdGlmaWNhdGlvbnM9YS5GRUFUVVJFX21zX3RlYW1zX2VuZHBvaW50X2lkPWEuRkVBVFVSRV9tc190ZWFtc19vc2luZm89XHJcbmEuRkVBVFVSRV9tc190ZWFtc19tc3RyYWNrX2NvbnN0cmFpbnRzPWEuRkVBVFVSRV9tc190ZWFtc18xOTEyPWEuRkVBVFVSRV9tc190ZWFtc19wc3RuPWEuRkVBVFVSRV9tc190ZWFtc18xOTExPWEuRkVBVFVSRV9tc190ZWFtc19jb21tb25fbWVkaWFfY29uc3RyYWludHM9YS5GRUFUVVJFX21zX3RlYW1zX3NwZWFraW5nX2luZGljYXRvcj1hLkZFQVRVUkVfbXNfdGVhbXNfZGVza3RvcF9zaGFyaW5nPWEuRkVBVFVSRV92ZGFfZGVsZXRlX3ZpZXdwb3J0PWEuRkVBVFVSRV92ZGFfbXVsdGlfd2luZG93PWEuRkVBVFVSRV92ZGFfYXBwX3NoYXJpbmc9YS5GRUFUVVJFX3ZkYV9zZXJ2aWNlX25vX2J1ZmZlcl9saW1pdD1hLkhEWE1TX1ZFUlNJT049YS5CVUlMRF9UWVBFX1NESz12b2lkIDA7Yj1jKDI2OSk7dmFyIGU9YygyNjkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiVmVyc2lvbkRhdGFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5WZXJzaW9uRGF0YX19KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJGZWF0dXJlRGF0YVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLkZlYXR1cmVEYXRhfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiT1NJbmZvXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuT1NJbmZvfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiRW5kcG9pbnRJZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLkVuZHBvaW50SWR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJIYXJkd2FyZUluZm9cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5IYXJkd2FyZUluZm99fSk7YS5CVUlMRF9UWVBFX1NESz0hMDthLkhEWE1TX1ZFUlNJT049XCIzLjEuMFwiO2EuRkVBVFVSRV92ZGFfc2VydmljZV9ub19idWZmZXJfbGltaXQ9XCJ3c3NlcnZpY2Vfbm9fYnVmZmVyX2xpbWl0XCI7YS5GRUFUVVJFX3ZkYV9hcHBfc2hhcmluZz1cIndlYnJ0Y19hcHBfc2hhcmluZ1wiO1xyXG5hLkZFQVRVUkVfdmRhX211bHRpX3dpbmRvdz1cIndlYnJ0Y19tdWx0aV93aW5kb3dcIjthLkZFQVRVUkVfdmRhX2RlbGV0ZV92aWV3cG9ydD1cIm92ZXJsYXlfZGVsZXRlX3ZpZXdwb3J0XCI7YS5GRUFUVVJFX21zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZz1cIm1zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZ1wiO2EuRkVBVFVSRV9tc190ZWFtc19zcGVha2luZ19pbmRpY2F0b3I9XCJtc190ZWFtc19zcGVha2luZ19pbmRpY2F0b3JcIjthLkZFQVRVUkVfbXNfdGVhbXNfY29tbW9uX21lZGlhX2NvbnN0cmFpbnRzPVwibXNfdGVhbXNfY29tbW9uX21lZGlhX2NvbnN0cmFpbnRzXCI7YS5GRUFUVVJFX21zX3RlYW1zXzE5MTE9XCJtc190ZWFtc18xOTExXCI7YS5GRUFUVVJFX21zX3RlYW1zX3BzdG49XCJtc190ZWFtc19wc3RuXCI7YS5GRUFUVVJFX21zX3RlYW1zXzE5MTI9XCJtc190ZWFtc18xOTEyXCI7YS5GRUFUVVJFX21zX3RlYW1zX21zdHJhY2tfY29uc3RyYWludHM9XCJtc190ZWFtc19tc3RyYWNrX2NvbnN0cmFpbnRzXCI7XHJcbmEuRkVBVFVSRV9tc190ZWFtc19vc2luZm89XCJtc190ZWFtc19vc2luZm9cIjthLkZFQVRVUkVfbXNfdGVhbXNfZW5kcG9pbnRfaWQ9XCJtc190ZWFtc19lbmRwb2ludF9pZFwiO2EuRkVBVFVSRV9tc190ZWFtc19yZW1vdGVfYXVkaW9fbm90aWZpY2F0aW9ucz1cIm1zX3RlYW1zX3JlbW90ZV9hdWRpb19ub3RpZmljYXRpb25zXCI7YS5GRUFUVVJFX21zX3RlYW1zX2RldmljZV9ncm91cF9pZD1cIm1zX3RlYW1zX2RldmljZV9ncm91cF9pZFwiO2EuRkVBVFVSRV9tc190ZWFtc19kdG1mPVwibXNfdGVhbXNfZHRtZlwiO2EuRkVBVFVSRV9tc190ZWFtc192aWRlb19wbGFjZW1lbnQ9XCJtc190ZWFtc192aWRlb19wbGFjZW1lbnRcIjthLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nPVwibXNfdGVhbXNfbXVsdGlfbW9uaXRvcl9zaGFyaW5nXCI7YS5GRUFUVVJFX21zX3RlYW1zX2FwcF9zaGFyaW5nPVwibXNfdGVhbXNfYXBwX3NoYXJpbmdcIjthLkZFQVRVUkVfbXNfdGVhbXNfY29kZWNfY2FwYWJpbGl0eT1cclxuXCJtc190ZWFtc19jb2RlY19jYXBhYmlsaXR5XCI7YS5GRUFUVVJFX21zX3RlYW1zX2U5MTE9XCJtc190ZWFtc19lOTExXCI7YS5GRUFUVVJFX21zX3RlYW1zX2d0Yz1cIm1zX3RlYW1zX2d0Y1wiO2EuRkVBVFVSRV9tc190ZWFtc19tdWx0aV93aW5kb3c9XCJtc190ZWFtc19tdWx0aV93aW5kb3dzXCI7YS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MD1cIm1zX3RlYW1zX3dlYnJ0Y18xLjBcIjthLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsPVwibXNfdGVhbXNfZGF0YV9jaGFubmVsXCI7YS5GRUFUVVJFX21zX3RlYW1zX25vX3ZkX2J1ZmZlcl9saW1pdD1cIm1zX3RlYW1zX25vX3ZkX2J1ZmZlcl9saW1pdFwiO2EuRkVBVFVSRV9tc190ZWFtc19jbGllbnRfaW5mbz1cIm1zX3RlYW1zX2NsaWVudF9pbmZvXCI7YS5GRUFUVVJFX21zX3RlYW1zX3N0cmVhbV9yZXNvbHV0aW9uPVwibXNfdGVhbXNfc3RyZWFtX3Jlc29sdXRpb25cIjthLkZFQVRVUkVfbXNfdGVhbXNfc2Vjb25kYXJ5X2F1ZGlvX25vdGlmaWNhdGlvbnM9XHJcblwibXNfdGVhbXNfc2Vjb25kYXJ5X2F1ZGlvX25vdGlmaWNhdGlvbnNcIjthLkZFQVRVUkVfbXNfdGVhbXNfaGFyZHdhcmVfaW5mbz1cIm1zX3RlYW1zX2hhcmR3YXJlX2luZm9cIjthLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX2FjdGl2ZV9zdGF0dXM9XCJtc190ZWFtc19zdHJlYW1fYWN0aXZlX3N0YXR1c1wiO2EuRkVBVFVSRV9tc190ZWFtc19zaGFyZV9zeXN0ZW1fYXVkaW89XCJtc190ZWFtc19zaGFyZV9zeXN0ZW1fYXVkaW9cIjthLkZFQVRVUkVfbXNfdGVhbXNfYXVkaW9fbm90aWZpY2F0aW9uc19sb29wPVwibXNfdGVhbXNfYXVkaW9fbm90aWZpY2F0aW9uc19sb29wXCI7YS5GRUFUVVJFX21zX3RlYW1zX3RyYWNrX2Nsb25lX3dpdGhfaWQ9XCJtc190ZWFtc190cmFja19jbG9uZV93aXRoX2lkXCI7YS5GRUFUVVJFX21zX3RlYW1zX2VudW1lcmF0ZV9kZXZpY2VzX3YyPVwibXNfdGVhbXNfZW51bWVyYXRlX2RldmljZXNfdjJcIjthLkZFQVRVUkVfbXNfdGVhbXNfc2VuZGVyX3N0YXRzX2ZpeD1cIm1zX3RlYW1zX3NlbmRlcl9zdGF0c19maXhcIjtcclxubmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYi5GRUFUVVJFX21zX3RlYW1zX3JlZGlyZWN0aW9uLG5ldyBiLlZlcnNpb25EYXRhKDEsMSwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfZGVza3RvcF9zaGFyaW5nLG5ldyBiLlZlcnNpb25EYXRhKDEsMiwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfc3BlYWtpbmdfaW5kaWNhdG9yLG5ldyBiLlZlcnNpb25EYXRhKDEsMiwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfY29tbW9uX21lZGlhX2NvbnN0cmFpbnRzLG5ldyBiLlZlcnNpb25EYXRhKDEsNCwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfMTkxMSxuZXcgYi5WZXJzaW9uRGF0YSgxLDQsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zXzE5MTIsbmV3IGIuVmVyc2lvbkRhdGEoMSw1LFxyXG4wLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfbXN0cmFja19jb25zdHJhaW50cyxuZXcgYi5WZXJzaW9uRGF0YSgxLDYsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4sbmV3IGIuVmVyc2lvbkRhdGEoMSw2LDAsMCkpO25ldyBiLldlYnJwY0ZlYXR1cmVJbmZvKGEuRkVBVFVSRV9tc190ZWFtc19vc2luZm8sbmV3IGIuVmVyc2lvbkRhdGEoMSw3LDAsMCkpO25ldyBiLldlYnJwY0ZlYXR1cmVJbmZvKGEuRkVBVFVSRV9tc190ZWFtc19lbmRwb2ludF9pZCxuZXcgYi5WZXJzaW9uRGF0YSgxLDcsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zX3JlbW90ZV9hdWRpb19ub3RpZmljYXRpb25zLG5ldyBiLlZlcnNpb25EYXRhKDEsNywwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfZGV2aWNlX2dyb3VwX2lkLG5ldyBiLlZlcnNpb25EYXRhKDEsXHJcbjcsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zX2NvZGVjX2NhcGFiaWxpdHksbmV3IGIuVmVyc2lvbkRhdGEoMSw3LDAsMCkpO25ldyBiLldlYnJwY0ZlYXR1cmVJbmZvKGEuRkVBVFVSRV9tc190ZWFtc19kdG1mLG5ldyBiLlZlcnNpb25EYXRhKDEsNywwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfdmlkZW9fcGxhY2VtZW50LG5ldyBiLlZlcnNpb25EYXRhKDEsNywwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nLG5ldyBiLlZlcnNpb25EYXRhKDEsNywwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfYXBwX3NoYXJpbmcsbmV3IGIuVmVyc2lvbkRhdGEoMSw4LDAsMCkpO25ldyBiLldlYnJwY0ZlYXR1cmVJbmZvKGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDAsbmV3IGIuVmVyc2lvbkRhdGEoMSxcclxuOCwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsLG5ldyBiLlZlcnNpb25EYXRhKDEsOCwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfZTkxMSxuZXcgYi5WZXJzaW9uRGF0YSgxLDEzLDAsMCkpO25ldyBiLldlYnJwY0ZlYXR1cmVJbmZvKGEuRkVBVFVSRV9tc190ZWFtc19tdWx0aV93aW5kb3csbmV3IGIuVmVyc2lvbkRhdGEoMSwxNCwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfY2xpZW50X2luZm8sbmV3IGIuVmVyc2lvbkRhdGEoMSwxOSwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX3Jlc29sdXRpb24sbmV3IGIuVmVyc2lvbkRhdGEoMSwyNSwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfc2Vjb25kYXJ5X2F1ZGlvX25vdGlmaWNhdGlvbnMsXHJcbm5ldyBiLlZlcnNpb25EYXRhKDEsMjEsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zX2hhcmR3YXJlX2luZm8sbmV3IGIuVmVyc2lvbkRhdGEoMSwzNSwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX2FjdGl2ZV9zdGF0dXMsbmV3IGIuVmVyc2lvbkRhdGEoMSwzMiwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfYXVkaW9fbm90aWZpY2F0aW9uc19sb29wLG5ldyBiLlZlcnNpb25EYXRhKDEsMzMsMCwwKSk7bmV3IGIuV2VicnBjRmVhdHVyZUluZm8oYS5GRUFUVVJFX21zX3RlYW1zX3RyYWNrX2Nsb25lX3dpdGhfaWQsbmV3IGIuVmVyc2lvbkRhdGEoMSwzMywwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfZW51bWVyYXRlX2RldmljZXNfdjIsbmV3IGIuVmVyc2lvbkRhdGEoMSwzNSwwLDApKTtuZXcgYi5XZWJycGNGZWF0dXJlSW5mbyhhLkZFQVRVUkVfbXNfdGVhbXNfc2VuZGVyX3N0YXRzX2ZpeCxcclxubmV3IGIuVmVyc2lvbkRhdGEoMSwzNiwwLDApKTtjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31hLkZFQVRVUkVfcHVibGljX3NjcmVlbnNoYXJlPVwic2NyZWVuc2hhcmVcIjthLkZFQVRVUkVfcHVibGljX3JlZGlyZWN0aW9uPVwicmVkaXJlY3Rpb25cIjthLkZFQVRVUkVfcHVibGljX3NwZWFraW5nX2luZGljYXRvcj1cInNwZWFraW5nX2luZGljYXRvclwiO2EuRkVBVFVSRV9wdWJsaWNfcHN0bj1cInBzdG5cIjthLkZFQVRVUkVfcHVibGljX29zaW5mbz1cIm9zaW5mb1wiO2EuRkVBVFVSRV9wdWJsaWNfZW5kcG9pbnRfaWQ9XCJlbmRwb2ludGlkXCI7YS5GRUFUVVJFX3B1YmxpY19yZW1vdGVfYXVkaW9fbm90aWZpY2F0aW9ucz1cInJlbW90ZWF1ZGlvbm90aWZpY2F0aW9uc1wiO2EuRkVBVFVSRV9wdWJsaWNfZGV2aWNlX2dyb3VwX2lkPVwiY29tcG9zaXRlZGV2aWNlc1wiO2EuRkVBVFVSRV9wdWJsaWNfZHRtZj1cImR0bWZcIjthLkZFQVRVUkVfcHVibGljX21vbml0b3Jfc2hhcmluZz1cIm11bHRpbW9uaXRvcnNjcmVlbnNoYXJlXCI7XHJcbmEuRkVBVFVSRV9wdWJsaWNfYXBwX3NoYXJpbmc9XCJhcHBzaGFyZVwiO2EuRkVBVFVSRV9wdWJsaWNfY29kZWNfY2FwYWJpbGl0eT1cImNvZGVjX2NhcGFiaWxpdHlcIjthLkZFQVRVUkVfcHVibGljX2U5MTE9XCJlOTExXCI7YS5GRUFUVVJFX3B1YmxpY193ZWJydGMxZG90MD1cIndlYnJ0YzEuMFwiO2EuRkVBVFVSRV9wdWJsaWNfZGF0YV9jaGFubmVsPVwiZGF0YWNoYW5uZWxcIjthLkZFQVRVUkVfcHVibGljX3Zkbm9idWZsaW1pdD1cInZkbm9idWZsaW1pdFwiO2EuRkVBVFVSRV9wdWJsaWNfbXVsdGlfd2luZG93PVwibXVsdGl3aW5kb3dcIjthLkZFQVRVUkVfcHVibGljX3NlY29uZGFyeV9hdWRpb19ub3RpZmljYXRpb25zPVwic2Vjb25kYXJ5cmluZ2VyXCI7YS5GRUFUVVJFX3B1YmxpY19zdHJlYW1fcmVzb2x1dGlvbj1cInN0cmVhbXJlc29sdXRpb25cIjthLkZFQVRVUkVfcHVibGljX3RyYWNrX2Nsb25lX3dpdGhfaWQ9XCJ0cmFja19jbG9uZV93aXRoX2lkXCI7YS5GRUFUVVJFX3B1YmxpY19zZW5kZXJfc3RhdHNfZml4PVxyXG5cInNlbmRlcl9zdGF0c19maXhcIjthLkZFQVRVUkVfcHVibGljX2F1ZGlvX25vdGlmaWNhdGlvbl9sb29wPVwibG9vcFwiO3JldHVybiBhfSgpO2EuRmVhdHVyZXM9YzthLmZlYXR1cmVOYW1lTWFwPXt9O2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19zY3JlZW5zaGFyZV09W2EuRkVBVFVSRV9tc190ZWFtc19kZXNrdG9wX3NoYXJpbmddO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19yZWRpcmVjdGlvbl09W2IuRkVBVFVSRV9tc190ZWFtc19yZWRpcmVjdGlvbl07YS5mZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX3NwZWFraW5nX2luZGljYXRvcl09W2EuRkVBVFVSRV9tc190ZWFtc19zcGVha2luZ19pbmRpY2F0b3JdO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19wc3RuXT1bYS5GRUFUVVJFX21zX3RlYW1zX3BzdG5dO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19vc2luZm9dPVthLkZFQVRVUkVfbXNfdGVhbXNfb3NpbmZvXTtcclxuYS5mZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX2VuZHBvaW50X2lkXT1bYS5GRUFUVVJFX21zX3RlYW1zX2VuZHBvaW50X2lkXTthLmZlYXR1cmVOYW1lTWFwW2MuRkVBVFVSRV9wdWJsaWNfcmVtb3RlX2F1ZGlvX25vdGlmaWNhdGlvbnNdPVthLkZFQVRVUkVfbXNfdGVhbXNfcmVtb3RlX2F1ZGlvX25vdGlmaWNhdGlvbnMsYS5GRUFUVVJFX21zX3RlYW1zX3NlY29uZGFyeV9hdWRpb19ub3RpZmljYXRpb25zXTthLmZlYXR1cmVOYW1lTWFwW2MuRkVBVFVSRV9wdWJsaWNfZGV2aWNlX2dyb3VwX2lkXT1bYS5GRUFUVVJFX21zX3RlYW1zX2RldmljZV9ncm91cF9pZF07YS5mZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX2R0bWZdPVthLkZFQVRVUkVfbXNfdGVhbXNfZHRtZl07YS5mZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX21vbml0b3Jfc2hhcmluZ109W2EuRkVBVFVSRV9tc190ZWFtc19tb25pdG9yX3NoYXJpbmddO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19hcHBfc2hhcmluZ109XHJcblthLkZFQVRVUkVfbXNfdGVhbXNfYXBwX3NoYXJpbmddO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19jb2RlY19jYXBhYmlsaXR5XT1bYS5GRUFUVVJFX21zX3RlYW1zX2NvZGVjX2NhcGFiaWxpdHldO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19lOTExXT1bYS5GRUFUVVJFX21zX3RlYW1zX2U5MTFdO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY193ZWJydGMxZG90MF09W2EuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDBdO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19tdWx0aV93aW5kb3ddPVthLkZFQVRVUkVfbXNfdGVhbXNfbXVsdGlfd2luZG93XTthLmZlYXR1cmVOYW1lTWFwW2MuRkVBVFVSRV9wdWJsaWNfZGF0YV9jaGFubmVsXT1bYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbF07YS5mZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX3Zkbm9idWZsaW1pdF09W2EuRkVBVFVSRV9tc190ZWFtc19ub192ZF9idWZmZXJfbGltaXRdO1xyXG5hLmZlYXR1cmVOYW1lTWFwW2MuRkVBVFVSRV9wdWJsaWNfc2Vjb25kYXJ5X2F1ZGlvX25vdGlmaWNhdGlvbnNdPVthLkZFQVRVUkVfbXNfdGVhbXNfcmVtb3RlX2F1ZGlvX25vdGlmaWNhdGlvbnMsYS5GRUFUVVJFX21zX3RlYW1zX3NlY29uZGFyeV9hdWRpb19ub3RpZmljYXRpb25zXTthLmZlYXR1cmVOYW1lTWFwW2MuRkVBVFVSRV9wdWJsaWNfc3RyZWFtX3Jlc29sdXRpb25dPVthLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX3Jlc29sdXRpb25dO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY190cmFja19jbG9uZV93aXRoX2lkXT1bYS5GRUFUVVJFX21zX3RlYW1zX3RyYWNrX2Nsb25lX3dpdGhfaWRdO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19zZW5kZXJfc3RhdHNfZml4XT1bYS5GRUFUVVJFX21zX3RlYW1zX3NlbmRlcl9zdGF0c19maXhdO2EuZmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19hdWRpb19ub3RpZmljYXRpb25fbG9vcF09W2EuRkVBVFVSRV9tc190ZWFtc19hdWRpb19ub3RpZmljYXRpb25zX2xvb3BdO1xyXG5hLnZkYUZlYXR1cmVOYW1lTWFwPXt9O2EudmRhRmVhdHVyZU5hbWVNYXBbYy5GRUFUVVJFX3B1YmxpY19tdWx0aV93aW5kb3ddPVthLkZFQVRVUkVfdmRhX211bHRpX3dpbmRvd107YS52ZGFGZWF0dXJlTmFtZU1hcFtjLkZFQVRVUkVfcHVibGljX2FwcF9zaGFyaW5nXT1bYS5GRUFUVVJFX3ZkYV9hcHBfc2hhcmluZ107KGZ1bmN0aW9uKGEpe2FbYS5FbmdpbmVDb250cm9sPTBdPVwiRW5naW5lQ29udHJvbFwiO2FbYS5SVENQZWVyQ29ubmVjdGlvbj0xXT1cIlJUQ1BlZXJDb25uZWN0aW9uXCI7YVthLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj0yXT1cIlJUQ1Nlc3Npb25EZXNjcmlwdGlvblwiO2FbYS5SVENJY2VDYW5kaWRhdGU9M109XCJSVENJY2VDYW5kaWRhdGVcIjthW2EuUlRDSWNlQ2FuZGlkYXRlRXZlbnQ9NF09XCJSVENJY2VDYW5kaWRhdGVFdmVudFwiO2FbYS5NZWRpYURldmljZXM9NV09XCJNZWRpYURldmljZXNcIjthW2EuTWVkaWFEZXZpY2VJbmZvPTZdPVwiTWVkaWFEZXZpY2VJbmZvXCI7YVthLk1lZGlhU3RyZWFtVHJhY2s9XHJcbjddPVwiTWVkaWFTdHJlYW1UcmFja1wiO2FbYS5NZWRpYVN0cmVhbUV2ZW50PThdPVwiTWVkaWFTdHJlYW1FdmVudFwiO2FbYS5NZWRpYVN0cmVhbT05XT1cIk1lZGlhU3RyZWFtXCI7YVthLk5hdmlnYXRvclVzZXJNZWRpYT0xMF09XCJOYXZpZ2F0b3JVc2VyTWVkaWFcIjthW2EuVmlkZW9FbGVtZW50PTExXT1cIlZpZGVvRWxlbWVudFwiO2FbYS5BdWRpb0VsZW1lbnQ9MTJdPVwiQXVkaW9FbGVtZW50XCI7YVthLlJUQ1J0cFJlY2VpdmVyPTEzXT1cIlJUQ1J0cFJlY2VpdmVyXCI7YVthLlJUQ1J0cFNlbmRlcj0xNF09XCJSVENSdHBTZW5kZXJcIjthW2EuUlRDRHRsc1RyYW5zcG9ydD0xNV09XCJSVENEdGxzVHJhbnNwb3J0XCI7YVthLlJUQ0ljZVRyYW5zcG9ydD0xNl09XCJSVENJY2VUcmFuc3BvcnRcIjthW2EuUlRDRFRNRlNlbmRlcj0xN109XCJSVENEVE1GU2VuZGVyXCI7YVthLlJUQ0RUTUZUb25lQ2hhbmdlRXZlbnQ9MThdPVwiUlRDRFRNRlRvbmVDaGFuZ2VFdmVudFwiO2FbYS5SVENJY2VDYW5kaWRhdGVQYWlyPTE5XT1cclxuXCJSVENJY2VDYW5kaWRhdGVQYWlyXCI7YVthLlJUQ1J0cFRyYW5zY2VpdmVyPTIwXT1cIlJUQ1J0cFRyYW5zY2VpdmVyXCI7YVthLlNjcmVlblNoYXJpbmdSZW1vdGU9MjFdPVwiU2NyZWVuU2hhcmluZ1JlbW90ZVwiO2FbYS5TY3JlZW5Tb3VyY2U9MjJdPVwiU2NyZWVuU291cmNlXCI7YVthLkU5MTFTZXJ2aWNlPTIzXT1cIkU5MTFTZXJ2aWNlXCI7YVthLnJlc2VydmVkMj0yNF09XCJyZXNlcnZlZDJcIjthW2EuUlRDRGF0YUNoYW5uZWw9MjVdPVwiUlRDRGF0YUNoYW5uZWxcIjthW2EuUlRDU2N0cFRyYW5zcG9ydD0yNl09XCJSVENTY3RwVHJhbnNwb3J0XCI7YVthLlN0cmVhbVJlc29sdXRpb249MjddPVwiU3RyZWFtUmVzb2x1dGlvblwiO2FbYS5WaWRlb0VmZmVjdD0yOF09XCJWaWRlb0VmZmVjdFwiO2FbYS5yZXNlcnZlZDY9MjldPVwicmVzZXJ2ZWQ2XCI7YVthLnJlc2VydmVkNz0zMF09XCJyZXNlcnZlZDdcIjthW2EucmVzZXJ2ZWQ4PTMxXT1cInJlc2VydmVkOFwifSkoYz1hLmNsYXNzX2lkX3R8fChhLmNsYXNzX2lkX3Q9XHJcbnt9KSk7dmFyIGw7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS52ZXJzaW9uPTFdPVwidmVyc2lvblwiO2FbYS5mZWF0dXJlX2ZsYWdzPTJdPVwiZmVhdHVyZV9mbGFnc1wiO2FbYS52ZXJzaW9uX2luZm89M109XCJ2ZXJzaW9uX2luZm9cIjthW2Eub3NpbmZvPTRdPVwib3NpbmZvXCI7YVthLmVuZHBvaW50X2lkPTVdPVwiZW5kcG9pbnRfaWRcIjthW2Euc2V0X2NsaWVudF9pbmZvPTZdPVwic2V0X2NsaWVudF9pbmZvXCI7YVthLmhhcmR3YXJlX2luZm89N109XCJoYXJkd2FyZV9pbmZvXCJ9KShsPWEubWV0aG9kX2lkX0VuZ2luZUNvbnRyb2xfdHx8KGEubWV0aG9kX2lkX0VuZ2luZUNvbnRyb2xfdD17fSkpO3ZhciBoOyhmdW5jdGlvbihhKXthW2EuY3Rvcj0wXT1cImN0b3JcIjthW2EubG9jYWxEZXNjcmlwdGlvbj0xXT1cImxvY2FsRGVzY3JpcHRpb25cIjthW2EucmVtb3RlRGVzY3JpcHRpb249Ml09XCJyZW1vdGVEZXNjcmlwdGlvblwiO2FbYS5yZWFkeVN0YXRlPTNdPVwicmVhZHlTdGF0ZVwiO2FbYS5pY2VTdGF0ZT1cclxuNF09XCJpY2VTdGF0ZVwiO2FbYS5sb2NhbFN0cmVhbXM9NV09XCJsb2NhbFN0cmVhbXNcIjthW2EucmVtb3RlU3RyZWFtcz02XT1cInJlbW90ZVN0cmVhbXNcIjthW2EuY3JlYXRlT2ZmZXI9N109XCJjcmVhdGVPZmZlclwiO2FbYS5jcmVhdGVBbnN3ZXI9OF09XCJjcmVhdGVBbnN3ZXJcIjthW2Euc2V0TG9jYWxEZXNjcmlwdGlvbj05XT1cInNldExvY2FsRGVzY3JpcHRpb25cIjthW2Euc2V0UmVtb3RlRGVzY3JpcHRpb249MTBdPVwic2V0UmVtb3RlRGVzY3JpcHRpb25cIjthW2EudXBkYXRlSWNlPTExXT1cInVwZGF0ZUljZVwiO2FbYS5hZGRJY2VDYW5kaWRhdGU9MTJdPVwiYWRkSWNlQ2FuZGlkYXRlXCI7YVthLmFkZFN0cmVhbT0xM109XCJhZGRTdHJlYW1cIjthW2EucmVtb3ZlU3RyZWFtPTE0XT1cInJlbW92ZVN0cmVhbVwiO2FbYS5jbG9zZT0xNV09XCJjbG9zZVwiO2FbYS5pY2VDb25uZWN0aW9uU3RhdGU9MTZdPVwiaWNlQ29ubmVjdGlvblN0YXRlXCI7YVthLmljZUdhdGhlcmluZ1N0YXRlPTE3XT1cImljZUdhdGhlcmluZ1N0YXRlXCI7XHJcbmFbYS5zaWduYWxpbmdTdGF0ZT0xOF09XCJzaWduYWxpbmdTdGF0ZVwiO2FbYS5vbmFkZHN0cmVhbT0xOV09XCJvbmFkZHN0cmVhbVwiO2FbYS5vbmljZWNhbmRpZGF0ZT0yMF09XCJvbmljZWNhbmRpZGF0ZVwiO2FbYS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0yMV09XCJvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiO2FbYS5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlPTIyXT1cIm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIjthW2Eub25zaWduYWxpbmdzdGF0ZWNoYW5nZT0yM109XCJvbnNpZ25hbGluZ3N0YXRlY2hhbmdlXCI7YVthLm9ubmVnb3RpYXRpb25uZWVkZWQ9MjRdPVwib25uZWdvdGlhdGlvbm5lZWRlZFwiO2FbYS5vbnJlbW92ZXN0cmVhbT0yNV09XCJvbnJlbW92ZXN0cmVhbVwiO2FbYS5nZXRTdGF0cz0yNl09XCJnZXRTdGF0c1wiO2FbYS5nZXRSZWNlaXZlcnM9MjddPVwiZ2V0UmVjZWl2ZXJzXCI7YVthLmdldFNlbmRlcnM9MjhdPVwiZ2V0U2VuZGVyc1wiO2FbYS5hZGRUcmFjaz0yOV09XCJhZGRUcmFja1wiO1xyXG5hW2EucmVtb3ZlVHJhY2s9MzBdPVwicmVtb3ZlVHJhY2tcIjthW2Eub250cmFjaz0zMV09XCJvbnRyYWNrXCI7YVthLnNldExvY2FsRGVzY3JpcHRpb25fdjI9MzJdPVwic2V0TG9jYWxEZXNjcmlwdGlvbl92MlwiO2FbYS5zZXRSZW1vdGVEZXNjcmlwdGlvbl92Mj0zM109XCJzZXRSZW1vdGVEZXNjcmlwdGlvbl92MlwiO2FbYS5hZGRUcmFuc2NlaXZlcldpdGhUcmFjaz0zNF09XCJhZGRUcmFuc2NlaXZlcldpdGhUcmFja1wiO2FbYS5hZGRUcmFuc2NlaXZlcldpdGhLaW5kPTM1XT1cImFkZFRyYW5zY2VpdmVyV2l0aEtpbmRcIjthW2EuZ2V0VHJhbnNjZWl2ZXJzPTM2XT1cImdldFRyYW5zY2VpdmVyc1wiO2FbYS5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0zN109XCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiO2FbYS5zY3RwPTM4XT1cInNjdHBcIjthW2Eub25kYXRhY2hhbm5lbD0zOV09XCJvbmRhdGFjaGFubmVsXCI7YVthLmNyZWF0ZURhdGFDaGFubmVsPTQwXT1cImNyZWF0ZURhdGFDaGFubmVsXCI7YVthLmdldFN0YXRzX3YyPVxyXG40MV09XCJnZXRTdGF0c192MlwifSkoaD1hLm1ldGhvZF9pZF9SVENQZWVyQ29ubmVjdGlvbl90fHwoYS5tZXRob2RfaWRfUlRDUGVlckNvbm5lY3Rpb25fdD17fSkpO3ZhciBkOyhmdW5jdGlvbihhKXthW2EuY3Rvcj0wXT1cImN0b3JcIjthW2EuZW51bWVyYXRlRGV2aWNlcz0xXT1cImVudW1lcmF0ZURldmljZXNcIjthW2EuZ2V0RGlzcGxheU1lZGlhPTJdPVwiZ2V0RGlzcGxheU1lZGlhXCI7YVthLm9uZGV2aWNlY2hhbmdlPTNdPVwib25kZXZpY2VjaGFuZ2VcIjthW2EuZW51bWVyYXRlRGV2aWNlc1YyPTRdPVwiZW51bWVyYXRlRGV2aWNlc1YyXCJ9KShkPWEubWV0aG9kX2lkX01lZGlhRGV2aWNlc190fHwoYS5tZXRob2RfaWRfTWVkaWFEZXZpY2VzX3Q9e30pKTt2YXIgcDsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLmRldmljZUlkPTFdPVwiZGV2aWNlSWRcIjthW2Eua2luZD0yXT1cImtpbmRcIjthW2EubGFiZWw9M109XCJsYWJlbFwiO2FbYS5ncm91cElkPTRdPVwiZ3JvdXBJZFwifSkocD1hLm1ldGhvZF9pZF9NZWRpYURldmljZUluZm9fdHx8XHJcbihhLm1ldGhvZF9pZF9NZWRpYURldmljZUluZm9fdD17fSkpO3ZhciBxOyhmdW5jdGlvbihhKXthW2EuY3Rvcj0wXT1cImN0b3JcIjthW2EudHlwZT0xXT1cInR5cGVcIjthW2Euc2RwPTJdPVwic2RwXCJ9KShxPWEubWV0aG9kX2lkX1JUQ1Nlc3Npb25EZXNjcmlwdGlvbl90fHwoYS5tZXRob2RfaWRfUlRDU2Vzc2lvbkRlc2NyaXB0aW9uX3Q9e30pKTt2YXIgbjsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLmtpbmQ9MV09XCJraW5kXCI7YVthLmlkPTJdPVwiaWRcIjthW2EubGFiZWw9M109XCJsYWJlbFwiO2FbYS5lbmFibGVkPTRdPVwiZW5hYmxlZFwiO2FbYS5tdXRlZD01XT1cIm11dGVkXCI7YVthLnJlYWR5U3RhdGU9Nl09XCJyZWFkeVN0YXRlXCI7YVthLm9uZW5kZWQ9N109XCJvbmVuZGVkXCI7YVthLm9ubXV0ZT04XT1cIm9ubXV0ZVwiO2FbYS5vbnVubXV0ZT05XT1cIm9udW5tdXRlXCI7YVthLmNsb25lPTEwXT1cImNsb25lXCI7YVthLnN0b3A9MTFdPVwic3RvcFwiO2FbYS5nZXRDYXBhYmlsaXRpZXM9MTJdPVxyXG5cImdldENhcGFiaWxpdGllc1wiO2FbYS5nZXRTZXR0aW5ncz0xM109XCJnZXRTZXR0aW5nc1wiO2FbYS5hcHBseUNvbnN0cmFpbnRzPTE0XT1cImFwcGx5Q29uc3RyYWludHNcIjthW2EuZ2V0Q29uc3RyYWludHM9MTVdPVwiZ2V0Q29uc3RyYWludHNcIn0pKG49YS5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190fHwoYS5tZXRob2RfaWRfTWVkaWFTdHJlYW1UcmFja190PXt9KSk7dmFyIGs7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5pZD0xXT1cImlkXCI7YVthLmdldEF1ZGlvVHJhY2tzPTJdPVwiZ2V0QXVkaW9UcmFja3NcIjthW2EuZ2V0VmlkZW9UcmFja3M9M109XCJnZXRWaWRlb1RyYWNrc1wiO2FbYS5nZXRUcmFja3M9NF09XCJnZXRUcmFja3NcIjthW2EuZ2V0VHJhY2tCeUlkPTVdPVwiZ2V0VHJhY2tCeUlkXCI7YVthLmFkZFRyYWNrPTZdPVwiYWRkVHJhY2tcIjthW2EucmVtb3ZlVHJhY2s9N109XCJyZW1vdmVUcmFja1wiO2FbYS5jbG9uZT04XT1cImNsb25lXCI7YVthLmFjdGl2ZT05XT1cImFjdGl2ZVwifSkoaz1cclxuYS5tZXRob2RfaWRfTWVkaWFTdHJlYW1fdHx8KGEubWV0aG9kX2lkX01lZGlhU3RyZWFtX3Q9e30pKTt2YXIgdjsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLmdldFVzZXJNZWRpYT0xXT1cImdldFVzZXJNZWRpYVwiO2FbYS5zZXRDb2RlY0NhcGFiaWxpdGllcz0yXT1cInNldENvZGVjQ2FwYWJpbGl0aWVzXCI7YVthLmdldENhcGFiaWxpdGllcz0zXT1cImdldENhcGFiaWxpdGllc1wifSkodj1hLm1ldGhvZF9pZF9OYXZpZ2F0b3JVc2VyTWVkaWFfdHx8KGEubWV0aG9kX2lkX05hdmlnYXRvclVzZXJNZWRpYV90PXt9KSk7dmFyIHo7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5jYW5kaWRhdGU9MV09XCJjYW5kaWRhdGVcIjthW2Euc2RwTWlkPTJdPVwic2RwTWlkXCI7YVthLnNkcE1MaW5lSW5kZXg9M109XCJzZHBNTGluZUluZGV4XCJ9KSh6PWEubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZV90fHwoYS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlX3Q9e30pKTt2YXIgZztcclxuKGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5jYW5kaWRhdGU9MV09XCJjYW5kaWRhdGVcIn0pKGc9YS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlRXZlbnRfdHx8KGEubWV0aG9kX2lkX1JUQ0ljZUNhbmRpZGF0ZUV2ZW50X3Q9e30pKTt2YXIgQjsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnN0cmVhbT0xXT1cInN0cmVhbVwifSkoQj1hLm1ldGhvZF9pZF9NZWRpYVN0cmVhbUV2ZW50X3R8fChhLm1ldGhvZF9pZF9NZWRpYVN0cmVhbUV2ZW50X3Q9e30pKTt2YXIgdDsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnNpbmtJZD0xXT1cInNpbmtJZFwiO2FbYS5jb25uZWN0VG89Ml09XCJjb25uZWN0VG9cIjthW2EuZGlzY29ubmVjdD0zXT1cImRpc2Nvbm5lY3RcIjthW2Euc2V0RnJhbWU9NF09XCJzZXRGcmFtZVwiO2FbYS5hZGRDbGlwUmVjdD01XT1cImFkZENsaXBSZWN0XCI7YVthLnJlbW92ZUNsaXBSZWN0PTZdPVwicmVtb3ZlQ2xpcFJlY3RcIjthW2Eub25lcnJvcj1cclxuN109XCJvbmVycm9yXCI7YVthLm9udmlkZW9mcmFtZWNoYW5nZWQ9OF09XCJvbnZpZGVvZnJhbWVjaGFuZ2VkXCI7YVthLnBsYWNlbWVudD05XT1cInBsYWNlbWVudFwifSkodD1hLm1ldGhvZF9pZF9WaWRlb0VsZW1lbnRfdHx8KGEubWV0aG9kX2lkX1ZpZGVvRWxlbWVudF90PXt9KSk7dmFyIG07KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5zaW5rSWQ9MV09XCJzaW5rSWRcIjthW2Euc3JjT2JqZWN0PTJdPVwic3JjT2JqZWN0XCI7YVthLnNyYz0zXT1cInNyY1wiO2FbYS5wbGF5PTRdPVwicGxheVwiO2FbYS5wYXVzZT01XT1cInBhdXNlXCI7YVthLmxvb3A9Nl09XCJsb29wXCJ9KShtPWEubWV0aG9kX2lkX0F1ZGlvRWxlbWVudF90fHwoYS5tZXRob2RfaWRfQXVkaW9FbGVtZW50X3Q9e30pKTt2YXIgRDsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnRyYWNrPTFdPVwidHJhY2tcIjthW2EuZ2V0Q29udHJpYnV0aW5nU291cmNlcz0yXT1cImdldENvbnRyaWJ1dGluZ1NvdXJjZXNcIjtcclxuYVthLmdldFN5bmNocm9uaXphdGlvblNvdXJjZXM9M109XCJnZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzXCI7YVthLnRyYW5zcG9ydD00XT1cInRyYW5zcG9ydFwiO2FbYS5ydGNwVHJhbnNwb3J0PTVdPVwicnRjcFRyYW5zcG9ydFwiO2FbYS5nZXRDYXBhYmlsaXRpZXM9Nl09XCJnZXRDYXBhYmlsaXRpZXNcIjthW2EuZ2V0UGFyYW1ldGVycz03XT1cImdldFBhcmFtZXRlcnNcIjthW2EuZ2V0U3RhdHM9OF09XCJnZXRTdGF0c1wiO2FbYS5nZXRDYXBhYmlsaXRpZXNfdjI9OV09XCJnZXRDYXBhYmlsaXRpZXNfdjJcIn0pKEQ9YS5tZXRob2RfaWRfUlRDUnRwUmVjZWl2ZXJfdHx8KGEubWV0aG9kX2lkX1JUQ1J0cFJlY2VpdmVyX3Q9e30pKTt2YXIgeTsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnRyYWNrPTFdPVwidHJhY2tcIjthW2EudHJhbnNwb3J0PTJdPVwidHJhbnNwb3J0XCI7YVthLnJ0Y3BUcmFuc3BvcnQ9M109XCJydGNwVHJhbnNwb3J0XCI7YVthLmR0bWY9NF09XCJkdG1mXCI7YVthLmdldENhcGFiaWxpdGllcz1cclxuNV09XCJnZXRDYXBhYmlsaXRpZXNcIjthW2EuZ2V0UGFyYW1ldGVycz02XT1cImdldFBhcmFtZXRlcnNcIjthW2Euc2V0UGFyYW1ldGVycz03XT1cInNldFBhcmFtZXRlcnNcIjthW2EucmVwbGFjZVRyYWNrPThdPVwicmVwbGFjZVRyYWNrXCI7YVthLmdldFN0YXRzPTldPVwiZ2V0U3RhdHNcIjthW2Euc2V0U3RyZWFtcz0xMF09XCJzZXRTdHJlYW1zXCI7YVthLmdldENhcGFiaWxpdGllc192Mj0xMV09XCJnZXRDYXBhYmlsaXRpZXNfdjJcIn0pKHk9YS5tZXRob2RfaWRfUlRDUnRwU2VuZGVyX3R8fChhLm1ldGhvZF9pZF9SVENSdHBTZW5kZXJfdD17fSkpO3ZhciB4OyhmdW5jdGlvbihhKXthW2EuY3Rvcj0wXT1cImN0b3JcIjthW2EudHJhbnNwb3J0PTFdPVwidHJhbnNwb3J0XCI7YVthLnN0YXRlPTJdPVwic3RhdGVcIjthW2EuZ2V0UmVtb3RlQ2VydGlmaWNhdGVzPTNdPVwiZ2V0UmVtb3RlQ2VydGlmaWNhdGVzXCI7YVthLm9uc3RhdGVjaGFuZ2U9NF09XCJvbnN0YXRlY2hhbmdlXCI7YVthLm9uZXJyb3I9NV09XCJvbmVycm9yXCJ9KSh4PVxyXG5hLm1ldGhvZF9pZF9SVENEdGxzVHJhbnNwb3J0X3R8fChhLm1ldGhvZF9pZF9SVENEdGxzVHJhbnNwb3J0X3Q9e30pKTt2YXIgcjsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnJvbGU9MV09XCJyb2xlXCI7YVthLmNvbXBvbmVudD0yXT1cImNvbXBvbmVudFwiO2FbYS5zdGF0ZT0zXT1cInN0YXRlXCI7YVthLmdhdGhlcmluZ1N0YXRlPTRdPVwiZ2F0aGVyaW5nU3RhdGVcIjthW2EubG9jYWxjYW5kaWRhdGVzPTVdPVwibG9jYWxjYW5kaWRhdGVzXCI7YVthLnJlbW90ZWNhbmRpZGF0ZXM9Nl09XCJyZW1vdGVjYW5kaWRhdGVzXCI7YVthLm9uc3RhdGVjaGFuZ2U9N109XCJvbnN0YXRlY2hhbmdlXCI7YVthLm9uZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9OF09XCJvbmdhdGhlcmluZ3N0YXRlY2hhbmdlXCI7YVthLm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlPTldPVwib25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2VcIn0pKHI9YS5tZXRob2RfaWRfUlRDSWNlVHJhbnNwb3J0X3R8fChhLm1ldGhvZF9pZF9SVENJY2VUcmFuc3BvcnRfdD1cclxue30pKTt2YXIgQTsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLmluc2VydERUTUY9MV09XCJpbnNlcnREVE1GXCI7YVthLm9udG9uZWNoYW5nZT0yXT1cIm9udG9uZWNoYW5nZVwiO2FbYS5jYW5JbnNlcnREVE1GPTNdPVwiY2FuSW5zZXJ0RFRNRlwiO2FbYS50b25lQnVmZmVyPTRdPVwidG9uZUJ1ZmZlclwifSkoQT1hLm1ldGhvZF9pZF9SVENEVE1GU2VuZGVyX3R8fChhLm1ldGhvZF9pZF9SVENEVE1GU2VuZGVyX3Q9e30pKTt2YXIgTTsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLnRvbmU9MV09XCJ0b25lXCI7YVthLnRvbmVfYnVmZmVyPTJdPVwidG9uZV9idWZmZXJcIn0pKE09YS5tZXRob2RfaWRfUlRDRFRNRlRvbmVDaGFuZ2VFdmVudF90fHwoYS5tZXRob2RfaWRfUlRDRFRNRlRvbmVDaGFuZ2VFdmVudF90PXt9KSk7dmFyIEY7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5sb2NhbD0xXT1cImxvY2FsXCI7YVthLnJlbW90ZT0yXT1cInJlbW90ZVwifSkoRj1cclxuYS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlUGFpcl90fHwoYS5tZXRob2RfaWRfUlRDSWNlQ2FuZGlkYXRlUGFpcl90PXt9KSk7dmFyIEo7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5taWQ9MV09XCJtaWRcIjthW2Euc2VuZGVyPTJdPVwic2VuZGVyXCI7YVthLnJlY2VpdmVyPTNdPVwicmVjZWl2ZXJcIjthW2EuZGlyZWN0aW9uPTRdPVwiZGlyZWN0aW9uXCI7YVthLmN1cnJlbnREaXJlY3Rpb249NV09XCJjdXJyZW50RGlyZWN0aW9uXCI7YVthLnN0b3A9Nl09XCJzdG9wXCI7YVthLnNldENvZGVjUHJlZmVyZW5jZXM9N109XCJzZXRDb2RlY1ByZWZlcmVuY2VzXCJ9KShKPWEubWV0aG9kX2lkX1JUQ1J0cFRyYW5zY2VpdmVyX3R8fChhLm1ldGhvZF9pZF9SVENSdHBUcmFuc2NlaXZlcl90PXt9KSk7dmFyIEc7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5nZXRTY3JlZW5zQXN5bmM9MV09XCJnZXRTY3JlZW5zQXN5bmNcIjthW2Eub25zY3JlZW50b3BvbG9neWNoYW5nZWQ9XHJcbjJdPVwib25zY3JlZW50b3BvbG9neWNoYW5nZWRcIn0pKEc9YS5tZXRob2RfaWRfVkRJU2hhcmluZ1JlbW90ZV90fHwoYS5tZXRob2RfaWRfVkRJU2hhcmluZ1JlbW90ZV90PXt9KSk7dmFyIEw7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5zcmNpZD0xXT1cInNyY2lkXCI7YVthLmRldmljZWlkPTJdPVwiZGV2aWNlaWRcIjthW2EudHlwZT0zXT1cInR5cGVcIjthW2EubmFtZT00XT1cIm5hbWVcIjthW2EuaW1hZ2VkYXRhPTVdPVwiaW1hZ2VkYXRhXCI7YVthLmh3bmQ9Nl09XCJod25kXCI7YVthLm9yaWdpbj03XT1cIm9yaWdpblwiO2FbYS5jYXB0aW9uPThdPVwiY2FwdGlvblwiO2FbYS5waWQ9OV09XCJwaWRcIjthW2EuYm91bmRzPTEwXT1cImJvdW5kc1wifSkoTD1hLm1ldGhvZF9pZF9TY3JlZW5Tb3VyY2VfdHx8KGEubWV0aG9kX2lkX1NjcmVlblNvdXJjZV90PXt9KSk7dmFyIFA7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5nZXRFOTExSW5mbz0xXT1cImdldEU5MTFJbmZvXCI7YVthLm9udXBkYXRlPVxyXG4yXT1cIm9udXBkYXRlXCJ9KShQPWEubWV0aG9kX2lkX0U5MTFTZXJ2aWNlX3R8fChhLm1ldGhvZF9pZF9FOTExU2VydmljZV90PXt9KSk7dmFyIEM7KGZ1bmN0aW9uKGEpe2FbYS5jdG9yPTBdPVwiY3RvclwiO2FbYS5sYWJlbD0xXT1cImxhYmVsXCI7YVthLm9yZGVyZWQ9Ml09XCJvcmRlcmVkXCI7YVthLm1heFBhY2tldExpZmVUaW1lPTNdPVwibWF4UGFja2V0TGlmZVRpbWVcIjthW2EubWF4UmV0cmFuc21pdHM9NF09XCJtYXhSZXRyYW5zbWl0c1wiO2FbYS5wcm90b2NvbD01XT1cInByb3RvY29sXCI7YVthLm5lZ290aWF0ZWQ9Nl09XCJuZWdvdGlhdGVkXCI7YVthLmlkPTddPVwiaWRcIjthW2EucmVhZHlTdGF0ZT04XT1cInJlYWR5U3RhdGVcIjthW2EuYnVmZmVyZWRBbW91bnQ9OV09XCJidWZmZXJlZEFtb3VudFwiO2FbYS5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZD0xMF09XCJidWZmZXJlZEFtb3VudExvd1RocmVzaG9sZFwiO2FbYS5vbm9wZW49MTFdPVwib25vcGVuXCI7YVthLm9uYnVmZmVyZWRhbW91bnRsb3c9MTJdPVxyXG5cIm9uYnVmZmVyZWRhbW91bnRsb3dcIjthW2Eub25lcnJvcj0xM109XCJvbmVycm9yXCI7YVthLm9uY2xvc2luZz0xNF09XCJvbmNsb3NpbmdcIjthW2Eub25jbG9zZT0xNV09XCJvbmNsb3NlXCI7YVthLm9ubWVzc2FnZT0xNl09XCJvbm1lc3NhZ2VcIjthW2EuY2xvc2U9MTddPVwiY2xvc2VcIjthW2Euc2VuZF90ZXh0PTE4XT1cInNlbmRfdGV4dFwiO2FbYS5zZW5kX2JpbmFyeT0xOV09XCJzZW5kX2JpbmFyeVwifSkoQz1hLm1ldGhvZF9pZF9SVENEYXRhQ2hhbm5lbF90fHwoYS5tZXRob2RfaWRfUlRDRGF0YUNoYW5uZWxfdD17fSkpO3ZhciBSOyhmdW5jdGlvbihhKXthW2EuY3Rvcj0wXT1cImN0b3JcIjthW2EudHJhbnNwb3J0PTFdPVwidHJhbnNwb3J0XCI7YVthLnN0YXRlPTJdPVwic3RhdGVcIjthW2EubWF4TWVzc2FnZVNpemU9M109XCJtYXhNZXNzYWdlU2l6ZVwiO2FbYS5tYXhDaGFubmVscz00XT1cIm1heENoYW5uZWxzXCI7YVthLm9uc3RhdGVjaGFuZ2U9NV09XCJvbnN0YXRlY2hhbmdlXCJ9KShSPWEubWV0aG9kX2lkX1JUQ1NjdHBUcmFuc3BvcnRfdHx8XHJcbihhLm1ldGhvZF9pZF9SVENTY3RwVHJhbnNwb3J0X3Q9e30pKTt2YXIgSzsoZnVuY3Rpb24oYSl7YVthLmN0b3I9MF09XCJjdG9yXCI7YVthLmdldENhbGxDb25zdHJhaW50cz0xXT1cImdldENhbGxDb25zdHJhaW50c1wiO2FbYS5vbnVwZGF0ZT0yXT1cIm9udXBkYXRlXCJ9KShLPWEubWV0aG9kX2lkX1N0cmVhbVJlc29sdXRpb25fdHx8KGEubWV0aG9kX2lkX1N0cmVhbVJlc29sdXRpb25fdD17fSkpO2EuY2xhc3NfbGliX2luZm89bmV3IGIuV2VicnBjQ2xhc3NMaWJJbmZvKFwid2VicnBjX2NsYXNzX2xpYnJhcnlcIixbbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuRW5naW5lQ29udHJvbCxcIkVuZ2luZUNvbnRyb2xcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLkVuZ2luZUNvbnRyb2wsbC5jdG9yLFwiY3RvclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuRW5naW5lQ29udHJvbCxsLnZlcnNpb24sXCJ2ZXJzaW9uXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5FbmdpbmVDb250cm9sLFxyXG5sLmZlYXR1cmVfZmxhZ3MsXCJmZWF0dXJlX2ZsYWdzXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5FbmdpbmVDb250cm9sLGwudmVyc2lvbl9pbmZvLFwidmVyc2lvbl9pbmZvXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLkVuZ2luZUNvbnRyb2wsbC5vc2luZm8sXCJvc2luZm9cIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfb3NpbmZvKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuRW5naW5lQ29udHJvbCxsLmVuZHBvaW50X2lkLFwiZW5kcG9pbnRfaWRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZW5kcG9pbnRfaWQpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5FbmdpbmVDb250cm9sLGwuc2V0X2NsaWVudF9pbmZvLFwic2V0X2NsaWVudF9pbmZvXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2NsaWVudF9pbmZvKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuRW5naW5lQ29udHJvbCxsLmhhcmR3YXJlX2luZm8sXCJoYXJkd2FyZV9pbmZvXCIsXHJcbiEwLGEuRkVBVFVSRV9tc190ZWFtc19oYXJkd2FyZV9pbmZvKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLFwiUlRDUGVlckNvbm5lY3Rpb25cIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguY3RvcixcImN0b3JcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgubG9jYWxEZXNjcmlwdGlvbixcImxvY2FsRGVzY3JpcHRpb25cIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgucmVtb3RlRGVzY3JpcHRpb24sXCJyZW1vdGVEZXNjcmlwdGlvblwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5yZWFkeVN0YXRlLFwicmVhZHlTdGF0ZVwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5pY2VTdGF0ZSxcImljZVN0YXRlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixcclxuaC5sb2NhbFN0cmVhbXMsXCJsb2NhbFN0cmVhbXNcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgucmVtb3RlU3RyZWFtcyxcInJlbW90ZVN0cmVhbXNcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguY3JlYXRlT2ZmZXIsXCJjcmVhdGVPZmZlclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5jcmVhdGVBbnN3ZXIsXCJjcmVhdGVBbnN3ZXJcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguc2V0TG9jYWxEZXNjcmlwdGlvbixcInNldExvY2FsRGVzY3JpcHRpb25cIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguc2V0UmVtb3RlRGVzY3JpcHRpb24sXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC51cGRhdGVJY2UsXHJcblwidXBkYXRlSWNlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLmFkZEljZUNhbmRpZGF0ZSxcImFkZEljZUNhbmRpZGF0ZVwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5hZGRTdHJlYW0sXCJhZGRTdHJlYW1cIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgucmVtb3ZlU3RyZWFtLFwicmVtb3ZlU3RyZWFtXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLmNsb3NlLFwiY2xvc2VcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguaWNlQ29ubmVjdGlvblN0YXRlLFwiaWNlQ29ubmVjdGlvblN0YXRlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLmljZUdhdGhlcmluZ1N0YXRlLFwiaWNlR2F0aGVyaW5nU3RhdGVcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLFxyXG5oLnNpZ25hbGluZ1N0YXRlLFwic2lnbmFsaW5nU3RhdGVcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgub25hZGRzdHJlYW0sXCJvbmFkZHN0cmVhbVwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5vbmljZWNhbmRpZGF0ZSxcIm9uaWNlY2FuZGlkYXRlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlLFwib25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSxcIm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgub25zaWduYWxpbmdzdGF0ZWNoYW5nZSxcIm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2VcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLFxyXG5oLm9ubmVnb3RpYXRpb25uZWVkZWQsXCJvbm5lZ290aWF0aW9ubmVlZGVkXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLm9ucmVtb3Zlc3RyZWFtLFwib25yZW1vdmVzdHJlYW1cIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguZ2V0U3RhdHMsXCJnZXRTdGF0c1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5nZXRSZWNlaXZlcnMsXCJnZXRSZWNlaXZlcnNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfc3BlYWtpbmdfaW5kaWNhdG9yKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5nZXRTZW5kZXJzLFwiZ2V0U2VuZGVyc1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5hZGRUcmFjayxcImFkZFRyYWNrXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLFxyXG5uZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5yZW1vdmVUcmFjayxcInJlbW92ZVRyYWNrXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLm9udHJhY2ssXCJvbnRyYWNrXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLnNldExvY2FsRGVzY3JpcHRpb25fdjIsXCJzZXRMb2NhbERlc2NyaXB0aW9uX3YyXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguc2V0UmVtb3RlRGVzY3JpcHRpb25fdjIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvbl92MlwiLCExLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENQZWVyQ29ubmVjdGlvbixoLmFkZFRyYW5zY2VpdmVyV2l0aFRyYWNrLFxyXG5cImFkZFRyYW5zY2VpdmVyV2l0aFRyYWNrXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguYWRkVHJhbnNjZWl2ZXJXaXRoS2luZCxcImFkZFRyYW5zY2VpdmVyV2l0aEtpbmRcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5nZXRUcmFuc2NlaXZlcnMsXCJnZXRUcmFuc2NlaXZlcnNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSxcIm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguc2N0cCxcInNjdHBcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGgub25kYXRhY2hhbm5lbCxcIm9uZGF0YWNoYW5uZWxcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUGVlckNvbm5lY3Rpb24saC5jcmVhdGVEYXRhQ2hhbm5lbCxcImNyZWF0ZURhdGFDaGFubmVsXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1BlZXJDb25uZWN0aW9uLGguZ2V0U3RhdHNfdjIsXCJnZXRTdGF0c192MlwiLCExLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLFwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENTZXNzaW9uRGVzY3JpcHRpb24scS5jdG9yLFwiY3RvclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLFxyXG5xLnR5cGUsXCJ0eXBlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENTZXNzaW9uRGVzY3JpcHRpb24scS5zZHAsXCJzZHBcIiwhMCldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5SVENJY2VDYW5kaWRhdGUsXCJSVENJY2VDYW5kaWRhdGVcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0ljZUNhbmRpZGF0ZSx6LmN0b3IsXCJjdG9yXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VDYW5kaWRhdGUsei5jYW5kaWRhdGUsXCJjYW5kaWRhdGVcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0ljZUNhbmRpZGF0ZSx6LnNkcE1pZCxcInNkcE1pZFwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlQ2FuZGlkYXRlLHouc2RwTUxpbmVJbmRleCxcInNkcE1MaW5lSW5kZXhcIiwhMCldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5SVENJY2VDYW5kaWRhdGVFdmVudCxcIlJUQ0ljZUNhbmRpZGF0ZUV2ZW50XCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VDYW5kaWRhdGVFdmVudCxcclxuZy5jdG9yLFwiY3RvclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlQ2FuZGlkYXRlRXZlbnQsZy5jYW5kaWRhdGUsXCJjYW5kaWRhdGVcIiwhMCldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5NZWRpYURldmljZXMsXCJNZWRpYURldmljZXNcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhRGV2aWNlcyxkLmN0b3IsXCJjdG9yXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYURldmljZXMsZC5lbnVtZXJhdGVEZXZpY2VzLFwiZW51bWVyYXRlRGV2aWNlc1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFEZXZpY2VzLGQuZ2V0RGlzcGxheU1lZGlhLFwiZ2V0RGlzcGxheU1lZGlhXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhRGV2aWNlcyxkLm9uZGV2aWNlY2hhbmdlLFwib25kZXZpY2VjaGFuZ2VcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfc3BlYWtpbmdfaW5kaWNhdG9yKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhRGV2aWNlcyxkLmVudW1lcmF0ZURldmljZXNWMixcImVudWVyYXRlRGV2aWNlc1YyXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2VudW1lcmF0ZV9kZXZpY2VzX3YyKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLk1lZGlhRGV2aWNlSW5mbyxcIk1lZGlhRGV2aWNlSW5mb1wiLFtuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFEZXZpY2VJbmZvLHAuY3RvcixcImN0b3JcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhRGV2aWNlSW5mbyxwLmRldmljZUlkLFwiZGV2aWNlSWRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhRGV2aWNlSW5mbyxwLmtpbmQsXCJraW5kXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYURldmljZUluZm8scC5sYWJlbCxcImxhYmVsXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYURldmljZUluZm8scC5ncm91cElkLFwiZ3JvdXBJZFwiLCEwKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLk1lZGlhU3RyZWFtVHJhY2ssXHJcblwiTWVkaWFTdHJlYW1UcmFja1wiLFtuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLmN0b3IsXCJjdG9yXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4uY2xvbmUsXCJjbG9uZVwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLnN0b3AsXCJzdG9wXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4uZ2V0Q2FwYWJpbGl0aWVzLFwiZ2V0Q2FwYWJpbGl0aWVzXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4uZ2V0U2V0dGluZ3MsXCJnZXRTZXR0aW5nc1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLmFwcGx5Q29uc3RyYWludHMsXCJhcHBseUNvbnN0cmFpbnRzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2Rlc2t0b3Bfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtVHJhY2ssXHJcbm4ua2luZCxcImtpbmRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtVHJhY2ssbi5pZCxcImlkXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4ubGFiZWwsXCJsYWJlbFwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLmVuYWJsZWQsXCJlbmFibGVkXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4ubXV0ZWQsXCJtdXRlZFwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLnJlYWR5U3RhdGUsXCJyZWFkeVN0YXRlXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbVRyYWNrLG4ub25lbmRlZCxcIm9uZW5kZWRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtVHJhY2ssbi5vbm11dGUsXCJvbm11dGVcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtVHJhY2ssXHJcbm4ub251bm11dGUsXCJvbnVubXV0ZVwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1UcmFjayxuLmdldENvbnN0cmFpbnRzLFwiZ2V0Q29uc3RyYWludHNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfbXN0cmFja19jb25zdHJhaW50cyldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5NZWRpYVN0cmVhbSxcIk1lZGlhU3RyZWFtXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbSxrLmN0b3IsXCJjdG9yXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbSxrLmlkLFwiaWRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtLGsuZ2V0QXVkaW9UcmFja3MsXCJnZXRBdWRpb1RyYWNrc1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW0say5nZXRWaWRlb1RyYWNrcyxcImdldFZpZGVvVHJhY2tzXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbSxrLmdldFRyYWNrcyxcclxuXCJnZXRUcmFja3NcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtLGsuZ2V0VHJhY2tCeUlkLFwiZ2V0VHJhY2tCeUlkXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbSxrLmFkZFRyYWNrLFwiYWRkVHJhY2tcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtLGsucmVtb3ZlVHJhY2ssXCJyZW1vdmVUcmFja1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW0say5jbG9uZSxcImNsb25lXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5NZWRpYVN0cmVhbSxrLmFjdGl2ZSxcImFjdGl2ZVwiLCEwKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLk5hdmlnYXRvclVzZXJNZWRpYSxcIk5hdmlnYXRvclVzZXJNZWRpYVwiLFtuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTmF2aWdhdG9yVXNlck1lZGlhLHYuY3RvcixcImN0b3JcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk5hdmlnYXRvclVzZXJNZWRpYSxcclxudi5nZXRVc2VyTWVkaWEsXCJnZXRVc2VyTWVkaWFcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk5hdmlnYXRvclVzZXJNZWRpYSx2LnNldENvZGVjQ2FwYWJpbGl0aWVzLFwic2V0Q29kZWNDYXBhYmlsaXRpZXNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfY29kZWNfY2FwYWJpbGl0eSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk5hdmlnYXRvclVzZXJNZWRpYSx2LmdldENhcGFiaWxpdGllcyxcImdldFJ0cENhcGFiaWxpdGllc1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuTWVkaWFTdHJlYW1FdmVudCxcIk1lZGlhU3RyZWFtRXZlbnRcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLk1lZGlhU3RyZWFtRXZlbnQsQi5jdG9yLFwiY3RvclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuTWVkaWFTdHJlYW1FdmVudCxCLnN0cmVhbSxcInN0cmVhbVwiLCEwKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlZpZGVvRWxlbWVudCxcclxuXCJWaWRlb0VsZW1lbnRcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LmN0b3IsXCJjdG9yXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5WaWRlb0VsZW1lbnQsdC5zaW5rSWQsXCJzaW5rSWRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LmNvbm5lY3RUbyxcImNvbm5lY3RUb1wiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuVmlkZW9FbGVtZW50LHQuZGlzY29ubmVjdCxcImRpc2Nvbm5lY3RcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LnNldEZyYW1lLFwic2V0RnJhbWVcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LmFkZENsaXBSZWN0LFwiYWRkQ2xpcFJlY3RcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LnJlbW92ZUNsaXBSZWN0LFwicmVtb3ZlQ2xpcFJlY3RcIiwhMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCxcclxudC5vbmVycm9yLFwib25lcnJvclwiLCEwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuVmlkZW9FbGVtZW50LHQub252aWRlb2ZyYW1lY2hhbmdlZCxcIm9udmlkZW9mcmFtZWNoYW5nZWRcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlZpZGVvRWxlbWVudCx0LnBsYWNlbWVudCxcInBsYWNlbWVudFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc192aWRlb19wbGFjZW1lbnQpXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuQXVkaW9FbGVtZW50LFwiQXVkaW9FbGVtZW50XCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5BdWRpb0VsZW1lbnQsbS5jdG9yLFwiY3RvclwiLCExKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuQXVkaW9FbGVtZW50LG0uc2lua0lkLFwic2lua0lkXCIsITApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5BdWRpb0VsZW1lbnQsbS5zcmNPYmplY3QsXCJzcmNPYmplY3RcIiwhMCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLkF1ZGlvRWxlbWVudCxtLnNyYyxcInNyY1wiLCEwKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLkF1ZGlvRWxlbWVudCxtLnBsYXksXCJwbGF5XCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5BdWRpb0VsZW1lbnQsbS5wYXVzZSxcInBhdXNlXCIsITEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5BdWRpb0VsZW1lbnQsbS5sb29wLFwibG9vcFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19hdWRpb19ub3RpZmljYXRpb25zX2xvb3ApXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsXCJSVENSdHBSZWNlaXZlclwiLFtuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsRC5jdG9yLFwiY3RvclwiLCExLGEuRkVBVFVSRV9tc190ZWFtc19zcGVha2luZ19pbmRpY2F0b3IpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBSZWNlaXZlcixELnRyYWNrLFwidHJhY2tcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfc3BlYWtpbmdfaW5kaWNhdG9yKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsXHJcbkQuZ2V0Q29udHJpYnV0aW5nU291cmNlcyxcImdldENvbnRyaWJ1dGluZ1NvdXJjZXNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfc3BlYWtpbmdfaW5kaWNhdG9yKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsRC5nZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzLFwiZ2V0U3luY2hyb25pemF0aW9uU291cmNlc1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsRC50cmFuc3BvcnQsXCJ0cmFuc3BvcnRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFJlY2VpdmVyLEQucnRjcFRyYW5zcG9ydCxcInJ0Y3B0cmFuc3BvcnRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFJlY2VpdmVyLEQuZ2V0Q2FwYWJpbGl0aWVzLFwiZ2V0Q2FwYWJpbGl0aWVzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLFxyXG5uZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsRC5nZXRQYXJhbWV0ZXJzLFwiZ2V0UGFyYW1ldGVyc1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwUmVjZWl2ZXIsRC5nZXRTdGF0cyxcImdldFN0YXRzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBSZWNlaXZlcixELmdldENhcGFiaWxpdGllc192MixcImdldENhcGFiaWxpdGllc192MlwiLCExLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuUlRDUnRwU2VuZGVyLFwiUlRDUnRwU2VuZGVyXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBTZW5kZXIseS5jdG9yLFwiY3RvclwiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwU2VuZGVyLHkudHJhY2ssXCJ0cmFja1wiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFNlbmRlcix5LnRyYW5zcG9ydCxcInRyYW5zcG9ydFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwU2VuZGVyLHkucnRjcFRyYW5zcG9ydCxcInJ0Y3BUcmFuc3BvcnRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFNlbmRlcix5LmR0bWYsXCJkdG1mXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBTZW5kZXIseS5nZXRDYXBhYmlsaXRpZXMsXCJnZXRDYXBhYmlsaXRpZXNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFNlbmRlcix5LmdldFBhcmFtZXRlcnMsXCJnZXRQYXJhbWV0ZXJzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBTZW5kZXIsXHJcbnkuc2V0UGFyYW1ldGVycyxcInNldFBhcmFtZXRlcnNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFNlbmRlcix5LnJlcGxhY2VUcmFjayxcInJlcGxhY2VUcmFja1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwU2VuZGVyLHkuZ2V0U3RhdHMsXCJnZXRTdGF0c1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwU2VuZGVyLHkuc2V0U3RyZWFtcyxcInNldFN0cmVhbXNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFNlbmRlcix5LmdldENhcGFiaWxpdGllc192MixcImdldENhcGFiaWxpdGllc192MlwiLCExLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuUlRDRHRsc1RyYW5zcG9ydCxcIlJUQ0R0bHNUcmFuc3BvcnRcIixcclxuW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEdGxzVHJhbnNwb3J0LHguY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0R0bHNUcmFuc3BvcnQseC50cmFuc3BvcnQsXCJ0cmFuc3BvcnRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0R0bHNUcmFuc3BvcnQseC5zdGF0ZSxcInN0YXRlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEdGxzVHJhbnNwb3J0LHguZ2V0UmVtb3RlQ2VydGlmaWNhdGVzLFwiZ2V0UmVtb3RlQ2VydGlmaWNhdGVzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEdGxzVHJhbnNwb3J0LHgub25zdGF0ZWNoYW5nZSxcIm9uc3RhdGVjaGFuZ2VcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0R0bHNUcmFuc3BvcnQsXHJcbngub25lcnJvcixcIm9uZXJyb3JcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0bildKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5SVENJY2VUcmFuc3BvcnQsXCJSVENJY2VUcmFuc3BvcnRcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0ljZVRyYW5zcG9ydCxyLmN0b3IsXCJjdG9yXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VUcmFuc3BvcnQsci5yb2xlLFwicm9sZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlVHJhbnNwb3J0LHIuY29tcG9uZW50LFwiY29tcG9uZW50XCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VUcmFuc3BvcnQsci5zdGF0ZSxcInN0YXRlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VUcmFuc3BvcnQsci5nYXRoZXJpbmdTdGF0ZSxcclxuXCJnYXRoZXJpbmdTdGF0ZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlVHJhbnNwb3J0LHIubG9jYWxjYW5kaWRhdGVzLFwibG9jYWxjYW5kaWRhdGVzXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VUcmFuc3BvcnQsci5yZW1vdGVjYW5kaWRhdGVzLFwicmVtb3RlY2FuZGlkYXRlc1wiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlVHJhbnNwb3J0LHIub25zdGF0ZWNoYW5nZSxcIm9uc3RhdGVjaGFuZ2VcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0ljZVRyYW5zcG9ydCxyLm9uZ2F0aGVyaW5nc3RhdGVjaGFuZ2UsXCJvbmdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VUcmFuc3BvcnQsXHJcbnIub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2UsXCJvbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlJUQ0RUTUZTZW5kZXIsXCJSVENEVE1GU2VuZGVyXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEVE1GU2VuZGVyLEEuY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfcHN0biksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RUTUZTZW5kZXIsQS5pbnNlcnREVE1GLFwiaW5zZXJ0RFRNRlwiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRFRNRlNlbmRlcixBLm9udG9uZWNoYW5nZSxcIm9udG9uZWNoYW5nZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRFRNRlNlbmRlcixBLmNhbkluc2VydERUTUYsXCJjYW5JbnNlcnREVE1GXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLFxyXG5uZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRFRNRlNlbmRlcixBLnRvbmVCdWZmZXIsXCJ0b25lQnVmZmVyXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pXSksbmV3IGIuV2VicnBjQ2xhc3NJbmZvKGMuUlRDRFRNRlRvbmVDaGFuZ2VFdmVudCxcIlJUQ0RUTUZUb25lQ2hhbmdlRXZlbnRcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RUTUZUb25lQ2hhbmdlRXZlbnQsTS5jdG9yLFwiY3RvclwiLCExLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRFRNRlRvbmVDaGFuZ2VFdmVudCxNLnRvbmUsXCJ0b25lXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEVE1GVG9uZUNoYW5nZUV2ZW50LE0udG9uZV9idWZmZXIsXCJ0b25lX2J1ZmZlclwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlJUQ0ljZUNhbmRpZGF0ZVBhaXIsXCJSVENJY2VDYW5kaWRhdGVQYWlyXCIsXHJcbltuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlQ2FuZGlkYXRlUGFpcixGLmN0b3IsXCJjdG9yXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3BzdG4pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENJY2VDYW5kaWRhdGVQYWlyLEYubG9jYWwsXCJsb2NhbFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDSWNlQ2FuZGlkYXRlUGFpcixGLnJlbW90ZSxcInJlbW90ZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19wc3RuKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLFwiUlRDUnRwVHJhbnNjZWl2ZXJcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLEouY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDUnRwVHJhbnNjZWl2ZXIsSi5taWQsXCJtaWRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLEouc2VuZGVyLFwic2VuZGVyXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLEoucmVjZWl2ZXIsXCJyZWNlaXZlclwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBUcmFuc2NlaXZlcixKLmRpcmVjdGlvbixcImRpcmVjdGlvblwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc193ZWJydGNfMWRvdDApLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENSdHBUcmFuc2NlaXZlcixKLmN1cnJlbnREaXJlY3Rpb24sXCJjdXJyZW50RGlyZWN0aW9uXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX3dlYnJ0Y18xZG90MCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLEouc3RvcCxcInN0b3BcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKSxcclxubmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1J0cFRyYW5zY2VpdmVyLEouc2V0Q29kZWNQcmVmZXJlbmNlcyxcInNldENvZGVjUHJlZmVyZW5jZXNcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfd2VicnRjXzFkb3QwKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlNjcmVlblNoYXJpbmdSZW1vdGUsXCJTY3JlZW5TaGFyaW5nUmVtb3RlXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TY3JlZW5TaGFyaW5nUmVtb3RlLEcuY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU2hhcmluZ1JlbW90ZSxHLmdldFNjcmVlbnNBc3luYyxcImdldFNjcmVlbnNBc3luY1wiLCExLGEuRkVBVFVSRV9tc190ZWFtc19tb25pdG9yX3NoYXJpbmcpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TY3JlZW5TaGFyaW5nUmVtb3RlLEcub25zY3JlZW50b3BvbG9neWNoYW5nZWQsXCJvbnNjcmVlbnRvcG9sb2d5Y2hhbmdlZFwiLFxyXG4hMCxhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlNjcmVlblNvdXJjZSxcIlNjcmVlblNvdXJjZVwiLFtuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU291cmNlLEwuY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU291cmNlLEwuc3JjaWQsXCJzcmNpZFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19tb25pdG9yX3NoYXJpbmcpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TY3JlZW5Tb3VyY2UsTC5kZXZpY2VpZCxcImRldmljZWlkXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX21vbml0b3Jfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlNjcmVlblNvdXJjZSxMLnR5cGUsXCJ0eXBlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX21vbml0b3Jfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlNjcmVlblNvdXJjZSxcclxuTC5uYW1lLFwibmFtZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19tb25pdG9yX3NoYXJpbmcpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TY3JlZW5Tb3VyY2UsTC5pbWFnZWRhdGEsXCJpbWFnZWRhdGFcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU291cmNlLEwuaHduZCxcImh3bmRcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfbW9uaXRvcl9zaGFyaW5nKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU291cmNlLEwub3JpZ2luLFwib3JpZ2luXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX21vbml0b3Jfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlNjcmVlblNvdXJjZSxMLmNhcHRpb24sXCJjYXB0aW9uXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX21vbml0b3Jfc2hhcmluZyksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlNjcmVlblNvdXJjZSxMLnBpZCxcInBpZFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19tb25pdG9yX3NoYXJpbmcpLFxyXG5uZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU2NyZWVuU291cmNlLEwuYm91bmRzLFwiYm91bmRzXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2d0YyldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5FOTExU2VydmljZSxcIkU5MTFTZXJ2aWNlXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5FOTExU2VydmljZSxQLmN0b3IsXCJjdG9yXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2U5MTEpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5FOTExU2VydmljZSxQLmdldEU5MTFJbmZvLFwiZ2V0RTkxMUluZm9cIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfZTkxMSksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLkU5MTFTZXJ2aWNlLFAub251cGRhdGUsXCJvbnVwZGF0ZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19lOTExKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlJUQ0RhdGFDaGFubmVsLFwiUlRDRGF0YUNoYW5uZWxcIixbbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMuY3RvcixcclxuXCJjdG9yXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMubGFiZWwsXCJsYWJlbFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLm9yZGVyZWQsXCJvcmRlcmVkXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMubWF4UGFja2V0TGlmZVRpbWUsXCJtYXhQYWNrZXRMaWZlVGltZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLm1heFJldHJhbnNtaXRzLFwibWF4UmV0cmFuc21pdHNcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRGF0YUNoYW5uZWwsQy5wcm90b2NvbCxcclxuXCJwcm90b2NvbFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLm5lZ290aWF0ZWQsXCJuZWdvdGlhdGVkXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMuaWQsXCJpZFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLnJlYWR5U3RhdGUsXCJyZWFkeVN0YXRlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMuYnVmZmVyZWRBbW91bnQsXCJidWZmZXJlZEFtb3VudFwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLmJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkLFxyXG5cImJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMub25vcGVuLFwib25vcGVuXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ0RhdGFDaGFubmVsLEMub25idWZmZXJlZGFtb3VudGxvdyxcIm9uYnVmZmVyZWRhbW91bnRsb3dcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRGF0YUNoYW5uZWwsQy5vbmVycm9yLFwib25lcnJvclwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLm9uY2xvc2luZyxcIm9uY2xvc2luZ1wiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxcclxuQy5vbmNsb3NlLFwib25jbG9zZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLm9ubWVzc2FnZSxcIm9ubWVzc2FnZVwiLCEwLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENEYXRhQ2hhbm5lbCxDLmNsb3NlLFwiY2xvc2VcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRGF0YUNoYW5uZWwsQy5zZW5kX3RleHQsXCJzZW5kX3RleHRcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuUlRDRGF0YUNoYW5uZWwsQy5zZW5kX2JpbmFyeSxcInNlbmRfYmluYXJ5XCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCldKSxuZXcgYi5XZWJycGNDbGFzc0luZm8oYy5SVENTY3RwVHJhbnNwb3J0LFwiUlRDU2N0cFRyYW5zcG9ydFwiLFxyXG5bbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1NjdHBUcmFuc3BvcnQsUi5jdG9yLFwiY3RvclwiLCExLGEuRkVBVFVSRV9tc190ZWFtc19kYXRhX2NoYW5uZWwpLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENTY3RwVHJhbnNwb3J0LFIudHJhbnNwb3J0LFwidHJhbnNwb3J0XCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1NjdHBUcmFuc3BvcnQsUi5zdGF0ZSxcInN0YXRlXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1NjdHBUcmFuc3BvcnQsUi5tYXhNZXNzYWdlU2l6ZSxcIm1heE1lc3NhZ2VTaXplXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksbmV3IGIuV2VicnBjTWV0aG9kSW5mbyhjLlJUQ1NjdHBUcmFuc3BvcnQsUi5tYXhDaGFubmVscyxcIm1heENoYW5uZWxzXCIsITAsYS5GRUFUVVJFX21zX3RlYW1zX2RhdGFfY2hhbm5lbCksXHJcbm5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5SVENTY3RwVHJhbnNwb3J0LFIub25zdGF0ZWNoYW5nZSxcIm9uc3RhdGVjaGFuZ2VcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfZGF0YV9jaGFubmVsKV0pLG5ldyBiLldlYnJwY0NsYXNzSW5mbyhjLlN0cmVhbVJlc29sdXRpb24sXCJTdHJlYW1SZXNvbHV0aW9uXCIsW25ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TdHJlYW1SZXNvbHV0aW9uLEsuY3RvcixcImN0b3JcIiwhMSxhLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX3Jlc29sdXRpb24pLG5ldyBiLldlYnJwY01ldGhvZEluZm8oYy5TdHJlYW1SZXNvbHV0aW9uLEsuZ2V0Q2FsbENvbnN0cmFpbnRzLFwiZ2V0Q2FsbENvbnN0cmFpbnRzXCIsITEsYS5GRUFUVVJFX21zX3RlYW1zX3N0cmVhbV9yZXNvbHV0aW9uKSxuZXcgYi5XZWJycGNNZXRob2RJbmZvKGMuU3RyZWFtUmVzb2x1dGlvbixLLm9udXBkYXRlLFwib251cGRhdGVcIiwhMCxhLkZFQVRVUkVfbXNfdGVhbXNfc3RyZWFtX3Jlc29sdXRpb24pXSldKX0sXHJcbjU0NTpmdW5jdGlvbihiLGEsYyl7dmFyIGU9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTAsYz1hcmd1bWVudHMubGVuZ3RoO2I8YztiKyspYSs9YXJndW1lbnRzW2JdLmxlbmd0aDtmb3IodmFyIGE9QXJyYXkoYSksZT0wLGI9MDtiPGM7YisrKWZvcih2YXIgaz1hcmd1bWVudHNbYl0saD0wLGw9ay5sZW5ndGg7aDxsO2grKyxlKyspYVtlXT1rW2hdO3JldHVybiBhfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthLldzSnNvblV0aWw9YS53c19tc2dfdHlwZV90PXZvaWQgMDt2YXIgbD1jKDU1MCksaDsoZnVuY3Rpb24oYSl7YVthLnJlcT0wXT1cInJlcVwiO2FbYS5yZXBseT0xXT1cInJlcGx5XCI7YVthLmV2ZW50X3JlcT0yXT1cImV2ZW50X3JlcVwiO2FbYS5ldmVudF9yZXBseT0zXT1cImV2ZW50X3JlcGx5XCJ9KShoPWEud3NfbXNnX3R5cGVfdHx8KGEud3NfbXNnX3R5cGVfdD17fSkpO2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fVxyXG5hLmNyZWF0ZU1lc3NhZ2VCeWlkPWZ1bmN0aW9uKGEsYixjLGQsaCxwKXtmb3IodmFyIGc9W10sQj02O0I8YXJndW1lbnRzLmxlbmd0aDtCKyspZ1tCLTZdPWFyZ3VtZW50c1tCXTsoQj1sLldlYnJwY0NsYXNzTGliSW5mb1V0aWwuZ2V0TWV0aG9kQnlpZChkLGgpKSYmQi5pc3Byb3B8fChhPSExKTtyZXR1cm4gdGhpcy5jcmVhdGVNZXNzYWdlLmFwcGx5KHRoaXMsZShbYyxhLGIsZCxoLHBdLGcpKX07YS5jcmVhdGVNZXNzYWdlPWZ1bmN0aW9uKGEsYixjLGQsaCxsKXtmb3IodmFyIGc9W10scD02O3A8YXJndW1lbnRzLmxlbmd0aDtwKyspZ1twLTZdPWFyZ3VtZW50c1twXTtyZXR1cm57djpcIndlYnJ0Y1wiLGhkcjp7dmVyc2lvbjp0aGlzLl92ZXJzaW9uLG1zZ190eXBlOnRoaXMuZ2V0TXNnVHlwZShhKSxtb2RpZmllcjpiLGRlc3Ryb3k6Yyxwcm9jOntpaWQ6ZCxtZXRob2RpZDpofX0sb2JqcmVmOntvaWQ6bH0scGFyYW1zOmUoZyl9fTthLmdldE1zZ1R5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9XHJcblwiXCI7c3dpdGNoKGEpe2RlZmF1bHQ6Yj1cInJlcVwiO2JyZWFrO2Nhc2UgaC5yZXBseTpiPVwicmVwbHlcIjticmVhaztjYXNlIGguZXZlbnRfcmVxOmI9XCJldmVudC1yZXFcIjticmVhaztjYXNlIGguZXZlbnRfcmVwbHk6Yj1cImV2ZW50LXJlcGx5XCJ9cmV0dXJuIGJ9O2EuX3ZlcnNpb249MTtyZXR1cm4gYX0oKTthLldzSnNvblV0aWw9Yn19LHA9e307cmV0dXJuIGUoMzA3KX0oKX0pO1xyXG4iLCIvKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggT21uaXNzYSwgTExDLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBUaGlzIHByb2R1Y3QgaXMgcHJvdGVjdGVkIGJ5IGNvcHlyaWdodCBhbmQgaW50ZWxsZWN0dWFsIHByb3BlcnR5IGxhd3MgaW4gdGhlXHJcbiAqIFVuaXRlZCBTdGF0ZXMgYW5kIG90aGVyIGNvdW50cmllcyBhcyB3ZWxsIGFzIGJ5IGludGVybmF0aW9uYWwgdHJlYXRpZXMuXHJcbiAqIC0tIE9tbmlzc2EgUmVzdHJpY3RlZFxyXG4gKi9cclxuLyoqXHJcbiAqXHJcbiAqIEhvcml6b25TREtmb3JXZWJSVENSZWRpci5qc1xyXG4gKiBCdWlsZDogMTQxMjIxNDAxMTdcclxuICpcclxuICovXHJcbiFmdW5jdGlvbihlKXsoXCJmdW5jdGlvblwiIT10eXBlb2YgZGVmaW5lfHwhZGVmaW5lLmFtZCkmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTp3aW5kb3cuSG9yaXpvbldlYlJ0Y1JlZGlyZWN0aW9uQVBJPWUoKX0oZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgQz17Y3JlYXRlSW5zdGFuY2U6MzAsY3JlYXRlSW5zdGFuY2VSZXN1bHQ6MzEsbmV3VmlkZW9FbGVtZW50OjMyLHJlbW92ZVZpZGVvRWxlbWVudDozMyx1cGRhdGVWaWRlb0VsZW1lbnQ6MzQsbmV3RnJhbWU6MzYscmVtb3ZlRnJhbWU6MzcsdmVyc2lvbjo0MCxlbnVtRGV2aWNlczo0MSxlbnVtVmlkZW9EZXZpY2U6NDIsY3JlYXRlUGVlckNvbm5lY3Rpb246NDMsY3JlYXRlT2ZmZXI6NDQsY3JlYXRlQW5zd2VyOjQ1LHNldExvY2FsRGVzY3JpcHRpb246NDYsc2V0UmVtb3RlRGVzY3JpcHRpb246NDcsYWRkSWNlQ2FuZGlkYXRlOjQ4LGFkZFN0cmVhbTo0OSxnZXRMb2NhbFN0cmVhbXM6NTAsZ2V0U3RhdHM6NTEscmVtb3ZlU3RyZWFtOjUyLGNsb3NlOjUzLGdldFVzZXJNZWRpYVNoaW06NTQsbWVkaWFUcmtTdG9wOjU1LHRyYWNrRW5hYmxlZDo1NixuZXdBdWRpb0VsZW1lbnQ6NTcsc2V0U2lua0lkOjU4LHVwZGF0ZVNyY09iamVjdDo1OSxub3RpZnlBdWRpbzo2MCxtZWRpYVN0cmVhbUNsb25lOjYxLG1lZGlhVHJhY2tDbG9uZTo2MixnZXREaXNwbGF5TWVkaWFTaGltOjYzLHNldERlZmF1bHRTaW5rSWQ6NjQsc2hpbUxvZ1RvV2ViU29ja2V0OjY1LGluc2VydERUTUY6NjYsZ2V0UmVjZWl2ZXJzOjY3LGN1c3RvbUNsaXBSZWN0OjY5LGFwcGx5Q29uc3RyYWludHM6NzAsZ2V0U2NyZWVuczo3MSxzZXRTY3JlZW5JZDo3MixhZGRUcmFjazo3NCxyZW1vdmVUcmFjazo3NSxzZW5kZXJDbWQ6NzYsY3JlYXRlTWVkaWFTdHJlYW06NzcsY29ubmVjdGVkU3RhdGVDaGFuZ2VkOjc4LHVwZGF0ZU9iamVjdEZpdDo3OSx0cmFuc2NlaXZlckNtZDozMDAsZGF0YUNoYW5uZWxDbWQ6MzAxLGRhdGFDaGFubmVsRXZlbnQ6MzAyLGdldEhXTkQ6MzA5LHBjQ21kOjMxMH0sUz17RVJST1I6MCxXQVJOOjEsSU5GTzoyLERFQlVHOjN9LEc9Mix5PTAsVD0xLF89MixkPXtEVVJBVElPTjoxMDAsSU5URVJUT05FR0FQOjcwfSxvPTAsYT0xLGY9MSxnPTIscT1cInVuaWZpZWQtcGxhblwiLG09e1RSQU5TQ0VJVkVSX0FERF9UUkFOU0NFSVZFUjoxLFRSQU5TQ0VJVkVSX1NFVF9DT0RFQ1BSRUZFUkVOQ0U6MixUUkFOU0NFSVZFUl9TVE9QOjMsVFJBTlNDRUlWRVJfU0VUX0RJUkVDVElPTjo0fSxsPTAsdj0xLHM9MSxjPTIsWD00LEs9MTYsdT17UlBGX0FDVElWRToxLFJQRl9DT0RFUEFZTE9BRFRZUEU6MixSUEZfRFRYOjQsUlBGX01BWEJJVFJBVEU6OCxSUEZfTUFYRlJBTUVSQVRFOjE2LFJQRl9QVElNRTozMixSUEZfUklEOjY0LFJQRl9TQ0FMRV9SRVNPTFVUSU9OX0RPV05CWToxMjh9LFk9MCxaPTEsYj0wLHc9MSxRPTQsJD0zMixlZT0yLG49XCI1MjQwNjA4MVwiLEU9XCIxLjAuXCIsaz0oRSs9XCJAXCI9PT1uWzBdP1wiMDAwMDBcIjpuLHtVTlNVUFBPUlRFRDpcInVuc3VwcG9ydGVkXCIsQ0hST01FOlwiY2hyb21lXCIsQ0hST01JVU1fRURHRTpcImNocm9taXVtX2VkZ2VcIixFTEVDVFJPTjpcImVsZWN0cm9uXCJ9KSx0ZT0yLG5lPTQsaWU9MSxyZT0yO2NvbnN0IEk9XCIwXCI7ZnVuY3Rpb24gb2UoZSl7c2V0VGltZW91dChlLDApfWZ1bmN0aW9uIGFlKGUpe2lmKCFlfHwhZS5vd25lckRvY3VtZW50KXJldHVybiAxO2lmKCh0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0Wm9vbUZhY3RvcilyZXR1cm4gdC5nZXRab29tRmFjdG9yKGUpO3Zhcntpbm5lcldpZHRoOmUsb3V0ZXJXaWR0aDp0fT10O2lmKDA9PT1lKXJldHVybiB0O3ZhciBuPWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg/ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDplO2xldCBpLHI7cmV0dXJuIHg9PWsuRUxFQ1RST04/aT1NYXRoLnJvdW5kKCh0LShlLW4pKS9lKjFlMykvMWUzOng9PWsuQ0hST01FfHx4PT1rLkNIUk9NSVVNX0VER0U/KGk9KHQtOCkvZSoxMDAscj1FZShpKSxNYXRoLnJvdW5kKHJ8fGkpLzEwMCk6MX1mdW5jdGlvbiBzZShlKXt2YXIgdDtGLm11bHRpd2luZG93JiZqPyh0PV9lKGUpKT93ZVt0XT9MLmRlYnVnKFwiZW5zdXJlRnJhbWUgc2tpcHBlZCBkdWUgdG8gZnJhbWUgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTooai5zZW5kKHtjbWQ6XCJuZXdGcmFtZVwiLGZyYW1lOnQsYnJvd3Nlcjp4LGN1c3RvbUNsaXBSZWN0OjF9LC0xKSx3ZVt0XT1lKTpMLmRlYnVnKFwiZW5zdXJlRnJhbWUgc2tpcHBlZCBkdWUgdG8gbm8gZnJhbWVXbmRcIik6TC5kZWJ1ZyhcImVuc3VyZUZyYW1lIHNraXBwZWQgZHVlIHRvIGZlYXR1cmUgbm90IGVuYWJsZWQgb3Igbm8gY29ubmVjdGlvbi5cIil9dmFyIGRlLHA9LTEsUj0tMSxjZT0tMSx1ZT0wLGxlPTAsaGU9MCxmZT0wLGdlPTAsdmU9MCxpPXt9LE89e30sUD17fSxwZT17fSxtZT17fSxiZT13aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzLENlPW51bGwsRD17fSxTZT17fSxNPXt9LHllPXt9LGo9bnVsbCxyPW51bGwsQT1bXSxWPVtdLEY9e30sd2U9e30sTj17fSxSZT17fSxUZT1bXSx4PTA8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWxlY3Ryb25cIik/ay5FTEVDVFJPTjowPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKT8wPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ1wiKT9rLkNIUk9NSVVNX0VER0U6ay5DSFJPTUU6ay5VTlNVUFBPUlRFRCxMPXtsb2dMZXZlbDpTLkRFQlVHLHdlYnNvY2tldGxvZ0xldmVsOlMuSU5GTyxsb2dUb0NvbnNvbGU6ITAsdXBkYXRlTG9nTGV2ZWw6ZnVuY3Rpb24oZSx0KXtMLmxvZ0xldmVsPWUsTC53ZWJzb2NrZXRsb2dMZXZlbD10fSxlcnJvcjpmdW5jdGlvbihlKXtMLmxvZyhcIkVSUk9SXCIsZSksciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5lcnJvciYmci5lcnJvcihlKX0sd2FybjpmdW5jdGlvbihlKXtMLmxvZyhcIldBUk5cIixlKSxyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLndhcm4mJnIud2FybihlKX0saW5mbzpmdW5jdGlvbihlKXtMLmxvZyhcIklORk9cIixlKSxyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmluZm8mJnIuaW5mbyhlKX0sZGVidWc6ZnVuY3Rpb24oZSl7TC5sb2coXCJERUJVR1wiLGUpfSxsb2c6ZnVuY3Rpb24oZSx0KXt0cnl7U1tlXTw9TC5sb2dMZXZlbCYmKEwubG9nVG9Db25zb2xlJiZjb25zb2xlJiYoXCJvYmplY3RcIj09dHlwZW9mIHQ/Y29uc29sZS5sb2codCk6Y29uc29sZS5sb2coZStcIjogXCIrdCkpLFwic3RyaW5nXCI9PXR5cGVvZiB0KSYmU1tlXTw9TC53ZWJzb2NrZXRsb2dMZXZlbCYmaiYmai5zZW5kTG9nVG9XZWJTb2NrZXQodCxlKX1jYXRjaChlKXt9fX0sX2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LEVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bMjUsMzMsNTAsNjcsNzUsODAsOTAsMTAwLDExMCwxMjUsMTUwLDE3NSwyMDAsMjUwLDMwMCw0MDAsNTAwXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj0uMDUqaTtpZihNYXRoLmFicyhpLWUpPHIpcmV0dXJuIGl9fTtmdW5jdGlvbiBrZShlLHQsbil7dmFyIGkscixvPVwiX2lkI1wiLGE9ZS5pbmRleE9mKHQpO3JldHVybi0xPT1hP2UrdCtcIjFcIitvK246KGk9ZS5zdWJzdHJpbmcoMCxhKSxyPWUuaW5kZXhPZihvLGErdC5sZW5ndGgpLGU9TnVtYmVyKGUuc3Vic3RyaW5nKGErdC5sZW5ndGgscikpLGkrdCsoKGU9aXNOYU4oZSk/MDplKSsxKStvK24pfWZ1bmN0aW9uIEllKGUsdCl7ZnVuY3Rpb24gbigpe3JldHVybiAxPD1hcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF19ZnVuY3Rpb24gaSgpe3JldHVybiAyPD1hcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV19ZnVuY3Rpb24gcihhLHMsZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRE9NRXhjZXB0aW9uKFwiY3JlYXRlT2ZmZXIgY2FuY2VsbGVkXCIsXCJPcGVyYXRpb25FcnJvclwiKSxpPW5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKSxyPWE/ZTpkLG89YT90OmM7ai5zZW5kKHtjbWQ6XCJjcmVhdGVPZmZlclwiLG9wdGlvbnM6c30sdS5pZCxmdW5jdGlvbihlKXtPW3UuaWRdP3ZvaWQgMD09PWUuZXJyb3I/KEwuZGVidWcoXCJjcmVhdGVPZmZlciBkb25lXCIpLEwuZGVidWcoZS5kZXNjKSxlLnRyYW5zY2VpdmVycyYmdihlLnRyYW5zY2VpdmVycykscihlLmRlc2MpKTpvKG4pOm8oaSl9KX0pfWZ1bmN0aW9uIG8oYSxzLGQsYyl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IERPTUV4Y2VwdGlvbihcImNyZWF0ZUFuc3dlciBjYW5jZWxsZWRcIixcIk9wZXJhdGlvbkVycm9yXCIpLGk9bmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbiBpcyBjbG9zZWRcIixcIkludmFsaWRTdGF0ZUVycm9yXCIpLHI9YT9lOmQsbz1hP3Q6YztqLnNlbmQoe2NtZDpcImNyZWF0ZUFuc3dlclwiLG9wdGlvbnM6c30sdS5pZCxmdW5jdGlvbihlKXtPW3UuaWRdP3ZvaWQgMD09PWUuZXJyb3I/KEwuZGVidWcoXCJjcmVhdGVBbnN3ZXIgZG9uZVwiKSxMLmRlYnVnKGUuZGVzYyksZS50cmFuc2NlaXZlcnMmJnYoZS50cmFuc2NlaXZlcnMpLHIoZS5kZXNjKSk6byhuKTpvKGkpfSl9KX1mdW5jdGlvbiBhKGEscyxkLGMpe3JldHVybiB1Ll9yZW1vdGVEZXNjcmlwdGlvbj1zLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IERPTUV4Y2VwdGlvbihcInNldFJlbW90ZURlc2NyaXB0aW9uIGNhbmNlbGxlZFwiLFwiT3BlcmF0aW9uRXJyb3JcIiksaT1uZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uIGlzIGNsb3NlZFwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIikscj1hP2U6ZCxvPWE/dDpjO2ouc2VuZCh7Y21kOlwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixkZXNjOnN9LHUuaWQsZnVuY3Rpb24oZSl7T1t1LmlkXT92b2lkIDA9PT1lLmVycm9yPyhlLnRyYW5zY2VpdmVycyYmdihlLnRyYW5zY2VpdmVycyxlLnRyYW5zY2VpdmVyc1JlbW92ZWQpLHIoKSk6byhuKTpvKGkpfSl9KX1mdW5jdGlvbiBzKGEscyxkLGMpe3JldHVybiB1Ll9sb2NhbERlc2NyaXB0aW9uPXMsbmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRE9NRXhjZXB0aW9uKFwic2V0TG9jYWxEZXNjcmlwdGlvbiBjYW5jZWxsZWRcIixcIk9wZXJhdGlvbkVycm9yXCIpLGk9bmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbiBpcyBjbG9zZWRcIixcIkludmFsaWRTdGF0ZUVycm9yXCIpLHI9YT9lOmQsbz1hP3Q6YztqLnNlbmQoe2NtZDpcInNldExvY2FsRGVzY3JpcHRpb25cIixkZXNjOnN9LHUuaWQsZnVuY3Rpb24oZSl7T1t1LmlkXT92b2lkIDA9PT1lLmVycm9yPyhlLnRyYW5zY2VpdmVycyYmdihlLnRyYW5zY2VpdmVycyxlLnRyYW5zY2VpdmVyc1JlbW92ZWQpLHIoKSk6byhuKTpvKGkpfSl9KX1mdW5jdGlvbiBkKGEscyxkLGMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBET01FeGNlcHRpb24oXCJhZGRJY2VDYW5kaWRhdGUgY2FuY2VsbGVkXCIsXCJPcGVyYXRpb25FcnJvclwiKSxpPW5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKSxyPWE/ZTpkLG89YT90OmM7ai5zZW5kKHtjbWQ6XCJhZGRJY2VDYW5kaWRhdGVcIixjYW5kaWRhdGU6c30sdS5pZCxmdW5jdGlvbihlKXtPW3UuaWRdP3ZvaWQgMD09PWUuZXJyb3I/cigpOm8obik6byhpKX0pfSl9ZnVuY3Rpb24gYyhpLHIpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe25ldyBET01FeGNlcHRpb24oXCJnZXRTdGF0cyBjYW5jZWxsZWRcIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt2YXIgbj1pP2U6cixlPXtjbWQ6XCJnZXRTdGF0c1wifTtpPT13JiYoZS5jYXBhYmlsaXR5PVEpLGouc2VuZChlLHUuaWQsZnVuY3Rpb24oZSl7dmFyIHQ7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHZvaWQgMD09PWUuZXJyb3ImJnZvaWQgMCE9PWUuc3RhdHMmJnZvaWQgMCE9PU9bdS5pZF0/aT09dz9uKGUuc3RhdHMpOigodD1uZXcgT2UpLl9jcmVhdGUoZS5zdGF0cyksbih0KSk6bih7fSkpfSl9KX12YXIgdT10aGlzLGw9e30saD17fSxmPXt9LGc9ITEsdj0odGhpcy5pZD0rK2NlLHRoaXMuX2xvY2FsU3RyZWFtcz1bXSx0aGlzLl9yZW1vdGVTdHJlYW1zPVtdLHRoaXMuX2RhdGFDaGFubmVsTWFwPXt9LHRoaXMuX2RhdGFDaGFubmVsSWRUb1NoaW1JZE1hcD17fSx0aGlzLl9pY2VDb25uZWN0aW9uU3RhdGU9XCJuZXdcIixlJiZlLnNkcFNlbWFudGljcz09PXEmJihnPSEwKSx0aGlzLmlzVW5pZmllZFBsYW49ZnVuY3Rpb24oKXtyZXR1cm4gZ30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpY2VDb25uZWN0aW9uU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuZGVidWcoXCJnZXQgaWNlQ29ubmVjdGlvblN0YXRlOlwiK3RoaXMuX2ljZUNvbm5lY3Rpb25TdGF0ZSksdGhpcy5faWNlQ29ubmVjdGlvblN0YXRlfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9pY2VHYXRoZXJpbmdTdGF0ZT1cIm5ld1wiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWNlR2F0aGVyaW5nU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuZGVidWcoXCJnZXQgaWNlR2F0aGVyaW5nU3RhdGU6XCIrdGhpcy5faWNlR2F0aGVyaW5nU3RhdGUpLHRoaXMuX2ljZUdhdGhlcmluZ1N0YXRlfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9zaWduYWxpbmdTdGF0ZT1cInN0YWJsZVwiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2lnbmFsaW5nU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuZGVidWcoXCJnZXQgc2lnbmFsaW5nU3RhdGU6XCIrdGhpcy5fc2lnbmFsaW5nU3RhdGUpLHRoaXMuX3NpZ25hbGluZ1N0YXRlfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9jb25uZWN0aW9uU3RhdGU9XCJuZXdcIixGLmNvbm5lY3Rpb25TdGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb25uZWN0aW9uU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuZGVidWcoXCJnZXQgY29ubmVjdGlvblN0YXRlOlwiK3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZSksdGhpcy5fY29ubmVjdGlvblN0YXRlfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9sb2NhbERlc2NyaXB0aW9uPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsb2NhbERlc2NyaXB0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBMLmRlYnVnKFwiZ2V0IGxvY2FsRGVzY3JpcHRpb246XCIrdGhpcy5fbG9jYWxEZXNjcmlwdGlvbiksdGhpcy5fbG9jYWxEZXNjcmlwdGlvbn0sY29uZmlndXJhYmxlOiEwfSksdGhpcy5fcmVtb3RlRGVzY3JpcHRpb249bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlbW90ZURlc2NyaXB0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBMLmRlYnVnKFwiZ2V0IHJlbW90ZURlc2NyaXB0aW9uOlwiK3RoaXMuX3JlbW90ZURlc2NyaXB0aW9uKSx0aGlzLl9yZW1vdGVEZXNjcmlwdGlvbn0sY29uZmlndXJhYmxlOiEwfSksdGhpcy5jbGVhblVwPWZ1bmN0aW9uKCl7dmFyIGUsdDtcImNvbXBsZXRlXCIhPT10aGlzLl9pY2VHYXRoZXJpbmdTdGF0ZSYmKHQ9e3R5cGU6XCJpY2VjYW5kaWRhdGVcIixjYW5kaWRhdGU6bnVsbCx0YXJnZXQ6dGhpc30sdGhpcy5vbmljZWNhbmRpZGF0ZSYmdGhpcy5vbmljZWNhbmRpZGF0ZSh0KSx0aGlzLl9pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsZT17dHlwZTpcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsdGFyZ2V0OnRoaXN9LHRoaXMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSkmJnRoaXMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZShlKSxcImRpc2Nvbm5lY3RlZFwiIT10aGlzLl9pY2VDb25uZWN0aW9uU3RhdGUmJih0aGlzLl9pY2VDb25uZWN0aW9uU3RhdGU9XCJkaXNjb25uZWN0ZWRcIix0PXt0eXBlOlwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGFyZ2V0OnRoaXN9LHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UpJiZ0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKHQpLHRoaXMuX2xvY2FsU3RyZWFtcz1bXSx0aGlzLl9yZW1vdGVTdHJlYW1zPVtdfSx0aGlzLmNyZWF0ZU9mZmVyVjA9ZnVuY3Rpb24oZSx0LG4pe3IoYixuLGUsdCl9LHRoaXMuY3JlYXRlT2ZmZXJWMT1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KG51bGwsYXJndW1lbnRzKT90aGlzLmNyZWF0ZU9mZmVyVjAuYXBwbHkodGhpcyxhcmd1bWVudHMpOnIodyxhcmd1bWVudHNbMF0pfSx0aGlzLmNyZWF0ZUFuc3dlclYwPWZ1bmN0aW9uKGUsdCxuKXtvKGIsbixlLHQpfSx0aGlzLmNyZWF0ZUFuc3dlclYxPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkobnVsbCxhcmd1bWVudHMpP3RoaXMuY3JlYXRlQW5zd2VyVjAuYXBwbHkodGhpcyxhcmd1bWVudHMpOm8odyxhcmd1bWVudHNbMF0pfSx0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uVjA9ZnVuY3Rpb24oZSx0LG4pe2EoYixlLHQsbil9LHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb25WMT1mdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KG51bGwsYXJndW1lbnRzKT90aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uVjAuYXBwbHkodGhpcyxhcmd1bWVudHMpOmEodyxhcmd1bWVudHNbMF0pfSx0aGlzLnNldExvY2FsRGVzY3JpcHRpb25WMD1mdW5jdGlvbihlLHQsbil7cyhiLGUsdCxuKX0sdGhpcy5zZXRMb2NhbERlc2NyaXB0aW9uVjE9ZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseShudWxsLGFyZ3VtZW50cyk/dGhpcy5zZXRMb2NhbERlc2NyaXB0aW9uVjAuYXBwbHkodGhpcyxhcmd1bWVudHMpOnModyxhcmd1bWVudHNbMF0pfSx0aGlzLmFkZEljZUNhbmRpZGF0ZVYwPWZ1bmN0aW9uKGUsdCxuKXtkKGIsZSx0LG4pfSx0aGlzLmFkZEljZUNhbmRpZGF0ZVYxPWZ1bmN0aW9uKCl7cmV0dXJuIGkuYXBwbHkobnVsbCxhcmd1bWVudHMpP3RoaXMuYWRkSWNlQ2FuZGlkYXRlVjAuYXBwbHkodGhpcyxhcnVnbWVudHMpOmQodyxhcmd1bWVudHNbMF0pfSx0aGlzLmNyZWF0ZURUTUZTZW5kZXI9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJhdWRpb1wiIT09ZS5raW5kPyhMLmVycm9yKFwiRFRNRiBvbmx5IGNvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCBhdWRpbyB0cmFjay5cIiksbnVsbCk6KCh0PW5ldyBQZSkuaW5pdFBsYW5CKHUuaWQsZSksbWVbZS5pZF09dCl9LHRoaXMuZ2V0U3RhdHNWMD1mdW5jdGlvbihlKXtyZXR1cm4gYyhiLGUpfSx0aGlzLmdldFN0YXRzVjE9ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseShudWxsLGFyZ3VtZW50cyk/dGhpcy5nZXRTdGF0c1YwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpjKHcpfSx0aGlzLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiBnPyhMLndhcm4oXCJnZXRMb2NhbFN0cmVhbXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgdW5pZmllZCBwbGFuLCB1c2UgZ2V0U2VuZGVycygpXCIpLFtdKTooTC5kZWJ1ZyhcImdldExvY2FsU3RyZWFtcygpOlwiK3RoaXMuX2xvY2FsU3RyZWFtcy5sZW5ndGgpLHRoaXMuX2xvY2FsU3RyZWFtcyl9LHRoaXMuZ2V0UmVtb3RlU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiBnPyhMLndhcm4oXCJnZXRSZW1vdGVTdHJlYW1zIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIHVuaWZpZWQgcGxhbiwgdXNlIGdldFJlY2VpdmVycygpXCIpLFtdKTooTC5kZWJ1ZyhcImdldFJlbW90ZVN0cmVhbXMoKTpcIit0aGlzLl9yZW1vdGVTdHJlYW1zLmxlbmd0aCksdGhpcy5fcmVtb3RlU3RyZWFtcyl9LHRoaXMuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpLGouc2VuZCh7Y21kOlwiYWRkU3RyZWFtXCIsc2lkOmUuaWR9LHUuaWQpfSx0aGlzLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXtMLmRlYnVnKFwiUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlU3RyZWFtKCk6IFwiK2UuaWQpO3ZhciB0PXRoaXMuX2xvY2FsU3RyZWFtcy5pbmRleE9mKGUpOy0xIT10P3RoaXMuX2xvY2FsU3RyZWFtcy5zcGxpY2UodCwxKTpMLmVycm9yKFwiUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlU3RyZWFtKCk6IEZhaWxlZCB0byBmaW5kIHN0cmVhbTogXCIrZS5pZCksai5zZW5kKHtjbWQ6XCJyZW1vdmVTdHJlYW1cIixzaWQ6ZS5pZH0sdS5pZCl9LHRoaXMuYWRkVHJhY2tJbXBsVjE9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2lmKGUmJnQpcmV0dXJuIGc/KChuPW5ldyBXKHUpKS5pbml0VHJhY2tPcktpbmQoZSksKGk9KGZbbi5pZF09bikuc2VuZGVyKS5zZXRUcmFjayhlLHQpLGouc2VuZCh7Y21kOlwiYWRkVHJhY2tcIix0cmFuc2NlaXZlcklkOm4uaWQsdGlkOmUuaWQsc2lkOnQuaWR9LHUuaWQsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5lcnJvcj92KGUudHJhbnNjZWl2ZXJzKTpkZWxldGUgZltuLmlkXX0pKTooaT1oW2UuaWRdKT9MLndhcm4oXCJSVENQZWVyQ29ubmVjdGlvbi5hZGRUcmFjazogc2VuZGVyIGFscmVhZHkgZXhpc3RzLlwiKTooKGk9bmV3IEoodSkpLmluaXRQbGFuQihlLHQpLGhbaS5pZF09aSxqLnNlbmQoe2NtZDpcImFkZFRyYWNrXCIsdHJhbnNjZWl2ZXJJZDpcIlwiLHRpZDplLmlkLHNpZDp0LmlkfSx1LmlkLGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuZXJyb3ImJmRlbGV0ZSBoW2kuaWRdfSkpLGk7dGhyb3cgbmV3IEVycm9yKFwiYm90aCBtZWRpYSB0cmFjayBhbmQgc3RyZWFtIG5lZWQgdG8gYmUgcHJvdmlkZWRcIil9LHRoaXMucmVtb3ZlVHJhY2tJbXBsVjE9ZnVuY3Rpb24oZSl7ZT92b2lkIDA9PT1lLl9jYXA/TC5lcnJvcihcInNlbmRlciBvYmplY3QgZG9lc24ndCBoYXZlIHRoZSBjYXBhYmlsaXR5IGJpdHNcIik6ZS5pZD8oZS5yZW1vdmVUcmFjaygpLGd8fGRlbGV0ZSBoW2UuaWRdKTpMLmVycm9yKFwiUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2s6IG5vdCBhIHZhbGlkIHNlbmRlciBvYmplY3RcIik6TC5lcnJvcihcIlJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrOiBpbnZhbGlkIHNlbmRlci5cIil9LHRoaXMuZ2V0U2VuZGVyc0ltcGxWMT1mdW5jdGlvbigpe0wuZGVidWcoXCJSVENQZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzSW1wbFYxXCIpO3ZhciBlPVtdO2lmKGcpZm9yKHZhciB0IGluIGYpe3ZhciBuPWZbdF0uc2VuZGVyO24mJmUucHVzaChuKX1lbHNlIGZvcih2YXIgdCBpbiBoKWhbdF0mJmUucHVzaChoW3RdKTtyZXR1cm4gZX0sdGhpcy5nZXRUcmFuY2VpdmVyc0ltcGxWMT1mdW5jdGlvbigpe0wuZGVidWcoXCJSVENQZWVyQ29ubmVjdGlvbi5nZXRUcmFuY2VpdmVyc0ltcGxWMVwiKTt2YXIgZSx0PVtdO2ZvcihlIGluIGYpTC5kZWJ1ZyhcIlJUQ1BlZXJDb25uZWN0aW9uLmdldFRyYW5jZWl2ZXJzSW1wbFYxIGlkPVwiK2UpLHQucHVzaChmW2VdKTtyZXR1cm4gdH0sdGhpcy5hZGRUcmFuc2NlaXZlckltcGxWMT1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBXKHUpLGk9KG4uaW5pdFRyYWNrT3JLaW5kKGUsdCksZltuLmlkXT1uLHtjbWQ6XCJ0cmFuc2NlaXZlckNtZFwiLHRyYW5zY2VpdmVyQ21kOm0uVFJBTlNDRUlWRVJfQUREX1RSQU5TQ0VJVkVSLGhpbnQ6XCJSVENSdHBUcmFuc2NlaXZlci5hZGRUcmFuc2NlaXZlclwiLHRyYW5zY2VpdmVySWQ6bi5pZH0pO2lmKFwiYXVkaW9cIj09PWV8fFwidmlkZW9cIj09PWUpaS50cmFja09yS2luZD1lO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgQikpcmV0dXJuIEwuZXJyb3IoXCJhZGRUcmFuY2VpdmVyOiBVbmtub3duIHR5cGVcIiksbnVsbDtMLmRlYnVnKFwiYWRkVHJhbmNlaXZlciB3aXRoIHRyYWNrIGlzIG5vdCBJbXBsZW1lbnRlZFwiKSxpLnRyYWNrT3JLaW5kPWUuaWR9ZT17fTtpZih0LmRpcmVjdGlvbiYmKGUuZGlyZWN0aW9uPXQuZGlyZWN0aW9uKSx0LnNlbmRFbmNvZGluZ3MmJihlLnNlbmRFbmNvZGluZ3M9dC5zZW5kRW5jb2RpbmdzKSx0LnN0cmVhbXMpe2Zvcih2YXIgciBpbiBzdHJlYW1JZHM9W10sdC5zdHJlYW1zKXN0cmVhbUlkcy5wdXNoKHIuaWQpO2Uuc3RyZWFtcz1zdHJlYW1JZHN9cmV0dXJuIGkuaW5pdD1lLGouc2VuZChpLHUuaWQsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5lcnJvciYmdihlLnRyYW5zY2VpdmVycyl9KSxufSx0aGlzLmNyZWF0ZURhdGFDaGFubmVsSW1wbFYxPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtyZXR1cm4gTC5kZWJ1ZyhcIlJUQ1BlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsOiBcIitlK1wiIG9wdGlvbjogXCIrSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKSksZT8obj0rK3ZlLChpPW5ldyBWZSh1LmlkLG4pKS5fY3JlYXRlQ2hhbm5lbChlLHQpLHUuX2RhdGFDaGFubmVsTWFwW25dPWkpOihMLmVycm9yKFwiUlRDUGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWw6IG1pc3NpbmcgbGFiZWxcIiksbnVsbCl9LHRoaXMuX3VudHJhY2tEYXRhQ2hhbm5lbD1mdW5jdGlvbihlLHQpe3ZvaWQgMCE9PXQmJnUuX2RhdGFDaGFubmVsTWFwW3RdJiYoTC5kZWJ1ZyhcIlVudHJhY2sgZGF0YWNoYW5uZWw6IFwiK2UrXCIgc2hpbUlkOiBcIit0KSxkZWxldGUgdS5fZGF0YUNoYW5uZWxNYXBbdF0pLGUhPVImJnUuX2RhdGFDaGFubmVsSWRUb1NoaW1JZE1hcFtlXSYmKEwuZGVidWcoXCJSZW1vdmUgbWFwcGVkIGRhdGFjaGFubmVsOiBcIitlK1wiIHNoaW1JZDpcIit0KSxkZWxldGUgdS5fZGF0YUNoYW5uZWxJZFRvU2hpbUlkTWFwW2VdKX0sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSl7dmFyIGkscj1lW25dLG89ZltyLmlkXTsob3x8KG89ci5pZCxMLmRlYnVnKFwiX3VwZGF0ZVRyYW5zY2VpdmVyczogYWRkVHJhbnNjZWl2ZXIgaWQ9XCIrbyksKGk9bmV3IFcodSkpLmluaXRJZChvKSxmW29dPWkpKS51cGRhdGUocil9aWYodClmb3IodmFyIG4gaW4gdCl7dmFyIGE9dFtuXTtMLmRlYnVnKFwiX3VwZGF0ZVRyYW5zY2VpdmVyczogcmVtb3ZlVHJhbnNjZWl2ZXIgaWQ9XCIrYSksZGVsZXRlIGZbYV19fSkscD0odGhpcy5jbG9zZT1mdW5jdGlvbigpe3A9bnVsbCxqLnNlbmQoe2NtZDpcImNsb3NlXCJ9LHUuaWQsZnVuY3Rpb24oZSl7ZGVsZXRlIE9bdS5pZF19LCEwKX0sbnVsbCk7dGhpcy5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtpZihnKXt2YXIgZT1bXTtpZihmKWZvcih2YXIgdCBpbiBmKXt2YXIgbj1mW3RdLnJlY2VpdmVyO24mJmUucHVzaChuKX19ZWxzZXtwfHwocD17fSxqLnNlbmQoe2NtZDpcImdldFJlY2VpdmVyc1wifSx1LmlkLGZ1bmN0aW9uKGUpe30sITApKTtlPVtdO2Zvcih0IGluIHApcFt0XSYmZS5wdXNoKHBbdF0pfXJldHVybiBlfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtMLmRlYnVnKFwiUlRDUGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigpOiBcIitlKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P0wuZXJyb3IoXCJSVENQZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCk6IFRoZSBsaXN0ZW5lciBoYW5kbGVyIGlzIGludmFsaWQuXCIpOlwic3RyaW5nXCIhPXR5cGVvZiBlP0wuZXJyb3IoXCJSVENQZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCk6IFRoZSBldmVudCBuYW1lIGlzIGludmFsaWQuXCIpOih2b2lkIDA9PT1sW2VdJiYobFtldmVudF09e2xpc3RlbmVyczpbXX0pLGxbZV0ubGlzdGVuZXJzLnB1c2godCkpfSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtMLmRlYnVnKFwiUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigpOiBcIitlKSx2b2lkIDA9PT1sW2VdP0wuZXJyb3IoXCJSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKCk6IEV2ZW50IGRvZXMgbm90IGV4aXN0ID0gXCIrZSk6bFtlXS5saXN0ZW5lcnM9bFtlXS5saXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvU3RyaW5nKCkhPT10LnRvU3RyaW5nKCl9KX0sdGhpcy5fb25SZWNlaXZlRGF0YUNoYW5uZWxFdmVudD1mdW5jdGlvbihlKXt2YXIgdDt2b2lkIDA9PT1lLnNoaW1JZD9MLmVycm9yKFwiUlRDUGVlckNvbm5lY3Rpb24uX29uUmVjZWl2ZURhdGFDaGFubmVsRXZlbnQ6IG1pc3Npbmcgc2hpbUlkXCIpOigodD1lLnNoaW1JZCk9PVImJmUuY2hhbm5lbCYmdm9pZCAwIT09ZS5jaGFubmVsLmlkJiYoTC5kZWJ1ZyhcIlRyeSB0byBmaW5kIG1hcHBlZCBcIitlLmNoYW5uZWwuaWQrXCIgaW46XCIrSlNPTi5zdHJpbmdpZnkodS5fZGF0YUNoYW5uZWxJZFRvU2hpbUlkTWFwKSksdm9pZCAwIT09dS5fZGF0YUNoYW5uZWxJZFRvU2hpbUlkTWFwW2UuY2hhbm5lbC5pZF0pJiYodD11Ll9kYXRhQ2hhbm5lbElkVG9TaGltSWRNYXBbZS5jaGFubmVsLmlkXSxMLmRlYnVnKFwiUlRDUGVlckNvbm5lY3Rpb24uX29uUmVjZWl2ZURhdGFDaGFubmVsRXZlbnQ6IHVzZSBtYXBwZWQgc2hpbUlkOiBcIit0KSksdCE9UiYmdS5fZGF0YUNoYW5uZWxNYXBbdF0/dS5fZGF0YUNoYW5uZWxNYXBbdF0uX29uUmVjZWl2ZUV2ZW50KGUpOkwuZXJyb3IoXCJSVENQZWVyQ29ubmVjdGlvbi5fb25SZWNlaXZlRGF0YUNoYW5uZWxFdmVudDogZGF0YUNoYW5ubGUgXCIrdCtcIiBub3QgZXhpc3RlZFwiKSl9LHRoaXMuX29uUmVjZWl2ZUV2ZW50PWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PWUuZXZ0KUwuZXJyb3IoXCJfb25SZWNlaXZlRXZlbnQoKTogZXZ0IHByb3BlcnR5IGlzIGludmFsaWQuXCIpO2Vsc2V7dmFyIHQ9e3R5cGU6ZS5ldnQsdGFyZ2V0OnRoaXN9O3N3aXRjaChlLmRldGFpbHMmJnRoaXMuX3VwZGF0ZVZhcnMoZS5kZXRhaWxzKSxlLmV2dCl7Y2FzZVwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCI6dGhpcy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmdGhpcy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSh0KTticmVhaztjYXNlXCJuZWdvdGlhdGlvbm5lZWRlZFwiOnRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCYmdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkKHQpO2JyZWFrO2Nhc2VcImljZWNhbmRpZGF0ZVwiOnQuY2FuZGlkYXRlPWUuY2FuZGlkYXRlLHRoaXMub25pY2VjYW5kaWRhdGUmJnRoaXMub25pY2VjYW5kaWRhdGUodCk7YnJlYWs7Y2FzZVwiaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIjp0aGlzLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UmJnRoaXMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSh0KTticmVhaztjYXNlXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIjp0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKHQpO2JyZWFrO2Nhc2VcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCI6dGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlJiZ0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UodCk7YnJlYWs7Y2FzZVwib25kYXRhY2hhbm5lbFwiOmUuY2hhbm5lbD90aGlzLm9uZGF0YWNoYW5uZWwmJihyPSsrdmUsbz1uZXcgVmUodS5pZCxyKSx2b2lkIDAhPT1lLmNoYW5uZWwuaWQmJihMLmRlYnVnKFwib25kYXRhY2hhbm5lbCBzaGltSWQ6IFwiK2UuY2hhbm5lbC5pZCtcIiBtYXBwZWQgdG8gXCIrciksdS5fZGF0YUNoYW5uZWxJZFRvU2hpbUlkTWFwW2UuY2hhbm5lbC5pZF09ciksKHUuX2RhdGFDaGFubmVsTWFwW3JdPW8pLl91cGRhdGVDaGFubmVsKGUuY2hhbm5lbCksdC5jaGFubmVsPW8sTC5kZWJ1ZyhcIm9uZGF0YWNoYW5uZWwgc2hpbUlkOiBcIityK1wiIGNoYW5uZWw6XCIrSlNPTi5zdHJpbmdpZnkoZS5jaGFubmVsKSksdGhpcy5vbmRhdGFjaGFubmVsKHQpKTpMLndhcm4oXCJvbmRhdGFjaGFubmVsIGZyb20gbGVnYWN5IGNsaWVudFwiKTticmVhaztjYXNlXCJhZGRTdHJlYW1cIjp2b2lkIDA9PT1lLnN0cmVhbT9MLmRlYnVnKFwiX29uUmVjZWl2ZUV2ZW50KCk6IHN0cmVhbSBwcm9wZXJ0eSBpcyBpbnZhbGlkLlwiKToodC5zdHJlYW09bmV3IFUsdC5zdHJlYW0uX2NyZWF0ZShlLnN0cmVhbSxlLnBlZXIpLHRoaXMuX3JlbW90ZVN0cmVhbXMucHVzaCh0LnN0cmVhbSksdGhpcy5vbmFkZHN0cmVhbSYmdGhpcy5vbmFkZHN0cmVhbSh0KSk7YnJlYWs7Y2FzZVwicmVtb3ZlU3RyZWFtXCI6dm9pZCAwPT09ZS5zdHJlYW0/TC5kZWJ1ZyhcIl9vblJlY2VpdmVFdmVudCgpOiBzdHJlYW0gcHJvcGVydHkgaXMgaW52YWxpZC5cIik6KHQuc3RyZWFtPXBlW2Uuc3RyZWFtXSx2b2lkIDA9PT10LnN0cmVhbT9MLmRlYnVnKFwiX29uUmVjZWl2ZUV2ZW50KCk6IG5vIHN0cmVhbSBmb3VuZC5cIik6KC0xIT0obz10aGlzLl9yZW1vdGVTdHJlYW1zLmluZGV4T2YodC5zdHJlYW0pKSYmKGUudHJhY2tJZCYmdC5zdHJlYW0ucmVtb3ZlVHJhY2tCeUlkKGUudHJhY2tJZCksdGhpcy5fcmVtb3RlU3RyZWFtcy5zcGxpY2UobywxKSksdGhpcy5vbnJlbW92ZXN0cmVhbSYmdGhpcy5vbnJlbW92ZXN0cmVhbSh0KSkpO2JyZWFrO2Nhc2VcIm9udHJhY2tcIjp2b2lkIDA9PT1lLnRyYW5zY2VpdmVyfHx2b2lkIDA9PT1lLnN0cmVhbT9MLmVycm9yKFwiX29uUmVjZWl2ZUV2ZW50IG9udHJhY2sgcHJvcGVydHkgaXMgaW52YWxpZFwiKToobj1lLnRyYW5zY2VpdmVyLmlkLChpPWZbbl0pfHwoTC5kZWJ1ZyhcIm9udHJhY2s6IGFkZCB0cmFuc2NlaXZlciBpZD1cIituKSwoaT1uZXcgVyh1KSkuaW5pdElkKG4pLGZbbl09aSksaS51cGRhdGUoZS50cmFuc2NlaXZlciksKHI9bmV3IFUpLl9jcmVhdGUoZS5zdHJlYW0sZS5wZWVyKSx0aGlzLl9yZW1vdGVTdHJlYW1zLnB1c2gociksdC50cmFuc2NlaXZlcj1pLHQucmVjZWl2ZXI9aS5yZWNlaXZlcix0LnN0cmVhbXM9W3JdLHQudHJhY2s9ci50cmFja1swXSx0aGlzLm9udHJhY2smJnRoaXMub250cmFjayh0KSk7YnJlYWs7Y2FzZVwidG9uZWNoYW5nZVwiOnZhciBuLGkscixvPW51bGw7KG89Zz8obj1lLnRyYW5zY2VpdmVySWQsKHI9KGk9Zj9mW25dOm51bGwpP2kuc2VuZGVyOm51bGwpP3IuZHRtZjpudWxsKTptZVtlLnRpZF0pP28ub250b25lY2hhbmdlJiZvLm9udG9uZWNoYW5nZShlKTpMLmRlYnVnKFwiX29uUmVjZWl2ZUV2ZW50KCk6IHRvbmVjaGFuZ2UsIGR0bWZJZCBpcyBpbnZhbGlkICBvciBub3QgZm91bmQuXCIpO2JyZWFrO2Nhc2VcIm9ucmVjZWl2ZXJzXCI6KG49ZS5yZWNlaXZlcnMpJiZuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjtlLmlkJiYodD1lLmlkLFwiLVwiPT09ZS5vcD9kZWxldGUgcFt0XTooXCIrXCI9PT1lLm9wJiZkZWxldGUgcFt0XSwobj1wW3RdKXx8KG49bmV3IHoscFt0XT1uKSxuLnVwZGF0ZShlKSkpfSk7YnJlYWs7Y2FzZVwib25zZW5kZXJzXCI6KGk9ZS5zZW5kZXJzKSYmaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWhbZS5pZF07dCYmdC51cGRhdGUoZSl9KTticmVhaztjYXNlXCJvbnRyYW5zY2VpdmVyc1wiOnYoZS50cmFuc2NlaXZlcnMpfX19LHRoaXMuX3VwZGF0ZVZhcnM9ZnVuY3Rpb24oZSl7ZS5pY2VDb25uZWN0aW9uU3RhdGUmJih0aGlzLl9pY2VDb25uZWN0aW9uU3RhdGU9ZS5pY2VDb25uZWN0aW9uU3RhdGUpLGUuaWNlR2F0aGVyaW5nU3RhdGUmJih0aGlzLl9pY2VHYXRoZXJpbmdTdGF0ZT1lLmljZUdhdGhlcmluZ1N0YXRlKSxlLnNpZ25hbGluZ1N0YXRlJiYodGhpcy5fc2lnbmFsaW5nU3RhdGU9ZS5zaWduYWxpbmdTdGF0ZSksZS5jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZS5jb25uZWN0aW9uU3RhdGUpLGUubG9jYWxEZXNjcmlwdGlvbiYmKHRoaXMuX2xvY2FsRGVzY3JpcHRpb249ZS5sb2NhbERlc2NyaXB0aW9uKSxlLnJlbW90ZURlc2NyaXB0aW9uJiYodGhpcy5fcmVtb3RlRGVzY3JpcHRpb249ZS5yZW1vdGVEZXNjcmlwdGlvbil9LHRoaXMuc2V0Q29uZmlndXJhdGlvbkltcGw9ZnVuY3Rpb24oZSl7ai5zZW5kKHtjbWQ6XCJwY0NtZFwiLHBjQ21kSWQ6aWUsaGludDpcInBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb25cIixjb25maWc6ZX0sdS5pZCxmdW5jdGlvbihlKXtudWxsPT1lLmVycm9yJiZlLmNvbmZpZ3VyYXRpb259KX0sdGhpcy5yZXN0YXJ0SWNlSW1wbD1mdW5jdGlvbigpe2ouc2VuZCh7Y21kOlwicGNDbWRcIixwY0NtZElkOnJlLGhpbnQ6XCJwZWVyQ29ubmVjdGlvbi5yZXN0YXJ0SWNlXCJ9LHUuaWQpfX1mdW5jdGlvbiBPZSgpe3RoaXMucmVwb3J0cz1bXSx0aGlzLnJlc3VsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcG9ydHN9LHRoaXMuX2NyZWF0ZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgRmU7dC5fY3JlYXRlKGUpLG4ucmVwb3J0cy5wdXNoKHQpfSl9fWZ1bmN0aW9uIFBlKCl7dGhpcy5jYW5JbnNlcnREVE1GPSEwO3ZhciByPXZvaWQgMCxvPW51bGwsdD1cIlwiLGE9bnVsbCxzPW51bGw7dGhpcy5pbml0UGxhbkI9ZnVuY3Rpb24oZSx0KXtyPWUsbz10fSx0aGlzLmluaXRVbmlmaWVkUGxhbj1mdW5jdGlvbihlLHQsbixpKXt0JiZuPyhyPWUsbz1pLGE9dCxzPW4pOkwuZXJyb3IoXCJSVENEVE1GU2VuZGVyLmluaXRVbmlmaWVkUGxhbjogaW52YWxpZCB0cmFuc2NlaXZlciBvciBzZW5kZXJcIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidG9uZUJ1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcImdldCBEVE1GIHRvbmUgYnVmZmVyXCIrdCksdH0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJkwud2FybihcIlNldCBSVENEVE1GU2VuZGVyLnRvbmVCdWZmZXIgdG8gdW5kZWZpbmVkLlwiKSxMLmRlYnVnKFwic2V0IERUTUYgdG9uZSBidWZmZXJcIitlKSx0PWV9LGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMuaW5zZXJ0RFRNRj1mdW5jdGlvbihlLHQsbil7TC5kZWJ1ZyhcImluc2VydERUTUYgYXVkaW8gdG9uZXM6IFwiK2UpLHZvaWQgMD09PXQmJihMLmRlYnVnKFwiRHVyYXRpb24gaXMgbm90IHNldCwgdXNlIGRlZmF1bHRcIiksdD1kLkRVUkFUSU9OKSx2b2lkIDA9PT1uJiYoTC5kZWJ1ZyhcIkdhcCBpcyBub3Qgc2V0LCB1c2UgZGVmYXVsdFwiKSxuPWQuSU5URVJUT05FR0FQKSxqLnNlbmQoe2NtZDpcImluc2VydERUTUZcIix0cmFuc2NlaXZlcklkOmE/YS5pZDpcIlwiLHNlbmRlcklkOnM/cy5pZDpcIlwiLHRpZDpvLmlkLHRvbmVzOmUsZHVyYXRpb246dCxnYXA6bn0scil9fWZ1bmN0aW9uIFcoZSl7ZnVuY3Rpb24gdChlKXtMLmluZm8oZStcIihcIitpK1wiKVwiKX12YXIgaSxyPXRoaXMsbz1lLG49XCJpbmFjdGl2ZVwiLGE9XCJpbmFjdGl2ZVwiLHM9bnVsbCxkPSExLGM9bnVsbCx1PW51bGw7dGhpcy5pbml0SWQ9ZnVuY3Rpb24oZSl7aT1lLChjPW5ldyBKKG8pKS5pbml0VW5pZmllZFBsYW4ocixudWxsKSx1PW5ldyB6fSx0aGlzLmluaXRUcmFja09yS2luZD1mdW5jdGlvbihlLHQpe3ZhciBlPWUgaW5zdGFuY2VvZiBCP2Uua2luZDplLG49XCJcIjtcImF1ZGlvXCI9PT1lP249XCJBXCI6XCJ2aWRlb1wiPT09ZSYmKG49XCJWXCIpLGk9XCJUcmFuc2NlaXZlciNcIituK2dlLnRvU3RyaW5nKCksZ2UrKywoYz1uZXcgSihvKSkuaW5pdFVuaWZpZWRQbGFuKHIsdCksdT1uZXcgeix0JiZ0LmRpcmVjdGlvbiYmKGE9dC5kaXJlY3Rpb24pLHQmJnQuc3RyZWFtJiZMLmRlYnVnKFwiUlRDUnRwVHJhbnNjZWl2ZXIuaW5pdCB3aXRoIHN0cmVhbSBpcyBub3QgaW1wbGVtZW50ZWQuXCIpfSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXtlLmN1cnJlbnREaXJlY3Rpb24mJihuPWUuY3VycmVudERpcmVjdGlvbiksZS5kaXJlY3Rpb24mJihhPWUuZGlyZWN0aW9uKSxlLm1pZCYmKHM9ZS5taWQpLHZvaWQgMCE9PWUuc3RvcHBlZCYmKGQ9ZS5zdG9wcGVkKSxlLnNlbmRlciYmYyYmYy51cGRhdGUoZS5zZW5kZXIpLGUucmVjZWl2ZXImJnUmJnUudXBkYXRlKGUucmVjZWl2ZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm1pZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdChcIlJUQ1J0cFRyYW5zY2VpdmVyLm1pZD1cIitzKSxzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY3VycmVudERpcmVjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdChcIlJUQ1J0cFRyYW5zY2VpdmVyLmN1cnJlbnREaXJlY3Rpb25cIiksbn0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkaXJlY3Rpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQoXCJSVENSdHBUcmFuc2NlaXZlci5kaXJlY3Rpb249XCIrYSksYX0sc2V0OmZ1bmN0aW9uKGUpe3QoXCJSVENSdHBUcmFuc2NlaXZlci5kaXJlY3Rpb24gc2V0dGVyXCIpLGE9ZTtlPXtjbWQ6XCJ0cmFuc2NlaXZlckNtZFwiLHRyYW5zY2VpdmVyQ21kOm0uVFJBTlNDRUlWRVJfU0VUX0RJUkVDVElPTixoaW50OlwiUlRDUnRwVHJhbnNjZWl2ZXIuZGlyZWN0aW9uXCIsdHJhbnNjZWl2ZXJJZDppLHZhbHVlOmV9O2ouc2VuZChlLG8uaWQpfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlY2VpdmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0KFwiUlRDUnRwVHJhbnNjZWl2ZXIucmVjZWl2ZXJcIiksdX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQoXCJSVENSdHBUcmFuc2NlaXZlci5zZW5kZXJcIiksY30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdG9wcGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0KFwiUlRDUnRwVHJhbnNjZWl2ZXIgc3RvcHBlZFwiKSxkfSxzZXQ6ZnVuY3Rpb24oZSl7dChcIlJUQ1J0cFRyYW5zY2VpdmVyIHN0b3BwZWQgc2V0dGVyXCIpLGQ9ZX0sY29uZmlndXJhYmxlOiEwfSksdGhpcy5zZXRDb2RlY1ByZWZlcmVuY2VzPWZ1bmN0aW9uKGUpe3QoXCJSVENSdHBUcmFuc2NlaXZlciBzZXRDb2RlY1ByZWZlcmVuY2VzXCIpLGouc2VuZCh7Y21kOlwidHJhbnNjZWl2ZXJDbWRcIix0cmFuc2NlaXZlckNtZDptLlRSQU5TQ0VJVkVSX1NFVF9DT0RFQ1BSRUZFUkVOQ0UsaGludDpcIlJUQ1J0cFRyYW5zY2VpdmVyLnNldENvZGVjUHJlZmVyZW5jZVwiLHRyYW5zY2VpdmVySWQ6aSxjb2RlY3M6ZX0sby5pZCxmdW5jdGlvbihlKXt2b2lkIDAhPT1lLmVycm9yJiZ0KFwiUlRDUnRwVHJhbnNjZWl2ZXIuc2V0Q29kZWNQcmVmZXJlbmNlcyBmYWlsZWQuXCIpfSl9LHRoaXMuc3RvcD1mdW5jdGlvbigpe3QoXCJSVENSdHBUcmFuc2NlaXZlciBzdG9wXCIpLGouc2VuZCh7Y21kOlwidHJhbnNjZWl2ZXJDbWRcIix0cmFuc2NlaXZlckNtZDptLlRSQU5TQ0VJVkVSX1NUT1AsaGludDpcIlJUQ1J0cFRyYW5zY2VpdmVyLnN0b3BcIix0cmFuc2NlaXZlcklkOml9LG8uaWQsZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5lcnJvciYmdChcIlJUQ1J0cFRyYW5zY2VpdmVyLnN0b3AgZmFpbGVkLlwiKX0pfX1mdW5jdGlvbiBEZSh0LGUpe3ZhciByPXRoaXMsbj1lO3RoaXMuX3NyY09iamVjdD10LnNyY09iamVjdCx0aGlzLl9pZD1sZSsrLHRoaXMuX3Jhd0F1ZGlvPXQsdGhpcy5zZW5kQXVkaW9FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9e2NtZDpcIm5ld0F1ZGlvRWxlbWVudFwiLGF1ZGlvSWQ6dGhpcy5faWR9O3Quc2V0QXR0cmlidXRlKFwiZGF0YS12ZGlfYXVkaW9pZFwiLHRoaXMuX2lkKSxqLnNlbmQoZSwtMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3JjT2JqZWN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLl9zcmNPYmplY3R9LHNldDpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiZMLndhcm4oXCJTZXQgYXVkaW8uc3JjT2JqZWN0IHRvIHVuZGVmaW5lZC5cIiksTC5kZWJ1ZyhcIlNldHRpbmcgc3JjT2JqZWN0IGZvciBhdWRpbyBlbGVtZW50OiBcIityLl9pZCksTC5kZWJ1ZyhlKSxyLl9zcmNPYmplY3Q9dm9pZCAwPT09ZT9udWxsOmUsci5zZW5kU3JjT2JqZWN0KCl9LGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMuc2VuZFNyY09iamVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3NyY09iamVjdD90aGlzLl9zcmNPYmplY3QuaWQ6XCJudWxsXCIsdD10aGlzLl9zcmNPYmplY3Q/dGhpcy5fc3JjT2JqZWN0LnBlZXI6cDtqLnNlbmQoe2NtZDpcInVwZGF0ZVNyY09iamVjdFwiLG1lZGlhU3RyZWFtSWQ6ZSxhdWRpb0lkOnRoaXMuX2lkLHR5cGU6XCJhdWRpb1wiLHN0cmVhbVBlZXI6dH0sLTEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpbmtJZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5fc2lua0lkfSxzZXQ6ZnVuY3Rpb24oZSl7fSxjb25maWd1cmFibGU6ITB9KSx0LnNldFNpbmtJZD1mdW5jdGlvbihpKXtyZXR1cm4gci5fc2lua0lkPWksTC5kZWJ1ZyhcIkF1ZGlvLnNldFNpbmtJZCBmb3IgSUQgPSBcIityLl9pZCtcIiBWYWx1ZSA9IFwiK2kpLDA9PT0odm9pZCAwIT09Ri5zZXRTaW5rSWQ/Ri5zZXRTaW5rSWQ6MCk/bmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXtqLnNlbmQoe2NtZDpcInNldFNpbmtJZFwiLGRldmljZUlkOmksYXVkaW9JZDpyLl9pZCxjb250ZXh0OlwiYXVkaW9FbGVtZW50XCJ9LC0xKSxlKCl9KTpuZXcgUHJvbWlzZShmdW5jdGlvbih0LG4pe2ouc2VuZCh7Y21kOlwic2V0U2lua0lkXCIsZGV2aWNlSWQ6aSxhdWRpb0lkOnIuX2lkLGNvbnRleHQ6XCJhdWRpb0VsZW1lbnRcIn0sLTEsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5lcnJvcj90KCk6bihlLmVycm9yKX0pfSl9LHQucGxheT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7c2UobiksdGhpcy5zZW5kQXVkaW9FbGVtZW50KCksdGhpcy5fc3JjT2JqZWN0JiYoTC5kZWJ1ZyhcInNyY09iamVjdCBhbHJlYWR5IHNldCBmb3IgYXVkaW86IFwiK3RoaXMuX2lkKSx0aGlzLnNlbmRTcmNPYmplY3QoKSksTC5kZWJ1Zyh0KX0sdGhpcy5pbml0KCl9ZnVuY3Rpb24gTWUocixlKXt2YXIgdD10aGlzLG49ZSxvPV9lKGUpLGk9ITEscz0odGhpcy5fc3JjT2JqZWN0PXIuc3JjT2JqZWN0LHRoaXMuX3ZpZGVvV2lkdGg9ci52aWRlb1dpZHRoLHRoaXMuX3ZpZGVvSGVpZ2h0PXIudmlkZW9IZWlnaHQsdGhpcy5fY2xvYWtlZD0hMSx0aGlzLl9pZD11ZSsrLHRoaXMuX2NsaWVudFJlY3Q9bnVsbCx0aGlzLl9ib2R5Q2xpZW50UmVjdD1udWxsLHRoaXMuX2NvbG9yS2V5PW51bGwsdGhpcy5fcmF3VmlkZW89cix0aGlzLl9yZW1vdmVUaW1lcj1udWxsLHRoaXMuX3JlbW92ZWQ9ITEsdGhpcy5fb2JqZWN0Rml0PXIuc3R5bGUub2JqZWN0Rml0LHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9kcGlTZXJ2ZXJUcmFuc2xhdGU9ISFGLm11bHRpd2luZG93JiYwIT0oRi5tdWx0aXdpbmRvdyZlZSksdGhpcy5fc3R5bGVPYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5oYW5kbGVTdHlsZUNoYW5nZXMoZSxyKX0pfSksZnVuY3Rpb24oZSl7ZT1OdW1iZXIoZSkudG9TdHJpbmcoMTYpO3JldHVybiBlPWUubGVuZ3RoPDI/XCIwXCIrZTplfSk7dGhpcy5zZW5kVmlkZW9FbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5fY29sb3JLZXk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIjtcIlwiPT1lOyl7dmFyIHQsbj1NYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpKzEsaT1NYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpKzEscj1NYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpKzEsZT1cIiNcIitzKG4pK3MoaSkrcyhyKSxvPU9iamVjdC5rZXlzKEQpO2Zvcih0IGluIG8pe3ZhciBhPURbb1t0XV07aWYoYSYmYS5fY29sb3JLZXk9PWUpe2U9XCJcIjticmVha319fXJldHVybiBlfSgpO3ZhciBlLHQ9e2NtZDpcIm5ld1ZpZGVvRWxlbWVudFwiLHZpZGVvSWQ6dGhpcy5faWQsY29sb3JLZXk6dGhpcy5fY29sb3JLZXkscmVxdWVzdERwaVRyYW5zbGF0ZTp0aGlzLl9kcGlTZXJ2ZXJUcmFuc2xhdGU/MTowLGJvZHk6e30sem9vbUZhY3RvcjphZSh0aGlzLl9yYXdWaWRlbyl9O2ZvcihlIGluIG8mJih0LmZyYW1lPW8pLHRoaXMuX2NsaWVudFJlY3QpdFtlXT10aGlzLl9jbGllbnRSZWN0W2VdO2ZvcihlIGluIHRoaXMuX2JvZHlDbGllbnRSZWN0KXQuYm9keVtlXT10aGlzLl9ib2R5Q2xpZW50UmVjdFtlXTtcIlwiIT09dGhpcy5fb2JqZWN0Rml0JiYodC5vYmplY3RGaXQ9dGhpcy5fb2JqZWN0Rml0KSxyLnNldEF0dHJpYnV0ZShcImRhdGEtdmRpX3ZpZGVvaWRcIix0aGlzLl9pZCksci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZtd192aWRlb2lkXCIsdGhpcy5faWQpLGouc2VuZCh0LC0xKX0sdGhpcy51cGRhdGVWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChyKSx0PSh0aGlzLl9jbG9ha2VkfHwoZS5yaWdodD1lLmxlZnQsZS5ib3R0b209ZS50b3ApLHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGRvY3VtZW50LmJvZHkpKTtpZihlLmxlZnQ9PXRoaXMuX2NsaWVudFJlY3QubGVmdCYmZS5yaWdodD09dGhpcy5fY2xpZW50UmVjdC5yaWdodCYmZS50b3A9PXRoaXMuX2NsaWVudFJlY3QudG9wJiZlLmJvdHRvbT09dGhpcy5fY2xpZW50UmVjdC5ib3R0b20mJnQubGVmdD09dGhpcy5fYm9keUNsaWVudFJlY3QubGVmdCYmdC5yaWdodD09dGhpcy5fYm9keUNsaWVudFJlY3QucmlnaHQmJnQudG9wPT10aGlzLl9ib2R5Q2xpZW50UmVjdC50b3AmJnQuYm90dG9tPT10aGlzLl9ib2R5Q2xpZW50UmVjdC5ib3R0b20pcmV0dXJuITE7dGhpcy5fY2xpZW50UmVjdD1lLHRoaXMuX2JvZHlDbGllbnRSZWN0PXQ7dmFyIG4saT17Y21kOlwidXBkYXRlVmlkZW9FbGVtZW50XCIsdmlkZW9JZDp0aGlzLl9pZCxyZXF1ZXN0RHBpVHJhbnNsYXRlOnRoaXMuX2RwaVNlcnZlclRyYW5zbGF0ZT8xOjAsdHJhbnNmb3JtOnIuc3R5bGUudHJhbnNmb3JtLGJvZHk6e319O2ZvcihuIGluIG8mJihpLmZyYW1lPW8pLGUpaVtuXT1lW25dO2ZvcihuIGluIHQpaS5ib2R5W25dPXRbbl07XCJcIiE9PXRoaXMuX29iamVjdEZpdCYmKGkub2JqZWN0Rml0PXRoaXMuX29iamVjdEZpdCksaS56b29tRmFjdG9yPWFlKHRoaXMuX3Jhd1ZpZGVvKSxMLmRlYnVnKGkpLGouc2VuZChpLC0xKX0sdGhpcy5yZW1vdmVWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT17Y21kOlwicmVtb3ZlVmlkZW9FbGVtZW50XCIsdmlkZW9JZDp0Ll9pZH07byYmKGUuZnJhbWU9byksTC5kZWJ1ZyhcIlJlbW92ZVZpZGVvRWxlbWVudDogXCIrdC5faWQpLGouc2VuZChlLC0xKSxkZWxldGUgRFt0Ll9pZF0sdC5fcmVtb3ZlVGltZXI9bnVsbCx0Ll9yZW1vdmVkPSEwfSx0aGlzLmRpc3Bvc2VWaWRlbz1mdW5jdGlvbigpe2k9ITB9LHRoaXMuY2xvYWs9ZnVuY3Rpb24oKXshMCE9PXRoaXMuX2Nsb2FrZWQmJih0aGlzLl9jb2xvcktleT8oci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5fY29sb3JLZXksdGhpcy5fc3R5bGVPYnNlcnZlci5vYnNlcnZlKHIse2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlRmlsdGVyOltcInN0eWxlXCJdfSksdGhpcy5fY2xvYWtlZD0hMCx0aGlzLl9wb2xsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dC51cGRhdGVWaWRlb0VsZW1lbnQoKX0sNTAwKSk6TC5lcnJvcihcImNsb2FrKCk6IEludmFsaWQgY29sb3Iga2V5LlwiKSl9LHRoaXMudW5jbG9haz1mdW5jdGlvbigpe2lmKCExPT09dGhpcy5fY2xvYWtlZClyZXR1cm4hMTtyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIlwiLHRoaXMuX3N0eWxlT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLGNsZWFySW50ZXJ2YWwodGhpcy5fcG9sbCksdGhpcy5fY2xvYWtlZD0hMSx0aGlzLnVwZGF0ZVZpZGVvRWxlbWVudCgpfSx0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdD1mdW5jdGlvbihlKXt2YXIgZT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9MTtyZXR1cm4gdGhpcy5fZHBpU2VydmVyVHJhbnNsYXRlfHxcIm51bWJlclwiIT10eXBlb2Ygd2luZG93LmRldmljZVBpeGVsUmF0aW98fCh0PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx7bGVmdDplLmxlZnQqdCx0b3A6ZS50b3AqdCxib3R0b206ZS5ib3R0b20qdCxyaWdodDplLnJpZ2h0KnQsd2lkdGg6ZS53aWR0aCp0LGhlaWdodDplLmhlaWdodCp0fX0sdGhpcy5vblJlY2VpdmVFdmVudD1mdW5jdGlvbihlKXt2YXIgdDt2b2lkIDA9PT1lfHx2b2lkIDA9PT1lLmV2dD9MLmVycm9yKFwib25SZWNlaXZlRXZlbnQoKTogZXZ0IHByb3BlcnR5IGlzIGludmFsaWQuXCIpOnRoaXMuX3Jhd1ZpZGVvP1wibG9hZGVkbWV0YWRhdGFcIj09PWUuZXZ0JiYoXCJcIj09dGhpcy5fb2JqZWN0Rml0JiZcIlwiIT09KHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fcmF3VmlkZW8pLm9iamVjdEZpdCkmJihMLmRlYnVnKFwib25SZWNlaXZlRXZlbnQoKTogdXBkYXRpbmcgb2JqZWN0Zml0IHRvIFwiK3QpLHRoaXMuX29iamVjdEZpdD10LHRoaXMuc2VuZE9iamVjdEZpdCgpKSx2b2lkIDAhPT1lLnZpZGVvV2lkdGgmJih0aGlzLl92aWRlb1dpZHRoPWUudmlkZW9XaWR0aCksdm9pZCAwIT09ZS52aWRlb0hlaWdodCYmKHRoaXMuX3ZpZGVvSGVpZ2h0PWUudmlkZW9IZWlnaHQpLHQ9bmV3IEV2ZW50KGUuZXZ0KSx0aGlzLl9yYXdWaWRlby5kaXNwYXRjaEV2ZW50KHQpKTpMLmVycm9yKFwib25SZWNlaXZlRXZlbnQoKTogSW52YWxpZCByYXdWaWRlbyBvYmplY3QuXCIpfSx0aGlzLnNlbmRTcmNPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zcmNPYmplY3Q/dGhpcy5fc3JjT2JqZWN0LmlkOlwibnVsbFwiLHQ9dGhpcy5fc3JjT2JqZWN0P3RoaXMuX3NyY09iamVjdC5wZWVyOnA7ai5zZW5kKHtjbWQ6XCJ1cGRhdGVTcmNPYmplY3RcIixtZWRpYVN0cmVhbUlkOmUsdmlkZW9JZDp0aGlzLl9pZCx0eXBlOlwidmlkZW9cIixzdHJlYW1QZWVyOnR9LC0xKSx0aGlzLl9zcmNPYmplY3Q/dGhpcy5jbG9haygpOnRoaXMudW5jbG9haygpfSx0aGlzLnNlbmRPYmplY3RGaXQ9ZnVuY3Rpb24oKXtqLnNlbmQoe2NtZDpcInVwZGF0ZU9iamVjdEZpdFwiLHZpZGVvSWQ6dGhpcy5faWQsb2JqZWN0Rml0OnRoaXMuX29iamVjdEZpdH0sLTEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3JjT2JqZWN0fSxzZXQ6ZnVuY3Rpb24oZSl7dC5fcmVtb3ZlZD9MLndhcm4oXCJTZXR0aW5nIHNyY09iamVjdCBvZiB6b21iaWUgdmlkZW8gZWxlbWVudDogXCIrdC5faWQpOih0Ll9yZW1vdmVUaW1lciYmKGNsZWFyVGltZW91dCh0Ll9yZW1vdmVUaW1lciksdC5fcmVtb3ZlVGltZXI9bnVsbCksdm9pZCAwPT09ZSYmTC53YXJuKFwiU2V0IHZpZGVvLnNyY09iamVjdCB0byB1bmRlZmluZWQuXCIpLEwuZGVidWcoXCJTZXR0aW5nIHNyY09iamVjdCBmb3IgdmlkZW8gZWxlbWVudDogXCIrdC5faWQpLEwuZGVidWcoZSksdC5fc3JjT2JqZWN0PWUsdC5zZW5kU3JjT2JqZWN0KCksdC5fc3JjT2JqZWN0fHwoaT90LnJlbW92ZVZpZGVvRWxlbWVudCgpOihMLmRlYnVnKFwic3JjT2JqZWN0IGlzIG51bGwsIHNldHVwIHJlbW92ZVRpbWVyIGZvciBcIit0Ll9pZCksdC5fcmVtb3ZlVGltZXI9c2V0VGltZW91dCh0LnJlbW92ZVZpZGVvRWxlbWVudCw1ZTMpKSkpfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInZpZGVvV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuX3ZpZGVvV2lkdGh9LGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwidmlkZW9IZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuX3ZpZGVvSGVpZ2h0fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5zdHlsZSxcIm9iamVjdEZpdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5sb2coXCJrZXl3b3JkIGRlZmluZVByb3BlcnR5IGdldCBvYmplY3RGaXQgXCIrdC5fb2JqZWN0Rml0KSx0Ll9vYmplY3RGaXR9LHNldDpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcImtleXdvcmQgZGVmaW5lUHJvcGVydHkgc2V0IG9iamVjdEZpdCBcIitlKSx0Ll9vYmplY3RGaXQ9ZSx0LnNlbmRPYmplY3RGaXQoKX0sY29uZmlndXJhYmxlOiEwfSksTWUucHJvdG90eXBlLmhhbmRsZVN0eWxlQ2hhbmdlcz1mdW5jdGlvbihlLHQpe1wiYXR0cmlidXRlc1wiPT09ZS50eXBlJiZcInN0eWxlXCI9PT1lLmF0dHJpYnV0ZU5hbWUmJihMLmRlYnVnKFwidmlkZW8gc3R5bGUgY2hhbmdlIGluIGlkID0gXCIrdGhpcy5faWQrXCIsIG9iamVjdC1maXQgPSBcIit0LnN0eWxlLm9iamVjdEZpdCksTC5kZWJ1Zyh0KSx0aGlzLl9vYmplY3RGaXQhPT10LnN0eWxlLm9iamVjdEZpdCYmKEwuZGVidWcoXCJjaGFuZ2UgaW4gb2JqZWN0LWZpdC4gT2xkID0gXCIrdGhpcy5fb2JqZWN0Rml0K1wiLCBuZXcgPSBcIit0LnN0eWxlLm9iamVjdEZpdCksdGhpcy5fb2JqZWN0Rml0PXQuc3R5bGUub2JqZWN0Rml0LHRoaXMuc2VuZE9iamVjdEZpdCgpKSx0aGlzLl90cmFuc2Zvcm0hPXQuc3R5bGUudHJhbnNmb3JtKSYmKHRoaXMuX3RyYW5zZm9ybT10LnN0eWxlLnRyYW5zZm9ybSx0aGlzLnVwZGF0ZVZpZGVvRWxlbWVudCgpKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5fY2xpZW50UmVjdD10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChyKSx0aGlzLl9ib2R5Q2xpZW50UmVjdD10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdChkb2N1bWVudC5ib2R5KSxzZShuKSx0aGlzLnNlbmRWaWRlb0VsZW1lbnQoKSx0aGlzLl9zcmNPYmplY3QmJihMLmRlYnVnKFwic3JjT2JqZWN0IGFscmVhZHkgc2V0IGZvciB2aWRlbzogXCIrdGhpcy5faWQpLHRoaXMuc2VuZFNyY09iamVjdCgpKSxMLmRlYnVnKHIpfSx0aGlzLmluaXQoKX1mdW5jdGlvbiBIKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIENlPyhMLmluZm8oXCJvblZNRXZlbnQoKTogRmlyZSBldmVudCA9IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxDZShlKSk6TC53YXJuKFwib25WTUV2ZW50KCk6IHNldFZNRXZlbnRDYWxsYmFjayBpcyBub3QgY2FsbGVkIHlldC5cIil9ZnVuY3Rpb24gamUoKXt2YXIgYT10aGlzLG89bnVsbCxzPXksdz17fSxkPTAscj1udWxsLGM9ITEsdT12b2lkIDAsdD0hMCxuPShPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNob3J0UG9sbGluZ0ludGVydmFsTXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDUwMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNob3J0UG9sbGluZ1RpbWVvdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDFlNH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxvbmdQb2xsaW5nSW50ZXJ2YWxNc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gNWUzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNIb3Jpem9uUmVnaXN0cnlQcmVzZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oZSl7Yz1lfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNlbmRWZGlDbGllbnRFdmVudHNPbkVycm9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7dD1lfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLnNlbmRMb2dUb1dlYlNvY2tldD1mdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYwIT09ZS5sZW5ndGgmJnM9PT1fJiYocCh7Y21kOlwic2hpbUxvZ1RvV2ViU29ja2V0XCIsbWVzc2FnZTplLGxldmVsOnR9LC0xKSwhMCl9LHRoaXMuaXNTb2NrZXRDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcz09PV99LHRoaXMuaXNTb2NrZXRPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuISFvJiZvLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTn0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7TC5pbmZvKFwiUmVxdWVzdE1hbmFnZXIuaW5pdCgpOiBJbml0aWFsaXppbmcgUmVxdWVzdCBNYW5hZ2VyLlwiKSx0aGlzLnN0YXJ0UG9sbGluZyg1MDAsMWU0LHRoaXMuc2VuZEV2ZW50cyl9LHRoaXMuc3RhcnRQb2xsaW5nPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaTtMLmluZm8oXCJSZXF1ZXN0TWFuYWdlci5zdGFydFBvbGxpbmcoKTogc3RvcCB0aGUgb2xkIHBvbGxpbmcgdGltZXIoaWYgdGhlcmUgaXMgYW55KSBhbmQgc3RhcnQgYSBuZXcgb25lXCIpLGEuc3RvcFBvbGxpbmcoKSxzIT09eT9MLmluZm8oXCJSZXF1ZXN0TWFuYWdlci5zdGFydFBvbGxpbmcoKTogU29ja2V0IHN0YXRlIG5vdCBkaXNjb25uZWN0ZWQsIGV4aXRpbmdcIik6KGk9dCxMLmluZm8oXCJpbnRlcnZhbE1zIFwiK2UrXCIgdGltZW91dCBcIit0KSxyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7TC5pbmZvKFwiUmVxdWVzdE1hbmFnZXI6IGNvbm5lY3RUb0hvcml6b25cIiksYS5jb25uZWN0VG9Ib3Jpem9uKCksdm9pZCAwIT09aSYmKGktPWUsY3x8YS5xdWVyeUhvcml6b25SZWdpc3RyeSgpKSx2b2lkIDAhPT1pJiZpPD0wJiYoYS5zdG9wUG9sbGluZygpLG4pJiYhMD09PWMmJm4oKX0sZSkpfSx0aGlzLnN0b3BQb2xsaW5nPWZ1bmN0aW9uKCl7TC5pbmZvKFwiUmVxdWVzdE1hbmFnZXIuc3RvcFBvbGxpbmcoKVwiKSxudWxsIT09ciYmKGNsZWFySW50ZXJ2YWwocikscj1udWxsLEwuaW5mbyhcIlN0b3BwZWQgcG9sbGluZyB3ZWJzb2NrZXRcIikpfSx0aGlzLnNlbmRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT17fSxlPShlLnNoaW1WZXJzaW9uPUUse2V2ZW50OlwidmRpQ2xpZW50Q29ubmVjdGVkXCIsdmVyc2lvbjplfSk7dHJ5e0goZSl9Y2F0Y2goZSl7TC53YXJuKFwiQ2F0Y2ggZXhjZXB0aW9uIGluIG9uVk1FdmVudCgpXCIrSlNPTi5zdHJpbmdpZnkoZSkpfXRyeXtIKHtldmVudDpcInZkaUNsaWVudERpc2Nvbm5lY3RlZFwiLHJlYXNvbjpcImVuZHBvaW50VW5zdXBwb3J0ZWRcIn0pfWNhdGNoKGUpe0wud2FybihcIkNhdGNoIGV4Y2VwdGlvbiBpbiBvblZNRXZlbnQoKVwiK0pTT04uc3RyaW5naWZ5KGUpKX1qLnN0YXJ0UG9sbGluZyg1ZTMpfSx0aGlzLnF1ZXJ5SG9yaXpvblJlZ2lzdHJ5PWZ1bmN0aW9uKCl7d2luZG93LmdldEhvcml6b25DbGllbnRJRCgpLnRoZW4oZnVuY3Rpb24oZSl7TC5pbmZvKFwicXVlcnlIb3Jpem9uUmVnaXN0cnkoKTogSG9yaXpvbiBDbGllbnQgSUQgXCIrZSksZSYmaiYmKGouaXNIb3Jpem9uUmVnaXN0cnlQcmVzZW50PSEwLEwuaW5mbyhcInF1ZXJ5SG9yaXpvblJlZ2lzdHJ5KCk6IGlzSG9yaXpvblJlZ2lzdHJ5UHJlc2VudCB0cnVlXCIpKX0sZnVuY3Rpb24oKXtyZXR1cm4gTC5lcnJvcihcInF1ZXJ5SG9yaXpvblJlZ2lzdHJ5KCk6IEZhaWxlZCB0byBxdWVyeSBIb3Jpem9uIENsaWVudCBJRFwiKSwhMX0pfSx0aGlzLmNvbm5lY3RUb0hvcml6b249ZnVuY3Rpb24oKXtzPT09eSYmd2luZG93LmdldEhvcml6b25XU1NQb3J0KCkudGhlbihmdW5jdGlvbihlKXtcInN0cmluZ1wiIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoPyhMLmVycm9yKFwiY29ubmVjdFRvSG9yaXpvbigpOiBQb3J0IGlzIG5vdCB2YWxpZFwiKSxiKFwiSG9yaXpvbiBIVE1MNSBTZXJ2ZXIgcG9ydCBub3QgdmFsaWRcIikpOihMLmluZm8oXCJjb25uZWN0VG9Ib3Jpem9uKCk6IHBvcnQgaXMgXCIrZSkscz1ULChvPW5ldyBXZWJTb2NrZXQoXCJ3c3M6Ly92aWV3LWxvY2FsaG9zdDpcIitlK1wiL1wiKSkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsby5vbm9wZW49aCxvLm9uY2xvc2U9ZixvLm9uZXJyb3I9ZyxvLm9ubWVzc2FnZT12KX0sZnVuY3Rpb24oKXtMLmVycm9yKFwiY29ubmVjdFRvSG9yaXpvbigpOiBGYWlsZWQgdG8gcmVjZWl2ZSBwb3J0IG51bWJlclwiKSxiKFwiRmFpbGVkIHRvIHJlY2VpdmUgcG9ydCBudW1iZXJcIil9KX0sZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXt4PT09ay5FTEVDVFJPTj8oTC5lcnJvcihcImdldFdpbmRvd0hhbmRsZUJ5VGl0bGU6IGZ1bmN0aW9uIGNhbGxlZCBvbiB1bnN1cHBvcnRlZCBicm93c2VyXCIpLHQoXCJmdW5jdGlvbiBjYWxsZWQgb24gdW5zdXBwb3J0ZWQgYnJvd3NlclwiKSk6dT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2koZSx0LHUpfSw1MDApfSl9KSxpPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuZ2V0SG9yaXpvbldpbmRvd1RpdGxlP3dpbmRvdy5nZXRIb3Jpem9uV2luZG93VGl0bGUoKTpkb2N1bWVudC50aXRsZTt2b2lkIDA9PT1pP0wuZXJyb3IoXCJnZXRXaW5kb3dIYW5kbGVCeVRpdGxlOjogY2Fubm90IGZpbmQgdGhlIHdpbmRvdyB3aXRoIHVuZGVmaW5lZCB0aXRsZVwiKTphLnNlbmQoe2NtZDpcImdldEhXTkRcIix0aXRsZTppfSwtMSxmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmVycm9yJiZ2b2lkIDAhPT1lLmh3bmQmJmUuaHduZCE9ST8oTC5kZWJ1ZyhcImdldFdpbmRvd0hhbmRsZUJ5VGl0bGU6IHJlY2VpdmVkIHdpbmRvdyBoYW5kbGVcIitlLmh3bmQpLGNsZWFySW50ZXJ2YWwobiksdT12b2lkIDAsdChlLmh3bmQpKTpMLmVycm9yKFwiZ2V0V2luZG93SGFuZGxlQnlUaXRsZTo6IGNhbm5vdCBmaW5kIHRoZSB3aW5kb3cgdGhhdCBtYXRjaGVzIHRoZSB0aXRsZVwiK2UuZXJyb3IpfSl9LGw9YXN5bmMgZnVuY3Rpb24oZSx0KXtlPT09SSYmKEwuaW5mbyhcIlN0YXJ0IHBvbGxpbmcgd2luZG93IGZyb20gc2VydmVyXCIpLGU9YXdhaXQgbigpKSxMLmluZm8oXCJ3aW5kb3cgaGFuZGxlID1cIitlKSxNLmh3bmQ9ZSx3aW5kb3cuZ2V0V2luZG93UmVmZXJlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShNLmh3bmQpfSxIKHQpfSxoPWZ1bmN0aW9uKCl7TC5pbmZvKFwib25XZWJTb2NrZXRPcGVuKCk6IFdlYnNvY2tldCBvcGVuZWRcIiksai5zdG9wUG9sbGluZygpO3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5nZXRIb3Jpem9uV2luZG93VGl0bGU/d2luZG93LmdldEhvcml6b25XaW5kb3dUaXRsZSgpOmRvY3VtZW50LnRpdGxlO3Aoe2NtZDpcImNyZWF0ZUluc3RhbmNlXCIsaHduZDpNLmh3bmQsc2hpbVZlcnNpb246RSxzaGltTWluQWdlbnRWZXJzaW9uOjEsY3VzdG9tQ2xpcFJlY3Q6MSxhbGxvd0ZlYXR1cmVDaGFuZ2U6MSxzdXBwb3J0T2JqZWN0Rml0OjEsc3VwcG9ydEU5MTE6MCxzdHJlYW1CdW5kbGVXaXRoUGVlcjoxLHNka0NvbmZpZzpSZSxhcHBOYW1lOmRlLGFwcFR5cGU6Ryx0aXRsZTplLGJyb3dzZXI6eH0sLTEsZnVuY3Rpb24odCl7aWYocyE9eSl7dC51aWQmJkwuaW5mbyhcIm9uV2ViU29ja2V0T3BlbigpOiBbXCIrdC51aWQrXCJdIGNyZWF0ZUluc3RhbmNlRG9uZVwiKSxcInRydWVcIj09PXQudHJhY2VFbmFibGVkJiZMLnVwZGF0ZUxvZ0xldmVsKFMuREVCVUcsUy5ERUJVRyk7dmFyIGU9W1wiYWdlbnRPc1ZlcnNpb25cIixcImNsaWVudE9zVmVyc2lvblwiLFwiaGFWZXJzaW9uXCIsXCJoY1ZlcnNpb25cIixcInNoaW1WZXJzaW9uXCIsXCJ3ZWJydGNDbGllbnRWZXJcIixcIndlYlJUQ1JlZGlyQWdlbnRWZXJzaW9uXCIsXCJ3ZWJSVENSZWRpckNsaWVudFZlcnNpb25cIl0sbj17fTtMLmxvZ1RvQ29uc29sZT0hIXQubG9nVG9Db25zb2xlLEwuZGVidWcoXCJWREkgU2hpbTogTG9nIHRvIGNvbnNvbGUgPSBcIitMLmxvZ1RvQ29uc29sZSksTC5kZWJ1ZyhcIlZESSBjcmVhdGVJbnN0YW5jZSA9IFwiK0pTT04uc3RyaW5naWZ5KHQpKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0W2VbaV1dPyhuW2VbaV1dPXRbZVtpXV0sTC5kZWJ1ZyhcIm9uV2ViU29ja2V0T3BlbigpOiBcIitlW2ldK1wiID0gXCIrdFtlW2ldXSkpOkwud2FybihcIm9uV2ViU29ja2V0T3BlbigpOiBDb3VsZCBub3QgZmluZCBwcm9wZXJ0eSBcIitlW2ldKTt0LmNsaWVudE9zVmVyc2lvbj90LmNsaWVudE9zVmVyc2lvbi5zdGFydHNXaXRoKFwiV2luXCIpP24uY2xpZW50UGxhdGZvcm09XCJXaW5kb3dzXCI6dC5jbGllbnRPc1ZlcnNpb24uc3RhcnRzV2l0aChcIm1hY1wiKT9uLmNsaWVudFBsYXRmb3JtPVwiTWFjXCI6dC5jbGllbnRPc1ZlcnNpb24uc3RhcnRzV2l0aChcIkxpblwiKT9uLmNsaWVudFBsYXRmb3JtPVwiTGludXhcIjooTC5lcnJvcihcIlVua25vd24gY2xpZW50IG9zOiBcIit0LmNsaWVudE9zVmVyc2lvbiksbi5jbGllbnRQbGF0Zm9ybT1cIlVua25vd25cIik6KEwuZXJyb3IoXCJNaXNzaW5nIGNsaWVudCBvcyBpbmZvcm1hdGlvbi5cIiksbi5jbGllbnRQbGF0Zm9ybT1cIlVua25vd25cIiksTC5kZWJ1ZyhcIm9uV2ViU29ja2V0T3BlbigpOiBjbGllbnRQbGF0Zm9ybSA9IFwiK24uY2xpZW50UGxhdGZvcm0pO3ZhciByPXtldmVudDpcInZkaUNsaWVudENvbm5lY3RlZFwiLHZlcnNpb246bn07aWYodC5oY0lkJiYoci5lbmRwb2ludElkPXQuaGNJZCxMLmRlYnVnKFwib25XZWJTb2NrZXRPcGVuKCk6IENsaWVudElkID0gXCIrdC5oY0lkKSksXCJ0cnVlXCI9PT10LmFsbG93JiZcIk1hY1wiIT09bi5jbGllbnRQbGF0Zm9ybSYmXCJVbmtub3duXCIhPT1uLmNsaWVudFBsYXRmb3JtKXtzPV8sRj10W1wiYXBpLWNhcGFiaWxpdGllc1wiXXx8e30sTj10LnJ0cENhcGFiaWxpdGllc3x8e30sVGU9dC5jYWxsQ29uZmlnc3x8W10sQXJyYXkuaXNBcnJheSh0LmZlYXR1cmVzU3VwcG9ydGVkKT8oQT10LmZlYXR1cmVzU3VwcG9ydGVkLEwuaW5mbyhcIm9uV2ViU29ja2V0T3BlbigpOiBTdXBwb3J0ZWQgZmVhdHVyZXMgPSBcIitKU09OLnN0cmluZ2lmeShBKSkpOkwud2FybihcIm9uV2ViU29ja2V0T3BlbigpOiBmZWF0dXJlU3VwcG9ydGVkIHByb3BlcnR5IG5vdCB2YWxpZFwiKTt0cnl7TS5od25kIT09ST9IKHIpOm9lKGZ1bmN0aW9uKCl7dmFyIGU9dC5od25kfHxJO2woZSxyKX0pfWNhdGNoKGUpe0wud2FybihcIkNhdGNoIGV4Y2VwdGlvbiBpbiBvblZNRXZlbnQoKVwiK0pTT04uc3RyaW5naWZ5KGUpKX1hLmludm9rZURldmljZUNoYW5nZSgpfWVsc2V7dHJ5e0gocil9Y2F0Y2goZSl7TC53YXJuKFwiQ2F0Y2ggZXhjZXB0aW9uIGluIG9uVk1FdmVudCgpXCIrSlNPTi5zdHJpbmdpZnkoZSkpfWZvcih2YXIgbz1cIlwiLGU9W1wiZXJyb3JDb2RlXCIsXCJlcnJvck1zZ1wiXSxpPTA7aTxlLmxlbmd0aDtpKyspdm9pZCAwIT09dFtlW2ldXT8oTC5kZWJ1ZyhcIm9uV2ViU29ja2V0T3BlbigpOiBcIitlW2ldK1wiOiBcIit0W2VbaV1dKSxvKz1lW2ldK1wiID0gXCIrdFtlW2ldXSxpIT1lLmxlbmd0aC0xJiYobys9XCI7IFwiKSk6TC53YXJuKFwib25XZWJTb2NrZXRPcGVuKCk6IENvdWxkIG5vdCBmaW5kIHByb3BlcnR5IFwiK2VbaV0pO3RyeXtIKHtldmVudDpcInZkaUNsaWVudERpc2Nvbm5lY3RlZFwiLHJlYXNvbjpcImVuZHBvaW50VW5zdXBwb3J0ZWRcIixtc2c6b30pfWNhdGNoKGUpe0wud2FybihcIkNhdGNoIGV4Y2VwdGlvbiBpbiBvblZNRXZlbnQoKVwiK0pTT04uc3RyaW5naWZ5KGUpKX1iKFwiSG9yaXpvbiBIVE1MNSBTZXJ2ZXIgY29ubmVjdGlvbiBub3QgYWxsb3dlZFwiKX19fSl9LGY9ZnVuY3Rpb24oKXtMLmluZm8oXCJvbldlYlNvY2tldENsb3NlKCk6IFdlYnNvY2tldCBjbG9zZWRcIiksYihcIkhvcml6b24gSFRNTDUgU2VydmVyIGNvbm5lY3Rpb24gY2xvc2VkXCIpfSxnPWZ1bmN0aW9uKGUpe0wuZGVidWcoXCJvbldlYlNvY2tldEVycm9yKCk6IFdlYnNvY2tldCBlcnJvclwiKTt2YXIgdD15O2omJih0PWouc3RhdGUpLGIoXCJIb3Jpem9uIEhUTUw1IFNlcnZlciBjb25uZWN0aW9uIGVycm9yOiBcIitlLm1lc3NhZ2UpLHQ9PVQmJihMLmRlYnVnKFwiRXJyb3IgaW4gY29ubmVjdGluZyBzb2NrZXRcIiksaikmJmouc2VuZFZkaUNsaWVudEV2ZW50c09uRXJyb3ImJihMLmVycm9yKFwiRXJyb3IgaW4gY29ubmVjdGluZyB0byB3ZWJzb2NrZXRcIiksai5zdG9wUG9sbGluZygpLGouc2VuZEV2ZW50cygpLGouc2VuZFZkaUNsaWVudEV2ZW50c09uRXJyb3I9ITEpfSx2PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlLmRhdGEpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUuZGF0YSksbj1uZXcgRGF0YVZpZXcoZS5kYXRhKSxpPW4uZ2V0SW50MzIoMCkscj1uLmdldEludDMyKDM2KTtpZigxMzk2OTIwOTEwIT1pKUwud2FybihcIlVuc3VwcG9ydCBiaW5hcnkgZGF0YTogXCIraS50b1N0cmluZygxNikpO2Vsc2V7Ri5nZXRTY3JlZW5zJiZGLmdldFNjcmVlbnMmJCYmTC53YXJuKFwiTmV3IGNsaWVudCBzaG91bGQgcmV0dXJuIHN0cmluZyBmb3IgZ2V0U2NyZWVuLlwiKTtmb3IodmFyIG89NDAsYT1bXTtvKzEyPHQubGVuZ3RoOyl7dmFyIHM9bi5nZXRJbnQzMihvKSxkPSh2PW4uZ2V0SW50MzIobys0KSkqKHA9bi5nZXRJbnQzMihvKzgpKSo0O2lmKHY8MHx8cDwwfHxvKzEyK2Q+dC5sZW5ndGgpe0wud2FybihcIkludmFsaWQgc2NyZWVuIFwiK3YrXCJYXCIrcCtcIiBvZmZzOlwiK28rXCIgc2l6ZTpcIitkK1wiIGxlbjpcIit0Lmxlbmd0aCk7YnJlYWt9bys9MTI7dmFyIGM9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHQuYnVmZmVyLG8sZCksdT1uZXcgSW1hZ2VEYXRhKGMsdixwKSxsPW5ldyBBZShzLFwiU2NyZWVuIFwiK3MsdSk7bys9ZCxhLnB1c2gobCksTC5kZWJ1ZyhcIlNjcmVlbjpcIitzK1wiOiBcIit2K1wiWFwiK3ArXCIgb2ZmczpcIitvK1wiIHNpemU6XCIrZCtcIiBsZW46XCIrdC5sZW5ndGgpfXZhciBoPXdbcl07ZGVsZXRlIHdbcl0sdm9pZCAwIT09aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgaC5yZXNwb25zZUNiJiZoLnJlc3BvbnNlQ2IoYSl9fWVsc2UgaWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZGF0YSlMLmVycm9yKFwib25XZWJTb2NrZXRNZXNzYWdlKCk6IGludmFsaWQgZGF0YSB0eXBlOiBcIit0eXBlb2YgZS5kYXRhKTtlbHNle3ZhciBpPWUuZGF0YSxmPUpTT04ucGFyc2UoaSk7aWYoTC5sb2dUb0NvbnNvbGUmJmNvbnNvbGUubG9nKFwib25XZWJTb2NrZXRNZXNzYWdlKCk6IFwiK2kpLFwibnVtYmVyXCI9PXR5cGVvZiBmLmlkJiYwPGYuaWQpe2g9d1tmLmlkXTtpZihkZWxldGUgd1tmLmlkXSxoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBoLnJlc3BvbnNlQ2IpaWYoXCJnZXRTY3JlZW5zXCIhPT1mLmV2dHx8Zi5zY3JlZW5zKWgucmVzcG9uc2VDYihmKTtlbHNlIGlmKGYuZXJyb3IpaC5yZXNwb25zZUNiKGYpO2Vsc2V7dmFyIGE9W10sZz1cIm51bWJlclwiPT10eXBlb2YgZi5zY3JlZW5zP2Yuc2NyZWVuczoxO2ZvcihzPTE7czw9ZztzKyspe2Zvcih2YXIgdixwLG09NCoodj0xMDApKihwPTEwMCksYz1uZXcgVWludDhDbGFtcGVkQXJyYXkobSksYj0wO2I8bTtiKz00KWNbYl09ODEsY1tiKzFdPTE0NCxjW2IrMl09MjAxLGNbYiszXT0yNTU7dT1uZXcgSW1hZ2VEYXRhKGMsdixwKSxsPW5ldyBBZShzLFwiU2NyZWVuIFwiK3MsdSk7YS5wdXNoKGwpfWgucmVzcG9uc2VDYihhKX19ZWxzZSBpZih2b2lkIDA9PT1mLmV2dClMLmVycm9yKFwib25XZWJTb2NrZXRNZXNzYWdlKCk6IGV2dCBwcm9wZXJ0eSBpcyBpbnZhbGlkXCIpO2Vsc2Ugc3dpdGNoKGYuZXZ0KXtjYXNlXCJ2ZXJzaW9uXCI6dm9pZCAwPT09Zi52ZXI/TC5lcnJvcihcIm9uV2ViU29ja2V0TWVzc2FnZSgpOiB2ZXIgcHJvcGVydHkgaXMgaW52YWxpZC5cIik6TC5pbmZvKFwib25XZWJTb2NrZXRNZXNzYWdlKCk6IHZlcnNpb24gPSBcIitmLnZlcik7YnJlYWs7Y2FzZVwibmVnb3RpYXRpb25uZWVkZWRcIjpjYXNlXCJpY2VjYW5kaWRhdGVcIjpjYXNlXCJpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiOmNhc2VcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiOmNhc2VcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCI6Y2FzZVwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCI6Y2FzZVwiYWRkU3RyZWFtXCI6Y2FzZVwib250cmFja1wiOmNhc2VcInRvbmVjaGFuZ2VcIjpjYXNlXCJvbnJlY2VpdmVyc1wiOmNhc2VcIm9uc2VuZGVyc1wiOmNhc2VcIm9udHJhbnNjZWl2ZXJzXCI6Y2FzZVwib25kYXRhY2hhbm5lbFwiOmNhc2VcInJlbW92ZVN0cmVhbVwiOnZvaWQgMCE9PWYucGVlciYmdm9pZCAwIT09T1tmLnBlZXJdP09bZi5wZWVyXS5fb25SZWNlaXZlRXZlbnQoZik6TC5lcnJvcihcIm9uV2ViU29ja2V0TWVzc2FnZSgpOiBwZWVyQ29ubmVjdGlvbiBpcyBpbnZhbGlkLlwiKTticmVhaztjYXNlXCJsb2FkZWRtZXRhZGF0YVwiOnZvaWQgMCE9PWYudmlkZW9JZCYmdm9pZCAwIT09RFtmLnZpZGVvSWRdP0RbZi52aWRlb0lkXS5vblJlY2VpdmVFdmVudChmKTpMLmVycm9yKFwib25SZWNlaXZlQ29tbWFuZCgpOiBJbnZhbGlkIGNvbnRleHQuXCIpO2JyZWFrO2Nhc2VcImRldmljZWNoYW5nZVwiOnZhciBDPW5ldyBFdmVudChcImRldmljZWNoYW5nZVwiKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmRpc3BhdGNoRXZlbnQoQyk7YnJlYWs7Y2FzZVwidmRpU2NyZWVuVG9wb2xvZ3lDaGFuZ2VkXCI6dHJ5e0goe2V2ZW50OlwidmRpU2NyZWVuVG9wb2xvZ3lDaGFuZ2VkXCJ9KX1jYXRjaChlKXtMLndhcm4oXCJDYXRjaCBleGNlcHRpb24gaW4gb25WTUV2ZW50KClcIitKU09OLnN0cmluZ2lmeShlKSl9YnJlYWs7Y2FzZVwiZmVhdHVyZXNTdXBwb3J0ZWRDaGFuZ2VkXCI6Zm9yKHZhciBiIGluIGYuZmVhdHVyZXMpe3ZhciBTPWYuZmVhdHVyZXNbYl0seT1BLmluZGV4T2YoUy5mZWF0dXJlKTtcIitcIj09Uy5vcCYmeTwwP0EucHVzaChTLmZlYXR1cmUpOlwiLVwiPT1TLm9wJiYwPD15JiZBLnNwbGljZSh5LDEpfUgoe2V2ZW50OlwidmRpRmVhdHVyZVN1cHBvcnRlZENoYW5nZWRcIixyZWFzb246Zi5yZWFzb258fFwiZW5kcG9pbnQgY2hhbmdlcyBzdXBwb3J0ZWQgZmVhdHVyZXNcIn0pO2JyZWFrO2Nhc2VcInZkaUU5MTFJbmZvQ2hhbmdlZFwiOmYuZXZlbnQ9XCJ2ZGlFOTExSW5mb0NoYW5nZWRcIixIKGYpO2JyZWFrO2Nhc2VcInBvd2VyZXZlbnRcIjpDPWYuZXZlbnREYXRhO1IoQyk7YnJlYWs7Y2FzZVwiZGNvbm9wZW5cIjpjYXNlXCJkY29uYnVmZmVyZWRhbW91bnRsb3dcIjpjYXNlXCJkY29uY2xvc2luZ1wiOmNhc2VcImRjb25lcnJvclwiOmNhc2VcImRjb25tZXNzYWdlXCI6Y2FzZVwiZGNvbmNsb3NlXCI6dm9pZCAwIT09Zi5wZWVyJiZ2b2lkIDAhPT1PW2YucGVlcl0/T1tmLnBlZXJdLl9vblJlY2VpdmVEYXRhQ2hhbm5lbEV2ZW50KGYpOkwuZXJyb3IoXCJEYXRhY2hhbm5lbCBldmVudDogcGVlckNvbm5lY3Rpb24gaXMgaW52YWxpZC5cIil9fX0scD1mdW5jdGlvbihlLHQsbixpKXt2YXIgcjt0PW51bGw9PXQ/LTE6dCx2b2lkIDA9PT1lPyhyPW5ldyBET01FeGNlcHRpb24oXCJJbnZhbGlkIGNvbW1hbmQsIG9wZXJhdGlvbiBjYW5jZWxsZWRcIixcIk9wZXJhdGlvbkVycm9yXCIpLG4/bih7ZXJyb3I6cn0pOkwuZXJyb3IocikpOi0xPT09dHx8T1t0XT8oZS5mZWF0dXJlPTMsZS5jb21tYW5kSWQ9Q1tlLmNtZF0sZS5pZD0rK2QsZS5wZWVyPXQsZS5icm93c2VyPXgsZS5wbGF5ZXI9MSxcImNyZWF0ZUluc3RhbmNlXCI9PT1lLmNtZCYmKGUudWlkPTIxNDc0ODM2NDcmRGF0ZS5ub3coKSxMLmluZm8oXCJzZW5kSGVscGVyKCk6IFtcIitlLnVpZCtcIl0gY3JlYXRlSW5zdGFuY2VcIikpLFwiY3JlYXRlSW5zdGFuY2VcIiE9PWUuY21kJiZzIT09X3x8KG4mJihpP24oKTp3W2UuaWRdPXtpZDplLmlkLHdlYkNvbW1hbmRJZDplLmNvbW1hbmRJZCxyZXNwb25zZUNiOm59KSxvLnNlbmQoSlNPTi5zdHJpbmdpZnkoZSkpKSk6KHI9bmV3IERPTUV4Y2VwdGlvbihcInBlZXIgSWQgaXMgbm90IGZvdW5kLCBvcGVyYXRpb24gY2FuY2VsbGVkXCIsXCJPcGVyYXRpb25FcnJvclwiKSxuP24oe2Vycm9yOnJ9KTpMLmVycm9yKHIpKX0sbT0odGhpcy5zZW5kPWZ1bmN0aW9uKGUsdCxuLGkpe1wiZ2V0U3RhdHNcIiE9ZS5jbWQmJkwuZGVidWcoSlNPTi5zdHJpbmdpZnkoZSkpLHAoZSx0LG4saSl9LHRoaXMuaW52b2tlRGV2aWNlQ2hhbmdlPWZ1bmN0aW9uKCl7b2UoZnVuY3Rpb24oKXtMLmluZm8oXCJpbnZva2VEZXZpY2VDaGFuZ2UoKTogRmlyZSBkZXZpY2VjaGFuZ2UgZXZlbnRcIik7dmFyIGU9bmV3IEV2ZW50KFwiZGV2aWNlY2hhbmdlXCIpO25hdmlnYXRvci5tZWRpYURldmljZXMuZGlzcGF0Y2hFdmVudChlKX0pfSx0aGlzLnNlbmRCaW5hcnk9ZnVuY3Rpb24oZSl7cz09PV8/by5zZW5kKGUpOkwud2FybihcInNlbmRCaW5hcnkoKTogV1NTIGlzIG5vdCBjb25uZWN0ZWQuXCIpfSxmdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCkqTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZT1NYXRoLmZsb29yKGUpLGU9XCJ2PTBcXG5vPS0gXCIrU3RyaW5nKGUpK1wiIDIgSVA0IDEyNy4wLjAuMVxcblwiO3JldHVybihlKz1cInM9LVxcblwiKStcInQ9IDAgMFxcblwiK1wiYT1tc2lkLXNlbWFudGljOiBXTVNcIn0pLFI9ZnVuY3Rpb24oZSl7aWYoZT09WSl0cnl7TC5pbmZvKFwib25Qb3dlckV2ZW50KCk6IHJlY2VpdmVkIHN1c3BlbmRcIiksSCh7ZXZlbnQ6XCJ2ZGlSZXF1ZXN0RW5kQ2FsbHNcIixyZWFzb246XCJ2ZGlDbGllbnRQb3dlckV2ZW50U3VzcGVuZFwifSl9Y2F0Y2goZSl7TC53YXJuKFwiQ2F0Y2ggZXhjZXB0aW9uIGluIG9uVk1FdmVudCgpXCIrSlNPTi5zdHJpbmdpZnkoZSkpfWVsc2UgaWYoZT09Wil7TC5pbmZvKFwib25Qb3dlckV2ZW50KCk6IHJlY2VpdmVkIHJlc3VtZVwiKTt0cnl7SCh7ZXZlbnQ6XCJ2ZGlSZXF1ZXN0RW5kQ2FsbHNcIixyZWFzb246XCJ2ZGlDbGllbnRQb3dlckV2ZW50UmVzdW1lXCJ9KX1jYXRjaChlKXtMLndhcm4oXCJDYXRjaCBleGNlcHRpb24gaW4gb25WTUV2ZW50KClcIitKU09OLnN0cmluZ2lmeShlKSl9fWVsc2UgTC5lcnJvcihcInBvd2VyZXZlbnQ6IEludmFsaWQgcGFyYW0uXCIpfSxiPWZ1bmN0aW9uKGksZSl7TC5pbmZvKFwiY2xlYW51cDogQ2xlYW4gdXAgYWxsIHNjcmlwdCByZXNvdXJjZXNcIik7dmFyIHQ9cztpZihzPWU/VDp5LE9iamVjdC5rZXlzKHcpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbj1uZXcgRE9NRXhjZXB0aW9uKGksXCJPcGVyYXRpb25FcnJvclwiKTt3W2VdLnJlc3BvbnNlQ2I/d1tlXS53ZWJDb21tYW5kSWQ9PT1DLmNyZWF0ZU9mZmVyfHx3W2VdLndlYkNvbW1hbmRJZD09PUMuY3JlYXRlQW5zd2VyPyh0PXtkZXNjOntzZHA6bSgpfX0sTC5kZWJ1ZyhcIlJlc29sdmluZyBjcmVhdGVvZmZlci9jcmVhdGVBbnN3ZXIgd2l0aCBkZXNjIFwiK3QuZGVzYyksd1tlXS5yZXNwb25zZUNiKHQpKTp3W2VdLnJlc3BvbnNlQ2Ioe2Vycm9yOm59KTpMLmVycm9yKG4pfSksdz17fSxvJiZvLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTiYmcz09eSYmby5jbG9zZSgpLG89bnVsbCxPYmplY3Qua2V5cyhPKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe09bZV0uY2xlYW5VcCgpfSksTz17fSxPYmplY3Qua2V5cyhQKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9UFtlXTtlLm9uZW5kZWQmJmUub25lbmRlZCgpfSksUD17fSxwZT17fSxBPVtdLFY9W10sd2U9e30sTj17fSxUZT1bXSx0PT09Xyl7dHJ5e0goe2V2ZW50OlwidmRpQ2xpZW50RGlzY29ubmVjdGVkXCIscmVhc29uOlwiZW5kcG9pbnREaXNjb25uZWN0ZWRcIn0pfWNhdGNoKGUpe0wud2FybihcIkNhdGNoIGV4Y2VwdGlvbiBpbiBvblZNRXZlbnQoKVwiK0pTT04uc3RyaW5naWZ5KGUpKX1hLmludm9rZURldmljZUNoYW5nZSgpfUY9e319fWZ1bmN0aW9uIEFlKGUsdCxuLGkpe3ZhciByPXRoaXM7dGhpcy5pZD1lLHRoaXMubmFtZT10LHRoaXMuaW1hZ2U9bix0aGlzLmljb249dm9pZCAwLHRoaXMuYm91bmRzPWl8fHt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcImdldElkIFwiK3IuaWQpLHIuaWR9LHRoaXMuZ2V0RGV2aWNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcImdldERldmljZUlkIFwiK3IuaWQpLFdlK1wiLVwiK3IuaWR9LHRoaXMuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiBMZS5Nb25pdG9yfSx0aGlzLmdldFByZXZpZXc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBMLmRlYnVnKFwiU2NyZWVuc0FzeW5jIGdldFByZXZpZXcgXCIpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7dCgpfSl9LHRoaXMuZ2V0UHJldmlld0FzeW5jPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gTC5kZWJ1ZyhcIlNjcmVlbnNBc3luYyBnZXRQcmV2aWV3QXN5bmNcIiksbj9uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi5nZXRDb250ZXh0KFwiMmRcIikucHV0SW1hZ2VEYXRhKHIuaW1hZ2UsMCwwKSxlKHtkYXRhOm4udG9EYXRhVVJMKCkucmVwbGFjZShcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIixcIlwiKX0pfSk6bmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXtlKHIuaW1hZ2UpfSl9LHRoaXMuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcIlNjcmVlbnNBc3luYyBnZXREZXNjcmlwdGlvbiBcIiksci5uYW1lfSx0aGlzLmdldEljb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTC5kZWJ1ZyhcIlNjcmVlbnNBc3luYyBnZXRJY29uXCIpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7ZShyLmltYWdlKX0pfSx0aGlzLmdldEFwcE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gTC53YXJuKFwiZ2V0QXBwTmFtZTogbm90IHN1cHBvcnQuXCIpLG51bGx9LHRoaXMuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuKHIuYm91bmRzLndpZHRoPD0wfHxyLmJvdW5kcy5oZWlnaHQ8PTApJiZMLndhcm4oXCJnZXRCb3VuZHM6IGludmFsaWQgYm91bmRzLlwiKSxyLmJvdW5kc319ZnVuY3Rpb24gVmUoZSx0KXt2YXIgcz10aGlzLGQ9KHRoaXMuaWQ9Uix0aGlzLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuYnVmZmVyZWRBbW91bnQ9MCx0aGlzLm1heFBhY2tldExpZmVUaW1lPTAsdGhpcy5tYXhSZXRyYW5zbWl0cz0wLHRoaXMubmVnb3RpYXRlZD0hMSx0aGlzLm9yZGVyZWQ9ITAsdGhpcy5wcm90b2NvbD1cIlwiLHRoaXMucmVhZHlTdGF0ZT0hMSx0aGlzLnJlbGlhYmxlPSEwLHRoaXMubGFiZWw9XCJcIix0KSxjPWUsbj0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldDpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiZMLndhcm4oXCJSVENEYXRhQ2hhbm5lbCBidWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCB2YWx1ZSB1bmRlZmluZWQuXCIpLHMuaWQhPVImJmouc2VuZCh7Y21kOlwiZGF0YUNoYW5uZWxDbWRcIixoaW50Olwic2V0QnVmZmVyQW1vdW50TG93VGhyZXNob2xkXCIsZGF0YUNoYW5uZWxDbWQ6aC5TRVRfQlVGRkVSX0FNT1VOVF9MT1dfVEhSRVNIT0xELGRhdGFDaGFubmVsSWQ6cy5pZCxzaGltSWQ6ZCxsYWJlbDpzLmxhYmVsLHRocmVzaG9sZDplfSxjKSxuPWV9LGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMuX2NyZWF0ZUNoYW5uZWw9ZnVuY3Rpb24oZSx0KXtzLmlkPT1SPyhzLmxhYmVsPWUsai5zZW5kKHtjbWQ6XCJkYXRhQ2hhbm5lbENtZFwiLGhpbnQ6XCJjcmVhdGVcIixsYWJlbDplLHNoaW1JZDpkLG9wdGlvbnM6dCxkYXRhQ2hhbm5lbENtZDpoLkNSRUFURX0sYykpOkwud2FybihcIlJUQ0RhdGFDaGFubmVsLmNyZWF0ZSBjaGFubmVsIFwiK3MuaWQrXCIgYWxyZWFkeSBleGlzdGVkXCIpfSx0aGlzLl91cGRhdGVDaGFubmVsPWZ1bmN0aW9uKGUpe3MuaWQ9ZS5pZCxzLmJpbmFyeVR5cGU9ZS5iaW5hcnlUeXBlLHMuYnVmZmVyZWRBbW91bnQ9ZS5idWZmZXJlZEFtb3VudCxzLm1heFBhY2tldExpZmVUaW1lPWUubWF4UGFja2V0TGlmZVRpbWUscy5tYXhSZXRyYW5zbWl0cz1lLm1heFJldHJhbnNtaXRzLHMubmVnb3RpYXRlZD1lLm5lZ290aWF0ZWQscy5vcmRlcmVkPWUub3JkZXJlZCxzLnByb3RvY29sPWUucHJvdG9jb2wscy5yZWFkeVN0YXRlPWUucmVhZHlTdGF0ZSxzLnJlbGlhYmxlPWUucmVsaWFibGUscy5sYWJlbD1lLmxhYmVsfSx0aGlzLnNlbmQ9ZnVuY3Rpb24oZSl7aWYocy5pZCE9UilpZihlIGluc3RhbmNlb2YgQmxvYil7ZS5hcnJheUJ1ZmZlcigpO2UuYXJyYXlCdWZmZXIoKS50aGVuKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheShlKSxuPXQuYnl0ZUxlbmd0aCxpPVwiXCIscj0wO3I8bjtyKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W3JdKTtqLnNlbmQoe2NtZDpcImRhdGFDaGFubmVsQ21kXCIsbGFiZWw6cy5sYWJlbCxkYXRhQ2hhbm5lbElkOnMuaWQsc2hpbUlkOmQsZGF0YUNoYW5uZWxDbWQ6aC5TRU5ELGhpbnQ6XCJzZW5kXCIsZGF0YTp3aW5kb3cuYnRvYShpKSxkYXRhVHlwZTpcImJpbmFyeVwiLGRhdGFMZW46bn0sYyl9KX1lbHNle3ZhciB0PW51bGwsbj0wLGk9XCJiaW5hcnlcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZyl0PXdpbmRvdy5idG9hKGUpLGk9XCJzdHJpbmdcIixuPWUubGVuZ3RoO2Vsc2V7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KGUpLG49ci5ieXRlTGVuZ3RoLG89XCJcIixhPTA7YTxuO2ErKylvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbYV0pO28mJih0PXdpbmRvdy5idG9hKG8pKX10P2ouc2VuZCh7Y21kOlwiZGF0YUNoYW5uZWxDbWRcIixsYWJlbDpzLmxhYmVsLGRhdGFDaGFubmVsSWQ6cy5pZCxzaGltSWQ6ZCxoaW50Olwic2VuZFwiLGRhdGFDaGFubmVsQ21kOmguU0VORCxkYXRhOnQsZGF0YVR5cGU6aSxkYXRhTGVuOm59LGMpOkwud2FybihcIlJUQ0RhdGFDaGFubmVsLnNlbmQ6IFVuc3VwcG9ydGVkIGRhdGEgZm9ybWF0XCIpfWVsc2UgTC5lcnJvcihcIlJUQ0RhdGFDaGFubmVsLnNlbmQ6IGludmFsaWQgZGF0YWNoYW5uZWwgaWQuXCIpfSx0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7T1tjXT8oai5zZW5kKHtjbWQ6XCJkYXRhQ2hhbm5lbENtZFwiLGhpbnQ6XCJjbG9zZVwiLGxhYmVsOnMubGFiZWwsZGF0YUNoYW5uZWxJZDpzLmlkLHNoaW1JZDpkLGRhdGFDaGFubmVsQ21kOmguQ0xPU0V9LGMpLE9bY10uX3VudHJhY2tEYXRhQ2hhbm5lbChzLmlkLGQpKTpMLndhcm4oXCJSVENEYXRhQ2hhbm5lbC5jbG9zZTogcGVlcmNvbm5lY3Rpb24gaXMgdW50cmFja2VkLlwiKX0sdGhpcy5fb25SZWNlaXZlRXZlbnQ9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09ZS5ldnQpTC5lcnJvcihcIl9vblJlY2VpdmVFdmVudCgpOiBldnQgcHJvcGVydHkgaXMgaW52YWxpZC5cIik7ZWxzZXt2YXIgdD17dGFyZ2V0OnRoaXN9O3N3aXRjaChlLmV2dCl7Y2FzZVwiZGNvbm9wZW5cIjp0aGlzLm9ub3BlbiYmKHRoaXMuX3VwZGF0ZUNoYW5uZWwoZS5jaGFubmVsKSx0aGlzLm9ub3Blbih0KSk7YnJlYWs7Y2FzZVwiZGNvbmJ1ZmZlcmVkYW1vdW50bG93XCI6dGhpcy5vbmJ1ZmZlcmVkYW1vdW50bG93JiZ0aGlzLm9uYnVmZmVyZWRhbW91bnRsb3codCk7YnJlYWs7Y2FzZVwiZGNvbmVycm9yXCI6dGhpcy5vbmVycm9yJiZ0aGlzLm9uZXJyb3IodCk7YnJlYWs7Y2FzZVwiZGNvbm1lc3NhZ2VcIjppZih0aGlzLm9ubWVzc2FnZSl7aWYoXCJzdHJpbmdcIj09PWUuZGF0YVR5cGUpdC5kYXRhPXdpbmRvdy5hdG9iKGUuZGF0YSk7ZWxzZXt2YXIgbj13aW5kb3cuYXRvYihlLmRhdGEpLGk9bi5sZW5ndGg7dC5kYXRhPW5ldyBVaW50OEFycmF5KGkpO2Zvcih2YXIgcj0wO3I8aTtyKyspdC5kYXRhW3JdPW4uY2hhckNvZGVBdChyKX10aGlzLm9ubWVzc2FnZSh0KX1icmVhaztjYXNlXCJkY29uY2xvc2VcIjp0aGlzLm9uY2xvc2UmJnRoaXMub25jbG9zZSh0KX19fX12YXIgVT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9e307dGhpcy5fb2JqZWN0SWQ9KytoZSx0aGlzLmlkPVwiXCIsdGhpcy5wZWVyPXAsdGhpcy5hY3RpdmU9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmNsb25lZD1udWxsLHRoaXMudHJhY2s9W10sdGhpcy5jcmVhdGVNZWRpYVN0cmVhbT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lfHxBcnJheS5pc0FycmF5KGUpPyh0aGlzLmlkPVwiU3RyZWFtI1wiK24uX29iamVjdElkLEwuZGVidWcoXCJNZWRpYVN0cmVhbS5jcmVhdGVNZWRpYVN0cmVhbSgpIHdpdGggXCIrbi5pZCtcIk1lZGlhU3RyZWFtVHJhY2tzIG51bSA9XCIrIShlPWUpPzA6ZS5sZW5ndGgpLHRoaXMuYWN0aXZlPSExLHRoaXMudHJhY2s9W10sdm9pZCAwIT09ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UmJmUgaW5zdGFuY2VvZiBCJiZuLnRyYWNrLnB1c2goZSl9KSxqLnNlbmQoe2NtZDpcImNyZWF0ZU1lZGlhU3RyZWFtXCIsc2lkOm4uaWQsdHJhY2tzOm4udHJhY2t9LC0xKSk6TC5kZWJ1ZyhcIk1lZGlhU3RyZWFtLmNyZWF0ZU1lZGlhU3RyZWFtIGZhaWxlZCB3aXRoIGludmFsaWQgcGFyYW1ldGVyXCIpfSx0aGlzLl9jcmVhdGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmlkPWUuaWQsdGhpcy5wZWVyPXQsdGhpcy5hY3RpdmU9ZS5hY3RpdmUsdGhpcy50cmFjaz1bXSxlLnRyYWNrLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEI7dC5fY3JlYXRlKGUpLG4udHJhY2sucHVzaCh0KX0pLHBlW3RoaXMuaWRdPXRoaXN9LHRoaXMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXtMLmRlYnVnKFwiTWVkaWFTdHJlYW0uZGlzcGF0Y2hFdmVudCgpOiBcIit0LnR5cGUpLHZvaWQgMCE9PWlbZXZlbnQudHlwZV0mJmlbZXZlbnQudHlwZV0ubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh0KX0pLFwiYWN0aXZlXCI9PT10LnR5cGU/dGhpcy5vbmFjdGl2ZSYmdGhpcy5vbmFjdGl2ZSh0KTpcImFkZHRyYWNrXCI9PT10LnR5cGU/dGhpcy5vbmFkZHRyYWNrJiZ0aGlzLm9uYWRkdHJhY2sodCk6XCJpbmFjdGl2ZVwiPT09dC50eXBlP3RoaXMub25pbmFjdGl2ZSYmdGhpcy5vbmluYWN0aXZlKHQpOlwicmVtb3ZldHJhY2tcIj09PXQudHlwZT90aGlzLm9ucmVtb3ZldHJhY2smJnRoaXMub25yZW1vdmV0cmFjayh0KTpMLmRlYnVnKFwiTWVkaWFTdHJlYW0uZGlzcGF0Y2hFdmVudCgpOiBVbmRlZmluZWQgZXZlbnQ6IFwiLHQudHlwZSl9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe0wuZGVidWcoXCJNZWRpYVN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCk6IFwiK2UpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/TC5lcnJvcihcIk1lZGlhU3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoKTogVGhlIGxpc3RlbmVyIGhhbmRsZXIgaXMgaW52YWxpZC5cIik6XCJzdHJpbmdcIiE9dHlwZW9mIGU/TC5lcnJvcihcIk1lZGlhU3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoKTogVGhlIGV2ZW50IG5hbWUgaXMgaW52YWxpZC5cIik6KHZvaWQgMD09PWlbZV0mJihpW2V2ZW50XT17bGlzdGVuZXJzOltdfSksaVtlXS5saXN0ZW5lcnMucHVzaCh0KSl9LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe0wuZGVidWcoXCJNZWRpYVN0cmVhbS5yZW1vdmVFdmVudExpc3RlbmVyKCk6IFwiK2UpLHZvaWQgMD09PWlbZV0/TC5lcnJvcihcIk1lZGlhU3RyZWFtLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTogRXZlbnQgZG9lcyBub3QgZXhpc3QgPSBcIitlKTppW2VdLmxpc3RlbmVycz1pW2VdLmxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9TdHJpbmcoKSE9PXQudG9TdHJpbmcoKX0pfSx0aGlzLmFkZFRyYWNrPWZ1bmN0aW9uKHQpe0wuZGVidWcoXCJNZWRpYVN0cmVhbS5hZGRUcmFjaygpOiBcIit0LmlkKTt2YXIgbj0hMTt0aGlzLnRyYWNrLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pZD09dC5pZCYmKG49ITApfSksbnx8dGhpcy50cmFjay5wdXNoKHQpfSx0aGlzLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe0wuZGVidWcoXCJNZWRpYVN0cmVhbS5yZW1vdmVUcmFjaygpOiBcIitlLmlkKTtmb3IodmFyIHQ9MDt0PHRoaXMudHJhY2subGVuZ3RoO3QrKylpZih0aGlzLnRyYWNrW3RdLmlkPT1lLmlkKXJldHVybiB2b2lkIHRoaXMudHJhY2suc3BsaWNlKHQsMSl9LHRoaXMucmVtb3ZlVHJhY2tCeUlkPWZ1bmN0aW9uKGUpe0wuZGVidWcoXCJNZWRpYVN0cmVhbS5yZW1vdmVUcmFja0J5SWQoKTogXCIrZSk7Zm9yKHZhciB0LG49MDtuPHRoaXMudHJhY2subGVuZ3RoO24rKylpZih0aGlzLnRyYWNrW25dLmlkPT1lKXJldHVybiB0PXt0eXBlOlwicmVtb3ZldHJhY2tcIix0cmFjazp0aGlzLnRyYWNrW25dfSx0aGlzLmRpc3BhdGNoRXZlbnQodCksdm9pZCB0aGlzLnRyYWNrLnNwbGljZShuLDEpfSx0aGlzLmdldFRyYWNrcz1mdW5jdGlvbigpe3JldHVybiBMLmRlYnVnKFwiW1wiK3RoaXMuaWQrXCJdTWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCk6IFwiK3RoaXMudHJhY2subGVuZ3RoKSxMLmRlYnVnKHRoaXMudHJhY2spLHRoaXMudHJhY2t9LHRoaXMuZ2V0QXVkaW9UcmFja3M9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy50cmFjay5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiYXVkaW9cIj09ZS5raW5kJiZ0LnB1c2goZSl9KSxMLmRlYnVnKFwiTWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTogQXVkaW8gdHJhY2tzID0gXCIrdC5sZW5ndGgpLHR9LHRoaXMuZ2V0VmlkZW9UcmFja3M9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy50cmFjay5mb3JFYWNoKGZ1bmN0aW9uKGUpe1widmlkZW9cIj09ZS5raW5kJiZ0LnB1c2goZSl9KSxMLmRlYnVnKFwiTWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTogVmlkZW8gdHJhY2tzID0gXCIrdC5sZW5ndGgpLHR9LHRoaXMuZ2V0VHJhY2tCeUlkPWZ1bmN0aW9uKHQpe3ZhciBuPW51bGw7cmV0dXJuIEwuZGVidWcoXCJNZWRpYVN0cmVhbS5nZXRUcmFja0J5SWQoKTogXCIrdCksdGhpcy50cmFjay5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaWQ9PXQmJihuPWUpfSksbn0sdGhpcy5jbG9uZT1mdW5jdGlvbigpe2lmKEwuZGVidWcoXCJNZWRpYVN0cmVhbS5jbG9uZSgpOiBDbG9uZSBtZWRpYVN0cmVhbSA9IFwiK3RoaXMuaWQpLHRoaXMuY2xvbmVkKXJldHVybiBMLmRlYnVnKFwiTWVkaWFTdHJlYW0uY2xvbmUoKTogVXNlIGNhY2hlZCBjbG9uZTogXCIrdGhpcy5jbG9uZWQuaWQpLHRoaXMuY2xvbmVkO3ZhciBlPW5ldyBVLHQ9a2UodGhpcy5pZCxcIlN0cmVhbUNsbiNcIixlLl9vYmplY3RJZCksbj1bXTtlLl9jcmVhdGUoe2lkOnQsYWN0aXZlOnRoaXMuYWN0aXZlLHRyYWNrOltdfSx0aGlzLnBlZXIpO2Zvcih2YXIgaT0wO2k8dGhpcy50cmFjay5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLnRyYWNrW2ldLl9pbnRlcm5hbENsb25lKCk7ZS50cmFjay5wdXNoKHIpLG4ucHVzaCh7dGlkOnRoaXMudHJhY2tbaV0uaWQsY2lkOnIuaWR9KX1yZXR1cm4gai5zZW5kKHtjbWQ6XCJtZWRpYVN0cmVhbUNsb25lXCIsc2lkOnRoaXMuaWQsY2lkOmUuaWQsc3RyZWFtUGVlcjp0aGlzLnBlZXIsdHJhY2tDbG9uZXM6bn0sLTEpLEwuZGVidWcoXCJNZWRpYVN0cmVhbS5jbG9uZSgpOiBNZWRpYVN0cmVhbSBjbG9uZWQgPSBcIitlLmlkK1wiIGZyb20gPSBcIit0aGlzLmlkKSxlfX0sQj1mdW5jdGlvbigpe3ZhciBuPXt9O3RoaXMuX29iamVjdElkPSsrZmUsdGhpcy5yZW1vdGU9ITEsdGhpcy5yZWFkb25seT0hMSx0aGlzLmNvbnRlbnRIaW50PVwiXCIsdGhpcy5pZD1cIlwiLHRoaXMua2luZD1cIlwiLHRoaXMubGFiZWw9XCJcIix0aGlzLm11dGVkPSExLHRoaXMucmVhZHlTdGF0ZT1cIlwiLHRoaXMuX2VuYWJsZWQ9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJlbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwPT09KHRoaXMuX2VuYWJsZWQ9ZSkmJkwud2FybihcIlNldCBNZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQgdG8gdW5kZWZpbmVkLlwiKSxqLnNlbmQoe2NtZDpcInRyYWNrRW5hYmxlZFwiLHRyYWNrSWQ6dGhpcy5pZCxlbmFibGVkOmV9LC0xKX0sY29uZmlndXJhYmxlOiEwfSksdGhpcy5fY3JlYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX3VwZGF0ZShlKSxQW3RoaXMuaWRdPXRoaXN9LHRoaXMuX3VwZGF0ZT1mdW5jdGlvbihlKXtlJiYodGhpcy5jb250ZW50SGludD1lLmNvbnRlbnRIaW50LHRoaXMuaWQ9ZS5pZCx0aGlzLmtpbmQ9ZS5raW5kLHRoaXMubGFiZWw9ZS5sYWJlbCx0aGlzLl9lbmFibGVkPWUuZW5hYmxlZCx0aGlzLm11dGVkPWUubXV0ZWQsdGhpcy5yZWFkeVN0YXRlPWUucmVhZHlTdGF0ZSx0aGlzLnJlbW90ZT1lLnJlbW90ZSx0aGlzLnJlYWRvbmx5PWUucmVhZG9ubHksdGhpcy5zZXR0aW5ncz1lLnNldHRpbmdzKX0sdGhpcy5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUpe1wic3RhcnRlZFwiPT1lLnR5cGU/dGhpcy5vbnN0YXJ0ZWQmJnRoaXMub25zdGFydGVkKGUpOlwiZW5kZWRcIj09ZS50eXBlP3RoaXMub25lbmRlZCYmdGhpcy5vbmVuZGVkKGUpOlwiaXNvbGF0aW9uY2hhbmdlXCI9PWUudHlwZT90aGlzLm9uaXNvbGF0aW9uY2hhbmdlJiZ0aGlzLm9uaXNvbGF0aW9uY2hhbmdlKGUpOlwibXV0ZVwiPT1lLnR5cGU/dGhpcy5vbm11dGUmJnRoaXMub25tdXRlKGUpOlwidW5tdXRlXCI9PWUudHlwZT90aGlzLm9udW5tdXRlJiZ0aGlzLm9udW5tdXRlKGUpOlwib3ZlcmNvbnN0cmFpbmVkXCI9PWUudHlwZT90aGlzLm9ub3ZlcmNvbnN0cmFpbmVkJiZ0aGlzLm9ub3ZlcmNvbnN0cmFpbmVkKGUpOkwuZGVidWcoXCJVbmRlZmluZWQgbWVkaWEgdHJhY2sgZXZ0OiBcIixlLnR5cGUpfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtMLmRlYnVnKFwiTWVkaWFTdHJlYW1UcmFjay5hZGRFdmVudExpc3RlbmVyKCk6IFwiK2UpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/TC5lcnJvcihcIk1lZGlhU3RyZWFtVHJhY2suYWRkRXZlbnRMaXN0ZW5lcigpOiBUaGUgbGlzdGVuZXIgaGFuZGxlciBpcyBpbnZhbGlkLlwiKTpcInN0cmluZ1wiIT10eXBlb2YgZT9MLmVycm9yKFwiTWVkaWFTdHJlYW1UcmFjay5hZGRFdmVudExpc3RlbmVyKCk6IFRoZSBldmVudCBuYW1lIGlzIGludmFsaWQuXCIpOih2b2lkIDA9PT1uW2VdJiYobltldmVudF09e2xpc3RlbmVyczpbXX0pLG5bZV0ubGlzdGVuZXJzLnB1c2godCkpfSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtMLmRlYnVnKFwiTWVkaWFTdHJlYW1UcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCk6IFwiK2UpLHZvaWQgMD09PW5bZV0/TC5lcnJvcihcIk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcigpOiBFdmVudCBkb2VzIG5vdCBleGlzdCA9IFwiK2UpOm5bZV0ubGlzdGVuZXJzPW5bZV0ubGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpIT09dC50b1N0cmluZygpfSl9LHRoaXMuYXBwbHlDb25zdHJhaW50cz1mdW5jdGlvbihlKXt2YXIgcj10aGlzLmlkLG89dGhpcy5zZXR0aW5ncztyZXR1cm4gTC5kZWJ1ZyhcIk1lZGlhU3RyZWFtVHJhY2suYXBwbHlDb25zdHJhaW50cygpXCIpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7dmFyIGk9bmV3IERPTUV4Y2VwdGlvbihcImFwcGx5Q29uc3RyYWludHMgZmFpbGVkXCIsXCJPcGVyYXRpb25FcnJvclwiKTtqLnNlbmQoe2NtZDpcImFwcGx5Q29uc3RyYWludHNcIixjb25zdHJhaW50czplLHRya2lkOnJ9LC0xLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuZXJyb3I/KHZvaWQgMCE9PWUuc2V0dGluZ3Mud2lkdGgmJnZvaWQgMCE9PWUuc2V0dGluZ3MuaGVpZ2h0JiYoby53aWR0aD1lLnNldHRpbmdzLndpZHRoLG8uaGVpZ2h0PWUuc2V0dGluZ3MuaGVpZ2h0KSx0KCkpOm4oaSl9KX0pfSx0aGlzLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKCl7TC5kZWJ1ZyhcIk1lZGlhU3RyZWFtVHJhY2suZ2V0Q29uc3RyYWludHMoKTogTm90IGltcGxlbWVudGVkXCIpfSx0aGlzLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe0wuZGVidWcoXCJNZWRpYVN0cmVhbVRyYWNrLmdldENhcGFiaWxpdGllcygpOiBOb3QgaW1wbGVtZW50ZWRcIil9LHRoaXMuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcIk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKTogXCIrSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpLHRoaXMuc2V0dGluZ3N9LHRoaXMuc3RvcD1mdW5jdGlvbigpe2ouc2VuZCh7Y21kOlwibWVkaWFUcmtTdG9wXCIsdHJraWQ6dGhpcy5pZH0pfSx0aGlzLl9pbnRlcm5hbENsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEIsdD1rZSh0aGlzLmlkLFwiVHJhY2tDbG4jXCIsZS5fb2JqZWN0SWQpO3JldHVybiBlLl9jcmVhdGUoe2lkOnQsa2luZDp0aGlzLmtpbmQsbGFiZWw6dGhpcy5sYWJlbCxlbmFibGVkOnRoaXMuZW5hYmxlZCxtdXRlZDp0aGlzLm11dGVkLHJlYWR5U3RhdGU6dGhpcy5yZWFkeVN0YXRlLHJlbW90ZTp0aGlzLnJlbW90ZSxyZWFkb25seTp0aGlzLnJlYWRvbmx5LHNldHRpbmdzOnRoaXMuc2V0dGluZ3N9KSxlfSx0aGlzLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW50ZXJuYWxDbG9uZSgpO3JldHVybiBqLnNlbmQoe2NtZDpcIm1lZGlhVHJhY2tDbG9uZVwiLHRpZDp0aGlzLmlkLGNpZDplLmlkfSwtMSksZX19LEZlPWZ1bmN0aW9uKCl7dGhpcy5zdGF0cz17fSx0aGlzLl9jcmVhdGU9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0cz1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pZD1lLmlkLHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wLGRlbGV0ZSB0aGlzLnN0YXRzLnR5cGUsZGVsZXRlIHRoaXMuc3RhdHMuaWQsZGVsZXRlIHRoaXMuc3RhdHMudGltZXN0YW1wfSx0aGlzLm5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc3RhdHMpfSx0aGlzLnN0YXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdHNbZV19fSx6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdCxuPVtdO2Zvcih0IGluIHIpe3ZhciBpPXJbdF07aS50eXBlJiZpLnR5cGU9PT1lJiZuLnB1c2goaSl9cmV0dXJuIG59dmFyIG49e30scj17fTt0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdDsodD1lKSYmKFwiK1wiPT09dC5vcCYmKG49bnVsbCxyPXt9KSx0LnRyYWNrJiYobj9PYmplY3Qua2V5cyh0LnRyYWNrKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiZW5hYmxlZFwiIT1lP25bZV09dC50cmFja1tlXTpuLl9lbmFibGVkPXQudHJhY2tbZV19KToobj1uZXcgQikuX3VwZGF0ZSh0LnRyYWNrKSksdC5zb3VyY2VzKSYmdC5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG4sZT10LnNvdXJjZTtcIi1cIj09PXQub3A/ZGVsZXRlIHJbZV06KFwiK1wiPT09dC5vcCYmKGRlbGV0ZSByW2VdLHJbZV09e30pLG49cltlXSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09dFtlXX0pKX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRyYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBufSxjb25maWd1cmFibGU6ITB9KSx0aGlzLmdldENvbnRyaWJ1dGluZ1NvdXJjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZShhKX0sdGhpcy5nZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIGUobyl9fSxKPSh6LmdldENhcGFiaWxpdGllcz1mdW5jdGlvbihlKXtpZihMLmluZm8oXCJSVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMgZm9yIGtpbmQgPSBcIitlKSxOLnJlY2VpdmVyJiZOLnJlY2VpdmVyW2VdKXJldHVybiBOLnJlY2VpdmVyW2VdfSxmdW5jdGlvbihlKXt2YXIgaT10aGlzLG49ITEscj0odGhpcy5fY2FwPUYuc2VuZGVyfHwwLGUpLG89bnVsbCxhPW51bGwsdD1sLHM9XCJcIixkPW51bGwsYz1udWxsLHU9bnVsbDt0aGlzLmluaXRQbGFuQj1mdW5jdGlvbihlLHQpe0wuZGVidWcoXCJSdGNSdHBTZW5kZXIuaW5pdFBsYW5CXCIpLG49ITEsbz10LHM9ZT9lLmlkOlwiXCIsYT1lLGQ9bmV3IE5lKGkpfSx0aGlzLmluaXRVbmlmaWVkUGxhbj1mdW5jdGlvbihlLHQpe2U/KG49ITAsYz1lLGQ9bmV3IE5lKGkpLHQmJnQuc2VuZEVuY29kaW5ncyk6TC5lcnJvcihcIlJUQ1J0cFNlbmRlci5pbml0VW5pZmllZFBsYW46IEludmFsaWQgdHJhbnNjZWl2ZXJcIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZHRtZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbj8odXx8KHU9bmV3IFBlKS5pbml0VW5pZmllZFBsYW4oci5pZCxjLHRoaXMsYSksdSk6cj9yLmNyZWF0ZURUTUZTZW5kZXIoYSk6bnVsbH0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJydGNwVHJhbnNwb3J0XCIse2dldDpmdW5jdGlvbigpe0wuZGVidWcoXCJSVENSdHBTZW5kZXIucnRjcFRyYW5zcG9ydCBnZXR0ZXI6IE5vdCBpbXBsZW1lbnRlZFwiKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcIlJUQ1J0cFNlbmRlci50cmFjayBUcmFuc2NlaXZlcj1cIisoYz9jLmlkOlwiXCIpK1wiKVwiKSxhfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRyYW5zcG9ydFwiLHtnZXQ6ZnVuY3Rpb24oKXtMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLnRyYW5zcG9ydCBnZXR0ZXI6IE5vdCBpbXBsZW1lbnRlZFwiKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5kZWJ1ZyhcIlJUQ1J0cFNlbmRlci5pZDpcIitzKSxzfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByb3h5U3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMuc2V0VHJhY2s9ZnVuY3Rpb24oZSx0KXthPWUsbz10fSx0aGlzLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKCl7YT9yPyhqLnNlbmQoe2NtZDpcInJlbW92ZVRyYWNrXCIsdHJhbnNjZWl2ZXJJZDpjP2MuaWQ6XCJcIixzZW5kZXJJZDpzfSxyLmlkKSxhPWQ9bnVsbCk6TC5lcnJvcihcIlJUQ1J0cFNlbmRlci5yZW1vdmVUcmFjazogaW52YWxpZCBwZWVyIG9iamVjdC5cIik6TC5lcnJvcihcIlJUQ1J0cFNlbmRlci5yZW1vdmVUcmFjazogdHJhY2sgaXMgYWxyZWFkeSByZW1vdmVkLlwiKX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7aWYocilpZihlKXtpZihjKWUuaWQ/cz1lLmlkOkwuZXJyb3IoXCJSVENSdHBTZW5kZXIudXBkYXRlIGludmFsaWQgaWRcIik7ZWxzZSBpZihzIT1lLmlkfHwhZClyZXR1cm4gdm9pZCBMLmVycm9yKFwiUlRDUnRwU2VuZGVyLnVwZGF0ZSBJbnZhbGlkIHN0YXRlIGRldGVjdGVkLCBzZWxmID0gXCIrSlNPTi5zdHJpbmdpZnkoaSkpO2UudHJhY2smJmEmJmEuX3VwZGF0ZShlLnRyYWNrKSxlLnBhcmFtZXRlcnMmJmQmJmQudXBkYXRlKGUucGFyYW1ldGVycyksdD12fWVsc2UgTC5lcnJvcihcIlJUQ1J0cFNlbmRlci51cGRhdGU6IGludmFsaWQgc2VuZGVyIG9iamVjdC5cIik7ZWxzZSBMLmVycm9yKFwiUlRDUnRwU2VuZGVyLnVwZGF0ZTogaW52YWxpZCBwZWVyIG9iamVjdC5cIil9LHRoaXMuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiBMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLmdldFBhcmFtZXRlcnNcIikscj8odD09PWwmJkwud2FybihcIlJUQ1J0cFNlbmRlci5nZXRQYXJhbWV0ZXJzIHdpdGhvdXQgcGVlciwgdXNlIGNhY2hlZCB2YWx1ZSBhbmQgdGhlIGJlaGF2aW9yIHdpbGwgYmUgdW5kZWZpbmVkLlwiKSxkKTooTC5lcnJvcihcIlJUQ1J0cFNlbmRlci5nZXRQYXJhbWV0ZXJzOiBpbnZhbGlkIHBlZXIgb2JqZWN0LlwiKSxudWxsKX0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLnNldFBhcmFtZXRlcnNcIiksbmV3IFByb21pc2UoZnVuY3Rpb24obixpKXtyP2ouc2VuZCh7Y21kOlwic2VuZGVyQ21kXCIsc2VuZGVyQ21kOmYsaGludDpcInNldFBhcmFtZXRlclwiLHRyYW5zY2VpdmVySWQ6Yz9jLmlkOlwiXCIsc2VuZGVySWQ6cyxwYXJhbWV0ZXJzOmUubW9kaWZpZWRWYWx1ZXMoKX0sci5pZCxmdW5jdGlvbihlKXt2YXIgdDt2b2lkIDA9PT1lLmVycm9yPyh0PUFycmF5LmlzQXJyYXkoZS5zZW5kZXJzKSYmMDxlLnNlbmRlcnMubGVuZ3RoP2Uuc2VuZGVyc1swXTpudWxsKSYmdC5pZD09cz8oZC51cGRhdGUodC5wYXJhbWV0ZXJzKSxuKCkpOihMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLnNldFBhcmFtZXRlcnMgaW52YWlsZCByZXNwb25zZS5cIiksdD1uZXcgRE9NRXhjZXB0aW9uKFwic2V0UGFyYW1ldGVycyBmYWlsZWRcIixcIk9wZXJhdGlvbkVycm9yXCIpLGkodCkpOmkoZS5lcnJvcil9KTppKG5ldyBET01FeGNlcHRpb24oXCJSVENSdHBTZW5kZXIuc2V0UGFyYW1ldGVyczogaW52YWxpZCBwZWVyIG9iamVjdFwiLFwiT3BlcmF0aW9uRXJyb3JcIikpfSl9LHRoaXMuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLmdldFN0YXRzOiBOb3QgaW1wbGVtZW50ZWRcIil9LHRoaXMucmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBMLmRlYnVnKFwiUlRDUnRwU2VuZGVyLnJlcGxhY2VUcmFja1wiKSxuZXcgUHJvbWlzZShmdW5jdGlvbih0LG4pe3I/KGouc2VuZCh7Y21kOlwic2VuZGVyQ21kXCIsc2VuZGVyQ21kOmcsaGludDpcInJlcGxhY2VUcmFja1wiLHRyYW5zY2VpdmVySWQ6Yz9jLmlkOlwiXCIsc2VuZGVySWQ6cyxzaWQ6bz9vLmlkOlwiXCIsdHJhY2tJZDphP2EuaWQ6XCJcIixuZXdUcmFja0lkOmU/ZS5pZDpcIlwifSxyLmlkLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuZXJyb3I/dCgpOm4oZS5lcnJvcil9KSxhPWUsZD1uZXcgTmUoaSkpOm4obmV3IERPTUV4Y2VwdGlvbihcIlJUQ1J0cFNlbmRlci5yZXBsYWNlVHJhY2sgbm8gcGVlclwiLFwiT3BlcmF0aW9uRXJyb3JcIikpfSl9fSksTmU9KEouZ2V0Q2FwYWJpbGl0aWVzPWZ1bmN0aW9uKGUpe2lmKEwuaW5mbyhcIlJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMgZm9yIGtpbmQgPSBcIitlKSxOLnNlbmRlciYmTi5zZW5kZXJbZV0pcmV0dXJuIE4uc2VuZGVyW2VdfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QmJnQucHJveHlTdGF0ZSE9bD9MLmRlYnVnKFwiUlRDUnRwU2VuZFBhcmFtZXRlcnMuXCIrZSk6TC53YXJuKFwiUlRDUnRwU2VuZFBhcmFtZXRlcnMuXCIrZStcIjogc2VuZGVyIGlzIHBlbmRpbmcuXCIpfXZhciBuLGkscixvPVtdLGE9MDtvWzBdPW5ldyB4ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRlZ3JhZGF0aW9uUHJlZmVyZW5jZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZShcImRlZ3JhZGF0aW9uUHJlZmVyZW5jZSBnZXR0ZXJcIiksbn0sc2V0OmZ1bmN0aW9uKGUpe249ZSxhfD1zfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImVuY29kaW5nc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZShcImVuY29kaW5ncyBnZXR0ZXJcIiksb30sc2V0OmZ1bmN0aW9uKGUpe289ZSxhfD1jfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInByaW9yaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlKFwicHJpb3JpdHkgZ2V0dGVyXCIpLGl9LHNldDpmdW5jdGlvbihlKXtpPWUsYXw9WH0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0cmFuc2FjdGlvbklkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlKFwidHJhbnNhY3Rpb25JZCBnZXR0ZXJcIikscn0sc2V0OmZ1bmN0aW9uKGUpe3I9ZSxhfD1LfSxjb25maWd1cmFibGU6ITB9KSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXswPT0oYSZzKSYmKG49ZS5kZWdyYWRhdGlvblByZWZlcmVuY2UpLDA9PShhJmMpJiZlLmVuY29kaW5ncyYmKG89W10sZS5lbmNvZGluZ3MuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgeGU7dC51cGRhdGUoZSksby5wdXNoKHQpfSkpLDA9PShhJlgpJiYoaT1lLnByaW9yaXR5KSwwPT0oYSZLKSYmKHI9ZS50cmFuc2FjdGlvbklkKX0sdGhpcy5tb2RpZmllZFZhbHVlcz1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9KChhJnN8fHZvaWQgMCE9PW4pJiYoZS5kZWdyYWRhdGlvblByZWZlcmVuY2U9biksW10pO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1lLm1vZGlmaWVkVmFsdWVzKCk7T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZ0LnB1c2goZSl9KSx0Lmxlbmd0aCYmKGUuZW5jb2RpbmdzPXQpLChhJlh8fHZvaWQgMCE9PWkpJiYoZS5wcmlvcml0eT1pKSxhPTAsZX19KSx4ZT1mdW5jdGlvbigpe3ZhciB0LG4saSxyLG8sYSxzLGQ9ITAsYz0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiYWN0aXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oZSl7ZD1lLGN8PXUuUlBGX0FDVElWRX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb2RlY1BheWxvYWRUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImR0eFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKGUpe2R0eD1lLGN8PXUuUlBGX0RUWH0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtYXhCaXRyYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpfSxzZXQ6ZnVuY3Rpb24oZSl7aT1lLGN8PXUuUlBGX01BWEJJVFJBVEV9LGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWF4RnJhbWVyYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24oZSl7cj1lLGN8PXUuUlBGX01BWEZSQU1FUkFURX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwdGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sc2V0OmZ1bmN0aW9uKGUpe289ZSxjfD11LlJQRl9QVElNRX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldDpmdW5jdGlvbihlKXthPWUsY3w9dS5SUEZfUklEfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjYWxlUmVzb2x1dGlvbkRvd25CeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUpe3M9ZSxjfD11LlJQRl9TQ0FMRV9SRVNPTFVUSU9OX0RPV05CWX0sY29uZmlndXJhYmxlOiEwfSksdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7MD09KGMmdS5SUEZfQUNUSVZFKSYmKGQ9ZS5hY3RpdmUpLDA9PShjJnUuUlBGX0NPREVQQVlMT0FEVFlQRSkmJih0PWUuY29kZWNQYXlsb2FkVHlwZSksMD09KGMmdS5SUEZfRFRYKSYmKG49ZS5kdHgpLDA9PShjJnUuUlBGX01BWEJJVFJBVEUpJiYoaT1lLm1heEJpdHJhdGUpLDA9PShjJnUuUlBGX01BWEZSQU1FUkFURSkmJihyPWUubWF4RnJhbWVyYXRlKSwwPT0oYyZ1LlJQRl9QVElNRV8pJiYobz1lLnB0aW1lKSwwPT0oYyZ1LlJQRl9SSUQpJiYoYT1lLnJpZCksMD09KGMmdS5SUEZfU0NBTEVfUkVTT0xVVElPTl9ET1dOQlkpJiYocz1lLnNjYWxlUmVzb2x1dGlvbkRvd25CeSl9LHRoaXMubW9kaWZpZWRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4oYyZ1LlJQRl9BQ1RJVkV8fHZvaWQgMCE9PWQpJiYoZS5hY3RpdmU9ZCksKGMmdS5SUEZfQ09ERVBBWUxPQURUWVBFfHx2b2lkIDAhPT10KSYmKGUuY29kZWNQYXlsb2FkVHlwZT10KSwoYyZ1LlJQRl9EVFh8fHZvaWQgMCE9PW4pJiYoZS5kdHg9biksKGMmdS5SUEZfTUFYQklUUkFURXx8dm9pZCAwIT09aSkmJihlLm1heEJpdHJhdGU9aSksKGMmdS5SUEZfTUFYRlJBTUVSQVRFfHx2b2lkIDAhPT1yKSYmKGUubWF4RnJhbWVyYXRlPXIpLChjJnUuUlBGX1BUSU1FfHx2b2lkIDAhPT1vKSYmKGUucHRpbWU9byksKGMmdS5SUEZfUklEfHx2b2lkIDAhPT1hKSYmKGUucmlkPWEpLChjJnUuUlBGX1NDQUxFX1JFU09MVVRJT05fRE9XTkJZfHx2b2lkIDAhPT1zKSYmKGUuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PXMpLGM9MCxlfX0sTGU9e01vbml0b3I6MSxXaW5kb3c6MixDYW1lcmE6M30sV2U9XCJWRElfTW9uXCIsaD17Q1JFQVRFOjEsU0VORDoyLFNFVF9CVUZGRVJfQU1PVU5UX0xPV19USFJFU0hPTEQ6MyxDTE9TRTo0fTtyZXR1cm57aW5pdFNESzpmdW5jdGlvbihlLHQsbixpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXJldHVybiBMLmVycm9yKFwiaW5pdFNESygpOiBUaGUgZXZlbnQgY2FsbGJhY2sgZnVuY3Rpb24gaXMgbm90IHZhbGlkLlwiKSwhMTtMLmluZm8oXCJzZXRWTUV2ZW50Q2FsbGJhY2soKTogU2V0IGV2ZW50IGNhbGxiYWNrXCIpLENlPW4sZGU9dHx8XCJcIixyPWUsTC5pbmZvKFwiaW5pdCgpOiBWTXdhcmUgVkRJIHNoaW0gdmVyc2lvbiA9IFwiK0UpLGkmJihSZT1pKTtuPTE7cmV0dXJuIGkmJiFpc05hTihpLm51bU9mQ2FsbENvbmZpZ3MpJiYobj10PSh0PTA8KHQ9cGFyc2VJbnQoTnVtYmVyKGkubnVtT2ZDYWxsQ29uZmlncykpKT90OjEpPD0zP3Q6MyksUmUubnVtT2ZDYWxsQ29uZmlncz1uLFwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5nZXRXaW5kb3dSZWZlcmVuY2U/d2luZG93LmdldFdpbmRvd1JlZmVyZW5jZSgpLnRoZW4oZnVuY3Rpb24oZSl7TC5pbmZvKFwiaW5pdCgpOiBIV05EOiBcIitlKSxNLmh3bmQ9ZSwoaj1uZXcgamUpLmluaXQoKX0sZnVuY3Rpb24oZSl7TC5lcnJvcihcImluaXQoKTogRmFpbGVkIHRvIHJldHJpZXZlIHdpbmRvdyBoYW5kbGU6IFwiK2UubWVzc2FnZSl9KTooTC5pbmZvKFwiaW5pdCgpIHdlYmFwcCB3aXRoIEhXTkQ6IDBcIiksTS5od25kPUksKGo9bmV3IGplKS5pbml0KCkpLCEwfSxnZXRDYWxsQ29uZmlnOmZ1bmN0aW9uKGUpe3JldHVybiBUZVtlXX0sbmV3UGVlckNvbm5lY3Rpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5uZXdQZWVyQ29ubmVjdGlvbkV4KGUsdCl9LG5ld1BlZXJDb25uZWN0aW9uRXg6ZnVuY3Rpb24oZSx0LG4pe2lmKGope2lmKGouaXNTb2NrZXRDb25uZWN0ZWQoKSl7dmFyIGk9bmV3IEllKGUpO2lmKEYuc2VuZGVyKWkuY3JlYXRlT2ZmZXI9aS5jcmVhdGVPZmZlclYxLGkuY3JlYXRlQW5zd2VyPWkuY3JlYXRlQW5zd2VyVjEsaS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1pLnNldFJlbW90ZURlc2NyaXB0aW9uVjEsaS5zZXRMb2NhbERlc2NyaXB0aW9uPWkuc2V0TG9jYWxEZXNjcmlwdGlvblYxLGkuYWRkSWNlQ2FuZGlkYXRlPWkuYWRkSWNlQ2FuZGlkYXRlVjEsaS5nZXRTdGF0cz1pLmdldFN0YXRzVjEsaS5hZGRUcmFjaz1pLmFkZFRyYWNrSW1wbFYxLGkucmVtb3ZlVHJhY2s9aS5yZW1vdmVUcmFja0ltcGxWMSxpLmdldFNlbmRlcnM9aS5nZXRTZW5kZXJzSW1wbFYxLGkuZ2V0VHJhbnNjZWl2ZXJzPWkuZ2V0VHJhbmNlaXZlcnNJbXBsVjEsaS5hZGRUcmFuc2NlaXZlcj1pLmFkZFRyYW5zY2VpdmVySW1wbFYxLEYucGNDYXBhYmlsaXR5Jm5lJiYoaS5zZXRDb25maWd1cmF0aW9uPWkuc2V0Q29uZmlndXJhdGlvbkltcGwpLEYucGNDYXBhYmlsaXR5JnRlJiYoaS5yZXN0YXJ0SWNlPWkucmVzdGFydEljZUltcGwpO2Vsc2V7aWYoaS5pc1VuaWZpZWRQbGFuKCkpdGhyb3cgTC5lcnJvcihcImNyZWF0ZVBlZXJDb25uZWN0aW9uIGZhaWxlZCBkdWUgdG8gZW5kcG9pbnQgZG9lcyBub3Qgc3VwcG9ydCB1bmlmaWVkIHBsYW5cIiksXCJlbmRwb2ludCBkb2VzIG5vdCBzdXBwb3J0IHVuaWZpZWQgcGxhblwiO2kuY3JlYXRlT2ZmZXI9aS5jcmVhdGVPZmZlclYwLGkuY3JlYXRlQW5zd2VyPWkuY3JlYXRlQW5zd2VyVjAsaS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1pLnNldFJlbW90ZURlc2NyaXB0aW9uVjAsaS5zZXRMb2NhbERlc2NyaXB0aW9uPWkuc2V0TG9jYWxEZXNjcmlwdGlvblYwLGkuYWRkSWNlQ2FuZGlkYXRlPWkuYWRkSWNlQ2FuZGlkYXRlVjAsaS5nZXRTdGF0cz1pLmdldFN0YXRzVjB9cmV0dXJuIGkuY3JlYXRlRGF0YUNoYW5uZWw9aS5jcmVhdGVEYXRhQ2hhbm5lbEltcGxWMSxPW2kuaWRdPWksai5zZW5kKHtjbWQ6XCJjcmVhdGVQZWVyQ29ubmVjdGlvblwiLGFyZzE6ZSxhcmcyOnQsY2FsbENvbmZpZzpufSxpLmlkKSxMLmRlYnVnKFwiY3JlYXRlUGVlckNvbm5lY3Rpb24oKTogQ3JlYXRlIHBlZXI6IFwiK2kuaWQpLGl9TC5lcnJvcihcImNyZWF0ZVBlZXJDb25uZWN0aW9uOiBXZWJTb2NrZXQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZVwiKX1lbHNlIEwuZXJyb3IoXCJjcmVhdGVQZWVyQ29ubmVjdGlvbjogZ1JlcXVlc3RNYW5hZ2VyIGlzIG5vdCBjcmVhdGVkIHlldC5cIil9LG5ld01lZGlhU3RyZWFtOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVO3JldHVybiB0LmNyZWF0ZU1lZGlhU3RyZWFtKGUpLHR9LGdldERpc3BsYXlNZWRpYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXREaXNwbGF5TWVkaWFFeChlKX0sZ2V0RGlzcGxheU1lZGlhRXg6ZnVuY3Rpb24oZSx0KXtpZihqLmlzU29ja2V0Q29ubmVjdGVkKCkpcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4saSl7TC5kZWJ1ZyhcImdldERpc3BsYXlNZWRpYVNoaW0oKTogQ29uc3RyYWludHMgPSBcIitKU09OLnN0cmluZ2lmeShlKSksai5zZW5kKHtjbWQ6XCJnZXREaXNwbGF5TWVkaWFTaGltXCIsY29uc3RyYWludHM6ZSxjYWxsQ29uZmlnOnR9LC0xLGZ1bmN0aW9uKGUpe3ZhciB0O3ZvaWQgMD09PWUuZXJyb3I/KCh0PW5ldyBVKS5fY3JlYXRlKGUuc3RyZWFtLHApLEwuZGVidWcoXCJnZXREaXNwbGF5TWVkaWFTaGltKCk6IE1lZGlhID1cIit0LmlkKSxuKHQpKTppKGUuZXJyb3IpfSl9KTtMLmVycm9yKFwiZ2V0RGlzcGxheU1lZGlhU2hpbTogV2ViU29ja2V0IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGVcIil9LGdldFVzZXJNZWRpYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRVc2VyTWVkaWFFeChlKX0sZ2V0VXNlck1lZGlhRXg6ZnVuY3Rpb24oZSx0KXtpZighai5pc1NvY2tldENvbm5lY3RlZCgpKXJldHVybiBQcm9taXNlLnJlamVjdCh7bmFtZTpcIk5vdEZvdW5kRXJyb3JcIixtZXNzYWdlOlwiV2ViU29ja2V0IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGVcIn0pO2lmKHZvaWQgMCE9PWUudmlkZW8mJnZvaWQgMCE9PWUudmlkZW8ubWFuZGF0b3J5JiZ2b2lkIDAhPT1lLnZpZGVvLm1hbmRhdG9yeS5zb3VyY2VJZCYmdm9pZCAwIT09eWVbZS52aWRlby5tYW5kYXRvcnkuc291cmNlSWRdKXt2YXIgbj0wLGk9MCxyPTAsbz0hMSxhPWUudmlkZW8ubWFuZGF0b3J5LnNvdXJjZUlkLHM9ZS52aWRlby5tYW5kYXRvcnkubWluV2lkdGgsZD1lLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aCxjPWUudmlkZW8ubWFuZGF0b3J5Lm1pbkhlaWdodCx1PWUudmlkZW8ubWFuZGF0b3J5Lm1heEhlaWdodCxsPWUudmlkZW8ubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZSxoPXMsZj1jLGc9e3dpZHRoOjAsaGVpZ2h0OjB9LHY9e3dpZHRoOjAsaGVpZ2h0OjB9LGE9KHllW2FdLmZvckVhY2goZnVuY3Rpb24oZSl7KHZvaWQgMD09PXN8fGUud2lkdGg+PXMpJiYodm9pZCAwPT09ZHx8ZS53aWR0aDw9ZCkmJih2b2lkIDA9PT1jfHxlLmhlaWdodD49YykmJih2b2lkIDA9PT11fHxlLmhlaWdodDw9dSkmJih2b2lkIDA9PT1sfHxlLmZwcz49bCk/KGUud2lkdGgqZS5oZWlnaHQ+Zy53aWR0aCpnLmhlaWdodCYmKGc9ZSksaCYmZiYmaCplLmhlaWdodD09ZiplLndpZHRoJiZlLndpZHRoKmUuaGVpZ2h0PnYud2lkdGgqdi5oZWlnaHQmJih2PWUpKToodm9pZCAwIT09cyYmZS53aWR0aD49c3x8dm9pZCAwIT09ZCYmZS53aWR0aD49ZCkmJihvPSEwKX0pLDA8di53aWR0aD92OmcpO2lmKGEmJihuPWEud2lkdGgsaT1hLmhlaWdodCxyPWEuZnBzKSwwPG4mJjA8aSYmMDxyKUwuZGVidWcoXCJDb25zdHJhaW50czogXCIrSlNPTi5zdHJpbmdpZnkoZSkrXCIgPT0+IFwiK24rXCJ4XCIraStcIiBAXCIrcitcIjpcIisobHx8XCJ1bmRlZmluZWRcIikpLGwmJihlLnZpZGVvLm1hbmRhdG9yeS5vcmlnRnBzPWwpLGUudmlkZW8ubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1yLGUudmlkZW8ubWFuZGF0b3J5Lm1heFdpZHRoPWUudmlkZW8ubWFuZGF0b3J5Lm1pbldpZHRoPW4sZS52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0PWUudmlkZW8ubWFuZGF0b3J5Lm1pbkhlaWdodD1pO2Vsc2V7aWYoIW8pcmV0dXJuIEwuZGVidWcoXCJnZXRVc2VyTWVkaWFTaGltKCk6IGNvbnN0cmFpbnRzIGRvZXMgbm90IG1hdGNoLlwiKSx2b2lkIHJlamVjdCh7bmFtZTpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCIsbWVzc2FnZTpudWxsfSk7TC5kZWJ1ZyhcImdldFVzZXJNZWRpYVNoaW0oKTogbG93IHJlc29sdXRpb24gdmlkZW8gZm9yd2FyZCB0byBjbGllbnQuXCIpfX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxyKXtqLnNlbmQoe2NtZDpcImdldFVzZXJNZWRpYVNoaW1cIixjb25zdHJhaW50czplLGNhbGxDb25maWc6dH0sLTEsZnVuY3Rpb24oZSl7dmFyIHQsbjt2b2lkIDA9PT1lLmVycm9yPyh0PW51bGwsdm9pZCAwIT09ZS5jbG9uZSYmKCh0PW5ldyBVKS5fY3JlYXRlKGUuY2xvbmUscCksTC5kZWJ1ZyhcIk1lZGlhIGNsb25lZDpcIit0LmlkKSksKG49bmV3IFUpLl9jcmVhdGUoZS5zdHJlYW0scCksbi5jbG9uZWQ9dCxMLmRlYnVnKFwiTWVkaWE6XCIrbi5pZCksaShuKSk6KG5ldyBET01FeGNlcHRpb24oXCJBYm9ydFwiLFwiQWJvcnRFcnJvclwiKSxyKGUuZXJyb3IpKX0pfSl9LGVudW1lcmF0ZURldmljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gai5pc1NvY2tldENvbm5lY3RlZCgpP25ldyBQcm9taXNlKGZ1bmN0aW9uKGUsbil7ai5zZW5kKHtjbWQ6XCJlbnVtRGV2aWNlc1wifSwtMSxmdW5jdGlvbih0KXt2b2lkIDA9PT10LmVycm9yPyhlKHQuZGV2aWNlcyksdm9pZCAwIT09dC5jYXBzJiZPYmplY3Qua2V5cyh0LmNhcHMpLmZvckVhY2goZnVuY3Rpb24oZSl7eWVbZV09dC5jYXBzW2VdfSkpOm4oXCJlbnVtRGV2aWNlcyBjYW5jZWxsZWQuXCIpfSl9KTooTC5pbmZvKFwiZW51bWVyYXRlRGV2aWNlc1NoaW0oKTogVXNlIGZhbGxiYWNrIG1vZGUuXCIpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7YmUuY2FsbChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSksai5pc1NvY2tldENvbm5lY3RlZCgpJiYoTC5pbmZvKFwiZW51bWVyYXRlRGV2aWNlc1NoaW0oKTogW1Jlc29sdmVdIEZhbGxiYWNrIGNhbmNlbGxlZC4gSW52b2tlIGRldmljZSBjaGFuZ2UuXCIpLGouaW52b2tlRGV2aWNlQ2hhbmdlKCkpfSxmdW5jdGlvbihlKXtqLmlzU29ja2V0Q29ubmVjdGVkKCk/KEwuaW5mbyhcImVudW1lcmF0ZURldmljZXNTaGltKCk6IFtSZWplY3RdIEZhbGxiYWNrIGNhbmNlbGxlZC4gSW52b2tlIGRldmljZSBjaGFuZ2UuXCIpLHQoW10pLGouaW52b2tlRGV2aWNlQ2hhbmdlKCkpOm4oZSl9KX0pKX0sb25WaWRlb0NyZWF0ZWQ6ZnVuY3Rpb24oZSx0KXtpZihqLmlzU29ja2V0Q29ubmVjdGVkKCkpe0wuZGVidWcoXCJuZXdWaWRlb0VsZW1lbnQ6IE5ldyB2aWRlbyBlbGVtZW50IGZyb20gYXBwLlwiKTtmb3IodmFyIG49T2JqZWN0LmtleXMoRCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKERbcl0uX3Jhd1ZpZGVvPT09ZSlyZXR1cm4gdm9pZCBMLmRlYnVnKFwibmV3VmlkZW9FbGVtZW50KCk6IFZpZGVvIGFscmVhZHkgZm91bmRcIil9dD1uZXcgTWUoZSx0KTtEW3QuX2lkXT10LGUuX2NvbnRleHQ9dH1lbHNlIEwuZXJyb3IoXCJuZXdWaWRlb0VsZW1lbnQ6IFdlYlNvY2tldCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlXCIpfSxvbkF1ZGlvQ3JlYXRlZDpmdW5jdGlvbihlLHQpe2lmKGouaXNTb2NrZXRDb25uZWN0ZWQoKSl7TC5kZWJ1ZyhcIm5ld0F1ZGlvRWxlbWVudCgpOiBBIG5ldyBhdWRpbyBlbGVtZW50IGNyZWF0ZWQuXCIpO2Zvcih2YXIgbj1PYmplY3Qua2V5cyhTZSksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKFNlW3JdLl9yYXdBdWRpbz09PWUpcmV0dXJuIHZvaWQgTC5kZWJ1ZyhcIm5ld0F1ZGlvRWxlbWVudCgpOiBBdWRpbyBhbHJlYWR5IGZvdW5kXCIpfXQ9bmV3IERlKGUsdCk7U2VbdC5faWRdPXQsZS5fY29udGV4dD10fWVsc2UgTC5lcnJvcihcIm5ld0F1ZGlvRWxlbWVudDogV2ViU29ja2V0IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGVcIil9LG9uVmlkZW9EaXNwb3NlZDpmdW5jdGlvbihlLHQpe2UmJmUuX2NvbnRleHQmJmUuX2NvbnRleHQuZGlzcG9zZVZpZGVvKCk7ZT1lJiZlLl9jb250ZXh0P2UuX2NvbnRleHQuX2lkOnZvaWQgMDtMLmluZm8oXCJkaXNwb3NlRWxlbWVudCB2aWRlbyBpZD1cIitlKX0sb25BdWRpb0Rpc3Bvc2VkOmZ1bmN0aW9uKGUsdCl7ZSYmZS5fY29udGV4dCYmZS5fY29udGV4dC5faWQ7TC5pbmZvKFwiZGlzcG9zZUVsZW1lbnQgYXVkaW8gaWQ9XCIrX2lkKX0scGxheVJpbmd0b25lOmZ1bmN0aW9uKGUscix0KXt2YXIgbyxhO2ouaXNTb2NrZXRDb25uZWN0ZWQoKT9yPyhlLEwuZGVidWcoXCJwbGF5Tm90aWZ5QXVkaW8oKTogaWQgPSBcIitlK1wiIHNyYyA9IFwiK3IrXCIgbG9vcCA9IFwiK3QpLHZvaWQgMD09PShvPWlbZV0pJiYobz1sZSsrLGlbZV09byksai5zZW5kKHtjbWQ6XCJub3RpZnlBdWRpb1wiLGFjdGlvbjpcInBsYXlcIixzcmM6cixhdWRpZDpvLGxvb3A6dH0sLTEpLChhPW5ldyBYTUxIdHRwUmVxdWVzdCkub3BlbihcIkdFVFwiLHIsITApLGEucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixhLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBlLHQsbixpO2EucmVhZHlTdGF0ZT09WE1MSHR0cFJlcXVlc3QuRE9ORSYmMjAwPT1hLnN0YXR1cz8oZT0xNithLnJlc3BvbnNlLmJ5dGVMZW5ndGgsKHQ9bmV3IFVpbnQ4QXJyYXkoMTYpKVswXT02NSx0WzFdPTc4LHRbMl09ODQsdFszXT03MCx0WzRdPWU+PjI0JjI1NSx0WzVdPWU+PjE2JjI1NSx0WzZdPWU+PjgmMjU1LHRbN109MjU1JmUsdFs4XT1vPj4yNCYyNTUsdFs5XT1vPj4xNiYyNTUsdFsxMF09bz4+OCYyNTUsdFsxMV09MjU1Jm8sbj1uZXcgVWludDhBcnJheShlKSxpPW5ldyBVaW50OEFycmF5KGEucmVzcG9uc2UpLG4uc2V0KHQsMCksbi5zZXQoaSwxNiksai5zZW5kQmluYXJ5KG4pLEwuZGVidWcoXCJvbnJlYWR5c3RhdGVjaGFuZ2UoKTogU2VuZCBcIitlK1wiYnl0ZXNcIikpOkwuZGVidWcoXCJvbnJlYWR5c3RhdGVjaGFuZ2UoKTogRG93bmxvYWQgXCIrcitcIiBzdGF0dXMgPSBcIithLnN0YXR1cyl9LGEuc2VuZCgpKTpMLmVycm9yKFwicGxheU5vdGlmeUF1ZGlvKCk6IHNyYyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWRcIik6TC5lcnJvcihcInBsYXlOb3RpZnlBdWRpbygpOiBXZWJTb2NrZXQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZVwiKX0scGF1c2VSaW5ndG9uZTpmdW5jdGlvbihlKXt2YXIgdDtqLmlzU29ja2V0Q29ubmVjdGVkKCk/KEwuZGVidWcoXCJwYXVzZU5vdGlmeUF1ZGlvKCk6IGlkID0gXCIrZSksdm9pZCAwPT09KHQ9aVtlXSk/TC53YXJuKFwicGF1c2VOb3RpZnlBdWRpbygpOiBpZCA9IFwiK2UrXCIgZGlkIG5vdCBwbGF5IHlldC5cIik6ai5zZW5kKHtjbWQ6XCJub3RpZnlBdWRpb1wiLGFjdGlvbjpcInBhdXNlXCIsYXVkaWQ6dH0sLTEpKTpMLmVycm9yKFwicGxheU5vdGlmeUF1ZGlvOiBXZWJTb2NrZXQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZVwiKX0sc2V0VmlkZW9DbGlwUmVnaW9uOmZ1bmN0aW9uKGUsdCxuKXtMLmRlYnVnKFwic2V0VmlkZW9DbGlwUmVnaW9uOiBcIitlK1wiLCBcIitKU09OLnN0cmluZ2lmeSh0KSksai5pc1NvY2tldENvbm5lY3RlZCgpPyhlPXtjbWQ6XCJjdXN0b21DbGlwUmVjdFwiLG9wOmU/MDoxLGNsaXA6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSl9LCh0PV9lKG4pKSYmKHNlKG4pLGUuZnJhbWU9dCksai5zZW5kKGUsLTEpKTpMLmVycm9yKFwic2V0VmlkZW9DbGlwUmVnaW9uOiBXZWJTb2NrZXQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZS5cIil9LGdldFJlY2VpdmVyQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGUpe3JldHVybiBMLmRlYnVnKFwiZ2V0Q2FwYWJpbGl0aWVzU2hpbVwiKSx6LmdldENhcGFiaWxpdGllcyhlKX0sc2V0U2lua0lkOmZ1bmN0aW9uKGUsdCl7dmFyIG47ai5pc1NvY2tldENvbm5lY3RlZCgpPyh2b2lkIDA9PT0obj1pW2VdKSYmKG49bGUrKyxpW2VdPW4pLEwuZGVidWcoXCJzZXRTaW5rSWQgaWQgPSBcIituK1wiIHNyY0lkID0gXCIrZStcIiBWYWx1ZSA9IFwiK3QpLGouc2VuZCh7Y21kOlwic2V0U2lua0lkXCIsZGV2aWNlSWQ6dCxhdWRpb0lkOm4sc3JjSWQ6ZSxjb250ZXh0OlwiZ2xvYmFsXCJ9LC0xLGZ1bmN0aW9uKGUpe30pKTpMLmVycm9yKFwic2V0U2lua0lkOiBXZWJTb2NrZXQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZVwiKX0sc2V0UHJpbWFyeVNpbmtJZDpmdW5jdGlvbihlKXtMLmRlYnVnKFwic2V0RGVmYXVsdFNpbmtJZCA9IFwiK2UpLGouaXNTb2NrZXRDb25uZWN0ZWQoKT9qLnNlbmQoe2NtZDpcInNldERlZmF1bHRTaW5rSWRcIixkZXZpY2VJZDplfSwtMSk6TC5lcnJvcihcInNldERlZmF1bHRTaW5rSWQ6IFdlYlNvY2tldCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlXCIpfSxpc0ZlYXR1cmVTdXBwb3J0ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGU/KEwuZGVidWcoXCJpc0ZlYXR1cmVTdXBwb3J0ZWQoKTogSW52YWxpZCBmZWF0dXJlIHBhcmFtZXRlclwiKSwhMSk6ISghanx8ai5zdGF0ZSE9PV8pJiYoXCJkYXRhY2hhbm5lbFwiPT09ZT9GLmRhdGFjaGFubmVsPzE9PUYuZGF0YWNoYW5uZWx8fChMLmRlYnVnKFwiaXNGZWF0dXJlU3VwcG9ydGVkKCk6IGRpc2FibGUgZGF0YWNoYW5uZWwgYnkgc2V0dGluZ3MuXCIpLCExKTooTC5kZWJ1ZyhcImlzRmVhdHVyZVN1cHBvcnRlZCgpOiBkaXNhYmxlIGRhdGFjaGFubmVsIGZvciBvbGQgY2xpZW50LlwiKSwhMSk6KHQ9ITEsKHQ9QXJyYXkuaXNBcnJheShBKSYmLTEhPUEuaW5kZXhPZihlKT8hMDp0KXx8TC5kZWJ1ZyhcImlzRmVhdHVyZVN1cHBvcnRlZCgpOiBJbnB1dCBmZWF0dXJlIHN0cmluZyBub3Qgc3VwcG9ydGVkID0gXCIrZSksdCkpfSxnZXRTY3JlZW5zSW5mbzpmdW5jdGlvbigpe2lmKEwuZGVidWcoXCJnZXRTY3JlZW5zQXN5bmMgZ2V0IGNhbGxlZC5cIiksai5pc1NvY2tldENvbm5lY3RlZCgpKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihmLGcpe3ZhciBlPTA7Ri5nZXRTY3JlZW5zJiZGLmdldFNjcmVlbnMmJCYmKGU9MSksai5zZW5kKHtjbWQ6XCJnZXRTY3JlZW5zXCIsYm91bmRzOmV9LC0xLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpZihWPXQ9ZSk7ZWxzZSBpZihlLnNjcmVlbnMmJkFycmF5LmlzQXJyYXkoZS5zY3JlZW5zKSl7Zm9yKHZhciB0PVtdLG49MDtuPGUuc2NyZWVucy5sZW5ndGg7bisrKXt2YXIgaT1lLnNjcmVlbnNbbl0udyxyPWUuc2NyZWVuc1tuXS5oLG89ZS5zY3JlZW5zW25dLmlkLGE9ZS5zY3JlZW5zW25dLmJvdW5kcyxzPWUuc2NyZWVuc1tuXS5pbWFnZURhdGE7aWYoMDxpJiYwPHImJm8mJmEmJnMpe2Zvcih2YXIgZD13aW5kb3cuYXRvYihzKSxjPWQubGVuZ3RoLHU9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGMpLGw9MDtsPGM7bCsrKXVbbF09ZC5jaGFyQ29kZUF0KGwpO3M9bmV3IEltYWdlRGF0YSh1LGksciksaT1uZXcgQWUobyxcIlNjcmVlbiBcIitvLHMsYSk7dC5wdXNoKGkpLEwuZGVidWcoXCJTY3JlZW46XCIrbytcIjogIGltYWdlIHNpemU6XCIrYyl9ZWxzZSBMLmVycm9yKFwiSW52YWxpZCBzY3JlZW4gZGF0YTpcIitKU09OLnN0cmluZ2lmeShlLnNjcmVlbnNbbl0pKX1mKFY9dCl9ZWxzZXt2YXIgaD1lLmVycm9yJiZlLmVycm9yLm1lc3NhZ2U/ZS5lcnJvci5tZXNzYWdlOlwiSW52YWxpZCBnZXRTY3JlZW4gcmVzcG9uc2VcIjtnKG5ldyBET01FeGNlcHRpb24oaCxcIk9wZXJhdGlvbkVycm9yXCIpKX19KX0pO0wuZXJyb3IoXCJnZXRTY3JlZW5zQXN5bmM6IFdlYlNvY2tldCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlXCIpfSxvblNjcmVlblNlbGVjdGVkOmZ1bmN0aW9uKGUpe0wuZGVidWcoXCJzZXRTY3JlZW5TaGFyZVBhbmVsSWQgPSBcIitlK1wiIGZvciBnZXREaXNwbGF5TWVkaWFcIiksai5pc1NvY2tldENvbm5lY3RlZCgpP2ouc2VuZCh7Y21kOlwic2V0U2NyZWVuSWRcIixzY3JuSWQ6ZSxudW1TY3JlZW5zOlYubGVuZ3RofSwtMSk6TC5lcnJvcihcInNldFNjcmVlblNoYXJlUGFuZWxJZDogV2ViU29ja2V0IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGVcIil9LG9uV2luZG93U2Vzc2lvbkNvbm5lY3RlZDpmdW5jdGlvbihlKXtMLmluZm8oXCJjb25uZWN0ZWRTdGF0ZUNoYW5nZWQgY2FsbGVkIFwiK2UpLGomJihqLnN0YXRlPT09XyYmai5zZW5kKHtjbWQ6XCJjb25uZWN0ZWRTdGF0ZUNoYW5nZWRcIixjb25uZWN0aW9uU3RhdGU6ITA9PT1lPzE6MH0sLTEpLCEwPT09ZT8oai5zZW5kVmRpQ2xpZW50RXZlbnRzT25FcnJvcj0hMCxqLnN0YXJ0UG9sbGluZyhqLnNob3J0UG9sbGluZ0ludGVydmFsTXMsai5zaG9ydFBvbGxpbmdUaW1lb3V0LGouc2VuZEV2ZW50cykpOihqLnNlbmRWZGlDbGllbnRFdmVudHNPbkVycm9yPSExLGouaXNIb3Jpem9uUmVnaXN0cnlQcmVzZW50PSExLEwuaW5mbyhcImNvbm5lY3RlZFN0YXRlQ2hhbmdlZCgpOiBpc0hvcml6b25SZWdpc3RyeVByZXNlbnQgZmFsc2VcIiksai5zdG9wUG9sbGluZygpKSl9fX0pOyIsIi8qXHJcbiAqIENvcHlyaWdodCAoYykgMjAxOCBPbW5pc3NhLCBMTEMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIFRoaXMgcHJvZHVjdCBpcyBwcm90ZWN0ZWQgYnkgY29weXJpZ2h0IGFuZCBpbnRlbGxlY3R1YWwgcHJvcGVydHkgbGF3cyBpbiB0aGVcclxuICogVW5pdGVkIFN0YXRlcyBhbmQgb3RoZXIgY291bnRyaWVzIGFzIHdlbGwgYXMgYnkgaW50ZXJuYXRpb25hbCB0cmVhdGllcy5cclxuICogLS0gT21uaXNzYSBSZXN0cmljdGVkXHJcbiAqL1xyXG4vKipcclxuICpcclxuICogSG9yaXpvbldlYlJUQ0V4dGVuc2lvbi5qc1xyXG4gKiBCdWlsZDogMTQxMjIxNDAxMTdcclxuICpcclxuICovXHJcbiFmdW5jdGlvbihuKXsoXCJmdW5jdGlvblwiIT10eXBlb2YgZGVmaW5lfHwhZGVmaW5lLmFtZCkmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4oKTp3aW5kb3cuSG9yaXpvbldlYlJUQ0V4dGVuc2lvbj1uKCl9KGZ1bmN0aW9uKG4sbyl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3QgVD17R0VUX0NMSUVOVF9JRDpcImdldENsaWVudElkXCIsR0VUX1dTU19QT1JUOlwiZ2V0V3NzUG9ydFwiLEdFVF9JTkZPOlwiZ2V0SW5mb1wiLE5PVElGWV9DT05URU5UX1JFQURZOlwibm90aWZ5Q29udGVudFJlYWR5XCIsTk9USUZZX1dJTkRPV19TRVNTSU9OX0NPTk5FQ1RFRDpcIm5vdGlmeVdpbmRvd1Nlc3Npb25Db25uZWN0ZWRcIixQQUdFX1VOTE9BREVEOlwicGFnZVVubG9hZGVkXCIsUE9MTF9DT05URU5UX1JFQURZOlwicG9sbENvbnRlbnRSZWFkeVwiLFNUT1BfUkVESVJFQ1RJT046XCJzdG9wUmVkaXJcIn0sRT17Rk9SRUdST1VORF9UT19DT05URU5UOlwiaG9yaXpvbi53ZWJydGNzZGsuZm9yZWdyb3VuZFRvQ29udGVudFwiLENPTlRFTlRfVE9fRk9SRUdST1VORDpcImhvcml6b24ud2VicnRjc2RrLmNvbnRlbnRUb0ZvcmVncm91bmRcIn07cmV0dXJuIG5ldyBmdW5jdGlvbigpe3ZhciB0LG89dGhpcyxpPTAscj17fSxkPSEwLHM9KHRoaXMub25XaW5kb3dTZXNzaW9uQ29ubmVjdGVkLHRoaXMuZ2V0SG9yaXpvbkNsaWVudElEPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG8sZSl7cyh7Y21kOlQuR0VUX0NMSUVOVF9JRH0sZnVuY3Rpb24obil7dm9pZCAwIT09bi5jbGllbnRJZD9vKG4uY2xpZW50SWQpOmUobi5lcnJvcnx8XCJnZXRIb3Jpem9uQ2xpZW50SUQgZmFpbGVkXCIpfSl9KX0sdGhpcy5nZXRIb3Jpem9uV1NTUG9ydD1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihvLGUpe3Moe2NtZDpULkdFVF9XU1NfUE9SVH0sZnVuY3Rpb24obil7dm9pZCAwIT09bi53c3NQb3J0P28obi53c3NQb3J0KTplKG4uZXJyb3J8fFwiZ2V0SG9yaXpvbldTU1BvcnQgZmFpbGVkXCIpfSl9KX0sZnVuY3Rpb24obixvKXt2YXIgZTtuLmNtZD09VC5QT0xMX0NPTlRFTlRfUkVBRFl8fHQ/KGU9KytpLG4uc2VxSWQ9ZSxyW2VdPW8sZT17ZGV0YWlsOnZvaWQgMCE9PW4/bjp7fX0sd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KEUuRk9SRUdST1VORF9UT19DT05URU5ULGUpKSk6KG4uZXJyb3I9XCJjb250ZW50IGlzIG5vdCByZWFkeVwiLG8obiksdm9pZCAwPT09dCYmKGNvbnNvbGUubG9nKFwiSG9yaXpvbldlYlJUQ0V4dGVuc2lvbi50b0NvbnRlbnRTY3JpcHQ6IGNvbnRlbnQgcmVhZHkgc3RhdGUgaXMgdW5kZWZpbmVkLCBTdGFydCBjb250ZW50IHN0YXRlIHBvbGxcIiksbmV3IFByb21pc2UoZnVuY3Rpb24obyxlKXtzKHtjbWQ6VC5QT0xMX0NPTlRFTlRfUkVBRFl9LGZ1bmN0aW9uKG4pe3ZvaWQgMCE9PW4ucmVhZHk/KHQ9bi5yZWFkeSxvKHQpKTplKG4uZXJyb3J8fFwiZmFpbCB0byBwb2xsQ29udGVudFJlYWR5XCIpfSl9KSkpfSksYz1mdW5jdGlvbihuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm9uV2luZG93U2Vzc2lvbkNvbm5lY3RlZCYmby5vbldpbmRvd1Nlc3Npb25Db25uZWN0ZWQobil9O2NvbnNvbGUubG9nKFwiSG9yaXpvbldlYlJUQ0V4dGVuc2lvbiBmb3JlZ3JvdW5kIHJlZ2lzdGVyIGNvbnRlbnQgY2FsbGJhY2tcIiksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoRS5DT05URU5UX1RPX0ZPUkVHUk9VTkQsZnVuY3Rpb24obil7aWYobnVsbD09PW4uZGV0YWlsKWNvbnNvbGUubG9nKFwiSG9yaXpvbldlYlJUQ0V4dGVuc2lvbi5vbkNvbnRlbnRTY3JpcHQ6IGRhdGEgaXMgbnVsbCBpbiBpbmplY3RlZCBzY3JpcHRcIik7ZWxzZXt2YXIgbyxlPW4uZGV0YWlsO2lmKGNvbnNvbGUubG9nKFwiSG9yaXpvbldlYlJUQ0V4dGVuc2lvbi5vbkNvbnRlbnRTY3JpcHQoKTogUmVjZWl2ZWQgbWVzc2FnZSBmcm9tIGNvbnRlbnQgc2NyaXB0IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxcIm51bWJlclwiPT10eXBlb2YgZS5zZXFJZCYmMDxlLnNlcUlkKW49ZS5zZXFJZCxvPXJbbl0sZGVsZXRlIHJbbl0sdm9pZCAwIT09byYmXCJmdW5jdGlvblwiPT10eXBlb2YgbyYmbyhlKTtlbHNlIHN3aXRjaChlLmNtZCl7Y2FzZSBULk5PVElGWV9DT05URU5UX1JFQURZOnQ9ZS5zdGF0ZTticmVhaztjYXNlIFQuTk9USUZZX1dJTkRPV19TRVNTSU9OX0NPTk5FQ1RFRDpkPWUuY29ubmVjdGVkLGMoZCl9fX0pfX0pOyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9wcm9taXNlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvcHJvbWlzZVwiKTtcblxudmFyIF9wcm9taXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb21pc2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2VuID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIHN0ZXAoa2V5LCBhcmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3Byb21pc2UyLmRlZmF1bHQucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN0ZXAoXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzdGVwKFwidGhyb3dcIiwgZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RlcChcIm5leHRcIik7XG4gICAgfSk7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgZGVzYyA9ICgwLCBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMi5kZWZhdWx0KShvYmplY3QsIHByb3BlcnR5KTtcblxuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHBhcmVudCA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKG9iamVjdCk7XG5cbiAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2lzSXRlcmFibGUyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvaXMtaXRlcmFibGVcIik7XG5cbnZhciBfaXNJdGVyYWJsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0l0ZXJhYmxlMik7XG5cbnZhciBfZ2V0SXRlcmF0b3IyID0gcmVxdWlyZShcIi4uL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkoYXJyKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSBlbHNlIGlmICgoMCwgX2lzSXRlcmFibGUzLmRlZmF1bHQpKE9iamVjdChhcnIpKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Zyb20gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9hcnJheS9mcm9tXCIpO1xuXG52YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSA/IGFyciA6ICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZyb207XG4iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yJyk7XG4iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUnKTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIHJldHVybiAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbn07XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHknKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LnByb21pc2UudHJ5Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5Qcm9taXNlO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCkge1xuICBpZiAoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSB8fCAoZm9yYmlkZGVuRmllbGQgIT09IHVuZGVmaW5lZCAmJiBmb3JiaWRkZW5GaWVsZCBpbiBpdCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcbiIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjYuMTInIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGlmIChpbmRleCBpbiBvYmplY3QpICRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcbiIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYgKGdldFN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpO1xuICAgIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAoc3ltYm9scy5sZW5ndGggPiBpKSBpZiAoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYgaGFzKGV4cG9ydHMsIGtleSkpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgQlJFQUsgPSB7fTtcbnZhciBSRVRVUk4gPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7XG4gIHZhciBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKSBmb3IgKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuIiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciAkaXRlckNyZWF0ZSA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVM7XG4gIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG4gIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICB2YXIgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXTtcbiAgdmFyICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG4gIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gIHZhciAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZTtcbiAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYgKCRhbnlOYXRpdmUpIHtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZiAoIUxJQlJBUlkgJiYgdHlwZW9mIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSAhPSAnZnVuY3Rpb24nKSBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBwcm90bykpIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwidmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmIChpc05vZGUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgU2FmYXJpIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICB9IGVsc2UgaWYgKE9ic2VydmVyICYmICEoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWU7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICAvLyBQcm9taXNlLnJlc29sdmUgd2l0aG91dCBhbiBhcmd1bWVudCB0aHJvd3MgYW4gZXJyb3IgaW4gTEcgV2ViT1MgMlxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgdGFzayA9IHsgZm46IGZuLCBuZXh0OiB1bmRlZmluZWQgfTtcbiAgICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfSBsYXN0ID0gdGFzaztcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyAyNS40LjEuNSBOZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcblxuZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiB7IGU6IGZhbHNlLCB2OiBleGVjKCkgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IGU6IHRydWUsIHY6IGUgfTtcbiAgfVxufTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHtcbiAgYW5PYmplY3QoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbiIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbiAoTywgcHJvdG8pIHtcbiAgYW5PYmplY3QoTyk7XG4gIGlmICghaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKSB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG4iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogY29yZS52ZXJzaW9uLFxuICBtb2RlOiByZXF1aXJlKCcuL19saWJyYXJ5JykgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBpbnZva2UgPSByZXF1aXJlKCcuL19pbnZva2UnKTtcbnZhciBodG1sID0gcmVxdWlyZSgnLi9faHRtbCcpO1xudmFyIGNlbCA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG52YXIgY2xlYXJUYXNrID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO1xudmFyIERpc3BhdGNoID0gZ2xvYmFsLkRpc3BhdGNoO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSArdGhpcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICBpZiAocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldFRhc2sgfHwgIWNsZWFyVGFzaykge1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgaSA9IDE7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZiAocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcbiAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgRGlzcGF0Y2gubm93KGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcbiIsInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG5hdmlnYXRvciA9IGdsb2JhbC5uYXZpZ2F0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJyc7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG4iLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0ID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBpdGVyRm4gPSBnZXQoaXQpO1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgcmV0dXJuIGFuT2JqZWN0KGl0ZXJGbi5jYWxsKGl0KSk7XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmlzSXRlcmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8gPSBPYmplY3QoaXQpO1xuICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuICAgIHx8ICdAQGl0ZXJhdG9yJyBpbiBPXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgIHx8IEl0ZXJhdG9ycy5oYXNPd25Qcm9wZXJ0eShjbGFzc29mKE8pKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UgLyogLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCAqLykge1xuICAgIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXk7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oTyk7XG4gICAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZiAobWFwcGluZykgbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpIHtcbiAgICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEMoKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yIChyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKSB9KTtcbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYgfSk7XG4iLCIvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmY7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7XG4iLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KSB7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG4iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuIiwiIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJyk7XG52YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgbWljcm90YXNrID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi9fcGVyZm9ybScpO1xudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4vX3VzZXItYWdlbnQnKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IHJlcXVpcmUoJy4vX3Byb21pc2UtcmVzb2x2ZScpO1xudmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnM7XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52OCB8fCAnJztcbnZhciAkUHJvbWlzZSA9IGdsb2JhbFtQUk9NSVNFXTtcbnZhciBpc05vZGUgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJztcbnZhciBlbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBJbnRlcm5hbCwgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG5cbnZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgPSAkUHJvbWlzZS5yZXNvbHZlKDEpO1xuICAgIHZhciBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICAgIGV4ZWMoZW1wdHksIGVtcHR5KTtcbiAgICB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpXG4gICAgICAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2VcbiAgICAgIC8vIHY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcbiAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NVxuICAgICAgLy8gd2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgICAgICYmIHY4LmluZGV4T2YoJzYuNicpICE9PSAwXG4gICAgICAmJiB1c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lLzY2JykgPT09IC0xO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHByb21pc2UsIGlzUmVqZWN0KSB7XG4gIGlmIChwcm9taXNlLl9uKSByZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIG9rID0gcHJvbWlzZS5fcyA9PSAxO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9oID09IDIpIG9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkb21haW4pIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIG1heSB0aHJvd1xuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkgcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYgKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKSBvblVuaGFuZGxlZChwcm9taXNlKTtcbiAgfSk7XG59O1xudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIHVuaGFuZGxlZCA9IGlzVW5oYW5kbGVkKHByb21pc2UpO1xuICAgIHZhciByZXN1bHQsIGhhbmRsZXIsIGNvbnNvbGU7XG4gICAgaWYgKHVuaGFuZGxlZCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7XG4gICAgICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWUgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodW5oYW5kbGVkICYmIHJlc3VsdC5lKSB0aHJvdyByZXN1bHQudjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgcmV0dXJuIHByb21pc2UuX2ggIT09IDEgJiYgKHByb21pc2UuX2EgfHwgcHJvbWlzZS5fYykubGVuZ3RoID09PSAwO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKSB7XG4gICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92IH0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fcyA9IDI7XG4gIGlmICghcHJvbWlzZS5fYSkgcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIHZhciB0aGVuO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICBpZiAodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKSB7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgICRyZWplY3QuY2FsbCh7IF93OiBwcm9taXNlLCBfZDogZmFsc2UgfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmICghVVNFX05BVElWRSkge1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsICRQcm9taXNlLCBQUk9NSVNFLCAnX2gnKTtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIEludGVybmFsLmNhbGwodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHZhciByZWFjdGlvbiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAodGhpcy5fYSkgdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9zKSBub3RpZnkodGhpcywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gICAgfSxcbiAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuICAgICdjYXRjaCc6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG4gIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgcmV0dXJuIEMgPT09ICRQcm9taXNlIHx8IEMgPT09IFdyYXBwZXJcbiAgICAgID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICA6IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBQcm9taXNlOiAkUHJvbWlzZSB9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcyk7XG4gICAgdmFyICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKExJQlJBUlkgJiYgdGhpcyA9PT0gV3JhcHBlciA/ICRQcm9taXNlIDogdGhpcywgeCk7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbiAoaXRlcikge1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciAkaW5kZXggPSBpbmRleCsrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9LFxuICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIgaW5kZXggPSB0aGlzLl9pO1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBfY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdPUE5FeHQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKTtcbnZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgJEdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbicgJiYgISEkR09QUy5mO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkR09QUy5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9ICRmYWlscyhmdW5jdGlvbiAoKSB7ICRHT1BTLmYoMSk7IH0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIEZBSUxTX09OX1BSSU1JVElWRVMsICdPYmplY3QnLCB7XG4gIGdldE93blByb3BlcnR5U3ltYm9sczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gICAgcmV0dXJuICRHT1BTLmYodG9PYmplY3QoaXQpKTtcbiAgfVxufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5XG4ndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnUHJvbWlzZScsIHsgJ2ZpbmFsbHknOiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSk7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIG9uRmluYWxseSA9PSAnZnVuY3Rpb24nO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHksXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICB9IDogb25GaW5hbGx5XG4gICk7XG59IH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdQcm9taXNlJywgeyAndHJ5JzogZnVuY3Rpb24gKGNhbGxiYWNrZm4pIHtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTtcbiAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oY2FsbGJhY2tmbik7XG4gIChyZXN1bHQuZSA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59IH0pO1xuIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG4iLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcbiIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbnZhciBET01JdGVyYWJsZXMgPSAoJ0NTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsJyArXG4gICdET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LCcgK1xuICAnTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCwnICtcbiAgJ1NWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LCcgK1xuICAnVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QnKS5zcGxpdCgnLCcpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IERPTUl0ZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IERPTUl0ZXJhYmxlc1tpXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNyBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFNEUFV0aWxzID0gcmVxdWlyZSgnc2RwJyk7XG5cbmZ1bmN0aW9uIGZpeFN0YXRzVHlwZShzdGF0KSB7XG4gIHJldHVybiB7XG4gICAgaW5ib3VuZHJ0cDogJ2luYm91bmQtcnRwJyxcbiAgICBvdXRib3VuZHJ0cDogJ291dGJvdW5kLXJ0cCcsXG4gICAgY2FuZGlkYXRlcGFpcjogJ2NhbmRpZGF0ZS1wYWlyJyxcbiAgICBsb2NhbGNhbmRpZGF0ZTogJ2xvY2FsLWNhbmRpZGF0ZScsXG4gICAgcmVtb3RlY2FuZGlkYXRlOiAncmVtb3RlLWNhbmRpZGF0ZSdcbiAgfVtzdGF0LnR5cGVdIHx8IHN0YXQudHlwZTtcbn1cblxuZnVuY3Rpb24gd3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsIGNhcHMsIHR5cGUsIHN0cmVhbSwgZHRsc1JvbGUpIHtcbiAgdmFyIHNkcCA9IFNEUFV0aWxzLndyaXRlUnRwRGVzY3JpcHRpb24odHJhbnNjZWl2ZXIua2luZCwgY2Fwcyk7XG5cbiAgLy8gTWFwIElDRSBwYXJhbWV0ZXJzICh1ZnJhZywgcHdkKSB0byBTRFAuXG4gIHNkcCArPSBTRFBVdGlscy53cml0ZUljZVBhcmFtZXRlcnMoXG4gICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSk7XG5cbiAgLy8gTWFwIERUTFMgcGFyYW1ldGVycyB0byBTRFAuXG4gIHNkcCArPSBTRFBVdGlscy53cml0ZUR0bHNQYXJhbWV0ZXJzKFxuICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcbiAgICAgIHR5cGUgPT09ICdvZmZlcicgPyAnYWN0cGFzcycgOiBkdGxzUm9sZSB8fCAnYWN0aXZlJyk7XG5cbiAgc2RwICs9ICdhPW1pZDonICsgdHJhbnNjZWl2ZXIubWlkICsgJ1xcclxcbic7XG5cbiAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlciAmJiB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikge1xuICAgIHNkcCArPSAnYT1zZW5kcmVjdlxcclxcbic7XG4gIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7XG4gICAgc2RwICs9ICdhPXNlbmRvbmx5XFxyXFxuJztcbiAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikge1xuICAgIHNkcCArPSAnYT1yZWN2b25seVxcclxcbic7XG4gIH0gZWxzZSB7XG4gICAgc2RwICs9ICdhPWluYWN0aXZlXFxyXFxuJztcbiAgfVxuXG4gIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHtcbiAgICB2YXIgdHJhY2tJZCA9IHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5faW5pdGlhbFRyYWNrSWQgfHxcbiAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnRyYWNrLmlkO1xuICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5faW5pdGlhbFRyYWNrSWQgPSB0cmFja0lkO1xuICAgIC8vIHNwZWMuXG4gICAgdmFyIG1zaWQgPSAnbXNpZDonICsgKHN0cmVhbSA/IHN0cmVhbS5pZCA6ICctJykgKyAnICcgK1xuICAgICAgICB0cmFja0lkICsgJ1xcclxcbic7XG4gICAgc2RwICs9ICdhPScgKyBtc2lkO1xuICAgIC8vIGZvciBDaHJvbWUuIExlZ2FjeSBzaG91bGQgbm8gbG9uZ2VyIGJlIHJlcXVpcmVkLlxuICAgIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMgK1xuICAgICAgICAnICcgKyBtc2lkO1xuXG4gICAgLy8gUlRYXG4gICAgaWYgKHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4KSB7XG4gICAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYyArXG4gICAgICAgICAgJyAnICsgbXNpZDtcbiAgICAgIHNkcCArPSAnYT1zc3JjLWdyb3VwOkZJRCAnICtcbiAgICAgICAgICB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMgKyAnICcgK1xuICAgICAgICAgIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMgK1xuICAgICAgICAgICdcXHJcXG4nO1xuICAgIH1cbiAgfVxuICAvLyBGSVhNRTogdGhpcyBzaG91bGQgYmUgd3JpdHRlbiBieSB3cml0ZVJ0cERlc2NyaXB0aW9uLlxuICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjICtcbiAgICAgICcgY25hbWU6JyArIFNEUFV0aWxzLmxvY2FsQ05hbWUgKyAnXFxyXFxuJztcbiAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlciAmJiB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCkge1xuICAgIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjICtcbiAgICAgICAgJyBjbmFtZTonICsgU0RQVXRpbHMubG9jYWxDTmFtZSArICdcXHJcXG4nO1xuICB9XG4gIHJldHVybiBzZHA7XG59XG5cbi8vIEVkZ2UgZG9lcyBub3QgbGlrZVxuLy8gMSkgc3R1bjogZmlsdGVyZWQgYWZ0ZXIgMTQzOTMgdW5sZXNzID90cmFuc3BvcnQ9dWRwIGlzIHByZXNlbnRcbi8vIDIpIHR1cm46IHRoYXQgZG9lcyBub3QgaGF2ZSBhbGwgb2YgdHVybjpob3N0OnBvcnQ/dHJhbnNwb3J0PXVkcFxuLy8gMykgdHVybjogd2l0aCBpcHY2IGFkZHJlc3Nlc1xuLy8gNCkgdHVybjogb2NjdXJyaW5nIG11bGlwbGUgdGltZXNcbmZ1bmN0aW9uIGZpbHRlckljZVNlcnZlcnMoaWNlU2VydmVycywgZWRnZVZlcnNpb24pIHtcbiAgdmFyIGhhc1R1cm4gPSBmYWxzZTtcbiAgaWNlU2VydmVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaWNlU2VydmVycykpO1xuICByZXR1cm4gaWNlU2VydmVycy5maWx0ZXIoZnVuY3Rpb24oc2VydmVyKSB7XG4gICAgaWYgKHNlcnZlciAmJiAoc2VydmVyLnVybHMgfHwgc2VydmVyLnVybCkpIHtcbiAgICAgIHZhciB1cmxzID0gc2VydmVyLnVybHMgfHwgc2VydmVyLnVybDtcbiAgICAgIGlmIChzZXJ2ZXIudXJsICYmICFzZXJ2ZXIudXJscykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1JUQ0ljZVNlcnZlci51cmwgaXMgZGVwcmVjYXRlZCEgVXNlIHVybHMgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1N0cmluZyA9IHR5cGVvZiB1cmxzID09PSAnc3RyaW5nJztcbiAgICAgIGlmIChpc1N0cmluZykge1xuICAgICAgICB1cmxzID0gW3VybHNdO1xuICAgICAgfVxuICAgICAgdXJscyA9IHVybHMuZmlsdGVyKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB2YXIgdmFsaWRUdXJuID0gdXJsLmluZGV4T2YoJ3R1cm46JykgPT09IDAgJiZcbiAgICAgICAgICAgIHVybC5pbmRleE9mKCd0cmFuc3BvcnQ9dWRwJykgIT09IC0xICYmXG4gICAgICAgICAgICB1cmwuaW5kZXhPZigndHVybjpbJykgPT09IC0xICYmXG4gICAgICAgICAgICAhaGFzVHVybjtcblxuICAgICAgICBpZiAodmFsaWRUdXJuKSB7XG4gICAgICAgICAgaGFzVHVybiA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC5pbmRleE9mKCdzdHVuOicpID09PSAwICYmIGVkZ2VWZXJzaW9uID49IDE0MzkzICYmXG4gICAgICAgICAgICB1cmwuaW5kZXhPZignP3RyYW5zcG9ydD11ZHAnKSA9PT0gLTE7XG4gICAgICB9KTtcblxuICAgICAgZGVsZXRlIHNlcnZlci51cmw7XG4gICAgICBzZXJ2ZXIudXJscyA9IGlzU3RyaW5nID8gdXJsc1swXSA6IHVybHM7XG4gICAgICByZXR1cm4gISF1cmxzLmxlbmd0aDtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBEZXRlcm1pbmVzIHRoZSBpbnRlcnNlY3Rpb24gb2YgbG9jYWwgYW5kIHJlbW90ZSBjYXBhYmlsaXRpZXMuXG5mdW5jdGlvbiBnZXRDb21tb25DYXBhYmlsaXRpZXMobG9jYWxDYXBhYmlsaXRpZXMsIHJlbW90ZUNhcGFiaWxpdGllcykge1xuICB2YXIgY29tbW9uQ2FwYWJpbGl0aWVzID0ge1xuICAgIGNvZGVjczogW10sXG4gICAgaGVhZGVyRXh0ZW5zaW9uczogW10sXG4gICAgZmVjTWVjaGFuaXNtczogW11cbiAgfTtcblxuICB2YXIgZmluZENvZGVjQnlQYXlsb2FkVHlwZSA9IGZ1bmN0aW9uKHB0LCBjb2RlY3MpIHtcbiAgICBwdCA9IHBhcnNlSW50KHB0LCAxMCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2RlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjb2RlY3NbaV0ucGF5bG9hZFR5cGUgPT09IHB0IHx8XG4gICAgICAgICAgY29kZWNzW2ldLnByZWZlcnJlZFBheWxvYWRUeXBlID09PSBwdCkge1xuICAgICAgICByZXR1cm4gY29kZWNzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgcnR4Q2FwYWJpbGl0eU1hdGNoZXMgPSBmdW5jdGlvbihsUnR4LCByUnR4LCBsQ29kZWNzLCByQ29kZWNzKSB7XG4gICAgdmFyIGxDb2RlYyA9IGZpbmRDb2RlY0J5UGF5bG9hZFR5cGUobFJ0eC5wYXJhbWV0ZXJzLmFwdCwgbENvZGVjcyk7XG4gICAgdmFyIHJDb2RlYyA9IGZpbmRDb2RlY0J5UGF5bG9hZFR5cGUoclJ0eC5wYXJhbWV0ZXJzLmFwdCwgckNvZGVjcyk7XG4gICAgcmV0dXJuIGxDb2RlYyAmJiByQ29kZWMgJiZcbiAgICAgICAgbENvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gckNvZGVjLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfTtcblxuICBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MuZm9yRWFjaChmdW5jdGlvbihsQ29kZWMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByQ29kZWMgPSByZW1vdGVDYXBhYmlsaXRpZXMuY29kZWNzW2ldO1xuICAgICAgaWYgKGxDb2RlYy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHJDb2RlYy5uYW1lLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgICBsQ29kZWMuY2xvY2tSYXRlID09PSByQ29kZWMuY2xvY2tSYXRlKSB7XG4gICAgICAgIGlmIChsQ29kZWMubmFtZS50b0xvd2VyQ2FzZSgpID09PSAncnR4JyAmJlxuICAgICAgICAgICAgbENvZGVjLnBhcmFtZXRlcnMgJiYgckNvZGVjLnBhcmFtZXRlcnMuYXB0KSB7XG4gICAgICAgICAgLy8gZm9yIFJUWCB3ZSBuZWVkIHRvIGZpbmQgdGhlIGxvY2FsIHJ0eCB0aGF0IGhhcyBhIGFwdFxuICAgICAgICAgIC8vIHdoaWNoIHBvaW50cyB0byB0aGUgc2FtZSBsb2NhbCBjb2RlYyBhcyB0aGUgcmVtb3RlIG9uZS5cbiAgICAgICAgICBpZiAoIXJ0eENhcGFiaWxpdHlNYXRjaGVzKGxDb2RlYywgckNvZGVjLFxuICAgICAgICAgICAgICBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MsIHJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgckNvZGVjID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyQ29kZWMpKTsgLy8gZGVlcGNvcHlcbiAgICAgICAgLy8gbnVtYmVyIG9mIGNoYW5uZWxzIGlzIHRoZSBoaWdoZXN0IGNvbW1vbiBudW1iZXIgb2YgY2hhbm5lbHNcbiAgICAgICAgckNvZGVjLm51bUNoYW5uZWxzID0gTWF0aC5taW4obENvZGVjLm51bUNoYW5uZWxzLFxuICAgICAgICAgICAgckNvZGVjLm51bUNoYW5uZWxzKTtcbiAgICAgICAgLy8gcHVzaCByQ29kZWMgc28gd2UgcmVwbHkgd2l0aCBvZmZlcmVyIHBheWxvYWQgdHlwZVxuICAgICAgICBjb21tb25DYXBhYmlsaXRpZXMuY29kZWNzLnB1c2gockNvZGVjKTtcblxuICAgICAgICAvLyBkZXRlcm1pbmUgY29tbW9uIGZlZWRiYWNrIG1lY2hhbmlzbXNcbiAgICAgICAgckNvZGVjLnJ0Y3BGZWVkYmFjayA9IHJDb2RlYy5ydGNwRmVlZGJhY2suZmlsdGVyKGZ1bmN0aW9uKGZiKSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsQ29kZWMucnRjcEZlZWRiYWNrLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAobENvZGVjLnJ0Y3BGZWVkYmFja1tqXS50eXBlID09PSBmYi50eXBlICYmXG4gICAgICAgICAgICAgICAgbENvZGVjLnJ0Y3BGZWVkYmFja1tqXS5wYXJhbWV0ZXIgPT09IGZiLnBhcmFtZXRlcikge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRklYTUU6IGFsc28gbmVlZCB0byBkZXRlcm1pbmUgLnBhcmFtZXRlcnNcbiAgICAgICAgLy8gIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbnBlZXIvb3J0Yy9pc3N1ZXMvNTY5XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgbG9jYWxDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGxIZWFkZXJFeHRlbnNpb24pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zLmxlbmd0aDtcbiAgICAgICAgIGkrKykge1xuICAgICAgdmFyIHJIZWFkZXJFeHRlbnNpb24gPSByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9uc1tpXTtcbiAgICAgIGlmIChsSGVhZGVyRXh0ZW5zaW9uLnVyaSA9PT0gckhlYWRlckV4dGVuc2lvbi51cmkpIHtcbiAgICAgICAgY29tbW9uQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMucHVzaChySGVhZGVyRXh0ZW5zaW9uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBGSVhNRTogZmVjTWVjaGFuaXNtc1xuICByZXR1cm4gY29tbW9uQ2FwYWJpbGl0aWVzO1xufVxuXG4vLyBpcyBhY3Rpb249c2V0TG9jYWxEZXNjcmlwdGlvbiB3aXRoIHR5cGUgYWxsb3dlZCBpbiBzaWduYWxpbmdTdGF0ZVxuZnVuY3Rpb24gaXNBY3Rpb25BbGxvd2VkSW5TaWduYWxpbmdTdGF0ZShhY3Rpb24sIHR5cGUsIHNpZ25hbGluZ1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgb2ZmZXI6IHtcbiAgICAgIHNldExvY2FsRGVzY3JpcHRpb246IFsnc3RhYmxlJywgJ2hhdmUtbG9jYWwtb2ZmZXInXSxcbiAgICAgIHNldFJlbW90ZURlc2NyaXB0aW9uOiBbJ3N0YWJsZScsICdoYXZlLXJlbW90ZS1vZmZlciddXG4gICAgfSxcbiAgICBhbnN3ZXI6IHtcbiAgICAgIHNldExvY2FsRGVzY3JpcHRpb246IFsnaGF2ZS1yZW1vdGUtb2ZmZXInLCAnaGF2ZS1sb2NhbC1wcmFuc3dlciddLFxuICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb246IFsnaGF2ZS1sb2NhbC1vZmZlcicsICdoYXZlLXJlbW90ZS1wcmFuc3dlciddXG4gICAgfVxuICB9W3R5cGVdW2FjdGlvbl0uaW5kZXhPZihzaWduYWxpbmdTdGF0ZSkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBtYXliZUFkZENhbmRpZGF0ZShpY2VUcmFuc3BvcnQsIGNhbmRpZGF0ZSkge1xuICAvLyBFZGdlJ3MgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gYWRkcyBzb21lIGZpZWxkcyB0aGVyZWZvcmVcbiAgLy8gbm90IGFsbCBmaWVsZNGVIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuXG4gIHZhciBhbHJlYWR5QWRkZWQgPSBpY2VUcmFuc3BvcnQuZ2V0UmVtb3RlQ2FuZGlkYXRlcygpXG4gICAgICAuZmluZChmdW5jdGlvbihyZW1vdGVDYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZS5mb3VuZGF0aW9uID09PSByZW1vdGVDYW5kaWRhdGUuZm91bmRhdGlvbiAmJlxuICAgICAgICAgICAgY2FuZGlkYXRlLmlwID09PSByZW1vdGVDYW5kaWRhdGUuaXAgJiZcbiAgICAgICAgICAgIGNhbmRpZGF0ZS5wb3J0ID09PSByZW1vdGVDYW5kaWRhdGUucG9ydCAmJlxuICAgICAgICAgICAgY2FuZGlkYXRlLnByaW9yaXR5ID09PSByZW1vdGVDYW5kaWRhdGUucHJpb3JpdHkgJiZcbiAgICAgICAgICAgIGNhbmRpZGF0ZS5wcm90b2NvbCA9PT0gcmVtb3RlQ2FuZGlkYXRlLnByb3RvY29sICYmXG4gICAgICAgICAgICBjYW5kaWRhdGUudHlwZSA9PT0gcmVtb3RlQ2FuZGlkYXRlLnR5cGU7XG4gICAgICB9KTtcbiAgaWYgKCFhbHJlYWR5QWRkZWQpIHtcbiAgICBpY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gIH1cbiAgcmV0dXJuICFhbHJlYWR5QWRkZWQ7XG59XG5cblxuZnVuY3Rpb24gbWFrZUVycm9yKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKGRlc2NyaXB0aW9uKTtcbiAgZS5uYW1lID0gbmFtZTtcbiAgLy8gbGVnYWN5IGVycm9yIGNvZGVzIGZyb20gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLURPTUV4Y2VwdGlvbi1lcnJvci1uYW1lc1xuICBlLmNvZGUgPSB7XG4gICAgTm90U3VwcG9ydGVkRXJyb3I6IDksXG4gICAgSW52YWxpZFN0YXRlRXJyb3I6IDExLFxuICAgIEludmFsaWRBY2Nlc3NFcnJvcjogMTUsXG4gICAgVHlwZUVycm9yOiB1bmRlZmluZWQsXG4gICAgT3BlcmF0aW9uRXJyb3I6IHVuZGVmaW5lZFxuICB9W25hbWVdO1xuICByZXR1cm4gZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3aW5kb3csIGVkZ2VWZXJzaW9uKSB7XG4gIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9tZWRpYWNhcHR1cmUtbWFpbi8jbWVkaWFzdHJlYW1cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGFkZCB0aGUgdHJhY2sgdG8gdGhlIHN0cmVhbSBhbmRcbiAgLy8gZGlzcGF0Y2ggdGhlIGV2ZW50IG91cnNlbHZlcy5cbiAgZnVuY3Rpb24gYWRkVHJhY2tUb1N0cmVhbUFuZEZpcmVFdmVudCh0cmFjaywgc3RyZWFtKSB7XG4gICAgc3RyZWFtLmFkZFRyYWNrKHRyYWNrKTtcbiAgICBzdHJlYW0uZGlzcGF0Y2hFdmVudChuZXcgd2luZG93Lk1lZGlhU3RyZWFtVHJhY2tFdmVudCgnYWRkdHJhY2snLFxuICAgICAgICB7dHJhY2s6IHRyYWNrfSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVHJhY2tGcm9tU3RyZWFtQW5kRmlyZUV2ZW50KHRyYWNrLCBzdHJlYW0pIHtcbiAgICBzdHJlYW0ucmVtb3ZlVHJhY2sodHJhY2spO1xuICAgIHN0cmVhbS5kaXNwYXRjaEV2ZW50KG5ldyB3aW5kb3cuTWVkaWFTdHJlYW1UcmFja0V2ZW50KCdyZW1vdmV0cmFjaycsXG4gICAgICAgIHt0cmFjazogdHJhY2t9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlQWRkVHJhY2socGMsIHRyYWNrLCByZWNlaXZlciwgc3RyZWFtcykge1xuICAgIHZhciB0cmFja0V2ZW50ID0gbmV3IEV2ZW50KCd0cmFjaycpO1xuICAgIHRyYWNrRXZlbnQudHJhY2sgPSB0cmFjaztcbiAgICB0cmFja0V2ZW50LnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdHJhY2tFdmVudC50cmFuc2NlaXZlciA9IHtyZWNlaXZlcjogcmVjZWl2ZXJ9O1xuICAgIHRyYWNrRXZlbnQuc3RyZWFtcyA9IHN0cmVhbXM7XG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBwYy5fZGlzcGF0Y2hFdmVudCgndHJhY2snLCB0cmFja0V2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBSVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIHZhciBwYyA9IHRoaXM7XG5cbiAgICB2YXIgX2V2ZW50VGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJywgJ2Rpc3BhdGNoRXZlbnQnXVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICBwY1ttZXRob2RdID0gX2V2ZW50VGFyZ2V0W21ldGhvZF0uYmluZChfZXZlbnRUYXJnZXQpO1xuICAgICAgICB9KTtcblxuICAgIHRoaXMuY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXMgPSBudWxsO1xuXG4gICAgdGhpcy5uZWVkTmVnb3RpYXRpb24gPSBmYWxzZTtcblxuICAgIHRoaXMubG9jYWxTdHJlYW1zID0gW107XG4gICAgdGhpcy5yZW1vdGVTdHJlYW1zID0gW107XG5cbiAgICB0aGlzLl9sb2NhbERlc2NyaXB0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9yZW1vdGVEZXNjcmlwdGlvbiA9IG51bGw7XG5cbiAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gJ3N0YWJsZSc7XG4gICAgdGhpcy5pY2VDb25uZWN0aW9uU3RhdGUgPSAnbmV3JztcbiAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9ICduZXcnO1xuICAgIHRoaXMuaWNlR2F0aGVyaW5nU3RhdGUgPSAnbmV3JztcblxuICAgIGNvbmZpZyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29uZmlnIHx8IHt9KSk7XG5cbiAgICB0aGlzLnVzaW5nQnVuZGxlID0gY29uZmlnLmJ1bmRsZVBvbGljeSA9PT0gJ21heC1idW5kbGUnO1xuICAgIGlmIChjb25maWcucnRjcE11eFBvbGljeSA9PT0gJ25lZ290aWF0ZScpIHtcbiAgICAgIHRocm93KG1ha2VFcnJvcignTm90U3VwcG9ydGVkRXJyb3InLFxuICAgICAgICAgICdydGNwTXV4UG9saWN5IFxcJ25lZ290aWF0ZVxcJyBpcyBub3Qgc3VwcG9ydGVkJykpO1xuICAgIH0gZWxzZSBpZiAoIWNvbmZpZy5ydGNwTXV4UG9saWN5KSB7XG4gICAgICBjb25maWcucnRjcE11eFBvbGljeSA9ICdyZXF1aXJlJztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3kpIHtcbiAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICBjYXNlICdyZWxheSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeSA9ICdhbGwnO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbmZpZy5idW5kbGVQb2xpY3kpIHtcbiAgICAgIGNhc2UgJ2JhbGFuY2VkJzpcbiAgICAgIGNhc2UgJ21heC1jb21wYXQnOlxuICAgICAgY2FzZSAnbWF4LWJ1bmRsZSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uZmlnLmJ1bmRsZVBvbGljeSA9ICdiYWxhbmNlZCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbmZpZy5pY2VTZXJ2ZXJzID0gZmlsdGVySWNlU2VydmVycyhjb25maWcuaWNlU2VydmVycyB8fCBbXSwgZWRnZVZlcnNpb24pO1xuXG4gICAgdGhpcy5faWNlR2F0aGVyZXJzID0gW107XG4gICAgaWYgKGNvbmZpZy5pY2VDYW5kaWRhdGVQb29sU2l6ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IGNvbmZpZy5pY2VDYW5kaWRhdGVQb29sU2l6ZTsgaSA+IDA7IGktLSkge1xuICAgICAgICB0aGlzLl9pY2VHYXRoZXJlcnMucHVzaChuZXcgd2luZG93LlJUQ0ljZUdhdGhlcmVyKHtcbiAgICAgICAgICBpY2VTZXJ2ZXJzOiBjb25maWcuaWNlU2VydmVycyxcbiAgICAgICAgICBnYXRoZXJQb2xpY3k6IGNvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3lcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuaWNlQ2FuZGlkYXRlUG9vbFNpemUgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcblxuICAgIC8vIHBlci10cmFjayBpY2VHYXRoZXJzLCBpY2VUcmFuc3BvcnRzLCBkdGxzVHJhbnNwb3J0cywgcnRwU2VuZGVycywgLi4uXG4gICAgLy8gZXZlcnl0aGluZyB0aGF0IGlzIG5lZWRlZCB0byBkZXNjcmliZSBhIFNEUCBtLWxpbmUuXG4gICAgdGhpcy50cmFuc2NlaXZlcnMgPSBbXTtcblxuICAgIHRoaXMuX3NkcFNlc3Npb25JZCA9IFNEUFV0aWxzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gICAgdGhpcy5fc2RwU2Vzc2lvblZlcnNpb24gPSAwO1xuXG4gICAgdGhpcy5fZHRsc1JvbGUgPSB1bmRlZmluZWQ7IC8vIHJvbGUgZm9yIGE9c2V0dXAgdG8gdXNlIGluIGFuc3dlcnMuXG5cbiAgICB0aGlzLl9pc0Nsb3NlZCA9IGZhbHNlO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsICdsb2NhbERlc2NyaXB0aW9uJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsRGVzY3JpcHRpb247XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ3JlbW90ZURlc2NyaXB0aW9uJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW90ZURlc2NyaXB0aW9uO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gc2V0IHVwIGV2ZW50IGhhbmRsZXJzIG9uIHByb3RvdHlwZVxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUub25pY2VjYW5kaWRhdGUgPSBudWxsO1xuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUub25hZGRzdHJlYW0gPSBudWxsO1xuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUub250cmFjayA9IG51bGw7XG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5vbnJlbW92ZXN0cmVhbSA9IG51bGw7XG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gbnVsbDtcbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UgPSBudWxsO1xuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUub25uZWdvdGlhdGlvbm5lZWRlZCA9IG51bGw7XG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5vbmRhdGFjaGFubmVsID0gbnVsbDtcblxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgIGlmICh0aGlzLl9pc0Nsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIGlmICh0eXBlb2YgdGhpc1snb24nICsgbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbJ29uJyArIG5hbWVdKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJyk7XG4gICAgdGhpcy5fZGlzcGF0Y2hFdmVudCgnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLCBldmVudCk7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbFN0cmVhbXM7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdGVTdHJlYW1zO1xuICB9O1xuXG4gIC8vIGludGVybmFsIGhlbHBlciB0byBjcmVhdGUgYSB0cmFuc2NlaXZlciBvYmplY3QuXG4gIC8vICh3aGljaCBpcyBub3QgeWV0IHRoZSBzYW1lIGFzIHRoZSBXZWJSVEMgMS4wIHRyYW5zY2VpdmVyKVxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX2NyZWF0ZVRyYW5zY2VpdmVyID0gZnVuY3Rpb24oa2luZCwgZG9Ob3RBZGQpIHtcbiAgICB2YXIgaGFzQnVuZGxlVHJhbnNwb3J0ID0gdGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoID4gMDtcbiAgICB2YXIgdHJhbnNjZWl2ZXIgPSB7XG4gICAgICB0cmFjazogbnVsbCxcbiAgICAgIGljZUdhdGhlcmVyOiBudWxsLFxuICAgICAgaWNlVHJhbnNwb3J0OiBudWxsLFxuICAgICAgZHRsc1RyYW5zcG9ydDogbnVsbCxcbiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzOiBudWxsLFxuICAgICAgcmVtb3RlQ2FwYWJpbGl0aWVzOiBudWxsLFxuICAgICAgcnRwU2VuZGVyOiBudWxsLFxuICAgICAgcnRwUmVjZWl2ZXI6IG51bGwsXG4gICAgICBraW5kOiBraW5kLFxuICAgICAgbWlkOiBudWxsLFxuICAgICAgc2VuZEVuY29kaW5nUGFyYW1ldGVyczogbnVsbCxcbiAgICAgIHJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM6IG51bGwsXG4gICAgICBzdHJlYW06IG51bGwsXG4gICAgICBhc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zOiBbXSxcbiAgICAgIHdhbnRSZWNlaXZlOiB0cnVlXG4gICAgfTtcbiAgICBpZiAodGhpcy51c2luZ0J1bmRsZSAmJiBoYXNCdW5kbGVUcmFuc3BvcnQpIHtcbiAgICAgIHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydCA9IHRoaXMudHJhbnNjZWl2ZXJzWzBdLmljZVRyYW5zcG9ydDtcbiAgICAgIHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQgPSB0aGlzLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdHJhbnNwb3J0cyA9IHRoaXMuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzKCk7XG4gICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQgPSB0cmFuc3BvcnRzLmljZVRyYW5zcG9ydDtcbiAgICAgIHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQgPSB0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQ7XG4gICAgfVxuICAgIGlmICghZG9Ob3RBZGQpIHtcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLnB1c2godHJhbnNjZWl2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNjZWl2ZXI7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24odHJhY2ssIHN0cmVhbSkge1xuICAgIGlmICh0aGlzLl9pc0Nsb3NlZCkge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcicsXG4gICAgICAgICAgJ0F0dGVtcHRlZCB0byBjYWxsIGFkZFRyYWNrIG9uIGEgY2xvc2VkIHBlZXJjb25uZWN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5RXhpc3RzID0gdGhpcy50cmFuc2NlaXZlcnMuZmluZChmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gcy50cmFjayA9PT0gdHJhY2s7XG4gICAgfSk7XG5cbiAgICBpZiAoYWxyZWFkeUV4aXN0cykge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKCdJbnZhbGlkQWNjZXNzRXJyb3InLCAnVHJhY2sgYWxyZWFkeSBleGlzdHMuJyk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zY2VpdmVyO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy50cmFuc2NlaXZlcnNbaV0udHJhY2sgJiZcbiAgICAgICAgICB0aGlzLnRyYW5zY2VpdmVyc1tpXS5raW5kID09PSB0cmFjay5raW5kKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyID0gdGhpcy50cmFuc2NlaXZlcnNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdHJhbnNjZWl2ZXIpIHtcbiAgICAgIHRyYW5zY2VpdmVyID0gdGhpcy5fY3JlYXRlVHJhbnNjZWl2ZXIodHJhY2sua2luZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTtcblxuICAgIGlmICh0aGlzLmxvY2FsU3RyZWFtcy5pbmRleE9mKHN0cmVhbSkgPT09IC0xKSB7XG4gICAgICB0aGlzLmxvY2FsU3RyZWFtcy5wdXNoKHN0cmVhbSk7XG4gICAgfVxuXG4gICAgdHJhbnNjZWl2ZXIudHJhY2sgPSB0cmFjaztcbiAgICB0cmFuc2NlaXZlci5zdHJlYW0gPSBzdHJlYW07XG4gICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyID0gbmV3IHdpbmRvdy5SVENSdHBTZW5kZXIodHJhY2ssXG4gICAgICAgIHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQpO1xuICAgIHJldHVybiB0cmFuc2NlaXZlci5ydHBTZW5kZXI7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBwYyA9IHRoaXM7XG4gICAgaWYgKGVkZ2VWZXJzaW9uID49IDE1MDI1KSB7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICBwYy5hZGRUcmFjayh0cmFjaywgc3RyZWFtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDbG9uZSBpcyBuZWNlc3NhcnkgZm9yIGxvY2FsIGRlbW9zIG1vc3RseSwgYXR0YWNoaW5nIGRpcmVjdGx5XG4gICAgICAvLyB0byB0d28gZGlmZmVyZW50IHNlbmRlcnMgZG9lcyBub3Qgd29yayAoYnVpbGQgMTA1NDcpLlxuICAgICAgLy8gRml4ZWQgaW4gMTUwMjUgKG9yIGVhcmxpZXIpXG4gICAgICB2YXIgY2xvbmVkU3RyZWFtID0gc3RyZWFtLmNsb25lKCk7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaywgaWR4KSB7XG4gICAgICAgIHZhciBjbG9uZWRUcmFjayA9IGNsb25lZFN0cmVhbS5nZXRUcmFja3MoKVtpZHhdO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmFibGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjbG9uZWRUcmFjay5lbmFibGVkID0gZXZlbnQuZW5hYmxlZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNsb25lZFN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgIHBjLmFkZFRyYWNrKHRyYWNrLCBjbG9uZWRTdHJlYW0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uKHNlbmRlcikge1xuICAgIGlmICh0aGlzLl9pc0Nsb3NlZCkge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcicsXG4gICAgICAgICAgJ0F0dGVtcHRlZCB0byBjYWxsIHJlbW92ZVRyYWNrIG9uIGEgY2xvc2VkIHBlZXJjb25uZWN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghKHNlbmRlciBpbnN0YW5jZW9mIHdpbmRvdy5SVENSdHBTZW5kZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCAxIG9mIFJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrICcgK1xuICAgICAgICAgICdkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVycy5maW5kKGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnJ0cFNlbmRlciA9PT0gc2VuZGVyO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0cmFuc2NlaXZlcikge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKCdJbnZhbGlkQWNjZXNzRXJyb3InLFxuICAgICAgICAgICdTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi4nKTtcbiAgICB9XG4gICAgdmFyIHN0cmVhbSA9IHRyYW5zY2VpdmVyLnN0cmVhbTtcblxuICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5zdG9wKCk7XG4gICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyID0gbnVsbDtcbiAgICB0cmFuc2NlaXZlci50cmFjayA9IG51bGw7XG4gICAgdHJhbnNjZWl2ZXIuc3RyZWFtID0gbnVsbDtcblxuICAgIC8vIHJlbW92ZSB0aGUgc3RyZWFtIGZyb20gdGhlIHNldCBvZiBsb2NhbCBzdHJlYW1zXG4gICAgdmFyIGxvY2FsU3RyZWFtcyA9IHRoaXMudHJhbnNjZWl2ZXJzLm1hcChmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdHJlYW07XG4gICAgfSk7XG4gICAgaWYgKGxvY2FsU3RyZWFtcy5pbmRleE9mKHN0cmVhbSkgPT09IC0xICYmXG4gICAgICAgIHRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKSA+IC0xKSB7XG4gICAgICB0aGlzLmxvY2FsU3RyZWFtcy5zcGxpY2UodGhpcy5sb2NhbFN0cmVhbXMuaW5kZXhPZihzdHJlYW0pLCAxKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCgpO1xuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICB2YXIgcGMgPSB0aGlzO1xuICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICB2YXIgc2VuZGVyID0gcGMuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gcy50cmFjayA9PT0gdHJhY2s7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZW5kZXIpIHtcbiAgICAgICAgcGMucmVtb3ZlVHJhY2soc2VuZGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zY2VpdmVycy5maWx0ZXIoZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAhIXRyYW5zY2VpdmVyLnJ0cFNlbmRlcjtcbiAgICB9KVxuICAgIC5tYXAoZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgIHJldHVybiB0cmFuc2NlaXZlci5ydHBTZW5kZXI7XG4gICAgfSk7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zY2VpdmVycy5maWx0ZXIoZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAhIXRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyO1xuICAgIH0pXG4gICAgLm1hcChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgcmV0dXJuIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9jcmVhdGVJY2VHYXRoZXJlciA9IGZ1bmN0aW9uKHNkcE1MaW5lSW5kZXgsXG4gICAgICB1c2luZ0J1bmRsZSkge1xuICAgIHZhciBwYyA9IHRoaXM7XG4gICAgaWYgKHVzaW5nQnVuZGxlICYmIHNkcE1MaW5lSW5kZXggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2NlaXZlcnNbMF0uaWNlR2F0aGVyZXI7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pY2VHYXRoZXJlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faWNlR2F0aGVyZXJzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHZhciBpY2VHYXRoZXJlciA9IG5ldyB3aW5kb3cuUlRDSWNlR2F0aGVyZXIoe1xuICAgICAgaWNlU2VydmVyczogdGhpcy5fY29uZmlnLmljZVNlcnZlcnMsXG4gICAgICBnYXRoZXJQb2xpY3k6IHRoaXMuX2NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3lcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaWNlR2F0aGVyZXIsICdzdGF0ZScsXG4gICAgICAgIHt2YWx1ZTogJ25ldycsIHdyaXRhYmxlOiB0cnVlfVxuICAgICk7XG5cbiAgICB0aGlzLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5idWZmZXJlZENhbmRpZGF0ZUV2ZW50cyA9IFtdO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLmJ1ZmZlckNhbmRpZGF0ZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGVuZCA9ICFldmVudC5jYW5kaWRhdGUgfHwgT2JqZWN0LmtleXMoZXZlbnQuY2FuZGlkYXRlKS5sZW5ndGggPT09IDA7XG4gICAgICAvLyBwb2x5ZmlsbCBzaW5jZSBSVENJY2VHYXRoZXJlci5zdGF0ZSBpcyBub3QgaW1wbGVtZW50ZWQgaW5cbiAgICAgIC8vIEVkZ2UgMTA1NDcgeWV0LlxuICAgICAgaWNlR2F0aGVyZXIuc3RhdGUgPSBlbmQgPyAnY29tcGxldGVkJyA6ICdnYXRoZXJpbmcnO1xuICAgICAgaWYgKHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5idWZmZXJlZENhbmRpZGF0ZUV2ZW50cyAhPT0gbnVsbCkge1xuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHMucHVzaChldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpY2VHYXRoZXJlci5hZGRFdmVudExpc3RlbmVyKCdsb2NhbGNhbmRpZGF0ZScsXG4gICAgICB0aGlzLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5idWZmZXJDYW5kaWRhdGVzKTtcbiAgICByZXR1cm4gaWNlR2F0aGVyZXI7XG4gIH07XG5cbiAgLy8gc3RhcnQgZ2F0aGVyaW5nIGZyb20gYW4gUlRDSWNlR2F0aGVyZXIuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fZ2F0aGVyID0gZnVuY3Rpb24obWlkLCBzZHBNTGluZUluZGV4KSB7XG4gICAgdmFyIHBjID0gdGhpcztcbiAgICB2YXIgaWNlR2F0aGVyZXIgPSB0aGlzLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5pY2VHYXRoZXJlcjtcbiAgICBpZiAoaWNlR2F0aGVyZXIub25sb2NhbGNhbmRpZGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyZWRDYW5kaWRhdGVFdmVudHMgPVxuICAgICAgdGhpcy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHM7XG4gICAgdGhpcy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHMgPSBudWxsO1xuICAgIGljZUdhdGhlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvY2FsY2FuZGlkYXRlJyxcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLmJ1ZmZlckNhbmRpZGF0ZXMpO1xuICAgIGljZUdhdGhlcmVyLm9ubG9jYWxjYW5kaWRhdGUgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmIChwYy51c2luZ0J1bmRsZSAmJiBzZHBNTGluZUluZGV4ID4gMCkge1xuICAgICAgICAvLyBpZiB3ZSBrbm93IHRoYXQgd2UgdXNlIGJ1bmRsZSB3ZSBjYW4gZHJvcCBjYW5kaWRhdGVzIHdpdGhcbiAgICAgICAgLy8g0ZVkcE1MaW5lSW5kZXggPiAwLiBJZiB3ZSBkb24ndCBkbyB0aGlzIHRoZW4gb3VyIHN0YXRlIGdldHNcbiAgICAgICAgLy8gY29uZnVzZWQgc2luY2Ugd2UgZGlzcG9zZSB0aGUgZXh0cmEgaWNlIGdhdGhlcmVyLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2ljZWNhbmRpZGF0ZScpO1xuICAgICAgZXZlbnQuY2FuZGlkYXRlID0ge3NkcE1pZDogbWlkLCBzZHBNTGluZUluZGV4OiBzZHBNTGluZUluZGV4fTtcblxuICAgICAgdmFyIGNhbmQgPSBldnQuY2FuZGlkYXRlO1xuICAgICAgLy8gRWRnZSBlbWl0cyBhbiBlbXB0eSBvYmplY3QgZm9yIFJUQ0ljZUNhbmRpZGF0ZUNvbXBsZXRl4oClXG4gICAgICB2YXIgZW5kID0gIWNhbmQgfHwgT2JqZWN0LmtleXMoY2FuZCkubGVuZ3RoID09PSAwO1xuICAgICAgaWYgKGVuZCkge1xuICAgICAgICAvLyBwb2x5ZmlsbCBzaW5jZSBSVENJY2VHYXRoZXJlci5zdGF0ZSBpcyBub3QgaW1wbGVtZW50ZWQgaW5cbiAgICAgICAgLy8gRWRnZSAxMDU0NyB5ZXQuXG4gICAgICAgIGlmIChpY2VHYXRoZXJlci5zdGF0ZSA9PT0gJ25ldycgfHwgaWNlR2F0aGVyZXIuc3RhdGUgPT09ICdnYXRoZXJpbmcnKSB7XG4gICAgICAgICAgaWNlR2F0aGVyZXIuc3RhdGUgPSAnY29tcGxldGVkJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGljZUdhdGhlcmVyLnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgICAgIGljZUdhdGhlcmVyLnN0YXRlID0gJ2dhdGhlcmluZyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUlRDSWNlQ2FuZGlkYXRlIGRvZXNuJ3QgaGF2ZSBhIGNvbXBvbmVudCwgbmVlZHMgdG8gYmUgYWRkZWRcbiAgICAgICAgY2FuZC5jb21wb25lbnQgPSAxO1xuICAgICAgICAvLyBhbHNvIHRoZSB1c2VybmFtZUZyYWdtZW50LiBUT0RPOiB1cGRhdGUgU0RQIHRvIHRha2UgYm90aCB2YXJpYW50cy5cbiAgICAgICAgY2FuZC51ZnJhZyA9IGljZUdhdGhlcmVyLmdldExvY2FsUGFyYW1ldGVycygpLnVzZXJuYW1lRnJhZ21lbnQ7XG5cbiAgICAgICAgdmFyIHNlcmlhbGl6ZWRDYW5kaWRhdGUgPSBTRFBVdGlscy53cml0ZUNhbmRpZGF0ZShjYW5kKTtcbiAgICAgICAgZXZlbnQuY2FuZGlkYXRlID0gT2JqZWN0LmFzc2lnbihldmVudC5jYW5kaWRhdGUsXG4gICAgICAgICAgICBTRFBVdGlscy5wYXJzZUNhbmRpZGF0ZShzZXJpYWxpemVkQ2FuZGlkYXRlKSk7XG5cbiAgICAgICAgZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9IHNlcmlhbGl6ZWRDYW5kaWRhdGU7XG4gICAgICAgIGV2ZW50LmNhbmRpZGF0ZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLFxuICAgICAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLFxuICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsXG4gICAgICAgICAgICB1c2VybmFtZUZyYWdtZW50OiBldmVudC5jYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudFxuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBsb2NhbCBkZXNjcmlwdGlvbi5cbiAgICAgIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLmdldE1lZGlhU2VjdGlvbnMocGMuX2xvY2FsRGVzY3JpcHRpb24uc2RwKTtcbiAgICAgIGlmICghZW5kKSB7XG4gICAgICAgIHNlY3Rpb25zW2V2ZW50LmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4XSArPVxuICAgICAgICAgICAgJ2E9JyArIGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUgKyAnXFxyXFxuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlY3Rpb25zW2V2ZW50LmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4XSArPVxuICAgICAgICAgICAgJ2E9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG4nO1xuICAgICAgfVxuICAgICAgcGMuX2xvY2FsRGVzY3JpcHRpb24uc2RwID1cbiAgICAgICAgICBTRFBVdGlscy5nZXREZXNjcmlwdGlvbihwYy5fbG9jYWxEZXNjcmlwdGlvbi5zZHApICtcbiAgICAgICAgICBzZWN0aW9ucy5qb2luKCcnKTtcbiAgICAgIHZhciBjb21wbGV0ZSA9IHBjLnRyYW5zY2VpdmVycy5ldmVyeShmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICByZXR1cm4gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIgJiZcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyLnN0YXRlID09PSAnY29tcGxldGVkJztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGMuaWNlR2F0aGVyaW5nU3RhdGUgIT09ICdnYXRoZXJpbmcnKSB7XG4gICAgICAgIHBjLmljZUdhdGhlcmluZ1N0YXRlID0gJ2dhdGhlcmluZyc7XG4gICAgICAgIHBjLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKTtcbiAgICAgIH1cblxuICAgICAgLy8gRW1pdCBjYW5kaWRhdGUuIEFsc28gZW1pdCBudWxsIGNhbmRpZGF0ZSB3aGVuIGFsbCBnYXRoZXJlcnMgYXJlXG4gICAgICAvLyBjb21wbGV0ZS5cbiAgICAgIGlmICghZW5kKSB7XG4gICAgICAgIHBjLl9kaXNwYXRjaEV2ZW50KCdpY2VjYW5kaWRhdGUnLCBldmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGxldGUpIHtcbiAgICAgICAgcGMuX2Rpc3BhdGNoRXZlbnQoJ2ljZWNhbmRpZGF0ZScsIG5ldyBFdmVudCgnaWNlY2FuZGlkYXRlJykpO1xuICAgICAgICBwYy5pY2VHYXRoZXJpbmdTdGF0ZSA9ICdjb21wbGV0ZSc7XG4gICAgICAgIHBjLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZW1pdCBhbHJlYWR5IGdhdGhlcmVkIGNhbmRpZGF0ZXMuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBidWZmZXJlZENhbmRpZGF0ZUV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWNlR2F0aGVyZXIub25sb2NhbGNhbmRpZGF0ZShlKTtcbiAgICAgIH0pO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBJQ0UgdHJhbnNwb3J0IGFuZCBEVExTIHRyYW5zcG9ydC5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYyA9IHRoaXM7XG4gICAgdmFyIGljZVRyYW5zcG9ydCA9IG5ldyB3aW5kb3cuUlRDSWNlVHJhbnNwb3J0KG51bGwpO1xuICAgIGljZVRyYW5zcG9ydC5vbmljZXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICBwYy5fdXBkYXRlSWNlQ29ubmVjdGlvblN0YXRlKCk7XG4gICAgICBwYy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBkdGxzVHJhbnNwb3J0ID0gbmV3IHdpbmRvdy5SVENEdGxzVHJhbnNwb3J0KGljZVRyYW5zcG9ydCk7XG4gICAgZHRsc1RyYW5zcG9ydC5vbmR0bHNzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcGMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpO1xuICAgIH07XG4gICAgZHRsc1RyYW5zcG9ydC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBvbmVycm9yIGRvZXMgbm90IHNldCBzdGF0ZSB0byBmYWlsZWQgYnkgaXRzZWxmLlxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGR0bHNUcmFuc3BvcnQsICdzdGF0ZScsXG4gICAgICAgICAge3ZhbHVlOiAnZmFpbGVkJywgd3JpdGFibGU6IHRydWV9KTtcbiAgICAgIHBjLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGljZVRyYW5zcG9ydDogaWNlVHJhbnNwb3J0LFxuICAgICAgZHRsc1RyYW5zcG9ydDogZHRsc1RyYW5zcG9ydFxuICAgIH07XG4gIH07XG5cbiAgLy8gRGVzdHJveSBJQ0UgZ2F0aGVyZXIsIElDRSB0cmFuc3BvcnQgYW5kIERUTFMgdHJhbnNwb3J0LlxuICAvLyBXaXRob3V0IHRyaWdnZXJpbmcgdGhlIGNhbGxiYWNrcy5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9kaXNwb3NlSWNlQW5kRHRsc1RyYW5zcG9ydHMgPSBmdW5jdGlvbihcbiAgICAgIHNkcE1MaW5lSW5kZXgpIHtcbiAgICB2YXIgaWNlR2F0aGVyZXIgPSB0aGlzLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5pY2VHYXRoZXJlcjtcbiAgICBpZiAoaWNlR2F0aGVyZXIpIHtcbiAgICAgIGRlbGV0ZSBpY2VHYXRoZXJlci5vbmxvY2FsY2FuZGlkYXRlO1xuICAgICAgZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLmljZUdhdGhlcmVyO1xuICAgIH1cbiAgICB2YXIgaWNlVHJhbnNwb3J0ID0gdGhpcy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uaWNlVHJhbnNwb3J0O1xuICAgIGlmIChpY2VUcmFuc3BvcnQpIHtcbiAgICAgIGRlbGV0ZSBpY2VUcmFuc3BvcnQub25pY2VzdGF0ZWNoYW5nZTtcbiAgICAgIGRlbGV0ZSB0aGlzLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5pY2VUcmFuc3BvcnQ7XG4gICAgfVxuICAgIHZhciBkdGxzVHJhbnNwb3J0ID0gdGhpcy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uZHRsc1RyYW5zcG9ydDtcbiAgICBpZiAoZHRsc1RyYW5zcG9ydCkge1xuICAgICAgZGVsZXRlIGR0bHNUcmFuc3BvcnQub25kdGxzc3RhdGVjaGFuZ2U7XG4gICAgICBkZWxldGUgZHRsc1RyYW5zcG9ydC5vbmVycm9yO1xuICAgICAgZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLmR0bHNUcmFuc3BvcnQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0YXJ0IHRoZSBSVFAgU2VuZGVyIGFuZCBSZWNlaXZlciBmb3IgYSB0cmFuc2NlaXZlci5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl90cmFuc2NlaXZlID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsXG4gICAgICBzZW5kLCByZWN2KSB7XG4gICAgdmFyIHBhcmFtcyA9IGdldENvbW1vbkNhcGFiaWxpdGllcyh0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllcyxcbiAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzKTtcbiAgICBpZiAoc2VuZCAmJiB0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHtcbiAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzO1xuICAgICAgcGFyYW1zLnJ0Y3AgPSB7XG4gICAgICAgIGNuYW1lOiBTRFBVdGlscy5sb2NhbENOYW1lLFxuICAgICAgICBjb21wb3VuZDogdHJhbnNjZWl2ZXIucnRjcFBhcmFtZXRlcnMuY29tcG91bmRcbiAgICAgIH07XG4gICAgICBpZiAodHJhbnNjZWl2ZXIucmVjdkVuY29kaW5nUGFyYW1ldGVycy5sZW5ndGgpIHtcbiAgICAgICAgcGFyYW1zLnJ0Y3Auc3NyYyA9IHRyYW5zY2VpdmVyLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYztcbiAgICAgIH1cbiAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5zZW5kKHBhcmFtcyk7XG4gICAgfVxuICAgIGlmIChyZWN2ICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyICYmIHBhcmFtcy5jb2RlY3MubGVuZ3RoID4gMCkge1xuICAgICAgLy8gcmVtb3ZlIFJUWCBmaWVsZCBpbiBFZGdlIDE0OTQyXG4gICAgICBpZiAodHJhbnNjZWl2ZXIua2luZCA9PT0gJ3ZpZGVvJ1xuICAgICAgICAgICYmIHRyYW5zY2VpdmVyLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnNcbiAgICAgICAgICAmJiBlZGdlVmVyc2lvbiA8IDE1MDE5KSB7XG4gICAgICAgIHRyYW5zY2VpdmVyLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgZGVsZXRlIHAucnR4O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2NlaXZlci5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aCkge1xuICAgICAgICBwYXJhbXMuZW5jb2RpbmdzID0gdHJhbnNjZWl2ZXIucmVjdkVuY29kaW5nUGFyYW1ldGVycztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSBbe31dO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnJ0Y3AgPSB7XG4gICAgICAgIGNvbXBvdW5kOiB0cmFuc2NlaXZlci5ydGNwUGFyYW1ldGVycy5jb21wb3VuZFxuICAgICAgfTtcbiAgICAgIGlmICh0cmFuc2NlaXZlci5ydGNwUGFyYW1ldGVycy5jbmFtZSkge1xuICAgICAgICBwYXJhbXMucnRjcC5jbmFtZSA9IHRyYW5zY2VpdmVyLnJ0Y3BQYXJhbWV0ZXJzLmNuYW1lO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBhcmFtcy5ydGNwLnNzcmMgPSB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmM7XG4gICAgICB9XG4gICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlci5yZWNlaXZlKHBhcmFtcyk7XG4gICAgfVxuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uID0gZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcbiAgICB2YXIgcGMgPSB0aGlzO1xuXG4gICAgLy8gTm90ZTogcHJhbnN3ZXIgaXMgbm90IHN1cHBvcnRlZC5cbiAgICBpZiAoWydvZmZlcicsICdhbnN3ZXInXS5pbmRleE9mKGRlc2NyaXB0aW9uLnR5cGUpID09PSAtMSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG1ha2VFcnJvcignVHlwZUVycm9yJyxcbiAgICAgICAgICAnVW5zdXBwb3J0ZWQgdHlwZSBcIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJ1wiJykpO1xuICAgIH1cblxuICAgIGlmICghaXNBY3Rpb25BbGxvd2VkSW5TaWduYWxpbmdTdGF0ZSgnc2V0TG9jYWxEZXNjcmlwdGlvbicsXG4gICAgICAgIGRlc2NyaXB0aW9uLnR5cGUsIHBjLnNpZ25hbGluZ1N0YXRlKSB8fCBwYy5faXNDbG9zZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChtYWtlRXJyb3IoJ0ludmFsaWRTdGF0ZUVycm9yJyxcbiAgICAgICAgICAnQ2FuIG5vdCBzZXQgbG9jYWwgJyArIGRlc2NyaXB0aW9uLnR5cGUgK1xuICAgICAgICAgICcgaW4gc3RhdGUgJyArIHBjLnNpZ25hbGluZ1N0YXRlKSk7XG4gICAgfVxuXG4gICAgdmFyIHNlY3Rpb25zO1xuICAgIHZhciBzZXNzaW9ucGFydDtcbiAgICBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ29mZmVyJykge1xuICAgICAgLy8gVkVSWSBsaW1pdGVkIHN1cHBvcnQgZm9yIFNEUCBtdW5naW5nLiBMaW1pdGVkIHRvOlxuICAgICAgLy8gKiBjaGFuZ2luZyB0aGUgb3JkZXIgb2YgY29kZWNzXG4gICAgICBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoZGVzY3JpcHRpb24uc2RwKTtcbiAgICAgIHNlc3Npb25wYXJ0ID0gc2VjdGlvbnMuc2hpZnQoKTtcbiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICAgIHZhciBjYXBzID0gU0RQVXRpbHMucGFyc2VSdHBQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbik7XG4gICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5sb2NhbENhcGFiaWxpdGllcyA9IGNhcHM7XG4gICAgICB9KTtcblxuICAgICAgcGMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIsIHNkcE1MaW5lSW5kZXgpIHtcbiAgICAgICAgcGMuX2dhdGhlcih0cmFuc2NlaXZlci5taWQsIHNkcE1MaW5lSW5kZXgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJykge1xuICAgICAgc2VjdGlvbnMgPSBTRFBVdGlscy5zcGxpdFNlY3Rpb25zKHBjLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApO1xuICAgICAgc2Vzc2lvbnBhcnQgPSBzZWN0aW9ucy5zaGlmdCgpO1xuICAgICAgdmFyIGlzSWNlTGl0ZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KHNlc3Npb25wYXJ0LFxuICAgICAgICAgICdhPWljZS1saXRlJykubGVuZ3RoID4gMDtcbiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XTtcbiAgICAgICAgdmFyIGljZUdhdGhlcmVyID0gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXI7XG4gICAgICAgIHZhciBpY2VUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQ7XG4gICAgICAgIHZhciBkdGxzVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydDtcbiAgICAgICAgdmFyIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7XG4gICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXM7XG5cbiAgICAgICAgLy8gdHJlYXQgYnVuZGxlLW9ubHkgYXMgbm90LXJlamVjdGVkLlxuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBTRFBVdGlscy5pc1JlamVjdGVkKG1lZGlhU2VjdGlvbikgJiZcbiAgICAgICAgICAgIFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9YnVuZGxlLW9ubHknKS5sZW5ndGggPT09IDA7XG5cbiAgICAgICAgaWYgKCFyZWplY3RlZCAmJiAhdHJhbnNjZWl2ZXIucmVqZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlSWNlUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldEljZVBhcmFtZXRlcnMoXG4gICAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpO1xuICAgICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzKFxuICAgICAgICAgICAgICBtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KTtcbiAgICAgICAgICBpZiAoaXNJY2VMaXRlKSB7XG4gICAgICAgICAgICByZW1vdGVEdGxzUGFyYW1ldGVycy5yb2xlID0gJ3NlcnZlcic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFwYy51c2luZ0J1bmRsZSB8fCBzZHBNTGluZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBwYy5fZ2F0aGVyKHRyYW5zY2VpdmVyLm1pZCwgc2RwTUxpbmVJbmRleCk7XG4gICAgICAgICAgICBpZiAoaWNlVHJhbnNwb3J0LnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgICAgICAgICBpY2VUcmFuc3BvcnQuc3RhcnQoaWNlR2F0aGVyZXIsIHJlbW90ZUljZVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICBpc0ljZUxpdGUgPyAnY29udHJvbGxpbmcnIDogJ2NvbnRyb2xsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkdGxzVHJhbnNwb3J0LnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgICAgICAgICBkdGxzVHJhbnNwb3J0LnN0YXJ0KHJlbW90ZUR0bHNQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDYWxjdWxhdGUgaW50ZXJzZWN0aW9uIG9mIGNhcGFiaWxpdGllcy5cbiAgICAgICAgICB2YXIgcGFyYW1zID0gZ2V0Q29tbW9uQ2FwYWJpbGl0aWVzKGxvY2FsQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXMpO1xuXG4gICAgICAgICAgLy8gU3RhcnQgdGhlIFJUQ1J0cFNlbmRlci4gVGhlIFJUQ1J0cFJlY2VpdmVyIGZvciB0aGlzXG4gICAgICAgICAgLy8gdHJhbnNjZWl2ZXIgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIGluIHNldFJlbW90ZURlc2NyaXB0aW9uLlxuICAgICAgICAgIHBjLl90cmFuc2NlaXZlKHRyYW5zY2VpdmVyLFxuICAgICAgICAgICAgICBwYXJhbXMuY29kZWNzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGMuX2xvY2FsRGVzY3JpcHRpb24gPSB7XG4gICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlLFxuICAgICAgc2RwOiBkZXNjcmlwdGlvbi5zZHBcbiAgICB9O1xuICAgIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7XG4gICAgICBwYy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2hhdmUtbG9jYWwtb2ZmZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdzdGFibGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcbiAgICB2YXIgcGMgPSB0aGlzO1xuXG4gICAgLy8gTm90ZTogcHJhbnN3ZXIgaXMgbm90IHN1cHBvcnRlZC5cbiAgICBpZiAoWydvZmZlcicsICdhbnN3ZXInXS5pbmRleE9mKGRlc2NyaXB0aW9uLnR5cGUpID09PSAtMSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG1ha2VFcnJvcignVHlwZUVycm9yJyxcbiAgICAgICAgICAnVW5zdXBwb3J0ZWQgdHlwZSBcIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJ1wiJykpO1xuICAgIH1cblxuICAgIGlmICghaXNBY3Rpb25BbGxvd2VkSW5TaWduYWxpbmdTdGF0ZSgnc2V0UmVtb3RlRGVzY3JpcHRpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbi50eXBlLCBwYy5zaWduYWxpbmdTdGF0ZSkgfHwgcGMuX2lzQ2xvc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWFrZUVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcicsXG4gICAgICAgICAgJ0NhbiBub3Qgc2V0IHJlbW90ZSAnICsgZGVzY3JpcHRpb24udHlwZSArXG4gICAgICAgICAgJyBpbiBzdGF0ZSAnICsgcGMuc2lnbmFsaW5nU3RhdGUpKTtcbiAgICB9XG5cbiAgICB2YXIgc3RyZWFtcyA9IHt9O1xuICAgIHBjLnJlbW90ZVN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgIHN0cmVhbXNbc3RyZWFtLmlkXSA9IHN0cmVhbTtcbiAgICB9KTtcbiAgICB2YXIgcmVjZWl2ZXJMaXN0ID0gW107XG4gICAgdmFyIHNlY3Rpb25zID0gU0RQVXRpbHMuc3BsaXRTZWN0aW9ucyhkZXNjcmlwdGlvbi5zZHApO1xuICAgIHZhciBzZXNzaW9ucGFydCA9IHNlY3Rpb25zLnNoaWZ0KCk7XG4gICAgdmFyIGlzSWNlTGl0ZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KHNlc3Npb25wYXJ0LFxuICAgICAgICAnYT1pY2UtbGl0ZScpLmxlbmd0aCA+IDA7XG4gICAgdmFyIHVzaW5nQnVuZGxlID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoc2Vzc2lvbnBhcnQsXG4gICAgICAgICdhPWdyb3VwOkJVTkRMRSAnKS5sZW5ndGggPiAwO1xuICAgIHBjLnVzaW5nQnVuZGxlID0gdXNpbmdCdW5kbGU7XG4gICAgdmFyIGljZU9wdGlvbnMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChzZXNzaW9ucGFydCxcbiAgICAgICAgJ2E9aWNlLW9wdGlvbnM6JylbMF07XG4gICAgaWYgKGljZU9wdGlvbnMpIHtcbiAgICAgIHBjLmNhblRyaWNrbGVJY2VDYW5kaWRhdGVzID0gaWNlT3B0aW9ucy5zdWJzdHIoMTQpLnNwbGl0KCcgJylcbiAgICAgICAgICAuaW5kZXhPZigndHJpY2tsZScpID49IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBjLmNhblRyaWNrbGVJY2VDYW5kaWRhdGVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNkcE1MaW5lSW5kZXgpIHtcbiAgICAgIHZhciBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTtcbiAgICAgIHZhciBraW5kID0gU0RQVXRpbHMuZ2V0S2luZChtZWRpYVNlY3Rpb24pO1xuICAgICAgLy8gdHJlYXQgYnVuZGxlLW9ubHkgYXMgbm90LXJlamVjdGVkLlxuICAgICAgdmFyIHJlamVjdGVkID0gU0RQVXRpbHMuaXNSZWplY3RlZChtZWRpYVNlY3Rpb24pICYmXG4gICAgICAgICAgU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1idW5kbGUtb25seScpLmxlbmd0aCA9PT0gMDtcbiAgICAgIHZhciBwcm90b2NvbCA9IGxpbmVzWzBdLnN1YnN0cigyKS5zcGxpdCgnICcpWzJdO1xuXG4gICAgICB2YXIgZGlyZWN0aW9uID0gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpO1xuICAgICAgdmFyIHJlbW90ZU1zaWQgPSBTRFBVdGlscy5wYXJzZU1zaWQobWVkaWFTZWN0aW9uKTtcblxuICAgICAgdmFyIG1pZCA9IFNEUFV0aWxzLmdldE1pZChtZWRpYVNlY3Rpb24pIHx8IFNEUFV0aWxzLmdlbmVyYXRlSWRlbnRpZmllcigpO1xuXG4gICAgICAvLyBSZWplY3QgZGF0YWNoYW5uZWxzIHdoaWNoIGFyZSBub3QgaW1wbGVtZW50ZWQgeWV0LlxuICAgICAgaWYgKHJlamVjdGVkIHx8IChraW5kID09PSAnYXBwbGljYXRpb24nICYmIChwcm90b2NvbCA9PT0gJ0RUTFMvU0NUUCcgfHxcbiAgICAgICAgICBwcm90b2NvbCA9PT0gJ1VEUC9EVExTL1NDVFAnKSkpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBkYW5nZXJvdXMgaW4gdGhlIGNhc2Ugd2hlcmUgYSBub24tcmVqZWN0ZWQgbS1saW5lXG4gICAgICAgIC8vICAgICBiZWNvbWVzIHJlamVjdGVkLlxuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0gPSB7XG4gICAgICAgICAgbWlkOiBtaWQsXG4gICAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgICBwcm90b2NvbDogcHJvdG9jb2wsXG4gICAgICAgICAgcmVqZWN0ZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlamVjdGVkICYmIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSAmJlxuICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5yZWplY3RlZCkge1xuICAgICAgICAvLyByZWN5Y2xlIGEgcmVqZWN0ZWQgdHJhbnNjZWl2ZXIuXG4gICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHBjLl9jcmVhdGVUcmFuc2NlaXZlcihraW5kLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zY2VpdmVyO1xuICAgICAgdmFyIGljZUdhdGhlcmVyO1xuICAgICAgdmFyIGljZVRyYW5zcG9ydDtcbiAgICAgIHZhciBkdGxzVHJhbnNwb3J0O1xuICAgICAgdmFyIHJ0cFJlY2VpdmVyO1xuICAgICAgdmFyIHNlbmRFbmNvZGluZ1BhcmFtZXRlcnM7XG4gICAgICB2YXIgcmVjdkVuY29kaW5nUGFyYW1ldGVycztcbiAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllcztcblxuICAgICAgdmFyIHRyYWNrO1xuICAgICAgLy8gRklYTUU6IGVuc3VyZSB0aGUgbWVkaWFTZWN0aW9uIGhhcyBydGNwLW11eCBzZXQuXG4gICAgICB2YXIgcmVtb3RlQ2FwYWJpbGl0aWVzID0gU0RQVXRpbHMucGFyc2VSdHBQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbik7XG4gICAgICB2YXIgcmVtb3RlSWNlUGFyYW1ldGVycztcbiAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycztcbiAgICAgIGlmICghcmVqZWN0ZWQpIHtcbiAgICAgICAgcmVtb3RlSWNlUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldEljZVBhcmFtZXRlcnMobWVkaWFTZWN0aW9uLFxuICAgICAgICAgICAgc2Vzc2lvbnBhcnQpO1xuICAgICAgICByZW1vdGVEdGxzUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbixcbiAgICAgICAgICAgIHNlc3Npb25wYXJ0KTtcbiAgICAgICAgcmVtb3RlRHRsc1BhcmFtZXRlcnMucm9sZSA9ICdjbGllbnQnO1xuICAgICAgfVxuICAgICAgcmVjdkVuY29kaW5nUGFyYW1ldGVycyA9XG4gICAgICAgICAgU0RQVXRpbHMucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnMobWVkaWFTZWN0aW9uKTtcblxuICAgICAgdmFyIHJ0Y3BQYXJhbWV0ZXJzID0gU0RQVXRpbHMucGFyc2VSdGNwUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24pO1xuXG4gICAgICB2YXIgaXNDb21wbGV0ZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbixcbiAgICAgICAgICAnYT1lbmQtb2YtY2FuZGlkYXRlcycsIHNlc3Npb25wYXJ0KS5sZW5ndGggPiAwO1xuICAgICAgdmFyIGNhbmRzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1jYW5kaWRhdGU6JylcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uKGNhbmQpIHtcbiAgICAgICAgICAgIHJldHVybiBTRFBVdGlscy5wYXJzZUNhbmRpZGF0ZShjYW5kKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2FuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbmQuY29tcG9uZW50ID09PSAxO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayBpZiB3ZSBjYW4gdXNlIEJVTkRMRSBhbmQgZGlzcG9zZSB0cmFuc3BvcnRzLlxuICAgICAgaWYgKChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInIHx8IGRlc2NyaXB0aW9uLnR5cGUgPT09ICdhbnN3ZXInKSAmJlxuICAgICAgICAgICFyZWplY3RlZCAmJiB1c2luZ0J1bmRsZSAmJiBzZHBNTGluZUluZGV4ID4gMCAmJlxuICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSkge1xuICAgICAgICBwYy5fZGlzcG9zZUljZUFuZER0bHNUcmFuc3BvcnRzKHNkcE1MaW5lSW5kZXgpO1xuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uaWNlR2F0aGVyZXIgPVxuICAgICAgICAgICAgcGMudHJhbnNjZWl2ZXJzWzBdLmljZUdhdGhlcmVyO1xuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uaWNlVHJhbnNwb3J0ID1cbiAgICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1swXS5pY2VUcmFuc3BvcnQ7XG4gICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5kdGxzVHJhbnNwb3J0ID1cbiAgICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0O1xuICAgICAgICBpZiAocGMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLnJ0cFNlbmRlcikge1xuICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5ydHBTZW5kZXIuc2V0VHJhbnNwb3J0KFxuICAgICAgICAgICAgICBwYy50cmFuc2NlaXZlcnNbMF0uZHRsc1RyYW5zcG9ydCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5ydHBSZWNlaXZlcikge1xuICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5ydHBSZWNlaXZlci5zZXRUcmFuc3BvcnQoXG4gICAgICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicgJiYgIXJlamVjdGVkKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyID0gcGMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdIHx8XG4gICAgICAgICAgICBwYy5fY3JlYXRlVHJhbnNjZWl2ZXIoa2luZCk7XG4gICAgICAgIHRyYW5zY2VpdmVyLm1pZCA9IG1pZDtcblxuICAgICAgICBpZiAoIXRyYW5zY2VpdmVyLmljZUdhdGhlcmVyKSB7XG4gICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIgPSBwYy5fY3JlYXRlSWNlR2F0aGVyZXIoc2RwTUxpbmVJbmRleCxcbiAgICAgICAgICAgICAgdXNpbmdCdW5kbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbmRzLmxlbmd0aCAmJiB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RhdGUgPT09ICduZXcnKSB7XG4gICAgICAgICAgaWYgKGlzQ29tcGxldGUgJiYgKCF1c2luZ0J1bmRsZSB8fCBzZHBNTGluZUluZGV4ID09PSAwKSkge1xuICAgICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnNldFJlbW90ZUNhbmRpZGF0ZXMoY2FuZHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYW5kcy5mb3JFYWNoKGZ1bmN0aW9uKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICBtYXliZUFkZENhbmRpZGF0ZSh0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQsIGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbENhcGFiaWxpdGllcyA9IHdpbmRvdy5SVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMoa2luZCk7XG5cbiAgICAgICAgLy8gZmlsdGVyIFJUWCB1bnRpbCBhZGRpdGlvbmFsIHN0dWZmIG5lZWRlZCBmb3IgUlRYIGlzIGltcGxlbWVudGVkXG4gICAgICAgIC8vIGluIGFkYXB0ZXIuanNcbiAgICAgICAgaWYgKGVkZ2VWZXJzaW9uIDwgMTUwMTkpIHtcbiAgICAgICAgICBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MgPSBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MuZmlsdGVyKFxuICAgICAgICAgICAgICBmdW5jdGlvbihjb2RlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2RlYy5uYW1lICE9PSAncnR4JztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzID0gdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVycyB8fCBbe1xuICAgICAgICAgIHNzcmM6ICgyICogc2RwTUxpbmVJbmRleCArIDIpICogMTAwMVxuICAgICAgICB9XTtcblxuICAgICAgICAvLyBUT0RPOiByZXdyaXRlIHRvIHVzZSBodHRwOi8vdzNjLmdpdGh1Yi5pby93ZWJydGMtcGMvI3NldC1hc3NvY2lhdGVkLXJlbW90ZS1zdHJlYW1zXG4gICAgICAgIHZhciBpc05ld1RyYWNrID0gZmFsc2U7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKSB7XG4gICAgICAgICAgaXNOZXdUcmFjayA9ICF0cmFuc2NlaXZlci5ydHBSZWNlaXZlcjtcbiAgICAgICAgICBydHBSZWNlaXZlciA9IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyIHx8XG4gICAgICAgICAgICAgIG5ldyB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIodHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydCwga2luZCk7XG5cbiAgICAgICAgICBpZiAoaXNOZXdUcmFjaykge1xuICAgICAgICAgICAgdmFyIHN0cmVhbTtcbiAgICAgICAgICAgIHRyYWNrID0gcnRwUmVjZWl2ZXIudHJhY2s7XG4gICAgICAgICAgICAvLyBGSVhNRTogZG9lcyBub3Qgd29yayB3aXRoIFBsYW4gQi5cbiAgICAgICAgICAgIGlmIChyZW1vdGVNc2lkICYmIHJlbW90ZU1zaWQuc3RyZWFtID09PSAnLScpIHtcbiAgICAgICAgICAgICAgLy8gbm8tb3AuIGEgc3RyZWFtIGlkIG9mICctJyBtZWFuczogbm8gYXNzb2NpYXRlZCBzdHJlYW0uXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlbW90ZU1zaWQpIHtcbiAgICAgICAgICAgICAgaWYgKCFzdHJlYW1zW3JlbW90ZU1zaWQuc3RyZWFtXSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbXNbcmVtb3RlTXNpZC5zdHJlYW1dID0gbmV3IHdpbmRvdy5NZWRpYVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHJlYW1zW3JlbW90ZU1zaWQuc3RyZWFtXSwgJ2lkJywge1xuICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZU1zaWQuc3RyZWFtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0cmFjaywgJ2lkJywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlTXNpZC50cmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdHJlYW0gPSBzdHJlYW1zW3JlbW90ZU1zaWQuc3RyZWFtXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghc3RyZWFtcy5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtcy5kZWZhdWx0ID0gbmV3IHdpbmRvdy5NZWRpYVN0cmVhbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0cmVhbSA9IHN0cmVhbXMuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgYWRkVHJhY2tUb1N0cmVhbUFuZEZpcmVFdmVudCh0cmFjaywgc3RyZWFtKTtcbiAgICAgICAgICAgICAgdHJhbnNjZWl2ZXIuYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtcy5wdXNoKHN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNlaXZlckxpc3QucHVzaChbdHJhY2ssIHJ0cFJlY2VpdmVyLCBzdHJlYW1dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIgJiYgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIudHJhY2spIHtcbiAgICAgICAgICB0cmFuc2NlaXZlci5hc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zLmZvckVhY2goZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgdmFyIG5hdGl2ZVRyYWNrID0gcy5nZXRUcmFja3MoKS5maW5kKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQuaWQgPT09IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyLnRyYWNrLmlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobmF0aXZlVHJhY2spIHtcbiAgICAgICAgICAgICAgcmVtb3ZlVHJhY2tGcm9tU3RyZWFtQW5kRmlyZUV2ZW50KG5hdGl2ZVRyYWNrLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0cmFuc2NlaXZlci5hc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllcyA9IGxvY2FsQ2FwYWJpbGl0aWVzO1xuICAgICAgICB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMgPSByZW1vdGVDYXBhYmlsaXRpZXM7XG4gICAgICAgIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyID0gcnRwUmVjZWl2ZXI7XG4gICAgICAgIHRyYW5zY2VpdmVyLnJ0Y3BQYXJhbWV0ZXJzID0gcnRjcFBhcmFtZXRlcnM7XG4gICAgICAgIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnMgPSBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzO1xuICAgICAgICB0cmFuc2NlaXZlci5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzID0gcmVjdkVuY29kaW5nUGFyYW1ldGVycztcblxuICAgICAgICAvLyBTdGFydCB0aGUgUlRDUnRwUmVjZWl2ZXIgbm93LiBUaGUgUlRQU2VuZGVyIGlzIHN0YXJ0ZWQgaW5cbiAgICAgICAgLy8gc2V0TG9jYWxEZXNjcmlwdGlvbi5cbiAgICAgICAgcGMuX3RyYW5zY2VpdmUocGMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBpc05ld1RyYWNrKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ2Fuc3dlcicgJiYgIXJlamVjdGVkKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyID0gcGMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdO1xuICAgICAgICBpY2VHYXRoZXJlciA9IHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyO1xuICAgICAgICBpY2VUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQ7XG4gICAgICAgIGR0bHNUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0O1xuICAgICAgICBydHBSZWNlaXZlciA9IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyO1xuICAgICAgICBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzID0gdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVycztcbiAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllcztcblxuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0ucmVjdkVuY29kaW5nUGFyYW1ldGVycyA9XG4gICAgICAgICAgICByZWN2RW5jb2RpbmdQYXJhbWV0ZXJzO1xuICAgICAgICBwYy50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0ucmVtb3RlQ2FwYWJpbGl0aWVzID1cbiAgICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllcztcbiAgICAgICAgcGMudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLnJ0Y3BQYXJhbWV0ZXJzID0gcnRjcFBhcmFtZXRlcnM7XG5cbiAgICAgICAgaWYgKGNhbmRzLmxlbmd0aCAmJiBpY2VUcmFuc3BvcnQuc3RhdGUgPT09ICduZXcnKSB7XG4gICAgICAgICAgaWYgKChpc0ljZUxpdGUgfHwgaXNDb21wbGV0ZSkgJiZcbiAgICAgICAgICAgICAgKCF1c2luZ0J1bmRsZSB8fCBzZHBNTGluZUluZGV4ID09PSAwKSkge1xuICAgICAgICAgICAgaWNlVHJhbnNwb3J0LnNldFJlbW90ZUNhbmRpZGF0ZXMoY2FuZHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYW5kcy5mb3JFYWNoKGZ1bmN0aW9uKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICBtYXliZUFkZENhbmRpZGF0ZSh0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQsIGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVzaW5nQnVuZGxlIHx8IHNkcE1MaW5lSW5kZXggPT09IDApIHtcbiAgICAgICAgICBpZiAoaWNlVHJhbnNwb3J0LnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgICAgICAgaWNlVHJhbnNwb3J0LnN0YXJ0KGljZUdhdGhlcmVyLCByZW1vdGVJY2VQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICdjb250cm9sbGluZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZHRsc1RyYW5zcG9ydC5zdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQuc3RhcnQocmVtb3RlRHRsc1BhcmFtZXRlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBvZmZlciBjb250YWluZWQgUlRYIGJ1dCB0aGUgYW5zd2VyIGRpZCBub3QsXG4gICAgICAgIC8vIHJlbW92ZSBSVFggZnJvbSBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLlxuICAgICAgICB2YXIgY29tbW9uQ2FwYWJpbGl0aWVzID0gZ2V0Q29tbW9uQ2FwYWJpbGl0aWVzKFxuICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgIHRyYW5zY2VpdmVyLnJlbW90ZUNhcGFiaWxpdGllcyk7XG5cbiAgICAgICAgdmFyIGhhc1J0eCA9IGNvbW1vbkNhcGFiaWxpdGllcy5jb2RlY3MuZmlsdGVyKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdydHgnO1xuICAgICAgICB9KS5sZW5ndGg7XG4gICAgICAgIGlmICghaGFzUnR4ICYmIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4KSB7XG4gICAgICAgICAgZGVsZXRlIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4O1xuICAgICAgICB9XG5cbiAgICAgICAgcGMuX3RyYW5zY2VpdmUodHJhbnNjZWl2ZXIsXG4gICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAncmVjdm9ubHknLFxuICAgICAgICAgICAgZGlyZWN0aW9uID09PSAnc2VuZHJlY3YnIHx8IGRpcmVjdGlvbiA9PT0gJ3NlbmRvbmx5Jyk7XG5cbiAgICAgICAgLy8gVE9ETzogcmV3cml0ZSB0byB1c2UgaHR0cDovL3czYy5naXRodWIuaW8vd2VicnRjLXBjLyNzZXQtYXNzb2NpYXRlZC1yZW1vdGUtc3RyZWFtc1xuICAgICAgICBpZiAocnRwUmVjZWl2ZXIgJiZcbiAgICAgICAgICAgIChkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKSkge1xuICAgICAgICAgIHRyYWNrID0gcnRwUmVjZWl2ZXIudHJhY2s7XG4gICAgICAgICAgaWYgKHJlbW90ZU1zaWQpIHtcbiAgICAgICAgICAgIGlmICghc3RyZWFtc1tyZW1vdGVNc2lkLnN0cmVhbV0pIHtcbiAgICAgICAgICAgICAgc3RyZWFtc1tyZW1vdGVNc2lkLnN0cmVhbV0gPSBuZXcgd2luZG93Lk1lZGlhU3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUcmFja1RvU3RyZWFtQW5kRmlyZUV2ZW50KHRyYWNrLCBzdHJlYW1zW3JlbW90ZU1zaWQuc3RyZWFtXSk7XG4gICAgICAgICAgICByZWNlaXZlckxpc3QucHVzaChbdHJhY2ssIHJ0cFJlY2VpdmVyLCBzdHJlYW1zW3JlbW90ZU1zaWQuc3RyZWFtXV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXN0cmVhbXMuZGVmYXVsdCkge1xuICAgICAgICAgICAgICBzdHJlYW1zLmRlZmF1bHQgPSBuZXcgd2luZG93Lk1lZGlhU3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUcmFja1RvU3RyZWFtQW5kRmlyZUV2ZW50KHRyYWNrLCBzdHJlYW1zLmRlZmF1bHQpO1xuICAgICAgICAgICAgcmVjZWl2ZXJMaXN0LnB1c2goW3RyYWNrLCBydHBSZWNlaXZlciwgc3RyZWFtcy5kZWZhdWx0XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZJWE1FOiBhY3R1YWxseSB0aGUgcmVjZWl2ZXIgc2hvdWxkIGJlIGNyZWF0ZWQgbGF0ZXIuXG4gICAgICAgICAgZGVsZXRlIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAocGMuX2R0bHNSb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBjLl9kdGxzUm9sZSA9IGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicgPyAnYWN0aXZlJyA6ICdwYXNzaXZlJztcbiAgICB9XG5cbiAgICBwYy5fcmVtb3RlRGVzY3JpcHRpb24gPSB7XG4gICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlLFxuICAgICAgc2RwOiBkZXNjcmlwdGlvbi5zZHBcbiAgICB9O1xuICAgIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7XG4gICAgICBwYy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2hhdmUtcmVtb3RlLW9mZmVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBjLl91cGRhdGVTaWduYWxpbmdTdGF0ZSgnc3RhYmxlJyk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHN0cmVhbXMpLmZvckVhY2goZnVuY3Rpb24oc2lkKSB7XG4gICAgICB2YXIgc3RyZWFtID0gc3RyZWFtc1tzaWRdO1xuICAgICAgaWYgKHN0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHBjLnJlbW90ZVN0cmVhbXMuaW5kZXhPZihzdHJlYW0pID09PSAtMSkge1xuICAgICAgICAgIHBjLnJlbW90ZVN0cmVhbXMucHVzaChzdHJlYW0pO1xuICAgICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudCgnYWRkc3RyZWFtJyk7XG4gICAgICAgICAgZXZlbnQuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGMuX2Rpc3BhdGNoRXZlbnQoJ2FkZHN0cmVhbScsIGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY2VpdmVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgdHJhY2sgPSBpdGVtWzBdO1xuICAgICAgICAgIHZhciByZWNlaXZlciA9IGl0ZW1bMV07XG4gICAgICAgICAgaWYgKHN0cmVhbS5pZCAhPT0gaXRlbVsyXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaXJlQWRkVHJhY2socGMsIHRyYWNrLCByZWNlaXZlciwgW3N0cmVhbV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWNlaXZlckxpc3QuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaXJlQWRkVHJhY2socGMsIGl0ZW1bMF0sIGl0ZW1bMV0sIFtdKTtcbiAgICB9KTtcblxuICAgIC8vIGNoZWNrIHdoZXRoZXIgYWRkSWNlQ2FuZGlkYXRlKHt9KSB3YXMgY2FsbGVkIHdpdGhpbiBmb3VyIHNlY29uZHMgYWZ0ZXJcbiAgICAvLyBzZXRSZW1vdGVEZXNjcmlwdGlvbi5cbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghKHBjICYmIHBjLnRyYW5zY2VpdmVycykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydCAmJlxuICAgICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnN0YXRlID09PSAnbmV3JyAmJlxuICAgICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LmdldFJlbW90ZUNhbmRpZGF0ZXMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdUaW1lb3V0IGZvciBhZGRSZW1vdGVDYW5kaWRhdGUuIENvbnNpZGVyIHNlbmRpbmcgJyArXG4gICAgICAgICAgICAgICdhbiBlbmQtb2YtY2FuZGlkYXRlcyBub3RpZmljYXRpb24nKTtcbiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgNDAwMCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgLyogbm90IHlldFxuICAgICAgaWYgKHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICAqL1xuICAgICAgaWYgKHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydCkge1xuICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RvcCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQpIHtcbiAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5zdG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5zdG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHtcbiAgICAgICAgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIuc3RvcCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEZJWE1FOiBjbGVhbiB1cCB0cmFja3MsIGxvY2FsIHN0cmVhbXMsIHJlbW90ZSBzdHJlYW1zLCBldGNcbiAgICB0aGlzLl9pc0Nsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2Nsb3NlZCcpO1xuICB9O1xuXG4gIC8vIFVwZGF0ZSB0aGUgc2lnbmFsaW5nIHN0YXRlLlxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcbiAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gbmV3U3RhdGU7XG4gICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdzaWduYWxpbmdzdGF0ZWNoYW5nZScpO1xuICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgZXZlbnQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIHRvIGZpcmUgdGhlIG5lZ290aWF0aW9ubmVlZGVkIGV2ZW50LlxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBjID0gdGhpcztcbiAgICBpZiAodGhpcy5zaWduYWxpbmdTdGF0ZSAhPT0gJ3N0YWJsZScgfHwgdGhpcy5uZWVkTmVnb3RpYXRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5uZWVkTmVnb3RpYXRpb24gPSB0cnVlO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHBjLm5lZWROZWdvdGlhdGlvbikge1xuICAgICAgICBwYy5uZWVkTmVnb3RpYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCduZWdvdGlhdGlvbm5lZWRlZCcpO1xuICAgICAgICBwYy5fZGlzcGF0Y2hFdmVudCgnbmVnb3RpYXRpb25uZWVkZWQnLCBldmVudCk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLy8gVXBkYXRlIHRoZSBpY2UgY29ubmVjdGlvbiBzdGF0ZS5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl91cGRhdGVJY2VDb25uZWN0aW9uU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3U3RhdGU7XG4gICAgdmFyIHN0YXRlcyA9IHtcbiAgICAgICduZXcnOiAwLFxuICAgICAgY2xvc2VkOiAwLFxuICAgICAgY2hlY2tpbmc6IDAsXG4gICAgICBjb25uZWN0ZWQ6IDAsXG4gICAgICBjb21wbGV0ZWQ6IDAsXG4gICAgICBkaXNjb25uZWN0ZWQ6IDAsXG4gICAgICBmYWlsZWQ6IDBcbiAgICB9O1xuICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQgJiYgIXRyYW5zY2VpdmVyLnJlamVjdGVkKSB7XG4gICAgICAgIHN0YXRlc1t0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RhdGVdKys7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBuZXdTdGF0ZSA9ICduZXcnO1xuICAgIGlmIChzdGF0ZXMuZmFpbGVkID4gMCkge1xuICAgICAgbmV3U3RhdGUgPSAnZmFpbGVkJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlcy5jaGVja2luZyA+IDApIHtcbiAgICAgIG5ld1N0YXRlID0gJ2NoZWNraW5nJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlcy5kaXNjb25uZWN0ZWQgPiAwKSB7XG4gICAgICBuZXdTdGF0ZSA9ICdkaXNjb25uZWN0ZWQnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGVzLm5ldyA+IDApIHtcbiAgICAgIG5ld1N0YXRlID0gJ25ldyc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZXMuY29ubmVjdGVkID4gMCkge1xuICAgICAgbmV3U3RhdGUgPSAnY29ubmVjdGVkJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb21wbGV0ZWQgPiAwKSB7XG4gICAgICBuZXdTdGF0ZSA9ICdjb21wbGV0ZWQnO1xuICAgIH1cblxuICAgIGlmIChuZXdTdGF0ZSAhPT0gdGhpcy5pY2VDb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgIHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScpO1xuICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudCgnaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb24gc3RhdGUuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fdXBkYXRlQ29ubmVjdGlvblN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld1N0YXRlO1xuICAgIHZhciBzdGF0ZXMgPSB7XG4gICAgICAnbmV3JzogMCxcbiAgICAgIGNsb3NlZDogMCxcbiAgICAgIGNvbm5lY3Rpbmc6IDAsXG4gICAgICBjb25uZWN0ZWQ6IDAsXG4gICAgICBjb21wbGV0ZWQ6IDAsXG4gICAgICBkaXNjb25uZWN0ZWQ6IDAsXG4gICAgICBmYWlsZWQ6IDBcbiAgICB9O1xuICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQgJiYgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydCAmJlxuICAgICAgICAgICF0cmFuc2NlaXZlci5yZWplY3RlZCkge1xuICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnN0YXRlXSsrO1xuICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5zdGF0ZV0rKztcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBJQ0VUcmFuc3BvcnQuY29tcGxldGVkIGFuZCBjb25uZWN0ZWQgYXJlIHRoZSBzYW1lIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgc3RhdGVzLmNvbm5lY3RlZCArPSBzdGF0ZXMuY29tcGxldGVkO1xuXG4gICAgbmV3U3RhdGUgPSAnbmV3JztcbiAgICBpZiAoc3RhdGVzLmZhaWxlZCA+IDApIHtcbiAgICAgIG5ld1N0YXRlID0gJ2ZhaWxlZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZXMuY29ubmVjdGluZyA+IDApIHtcbiAgICAgIG5ld1N0YXRlID0gJ2Nvbm5lY3RpbmcnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGVzLmRpc2Nvbm5lY3RlZCA+IDApIHtcbiAgICAgIG5ld1N0YXRlID0gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZXMubmV3ID4gMCkge1xuICAgICAgbmV3U3RhdGUgPSAnbmV3JztcbiAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb25uZWN0ZWQgPiAwKSB7XG4gICAgICBuZXdTdGF0ZSA9ICdjb25uZWN0ZWQnO1xuICAgIH1cblxuICAgIGlmIChuZXdTdGF0ZSAhPT0gdGhpcy5jb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZScpO1xuICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudCgnY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGMgPSB0aGlzO1xuXG4gICAgaWYgKHBjLl9pc0Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG1ha2VFcnJvcignSW52YWxpZFN0YXRlRXJyb3InLFxuICAgICAgICAgICdDYW4gbm90IGNhbGwgY3JlYXRlT2ZmZXIgYWZ0ZXIgY2xvc2UnKSk7XG4gICAgfVxuXG4gICAgdmFyIG51bUF1ZGlvVHJhY2tzID0gcGMudHJhbnNjZWl2ZXJzLmZpbHRlcihmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5raW5kID09PSAnYXVkaW8nO1xuICAgIH0pLmxlbmd0aDtcbiAgICB2YXIgbnVtVmlkZW9UcmFja3MgPSBwYy50cmFuc2NlaXZlcnMuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LmtpbmQgPT09ICd2aWRlbyc7XG4gICAgfSkubGVuZ3RoO1xuXG4gICAgLy8gRGV0ZXJtaW5lIG51bWJlciBvZiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzIHdlIG5lZWQgdG8gc2VuZC9yZWN2LlxuICAgIHZhciBvZmZlck9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG4gICAgaWYgKG9mZmVyT3B0aW9ucykge1xuICAgICAgLy8gUmVqZWN0IENocm9tZSBsZWdhY3kgY29uc3RyYWludHMuXG4gICAgICBpZiAob2ZmZXJPcHRpb25zLm1hbmRhdG9yeSB8fCBvZmZlck9wdGlvbnMub3B0aW9uYWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICB9XG4gICAgICBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gPT09IHRydWUpIHtcbiAgICAgICAgICBudW1BdWRpb1RyYWNrcyA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgbnVtQXVkaW9UcmFja3MgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG51bUF1ZGlvVHJhY2tzID0gb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG51bVZpZGVvVHJhY2tzID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBudW1WaWRlb1RyYWNrcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtVmlkZW9UcmFja3MgPSBvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHBjLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7XG4gICAgICBpZiAodHJhbnNjZWl2ZXIua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICBudW1BdWRpb1RyYWNrcy0tO1xuICAgICAgICBpZiAobnVtQXVkaW9UcmFja3MgPCAwKSB7XG4gICAgICAgICAgdHJhbnNjZWl2ZXIud2FudFJlY2VpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5raW5kID09PSAndmlkZW8nKSB7XG4gICAgICAgIG51bVZpZGVvVHJhY2tzLS07XG4gICAgICAgIGlmIChudW1WaWRlb1RyYWNrcyA8IDApIHtcbiAgICAgICAgICB0cmFuc2NlaXZlci53YW50UmVjZWl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgTS1saW5lcyBmb3IgcmVjdm9ubHkgc3RyZWFtcy5cbiAgICB3aGlsZSAobnVtQXVkaW9UcmFja3MgPiAwIHx8IG51bVZpZGVvVHJhY2tzID4gMCkge1xuICAgICAgaWYgKG51bUF1ZGlvVHJhY2tzID4gMCkge1xuICAgICAgICBwYy5fY3JlYXRlVHJhbnNjZWl2ZXIoJ2F1ZGlvJyk7XG4gICAgICAgIG51bUF1ZGlvVHJhY2tzLS07XG4gICAgICB9XG4gICAgICBpZiAobnVtVmlkZW9UcmFja3MgPiAwKSB7XG4gICAgICAgIHBjLl9jcmVhdGVUcmFuc2NlaXZlcigndmlkZW8nKTtcbiAgICAgICAgbnVtVmlkZW9UcmFja3MtLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUocGMuX3NkcFNlc3Npb25JZCxcbiAgICAgICAgcGMuX3NkcFNlc3Npb25WZXJzaW9uKyspO1xuICAgIHBjLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zY2VpdmVyLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICAvLyBGb3IgZWFjaCB0cmFjaywgY3JlYXRlIGFuIGljZSBnYXRoZXJlciwgaWNlIHRyYW5zcG9ydCxcbiAgICAgIC8vIGR0bHMgdHJhbnNwb3J0LCBwb3RlbnRpYWxseSBydHBzZW5kZXIgYW5kIHJ0cHJlY2VpdmVyLlxuICAgICAgdmFyIHRyYWNrID0gdHJhbnNjZWl2ZXIudHJhY2s7XG4gICAgICB2YXIga2luZCA9IHRyYW5zY2VpdmVyLmtpbmQ7XG4gICAgICB2YXIgbWlkID0gdHJhbnNjZWl2ZXIubWlkIHx8IFNEUFV0aWxzLmdlbmVyYXRlSWRlbnRpZmllcigpO1xuICAgICAgdHJhbnNjZWl2ZXIubWlkID0gbWlkO1xuXG4gICAgICBpZiAoIXRyYW5zY2VpdmVyLmljZUdhdGhlcmVyKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyID0gcGMuX2NyZWF0ZUljZUdhdGhlcmVyKHNkcE1MaW5lSW5kZXgsXG4gICAgICAgICAgICBwYy51c2luZ0J1bmRsZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllcyA9IHdpbmRvdy5SVENSdHBTZW5kZXIuZ2V0Q2FwYWJpbGl0aWVzKGtpbmQpO1xuICAgICAgLy8gZmlsdGVyIFJUWCB1bnRpbCBhZGRpdGlvbmFsIHN0dWZmIG5lZWRlZCBmb3IgUlRYIGlzIGltcGxlbWVudGVkXG4gICAgICAvLyBpbiBhZGFwdGVyLmpzXG4gICAgICBpZiAoZWRnZVZlcnNpb24gPCAxNTAxOSkge1xuICAgICAgICBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MgPSBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MuZmlsdGVyKFxuICAgICAgICAgICAgZnVuY3Rpb24oY29kZWMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvZGVjLm5hbWUgIT09ICdydHgnO1xuICAgICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsb2NhbENhcGFiaWxpdGllcy5jb2RlY3MuZm9yRWFjaChmdW5jdGlvbihjb2RlYykge1xuICAgICAgICAvLyB3b3JrIGFyb3VuZCBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3Avd2VicnRjL2lzc3Vlcy9kZXRhaWw/aWQ9NjU1MlxuICAgICAgICAvLyBieSBhZGRpbmcgbGV2ZWwtYXN5bW1ldHJ5LWFsbG93ZWQ9MVxuICAgICAgICBpZiAoY29kZWMubmFtZSA9PT0gJ0gyNjQnICYmXG4gICAgICAgICAgICBjb2RlYy5wYXJhbWV0ZXJzWydsZXZlbC1hc3ltbWV0cnktYWxsb3dlZCddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb2RlYy5wYXJhbWV0ZXJzWydsZXZlbC1hc3ltbWV0cnktYWxsb3dlZCddID0gJzEnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIHN1YnNlcXVlbnQgb2ZmZXJzLCB3ZSBtaWdodCBoYXZlIHRvIHJlLXVzZSB0aGUgcGF5bG9hZFxuICAgICAgICAvLyB0eXBlIG9mIHRoZSBsYXN0IG9mZmVyLlxuICAgICAgICBpZiAodHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzICYmXG4gICAgICAgICAgICB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMuY29kZWNzKSB7XG4gICAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKHJlbW90ZUNvZGVjKSB7XG4gICAgICAgICAgICBpZiAoY29kZWMubmFtZS50b0xvd2VyQ2FzZSgpID09PSByZW1vdGVDb2RlYy5uYW1lLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgICAgICAgICBjb2RlYy5jbG9ja1JhdGUgPT09IHJlbW90ZUNvZGVjLmNsb2NrUmF0ZSkge1xuICAgICAgICAgICAgICBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSA9IHJlbW90ZUNvZGVjLnBheWxvYWRUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihoZHJFeHQpIHtcbiAgICAgICAgdmFyIHJlbW90ZUV4dGVuc2lvbnMgPSB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMgJiZcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zIHx8IFtdO1xuICAgICAgICByZW1vdGVFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24ockhkckV4dCkge1xuICAgICAgICAgIGlmIChoZHJFeHQudXJpID09PSBySGRyRXh0LnVyaSkge1xuICAgICAgICAgICAgaGRyRXh0LmlkID0gckhkckV4dC5pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGdlbmVyYXRlIGFuIHNzcmMgbm93LCB0byBiZSB1c2VkIGxhdGVyIGluIHJ0cFNlbmRlci5zZW5kXG4gICAgICB2YXIgc2VuZEVuY29kaW5nUGFyYW1ldGVycyA9IHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnMgfHwgW3tcbiAgICAgICAgc3NyYzogKDIgKiBzZHBNTGluZUluZGV4ICsgMSkgKiAxMDAxXG4gICAgICB9XTtcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICAvLyBhZGQgUlRYXG4gICAgICAgIGlmIChlZGdlVmVyc2lvbiA+PSAxNTAxOSAmJiBraW5kID09PSAndmlkZW8nICYmXG4gICAgICAgICAgICAhc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgpIHtcbiAgICAgICAgICBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCA9IHtcbiAgICAgICAgICAgIHNzcmM6IHNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYyArIDFcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFuc2NlaXZlci53YW50UmVjZWl2ZSkge1xuICAgICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlciA9IG5ldyB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIoXG4gICAgICAgICAgICB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LCBraW5kKTtcbiAgICAgIH1cblxuICAgICAgdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXMgPSBsb2NhbENhcGFiaWxpdGllcztcbiAgICAgIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnMgPSBzZW5kRW5jb2RpbmdQYXJhbWV0ZXJzO1xuICAgIH0pO1xuXG4gICAgLy8gYWx3YXlzIG9mZmVyIEJVTkRMRSBhbmQgZGlzcG9zZSBvbiByZXR1cm4gaWYgbm90IHN1cHBvcnRlZC5cbiAgICBpZiAocGMuX2NvbmZpZy5idW5kbGVQb2xpY3kgIT09ICdtYXgtY29tcGF0Jykge1xuICAgICAgc2RwICs9ICdhPWdyb3VwOkJVTkRMRSAnICsgcGMudHJhbnNjZWl2ZXJzLm1hcChmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Lm1pZDtcbiAgICAgIH0pLmpvaW4oJyAnKSArICdcXHJcXG4nO1xuICAgIH1cbiAgICBzZHAgKz0gJ2E9aWNlLW9wdGlvbnM6dHJpY2tsZVxcclxcbic7XG5cbiAgICBwYy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlciwgc2RwTUxpbmVJbmRleCkge1xuICAgICAgc2RwICs9IHdyaXRlTWVkaWFTZWN0aW9uKHRyYW5zY2VpdmVyLCB0cmFuc2NlaXZlci5sb2NhbENhcGFiaWxpdGllcyxcbiAgICAgICAgICAnb2ZmZXInLCB0cmFuc2NlaXZlci5zdHJlYW0sIHBjLl9kdGxzUm9sZSk7XG4gICAgICBzZHAgKz0gJ2E9cnRjcC1yc2l6ZVxcclxcbic7XG5cbiAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VHYXRoZXJlciAmJiBwYy5pY2VHYXRoZXJpbmdTdGF0ZSAhPT0gJ25ldycgJiZcbiAgICAgICAgICAoc2RwTUxpbmVJbmRleCA9PT0gMCB8fCAhcGMudXNpbmdCdW5kbGUpKSB7XG4gICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyLmdldExvY2FsQ2FuZGlkYXRlcygpLmZvckVhY2goZnVuY3Rpb24oY2FuZCkge1xuICAgICAgICAgIGNhbmQuY29tcG9uZW50ID0gMTtcbiAgICAgICAgICBzZHAgKz0gJ2E9JyArIFNEUFV0aWxzLndyaXRlQ2FuZGlkYXRlKGNhbmQpICsgJ1xcclxcbic7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICBzZHAgKz0gJ2E9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgZGVzYyA9IG5ldyB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6ICdvZmZlcicsXG4gICAgICBzZHA6IHNkcFxuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzYyk7XG4gIH07XG5cbiAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYyA9IHRoaXM7XG5cbiAgICBpZiAocGMuX2lzQ2xvc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWFrZUVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcicsXG4gICAgICAgICAgJ0NhbiBub3QgY2FsbCBjcmVhdGVBbnN3ZXIgYWZ0ZXIgY2xvc2UnKSk7XG4gICAgfVxuXG4gICAgaWYgKCEocGMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLXJlbW90ZS1vZmZlcicgfHxcbiAgICAgICAgcGMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLWxvY2FsLXByYW5zd2VyJykpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChtYWtlRXJyb3IoJ0ludmFsaWRTdGF0ZUVycm9yJyxcbiAgICAgICAgICAnQ2FuIG5vdCBjYWxsIGNyZWF0ZUFuc3dlciBpbiBzaWduYWxpbmdTdGF0ZSAnICsgcGMuc2lnbmFsaW5nU3RhdGUpKTtcbiAgICB9XG5cbiAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUocGMuX3NkcFNlc3Npb25JZCxcbiAgICAgICAgcGMuX3NkcFNlc3Npb25WZXJzaW9uKyspO1xuICAgIGlmIChwYy51c2luZ0J1bmRsZSkge1xuICAgICAgc2RwICs9ICdhPWdyb3VwOkJVTkRMRSAnICsgcGMudHJhbnNjZWl2ZXJzLm1hcChmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Lm1pZDtcbiAgICAgIH0pLmpvaW4oJyAnKSArICdcXHJcXG4nO1xuICAgIH1cbiAgICBzZHAgKz0gJ2E9aWNlLW9wdGlvbnM6dHJpY2tsZVxcclxcbic7XG5cbiAgICB2YXIgbWVkaWFTZWN0aW9uc0luT2ZmZXIgPSBTRFBVdGlscy5nZXRNZWRpYVNlY3Rpb25zKFxuICAgICAgICBwYy5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKS5sZW5ndGg7XG4gICAgcGMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIsIHNkcE1MaW5lSW5kZXgpIHtcbiAgICAgIGlmIChzZHBNTGluZUluZGV4ICsgMSA+IG1lZGlhU2VjdGlvbnNJbk9mZmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2NlaXZlci5yZWplY3RlZCkge1xuICAgICAgICBpZiAodHJhbnNjZWl2ZXIua2luZCA9PT0gJ2FwcGxpY2F0aW9uJykge1xuICAgICAgICAgIGlmICh0cmFuc2NlaXZlci5wcm90b2NvbCA9PT0gJ0RUTFMvU0NUUCcpIHsgLy8gbGVnYWN5IGZtdFxuICAgICAgICAgICAgc2RwICs9ICdtPWFwcGxpY2F0aW9uIDAgRFRMUy9TQ1RQIDUwMDBcXHJcXG4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZHAgKz0gJ209YXBwbGljYXRpb24gMCAnICsgdHJhbnNjZWl2ZXIucHJvdG9jb2wgK1xuICAgICAgICAgICAgICAgICcgd2VicnRjLWRhdGFjaGFubmVsXFxyXFxuJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgIHNkcCArPSAnbT1hdWRpbyAwIFVEUC9UTFMvUlRQL1NBVlBGIDBcXHJcXG4nICtcbiAgICAgICAgICAgICAgJ2E9cnRwbWFwOjAgUENNVS84MDAwXFxyXFxuJztcbiAgICAgICAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5raW5kID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgc2RwICs9ICdtPXZpZGVvIDAgVURQL1RMUy9SVFAvU0FWUEYgMTIwXFxyXFxuJyArXG4gICAgICAgICAgICAgICdhPXJ0cG1hcDoxMjAgVlA4LzkwMDAwXFxyXFxuJztcbiAgICAgICAgfVxuICAgICAgICBzZHAgKz0gJ2M9SU4gSVA0IDAuMC4wLjBcXHJcXG4nICtcbiAgICAgICAgICAgICdhPWluYWN0aXZlXFxyXFxuJyArXG4gICAgICAgICAgICAnYT1taWQ6JyArIHRyYW5zY2VpdmVyLm1pZCArICdcXHJcXG4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEZJWE1FOiBsb29rIGF0IGRpcmVjdGlvbi5cbiAgICAgIGlmICh0cmFuc2NlaXZlci5zdHJlYW0pIHtcbiAgICAgICAgdmFyIGxvY2FsVHJhY2s7XG4gICAgICAgIGlmICh0cmFuc2NlaXZlci5raW5kID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgbG9jYWxUcmFjayA9IHRyYW5zY2VpdmVyLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYW5zY2VpdmVyLmtpbmQgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICBsb2NhbFRyYWNrID0gdHJhbnNjZWl2ZXIuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsVHJhY2spIHtcbiAgICAgICAgICAvLyBhZGQgUlRYXG4gICAgICAgICAgaWYgKGVkZ2VWZXJzaW9uID49IDE1MDE5ICYmIHRyYW5zY2VpdmVyLmtpbmQgPT09ICd2aWRlbycgJiZcbiAgICAgICAgICAgICAgIXRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4KSB7XG4gICAgICAgICAgICB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCA9IHtcbiAgICAgICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjICsgMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbiBvZiBjYXBhYmlsaXRpZXMuXG4gICAgICB2YXIgY29tbW9uQ2FwYWJpbGl0aWVzID0gZ2V0Q29tbW9uQ2FwYWJpbGl0aWVzKFxuICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgIHRyYW5zY2VpdmVyLnJlbW90ZUNhcGFiaWxpdGllcyk7XG5cbiAgICAgIHZhciBoYXNSdHggPSBjb21tb25DYXBhYmlsaXRpZXMuY29kZWNzLmZpbHRlcihmdW5jdGlvbihjKSB7XG4gICAgICAgIHJldHVybiBjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3J0eCc7XG4gICAgICB9KS5sZW5ndGg7XG4gICAgICBpZiAoIWhhc1J0eCAmJiB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCkge1xuICAgICAgICBkZWxldGUgdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHg7XG4gICAgICB9XG5cbiAgICAgIHNkcCArPSB3cml0ZU1lZGlhU2VjdGlvbih0cmFuc2NlaXZlciwgY29tbW9uQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgICdhbnN3ZXInLCB0cmFuc2NlaXZlci5zdHJlYW0sIHBjLl9kdGxzUm9sZSk7XG4gICAgICBpZiAodHJhbnNjZWl2ZXIucnRjcFBhcmFtZXRlcnMgJiZcbiAgICAgICAgICB0cmFuc2NlaXZlci5ydGNwUGFyYW1ldGVycy5yZWR1Y2VkU2l6ZSkge1xuICAgICAgICBzZHAgKz0gJ2E9cnRjcC1yc2l6ZVxcclxcbic7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgZGVzYyA9IG5ldyB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgc2RwOiBzZHBcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2MpO1xuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUpIHtcbiAgICB2YXIgcGMgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9ucztcbiAgICBpZiAoY2FuZGlkYXRlICYmICEoY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXggIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBjYW5kaWRhdGUuc2RwTWlkKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ3NkcE1MaW5lSW5kZXggb3Igc2RwTWlkIHJlcXVpcmVkJykpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IG5lZWRzIHRvIGdvIGludG8gb3BzIHF1ZXVlLlxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICghcGMuX3JlbW90ZURlc2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobWFrZUVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcicsXG4gICAgICAgICAgICAnQ2FuIG5vdCBhZGQgSUNFIGNhbmRpZGF0ZSB3aXRob3V0IGEgcmVtb3RlIGRlc2NyaXB0aW9uJykpO1xuICAgICAgfSBlbHNlIGlmICghY2FuZGlkYXRlIHx8IGNhbmRpZGF0ZS5jYW5kaWRhdGUgPT09ICcnKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGMudHJhbnNjZWl2ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHBjLnRyYW5zY2VpdmVyc1tqXS5yZWplY3RlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBjLnRyYW5zY2VpdmVyc1tqXS5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KTtcbiAgICAgICAgICBzZWN0aW9ucyA9IFNEUFV0aWxzLmdldE1lZGlhU2VjdGlvbnMocGMuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCk7XG4gICAgICAgICAgc2VjdGlvbnNbal0gKz0gJ2E9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG4nO1xuICAgICAgICAgIHBjLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHAgPVxuICAgICAgICAgICAgICBTRFBVdGlscy5nZXREZXNjcmlwdGlvbihwYy5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKSArXG4gICAgICAgICAgICAgIHNlY3Rpb25zLmpvaW4oJycpO1xuICAgICAgICAgIGlmIChwYy51c2luZ0J1bmRsZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2RwTUxpbmVJbmRleCA9IGNhbmRpZGF0ZS5zZHBNTGluZUluZGV4O1xuICAgICAgICBpZiAoY2FuZGlkYXRlLnNkcE1pZCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGMudHJhbnNjZWl2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocGMudHJhbnNjZWl2ZXJzW2ldLm1pZCA9PT0gY2FuZGlkYXRlLnNkcE1pZCkge1xuICAgICAgICAgICAgICBzZHBNTGluZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHBjLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XTtcbiAgICAgICAgaWYgKHRyYW5zY2VpdmVyKSB7XG4gICAgICAgICAgaWYgKHRyYW5zY2VpdmVyLnJlamVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY2FuZCA9IE9iamVjdC5rZXlzKGNhbmRpZGF0ZS5jYW5kaWRhdGUpLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICBTRFBVdGlscy5wYXJzZUNhbmRpZGF0ZShjYW5kaWRhdGUuY2FuZGlkYXRlKSA6IHt9O1xuICAgICAgICAgIC8vIElnbm9yZSBDaHJvbWUncyBpbnZhbGlkIGNhbmRpZGF0ZXMgc2luY2UgRWRnZSBkb2VzIG5vdCBsaWtlIHRoZW0uXG4gICAgICAgICAgaWYgKGNhbmQucHJvdG9jb2wgPT09ICd0Y3AnICYmIChjYW5kLnBvcnQgPT09IDAgfHwgY2FuZC5wb3J0ID09PSA5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWdub3JlIFJUQ1AgY2FuZGlkYXRlcywgd2UgYXNzdW1lIFJUQ1AtTVVYLlxuICAgICAgICAgIGlmIChjYW5kLmNvbXBvbmVudCAmJiBjYW5kLmNvbXBvbmVudCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2hlbiB1c2luZyBidW5kbGUsIGF2b2lkIGFkZGluZyBjYW5kaWRhdGVzIHRvIHRoZSB3cm9uZ1xuICAgICAgICAgIC8vIGljZSB0cmFuc3BvcnQuIEFuZCBhdm9pZCBhZGRpbmcgY2FuZGlkYXRlcyBhZGRlZCBpbiB0aGUgU0RQLlxuICAgICAgICAgIGlmIChzZHBNTGluZUluZGV4ID09PSAwIHx8IChzZHBNTGluZUluZGV4ID4gMCAmJlxuICAgICAgICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQgIT09IHBjLnRyYW5zY2VpdmVyc1swXS5pY2VUcmFuc3BvcnQpKSB7XG4gICAgICAgICAgICBpZiAoIW1heWJlQWRkQ2FuZGlkYXRlKHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydCwgY2FuZCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChtYWtlRXJyb3IoJ09wZXJhdGlvbkVycm9yJyxcbiAgICAgICAgICAgICAgICAgICdDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgcmVtb3RlRGVzY3JpcHRpb24uXG4gICAgICAgICAgdmFyIGNhbmRpZGF0ZVN0cmluZyA9IGNhbmRpZGF0ZS5jYW5kaWRhdGUudHJpbSgpO1xuICAgICAgICAgIGlmIChjYW5kaWRhdGVTdHJpbmcuaW5kZXhPZignYT0nKSA9PT0gMCkge1xuICAgICAgICAgICAgY2FuZGlkYXRlU3RyaW5nID0gY2FuZGlkYXRlU3RyaW5nLnN1YnN0cigyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VjdGlvbnMgPSBTRFBVdGlscy5nZXRNZWRpYVNlY3Rpb25zKHBjLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApO1xuICAgICAgICAgIHNlY3Rpb25zW3NkcE1MaW5lSW5kZXhdICs9ICdhPScgK1xuICAgICAgICAgICAgICAoY2FuZC50eXBlID8gY2FuZGlkYXRlU3RyaW5nIDogJ2VuZC1vZi1jYW5kaWRhdGVzJylcbiAgICAgICAgICAgICAgKyAnXFxyXFxuJztcbiAgICAgICAgICBwYy5fcmVtb3RlRGVzY3JpcHRpb24uc2RwID1cbiAgICAgICAgICAgICAgU0RQVXRpbHMuZ2V0RGVzY3JpcHRpb24ocGMuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkgK1xuICAgICAgICAgICAgICBzZWN0aW9ucy5qb2luKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KG1ha2VFcnJvcignT3BlcmF0aW9uRXJyb3InLFxuICAgICAgICAgICAgICAnQ2FuIG5vdCBhZGQgSUNFIGNhbmRpZGF0ZScpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgaWYgKHNlbGVjdG9yICYmIHNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93Lk1lZGlhU3RyZWFtVHJhY2spIHtcbiAgICAgIHZhciBzZW5kZXJPclJlY2VpdmVyID0gbnVsbDtcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlciAmJlxuICAgICAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnRyYWNrID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgIHNlbmRlck9yUmVjZWl2ZXIgPSB0cmFuc2NlaXZlci5ydHBTZW5kZXI7XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIgJiZcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyLnRyYWNrID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgIHNlbmRlck9yUmVjZWl2ZXIgPSB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNlbmRlck9yUmVjZWl2ZXIpIHtcbiAgICAgICAgdGhyb3cgbWFrZUVycm9yKCdJbnZhbGlkQWNjZXNzRXJyb3InLCAnSW52YWxpZCBzZWxlY3Rvci4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZW5kZXJPclJlY2VpdmVyLmdldFN0YXRzKCk7XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2VzID0gW107XG4gICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgWydydHBTZW5kZXInLCAncnRwUmVjZWl2ZXInLCAnaWNlR2F0aGVyZXInLCAnaWNlVHJhbnNwb3J0JyxcbiAgICAgICAgICAnZHRsc1RyYW5zcG9ydCddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNjZWl2ZXJbbWV0aG9kXSkge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zY2VpdmVyW21ldGhvZF0uZ2V0U3RhdHMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFsbFN0YXRzKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IG5ldyBNYXAoKTtcbiAgICAgIGFsbFN0YXRzLmZvckVhY2goZnVuY3Rpb24oc3RhdHMpIHtcbiAgICAgICAgc3RhdHMuZm9yRWFjaChmdW5jdGlvbihzdGF0KSB7XG4gICAgICAgICAgcmVzdWx0cy5zZXQoc3RhdC5pZCwgc3RhdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9KTtcbiAgfTtcblxuICAvLyBmaXggbG93LWxldmVsIHN0YXQgbmFtZXMgYW5kIHJldHVybiBNYXAgaW5zdGVhZCBvZiBvYmplY3QuXG4gIHZhciBvcnRjT2JqZWN0cyA9IFsnUlRDUnRwU2VuZGVyJywgJ1JUQ1J0cFJlY2VpdmVyJywgJ1JUQ0ljZUdhdGhlcmVyJyxcbiAgICAnUlRDSWNlVHJhbnNwb3J0JywgJ1JUQ0R0bHNUcmFuc3BvcnQnXTtcbiAgb3J0Y09iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvcnRjT2JqZWN0TmFtZSkge1xuICAgIHZhciBvYmogPSB3aW5kb3dbb3J0Y09iamVjdE5hbWVdO1xuICAgIGlmIChvYmogJiYgb2JqLnByb3RvdHlwZSAmJiBvYmoucHJvdG90eXBlLmdldFN0YXRzKSB7XG4gICAgICB2YXIgbmF0aXZlR2V0c3RhdHMgPSBvYmoucHJvdG90eXBlLmdldFN0YXRzO1xuICAgICAgb2JqLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmF0aXZlR2V0c3RhdHMuYXBwbHkodGhpcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24obmF0aXZlU3RhdHMpIHtcbiAgICAgICAgICB2YXIgbWFwU3RhdHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgT2JqZWN0LmtleXMobmF0aXZlU3RhdHMpLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIG5hdGl2ZVN0YXRzW2lkXS50eXBlID0gZml4U3RhdHNUeXBlKG5hdGl2ZVN0YXRzW2lkXSk7XG4gICAgICAgICAgICBtYXBTdGF0cy5zZXQoaWQsIG5hdGl2ZVN0YXRzW2lkXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG1hcFN0YXRzO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvLyBsZWdhY3kgY2FsbGJhY2sgc2hpbXMuIFNob3VsZCBiZSBtb3ZlZCB0byBhZGFwdGVyLmpzIHNvbWUgZGF5cy5cbiAgdmFyIG1ldGhvZHMgPSBbJ2NyZWF0ZU9mZmVyJywgJ2NyZWF0ZUFuc3dlciddO1xuICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgdmFyIG5hdGl2ZU1ldGhvZCA9IFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdO1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgIHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7IC8vIGxlZ2FjeVxuICAgICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIFthcmd1bWVudHNbMl1dKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXJnc1swXS5hcHBseShudWxsLCBbZGVzY3JpcHRpb25dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhcmdzWzFdLmFwcGx5KG51bGwsIFtlcnJvcl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgbWV0aG9kcyA9IFsnc2V0TG9jYWxEZXNjcmlwdGlvbicsICdzZXRSZW1vdGVEZXNjcmlwdGlvbicsICdhZGRJY2VDYW5kaWRhdGUnXTtcbiAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIHZhciBuYXRpdmVNZXRob2QgPSBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTtcbiAgICBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICB0eXBlb2YgYXJnc1syXSA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBsZWdhY3lcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXJnc1sxXS5hcHBseShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhcmdzWzJdLmFwcGx5KG51bGwsIFtlcnJvcl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gZ2V0U3RhdHMgaXMgc3BlY2lhbC4gSXQgZG9lc24ndCBoYXZlIGEgc3BlYyBsZWdhY3kgbWV0aG9kIHlldCB3ZSBzdXBwb3J0XG4gIC8vIGdldFN0YXRzKHNvbWV0aGluZywgY2IpIHdpdGhvdXQgZXJyb3IgY2FsbGJhY2tzLlxuICBbJ2dldFN0YXRzJ10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICB2YXIgbmF0aXZlTWV0aG9kID0gUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07XG4gICAgUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFyZ3NbMV0uYXBwbHkobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gUlRDUGVlckNvbm5lY3Rpb247XG59O1xuIiwiLyogZXNsaW50LWVudiBub2RlICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIFNEUCBoZWxwZXJzLlxudmFyIFNEUFV0aWxzID0ge307XG5cbi8vIEdlbmVyYXRlIGFuIGFscGhhbnVtZXJpYyBpZGVudGlmaWVyIGZvciBjbmFtZSBvciBtaWRzLlxuLy8gVE9ETzogdXNlIFVVSURzIGluc3RlYWQ/IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODNcblNEUFV0aWxzLmdlbmVyYXRlSWRlbnRpZmllciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDEwKTtcbn07XG5cbi8vIFRoZSBSVENQIENOQU1FIHVzZWQgYnkgYWxsIHBlZXJjb25uZWN0aW9ucyBmcm9tIHRoZSBzYW1lIEpTLlxuU0RQVXRpbHMubG9jYWxDTmFtZSA9IFNEUFV0aWxzLmdlbmVyYXRlSWRlbnRpZmllcigpO1xuXG4vLyBTcGxpdHMgU0RQIGludG8gbGluZXMsIGRlYWxpbmcgd2l0aCBib3RoIENSTEYgYW5kIExGLlxuU0RQVXRpbHMuc3BsaXRMaW5lcyA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgcmV0dXJuIGJsb2IudHJpbSgpLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgIHJldHVybiBsaW5lLnRyaW0oKTtcbiAgfSk7XG59O1xuLy8gU3BsaXRzIFNEUCBpbnRvIHNlc3Npb25wYXJ0IGFuZCBtZWRpYXNlY3Rpb25zLiBFbnN1cmVzIENSTEYuXG5TRFBVdGlscy5zcGxpdFNlY3Rpb25zID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcGFydHMgPSBibG9iLnNwbGl0KCdcXG5tPScpO1xuICByZXR1cm4gcGFydHMubWFwKGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7XG4gICAgcmV0dXJuIChpbmRleCA+IDAgPyAnbT0nICsgcGFydCA6IHBhcnQpLnRyaW0oKSArICdcXHJcXG4nO1xuICB9KTtcbn07XG5cbi8vIHJldHVybnMgdGhlIHNlc3Npb24gZGVzY3JpcHRpb24uXG5TRFBVdGlscy5nZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdmFyIHNlY3Rpb25zID0gU0RQVXRpbHMuc3BsaXRTZWN0aW9ucyhibG9iKTtcbiAgcmV0dXJuIHNlY3Rpb25zICYmIHNlY3Rpb25zWzBdO1xufTtcblxuLy8gcmV0dXJucyB0aGUgaW5kaXZpZHVhbCBtZWRpYSBzZWN0aW9ucy5cblNEUFV0aWxzLmdldE1lZGlhU2VjdGlvbnMgPSBmdW5jdGlvbihibG9iKSB7XG4gIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoYmxvYik7XG4gIHNlY3Rpb25zLnNoaWZ0KCk7XG4gIHJldHVybiBzZWN0aW9ucztcbn07XG5cbi8vIFJldHVybnMgbGluZXMgdGhhdCBzdGFydCB3aXRoIGEgY2VydGFpbiBwcmVmaXguXG5TRFBVdGlscy5tYXRjaFByZWZpeCA9IGZ1bmN0aW9uKGJsb2IsIHByZWZpeCkge1xuICByZXR1cm4gU0RQVXRpbHMuc3BsaXRMaW5lcyhibG9iKS5maWx0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgIHJldHVybiBsaW5lLmluZGV4T2YocHJlZml4KSA9PT0gMDtcbiAgfSk7XG59O1xuXG4vLyBQYXJzZXMgYW4gSUNFIGNhbmRpZGF0ZSBsaW5lLiBTYW1wbGUgaW5wdXQ6XG4vLyBjYW5kaWRhdGU6NzAyNzg2MzUwIDIgdWRwIDQxODE5OTAyIDguOC44LjggNjA3NjkgdHlwIHJlbGF5IHJhZGRyIDguOC44Ljhcbi8vIHJwb3J0IDU1OTk2XCJcblNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgcGFydHM7XG4gIC8vIFBhcnNlIGJvdGggdmFyaWFudHMuXG4gIGlmIChsaW5lLmluZGV4T2YoJ2E9Y2FuZGlkYXRlOicpID09PSAwKSB7XG4gICAgcGFydHMgPSBsaW5lLnN1YnN0cmluZygxMikuc3BsaXQoJyAnKTtcbiAgfSBlbHNlIHtcbiAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEwKS5zcGxpdCgnICcpO1xuICB9XG5cbiAgdmFyIGNhbmRpZGF0ZSA9IHtcbiAgICBmb3VuZGF0aW9uOiBwYXJ0c1swXSxcbiAgICBjb21wb25lbnQ6IHBhcnNlSW50KHBhcnRzWzFdLCAxMCksXG4gICAgcHJvdG9jb2w6IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCksXG4gICAgcHJpb3JpdHk6IHBhcnNlSW50KHBhcnRzWzNdLCAxMCksXG4gICAgaXA6IHBhcnRzWzRdLFxuICAgIGFkZHJlc3M6IHBhcnRzWzRdLCAvLyBhZGRyZXNzIGlzIGFuIGFsaWFzIGZvciBpcC5cbiAgICBwb3J0OiBwYXJzZUludChwYXJ0c1s1XSwgMTApLFxuICAgIC8vIHNraXAgcGFydHNbNl0gPT0gJ3R5cCdcbiAgICB0eXBlOiBwYXJ0c1s3XVxuICB9O1xuXG4gIGZvciAodmFyIGkgPSA4OyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBzd2l0Y2ggKHBhcnRzW2ldKSB7XG4gICAgICBjYXNlICdyYWRkcic6XG4gICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdycG9ydCc6XG4gICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkUG9ydCA9IHBhcnNlSW50KHBhcnRzW2kgKyAxXSwgMTApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RjcHR5cGUnOlxuICAgICAgICBjYW5kaWRhdGUudGNwVHlwZSA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd1ZnJhZyc6XG4gICAgICAgIGNhbmRpZGF0ZS51ZnJhZyA9IHBhcnRzW2kgKyAxXTsgLy8gZm9yIGJhY2t3YXJkIGNvbXBhYmlsaXR5LlxuICAgICAgICBjYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudCA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiAvLyBleHRlbnNpb24gaGFuZGxpbmcsIGluIHBhcnRpY3VsYXIgdWZyYWdcbiAgICAgICAgY2FuZGlkYXRlW3BhcnRzW2ldXSA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBjYW5kaWRhdGU7XG59O1xuXG4vLyBUcmFuc2xhdGVzIGEgY2FuZGlkYXRlIG9iamVjdCBpbnRvIFNEUCBjYW5kaWRhdGUgYXR0cmlidXRlLlxuU0RQVXRpbHMud3JpdGVDYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUpIHtcbiAgdmFyIHNkcCA9IFtdO1xuICBzZHAucHVzaChjYW5kaWRhdGUuZm91bmRhdGlvbik7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5jb21wb25lbnQpO1xuICBzZHAucHVzaChjYW5kaWRhdGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5wcmlvcml0eSk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5hZGRyZXNzIHx8IGNhbmRpZGF0ZS5pcCk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5wb3J0KTtcblxuICB2YXIgdHlwZSA9IGNhbmRpZGF0ZS50eXBlO1xuICBzZHAucHVzaCgndHlwJyk7XG4gIHNkcC5wdXNoKHR5cGUpO1xuICBpZiAodHlwZSAhPT0gJ2hvc3QnICYmIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyAmJlxuICAgICAgY2FuZGlkYXRlLnJlbGF0ZWRQb3J0KSB7XG4gICAgc2RwLnB1c2goJ3JhZGRyJyk7XG4gICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzKTtcbiAgICBzZHAucHVzaCgncnBvcnQnKTtcbiAgICBzZHAucHVzaChjYW5kaWRhdGUucmVsYXRlZFBvcnQpO1xuICB9XG4gIGlmIChjYW5kaWRhdGUudGNwVHlwZSAmJiBjYW5kaWRhdGUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSA9PT0gJ3RjcCcpIHtcbiAgICBzZHAucHVzaCgndGNwdHlwZScpO1xuICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS50Y3BUeXBlKTtcbiAgfVxuICBpZiAoY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQgfHwgY2FuZGlkYXRlLnVmcmFnKSB7XG4gICAgc2RwLnB1c2goJ3VmcmFnJyk7XG4gICAgc2RwLnB1c2goY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQgfHwgY2FuZGlkYXRlLnVmcmFnKTtcbiAgfVxuICByZXR1cm4gJ2NhbmRpZGF0ZTonICsgc2RwLmpvaW4oJyAnKTtcbn07XG5cbi8vIFBhcnNlcyBhbiBpY2Utb3B0aW9ucyBsaW5lLCByZXR1cm5zIGFuIGFycmF5IG9mIG9wdGlvbiB0YWdzLlxuLy8gYT1pY2Utb3B0aW9uczpmb28gYmFyXG5TRFBVdGlscy5wYXJzZUljZU9wdGlvbnMgPSBmdW5jdGlvbihsaW5lKSB7XG4gIHJldHVybiBsaW5lLnN1YnN0cigxNCkuc3BsaXQoJyAnKTtcbn07XG5cbi8vIFBhcnNlcyBhbiBydHBtYXAgbGluZSwgcmV0dXJucyBSVENSdHBDb2RkZWNQYXJhbWV0ZXJzLiBTYW1wbGUgaW5wdXQ6XG4vLyBhPXJ0cG1hcDoxMTEgb3B1cy80ODAwMC8yXG5TRFBVdGlscy5wYXJzZVJ0cE1hcCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIoOSkuc3BsaXQoJyAnKTtcbiAgdmFyIHBhcnNlZCA9IHtcbiAgICBwYXlsb2FkVHlwZTogcGFyc2VJbnQocGFydHMuc2hpZnQoKSwgMTApIC8vIHdhczogaWRcbiAgfTtcblxuICBwYXJ0cyA9IHBhcnRzWzBdLnNwbGl0KCcvJyk7XG5cbiAgcGFyc2VkLm5hbWUgPSBwYXJ0c1swXTtcbiAgcGFyc2VkLmNsb2NrUmF0ZSA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7IC8vIHdhczogY2xvY2tyYXRlXG4gIHBhcnNlZC5jaGFubmVscyA9IHBhcnRzLmxlbmd0aCA9PT0gMyA/IHBhcnNlSW50KHBhcnRzWzJdLCAxMCkgOiAxO1xuICAvLyBsZWdhY3kgYWxpYXMsIGdvdCByZW5hbWVkIGJhY2sgdG8gY2hhbm5lbHMgaW4gT1JUQy5cbiAgcGFyc2VkLm51bUNoYW5uZWxzID0gcGFyc2VkLmNoYW5uZWxzO1xuICByZXR1cm4gcGFyc2VkO1xufTtcblxuLy8gR2VuZXJhdGUgYW4gYT1ydHBtYXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvclxuLy8gUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLlxuU0RQVXRpbHMud3JpdGVSdHBNYXAgPSBmdW5jdGlvbihjb2RlYykge1xuICB2YXIgcHQgPSBjb2RlYy5wYXlsb2FkVHlwZTtcbiAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBwdCA9IGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlO1xuICB9XG4gIHZhciBjaGFubmVscyA9IGNvZGVjLmNoYW5uZWxzIHx8IGNvZGVjLm51bUNoYW5uZWxzIHx8IDE7XG4gIHJldHVybiAnYT1ydHBtYXA6JyArIHB0ICsgJyAnICsgY29kZWMubmFtZSArICcvJyArIGNvZGVjLmNsb2NrUmF0ZSArXG4gICAgICAoY2hhbm5lbHMgIT09IDEgPyAnLycgKyBjaGFubmVscyA6ICcnKSArICdcXHJcXG4nO1xufTtcblxuLy8gUGFyc2VzIGFuIGE9ZXh0bWFwIGxpbmUgKGhlYWRlcmV4dGVuc2lvbiBmcm9tIFJGQyA1Mjg1KS4gU2FtcGxlIGlucHV0OlxuLy8gYT1leHRtYXA6MiB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDp0b2Zmc2V0XG4vLyBhPWV4dG1hcDoyL3NlbmRvbmx5IHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnRvZmZzZXRcblNEUFV0aWxzLnBhcnNlRXh0bWFwID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgcGFydHMgPSBsaW5lLnN1YnN0cig5KS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIGlkOiBwYXJzZUludChwYXJ0c1swXSwgMTApLFxuICAgIGRpcmVjdGlvbjogcGFydHNbMF0uaW5kZXhPZignLycpID4gMCA/IHBhcnRzWzBdLnNwbGl0KCcvJylbMV0gOiAnc2VuZHJlY3YnLFxuICAgIHVyaTogcGFydHNbMV1cbiAgfTtcbn07XG5cbi8vIEdlbmVyYXRlcyBhPWV4dG1hcCBsaW5lIGZyb20gUlRDUnRwSGVhZGVyRXh0ZW5zaW9uUGFyYW1ldGVycyBvclxuLy8gUlRDUnRwSGVhZGVyRXh0ZW5zaW9uLlxuU0RQVXRpbHMud3JpdGVFeHRtYXAgPSBmdW5jdGlvbihoZWFkZXJFeHRlbnNpb24pIHtcbiAgcmV0dXJuICdhPWV4dG1hcDonICsgKGhlYWRlckV4dGVuc2lvbi5pZCB8fCBoZWFkZXJFeHRlbnNpb24ucHJlZmVycmVkSWQpICtcbiAgICAgIChoZWFkZXJFeHRlbnNpb24uZGlyZWN0aW9uICYmIGhlYWRlckV4dGVuc2lvbi5kaXJlY3Rpb24gIT09ICdzZW5kcmVjdidcbiAgICAgICAgPyAnLycgKyBoZWFkZXJFeHRlbnNpb24uZGlyZWN0aW9uXG4gICAgICAgIDogJycpICtcbiAgICAgICcgJyArIGhlYWRlckV4dGVuc2lvbi51cmkgKyAnXFxyXFxuJztcbn07XG5cbi8vIFBhcnNlcyBhbiBmdG1wIGxpbmUsIHJldHVybnMgZGljdGlvbmFyeS4gU2FtcGxlIGlucHV0OlxuLy8gYT1mbXRwOjk2IHZicj1vbjtjbmc9b25cbi8vIEFsc28gZGVhbHMgd2l0aCB2YnI9b247IGNuZz1vblxuU0RQVXRpbHMucGFyc2VGbXRwID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrdjtcbiAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIobGluZS5pbmRleE9mKCcgJykgKyAxKS5zcGxpdCgnOycpO1xuICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAga3YgPSBwYXJ0c1tqXS50cmltKCkuc3BsaXQoJz0nKTtcbiAgICBwYXJzZWRba3ZbMF0udHJpbSgpXSA9IGt2WzFdO1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG4vLyBHZW5lcmF0ZXMgYW4gYT1mdG1wIGxpbmUgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLlxuU0RQVXRpbHMud3JpdGVGbXRwID0gZnVuY3Rpb24oY29kZWMpIHtcbiAgdmFyIGxpbmUgPSAnJztcbiAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7XG4gIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTtcbiAgfVxuICBpZiAoY29kZWMucGFyYW1ldGVycyAmJiBPYmplY3Qua2V5cyhjb2RlYy5wYXJhbWV0ZXJzKS5sZW5ndGgpIHtcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgT2JqZWN0LmtleXMoY29kZWMucGFyYW1ldGVycykuZm9yRWFjaChmdW5jdGlvbihwYXJhbSkge1xuICAgICAgaWYgKGNvZGVjLnBhcmFtZXRlcnNbcGFyYW1dKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtICsgJz0nICsgY29kZWMucGFyYW1ldGVyc1twYXJhbV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLnB1c2gocGFyYW0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxpbmUgKz0gJ2E9Zm10cDonICsgcHQgKyAnICcgKyBwYXJhbXMuam9pbignOycpICsgJ1xcclxcbic7XG4gIH1cbiAgcmV0dXJuIGxpbmU7XG59O1xuXG4vLyBQYXJzZXMgYW4gcnRjcC1mYiBsaW5lLCByZXR1cm5zIFJUQ1BSdGNwRmVlZGJhY2sgb2JqZWN0LiBTYW1wbGUgaW5wdXQ6XG4vLyBhPXJ0Y3AtZmI6OTggbmFjayBycHNpXG5TRFBVdGlscy5wYXJzZVJ0Y3BGYiA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIobGluZS5pbmRleE9mKCcgJykgKyAxKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHBhcnRzLnNoaWZ0KCksXG4gICAgcGFyYW1ldGVyOiBwYXJ0cy5qb2luKCcgJylcbiAgfTtcbn07XG4vLyBHZW5lcmF0ZSBhPXJ0Y3AtZmIgbGluZXMgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLlxuU0RQVXRpbHMud3JpdGVSdGNwRmIgPSBmdW5jdGlvbihjb2RlYykge1xuICB2YXIgbGluZXMgPSAnJztcbiAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7XG4gIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTtcbiAgfVxuICBpZiAoY29kZWMucnRjcEZlZWRiYWNrICYmIGNvZGVjLnJ0Y3BGZWVkYmFjay5sZW5ndGgpIHtcbiAgICAvLyBGSVhNRTogc3BlY2lhbCBoYW5kbGluZyBmb3IgdHJyLWludD9cbiAgICBjb2RlYy5ydGNwRmVlZGJhY2suZm9yRWFjaChmdW5jdGlvbihmYikge1xuICAgICAgbGluZXMgKz0gJ2E9cnRjcC1mYjonICsgcHQgKyAnICcgKyBmYi50eXBlICtcbiAgICAgIChmYi5wYXJhbWV0ZXIgJiYgZmIucGFyYW1ldGVyLmxlbmd0aCA/ICcgJyArIGZiLnBhcmFtZXRlciA6ICcnKSArXG4gICAgICAgICAgJ1xcclxcbic7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGxpbmVzO1xufTtcblxuLy8gUGFyc2VzIGFuIFJGQyA1NTc2IHNzcmMgbWVkaWEgYXR0cmlidXRlLiBTYW1wbGUgaW5wdXQ6XG4vLyBhPXNzcmM6MzczNTkyODU1OSBjbmFtZTpzb21ldGhpbmdcblNEUFV0aWxzLnBhcnNlU3NyY01lZGlhID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgc3AgPSBsaW5lLmluZGV4T2YoJyAnKTtcbiAgdmFyIHBhcnRzID0ge1xuICAgIHNzcmM6IHBhcnNlSW50KGxpbmUuc3Vic3RyKDcsIHNwIC0gNyksIDEwKVxuICB9O1xuICB2YXIgY29sb24gPSBsaW5lLmluZGV4T2YoJzonLCBzcCk7XG4gIGlmIChjb2xvbiA+IC0xKSB7XG4gICAgcGFydHMuYXR0cmlidXRlID0gbGluZS5zdWJzdHIoc3AgKyAxLCBjb2xvbiAtIHNwIC0gMSk7XG4gICAgcGFydHMudmFsdWUgPSBsaW5lLnN1YnN0cihjb2xvbiArIDEpO1xuICB9IGVsc2Uge1xuICAgIHBhcnRzLmF0dHJpYnV0ZSA9IGxpbmUuc3Vic3RyKHNwICsgMSk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufTtcblxuU0RQVXRpbHMucGFyc2VTc3JjR3JvdXAgPSBmdW5jdGlvbihsaW5lKSB7XG4gIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKDEzKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIHNlbWFudGljczogcGFydHMuc2hpZnQoKSxcbiAgICBzc3JjczogcGFydHMubWFwKGZ1bmN0aW9uKHNzcmMpIHtcbiAgICAgIHJldHVybiBwYXJzZUludChzc3JjLCAxMCk7XG4gICAgfSlcbiAgfTtcbn07XG5cbi8vIEV4dHJhY3RzIHRoZSBNSUQgKFJGQyA1ODg4KSBmcm9tIGEgbWVkaWEgc2VjdGlvbi5cbi8vIHJldHVybnMgdGhlIE1JRCBvciB1bmRlZmluZWQgaWYgbm8gbWlkIGxpbmUgd2FzIGZvdW5kLlxuU0RQVXRpbHMuZ2V0TWlkID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gIHZhciBtaWQgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPW1pZDonKVswXTtcbiAgaWYgKG1pZCkge1xuICAgIHJldHVybiBtaWQuc3Vic3RyKDYpO1xuICB9XG59O1xuXG5TRFBVdGlscy5wYXJzZUZpbmdlcnByaW50ID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgcGFydHMgPSBsaW5lLnN1YnN0cigxNCkuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIHtcbiAgICBhbGdvcml0aG06IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCksIC8vIGFsZ29yaXRobSBpcyBjYXNlLXNlbnNpdGl2ZSBpbiBFZGdlLlxuICAgIHZhbHVlOiBwYXJ0c1sxXVxuICB9O1xufTtcblxuLy8gRXh0cmFjdHMgRFRMUyBwYXJhbWV0ZXJzIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuXG4vLyBGSVhNRTogZm9yIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgZnVuY3Rpb25zIHRoaXMgc2hvdWxkIG9ubHlcbi8vICAgZ2V0IHRoZSBmaW5nZXJwcmludCBsaW5lIGFzIGlucHV0LiBTZWUgYWxzbyBnZXRJY2VQYXJhbWV0ZXJzLlxuU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7XG4gIHZhciBsaW5lcyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiArIHNlc3Npb25wYXJ0LFxuICAgICdhPWZpbmdlcnByaW50OicpO1xuICAvLyBOb3RlOiBhPXNldHVwIGxpbmUgaXMgaWdub3JlZCBzaW5jZSB3ZSB1c2UgdGhlICdhdXRvJyByb2xlLlxuICAvLyBOb3RlMjogJ2FsZ29yaXRobScgaXMgbm90IGNhc2Ugc2Vuc2l0aXZlIGV4Y2VwdCBpbiBFZGdlLlxuICByZXR1cm4ge1xuICAgIHJvbGU6ICdhdXRvJyxcbiAgICBmaW5nZXJwcmludHM6IGxpbmVzLm1hcChTRFBVdGlscy5wYXJzZUZpbmdlcnByaW50KVxuICB9O1xufTtcblxuLy8gU2VyaWFsaXplcyBEVExTIHBhcmFtZXRlcnMgdG8gU0RQLlxuU0RQVXRpbHMud3JpdGVEdGxzUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtcywgc2V0dXBUeXBlKSB7XG4gIHZhciBzZHAgPSAnYT1zZXR1cDonICsgc2V0dXBUeXBlICsgJ1xcclxcbic7XG4gIHBhcmFtcy5maW5nZXJwcmludHMuZm9yRWFjaChmdW5jdGlvbihmcCkge1xuICAgIHNkcCArPSAnYT1maW5nZXJwcmludDonICsgZnAuYWxnb3JpdGhtICsgJyAnICsgZnAudmFsdWUgKyAnXFxyXFxuJztcbiAgfSk7XG4gIHJldHVybiBzZHA7XG59O1xuXG4vLyBQYXJzZXMgYT1jcnlwdG8gbGluZXMgaW50b1xuLy8gICBodHRwczovL3Jhd2dpdC5jb20vYWJvYmEvZWRnZXJ0Yy9tYXN0ZXIvbXNvcnRjLXJzNC5odG1sI2RpY3Rpb25hcnktcnRjc3J0cHNkZXNwYXJhbWV0ZXJzLW1lbWJlcnNcblNEUFV0aWxzLnBhcnNlQ3J5cHRvTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIoOSkuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIHtcbiAgICB0YWc6IHBhcnNlSW50KHBhcnRzWzBdLCAxMCksXG4gICAgY3J5cHRvU3VpdGU6IHBhcnRzWzFdLFxuICAgIGtleVBhcmFtczogcGFydHNbMl0sXG4gICAgc2Vzc2lvblBhcmFtczogcGFydHMuc2xpY2UoMyksXG4gIH07XG59O1xuXG5TRFBVdGlscy53cml0ZUNyeXB0b0xpbmUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHJldHVybiAnYT1jcnlwdG86JyArIHBhcmFtZXRlcnMudGFnICsgJyAnICtcbiAgICBwYXJhbWV0ZXJzLmNyeXB0b1N1aXRlICsgJyAnICtcbiAgICAodHlwZW9mIHBhcmFtZXRlcnMua2V5UGFyYW1zID09PSAnb2JqZWN0J1xuICAgICAgPyBTRFBVdGlscy53cml0ZUNyeXB0b0tleVBhcmFtcyhwYXJhbWV0ZXJzLmtleVBhcmFtcylcbiAgICAgIDogcGFyYW1ldGVycy5rZXlQYXJhbXMpICtcbiAgICAocGFyYW1ldGVycy5zZXNzaW9uUGFyYW1zID8gJyAnICsgcGFyYW1ldGVycy5zZXNzaW9uUGFyYW1zLmpvaW4oJyAnKSA6ICcnKSArXG4gICAgJ1xcclxcbic7XG59O1xuXG4vLyBQYXJzZXMgdGhlIGNyeXB0byBrZXkgcGFyYW1ldGVycyBpbnRvXG4vLyAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9hYm9iYS9lZGdlcnRjL21hc3Rlci9tc29ydGMtcnM0Lmh0bWwjcnRjc3J0cGtleXBhcmFtKlxuU0RQVXRpbHMucGFyc2VDcnlwdG9LZXlQYXJhbXMgPSBmdW5jdGlvbihrZXlQYXJhbXMpIHtcbiAgaWYgKGtleVBhcmFtcy5pbmRleE9mKCdpbmxpbmU6JykgIT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcGFydHMgPSBrZXlQYXJhbXMuc3Vic3RyKDcpLnNwbGl0KCd8Jyk7XG4gIHJldHVybiB7XG4gICAga2V5TWV0aG9kOiAnaW5saW5lJyxcbiAgICBrZXlTYWx0OiBwYXJ0c1swXSxcbiAgICBsaWZlVGltZTogcGFydHNbMV0sXG4gICAgbWtpVmFsdWU6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJzonKVswXSA6IHVuZGVmaW5lZCxcbiAgICBta2lMZW5ndGg6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJzonKVsxXSA6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cblNEUFV0aWxzLndyaXRlQ3J5cHRvS2V5UGFyYW1zID0gZnVuY3Rpb24oa2V5UGFyYW1zKSB7XG4gIHJldHVybiBrZXlQYXJhbXMua2V5TWV0aG9kICsgJzonXG4gICAgKyBrZXlQYXJhbXMua2V5U2FsdCArXG4gICAgKGtleVBhcmFtcy5saWZlVGltZSA/ICd8JyArIGtleVBhcmFtcy5saWZlVGltZSA6ICcnKSArXG4gICAgKGtleVBhcmFtcy5ta2lWYWx1ZSAmJiBrZXlQYXJhbXMubWtpTGVuZ3RoXG4gICAgICA/ICd8JyArIGtleVBhcmFtcy5ta2lWYWx1ZSArICc6JyArIGtleVBhcmFtcy5ta2lMZW5ndGhcbiAgICAgIDogJycpO1xufTtcblxuLy8gRXh0cmFjdHMgYWxsIFNERVMgcGFyYW10ZXJzLlxuU0RQVXRpbHMuZ2V0Q3J5cHRvUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpIHtcbiAgdmFyIGxpbmVzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uICsgc2Vzc2lvbnBhcnQsXG4gICAgJ2E9Y3J5cHRvOicpO1xuICByZXR1cm4gbGluZXMubWFwKFNEUFV0aWxzLnBhcnNlQ3J5cHRvTGluZSk7XG59O1xuXG4vLyBQYXJzZXMgSUNFIGluZm9ybWF0aW9uIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuXG4vLyBGSVhNRTogZm9yIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgZnVuY3Rpb25zIHRoaXMgc2hvdWxkIG9ubHlcbi8vICAgZ2V0IHRoZSBpY2UtdWZyYWcgYW5kIGljZS1wd2QgbGluZXMgYXMgaW5wdXQuXG5TRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkge1xuICB2YXIgdWZyYWcgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24gKyBzZXNzaW9ucGFydCxcbiAgICAnYT1pY2UtdWZyYWc6JylbMF07XG4gIHZhciBwd2QgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24gKyBzZXNzaW9ucGFydCxcbiAgICAnYT1pY2UtcHdkOicpWzBdO1xuICBpZiAoISh1ZnJhZyAmJiBwd2QpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB1c2VybmFtZUZyYWdtZW50OiB1ZnJhZy5zdWJzdHIoMTIpLFxuICAgIHBhc3N3b3JkOiBwd2Quc3Vic3RyKDEwKSxcbiAgfTtcbn07XG5cbi8vIFNlcmlhbGl6ZXMgSUNFIHBhcmFtZXRlcnMgdG8gU0RQLlxuU0RQVXRpbHMud3JpdGVJY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiAnYT1pY2UtdWZyYWc6JyArIHBhcmFtcy51c2VybmFtZUZyYWdtZW50ICsgJ1xcclxcbicgK1xuICAgICAgJ2E9aWNlLXB3ZDonICsgcGFyYW1zLnBhc3N3b3JkICsgJ1xcclxcbic7XG59O1xuXG4vLyBQYXJzZXMgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGFuZCByZXR1cm5zIFJUQ1J0cFBhcmFtZXRlcnMuXG5TRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgdmFyIGRlc2NyaXB0aW9uID0ge1xuICAgIGNvZGVjczogW10sXG4gICAgaGVhZGVyRXh0ZW5zaW9uczogW10sXG4gICAgZmVjTWVjaGFuaXNtczogW10sXG4gICAgcnRjcDogW11cbiAgfTtcbiAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pO1xuICB2YXIgbWxpbmUgPSBsaW5lc1swXS5zcGxpdCgnICcpO1xuICBmb3IgKHZhciBpID0gMzsgaSA8IG1saW5lLmxlbmd0aDsgaSsrKSB7IC8vIGZpbmQgYWxsIGNvZGVjcyBmcm9tIG1saW5lWzMuLl1cbiAgICB2YXIgcHQgPSBtbGluZVtpXTtcbiAgICB2YXIgcnRwbWFwbGluZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KFxuICAgICAgbWVkaWFTZWN0aW9uLCAnYT1ydHBtYXA6JyArIHB0ICsgJyAnKVswXTtcbiAgICBpZiAocnRwbWFwbGluZSkge1xuICAgICAgdmFyIGNvZGVjID0gU0RQVXRpbHMucGFyc2VSdHBNYXAocnRwbWFwbGluZSk7XG4gICAgICB2YXIgZm10cHMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChcbiAgICAgICAgbWVkaWFTZWN0aW9uLCAnYT1mbXRwOicgKyBwdCArICcgJyk7XG4gICAgICAvLyBPbmx5IHRoZSBmaXJzdCBhPWZtdHA6PHB0PiBpcyBjb25zaWRlcmVkLlxuICAgICAgY29kZWMucGFyYW1ldGVycyA9IGZtdHBzLmxlbmd0aCA/IFNEUFV0aWxzLnBhcnNlRm10cChmbXRwc1swXSkgOiB7fTtcbiAgICAgIGNvZGVjLnJ0Y3BGZWVkYmFjayA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KFxuICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0Y3AtZmI6JyArIHB0ICsgJyAnKVxuICAgICAgICAubWFwKFNEUFV0aWxzLnBhcnNlUnRjcEZiKTtcbiAgICAgIGRlc2NyaXB0aW9uLmNvZGVjcy5wdXNoKGNvZGVjKTtcbiAgICAgIC8vIHBhcnNlIEZFQyBtZWNoYW5pc21zIGZyb20gcnRwbWFwIGxpbmVzLlxuICAgICAgc3dpdGNoIChjb2RlYy5uYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnUkVEJzpcbiAgICAgICAgY2FzZSAnVUxQRkVDJzpcbiAgICAgICAgICBkZXNjcmlwdGlvbi5mZWNNZWNoYW5pc21zLnB1c2goY29kZWMubmFtZS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogLy8gb25seSBSRUQgYW5kIFVMUEZFQyBhcmUgcmVjb2duaXplZCBhcyBGRUMgbWVjaGFuaXNtcy5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1leHRtYXA6JykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgZGVzY3JpcHRpb24uaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKFNEUFV0aWxzLnBhcnNlRXh0bWFwKGxpbmUpKTtcbiAgfSk7XG4gIC8vIEZJWE1FOiBwYXJzZSBydGNwLlxuICByZXR1cm4gZGVzY3JpcHRpb247XG59O1xuXG4vLyBHZW5lcmF0ZXMgcGFydHMgb2YgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGRlc2NyaWJpbmcgdGhlIGNhcGFiaWxpdGllcyAvXG4vLyBwYXJhbWV0ZXJzLlxuU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGtpbmQsIGNhcHMpIHtcbiAgdmFyIHNkcCA9ICcnO1xuXG4gIC8vIEJ1aWxkIHRoZSBtbGluZS5cbiAgc2RwICs9ICdtPScgKyBraW5kICsgJyAnO1xuICBzZHAgKz0gY2Fwcy5jb2RlY3MubGVuZ3RoID4gMCA/ICc5JyA6ICcwJzsgLy8gcmVqZWN0IGlmIG5vIGNvZGVjcy5cbiAgc2RwICs9ICcgVURQL1RMUy9SVFAvU0FWUEYgJztcbiAgc2RwICs9IGNhcHMuY29kZWNzLm1hcChmdW5jdGlvbihjb2RlYykge1xuICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7XG4gICAgfVxuICAgIHJldHVybiBjb2RlYy5wYXlsb2FkVHlwZTtcbiAgfSkuam9pbignICcpICsgJ1xcclxcbic7XG5cbiAgc2RwICs9ICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJztcbiAgc2RwICs9ICdhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxcbic7XG5cbiAgLy8gQWRkIGE9cnRwbWFwIGxpbmVzIGZvciBlYWNoIGNvZGVjLiBBbHNvIGZtdHAgYW5kIHJ0Y3AtZmIuXG4gIGNhcHMuY29kZWNzLmZvckVhY2goZnVuY3Rpb24oY29kZWMpIHtcbiAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVSdHBNYXAoY29kZWMpO1xuICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUZtdHAoY29kZWMpO1xuICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0Y3BGYihjb2RlYyk7XG4gIH0pO1xuICB2YXIgbWF4cHRpbWUgPSAwO1xuICBjYXBzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGNvZGVjKSB7XG4gICAgaWYgKGNvZGVjLm1heHB0aW1lID4gbWF4cHRpbWUpIHtcbiAgICAgIG1heHB0aW1lID0gY29kZWMubWF4cHRpbWU7XG4gICAgfVxuICB9KTtcbiAgaWYgKG1heHB0aW1lID4gMCkge1xuICAgIHNkcCArPSAnYT1tYXhwdGltZTonICsgbWF4cHRpbWUgKyAnXFxyXFxuJztcbiAgfVxuICBzZHAgKz0gJ2E9cnRjcC1tdXhcXHJcXG4nO1xuXG4gIGlmIChjYXBzLmhlYWRlckV4dGVuc2lvbnMpIHtcbiAgICBjYXBzLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUV4dG1hcChleHRlbnNpb24pO1xuICAgIH0pO1xuICB9XG4gIC8vIEZJWE1FOiB3cml0ZSBmZWNNZWNoYW5pc21zLlxuICByZXR1cm4gc2RwO1xufTtcblxuLy8gUGFyc2VzIHRoZSBTRFAgbWVkaWEgc2VjdGlvbiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZlxuLy8gUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzLlxuU0RQVXRpbHMucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgdmFyIGVuY29kaW5nUGFyYW1ldGVycyA9IFtdO1xuICB2YXIgZGVzY3JpcHRpb24gPSBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMobWVkaWFTZWN0aW9uKTtcbiAgdmFyIGhhc1JlZCA9IGRlc2NyaXB0aW9uLmZlY01lY2hhbmlzbXMuaW5kZXhPZignUkVEJykgIT09IC0xO1xuICB2YXIgaGFzVWxwZmVjID0gZGVzY3JpcHRpb24uZmVjTWVjaGFuaXNtcy5pbmRleE9mKCdVTFBGRUMnKSAhPT0gLTE7XG5cbiAgLy8gZmlsdGVyIGE9c3NyYzouLi4gY25hbWU6LCBpZ25vcmUgUGxhbkItbXNpZFxuICB2YXIgc3NyY3MgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXNzcmM6JylcbiAgICAubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHJldHVybiBTRFBVdGlscy5wYXJzZVNzcmNNZWRpYShsaW5lKTtcbiAgICB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgIHJldHVybiBwYXJ0cy5hdHRyaWJ1dGUgPT09ICdjbmFtZSc7XG4gICAgfSk7XG4gIHZhciBwcmltYXJ5U3NyYyA9IHNzcmNzLmxlbmd0aCA+IDAgJiYgc3NyY3NbMF0uc3NyYztcbiAgdmFyIHNlY29uZGFyeVNzcmM7XG5cbiAgdmFyIGZsb3dzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjLWdyb3VwOkZJRCcpXG4gICAgLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnN1YnN0cigxNykuc3BsaXQoJyAnKTtcbiAgICAgIHJldHVybiBwYXJ0cy5tYXAoZnVuY3Rpb24ocGFydCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQocGFydCwgMTApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIGlmIChmbG93cy5sZW5ndGggPiAwICYmIGZsb3dzWzBdLmxlbmd0aCA+IDEgJiYgZmxvd3NbMF1bMF0gPT09IHByaW1hcnlTc3JjKSB7XG4gICAgc2Vjb25kYXJ5U3NyYyA9IGZsb3dzWzBdWzFdO1xuICB9XG5cbiAgZGVzY3JpcHRpb24uY29kZWNzLmZvckVhY2goZnVuY3Rpb24oY29kZWMpIHtcbiAgICBpZiAoY29kZWMubmFtZS50b1VwcGVyQ2FzZSgpID09PSAnUlRYJyAmJiBjb2RlYy5wYXJhbWV0ZXJzLmFwdCkge1xuICAgICAgdmFyIGVuY1BhcmFtID0ge1xuICAgICAgICBzc3JjOiBwcmltYXJ5U3NyYyxcbiAgICAgICAgY29kZWNQYXlsb2FkVHlwZTogcGFyc2VJbnQoY29kZWMucGFyYW1ldGVycy5hcHQsIDEwKVxuICAgICAgfTtcbiAgICAgIGlmIChwcmltYXJ5U3NyYyAmJiBzZWNvbmRhcnlTc3JjKSB7XG4gICAgICAgIGVuY1BhcmFtLnJ0eCA9IHtzc3JjOiBzZWNvbmRhcnlTc3JjfTtcbiAgICAgIH1cbiAgICAgIGVuY29kaW5nUGFyYW1ldGVycy5wdXNoKGVuY1BhcmFtKTtcbiAgICAgIGlmIChoYXNSZWQpIHtcbiAgICAgICAgZW5jUGFyYW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVuY1BhcmFtKSk7XG4gICAgICAgIGVuY1BhcmFtLmZlYyA9IHtcbiAgICAgICAgICBzc3JjOiBwcmltYXJ5U3NyYyxcbiAgICAgICAgICBtZWNoYW5pc206IGhhc1VscGZlYyA/ICdyZWQrdWxwZmVjJyA6ICdyZWQnXG4gICAgICAgIH07XG4gICAgICAgIGVuY29kaW5nUGFyYW1ldGVycy5wdXNoKGVuY1BhcmFtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAoZW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aCA9PT0gMCAmJiBwcmltYXJ5U3NyYykge1xuICAgIGVuY29kaW5nUGFyYW1ldGVycy5wdXNoKHtcbiAgICAgIHNzcmM6IHByaW1hcnlTc3JjXG4gICAgfSk7XG4gIH1cblxuICAvLyB3ZSBzdXBwb3J0IGJvdGggYj1BUyBhbmQgYj1USUFTIGJ1dCBpbnRlcnByZXQgQVMgYXMgVElBUy5cbiAgdmFyIGJhbmR3aWR0aCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2I9Jyk7XG4gIGlmIChiYW5kd2lkdGgubGVuZ3RoKSB7XG4gICAgaWYgKGJhbmR3aWR0aFswXS5pbmRleE9mKCdiPVRJQVM6JykgPT09IDApIHtcbiAgICAgIGJhbmR3aWR0aCA9IHBhcnNlSW50KGJhbmR3aWR0aFswXS5zdWJzdHIoNyksIDEwKTtcbiAgICB9IGVsc2UgaWYgKGJhbmR3aWR0aFswXS5pbmRleE9mKCdiPUFTOicpID09PSAwKSB7XG4gICAgICAvLyB1c2UgZm9ybXVsYSBmcm9tIEpTRVAgdG8gY29udmVydCBiPUFTIHRvIFRJQVMgdmFsdWUuXG4gICAgICBiYW5kd2lkdGggPSBwYXJzZUludChiYW5kd2lkdGhbMF0uc3Vic3RyKDUpLCAxMCkgKiAxMDAwICogMC45NVxuICAgICAgICAgIC0gKDUwICogNDAgKiA4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFuZHdpZHRoID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbmNvZGluZ1BhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgIHBhcmFtcy5tYXhCaXRyYXRlID0gYmFuZHdpZHRoO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlbmNvZGluZ1BhcmFtZXRlcnM7XG59O1xuXG4vLyBwYXJzZXMgaHR0cDovL2RyYWZ0Lm9ydGMub3JnLyNydGNydGNwcGFyYW1ldGVycypcblNEUFV0aWxzLnBhcnNlUnRjcFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgdmFyIHJ0Y3BQYXJhbWV0ZXJzID0ge307XG5cbiAgLy8gR2V0cyB0aGUgZmlyc3QgU1NSQy4gTm90ZSB0aGEgd2l0aCBSVFggdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGVcbiAgLy8gU1NSQ3MuXG4gIHZhciByZW1vdGVTc3JjID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjOicpXG4gICAgLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICByZXR1cm4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSk7XG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iai5hdHRyaWJ1dGUgPT09ICdjbmFtZSc7XG4gICAgfSlbMF07XG4gIGlmIChyZW1vdGVTc3JjKSB7XG4gICAgcnRjcFBhcmFtZXRlcnMuY25hbWUgPSByZW1vdGVTc3JjLnZhbHVlO1xuICAgIHJ0Y3BQYXJhbWV0ZXJzLnNzcmMgPSByZW1vdGVTc3JjLnNzcmM7XG4gIH1cblxuICAvLyBFZGdlIHVzZXMgdGhlIGNvbXBvdW5kIGF0dHJpYnV0ZSBpbnN0ZWFkIG9mIHJlZHVjZWRTaXplXG4gIC8vIGNvbXBvdW5kIGlzICFyZWR1Y2VkU2l6ZVxuICB2YXIgcnNpemUgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXJ0Y3AtcnNpemUnKTtcbiAgcnRjcFBhcmFtZXRlcnMucmVkdWNlZFNpemUgPSByc2l6ZS5sZW5ndGggPiAwO1xuICBydGNwUGFyYW1ldGVycy5jb21wb3VuZCA9IHJzaXplLmxlbmd0aCA9PT0gMDtcblxuICAvLyBwYXJzZXMgdGhlIHJ0Y3AtbXV4IGF0dHLRlmJ1dGUuXG4gIC8vIE5vdGUgdGhhdCBFZGdlIGRvZXMgbm90IHN1cHBvcnQgdW5tdXhlZCBSVENQLlxuICB2YXIgbXV4ID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1ydGNwLW11eCcpO1xuICBydGNwUGFyYW1ldGVycy5tdXggPSBtdXgubGVuZ3RoID4gMDtcblxuICByZXR1cm4gcnRjcFBhcmFtZXRlcnM7XG59O1xuXG4vLyBwYXJzZXMgZWl0aGVyIGE9bXNpZDogb3IgYT1zc3JjOi4uLiBtc2lkIGxpbmVzIGFuZCByZXR1cm5zXG4vLyB0aGUgaWQgb2YgdGhlIE1lZGlhU3RyZWFtIGFuZCBNZWRpYVN0cmVhbVRyYWNrLlxuU0RQVXRpbHMucGFyc2VNc2lkID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gIHZhciBwYXJ0cztcbiAgdmFyIHNwZWMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPW1zaWQ6Jyk7XG4gIGlmIChzcGVjLmxlbmd0aCA9PT0gMSkge1xuICAgIHBhcnRzID0gc3BlY1swXS5zdWJzdHIoNykuc3BsaXQoJyAnKTtcbiAgICByZXR1cm4ge3N0cmVhbTogcGFydHNbMF0sIHRyYWNrOiBwYXJ0c1sxXX07XG4gIH1cbiAgdmFyIHBsYW5CID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjOicpXG4gICAgLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICByZXR1cm4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSk7XG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKG1zaWRQYXJ0cykge1xuICAgICAgcmV0dXJuIG1zaWRQYXJ0cy5hdHRyaWJ1dGUgPT09ICdtc2lkJztcbiAgICB9KTtcbiAgaWYgKHBsYW5CLmxlbmd0aCA+IDApIHtcbiAgICBwYXJ0cyA9IHBsYW5CWzBdLnZhbHVlLnNwbGl0KCcgJyk7XG4gICAgcmV0dXJuIHtzdHJlYW06IHBhcnRzWzBdLCB0cmFjazogcGFydHNbMV19O1xuICB9XG59O1xuXG4vLyBTQ1RQXG4vLyBwYXJzZXMgZHJhZnQtaWV0Zi1tbXVzaWMtc2N0cC1zZHAtMjYgZmlyc3QgYW5kIGZhbGxzIGJhY2tcbi8vIHRvIGRyYWZ0LWlldGYtbW11c2ljLXNjdHAtc2RwLTA1XG5TRFBVdGlscy5wYXJzZVNjdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikge1xuICB2YXIgbWxpbmUgPSBTRFBVdGlscy5wYXJzZU1MaW5lKG1lZGlhU2VjdGlvbik7XG4gIHZhciBtYXhTaXplTGluZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9bWF4LW1lc3NhZ2Utc2l6ZTonKTtcbiAgdmFyIG1heE1lc3NhZ2VTaXplO1xuICBpZiAobWF4U2l6ZUxpbmUubGVuZ3RoID4gMCkge1xuICAgIG1heE1lc3NhZ2VTaXplID0gcGFyc2VJbnQobWF4U2l6ZUxpbmVbMF0uc3Vic3RyKDE5KSwgMTApO1xuICB9XG4gIGlmIChpc05hTihtYXhNZXNzYWdlU2l6ZSkpIHtcbiAgICBtYXhNZXNzYWdlU2l6ZSA9IDY1NTM2O1xuICB9XG4gIHZhciBzY3RwUG9ydCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9c2N0cC1wb3J0OicpO1xuICBpZiAoc2N0cFBvcnQubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBwb3J0OiBwYXJzZUludChzY3RwUG9ydFswXS5zdWJzdHIoMTIpLCAxMCksXG4gICAgICBwcm90b2NvbDogbWxpbmUuZm10LFxuICAgICAgbWF4TWVzc2FnZVNpemU6IG1heE1lc3NhZ2VTaXplXG4gICAgfTtcbiAgfVxuICB2YXIgc2N0cE1hcExpbmVzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zY3RwbWFwOicpO1xuICBpZiAoc2N0cE1hcExpbmVzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgcGFydHMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXNjdHBtYXA6JylbMF1cbiAgICAgIC5zdWJzdHIoMTApXG4gICAgICAuc3BsaXQoJyAnKTtcbiAgICByZXR1cm4ge1xuICAgICAgcG9ydDogcGFyc2VJbnQocGFydHNbMF0sIDEwKSxcbiAgICAgIHByb3RvY29sOiBwYXJ0c1sxXSxcbiAgICAgIG1heE1lc3NhZ2VTaXplOiBtYXhNZXNzYWdlU2l6ZVxuICAgIH07XG4gIH1cbn07XG5cbi8vIFNDVFBcbi8vIG91dHB1dHMgdGhlIGRyYWZ0LWlldGYtbW11c2ljLXNjdHAtc2RwLTI2IHZlcnNpb24gdGhhdCBhbGwgYnJvd3NlcnNcbi8vIHN1cHBvcnQgYnkgbm93IHJlY2VpdmluZyBpbiB0aGlzIGZvcm1hdCwgdW5sZXNzIHdlIG9yaWdpbmFsbHkgcGFyc2VkXG4vLyBhcyB0aGUgZHJhZnQtaWV0Zi1tbXVzaWMtc2N0cC1zZHAtMDUgZm9ybWF0IChpbmRpY2F0ZWQgYnkgdGhlIG0tbGluZVxuLy8gcHJvdG9jb2wgb2YgRFRMUy9TQ1RQIC0tIHdpdGhvdXQgVURQLyBvciBUQ1AvKVxuU0RQVXRpbHMud3JpdGVTY3RwRGVzY3JpcHRpb24gPSBmdW5jdGlvbihtZWRpYSwgc2N0cCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGlmIChtZWRpYS5wcm90b2NvbCAhPT0gJ0RUTFMvU0NUUCcpIHtcbiAgICBvdXRwdXQgPSBbXG4gICAgICAnbT0nICsgbWVkaWEua2luZCArICcgOSAnICsgbWVkaWEucHJvdG9jb2wgKyAnICcgKyBzY3RwLnByb3RvY29sICsgJ1xcclxcbicsXG4gICAgICAnYz1JTiBJUDQgMC4wLjAuMFxcclxcbicsXG4gICAgICAnYT1zY3RwLXBvcnQ6JyArIHNjdHAucG9ydCArICdcXHJcXG4nXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBbXG4gICAgICAnbT0nICsgbWVkaWEua2luZCArICcgOSAnICsgbWVkaWEucHJvdG9jb2wgKyAnICcgKyBzY3RwLnBvcnQgKyAnXFxyXFxuJyxcbiAgICAgICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJyxcbiAgICAgICdhPXNjdHBtYXA6JyArIHNjdHAucG9ydCArICcgJyArIHNjdHAucHJvdG9jb2wgKyAnIDY1NTM1XFxyXFxuJ1xuICAgIF07XG4gIH1cbiAgaWYgKHNjdHAubWF4TWVzc2FnZVNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgIG91dHB1dC5wdXNoKCdhPW1heC1tZXNzYWdlLXNpemU6JyArIHNjdHAubWF4TWVzc2FnZVNpemUgKyAnXFxyXFxuJyk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbn07XG5cbi8vIEdlbmVyYXRlIGEgc2Vzc2lvbiBJRCBmb3IgU0RQLlxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtcnRjd2ViLWpzZXAtMjAjc2VjdGlvbi01LjIuMVxuLy8gcmVjb21tZW5kcyB1c2luZyBhIGNyeXB0b2dyYXBoaWNhbGx5IHJhbmRvbSArdmUgNjQtYml0IHZhbHVlXG4vLyBidXQgcmlnaHQgbm93IHRoaXMgc2hvdWxkIGJlIGFjY2VwdGFibGUgYW5kIHdpdGhpbiB0aGUgcmlnaHQgcmFuZ2VcblNEUFV0aWxzLmdlbmVyYXRlU2Vzc2lvbklkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyKDIsIDIxKTtcbn07XG5cbi8vIFdyaXRlIGJvaWxkZXIgcGxhdGUgZm9yIHN0YXJ0IG9mIFNEUFxuLy8gc2Vzc0lkIGFyZ3VtZW50IGlzIG9wdGlvbmFsIC0gaWYgbm90IHN1cHBsaWVkIGl0IHdpbGxcbi8vIGJlIGdlbmVyYXRlZCByYW5kb21seVxuLy8gc2Vzc1ZlcnNpb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIDJcbi8vIHNlc3NVc2VyIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byAndGhpc2lzYWRhcHRlcm9ydGMnXG5TRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSA9IGZ1bmN0aW9uKHNlc3NJZCwgc2Vzc1Zlciwgc2Vzc1VzZXIpIHtcbiAgdmFyIHNlc3Npb25JZDtcbiAgdmFyIHZlcnNpb24gPSBzZXNzVmVyICE9PSB1bmRlZmluZWQgPyBzZXNzVmVyIDogMjtcbiAgaWYgKHNlc3NJZCkge1xuICAgIHNlc3Npb25JZCA9IHNlc3NJZDtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uSWQgPSBTRFBVdGlscy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xuICB9XG4gIHZhciB1c2VyID0gc2Vzc1VzZXIgfHwgJ3RoaXNpc2FkYXB0ZXJvcnRjJztcbiAgLy8gRklYTUU6IHNlc3MtaWQgc2hvdWxkIGJlIGFuIE5UUCB0aW1lc3RhbXAuXG4gIHJldHVybiAndj0wXFxyXFxuJyArXG4gICAgICAnbz0nICsgdXNlciArICcgJyArIHNlc3Npb25JZCArICcgJyArIHZlcnNpb24gK1xuICAgICAgICAnIElOIElQNCAxMjcuMC4wLjFcXHJcXG4nICtcbiAgICAgICdzPS1cXHJcXG4nICtcbiAgICAgICd0PTAgMFxcclxcbic7XG59O1xuXG5TRFBVdGlscy53cml0ZU1lZGlhU2VjdGlvbiA9IGZ1bmN0aW9uKHRyYW5zY2VpdmVyLCBjYXBzLCB0eXBlLCBzdHJlYW0pIHtcbiAgdmFyIHNkcCA9IFNEUFV0aWxzLndyaXRlUnRwRGVzY3JpcHRpb24odHJhbnNjZWl2ZXIua2luZCwgY2Fwcyk7XG5cbiAgLy8gTWFwIElDRSBwYXJhbWV0ZXJzICh1ZnJhZywgcHdkKSB0byBTRFAuXG4gIHNkcCArPSBTRFBVdGlscy53cml0ZUljZVBhcmFtZXRlcnMoXG4gICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpO1xuXG4gIC8vIE1hcCBEVExTIHBhcmFtZXRlcnMgdG8gU0RQLlxuICBzZHAgKz0gU0RQVXRpbHMud3JpdGVEdGxzUGFyYW1ldGVycyhcbiAgICB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LmdldExvY2FsUGFyYW1ldGVycygpLFxuICAgIHR5cGUgPT09ICdvZmZlcicgPyAnYWN0cGFzcycgOiAnYWN0aXZlJyk7XG5cbiAgc2RwICs9ICdhPW1pZDonICsgdHJhbnNjZWl2ZXIubWlkICsgJ1xcclxcbic7XG5cbiAgaWYgKHRyYW5zY2VpdmVyLmRpcmVjdGlvbikge1xuICAgIHNkcCArPSAnYT0nICsgdHJhbnNjZWl2ZXIuZGlyZWN0aW9uICsgJ1xcclxcbic7XG4gIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7XG4gICAgc2RwICs9ICdhPXNlbmRyZWN2XFxyXFxuJztcbiAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHtcbiAgICBzZHAgKz0gJ2E9c2VuZG9ubHlcXHJcXG4nO1xuICB9IGVsc2UgaWYgKHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7XG4gICAgc2RwICs9ICdhPXJlY3Zvbmx5XFxyXFxuJztcbiAgfSBlbHNlIHtcbiAgICBzZHAgKz0gJ2E9aW5hY3RpdmVcXHJcXG4nO1xuICB9XG5cbiAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlcikge1xuICAgIC8vIHNwZWMuXG4gICAgdmFyIG1zaWQgPSAnbXNpZDonICsgc3RyZWFtLmlkICsgJyAnICtcbiAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnRyYWNrLmlkICsgJ1xcclxcbic7XG4gICAgc2RwICs9ICdhPScgKyBtc2lkO1xuXG4gICAgLy8gZm9yIENocm9tZS5cbiAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjICtcbiAgICAgICAgJyAnICsgbXNpZDtcbiAgICBpZiAodHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgpIHtcbiAgICAgIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjICtcbiAgICAgICAgICAnICcgKyBtc2lkO1xuICAgICAgc2RwICs9ICdhPXNzcmMtZ3JvdXA6RklEICcgK1xuICAgICAgICAgIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYyArICcgJyArXG4gICAgICAgICAgdHJhbnNjZWl2ZXIuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYyArXG4gICAgICAgICAgJ1xcclxcbic7XG4gICAgfVxuICB9XG4gIC8vIEZJWE1FOiB0aGlzIHNob3VsZCBiZSB3cml0dGVuIGJ5IHdyaXRlUnRwRGVzY3JpcHRpb24uXG4gIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMgK1xuICAgICAgJyBjbmFtZTonICsgU0RQVXRpbHMubG9jYWxDTmFtZSArICdcXHJcXG4nO1xuICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyICYmIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4KSB7XG4gICAgc2RwICs9ICdhPXNzcmM6JyArIHRyYW5zY2VpdmVyLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMgK1xuICAgICAgICAnIGNuYW1lOicgKyBTRFBVdGlscy5sb2NhbENOYW1lICsgJ1xcclxcbic7XG4gIH1cbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8vIEdldHMgdGhlIGRpcmVjdGlvbiBmcm9tIHRoZSBtZWRpYVNlY3Rpb24gb3IgdGhlIHNlc3Npb25wYXJ0LlxuU0RQVXRpbHMuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkge1xuICAvLyBMb29rIGZvciBzZW5kcmVjdiwgc2VuZG9ubHksIHJlY3Zvbmx5LCBpbmFjdGl2ZSwgZGVmYXVsdCB0byBzZW5kcmVjdi5cbiAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3dpdGNoIChsaW5lc1tpXSkge1xuICAgICAgY2FzZSAnYT1zZW5kcmVjdic6XG4gICAgICBjYXNlICdhPXNlbmRvbmx5JzpcbiAgICAgIGNhc2UgJ2E9cmVjdm9ubHknOlxuICAgICAgY2FzZSAnYT1pbmFjdGl2ZSc6XG4gICAgICAgIHJldHVybiBsaW5lc1tpXS5zdWJzdHIoMik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBGSVhNRTogV2hhdCBzaG91bGQgaGFwcGVuIGhlcmU/XG4gICAgfVxuICB9XG4gIGlmIChzZXNzaW9ucGFydCkge1xuICAgIHJldHVybiBTRFBVdGlscy5nZXREaXJlY3Rpb24oc2Vzc2lvbnBhcnQpO1xuICB9XG4gIHJldHVybiAnc2VuZHJlY3YnO1xufTtcblxuU0RQVXRpbHMuZ2V0S2luZCA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikge1xuICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7XG4gIHZhciBtbGluZSA9IGxpbmVzWzBdLnNwbGl0KCcgJyk7XG4gIHJldHVybiBtbGluZVswXS5zdWJzdHIoMik7XG59O1xuXG5TRFBVdGlscy5pc1JlamVjdGVkID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gIHJldHVybiBtZWRpYVNlY3Rpb24uc3BsaXQoJyAnLCAyKVsxXSA9PT0gJzAnO1xufTtcblxuU0RQVXRpbHMucGFyc2VNTGluZSA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikge1xuICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7XG4gIHZhciBwYXJ0cyA9IGxpbmVzWzBdLnN1YnN0cigyKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IHBhcnRzWzBdLFxuICAgIHBvcnQ6IHBhcnNlSW50KHBhcnRzWzFdLCAxMCksXG4gICAgcHJvdG9jb2w6IHBhcnRzWzJdLFxuICAgIGZtdDogcGFydHMuc2xpY2UoMykuam9pbignICcpXG4gIH07XG59O1xuXG5TRFBVdGlscy5wYXJzZU9MaW5lID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gIHZhciBsaW5lID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnbz0nKVswXTtcbiAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIoMikuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIHtcbiAgICB1c2VybmFtZTogcGFydHNbMF0sXG4gICAgc2Vzc2lvbklkOiBwYXJ0c1sxXSxcbiAgICBzZXNzaW9uVmVyc2lvbjogcGFyc2VJbnQocGFydHNbMl0sIDEwKSxcbiAgICBuZXRUeXBlOiBwYXJ0c1szXSxcbiAgICBhZGRyZXNzVHlwZTogcGFydHNbNF0sXG4gICAgYWRkcmVzczogcGFydHNbNV1cbiAgfTtcbn07XG5cbi8vIGEgdmVyeSBuYWl2ZSBpbnRlcnByZXRhdGlvbiBvZiBhIHZhbGlkIFNEUC5cblNEUFV0aWxzLmlzVmFsaWRTRFAgPSBmdW5jdGlvbihibG9iKSB7XG4gIGlmICh0eXBlb2YgYmxvYiAhPT0gJ3N0cmluZycgfHwgYmxvYi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhibG9iKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChsaW5lc1tpXS5sZW5ndGggPCAyIHx8IGxpbmVzW2ldLmNoYXJBdCgxKSAhPT0gJz0nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFRPRE86IGNoZWNrIHRoZSBtb2RpZmllciBhIGJpdCBtb3JlLlxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzLlxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gU0RQVXRpbHM7XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qIFVBUGFyc2VyLmpzIHYxLjAuNDBcbiAgIENvcHlyaWdodCDCqSAyMDEyLTIwMjQgRmFpc2FsIFNhbG1hbiA8ZkBmYWlzYWxtYW4uY29tPlxuICAgTUlUIExpY2Vuc2UgKi8vKlxuICAgRGV0ZWN0IEJyb3dzZXIsIEVuZ2luZSwgT1MsIENQVSwgYW5kIERldmljZSB0eXBlL21vZGVsIGZyb20gVXNlci1BZ2VudCBkYXRhLlxuICAgU3VwcG9ydHMgYnJvd3NlciAmIG5vZGUuanMgZW52aXJvbm1lbnQuIFxuICAgRGVtbyAgIDogaHR0cHM6Ly9mYWlzYWxtYW4uZ2l0aHViLmlvL3VhLXBhcnNlci1qc1xuICAgU291cmNlIDogaHR0cHM6Ly9naXRodWIuY29tL2ZhaXNhbG1hbi91YS1wYXJzZXItanMgKi9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIC8vIENvbnN0YW50c1xuICAgIC8vLy8vLy8vLy8vLy9cblxuXG4gICAgdmFyIExJQlZFUlNJT04gID0gJzEuMC40MCcsXG4gICAgICAgIEVNUFRZICAgICAgID0gJycsXG4gICAgICAgIFVOS05PV04gICAgID0gJz8nLFxuICAgICAgICBGVU5DX1RZUEUgICA9ICdmdW5jdGlvbicsXG4gICAgICAgIFVOREVGX1RZUEUgID0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIE9CSl9UWVBFICAgID0gJ29iamVjdCcsXG4gICAgICAgIFNUUl9UWVBFICAgID0gJ3N0cmluZycsXG4gICAgICAgIE1BSk9SICAgICAgID0gJ21ham9yJyxcbiAgICAgICAgTU9ERUwgICAgICAgPSAnbW9kZWwnLFxuICAgICAgICBOQU1FICAgICAgICA9ICduYW1lJyxcbiAgICAgICAgVFlQRSAgICAgICAgPSAndHlwZScsXG4gICAgICAgIFZFTkRPUiAgICAgID0gJ3ZlbmRvcicsXG4gICAgICAgIFZFUlNJT04gICAgID0gJ3ZlcnNpb24nLFxuICAgICAgICBBUkNISVRFQ1RVUkU9ICdhcmNoaXRlY3R1cmUnLFxuICAgICAgICBDT05TT0xFICAgICA9ICdjb25zb2xlJyxcbiAgICAgICAgTU9CSUxFICAgICAgPSAnbW9iaWxlJyxcbiAgICAgICAgVEFCTEVUICAgICAgPSAndGFibGV0JyxcbiAgICAgICAgU01BUlRUViAgICAgPSAnc21hcnR0dicsXG4gICAgICAgIFdFQVJBQkxFICAgID0gJ3dlYXJhYmxlJyxcbiAgICAgICAgRU1CRURERUQgICAgPSAnZW1iZWRkZWQnLFxuICAgICAgICBVQV9NQVhfTEVOR1RIID0gNTAwO1xuXG4gICAgdmFyIEFNQVpPTiAgPSAnQW1hem9uJyxcbiAgICAgICAgQVBQTEUgICA9ICdBcHBsZScsXG4gICAgICAgIEFTVVMgICAgPSAnQVNVUycsXG4gICAgICAgIEJMQUNLQkVSUlkgPSAnQmxhY2tCZXJyeScsXG4gICAgICAgIEJST1dTRVIgPSAnQnJvd3NlcicsXG4gICAgICAgIENIUk9NRSAgPSAnQ2hyb21lJyxcbiAgICAgICAgRURHRSAgICA9ICdFZGdlJyxcbiAgICAgICAgRklSRUZPWCA9ICdGaXJlZm94JyxcbiAgICAgICAgR09PR0xFICA9ICdHb29nbGUnLFxuICAgICAgICBIVUFXRUkgID0gJ0h1YXdlaScsXG4gICAgICAgIExHICAgICAgPSAnTEcnLFxuICAgICAgICBNSUNST1NPRlQgPSAnTWljcm9zb2Z0JyxcbiAgICAgICAgTU9UT1JPTEEgID0gJ01vdG9yb2xhJyxcbiAgICAgICAgT1BFUkEgICA9ICdPcGVyYScsXG4gICAgICAgIFNBTVNVTkcgPSAnU2Ftc3VuZycsXG4gICAgICAgIFNIQVJQICAgPSAnU2hhcnAnLFxuICAgICAgICBTT05ZICAgID0gJ1NvbnknLFxuICAgICAgICBYSUFPTUkgID0gJ1hpYW9taScsXG4gICAgICAgIFpFQlJBICAgPSAnWmVicmEnLFxuICAgICAgICBGQUNFQk9PSyAgICA9ICdGYWNlYm9vaycsXG4gICAgICAgIENIUk9NSVVNX09TID0gJ0Nocm9taXVtIE9TJyxcbiAgICAgICAgTUFDX09TICA9ICdNYWMgT1MnLFxuICAgICAgICBTVUZGSVhfQlJPV1NFUiA9ICcgQnJvd3Nlcic7XG5cbiAgICAvLy8vLy8vLy8vL1xuICAgIC8vIEhlbHBlclxuICAgIC8vLy8vLy8vLy9cblxuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbiAocmVnZXhlcywgZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgdmFyIG1lcmdlZFJlZ2V4ZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVnZXhlcykge1xuICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25zW2ldICYmIGV4dGVuc2lvbnNbaV0ubGVuZ3RoICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWRSZWdleGVzW2ldID0gZXh0ZW5zaW9uc1tpXS5jb25jYXQocmVnZXhlc1tpXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUmVnZXhlc1tpXSA9IHJlZ2V4ZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZFJlZ2V4ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcml6ZSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgICAgIHZhciBlbnVtcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGVudW1zW2FycltpXS50b1VwcGVyQ2FzZSgpXSA9IGFycltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbnVtcztcbiAgICAgICAgfSxcbiAgICAgICAgaGFzID0gZnVuY3Rpb24gKHN0cjEsIHN0cjIpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc3RyMSA9PT0gU1RSX1RZUEUgPyBsb3dlcml6ZShzdHIyKS5pbmRleE9mKGxvd2VyaXplKHN0cjEpKSAhPT0gLTEgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgbG93ZXJpemUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1ham9yaXplID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YodmVyc2lvbikgPT09IFNUUl9UWVBFID8gdmVyc2lvbi5yZXBsYWNlKC9bXlxcZFxcLl0vZywgRU1QVFkpLnNwbGl0KCcuJylbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHRyaW0gPSBmdW5jdGlvbiAoc3RyLCBsZW4pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RyKSA9PT0gU1RSX1RZUEUpIHtcbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXlxcc1xccyovLCBFTVBUWSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZihsZW4pID09PSBVTkRFRl9UWVBFID8gc3RyIDogc3RyLnN1YnN0cmluZygwLCBVQV9NQVhfTEVOR1RIKTtcbiAgICAgICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gTWFwIGhlbHBlclxuICAgIC8vLy8vLy8vLy8vLy8vXG5cbiAgICB2YXIgcmd4TWFwcGVyID0gZnVuY3Rpb24gKHVhLCBhcnJheXMpIHtcblxuICAgICAgICAgICAgdmFyIGkgPSAwLCBqLCBrLCBwLCBxLCBtYXRjaGVzLCBtYXRjaDtcblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCByZWdleGVzIG1hcHNcbiAgICAgICAgICAgIHdoaWxlIChpIDwgYXJyYXlzLmxlbmd0aCAmJiAhbWF0Y2hlcykge1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gYXJyYXlzW2ldLCAgICAgICAvLyBldmVuIHNlcXVlbmNlICgwLDIsNCwuLilcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBhcnJheXNbaSArIDFdOyAgIC8vIG9kZCBzZXF1ZW5jZSAoMSwzLDUsLi4pXG4gICAgICAgICAgICAgICAgaiA9IGsgPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gdHJ5IG1hdGNoaW5nIHVhc3RyaW5nIHdpdGggcmVnZXhlc1xuICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgcmVnZXgubGVuZ3RoICYmICFtYXRjaGVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdleFtqXSkgeyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gcmVnZXhbaisrXS5leGVjKHVhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoISFtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoZXNbKytrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0gcHJvcHNbcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZ2l2ZW4gcHJvcGVydHkgaXMgYWN0dWFsbHkgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHEgPT09IE9CSl9UWVBFICYmIHEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcVsxXSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhc3NpZ24gbW9kaWZpZWQgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gcVsxXS5jYWxsKHRoaXMsIG1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXNzaWduIGdpdmVuIHZhbHVlLCBpZ25vcmUgcmVnZXggbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gcVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChxLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciBmdW5jdGlvbiBvciByZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxWzFdID09PSBGVU5DX1RZUEUgJiYgIShxWzFdLmV4ZWMgJiYgcVsxXS50ZXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gKHVzdWFsbHkgc3RyaW5nIG1hcHBlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gbWF0Y2ggPyBxWzFdLmNhbGwodGhpcywgbWF0Y2gsIHFbMl0pIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW5pdGl6ZSBtYXRjaCB1c2luZyBnaXZlbiByZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcVswXV0gPSBtYXRjaCA/IG1hdGNoLnJlcGxhY2UocVsxXSwgcVsyXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gbWF0Y2ggPyBxWzNdLmNhbGwodGhpcywgbWF0Y2gucmVwbGFjZShxWzFdLCBxWzJdKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FdID0gbWF0Y2ggPyBtYXRjaCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHN0ck1hcHBlciA9IGZ1bmN0aW9uIChzdHIsIG1hcCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG1hcCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgdmFsdWUgaXMgYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hcFtpXSA9PT0gT0JKX1RZUEUgJiYgbWFwW2ldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXBbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXMobWFwW2ldW2pdLCBzdHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpID09PSBVTktOT1dOKSA/IHVuZGVmaW5lZCA6IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhcyhtYXBbaV0sIHN0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpID09PSBVTktOT1dOKSA/IHVuZGVmaW5lZCA6IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eSgnKicpID8gbWFwWycqJ10gOiBzdHI7XG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIFN0cmluZyBtYXBcbiAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gU2FmYXJpIDwgMy4wXG4gICAgdmFyIG9sZFNhZmFyaU1hcCA9IHtcbiAgICAgICAgICAgICcxLjAnICAgOiAnLzgnLFxuICAgICAgICAgICAgJzEuMicgICA6ICcvMScsXG4gICAgICAgICAgICAnMS4zJyAgIDogJy8zJyxcbiAgICAgICAgICAgICcyLjAnICAgOiAnLzQxMicsXG4gICAgICAgICAgICAnMi4wLjInIDogJy80MTYnLFxuICAgICAgICAgICAgJzIuMC4zJyA6ICcvNDE3JyxcbiAgICAgICAgICAgICcyLjAuNCcgOiAnLzQxOScsXG4gICAgICAgICAgICAnPycgICAgIDogJy8nXG4gICAgICAgIH0sXG4gICAgICAgIHdpbmRvd3NWZXJzaW9uTWFwID0ge1xuICAgICAgICAgICAgJ01FJyAgICAgICAgOiAnNC45MCcsXG4gICAgICAgICAgICAnTlQgMy4xMScgICA6ICdOVDMuNTEnLFxuICAgICAgICAgICAgJ05UIDQuMCcgICAgOiAnTlQ0LjAnLFxuICAgICAgICAgICAgJzIwMDAnICAgICAgOiAnTlQgNS4wJyxcbiAgICAgICAgICAgICdYUCcgICAgICAgIDogWydOVCA1LjEnLCAnTlQgNS4yJ10sXG4gICAgICAgICAgICAnVmlzdGEnICAgICA6ICdOVCA2LjAnLFxuICAgICAgICAgICAgJzcnICAgICAgICAgOiAnTlQgNi4xJyxcbiAgICAgICAgICAgICc4JyAgICAgICAgIDogJ05UIDYuMicsXG4gICAgICAgICAgICAnOC4xJyAgICAgICA6ICdOVCA2LjMnLFxuICAgICAgICAgICAgJzEwJyAgICAgICAgOiBbJ05UIDYuNCcsICdOVCAxMC4wJ10sXG4gICAgICAgICAgICAnUlQnICAgICAgICA6ICdBUk0nXG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgLy8gUmVnZXggbWFwXG4gICAgLy8vLy8vLy8vLy8vL1xuXG4gICAgdmFyIHJlZ2V4ZXMgPSB7XG5cbiAgICAgICAgYnJvd3NlciA6IFtbXG5cbiAgICAgICAgICAgIC9cXGIoPzpjcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZC9pT1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0Nocm9tZSddXSwgW1xuICAgICAgICAgICAgL2VkZyg/OmV8aW9zfGEpP1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnRWRnZSddXSwgW1xuXG4gICAgICAgICAgICAvLyBQcmVzdG8gYmFzZWRcbiAgICAgICAgICAgIC8ob3BlcmEgbWluaSlcXC8oWy1cXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmEgTWluaVxuICAgICAgICAgICAgLyhvcGVyYSBbbW9iaWxldGFiXXszLDZ9KVxcYi4rdmVyc2lvblxcLyhbLVxcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgLy8gT3BlcmEgTW9iaS9UYWJsZXRcbiAgICAgICAgICAgIC8ob3BlcmEpKD86Lit2ZXJzaW9uXFwvfFtcXC8gXSspKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC9vcGlvc1tcXC8gXSsoW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmEgbWluaSBvbiBpcGhvbmUgPj0gOC4wXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIE9QRVJBKycgTWluaSddXSwgW1xuICAgICAgICAgICAgL1xcYm9wKD86cmcpP3hcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmEgR1hcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkErJyBHWCddXSwgW1xuICAgICAgICAgICAgL1xcYm9wclxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmEgV2Via2l0XG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIE9QRVJBXV0sIFtcblxuICAgICAgICAgICAgLy8gTWl4ZWRcbiAgICAgICAgICAgIC9cXGJiW2FpXSpkKD86dWhkfFt1Yl0qW2Fla29wcnN3eF17NSw2fSlbXFwvIF0/KFtcXHdcXC5dKykvaSAgICAgICAgICAgIC8vIEJhaWR1XG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdCYWlkdSddXSwgW1xuICAgICAgICAgICAgL1xcYig/Om14YnJvd3NlcnxteGlvc3xteWllMilcXC8/KFstXFx3XFwuXSopXFxiL2kgICAgICAgICAgICAgICAgICAgICAgIC8vIE1heHRob25cbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ01heHRob24nXV0sIFtcbiAgICAgICAgICAgIC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlXG4gICAgICAgICAgICAvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyfHNsZWlwbmlyKVtcXC8gXT8oW1xcd1xcLl0qKS9pLCAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMdW5hc2NhcGUvTWF4dGhvbi9OZXRmcm9udC9KYXNtaW5lL0JsYXplci9TbGVpcG5pclxuICAgICAgICAgICAgLy8gVHJpZGVudCBiYXNlZFxuICAgICAgICAgICAgLyhhdmFudHxpZW1vYmlsZXxzbGltKD86YnJvd3Nlcnxib2F0fGpldCkpW1xcLyBdPyhbXFxkXFwuXSopL2ksICAgICAgICAvLyBBdmFudC9JRU1vYmlsZS9TbGltQnJvd3Nlci9TbGltQm9hdC9TbGltamV0XG4gICAgICAgICAgICAvKD86bXN8XFwoKShpZSkgKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyXG5cbiAgICAgICAgICAgIC8vIEJsaW5rL1dlYmtpdC9LSFRNTCBiYXNlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxvY2svUm9ja01lbHQvTWlkb3JpL0VwaXBoYW55L1NpbGsvU2t5ZmlyZS9Cb2x0L0lyb24vSXJpZGl1bS9QaGFudG9tSlMvQm93c2VyL1F1cFppbGxhL0ZhbGtvblxuICAgICAgICAgICAgLyhmbG9ja3xyb2NrbWVsdHxtaWRvcml8ZXBpcGhhbnl8c2lsa3xza3lmaXJlfG92aWJyb3dzZXJ8Ym9sdHxpcm9ufHZpdmFsZGl8aXJpZGl1bXxwaGFudG9tanN8Ym93c2VyfHF1cHppbGxhfGZhbGtvbnxyZWtvbnF8cHVmZmlufGJyYXZlfHdoYWxlKD8hLituYXZlcil8cXFicm93c2VybGl0ZXxkdWNrZHVja2dvfGtsYXJ8aGVsaW98KD89Y29tb2RvXyk/ZHJhZ29uKVxcLyhbLVxcd1xcLl0rKS9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWtvbnEvUHVmZmluL0JyYXZlL1doYWxlL1FRQnJvd3NlckxpdGUvUVEvL1ZpdmFsZGkvRHVja0R1Y2tHby9LbGFyL0hlbGlvL0RyYWdvblxuICAgICAgICAgICAgLyhoZXl0YXB8b3ZpfDExNSlicm93c2VyXFwvKFtcXGRcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXlUYXAvT3ZpLzExNVxuICAgICAgICAgICAgLyh3ZWlibylfXyhbXFxkXFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlaWJvXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC9xdWFyayg/OnBjKT9cXC8oWy1cXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUXVhcmtcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ1F1YXJrJ11dLCBbXG4gICAgICAgICAgICAvXFxiZGRnXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEdWNrRHVja0dvXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdEdWNrRHVja0dvJ11dLCBbXG4gICAgICAgICAgICAvKD86XFxidWM/ID9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC8gXT8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAvLyBVQ0Jyb3dzZXJcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ1VDJytCUk9XU0VSXV0sIFtcbiAgICAgICAgICAgIC9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlQ2hhdCBEZXNrdG9wIGZvciBXaW5kb3dzIEJ1aWx0LWluIEJyb3dzZXJcbiAgICAgICAgICAgIC9cXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS4rbWljcm9tL2ksXG4gICAgICAgICAgICAvbWljcm9tZXNzZW5nZXJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlQ2hhdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnV2VDaGF0J11dLCBbXG4gICAgICAgICAgICAva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtvbnF1ZXJvclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnS29ucXVlcm9yJ11dLCBbXG4gICAgICAgICAgICAvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2kgICAgICAgICAgICAgICAgICAgICAgIC8vIElFMTFcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0lFJ11dLCBbXG4gICAgICAgICAgICAveWEoPzpzZWFyY2gpP2Jyb3dzZXJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFlhbmRleFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnWWFuZGV4J11dLCBbXG4gICAgICAgICAgICAvc2xicm93c2VyXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNtYXJ0IExlbm92byBCcm93c2VyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdTbWFydCBMZW5vdm8gJytCUk9XU0VSXV0sIFtcbiAgICAgICAgICAgIC8oYXZhc3R8YXZnKVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZhc3QvQVZHIFNlY3VyZSBCcm93c2VyXG4gICAgICAgICAgICBdLCBbW05BTUUsIC8oLispLywgJyQxIFNlY3VyZSAnK0JST1dTRVJdLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL1xcYmZvY3VzXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBGb2N1c1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YKycgRm9jdXMnXV0sIFtcbiAgICAgICAgICAgIC9cXGJvcHRcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIFRvdWNoXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIE9QRVJBKycgVG91Y2gnXV0sIFtcbiAgICAgICAgICAgIC9jb2NfY29jXFx3K1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvYyBDb2MgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnQ29jIENvYyddXSwgW1xuICAgICAgICAgICAgL2RvbGZpblxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb2xwaGluXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdEb2xwaGluJ11dLCBbXG4gICAgICAgICAgICAvY29hc3RcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wZXJhIENvYXN0XG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIE9QRVJBKycgQ29hc3QnXV0sIFtcbiAgICAgICAgICAgIC9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTUlVSSBCcm93c2VyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdNSVVJJyArIFNVRkZJWF9CUk9XU0VSXV0sIFtcbiAgICAgICAgICAgIC9meGlvc1xcLyhbXFx3XFwuLV0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBmb3IgaU9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1hdXSwgW1xuICAgICAgICAgICAgL1xcYnFpaG9vYnJvd3NlclxcLz8oW1xcd1xcLl0qKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzYwXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICczNjAnXV0sIFtcbiAgICAgICAgICAgIC9cXGIocXEpXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFFRXG4gICAgICAgICAgICBdLCBbW05BTUUsIC8oLispLywgJyQxQnJvd3NlciddLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhvY3VsdXN8c2FpbGZpc2h8aHVhd2VpfHZpdm98cGljbylicm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAgICAgXSwgW1tOQU1FLCAvKC4rKS8sICckMScgKyBTVUZGSVhfQlJPV1NFUl0sIFZFUlNJT05dLCBbICAgICAgICAgICAgICAvLyBPY3VsdXMvU2FpbGZpc2gvSHVhd2VpQnJvd3Nlci9WaXZvQnJvd3Nlci9QaWNvQnJvd3NlclxuICAgICAgICAgICAgL3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYW1zdW5nIEludGVybmV0XG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIFNBTVNVTkcgKyAnIEludGVybmV0J11dLCBbXG4gICAgICAgICAgICAvbWV0YXNyW1xcLyBdPyhbXFxkXFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvZ291IEV4cGxvcmVyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdTb2dvdSBFeHBsb3JlciddXSwgW1xuICAgICAgICAgICAgLyhzb2dvdSltb1xcdytcXC8oW1xcZFxcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29nb3UgTW9iaWxlXG4gICAgICAgICAgICBdLCBbW05BTUUsICdTb2dvdSBNb2JpbGUnXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8oZWxlY3Ryb24pXFwvKFtcXHdcXC5dKykgc2FmYXJpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxlY3Ryb24tYmFzZWQgQXBwXG4gICAgICAgICAgICAvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvKDIwXFxkXFxkXFwuWy1cXHdcXC5dKykpL2ksICAgICAgICAgICAgICAgICAgIC8vIFRlc2xhXG4gICAgICAgICAgICAvbT8ocXFicm93c2VyfDIzNDUoPz1icm93c2VyfGNocm9tZXxleHBsb3JlcikpXFx3KltcXC8gXT92PyhbXFx3XFwuXSspL2kgICAvLyBRUS8yMzQ1XG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8obGJicm93c2VyfHJla29ucSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGllQmFvIEJyb3dzZXIvUmVrb25xXG4gICAgICAgICAgICAvXFxbKGxpbmtlZGluKWFwcFxcXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlua2VkSW4gQXBwIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgICAgICAgICBdLCBbTkFNRV0sIFtcbiAgICAgICAgICAgIC9vbWVcXC8oW1xcd1xcLl0rKSBcXHcqID8oaXJvbikgc2FmL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElyb25cbiAgICAgICAgICAgIC9vbWVcXC8oW1xcd1xcLl0rKS4rcWlodSAoMzYwKVtlc11lL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzYwXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgTkFNRV0sIFtcblxuICAgICAgICAgICAgLy8gV2ViVmlld1xuICAgICAgICAgICAgLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pICAgICAgIC8vIEZhY2Vib29rIEFwcCBmb3IgaU9TICYgQW5kcm9pZFxuICAgICAgICAgICAgXSwgW1tOQU1FLCBGQUNFQk9PS10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKEtsYXJuYSlcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtsYXJuYSBTaG9wcGluZyBCcm93c2VyIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgICAgICAgICAvKGtha2FvKD86dGFsa3xzdG9yeSkpW1xcLyBdKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtha2FvIEFwcFxuICAgICAgICAgICAgLyhuYXZlcilcXCguKj8oXFxkK1xcLltcXHdcXC5dKykuKlxcKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOYXZlciBJbkFwcFxuICAgICAgICAgICAgL3NhZmFyaSAobGluZSlcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5lIEFwcCBmb3IgaU9TXG4gICAgICAgICAgICAvXFxiKGxpbmUpXFwvKFtcXHdcXC5dKylcXC9pYWIvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZSBBcHAgZm9yIEFuZHJvaWRcbiAgICAgICAgICAgIC8oYWxpcGF5KWNsaWVudFxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxpcGF5XG4gICAgICAgICAgICAvKHR3aXR0ZXIpKD86YW5kfCBmLitlXFwvKFtcXHdcXC5dKykpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR3aXR0ZXJcbiAgICAgICAgICAgIC8oY2hyb21pdW18aW5zdGFncmFtfHNuYXBjaGF0KVtcXC8gXShbLVxcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21pdW0vSW5zdGFncmFtL1NuYXBjaGF0XG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC9cXGJnc2FcXC8oW1xcd1xcLl0rKSAuKnNhZmFyaVxcLy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgU2VhcmNoIEFwcGxpYW5jZSBvbiBpT1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0dTQSddXSwgW1xuICAgICAgICAgICAgL211c2ljYWxfbHkoPzouK2FwcF8/dmVyc2lvblxcL3xfKShbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaWtUb2tcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ1Rpa1RvayddXSwgW1xuXG4gICAgICAgICAgICAvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENocm9tZSBIZWFkbGVzc1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUUrJyBIZWFkbGVzcyddXSwgW1xuXG4gICAgICAgICAgICAvIHd2XFwpLisoY2hyb21lKVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWUgV2ViVmlld1xuICAgICAgICAgICAgXSwgW1tOQU1FLCBDSFJPTUUrJyBXZWJWaWV3J10sIFZFUlNJT05dLCBbXG5cbiAgICAgICAgICAgIC9kcm9pZC4rIHZlcnNpb25cXC8oW1xcd1xcLl0rKVxcYi4rKD86bW9iaWxlIHNhZmFyaXxzYWZhcmkpL2kgICAgICAgICAgIC8vIEFuZHJvaWQgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnQW5kcm9pZCAnK0JST1dTRVJdXSwgW1xuXG4gICAgICAgICAgICAvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pICAgICAgIC8vIENocm9tZS9PbW5pV2ViL0Fyb3JhL1RpemVuL05va2lhXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcblxuICAgICAgICAgICAgL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaSAgICAgICAgICAgICAgICAgICAgICAvLyBNb2JpbGUgU2FmYXJpXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdNb2JpbGUgU2FmYXJpJ11dLCBbXG4gICAgICAgICAgICAvdmVyc2lvblxcLyhbXFx3KFxcLnxcXCwpXSspIC4qKG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkvaSAgICAgICAgICAgICAgICAvLyBTYWZhcmkgJiBTYWZhcmkgTW9iaWxlXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgTkFNRV0sIFtcbiAgICAgICAgICAgIC93ZWJraXQuKz8obW9iaWxlID9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpIDwgMy4wXG4gICAgICAgICAgICBdLCBbTkFNRSwgW1ZFUlNJT04sIHN0ck1hcHBlciwgb2xkU2FmYXJpTWFwXV0sIFtcblxuICAgICAgICAgICAgLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG5cbiAgICAgICAgICAgIC8vIEdlY2tvIGJhc2VkXG4gICAgICAgICAgICAvKG5hdmlnYXRvcnxuZXRzY2FwZVxcZD8pXFwvKFstXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXRzY2FwZVxuICAgICAgICAgICAgXSwgW1tOQU1FLCAnTmV0c2NhcGUnXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8od29sdmljfGxpYnJld29sZilcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV29sdmljL0xpYnJlV29sZlxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvbW9iaWxlIHZyOyBydjooW1xcd1xcLl0rKVxcKS4rZmlyZWZveC9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggUmVhbGl0eVxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YKycgUmVhbGl0eSddXSwgW1xuICAgICAgICAgICAgL2VraW9oZi4rKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGbG93XG4gICAgICAgICAgICAvKHN3aWZ0Zm94KS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3aWZ0Zm94XG4gICAgICAgICAgICAvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC8gXT8oW1xcd1xcLlxcK10rKS9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJY2VEcmFnb24vSWNld2Vhc2VsL0NhbWluby9DaGltZXJhL0Zlbm5lYy9NYWVtby9NaW5pbW8vQ29ua2Vyb3JcbiAgICAgICAgICAgIC8oc2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peHxwYWxlbW9vbnxiYXNpbGlza3x3YXRlcmZveClcXC8oWy1cXHdcXC5dKykkL2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3gvU2VhTW9ua2V5L0stTWVsZW9uL0ljZUNhdC9JY2VBcGUvRmlyZWJpcmQvUGhvZW5peFxuICAgICAgICAgICAgLyhmaXJlZm94KVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlciBGaXJlZm94LWJhc2VkXG4gICAgICAgICAgICAvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykgLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vemlsbGFcblxuICAgICAgICAgICAgLy8gT3RoZXJcbiAgICAgICAgICAgIC8ocG9sYXJpc3xseW54fGRpbGxvfGljYWJ8ZG9yaXN8YW1heWF8dzNtfG5ldHN1cmZ8b2JpZ298bW9zYWljfCg/OmdvfGljZXx1cClbXFwuIF0/YnJvd3NlcilbLVxcLyBdP3Y/KFtcXHdcXC5dKykvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG9sYXJpcy9MeW54L0RpbGxvL2lDYWIvRG9yaXMvQW1heWEvdzNtL05ldFN1cmYvT2JpZ28vTW9zYWljL0dvL0lDRS9VUC5Ccm93c2VyXG4gICAgICAgICAgICAvKGxpbmtzKSBcXCgoW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmtzXG4gICAgICAgICAgICBdLCBbTkFNRSwgW1ZFUlNJT04sIC9fL2csICcuJ11dLCBbXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8oY29iYWx0KVxcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29iYWx0XG4gICAgICAgICAgICBdLCBbTkFNRSwgW1ZFUlNJT04sIC9tYXN0ZXIufGx0cy4vLCBcIlwiXV1cbiAgICAgICAgXSxcblxuICAgICAgICBjcHUgOiBbW1xuXG4gICAgICAgICAgICAvKD86KGFtZHx4KD86KD86ODZ8NjQpWy1fXSk/fHdvd3x3aW4pNjQpWztcXCldL2kgICAgICAgICAgICAgICAgICAgICAvLyBBTUQ2NCAoeDY0KVxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdhbWQ2NCddXSwgW1xuXG4gICAgICAgICAgICAvKGlhMzIoPz07KSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElBMzIgKHF1aWNrdGltZSlcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCBsb3dlcml6ZV1dLCBbXG5cbiAgICAgICAgICAgIC8oKD86aVszNDZdfHgpODYpWztcXCldL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElBMzIgKHg4NilcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnaWEzMiddXSwgW1xuXG4gICAgICAgICAgICAvXFxiKGFhcmNoNjR8YXJtKHY/OGU/bD98Xz82NCkpXFxiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUk02NFxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdhcm02NCddXSwgW1xuXG4gICAgICAgICAgICAvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVJNSEZcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnYXJtaGYnXV0sIFtcblxuICAgICAgICAgICAgLy8gUG9ja2V0UEMgbWlzdGFrZW5seSBpZGVudGlmaWVkIGFzIFBvd2VyUENcbiAgICAgICAgICAgIC93aW5kb3dzIChjZXxtb2JpbGUpOyBwcGM7L2lcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAnYXJtJ11dLCBbXG5cbiAgICAgICAgICAgIC8oKD86cHBjfHBvd2VycGMpKD86NjQpPykoPzogbWFjfDt8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvd2VyUENcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCAvb3dlci8sIEVNUFRZLCBsb3dlcml6ZV1dLCBbXG5cbiAgICAgICAgICAgIC8oc3VuNFxcdylbO1xcKV0vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTUEFSQ1xuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdzcGFyYyddXSwgW1xuXG4gICAgICAgICAgICAvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxcXGJhcm0oPz12KD86WzEtN118WzUtN10xKWw/fDt8ZWFiaSl8KD89YXRtZWwgKWF2cnwoPzppcml4fG1pcHN8c3BhcmMpKD86NjQpP1xcYnxwYS1yaXNjKS9pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElBNjQsIDY4SywgQVJNLzY0LCBBVlIvMzIsIElSSVgvNjQsIE1JUFMvNjQsIFNQQVJDLzY0LCBQQS1SSVNDXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgbG93ZXJpemVdXVxuICAgICAgICBdLFxuXG4gICAgICAgIGRldmljZSA6IFtbXG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBNT0JJTEVTICYgVEFCTEVUU1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvLyBTYW1zdW5nXG4gICAgICAgICAgICAvXFxiKHNjaC1pWzg5XTBcXGR8c2h3LW0zODBzfHNtLVtwdHhdXFx3ezIsNH18Z3QtW3BuXVxcZHsyLDR9fHNnaC10OFs1Nl05fG5leHVzIDEwKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoKD86c1tjZ3BdaHxndHxzbSktKD8hW2xyXSlcXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksXG4gICAgICAgICAgICAvc2Ftc3VuZ1stIF0oKD8hc20tW2xyXSlbLVxcd10rKS9pLFxuICAgICAgICAgICAgL3NlYy0oc2doXFx3KykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEFwcGxlXG4gICAgICAgICAgICAvKD86XFwvfFxcKCkoaXAoPzpob25lfG9kKVtcXHcsIF0qKSg/OlxcL3w7KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpUG9kL2lQaG9uZVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcKChpcGFkKTtbLVxcd1xcKSw7IF0rYXBwbGUvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpUGFkXG4gICAgICAgICAgICAvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksXG4gICAgICAgICAgICAvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhtYWNpbnRvc2gpOy9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXV0sIFtcblxuICAgICAgICAgICAgLy8gU2hhcnBcbiAgICAgICAgICAgIC9cXGIoc2gtP1thbHR2el0/XFxkXFxkW2EtZWttXT8pL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU0hBUlBdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gSG9ub3JcbiAgICAgICAgICAgIC8oPzpob25vcikoWy1cXHcgXSspWztcXCldL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0hvbm9yJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBIdWF3ZWlcbiAgICAgICAgICAgIC9cXGIoKD86YWdbcnNdWzIzXT98YmFoMj98c2h0P3xidHYpLWE/W2x3XVxcZHsyfSlcXGIoPyEuK2RcXC9zKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEhVQVdFSV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyg/Omh1YXdlaSkoWy1cXHcgXSspWztcXCldL2ksXG4gICAgICAgICAgICAvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEhVQVdFSV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBYaWFvbWlcbiAgICAgICAgICAgIC9cXGIocG9jb1tcXHcgXSt8bTJcXGR7M31qXFxkXFxkW2Etel17Mn0pKD86IGJ1aXxcXCkpL2ksICAgICAgICAgICAgICAgICAgLy8gWGlhb21pIFBPQ09cbiAgICAgICAgICAgIC9cXGI7IChcXHcrKSBidWlsZFxcL2htXFwxL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFhpYW9taSBIb25nbWkgJ251bWVyaWMnIG1vZGVsc1xuICAgICAgICAgICAgL1xcYihobVstXyBdP25vdGU/W18gXT8oPzpcXGRcXHcpPykgYnVpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWkgSG9uZ21pXG4gICAgICAgICAgICAvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWkgUmVkbWlcbiAgICAgICAgICAgIC9vaWRbXlxcKV0rOyAobT9bMTJdWzAtMzg5XVswMV1cXHd7Myw2fVtjLXldKSggYnVpfDsgd3Z8XFwpKS9pLCAgICAgICAgLy8gWGlhb21pIFJlZG1pICdudW1lcmljJyBtb2RlbHNcbiAgICAgICAgICAgIC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGV8cHJvKT8pKD86IGJ1aXxcXCkpL2kgLy8gWGlhb21pIE1pXG4gICAgICAgICAgICBdLCBbW01PREVMLCAvXy9nLCAnICddLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9vaWRbXlxcKV0rOyAoMlxcZHs0fSgyODN8cnBiZilbY2dsXSkoIGJ1aXxcXCkpL2ksICAgICAgICAgICAgICAgICAgICAgLy8gUmVkbWkgUGFkXG4gICAgICAgICAgICAvXFxiKG1pWy1fIF0/KD86cGFkKSg/OltcXHdfIF0rKSkoPzogYnVpfFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pIFBhZCB0YWJsZXRzXG4gICAgICAgICAgICBdLFtbTU9ERUwsIC9fL2csICcgJ10sIFtWRU5ET1IsIFhJQU9NSV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvLyBPUFBPXG4gICAgICAgICAgICAvOyAoXFx3KykgYnVpLisgb3Bwby9pLFxuICAgICAgICAgICAgL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnT1BQTyddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIob3BkMlxcZHszfWE/KSBidWkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnT1BQTyddLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gVml2b1xuICAgICAgICAgICAgL3Zpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksXG4gICAgICAgICAgICAvXFxiKHZbMTJdXFxkezN9XFx3P1thdF0pKD86IGJ1aXw7KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdWaXZvJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBSZWFsbWVcbiAgICAgICAgICAgIC9cXGIocm14WzEtM11cXGR7M30pKD86IGJ1aXw7fFxcKSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnUmVhbG1lJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBNb3Rvcm9sYVxuICAgICAgICAgICAgL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLFxuICAgICAgICAgICAgL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksXG4gICAgICAgICAgICAvKCg/Om1vdG9bXFx3XFwoXFwpIF0rfHh0XFxkezMsNH18bmV4dXMgNikoPz0gYnVpfFxcKSkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgTU9UT1JPTEFdLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIobXo2MFxcZHx4b29tWzIgXXswLDJ9KSBidWlsZFxcLy9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIExHXG4gICAgICAgICAgICAvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKGxtKD86LT9mMTAwW252XT98LVtcXHdcXC5dKykoPz0gYnVpfFxcKSl8bmV4dXMgWzQ1XSkvaSxcbiAgICAgICAgICAgIC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSxcbiAgICAgICAgICAgIC9cXGJsZy0/KFtcXGRcXHddKykgYnVpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgTEddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gTGVub3ZvXG4gICAgICAgICAgICAvKGlkZWF0YWJbLVxcdyBdKykvaSxcbiAgICAgICAgICAgIC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0xlbm92byddLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gTm9raWFcbiAgICAgICAgICAgIC8oPzptYWVtb3xub2tpYSkuKihuOTAwfGx1bWlhIFxcZCspL2ksXG4gICAgICAgICAgICAvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL18vZywgJyAnXSwgW1ZFTkRPUiwgJ05va2lhJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBHb29nbGVcbiAgICAgICAgICAgIC8ocGl4ZWwgYylcXGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBQaXhlbCBDXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBQaXhlbFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gU29ueVxuICAgICAgICAgICAgL2Ryb2lkLis7IChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL3NvbnkgdGFibGV0IFtwc10vaSxcbiAgICAgICAgICAgIC9cXGIoPzpzb255KT9zZ3BcXHcrKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsICdYcGVyaWEgVGFibGV0J10sIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gT25lUGx1c1xuICAgICAgICAgICAgLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksXG4gICAgICAgICAgICAvKD86b25lKT8oPzpwbHVzKT8gKGFcXGQwXFxkXFxkKSg/OiBifFxcKSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnT25lUGx1cyddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gQW1hem9uXG4gICAgICAgICAgICAvKGFsZXhhKXdlYm0vaSxcbiAgICAgICAgICAgIC8oa2ZbYS16XXsyfXdpfGFlbyg/IWJjKVxcd1xcdykoIGJ1aXxcXCkpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlIEZpcmUgd2l0aG91dCBTaWxrIC8gRWNobyBTaG93XG4gICAgICAgICAgICAvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlIEZpcmUgSERcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZSBQaG9uZVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgLyguKykvZywgJ0ZpcmUgUGhvbmUgJDEnXSwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEJsYWNrQmVycnlcbiAgICAgICAgICAgIC8ocGxheWJvb2spO1stXFx3XFwpLDsgXSsocmltKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCbGFja0JlcnJ5IFBsYXlCb29rXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFZFTkRPUiwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKCg/OmJiW2EtZl18c3RbaHZdKTEwMC1cXGQpL2ksXG4gICAgICAgICAgICAvXFwoYmIxMDsgKFxcdyspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBCTEFDS0JFUlJZXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEFzdXNcbiAgICAgICAgICAgIC8oPzpcXGJ8YXN1c18pKHRyYW5zZm9bcHJpbWUgXXs0LDEwfSBcXHcrfGVlZXBjfHNsaWRlciBcXHcrfG5leHVzIDd8cGFkZm9uZXxwMDBbY2pdKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8gKHpbYmVzXTZbMDI3XVswMTJdW2ttXVtsc118emVuZm9uZSBcXGRcXHc/KVxcYi9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gSFRDXG4gICAgICAgICAgICAvKG5leHVzIDkpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUQyBOZXh1cyA5XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdIVEMnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKGh0YylbLTtfIF17MSwyfShbXFx3IF0rKD89XFwpfCBidWkpfFxcdyspL2ksICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUQ1xuXG4gICAgICAgICAgICAvLyBaVEVcbiAgICAgICAgICAgIC8oenRlKVstIF0oW1xcdyBdKz8pKD86IGJ1aXxcXC98XFwpKS9pLFxuICAgICAgICAgICAgLyhhbGNhdGVsfGdlZWtzcGhvbmV8bmV4aWFufHBhbmFzb25pYyg/ISg/Ojt8XFwuKSl8c29ueSg/IS1icmEpKVstXyBdPyhbLVxcd10qKS9pICAgICAgICAgLy8gQWxjYXRlbC9HZWVrc1Bob25lL05leGlhbi9QYW5hc29uaWMvU29ueVxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgW01PREVMLCAvXy9nLCAnICddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gVENMXG4gICAgICAgICAgICAvZHJvaWQgW1xcd1xcLl0rOyAoKD86OFsxNF05WzE2XXw5KD86MCg/OjQ4fDYwfDhbMDFdKXwxKD86M1syN118NjYpfDIoPzo2WzY5XXw5WzU2XSl8NDY2KSlbZ3Fzd3hdKVxcdyooXFwpfCBidWkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1RDTCddLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gaXRlbFxuICAgICAgICAgICAgLyhpdGVsKSAoKFxcdyspKS9pXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgbG93ZXJpemVdLCBNT0RFTCwgW1RZUEUsIHN0ck1hcHBlciwgeyAndGFibGV0JyA6IFsncDEwMDAxbCcsICd3NzAwMSddLCAnKicgOiAnbW9iaWxlJyB9XV0sIFtcblxuICAgICAgICAgICAgLy8gQWNlclxuICAgICAgICAgICAgL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdBY2VyJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvLyBNZWl6dVxuICAgICAgICAgICAgL2Ryb2lkLis7IChtWzEtNV0gbm90ZSkgYnVpL2ksXG4gICAgICAgICAgICAvXFxibXotKFstXFx3XXsyLH0pL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ01laXp1J10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVWxlZm9uZVxuICAgICAgICAgICAgLzsgKCg/OnBvd2VyICk/YXJtb3IoPzpbXFx3IF17MCw4fSkpKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1VsZWZvbmUnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEVuZXJnaXplclxuICAgICAgICAgICAgLzsgKGVuZXJneSA/XFx3KykoPzogYnVpfFxcKSkvaSxcbiAgICAgICAgICAgIC87IGVuZXJnaXplciAoW1xcdyBdKykoPzogYnVpfFxcKSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnRW5lcmdpemVyJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBDYXRcbiAgICAgICAgICAgIC87IGNhdCAoYjM1KTsvaSxcbiAgICAgICAgICAgIC87IChiMTVxP3xzMjIgZmxpcHxzNDhjfHM2MiBwcm8pKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0NhdCddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gU21hcnRmcmVuXG4gICAgICAgICAgICAvKCg/Om5ldyApP2FuZHJvbWF4W1xcdy0gXSspKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1NtYXJ0ZnJlbiddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gTm90aGluZ1xuICAgICAgICAgICAgL2Ryb2lkLis7IChhKD86MDE1fDA2WzM1XXwxNDJwPykpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ05vdGhpbmcnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIE1JWEVEXG4gICAgICAgICAgICAvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb258aW5maW5peHx0ZWNub3xtaWNyb21heHxhZHZhbilbLV8gXT8oWy1cXHddKikvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2tCZXJyeS9CZW5RL1BhbG0vU29ueS1Fcmljc3Nvbi9BY2VyL0FzdXMvRGVsbC9NZWl6dS9Nb3Rvcm9sYS9Qb2x5dHJvbi9JbmZpbml4L1RlY25vL01pY3JvbWF4L0FkdmFuXG4gICAgICAgICAgICAvOyAoaW1vKSAoKD8hdGFiKVtcXHcgXSs/KSg/OiBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSU1PXG4gICAgICAgICAgICAvKGhwKSAoW1xcdyBdK1xcdykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSFAgaVBBUVxuICAgICAgICAgICAgLyhhc3VzKS0/KFxcdyspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXN1c1xuICAgICAgICAgICAgLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWljcm9zb2Z0IEx1bWlhXG4gICAgICAgICAgICAvKGxlbm92bylbLV8gXT8oWy1cXHddKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZW5vdm9cbiAgICAgICAgICAgIC8oam9sbGEpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSm9sbGFcbiAgICAgICAgICAgIC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9QUE9cbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLyhpbW8pICh0YWIgXFx3KykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSU1PXG4gICAgICAgICAgICAvKGtvYm8pXFxzKGVyZWFkZXJ8dG91Y2gpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLb2JvXG4gICAgICAgICAgICAvKGFyY2hvcykgKGdhbWVwYWQyPykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFyY2hvc1xuICAgICAgICAgICAgLyhocCkuKyh0b3VjaHBhZCg/IS4rdGFibGV0KXx0YWJsZXQpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIUCBUb3VjaFBhZFxuICAgICAgICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLaW5kbGVcbiAgICAgICAgICAgIC8obm9vaylbXFx3IF0rYnVpbGRcXC8oXFx3KykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9va1xuICAgICAgICAgICAgLyhkZWxsKSAoc3RyZWFba3ByXFxkIF0qW1xcZGtvXSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGwgU3RyZWFrXG4gICAgICAgICAgICAvKGxlWy0gXStwYW4pWy0gXSsoXFx3ezEsOX0pIGJ1aS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZSBQYW4gVGFibGV0c1xuICAgICAgICAgICAgLyh0cmluaXR5KVstIF0qKHRcXGR7M30pIGJ1aS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpbml0eSBUYWJsZXRzXG4gICAgICAgICAgICAvKGdpZ2FzZXQpWy0gXSsocVxcd3sxLDl9KSBidWkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHaWdhc2V0IFRhYmxldHNcbiAgICAgICAgICAgIC8odm9kYWZvbmUpIChbXFx3IF0rKSg/OlxcKXwgYnVpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWb2RhZm9uZVxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvKHN1cmZhY2UgZHVvKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cmZhY2UgRHVvXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkIFtcXGRcXC5dKzsgKGZwXFxkdT8pKD86IGJ8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFpcnBob25lXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdGYWlycGhvbmUnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvKHUzMDRhYSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFUJlRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0FUJlQnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxic2llLShcXHcqKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2llbWVuc1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnU2llbWVucyddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIocmN0XFx3KykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSQ0EgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnUkNBJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYih2ZW51ZVtcXGQgXXsyLDd9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGwgVmVudWUgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnRGVsbCddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIocSg/Om12fHRhKVxcdyspIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpem9uIFRhYmxldFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnVmVyaXpvbiddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaSAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFybmVzICYgTm9ibGUgVGFibGV0XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdCYXJuZXMgJiBOb2JsZSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIodG1cXGR7M31cXHcrKSBiL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ051VmlzaW9uJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYihrODgpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWlRFIEsgU2VyaWVzIFRhYmxldFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWlRFJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYihueFxcZHszfWopIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpURSBOdWJpYVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWlRFJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3aXNzIEdFTiBNb2JpbGVcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1N3aXNzJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYih6dXJcXGR7M30pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3aXNzIFpVUiBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1N3aXNzJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYigoemVraSk/dGIuKlxcYikgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpla2kgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWmVraSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoW3lyXVxcZHsyfSkgYi9pLFxuICAgICAgICAgICAgL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYWdvbiBUb3VjaCBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtbVkVORE9SLCAnRHJhZ29uIFRvdWNoJ10sIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIobnMtP1xcd3swLDl9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnNpZ25pYSBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdJbnNpZ25pYSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXh0Qm9vayBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdOZXh0Qm9vayddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2kgICAgICAgICAgICAgICAgICAvLyBWb2ljZSBYdHJlbWUgUGhvbmVzXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgJ1ZvaWNlJ10sIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIobHZ0ZWxcXC0pPyh2MVsxMl0pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMdlRlbCBQaG9uZXNcbiAgICAgICAgICAgIF0sIFtbVkVORE9SLCAnTHZUZWwnXSwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYihwaC0xKSAvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXNzZW50aWFsIFBILTFcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0Vzc2VudGlhbCddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnZpemVuIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0Vudml6ZW4nXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKHRyaW9bLVxcd1xcLiBdKykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hY2hTcGVlZCBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdNYWNoU3BlZWQnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxidHVfKDE0OTEpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3RvciBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdSb3RvciddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8oc2hpZWxkW1xcdyBdKykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE52aWRpYSBTaGllbGQgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTnZpZGlhJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhzcHJpbnQpIChcXHcrKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3ByaW50IFBob25lc1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgLyhraW5cXC5bb25ldHddezN9KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWljcm9zb2Z0IEtpblxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL1xcLi9nLCAnICddLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pICAgICAgICAgICAgIC8vIFplYnJhXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKGVjMzB8cHMyMHx0Y1syLThdXFxkW2t4XSlcXCkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBTTUFSVFRWU1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvc21hcnQtdHYuKyhzYW1zdW5nKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbXN1bmdcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9oYmJ0di4rbWFwbGU7KFxcZCspL2lcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIC9eLywgJ1NtYXJ0VFYnXSwgW1ZFTkRPUiwgU0FNU1VOR10sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC8obnV4OyBuZXRjYXN0LitzbWFydHR2fGxnIChuZXRjYXN0XFwudHYtMjAxXFxkfGFuZHJvaWQgdHYpKS9pICAgICAgICAvLyBMRyBTbWFydFRWXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgTEddLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvKGFwcGxlKSA/dHYvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGxlIFRWXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBbTU9ERUwsIEFQUExFKycgVFYnXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL2Nya2V5L2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdFxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgQ0hST01FKydjYXN0J10sIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rYWZ0KFxcdyspKCBidWl8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlIFRWXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9cXChkdHZbXFwpO10uKyhhcXVvcykvaSxcbiAgICAgICAgICAgIC8oYXF1b3MtdHZbXFx3IF0rKVxcKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaGFycFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTSEFSUF0sIFtUWVBFLCBTTUFSVFRWXV0sW1xuICAgICAgICAgICAgLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb255XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvKG1pdHYtXFx3ezV9KSBidWkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWlcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgWElBT01JXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL0hiYnR2LioodGVjaG5pc2F0KSAoLiopOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZWNobmlTQVRcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJva3VcbiAgICAgICAgICAgIC9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkKyArXFwoW1xcd1xcKyBdKjsgKihbXFx3XFxkXVteO10qKTsoW147XSopL2kgICAgICAgICAvLyBIYmJUViBkZXZpY2VzXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgdHJpbV0sIFtNT0RFTCwgdHJpbV0sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC9cXGIoYW5kcm9pZCB0dnxzbWFydFstIF0/dHZ8b3BlcmEgdHZ8dHY7IHJ2OilcXGIvaSAgICAgICAgICAgICAgICAgICAvLyBTbWFydFRWIGZyb20gVW5pZGVudGlmaWVkIFZlbmRvcnNcbiAgICAgICAgICAgIF0sIFtbVFlQRSwgU01BUlRUVl1dLCBbXG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIENPTlNPTEVTXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgIC8ob3V5YSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3V5YVxuICAgICAgICAgICAgLyhuaW50ZW5kbykgKFt3aWRzM3V0Y2hdKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOaW50ZW5kb1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBDT05TT0xFXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoc2hpZWxkKSBidWkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTnZpZGlhXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdOdmlkaWEnXSwgW1RZUEUsIENPTlNPTEVdXSwgW1xuICAgICAgICAgICAgLyhwbGF5c3RhdGlvbiBbMzQ1cG9ydGFibGV2aV0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGF5c3RhdGlvblxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIENPTlNPTEVdXSwgW1xuICAgICAgICAgICAgL1xcYih4Ym94KD86IG9uZSk/KD8hOyB4Ym94KSlbXFwpOyBdL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pY3Jvc29mdCBYYm94XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBDT05TT0xFXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gV0VBUkFCTEVTXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgIC9cXGIoc20tW2xyXVxcZFxcZFswNV1bZm51d10/cz8pXFxiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbXN1bmcgR2FsYXh5IFdhdGNoXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuICAgICAgICAgICAgLygocGViYmxlKSlhcHAvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQZWJibGVcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuICAgICAgICAgICAgLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBsZSBXYXRjaFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBXRUFSQUJMRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKGdsYXNzKSBcXGQvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgR2xhc3NcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rOyAod3Q2Mz8wezIsM30pXFwpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgWkVCUkFdLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBYUlxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvZHJvaWQuKzsgKGdsYXNzKSBcXGQvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgR2xhc3NcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcbiAgICAgICAgICAgIC8ocGljbykgKDR8bmVvMyg/OiBsaW5rfHBybyk/KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGljb1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBXRUFSQUJMRV1dLCBbXG4gICAgICAgICAgICAvOyAocXVlc3QoIFxcZHwgcHJvKT8pL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPY3VsdXMgUXVlc3RcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgRkFDRUJPT0tdLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBFTUJFRERFRFxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvWy1cXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlc2xhXG4gICAgICAgICAgICBdLCBbVkVORE9SLCBbVFlQRSwgRU1CRURERURdXSwgW1xuICAgICAgICAgICAgLyhhZW9iYylcXGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWNobyBEb3RcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIEVNQkVEREVEXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIE1JWEVEIChHRU5FUklDKVxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8OyB3dlxcKXxcXCkgYXBwbGV3KS4rPyBtb2JpbGUgc2FmYXJpL2kgICAgLy8gQW5kcm9pZCBQaG9uZXMgZnJvbSBVbmlkZW50aWZpZWQgVmVuZG9yc1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pICAgICAgIC8vIEFuZHJvaWQgVGFibGV0cyBmcm9tIFVuaWRlbnRpZmllZCBWZW5kb3JzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYigodGFibGV0fHRhYilbO1xcL118Zm9jdXNcXC9cXGQoPyEuK21vYmlsZSkpL2kgICAgICAgICAgICAgICAgICAgICAgLy8gVW5pZGVudGlmaWFibGUgVGFibGV0XG4gICAgICAgICAgICBdLCBbW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaSAgICAvLyBVbmlkZW50aWZpYWJsZSBNb2JpbGVcbiAgICAgICAgICAgIF0sIFtbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC8oYW5kcm9pZFstXFx3XFwuIF17MCw5fSk7LitidWlsL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmljIEFuZHJvaWQgRGV2aWNlXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdHZW5lcmljJ11dXG4gICAgICAgIF0sXG5cbiAgICAgICAgZW5naW5lIDogW1tcblxuICAgICAgICAgICAgL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVkZ2VIVE1MXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEVER0UrJ0hUTUwnXV0sIFtcblxuICAgICAgICAgICAgLyhhcmt3ZWIpXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcmtXZWJcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuXG4gICAgICAgICAgICAvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxpbmtcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0JsaW5rJ11dLCBbXG5cbiAgICAgICAgICAgIC8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlc3RvXG4gICAgICAgICAgICAvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M218Z29hbm5hfHNlcnZvKVxcLyhbXFx3XFwuXSspL2ksIC8vIFdlYktpdC9UcmlkZW50L05ldEZyb250L05ldFN1cmYvQW1heWEvTHlueC93M20vR29hbm5hL1NlcnZvXG4gICAgICAgICAgICAvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsb3dcbiAgICAgICAgICAgIC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtIVE1ML1Rhc21hbi9MaW5rc1xuICAgICAgICAgICAgLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaUNhYlxuICAgICAgICAgICAgL1xcYihsaWJ3ZWIpL2lcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuXG4gICAgICAgICAgICAvcnZcXDooW1xcd1xcLl17MSw5fSlcXGIuKyhnZWNrbykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZWNrb1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIE5BTUVdXG4gICAgICAgIF0sXG5cbiAgICAgICAgb3MgOiBbW1xuXG4gICAgICAgICAgICAvLyBXaW5kb3dzXG4gICAgICAgICAgICAvbWljcm9zb2Z0ICh3aW5kb3dzKSAodmlzdGF8eHApL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbmRvd3MgKGlUdW5lcylcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyh3aW5kb3dzICg/OnBob25lKD86IG9zKT98bW9iaWxlKSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2kgICAgICAgICAgICAgLy8gV2luZG93cyBQaG9uZVxuICAgICAgICAgICAgXSwgW05BTUUsIFtWRVJTSU9OLCBzdHJNYXBwZXIsIHdpbmRvd3NWZXJzaW9uTWFwXV0sIFtcbiAgICAgICAgICAgIC93aW5kb3dzIG50IDZcXC4yOyAoYXJtKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaW5kb3dzIFJUXG4gICAgICAgICAgICAvd2luZG93c1tcXC8gXT8oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pLFxuICAgICAgICAgICAgLyg/Ondpbig/PTN8OXxuKXx3aW4gOXggKShbbnRcXGRcXC5dKykvaVxuICAgICAgICAgICAgXSwgW1tWRVJTSU9OLCBzdHJNYXBwZXIsIHdpbmRvd3NWZXJzaW9uTWFwXSwgW05BTUUsICdXaW5kb3dzJ11dLCBbXG5cbiAgICAgICAgICAgIC8vIGlPUy9tYWNPU1xuICAgICAgICAgICAgL2lwW2hvbmVhZF17Miw0fVxcYig/Oi4qb3MgKFtcXHddKykgbGlrZSBtYWN8OyBvcGVyYSkvaSwgICAgICAgICAgICAgIC8vIGlPU1xuICAgICAgICAgICAgLyg/OmlvcztmYnN2XFwvfGlwaG9uZS4raW9zW1xcLyBdKShbXFxkXFwuXSspL2ksXG4gICAgICAgICAgICAvY2ZuZXR3b3JrXFwvLitkYXJ3aW4vaVxuICAgICAgICAgICAgXSwgW1tWRVJTSU9OLCAvXy9nLCAnLiddLCBbTkFNRSwgJ2lPUyddXSwgW1xuICAgICAgICAgICAgLyhtYWMgb3MgeCkgPyhbXFx3XFwuIF0qKS9pLFxuICAgICAgICAgICAgLyhtYWNpbnRvc2h8bWFjX3Bvd2VycGNcXGIpKD8hLitoYWlrdSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFjIE9TXG4gICAgICAgICAgICBdLCBbW05BTUUsIE1BQ19PU10sIFtWRVJTSU9OLCAvXy9nLCAnLiddXSwgW1xuXG4gICAgICAgICAgICAvLyBNb2JpbGUgT1Nlc1xuICAgICAgICAgICAgL2Ryb2lkIChbXFx3XFwuXSspXFxiLisoYW5kcm9pZFstIF14ODZ8aGFybW9ueW9zKS9pICAgICAgICAgICAgICAgICAgICAvLyBBbmRyb2lkLXg4Ni9IYXJtb255T1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBOQU1FXSwgWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5kcm9pZC9XZWJPUy9RTlgvQmFkYS9SSU0vTWFlbW8vTWVlR28vU2FpbGZpc2ggT1MvT3Blbkhhcm1vbnlcbiAgICAgICAgICAgIC8oYW5kcm9pZHx3ZWJvc3xxbnh8YmFkYXxyaW0gdGFibGV0IG9zfG1hZW1vfG1lZWdvfHNhaWxmaXNofG9wZW5oYXJtb255KVstXFwvIF0/KFtcXHdcXC5dKikvaSxcbiAgICAgICAgICAgIC8oYmxhY2tiZXJyeSlcXHcqXFwvKFtcXHdcXC5dKikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrYmVycnlcbiAgICAgICAgICAgIC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGl6ZW4vS2FpT1NcbiAgICAgICAgICAgIC9cXCgoc2VyaWVzNDApOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlcmllcyA0MFxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvXFwoYmIoMTApOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCbGFja0JlcnJ5IDEwXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEJMQUNLQkVSUlldXSwgW1xuICAgICAgICAgICAgLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2kgICAgICAgICAvLyBTeW1iaWFuXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdTeW1iaWFuJ11dLCBbXG4gICAgICAgICAgICAvbW96aWxsYVxcL1tcXGRcXC5dKyBcXCgoPzptb2JpbGV8dGFibGV0fHR2fG1vYmlsZTsgW1xcdyBdKyk7IHJ2Oi4rIGdlY2tvXFwvKFtcXHdcXC5dKykvaSAvLyBGaXJlZm94IE9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1grJyBPUyddXSwgW1xuICAgICAgICAgICAgL3dlYjBzOy4rcnQodHYpL2ksXG4gICAgICAgICAgICAvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZWJPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnd2ViT1MnXV0sIFtcbiAgICAgICAgICAgIC93YXRjaCg/OiA/b3NbLFxcL118XFxkLFxcZFxcLykoW1xcZFxcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2F0Y2hPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnd2F0Y2hPUyddXSwgW1xuXG4gICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdFxuICAgICAgICAgICAgL2Nya2V5XFwvKFtcXGRcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUUrJ2Nhc3QnXV0sIFtcbiAgICAgICAgICAgIC8oY3JvcykgW1xcd10rKD86XFwpfCAoW1xcd1xcLl0rKVxcYikvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWl1bSBPU1xuICAgICAgICAgICAgXSwgW1tOQU1FLCBDSFJPTUlVTV9PU10sIFZFUlNJT05dLFtcblxuICAgICAgICAgICAgLy8gU21hcnQgVFZzXG4gICAgICAgICAgICAvcGFuYXNvbmljOyh2aWVyYSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhbmFzb25pYyBWaWVyYVxuICAgICAgICAgICAgLyhuZXRyYW5nZSltbWgvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXRyYW5nZVxuICAgICAgICAgICAgLyhuZXR0dilcXC8oXFxkK1xcLltcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldFRWXG5cbiAgICAgICAgICAgIC8vIENvbnNvbGVcbiAgICAgICAgICAgIC8obmludGVuZG98cGxheXN0YXRpb24pIChbd2lkczM0NXBvcnRhYmxldnVjaF0rKS9pLCAgICAgICAgICAgICAgICAgLy8gTmludGVuZG8vUGxheXN0YXRpb25cbiAgICAgICAgICAgIC8oeGJveCk7ICt4Ym94IChbXlxcKTtdKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pY3Jvc29mdCBYYm94ICgzNjAsIE9uZSwgWCwgUywgU2VyaWVzIFgsIFNlcmllcyBTKVxuXG4gICAgICAgICAgICAvLyBPdGhlclxuICAgICAgICAgICAgL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEpvbGkvUGFsbVxuICAgICAgICAgICAgLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWludFxuICAgICAgICAgICAgLyhtYWdlaWF8dmVjdG9ybGludXgpWzsgXS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWdlaWEvVmVjdG9yTGludXhcbiAgICAgICAgICAgIC8oW2t4bG5dP3VidW50dXxkZWJpYW58c3VzZXxvcGVuc3VzZXxnZW50b298YXJjaCg/PSBsaW51eCl8c2xhY2t3YXJlfGZlZG9yYXxtYW5kcml2YXxjZW50b3N8cGNsaW51eG9zfHJlZCA/aGF0fHplbndhbGt8bGlucHVzfHJhc3BiaWFufHBsYW4gOXxtaW5peHxyaXNjIG9zfGNvbnRpa2l8ZGVlcGlufG1hbmphcm98ZWxlbWVudGFyeSBvc3xzYWJheW9ufGxpbnNwaXJlKSg/OiBnbnVcXC9saW51eCk/KD86IGVudGVycHJpc2UpPyg/OlstIF1saW51eCk/KD86LWdudSk/Wy1cXC8gXT8oPyFjaHJvbXxwYWNrYWdlKShbLVxcd1xcLl0qKS9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVYnVudHUvRGViaWFuL1NVU0UvR2VudG9vL0FyY2gvU2xhY2t3YXJlL0ZlZG9yYS9NYW5kcml2YS9DZW50T1MvUENMaW51eE9TL1JlZEhhdC9aZW53YWxrL0xpbnB1cy9SYXNwYmlhbi9QbGFuOS9NaW5peC9SSVNDT1MvQ29udGlraS9EZWVwaW4vTWFuamFyby9lbGVtZW50YXJ5L1NhYmF5b24vTGluc3BpcmVcbiAgICAgICAgICAgIC8oaHVyZHxsaW51eCkgPyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIdXJkL0xpbnV4XG4gICAgICAgICAgICAvKGdudSkgPyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR05VXG4gICAgICAgICAgICAvXFxiKFstZnJlbnRvcGNnaHNdezAsNX1ic2R8ZHJhZ29uZmx5KVtcXC8gXT8oPyFhbWR8W2l4MzQ2XXsxLDJ9ODYpKFtcXHdcXC5dKikvaSwgLy8gRnJlZUJTRC9OZXRCU0QvT3BlbkJTRC9QQy1CU0QvR2hvc3RCU0QvRHJhZ29uRmx5XG4gICAgICAgICAgICAvKGhhaWt1KSAoXFx3KykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYWlrdVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbGFyaXNcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgJ1NvbGFyaXMnXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC8oKD86b3Blbik/c29sYXJpcylbLVxcLyBdPyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29sYXJpc1xuICAgICAgICAgICAgLyhhaXgpICgoXFxkKSg/PVxcLnxcXCl8IClbXFx3XFwuXSkqL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFJWFxuICAgICAgICAgICAgL1xcYihiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8b3BlbnZtc3xmdWNoc2lhfGhwLXV4fHNlcmVuaXR5b3MpL2ksIC8vIEJlT1MvT1MyL0FtaWdhT1MvTW9ycGhPUy9PcGVuVk1TL0Z1Y2hzaWEvSFAtVVgvU2VyZW5pdHlPU1xuICAgICAgICAgICAgLyh1bml4KSA/KFtcXHdcXC5dKikvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVOSVhcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXVxuICAgICAgICBdXG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ29uc3RydWN0b3JcbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICB2YXIgVUFQYXJzZXIgPSBmdW5jdGlvbiAodWEsIGV4dGVuc2lvbnMpIHtcblxuICAgICAgICBpZiAodHlwZW9mIHVhID09PSBPQkpfVFlQRSkge1xuICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IHVhO1xuICAgICAgICAgICAgdWEgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVUFQYXJzZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVBUGFyc2VyKHVhLCBleHRlbnNpb25zKS5nZXRSZXN1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbmF2aWdhdG9yID0gKHR5cGVvZiB3aW5kb3cgIT09IFVOREVGX1RZUEUgJiYgd2luZG93Lm5hdmlnYXRvcikgPyB3aW5kb3cubmF2aWdhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgX3VhID0gdWEgfHwgKChfbmF2aWdhdG9yICYmIF9uYXZpZ2F0b3IudXNlckFnZW50KSA/IF9uYXZpZ2F0b3IudXNlckFnZW50IDogRU1QVFkpO1xuICAgICAgICB2YXIgX3VhY2ggPSAoX25hdmlnYXRvciAmJiBfbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpID8gX25hdmlnYXRvci51c2VyQWdlbnREYXRhIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgX3JneG1hcCA9IGV4dGVuc2lvbnMgPyBleHRlbmQocmVnZXhlcywgZXh0ZW5zaW9ucykgOiByZWdleGVzO1xuICAgICAgICB2YXIgX2lzU2VsZk5hdiA9IF9uYXZpZ2F0b3IgJiYgX25hdmlnYXRvci51c2VyQWdlbnQgPT0gX3VhO1xuXG4gICAgICAgIHRoaXMuZ2V0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYnJvd3NlciA9IHt9O1xuICAgICAgICAgICAgX2Jyb3dzZXJbTkFNRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfYnJvd3NlcltWRVJTSU9OXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9icm93c2VyLCBfdWEsIF9yZ3htYXAuYnJvd3Nlcik7XG4gICAgICAgICAgICBfYnJvd3NlcltNQUpPUl0gPSBtYWpvcml6ZShfYnJvd3NlcltWRVJTSU9OXSk7XG4gICAgICAgICAgICAvLyBCcmF2ZS1zcGVjaWZpYyBkZXRlY3Rpb25cbiAgICAgICAgICAgIGlmIChfaXNTZWxmTmF2ICYmIF9uYXZpZ2F0b3IgJiYgX25hdmlnYXRvci5icmF2ZSAmJiB0eXBlb2YgX25hdmlnYXRvci5icmF2ZS5pc0JyYXZlID09IEZVTkNfVFlQRSkge1xuICAgICAgICAgICAgICAgIF9icm93c2VyW05BTUVdID0gJ0JyYXZlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfYnJvd3NlcjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDUFUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2NwdSA9IHt9O1xuICAgICAgICAgICAgX2NwdVtBUkNISVRFQ1RVUkVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwoX2NwdSwgX3VhLCBfcmd4bWFwLmNwdSk7XG4gICAgICAgICAgICByZXR1cm4gX2NwdTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXREZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2RldmljZSA9IHt9O1xuICAgICAgICAgICAgX2RldmljZVtWRU5ET1JdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX2RldmljZVtNT0RFTF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfZGV2aWNlW1RZUEVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwoX2RldmljZSwgX3VhLCBfcmd4bWFwLmRldmljZSk7XG4gICAgICAgICAgICBpZiAoX2lzU2VsZk5hdiAmJiAhX2RldmljZVtUWVBFXSAmJiBfdWFjaCAmJiBfdWFjaC5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICBfZGV2aWNlW1RZUEVdID0gTU9CSUxFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaVBhZE9TLXNwZWNpZmljIGRldGVjdGlvbjogaWRlbnRpZmllZCBhcyBNYWMsIGJ1dCBoYXMgc29tZSBpT1Mtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoX2lzU2VsZk5hdiAmJiBfZGV2aWNlW01PREVMXSA9PSAnTWFjaW50b3NoJyAmJiBfbmF2aWdhdG9yICYmIHR5cGVvZiBfbmF2aWdhdG9yLnN0YW5kYWxvbmUgIT09IFVOREVGX1RZUEUgJiYgX25hdmlnYXRvci5tYXhUb3VjaFBvaW50cyAmJiBfbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMikge1xuICAgICAgICAgICAgICAgIF9kZXZpY2VbTU9ERUxdID0gJ2lQYWQnO1xuICAgICAgICAgICAgICAgIF9kZXZpY2VbVFlQRV0gPSBUQUJMRVQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2RldmljZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRFbmdpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2VuZ2luZSA9IHt9O1xuICAgICAgICAgICAgX2VuZ2luZVtOQU1FXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIF9lbmdpbmVbVkVSU0lPTl0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChfZW5naW5lLCBfdWEsIF9yZ3htYXAuZW5naW5lKTtcbiAgICAgICAgICAgIHJldHVybiBfZW5naW5lO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldE9TID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9vcyA9IHt9O1xuICAgICAgICAgICAgX29zW05BTUVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX29zW1ZFUlNJT05dID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwoX29zLCBfdWEsIF9yZ3htYXAub3MpO1xuICAgICAgICAgICAgaWYgKF9pc1NlbGZOYXYgJiYgIV9vc1tOQU1FXSAmJiBfdWFjaCAmJiBfdWFjaC5wbGF0Zm9ybSAmJiBfdWFjaC5wbGF0Zm9ybSAhPSAnVW5rbm93bicpIHtcbiAgICAgICAgICAgICAgICBfb3NbTkFNRV0gPSBfdWFjaC5wbGF0Zm9ybSAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvY2hyb21lIG9zL2ksIENIUk9NSVVNX09TKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL21hY29zL2ksIE1BQ19PUyk7ICAgICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX29zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdWEgICAgICA6IHRoaXMuZ2V0VUEoKSxcbiAgICAgICAgICAgICAgICBicm93c2VyIDogdGhpcy5nZXRCcm93c2VyKCksXG4gICAgICAgICAgICAgICAgZW5naW5lICA6IHRoaXMuZ2V0RW5naW5lKCksXG4gICAgICAgICAgICAgICAgb3MgICAgICA6IHRoaXMuZ2V0T1MoKSxcbiAgICAgICAgICAgICAgICBkZXZpY2UgIDogdGhpcy5nZXREZXZpY2UoKSxcbiAgICAgICAgICAgICAgICBjcHUgICAgIDogdGhpcy5nZXRDUFUoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRVQSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdWE7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0VUEgPSBmdW5jdGlvbiAodWEpIHtcbiAgICAgICAgICAgIF91YSA9ICh0eXBlb2YgdWEgPT09IFNUUl9UWVBFICYmIHVhLmxlbmd0aCA+IFVBX01BWF9MRU5HVEgpID8gdHJpbSh1YSwgVUFfTUFYX0xFTkdUSCkgOiB1YTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFVBKF91YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBVQVBhcnNlci5WRVJTSU9OID0gTElCVkVSU0lPTjtcbiAgICBVQVBhcnNlci5CUk9XU0VSID0gIGVudW1lcml6ZShbTkFNRSwgVkVSU0lPTiwgTUFKT1JdKTtcbiAgICBVQVBhcnNlci5DUFUgPSBlbnVtZXJpemUoW0FSQ0hJVEVDVFVSRV0pO1xuICAgIFVBUGFyc2VyLkRFVklDRSA9IGVudW1lcml6ZShbTU9ERUwsIFZFTkRPUiwgVFlQRSwgQ09OU09MRSwgTU9CSUxFLCBTTUFSVFRWLCBUQUJMRVQsIFdFQVJBQkxFLCBFTUJFRERFRF0pO1xuICAgIFVBUGFyc2VyLkVOR0lORSA9IFVBUGFyc2VyLk9TID0gZW51bWVyaXplKFtOQU1FLCBWRVJTSU9OXSk7XG5cbiAgICAvLy8vLy8vLy8vL1xuICAgIC8vIEV4cG9ydFxuICAgIC8vLy8vLy8vLy9cblxuICAgIC8vIGNoZWNrIGpzIGVudmlyb25tZW50XG4gICAgaWYgKHR5cGVvZihleHBvcnRzKSAhPT0gVU5ERUZfVFlQRSkge1xuICAgICAgICAvLyBub2RlanMgZW52XG4gICAgICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSBVTkRFRl9UWVBFICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBVQVBhcnNlcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRzLlVBUGFyc2VyID0gVUFQYXJzZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVxdWlyZWpzIGVudiAob3B0aW9uYWwpXG4gICAgICAgIGlmICh0eXBlb2YoZGVmaW5lKSA9PT0gRlVOQ19UWVBFICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVBUGFyc2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gVU5ERUZfVFlQRSkge1xuICAgICAgICAgICAgLy8gYnJvd3NlciBlbnZcbiAgICAgICAgICAgIHdpbmRvdy5VQVBhcnNlciA9IFVBUGFyc2VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8galF1ZXJ5L1plcHRvIHNwZWNpZmljIChvcHRpb25hbClcbiAgICAvLyBOb3RlOlxuICAgIC8vICAgSW4gQU1EIGVudiB0aGUgZ2xvYmFsIHNjb3BlIHNob3VsZCBiZSBrZXB0IGNsZWFuLCBidXQgalF1ZXJ5IGlzIGFuIGV4Y2VwdGlvbi5cbiAgICAvLyAgIGpRdWVyeSBhbHdheXMgZXhwb3J0cyB0byBnbG9iYWwgc2NvcGUsIHVubGVzcyBqUXVlcnkubm9Db25mbGljdCh0cnVlKSBpcyB1c2VkLFxuICAgIC8vICAgYW5kIHdlIHNob3VsZCBjYXRjaCB0aGF0LlxuICAgIHZhciAkID0gdHlwZW9mIHdpbmRvdyAhPT0gVU5ERUZfVFlQRSAmJiAod2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pO1xuICAgIGlmICgkICYmICEkLnVhKSB7XG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgVUFQYXJzZXIoKTtcbiAgICAgICAgJC51YSA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgICAgJC51YS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VyLmdldFVBKCk7XG4gICAgICAgIH07XG4gICAgICAgICQudWEuc2V0ID0gZnVuY3Rpb24gKHVhKSB7XG4gICAgICAgICAgICBwYXJzZXIuc2V0VUEodWEpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJC51YVtwcm9wXSA9IHJlc3VsdFtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnID8gd2luZG93IDogdGhpcyk7XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlXG4gKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlXG4gKiAgdHJlZS5cbiAqL1xuIC8qIGVzbGludC1lbnYgbm9kZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhZGFwdGVyRmFjdG9yeSA9IHJlcXVpcmUoJy4vYWRhcHRlcl9mYWN0b3J5LmpzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGFkYXB0ZXJGYWN0b3J5KHt3aW5kb3c6IGdsb2JhbC53aW5kb3d9KTtcbiIsIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlXG4gKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlXG4gKiAgdHJlZS5cbiAqL1xuIC8qIGVzbGludC1lbnYgbm9kZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbi8vIFNoaW1taW5nIHN0YXJ0cyBoZXJlLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkZXBlbmRlbmNpZXMsIG9wdHMpIHtcbiAgdmFyIHdpbmRvdyA9IGRlcGVuZGVuY2llcyAmJiBkZXBlbmRlbmNpZXMud2luZG93O1xuXG4gIHZhciBvcHRpb25zID0ge1xuICAgIHNoaW1DaHJvbWU6IHRydWUsXG4gICAgc2hpbUZpcmVmb3g6IHRydWUsXG4gICAgc2hpbUVkZ2U6IHRydWUsXG4gICAgc2hpbVNhZmFyaTogdHJ1ZSxcbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gb3B0cykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMsIGtleSkpIHtcbiAgICAgIG9wdGlvbnNba2V5XSA9IG9wdHNba2V5XTtcbiAgICB9XG4gIH1cblxuICAvLyBVdGlscy5cbiAgdmFyIGxvZ2dpbmcgPSB1dGlscy5sb2c7XG4gIHZhciBicm93c2VyRGV0YWlscyA9IHV0aWxzLmRldGVjdEJyb3dzZXIod2luZG93KTtcblxuICAvLyBVbmNvbW1lbnQgdGhlIGxpbmUgYmVsb3cgaWYgeW91IHdhbnQgbG9nZ2luZyB0byBvY2N1ciwgaW5jbHVkaW5nIGxvZ2dpbmdcbiAgLy8gZm9yIHRoZSBzd2l0Y2ggc3RhdGVtZW50IGJlbG93LiBDYW4gYWxzbyBiZSB0dXJuZWQgb24gaW4gdGhlIGJyb3dzZXIgdmlhXG4gIC8vIGFkYXB0ZXIuZGlzYWJsZUxvZyhmYWxzZSksIGJ1dCB0aGVuIGxvZ2dpbmcgZnJvbSB0aGUgc3dpdGNoIHN0YXRlbWVudCBiZWxvd1xuICAvLyB3aWxsIG5vdCBhcHBlYXIuXG4gIC8vIHJlcXVpcmUoJy4vdXRpbHMnKS5kaXNhYmxlTG9nKGZhbHNlKTtcblxuICAvLyBCcm93c2VyIHNoaW1zLlxuICB2YXIgY2hyb21lU2hpbSA9IHJlcXVpcmUoJy4vY2hyb21lL2Nocm9tZV9zaGltJykgfHwgbnVsbDtcbiAgdmFyIGVkZ2VTaGltID0gcmVxdWlyZSgnLi9lZGdlL2VkZ2Vfc2hpbScpIHx8IG51bGw7XG4gIHZhciBmaXJlZm94U2hpbSA9IHJlcXVpcmUoJy4vZmlyZWZveC9maXJlZm94X3NoaW0nKSB8fCBudWxsO1xuICB2YXIgc2FmYXJpU2hpbSA9IHJlcXVpcmUoJy4vc2FmYXJpL3NhZmFyaV9zaGltJykgfHwgbnVsbDtcbiAgdmFyIGNvbW1vblNoaW0gPSByZXF1aXJlKCcuL2NvbW1vbl9zaGltJykgfHwgbnVsbDtcblxuICAvLyBFeHBvcnQgdG8gdGhlIGFkYXB0ZXIgZ2xvYmFsIG9iamVjdCB2aXNpYmxlIGluIHRoZSBicm93c2VyLlxuICB2YXIgYWRhcHRlciA9IHtcbiAgICBicm93c2VyRGV0YWlsczogYnJvd3NlckRldGFpbHMsXG4gICAgY29tbW9uU2hpbTogY29tbW9uU2hpbSxcbiAgICBleHRyYWN0VmVyc2lvbjogdXRpbHMuZXh0cmFjdFZlcnNpb24sXG4gICAgZGlzYWJsZUxvZzogdXRpbHMuZGlzYWJsZUxvZyxcbiAgICBkaXNhYmxlV2FybmluZ3M6IHV0aWxzLmRpc2FibGVXYXJuaW5nc1xuICB9O1xuXG4gIC8vIFNoaW0gYnJvd3NlciBpZiBmb3VuZC5cbiAgc3dpdGNoIChicm93c2VyRGV0YWlscy5icm93c2VyKSB7XG4gICAgY2FzZSAnY2hyb21lJzpcbiAgICAgIGlmICghY2hyb21lU2hpbSB8fCAhY2hyb21lU2hpbS5zaGltUGVlckNvbm5lY3Rpb24gfHxcbiAgICAgICAgICAhb3B0aW9ucy5zaGltQ2hyb21lKSB7XG4gICAgICAgIGxvZ2dpbmcoJ0Nocm9tZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS4nKTtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXI7XG4gICAgICB9XG4gICAgICBsb2dnaW5nKCdhZGFwdGVyLmpzIHNoaW1taW5nIGNocm9tZS4nKTtcbiAgICAgIC8vIEV4cG9ydCB0byB0aGUgYWRhcHRlciBnbG9iYWwgb2JqZWN0IHZpc2libGUgaW4gdGhlIGJyb3dzZXIuXG4gICAgICBhZGFwdGVyLmJyb3dzZXJTaGltID0gY2hyb21lU2hpbTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbUNyZWF0ZU9iamVjdFVSTCh3aW5kb3cpO1xuXG4gICAgICBjaHJvbWVTaGltLnNoaW1HZXRVc2VyTWVkaWEod2luZG93KTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbU1lZGlhU3RyZWFtKHdpbmRvdyk7XG4gICAgICBjaHJvbWVTaGltLnNoaW1Tb3VyY2VPYmplY3Qod2luZG93KTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbVBlZXJDb25uZWN0aW9uKHdpbmRvdyk7XG4gICAgICBjaHJvbWVTaGltLnNoaW1PblRyYWNrKHdpbmRvdyk7XG4gICAgICBjaHJvbWVTaGltLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrKHdpbmRvdyk7XG4gICAgICBjaHJvbWVTaGltLnNoaW1HZXRTZW5kZXJzV2l0aER0bWYod2luZG93KTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHMod2luZG93KTtcbiAgICAgIGNocm9tZVNoaW0uZml4TmVnb3RpYXRpb25OZWVkZWQod2luZG93KTtcblxuICAgICAgY29tbW9uU2hpbS5zaGltUlRDSWNlQ2FuZGlkYXRlKHdpbmRvdyk7XG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3cpO1xuICAgICAgY29tbW9uU2hpbS5zaGltU2VuZFRocm93VHlwZUVycm9yKHdpbmRvdyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmaXJlZm94JzpcbiAgICAgIGlmICghZmlyZWZveFNoaW0gfHwgIWZpcmVmb3hTaGltLnNoaW1QZWVyQ29ubmVjdGlvbiB8fFxuICAgICAgICAgICFvcHRpb25zLnNoaW1GaXJlZm94KSB7XG4gICAgICAgIGxvZ2dpbmcoJ0ZpcmVmb3ggc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuJyk7XG4gICAgICAgIHJldHVybiBhZGFwdGVyO1xuICAgICAgfVxuICAgICAgbG9nZ2luZygnYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LicpO1xuICAgICAgLy8gRXhwb3J0IHRvIHRoZSBhZGFwdGVyIGdsb2JhbCBvYmplY3QgdmlzaWJsZSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgIGFkYXB0ZXIuYnJvd3NlclNoaW0gPSBmaXJlZm94U2hpbTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbUNyZWF0ZU9iamVjdFVSTCh3aW5kb3cpO1xuXG4gICAgICBmaXJlZm94U2hpbS5zaGltR2V0VXNlck1lZGlhKHdpbmRvdyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltU291cmNlT2JqZWN0KHdpbmRvdyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltUGVlckNvbm5lY3Rpb24od2luZG93KTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1PblRyYWNrKHdpbmRvdyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltUmVtb3ZlU3RyZWFtKHdpbmRvdyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltU2VuZGVyR2V0U3RhdHMod2luZG93KTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1SZWNlaXZlckdldFN0YXRzKHdpbmRvdyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltUlRDRGF0YUNoYW5uZWwod2luZG93KTtcblxuICAgICAgY29tbW9uU2hpbS5zaGltUlRDSWNlQ2FuZGlkYXRlKHdpbmRvdyk7XG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3cpO1xuICAgICAgY29tbW9uU2hpbS5zaGltU2VuZFRocm93VHlwZUVycm9yKHdpbmRvdyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdlZGdlJzpcbiAgICAgIGlmICghZWRnZVNoaW0gfHwgIWVkZ2VTaGltLnNoaW1QZWVyQ29ubmVjdGlvbiB8fCAhb3B0aW9ucy5zaGltRWRnZSkge1xuICAgICAgICBsb2dnaW5nKCdNUyBlZGdlIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLicpO1xuICAgICAgICByZXR1cm4gYWRhcHRlcjtcbiAgICAgIH1cbiAgICAgIGxvZ2dpbmcoJ2FkYXB0ZXIuanMgc2hpbW1pbmcgZWRnZS4nKTtcbiAgICAgIC8vIEV4cG9ydCB0byB0aGUgYWRhcHRlciBnbG9iYWwgb2JqZWN0IHZpc2libGUgaW4gdGhlIGJyb3dzZXIuXG4gICAgICBhZGFwdGVyLmJyb3dzZXJTaGltID0gZWRnZVNoaW07XG4gICAgICBjb21tb25TaGltLnNoaW1DcmVhdGVPYmplY3RVUkwod2luZG93KTtcblxuICAgICAgZWRnZVNoaW0uc2hpbUdldFVzZXJNZWRpYSh3aW5kb3cpO1xuICAgICAgZWRnZVNoaW0uc2hpbVBlZXJDb25uZWN0aW9uKHdpbmRvdyk7XG4gICAgICBlZGdlU2hpbS5zaGltUmVwbGFjZVRyYWNrKHdpbmRvdyk7XG4gICAgICBlZGdlU2hpbS5zaGltR2V0RGlzcGxheU1lZGlhKHdpbmRvdyk7XG5cbiAgICAgIC8vIHRoZSBlZGdlIHNoaW0gaW1wbGVtZW50cyB0aGUgZnVsbCBSVENJY2VDYW5kaWRhdGUgb2JqZWN0LlxuXG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3cpO1xuICAgICAgY29tbW9uU2hpbS5zaGltU2VuZFRocm93VHlwZUVycm9yKHdpbmRvdyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzYWZhcmknOlxuICAgICAgaWYgKCFzYWZhcmlTaGltIHx8ICFvcHRpb25zLnNoaW1TYWZhcmkpIHtcbiAgICAgICAgbG9nZ2luZygnU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLicpO1xuICAgICAgICByZXR1cm4gYWRhcHRlcjtcbiAgICAgIH1cbiAgICAgIGxvZ2dpbmcoJ2FkYXB0ZXIuanMgc2hpbW1pbmcgc2FmYXJpLicpO1xuICAgICAgLy8gRXhwb3J0IHRvIHRoZSBhZGFwdGVyIGdsb2JhbCBvYmplY3QgdmlzaWJsZSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgIGFkYXB0ZXIuYnJvd3NlclNoaW0gPSBzYWZhcmlTaGltO1xuICAgICAgY29tbW9uU2hpbS5zaGltQ3JlYXRlT2JqZWN0VVJMKHdpbmRvdyk7XG5cbiAgICAgIHNhZmFyaVNoaW0uc2hpbVJUQ0ljZVNlcnZlclVybHMod2luZG93KTtcbiAgICAgIHNhZmFyaVNoaW0uc2hpbUNyZWF0ZU9mZmVyTGVnYWN5KHdpbmRvdyk7XG4gICAgICBzYWZhcmlTaGltLnNoaW1DYWxsYmFja3NBUEkod2luZG93KTtcbiAgICAgIHNhZmFyaVNoaW0uc2hpbUxvY2FsU3RyZWFtc0FQSSh3aW5kb3cpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltUmVtb3RlU3RyZWFtc0FQSSh3aW5kb3cpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyKHdpbmRvdyk7XG4gICAgICBzYWZhcmlTaGltLnNoaW1HZXRVc2VyTWVkaWEod2luZG93KTtcblxuICAgICAgY29tbW9uU2hpbS5zaGltUlRDSWNlQ2FuZGlkYXRlKHdpbmRvdyk7XG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3cpO1xuICAgICAgY29tbW9uU2hpbS5zaGltU2VuZFRocm93VHlwZUVycm9yKHdpbmRvdyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2luZygnVW5zdXBwb3J0ZWQgYnJvd3NlciEnKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGFkYXB0ZXI7XG59O1xuIiwiXG4vKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzLmpzJyk7XG52YXIgbG9nZ2luZyA9IHV0aWxzLmxvZztcblxuLyogaXRlcmF0ZXMgdGhlIHN0YXRzIGdyYXBoIHJlY3Vyc2l2ZWx5LiAqL1xuZnVuY3Rpb24gd2Fsa1N0YXRzKHN0YXRzLCBiYXNlLCByZXN1bHRTZXQpIHtcbiAgaWYgKCFiYXNlIHx8IHJlc3VsdFNldC5oYXMoYmFzZS5pZCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVzdWx0U2V0LnNldChiYXNlLmlkLCBiYXNlKTtcbiAgT2JqZWN0LmtleXMoYmFzZSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKG5hbWUuZW5kc1dpdGgoJ0lkJykpIHtcbiAgICAgIHdhbGtTdGF0cyhzdGF0cywgc3RhdHMuZ2V0KGJhc2VbbmFtZV0pLCByZXN1bHRTZXQpO1xuICAgIH0gZWxzZSBpZiAobmFtZS5lbmRzV2l0aCgnSWRzJykpIHtcbiAgICAgIGJhc2VbbmFtZV0uZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgICAgICB3YWxrU3RhdHMoc3RhdHMsIHN0YXRzLmdldChpZCksIHJlc3VsdFNldCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiBmaWx0ZXIgZ2V0U3RhdHMgZm9yIGEgc2VuZGVyL3JlY2VpdmVyIHRyYWNrLiAqL1xuZnVuY3Rpb24gZmlsdGVyU3RhdHMocmVzdWx0LCB0cmFjaywgb3V0Ym91bmQpIHtcbiAgdmFyIHN0cmVhbVN0YXRzVHlwZSA9IG91dGJvdW5kID8gJ291dGJvdW5kLXJ0cCcgOiAnaW5ib3VuZC1ydHAnO1xuICB2YXIgZmlsdGVyZWRSZXN1bHQgPSBuZXcgTWFwKCk7XG4gIGlmICh0cmFjayA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmaWx0ZXJlZFJlc3VsdDtcbiAgfVxuICB2YXIgdHJhY2tTdGF0cyA9IFtdO1xuICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS50eXBlID09PSAndHJhY2snICYmXG4gICAgICAgIHZhbHVlLnRyYWNrSWRlbnRpZmllciA9PT0gdHJhY2suaWQpIHtcbiAgICAgIHRyYWNrU3RhdHMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdHJhY2tTdGF0cy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrU3RhdCkge1xuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRzKSB7XG4gICAgICBpZiAoc3RhdHMudHlwZSA9PT0gc3RyZWFtU3RhdHNUeXBlICYmIHN0YXRzLnRyYWNrSWQgPT09IHRyYWNrU3RhdC5pZCkge1xuICAgICAgICB3YWxrU3RhdHMocmVzdWx0LCBzdGF0cywgZmlsdGVyZWRSZXN1bHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGZpbHRlcmVkUmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2hpbUdldFVzZXJNZWRpYTogcmVxdWlyZSgnLi9nZXR1c2VybWVkaWEnKSxcbiAgc2hpbU1lZGlhU3RyZWFtOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB3aW5kb3cuTWVkaWFTdHJlYW0gPSB3aW5kb3cuTWVkaWFTdHJlYW0gfHwgd2luZG93LndlYmtpdE1lZGlhU3RyZWFtO1xuICB9LFxuXG4gIHNoaW1PblRyYWNrOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmICEoJ29udHJhY2snIGluXG4gICAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ29udHJhY2snLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29udHJhY2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZikge1xuICAgICAgICAgIGlmICh0aGlzLl9vbnRyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb250cmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCB0aGlzLl9vbnRyYWNrID0gZik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB2YXIgb3JpZ1NldFJlbW90ZURlc2NyaXB0aW9uID1cbiAgICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICBpZiAoIXBjLl9vbnRyYWNrcG9seSkge1xuICAgICAgICAgIHBjLl9vbnRyYWNrcG9seSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vIG9uYWRkc3RyZWFtIGRvZXMgbm90IGZpcmUgd2hlbiBhIHRyYWNrIGlzIGFkZGVkIHRvIGFuIGV4aXN0aW5nXG4gICAgICAgICAgICAvLyBzdHJlYW0uIEJ1dCBzdHJlYW0ub25hZGR0cmFjayBpcyBpbXBsZW1lbnRlZCBzbyB3ZSB1c2UgdGhhdC5cbiAgICAgICAgICAgIGUuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgZnVuY3Rpb24odGUpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY2VpdmVyO1xuICAgICAgICAgICAgICBpZiAod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnMpIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHBjLmdldFJlY2VpdmVycygpLmZpbmQoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHIudHJhY2sgJiYgci50cmFjay5pZCA9PT0gdGUudHJhY2suaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB7dHJhY2s6IHRlLnRyYWNrfTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudCgndHJhY2snKTtcbiAgICAgICAgICAgICAgZXZlbnQudHJhY2sgPSB0ZS50cmFjaztcbiAgICAgICAgICAgICAgZXZlbnQucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgICAgICAgZXZlbnQudHJhbnNjZWl2ZXIgPSB7cmVjZWl2ZXI6IHJlY2VpdmVyfTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RyZWFtcyA9IFtlLnN0cmVhbV07XG4gICAgICAgICAgICAgIHBjLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgIHZhciByZWNlaXZlcjtcbiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSBwYy5nZXRSZWNlaXZlcnMoKS5maW5kKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByLnRyYWNrICYmIHIudHJhY2suaWQgPT09IHRyYWNrLmlkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0ge3RyYWNrOiB0cmFja307XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCd0cmFjaycpO1xuICAgICAgICAgICAgICBldmVudC50cmFjayA9IHRyYWNrO1xuICAgICAgICAgICAgICBldmVudC5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICAgICAgICBldmVudC50cmFuc2NlaXZlciA9IHtyZWNlaXZlcjogcmVjZWl2ZXJ9O1xuICAgICAgICAgICAgICBldmVudC5zdHJlYW1zID0gW2Uuc3RyZWFtXTtcbiAgICAgICAgICAgICAgcGMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHBjLl9vbnRyYWNrcG9seSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdTZXRSZW1vdGVEZXNjcmlwdGlvbi5hcHBseShwYywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV2ZW4gaWYgUlRDUnRwVHJhbnNjZWl2ZXIgaXMgaW4gd2luZG93LCBpdCBpcyBvbmx5IHVzZWQgYW5kXG4gICAgICAvLyBlbWl0dGVkIGluIHVuaWZpZWQtcGxhbi4gVW5mb3J0dW5hdGVseSB0aGlzIG1lYW5zIHdlIG5lZWRcbiAgICAgIC8vIHRvIHVuY29uZGl0aW9uYWxseSB3cmFwIHRoZSBldmVudC5cbiAgICAgIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ3RyYWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWUudHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgJ3RyYW5zY2VpdmVyJyxcbiAgICAgICAgICAgIHt2YWx1ZToge3JlY2VpdmVyOiBlLnJlY2VpdmVyfX0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHNoaW1HZXRTZW5kZXJzV2l0aER0bWY6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIC8vIE92ZXJyaWRlcyBhZGRUcmFjay9yZW1vdmVUcmFjaywgZGVwZW5kcyBvbiBzaGltQWRkVHJhY2tSZW1vdmVUcmFjay5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmXG4gICAgICAgICEoJ2dldFNlbmRlcnMnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpICYmXG4gICAgICAgICdjcmVhdGVEVE1GU2VuZGVyJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgICB2YXIgc2hpbVNlbmRlcldpdGhEdG1mID0gZnVuY3Rpb24ocGMsIHRyYWNrKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHJhY2s6IHRyYWNrLFxuICAgICAgICAgIGdldCBkdG1mKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2R0bWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBwYy5jcmVhdGVEVE1GU2VuZGVyKHRyYWNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdG1mID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2R0bWY7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcGM6IHBjXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBhdWdtZW50IGFkZFRyYWNrIHdoZW4gZ2V0U2VuZGVycyBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMpIHtcbiAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5fc2VuZGVycyA9IHRoaXMuX3NlbmRlcnMgfHwgW107XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRlcnMuc2xpY2UoKTsgLy8gcmV0dXJuIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgc3RhdGUuXG4gICAgICAgIH07XG4gICAgICAgIHZhciBvcmlnQWRkVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO1xuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24odHJhY2ssIHN0cmVhbSkge1xuICAgICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgICAgdmFyIHNlbmRlciA9IG9yaWdBZGRUcmFjay5hcHBseShwYywgYXJndW1lbnRzKTtcbiAgICAgICAgICBpZiAoIXNlbmRlcikge1xuICAgICAgICAgICAgc2VuZGVyID0gc2hpbVNlbmRlcldpdGhEdG1mKHBjLCB0cmFjayk7XG4gICAgICAgICAgICBwYy5fc2VuZGVycy5wdXNoKHNlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9yaWdSZW1vdmVUcmFjayA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7XG4gICAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbihzZW5kZXIpIHtcbiAgICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICAgIG9yaWdSZW1vdmVUcmFjay5hcHBseShwYywgYXJndW1lbnRzKTtcbiAgICAgICAgICB2YXIgaWR4ID0gcGMuX3NlbmRlcnMuaW5kZXhPZihzZW5kZXIpO1xuICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICBwYy5fc2VuZGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgb3JpZ0FkZFN0cmVhbSA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgICAgcGMuX3NlbmRlcnMgPSBwYy5fc2VuZGVycyB8fCBbXTtcbiAgICAgICAgb3JpZ0FkZFN0cmVhbS5hcHBseShwYywgW3N0cmVhbV0pO1xuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgIHBjLl9zZW5kZXJzLnB1c2goc2hpbVNlbmRlcldpdGhEdG1mKHBjLCB0cmFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBvcmlnUmVtb3ZlU3RyZWFtID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICBwYy5fc2VuZGVycyA9IHBjLl9zZW5kZXJzIHx8IFtdO1xuICAgICAgICBvcmlnUmVtb3ZlU3RyZWFtLmFwcGx5KHBjLCBbc3RyZWFtXSk7XG5cbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICB2YXIgc2VuZGVyID0gcGMuX3NlbmRlcnMuZmluZChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICByZXR1cm4gcy50cmFjayA9PT0gdHJhY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHNlbmRlcikge1xuICAgICAgICAgICAgcGMuX3NlbmRlcnMuc3BsaWNlKHBjLl9zZW5kZXJzLmluZGV4T2Yoc2VuZGVyKSwgMSk7IC8vIHJlbW92ZSBzZW5kZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgICAgICAgICAgJ2dldFNlbmRlcnMnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUgJiZcbiAgICAgICAgICAgICAgICdjcmVhdGVEVE1GU2VuZGVyJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cuUlRDUnRwU2VuZGVyICYmXG4gICAgICAgICAgICAgICAhKCdkdG1mJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpIHtcbiAgICAgIHZhciBvcmlnR2V0U2VuZGVycyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztcbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICB2YXIgc2VuZGVycyA9IG9yaWdHZXRTZW5kZXJzLmFwcGx5KHBjLCBbXSk7XG4gICAgICAgIHNlbmRlcnMuZm9yRWFjaChmdW5jdGlvbihzZW5kZXIpIHtcbiAgICAgICAgICBzZW5kZXIuX3BjID0gcGM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VuZGVycztcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSwgJ2R0bWYnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2R0bWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2sua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICB0aGlzLl9kdG1mID0gdGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5fZHRtZjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHNoaW1TZW5kZXJSZWNlaXZlckdldFN0YXRzOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiZcbiAgICAgICAgd2luZG93LlJUQ1J0cFNlbmRlciAmJiB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2hpbSBzZW5kZXIgc3RhdHMuXG4gICAgaWYgKCEoJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpIHtcbiAgICAgIHZhciBvcmlnR2V0U2VuZGVycyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztcbiAgICAgIGlmIChvcmlnR2V0U2VuZGVycykge1xuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICAgIHZhciBzZW5kZXJzID0gb3JpZ0dldFNlbmRlcnMuYXBwbHkocGMsIFtdKTtcbiAgICAgICAgICBzZW5kZXJzLmZvckVhY2goZnVuY3Rpb24oc2VuZGVyKSB7XG4gICAgICAgICAgICBzZW5kZXIuX3BjID0gcGM7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHNlbmRlcnM7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBvcmlnQWRkVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO1xuICAgICAgaWYgKG9yaWdBZGRUcmFjaykge1xuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNlbmRlciA9IG9yaWdBZGRUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHNlbmRlci5fcGMgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VuZGVyID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAvKiBOb3RlOiB0aGlzIHdpbGwgaW5jbHVkZSBzdGF0cyBvZiBhbGwgc2VuZGVycyB0aGF0XG4gICAgICAgICAgICogICBzZW5kIGEgdHJhY2sgd2l0aCB0aGUgc2FtZSBpZCBhcyBzZW5kZXIudHJhY2sgYXNcbiAgICAgICAgICAgKiAgIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBpZGVudGlmeSB0aGUgUlRDUnRwU2VuZGVyLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJldHVybiBmaWx0ZXJTdGF0cyhyZXN1bHQsIHNlbmRlci50cmFjaywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBzaGltIHJlY2VpdmVyIHN0YXRzLlxuICAgIGlmICghKCdnZXRTdGF0cycgaW4gd2luZG93LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkpIHtcbiAgICAgIHZhciBvcmlnR2V0UmVjZWl2ZXJzID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7XG4gICAgICBpZiAob3JpZ0dldFJlY2VpdmVycykge1xuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgICAgdmFyIHJlY2VpdmVycyA9IG9yaWdHZXRSZWNlaXZlcnMuYXBwbHkocGMsIFtdKTtcbiAgICAgICAgICByZWNlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihyZWNlaXZlcikge1xuICAgICAgICAgICAgcmVjZWl2ZXIuX3BjID0gcGM7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHJlY2VpdmVycztcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ3RyYWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnJlY2VpdmVyLl9wYyA9IGUuc3JjRWxlbWVudDtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gZmlsdGVyU3RhdHMocmVzdWx0LCByZWNlaXZlci50cmFjaywgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCEoJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSAmJlxuICAgICAgICAnZ2V0U3RhdHMnIGluIHdpbmRvdy5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2hpbSBSVENQZWVyQ29ubmVjdGlvbi5nZXRTdGF0cyh0cmFjaykuXG4gICAgdmFyIG9yaWdHZXRTdGF0cyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIHdpbmRvdy5NZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgdmFyIHNlbmRlcjtcbiAgICAgICAgdmFyIHJlY2VpdmVyO1xuICAgICAgICB2YXIgZXJyO1xuICAgICAgICBwYy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgaWYgKHMudHJhY2sgPT09IHRyYWNrKSB7XG4gICAgICAgICAgICBpZiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZW5kZXIgPSBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBjLmdldFJlY2VpdmVycygpLmZvckVhY2goZnVuY3Rpb24ocikge1xuICAgICAgICAgIGlmIChyLnRyYWNrID09PSB0cmFjaykge1xuICAgICAgICAgICAgaWYgKHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWNlaXZlciA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByLnRyYWNrID09PSB0cmFjaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlcnIgfHwgKHNlbmRlciAmJiByZWNlaXZlcikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgICAgICdUaGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay4nLFxuICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZW5kZXIpIHtcbiAgICAgICAgICByZXR1cm4gc2VuZGVyLmdldFN0YXRzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIuZ2V0U3RhdHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgICAnVGhlcmUgaXMgbm8gc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suJyxcbiAgICAgICAgICAnSW52YWxpZEFjY2Vzc0Vycm9yJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseShwYywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9LFxuXG4gIHNoaW1Tb3VyY2VPYmplY3Q6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHZhciBVUkwgPSB3aW5kb3cgJiYgd2luZG93LlVSTDtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50ICYmXG4gICAgICAgICEoJ3NyY09iamVjdCcgaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICAvLyBTaGltIHRoZSBzcmNPYmplY3QgcHJvcGVydHksIG9uY2UsIHdoZW4gSFRNTE1lZGlhRWxlbWVudCBpcyBmb3VuZC5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgJ3NyY09iamVjdCcsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NyY09iamVjdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAvLyBVc2UgX3NyY09iamVjdCBhcyBhIHByaXZhdGUgcHJvcGVydHkgZm9yIHRoaXMgc2hpbVxuICAgICAgICAgICAgdGhpcy5fc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3JjKSB7XG4gICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5zcmMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXN0cmVhbSkge1xuICAgICAgICAgICAgICB0aGlzLnNyYyA9ICcnO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBibG9iIHVybCB3aGVuIGEgdHJhY2sgaXMgYWRkZWQgb3JcbiAgICAgICAgICAgIC8vIHJlbW92ZWQuIERvaW5nIGl0IG1hbnVhbGx5IHNpbmNlIHdlIHdhbnQgdG8gYXZvaWQgYSByZWN1cnNpb24uXG4gICAgICAgICAgICBzdHJlYW0uYWRkRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuc3JjKSB7XG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzZWxmLnNyYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VsZi5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoc2VsZi5zcmMpIHtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHNlbGYuc3JjKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZTogZnVuY3Rpb24od2luZG93KSB7XG4gICAgLy8gc2hpbSBhZGRUcmFjay9yZW1vdmVUcmFjayB3aXRoIG5hdGl2ZSB2YXJpYW50cyBpbiBvcmRlciB0byBtYWtlXG4gICAgLy8gdGhlIGludGVyYWN0aW9ucyB3aXRoIGxlZ2FjeSBnZXRMb2NhbFN0cmVhbXMgYmVoYXZlIGFzIGluIG90aGVyIGJyb3dzZXJzLlxuICAgIC8vIEtlZXBzIGEgbWFwcGluZyBzdHJlYW0uaWQgPT4gW3N0cmVhbSwgcnRwc2VuZGVycy4uLl1cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgPSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zIHx8IHt9O1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLm1hcChmdW5jdGlvbihzdHJlYW1JZCkge1xuICAgICAgICByZXR1cm4gcGMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc3RyZWFtSWRdWzBdO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBvcmlnQWRkVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbih0cmFjaywgc3RyZWFtKSB7XG4gICAgICBpZiAoIXN0cmVhbSkge1xuICAgICAgICByZXR1cm4gb3JpZ0FkZFRyYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zID0gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyB8fCB7fTtcblxuICAgICAgdmFyIHNlbmRlciA9IG9yaWdBZGRUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKCF0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbS5pZF0pIHtcbiAgICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdID0gW3N0cmVhbSwgc2VuZGVyXTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdLmluZGV4T2Yoc2VuZGVyKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdLnB1c2goc2VuZGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgfTtcblxuICAgIHZhciBvcmlnQWRkU3RyZWFtID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zID0gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyB8fCB7fTtcblxuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgdmFyIGFscmVhZHlFeGlzdHMgPSBwYy5nZXRTZW5kZXJzKCkuZmluZChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgcmV0dXJuIHMudHJhY2sgPT09IHRyYWNrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFscmVhZHlFeGlzdHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdUcmFjayBhbHJlYWR5IGV4aXN0cy4nLFxuICAgICAgICAgICAgICAnSW52YWxpZEFjY2Vzc0Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGV4aXN0aW5nU2VuZGVycyA9IHBjLmdldFNlbmRlcnMoKTtcbiAgICAgIG9yaWdBZGRTdHJlYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBuZXdTZW5kZXJzID0gcGMuZ2V0U2VuZGVycygpLmZpbHRlcihmdW5jdGlvbihuZXdTZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nU2VuZGVycy5pbmRleE9mKG5ld1NlbmRlcikgPT09IC0xO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbS5pZF0gPSBbc3RyZWFtXS5jb25jYXQobmV3U2VuZGVycyk7XG4gICAgfTtcblxuICAgIHZhciBvcmlnUmVtb3ZlU3RyZWFtID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgPSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zIHx8IHt9O1xuICAgICAgZGVsZXRlIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc3RyZWFtLmlkXTtcbiAgICAgIHJldHVybiBvcmlnUmVtb3ZlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHZhciBvcmlnUmVtb3ZlVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbihzZW5kZXIpIHtcbiAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zID0gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyB8fCB7fTtcbiAgICAgIGlmIChzZW5kZXIpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykuZm9yRWFjaChmdW5jdGlvbihzdHJlYW1JZCkge1xuICAgICAgICAgIHZhciBpZHggPSBwYy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW1JZF0uaW5kZXhPZihzZW5kZXIpO1xuICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICBwYy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW1JZF0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW1JZF0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBkZWxldGUgcGMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc3RyZWFtSWRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ1JlbW92ZVRyYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSxcblxuICBzaGltQWRkVHJhY2tSZW1vdmVUcmFjazogZnVuY3Rpb24od2luZG93KSB7XG4gICAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGJyb3dzZXJEZXRhaWxzID0gdXRpbHMuZGV0ZWN0QnJvd3Nlcih3aW5kb3cpO1xuICAgIC8vIHNoaW0gYWRkVHJhY2sgYW5kIHJlbW92ZVRyYWNrLlxuICAgIGlmICh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrICYmXG4gICAgICAgIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPj0gNjUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZSh3aW5kb3cpO1xuICAgIH1cblxuICAgIC8vIGFsc28gc2hpbSBwYy5nZXRMb2NhbFN0cmVhbXMgd2hlbiBhZGRUcmFjayBpcyBzaGltbWVkXG4gICAgLy8gdG8gcmV0dXJuIHRoZSBvcmlnaW5hbCBzdHJlYW1zLlxuICAgIHZhciBvcmlnR2V0TG9jYWxTdHJlYW1zID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVxuICAgICAgICAuZ2V0TG9jYWxTdHJlYW1zO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgdmFyIG5hdGl2ZVN0cmVhbXMgPSBvcmlnR2V0TG9jYWxTdHJlYW1zLmFwcGx5KHRoaXMpO1xuICAgICAgcGMuX3JldmVyc2VTdHJlYW1zID0gcGMuX3JldmVyc2VTdHJlYW1zIHx8IHt9O1xuICAgICAgcmV0dXJuIG5hdGl2ZVN0cmVhbXMubWFwKGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICByZXR1cm4gcGMuX3JldmVyc2VTdHJlYW1zW3N0cmVhbS5pZF07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIG9yaWdBZGRTdHJlYW0gPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgIHBjLl9zdHJlYW1zID0gcGMuX3N0cmVhbXMgfHwge307XG4gICAgICBwYy5fcmV2ZXJzZVN0cmVhbXMgPSBwYy5fcmV2ZXJzZVN0cmVhbXMgfHwge307XG5cbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgIHZhciBhbHJlYWR5RXhpc3RzID0gcGMuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24ocykge1xuICAgICAgICAgIHJldHVybiBzLnRyYWNrID09PSB0cmFjaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhbHJlYWR5RXhpc3RzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbignVHJhY2sgYWxyZWFkeSBleGlzdHMuJyxcbiAgICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFkZCBpZGVudGl0eSBtYXBwaW5nIGZvciBjb25zaXN0ZW5jeSB3aXRoIGFkZFRyYWNrLlxuICAgICAgLy8gVW5sZXNzIHRoaXMgaXMgYmVpbmcgdXNlZCB3aXRoIGEgc3RyZWFtIGZyb20gYWRkVHJhY2suXG4gICAgICBpZiAoIXBjLl9yZXZlcnNlU3RyZWFtc1tzdHJlYW0uaWRdKSB7XG4gICAgICAgIHZhciBuZXdTdHJlYW0gPSBuZXcgd2luZG93Lk1lZGlhU3RyZWFtKHN0cmVhbS5nZXRUcmFja3MoKSk7XG4gICAgICAgIHBjLl9zdHJlYW1zW3N0cmVhbS5pZF0gPSBuZXdTdHJlYW07XG4gICAgICAgIHBjLl9yZXZlcnNlU3RyZWFtc1tuZXdTdHJlYW0uaWRdID0gc3RyZWFtO1xuICAgICAgICBzdHJlYW0gPSBuZXdTdHJlYW07XG4gICAgICB9XG4gICAgICBvcmlnQWRkU3RyZWFtLmFwcGx5KHBjLCBbc3RyZWFtXSk7XG4gICAgfTtcblxuICAgIHZhciBvcmlnUmVtb3ZlU3RyZWFtID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICBwYy5fc3RyZWFtcyA9IHBjLl9zdHJlYW1zIHx8IHt9O1xuICAgICAgcGMuX3JldmVyc2VTdHJlYW1zID0gcGMuX3JldmVyc2VTdHJlYW1zIHx8IHt9O1xuXG4gICAgICBvcmlnUmVtb3ZlU3RyZWFtLmFwcGx5KHBjLCBbKHBjLl9zdHJlYW1zW3N0cmVhbS5pZF0gfHwgc3RyZWFtKV0pO1xuICAgICAgZGVsZXRlIHBjLl9yZXZlcnNlU3RyZWFtc1socGMuX3N0cmVhbXNbc3RyZWFtLmlkXSA/XG4gICAgICAgICAgcGMuX3N0cmVhbXNbc3RyZWFtLmlkXS5pZCA6IHN0cmVhbS5pZCldO1xuICAgICAgZGVsZXRlIHBjLl9zdHJlYW1zW3N0cmVhbS5pZF07XG4gICAgfTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbih0cmFjaywgc3RyZWFtKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgaWYgKHBjLnNpZ25hbGluZ1N0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICAgICdUaGUgUlRDUGVlckNvbm5lY3Rpb25cXCdzIHNpZ25hbGluZ1N0YXRlIGlzIFxcJ2Nsb3NlZFxcJy4nLFxuICAgICAgICAgICdJbnZhbGlkU3RhdGVFcnJvcicpO1xuICAgICAgfVxuICAgICAgdmFyIHN0cmVhbXMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICBpZiAoc3RyZWFtcy5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgICAhc3RyZWFtc1swXS5nZXRUcmFja3MoKS5maW5kKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ID09PSB0cmFjaztcbiAgICAgICAgICB9KSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCBmdWxseSBjb3JyZWN0IGJ1dCBhbGwgd2UgY2FuIG1hbmFnZSB3aXRob3V0XG4gICAgICAgIC8vIFtbYXNzb2NpYXRlZCBNZWRpYVN0cmVhbXNdXSBpbnRlcm5hbCBzbG90LlxuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICAgICdUaGUgYWRhcHRlci5qcyBhZGRUcmFjayBwb2x5ZmlsbCBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlICcgK1xuICAgICAgICAgICcgc3RyZWFtIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYWNrLicsXG4gICAgICAgICAgJ05vdFN1cHBvcnRlZEVycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbHJlYWR5RXhpc3RzID0gcGMuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gcy50cmFjayA9PT0gdHJhY2s7XG4gICAgICB9KTtcbiAgICAgIGlmIChhbHJlYWR5RXhpc3RzKSB7XG4gICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1RyYWNrIGFscmVhZHkgZXhpc3RzLicsXG4gICAgICAgICAgICAnSW52YWxpZEFjY2Vzc0Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIHBjLl9zdHJlYW1zID0gcGMuX3N0cmVhbXMgfHwge307XG4gICAgICBwYy5fcmV2ZXJzZVN0cmVhbXMgPSBwYy5fcmV2ZXJzZVN0cmVhbXMgfHwge307XG4gICAgICB2YXIgb2xkU3RyZWFtID0gcGMuX3N0cmVhbXNbc3RyZWFtLmlkXTtcbiAgICAgIGlmIChvbGRTdHJlYW0pIHtcbiAgICAgICAgLy8gdGhpcyBpcyB1c2luZyBvZGQgQ2hyb21lIGJlaGF2aW91ciwgdXNlIHdpdGggY2F1dGlvbjpcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3dlYnJ0Yy9pc3N1ZXMvZGV0YWlsP2lkPTc4MTVcbiAgICAgICAgLy8gTm90ZTogd2UgcmVseSBvbiB0aGUgaGlnaC1sZXZlbCBhZGRUcmFjay9kdG1mIHNoaW0gdG9cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzZW5kZXIgd2l0aCBhIGR0bWYgc2VuZGVyLlxuICAgICAgICBvbGRTdHJlYW0uYWRkVHJhY2sodHJhY2spO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgT05OIGFzeW5jLlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBjLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCduZWdvdGlhdGlvbm5lZWRlZCcpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV3U3RyZWFtID0gbmV3IHdpbmRvdy5NZWRpYVN0cmVhbShbdHJhY2tdKTtcbiAgICAgICAgcGMuX3N0cmVhbXNbc3RyZWFtLmlkXSA9IG5ld1N0cmVhbTtcbiAgICAgICAgcGMuX3JldmVyc2VTdHJlYW1zW25ld1N0cmVhbS5pZF0gPSBzdHJlYW07XG4gICAgICAgIHBjLmFkZFN0cmVhbShuZXdTdHJlYW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBjLmdldFNlbmRlcnMoKS5maW5kKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIHMudHJhY2sgPT09IHRyYWNrO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIHJlcGxhY2UgdGhlIGludGVybmFsIHN0cmVhbSBpZCB3aXRoIHRoZSBleHRlcm5hbCBvbmUgYW5kXG4gICAgLy8gdmljZSB2ZXJzYS5cbiAgICBmdW5jdGlvbiByZXBsYWNlSW50ZXJuYWxTdHJlYW1JZChwYywgZGVzY3JpcHRpb24pIHtcbiAgICAgIHZhciBzZHAgPSBkZXNjcmlwdGlvbi5zZHA7XG4gICAgICBPYmplY3Qua2V5cyhwYy5fcmV2ZXJzZVN0cmVhbXMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24oaW50ZXJuYWxJZCkge1xuICAgICAgICB2YXIgZXh0ZXJuYWxTdHJlYW0gPSBwYy5fcmV2ZXJzZVN0cmVhbXNbaW50ZXJuYWxJZF07XG4gICAgICAgIHZhciBpbnRlcm5hbFN0cmVhbSA9IHBjLl9zdHJlYW1zW2V4dGVybmFsU3RyZWFtLmlkXTtcbiAgICAgICAgc2RwID0gc2RwLnJlcGxhY2UobmV3IFJlZ0V4cChpbnRlcm5hbFN0cmVhbS5pZCwgJ2cnKSxcbiAgICAgICAgICAgIGV4dGVybmFsU3RyZWFtLmlkKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlLFxuICAgICAgICBzZHA6IHNkcFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2VFeHRlcm5hbFN0cmVhbUlkKHBjLCBkZXNjcmlwdGlvbikge1xuICAgICAgdmFyIHNkcCA9IGRlc2NyaXB0aW9uLnNkcDtcbiAgICAgIE9iamVjdC5rZXlzKHBjLl9yZXZlcnNlU3RyZWFtcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihpbnRlcm5hbElkKSB7XG4gICAgICAgIHZhciBleHRlcm5hbFN0cmVhbSA9IHBjLl9yZXZlcnNlU3RyZWFtc1tpbnRlcm5hbElkXTtcbiAgICAgICAgdmFyIGludGVybmFsU3RyZWFtID0gcGMuX3N0cmVhbXNbZXh0ZXJuYWxTdHJlYW0uaWRdO1xuICAgICAgICBzZHAgPSBzZHAucmVwbGFjZShuZXcgUmVnRXhwKGV4dGVybmFsU3RyZWFtLmlkLCAnZycpLFxuICAgICAgICAgICAgaW50ZXJuYWxTdHJlYW0uaWQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICAgIHR5cGU6IGRlc2NyaXB0aW9uLnR5cGUsXG4gICAgICAgIHNkcDogc2RwXG4gICAgICB9KTtcbiAgICB9XG4gICAgWydjcmVhdGVPZmZlcicsICdjcmVhdGVBbnN3ZXInXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgdmFyIG5hdGl2ZU1ldGhvZCA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTtcbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgdmFyIGlzTGVnYWN5Q2FsbCA9IGFyZ3VtZW50cy5sZW5ndGggJiZcbiAgICAgICAgICAgIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbic7XG4gICAgICAgIGlmIChpc0xlZ2FjeUNhbGwpIHtcbiAgICAgICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHBjLCBbXG4gICAgICAgICAgICBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICB2YXIgZGVzYyA9IHJlcGxhY2VJbnRlcm5hbFN0cmVhbUlkKHBjLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgIGFyZ3NbMF0uYXBwbHkobnVsbCwgW2Rlc2NdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgaWYgKGFyZ3NbMV0pIHtcbiAgICAgICAgICAgICAgICBhcmdzWzFdLmFwcGx5KG51bGwsIGVycik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGFyZ3VtZW50c1syXVxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkocGMsIGFyZ3VtZW50cylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gcmVwbGFjZUludGVybmFsU3RyZWFtSWQocGMsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIG9yaWdTZXRMb2NhbERlc2NyaXB0aW9uID1cbiAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCB8fCAhYXJndW1lbnRzWzBdLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdTZXRMb2NhbERlc2NyaXB0aW9uLmFwcGx5KHBjLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgYXJndW1lbnRzWzBdID0gcmVwbGFjZUV4dGVybmFsU3RyZWFtSWQocGMsIGFyZ3VtZW50c1swXSk7XG4gICAgICByZXR1cm4gb3JpZ1NldExvY2FsRGVzY3JpcHRpb24uYXBwbHkocGMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8vIFRPRE86IG1hbmdsZSBnZXRTdGF0czogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYnJ0Yy1zdGF0cy8jZG9tLXJ0Y21lZGlhc3RyZWFtc3RhdHMtc3RyZWFtaWRlbnRpZmllclxuXG4gICAgdmFyIG9yaWdMb2NhbERlc2NyaXB0aW9uID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ2xvY2FsRGVzY3JpcHRpb24nKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgJ2xvY2FsRGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBvcmlnTG9jYWxEZXNjcmlwdGlvbi5nZXQuYXBwbHkodGhpcyk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VJbnRlcm5hbFN0cmVhbUlkKHBjLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbihzZW5kZXIpIHtcbiAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICBpZiAocGMuc2lnbmFsaW5nU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICAgJ1RoZSBSVENQZWVyQ29ubmVjdGlvblxcJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgXFwnY2xvc2VkXFwnLicsXG4gICAgICAgICAgJ0ludmFsaWRTdGF0ZUVycm9yJyk7XG4gICAgICB9XG4gICAgICAvLyBXZSBjYW4gbm90IHlldCBjaGVjayBmb3Igc2VuZGVyIGluc3RhbmNlb2YgUlRDUnRwU2VuZGVyXG4gICAgICAvLyBzaW5jZSB3ZSBzaGltIFJUUFNlbmRlci4gU28gd2UgY2hlY2sgaWYgc2VuZGVyLl9wYyBpcyBzZXQuXG4gICAgICBpZiAoIXNlbmRlci5fcGMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbignQXJndW1lbnQgMSBvZiBSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayAnICtcbiAgICAgICAgICAgICdkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci4nLCAnVHlwZUVycm9yJyk7XG4gICAgICB9XG4gICAgICB2YXIgaXNMb2NhbCA9IHNlbmRlci5fcGMgPT09IHBjO1xuICAgICAgaWYgKCFpc0xvY2FsKSB7XG4gICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1NlbmRlciB3YXMgbm90IGNyZWF0ZWQgYnkgdGhpcyBjb25uZWN0aW9uLicsXG4gICAgICAgICAgICAnSW52YWxpZEFjY2Vzc0Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlYXJjaCBmb3IgdGhlIG5hdGl2ZSBzdHJlYW0gdGhlIHNlbmRlcnMgdHJhY2sgYmVsb25ncyB0by5cbiAgICAgIHBjLl9zdHJlYW1zID0gcGMuX3N0cmVhbXMgfHwge307XG4gICAgICB2YXIgc3RyZWFtO1xuICAgICAgT2JqZWN0LmtleXMocGMuX3N0cmVhbXMpLmZvckVhY2goZnVuY3Rpb24oc3RyZWFtaWQpIHtcbiAgICAgICAgdmFyIGhhc1RyYWNrID0gcGMuX3N0cmVhbXNbc3RyZWFtaWRdLmdldFRyYWNrcygpLmZpbmQoZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICByZXR1cm4gc2VuZGVyLnRyYWNrID09PSB0cmFjaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNUcmFjaykge1xuICAgICAgICAgIHN0cmVhbSA9IHBjLl9zdHJlYW1zW3N0cmVhbWlkXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgaWYgKHN0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIHRoZSBsYXN0IHRyYWNrIG9mIHRoZSBzdHJlYW0sIHJlbW92ZSB0aGUgc3RyZWFtLiBUaGlzXG4gICAgICAgICAgLy8gdGFrZXMgY2FyZSBvZiBhbnkgc2hpbW1lZCBfc2VuZGVycy5cbiAgICAgICAgICBwYy5yZW1vdmVTdHJlYW0ocGMuX3JldmVyc2VTdHJlYW1zW3N0cmVhbS5pZF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJlbHlpbmcgb24gdGhlIHNhbWUgb2RkIGNocm9tZSBiZWhhdmlvdXIgYXMgYWJvdmUuXG4gICAgICAgICAgc3RyZWFtLnJlbW92ZVRyYWNrKHNlbmRlci50cmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcGMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ25lZ290aWF0aW9ubmVlZGVkJykpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG5cbiAgc2hpbVBlZXJDb25uZWN0aW9uOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgYnJvd3NlckRldGFpbHMgPSB1dGlscy5kZXRlY3RCcm93c2VyKHdpbmRvdyk7XG5cbiAgICAvLyBUaGUgUlRDUGVlckNvbm5lY3Rpb24gb2JqZWN0LlxuICAgIGlmICghd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmIHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbikge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHtcbiAgICAgICAgLy8gVHJhbnNsYXRlIGljZVRyYW5zcG9ydFBvbGljeSB0byBpY2VUcmFuc3BvcnRzLFxuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC93ZWJydGMvaXNzdWVzL2RldGFpbD9pZD00ODY5XG4gICAgICAgIC8vIHRoaXMgd2FzIGZpeGVkIGluIE01NiBhbG9uZyB3aXRoIHVucHJlZml4aW5nIFJUQ1BlZXJDb25uZWN0aW9uLlxuICAgICAgICBsb2dnaW5nKCdQZWVyQ29ubmVjdGlvbicpO1xuICAgICAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7XG4gICAgICAgICAgcGNDb25maWcuaWNlVHJhbnNwb3J0cyA9IHBjQ29uZmlnLmljZVRyYW5zcG9ydFBvbGljeTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgd2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID1cbiAgICAgICAgICB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO1xuICAgICAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS5cbiAgICAgIGlmICh3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdHZXRTdGF0cyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLFxuICAgICAgICBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgLy8gSWYgc2VsZWN0b3IgaXMgYSBmdW5jdGlvbiB0aGVuIHdlIGFyZSBpbiB0aGUgb2xkIHN0eWxlIHN0YXRzIHNvIGp1c3RcbiAgICAgIC8vIHBhc3MgYmFjayB0aGUgb3JpZ2luYWwgZ2V0U3RhdHMgZm9ybWF0IHRvIGF2b2lkIGJyZWFraW5nIG9sZCB1c2Vycy5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHNwZWMtc3R5bGUgZ2V0U3RhdHMgaXMgc3VwcG9ydGVkLCByZXR1cm4gdGhvc2Ugd2hlbiBjYWxsZWQgd2l0aFxuICAgICAgLy8gZWl0aGVyIG5vIGFyZ3VtZW50cyBvciB0aGUgc2VsZWN0b3IgYXJndW1lbnQgaXMgbnVsbC5cbiAgICAgIGlmIChvcmlnR2V0U3RhdHMubGVuZ3RoID09PSAwICYmIChhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseSh0aGlzLCBbXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaXhDaHJvbWVTdGF0c18gPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhbmRhcmRSZXBvcnQgPSB7fTtcbiAgICAgICAgdmFyIHJlcG9ydHMgPSByZXNwb25zZS5yZXN1bHQoKTtcbiAgICAgICAgcmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uKHJlcG9ydCkge1xuICAgICAgICAgIHZhciBzdGFuZGFyZFN0YXRzID0ge1xuICAgICAgICAgICAgaWQ6IHJlcG9ydC5pZCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogcmVwb3J0LnRpbWVzdGFtcCxcbiAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgbG9jYWxjYW5kaWRhdGU6ICdsb2NhbC1jYW5kaWRhdGUnLFxuICAgICAgICAgICAgICByZW1vdGVjYW5kaWRhdGU6ICdyZW1vdGUtY2FuZGlkYXRlJ1xuICAgICAgICAgICAgfVtyZXBvcnQudHlwZV0gfHwgcmVwb3J0LnR5cGVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcG9ydC5uYW1lcygpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgc3RhbmRhcmRTdGF0c1tuYW1lXSA9IHJlcG9ydC5zdGF0KG5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YW5kYXJkUmVwb3J0W3N0YW5kYXJkU3RhdHMuaWRdID0gc3RhbmRhcmRTdGF0cztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHN0YW5kYXJkUmVwb3J0O1xuICAgICAgfTtcblxuICAgICAgLy8gc2hpbSBnZXRTdGF0cyB3aXRoIG1hcGxpa2Ugc3VwcG9ydFxuICAgICAgdmFyIG1ha2VNYXBTdGF0cyA9IGZ1bmN0aW9uKHN0YXRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKHN0YXRzKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIFtrZXksIHN0YXRzW2tleV1dO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciBzdWNjZXNzQ2FsbGJhY2tXcmFwcGVyXyA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgYXJnc1sxXShtYWtlTWFwU3RhdHMoZml4Q2hyb21lU3RhdHNfKHJlc3BvbnNlKSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBvcmlnR2V0U3RhdHMuYXBwbHkodGhpcywgW3N1Y2Nlc3NDYWxsYmFja1dyYXBwZXJfLFxuICAgICAgICAgIGFyZ3VtZW50c1swXV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBwcm9taXNlLXN1cHBvcnRcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgb3JpZ0dldFN0YXRzLmFwcGx5KHBjLCBbXG4gICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc29sdmUobWFrZU1hcFN0YXRzKGZpeENocm9tZVN0YXRzXyhyZXNwb25zZSkpKTtcbiAgICAgICAgICB9LCByZWplY3RdKTtcbiAgICAgIH0pLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgLy8gYWRkIHByb21pc2Ugc3VwcG9ydCAtLSBuYXRpdmVseSBhdmFpbGFibGUgaW4gQ2hyb21lIDUxXG4gICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1MSkge1xuICAgICAgWydzZXRMb2NhbERlc2NyaXB0aW9uJywgJ3NldFJlbW90ZURlc2NyaXB0aW9uJywgJ2FkZEljZUNhbmRpZGF0ZSddXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICAgICAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdO1xuICAgICAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZU1ldGhvZC5hcHBseShwYywgW2FyZ3NbMF0sIHJlc29sdmUsIHJlamVjdF0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYXJnc1sxXS5hcHBseShudWxsLCBbXSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICBhcmdzWzJdLmFwcGx5KG51bGwsIFtlcnJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBwcm9taXNlIHN1cHBvcnQgZm9yIGNyZWF0ZU9mZmVyIGFuZCBjcmVhdGVBbnN3ZXIuIEF2YWlsYWJsZSAod2l0aG91dFxuICAgIC8vIGJ1Z3MpIHNpbmNlIE01MjogY3JidWcvNjE5Mjg5XG4gICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1Mikge1xuICAgICAgWydjcmVhdGVPZmZlcicsICdjcmVhdGVBbnN3ZXInXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdO1xuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSB8fCAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgbmF0aXZlTWV0aG9kLmFwcGx5KHBjLCBbcmVzb2x2ZSwgcmVqZWN0LCBvcHRzXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZU1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc2hpbSBpbXBsaWNpdCBjcmVhdGlvbiBvZiBSVENTZXNzaW9uRGVzY3JpcHRpb24vUlRDSWNlQ2FuZGlkYXRlXG4gICAgWydzZXRMb2NhbERlc2NyaXB0aW9uJywgJ3NldFJlbW90ZURlc2NyaXB0aW9uJywgJ2FkZEljZUNhbmRpZGF0ZSddXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgIHZhciBuYXRpdmVNZXRob2QgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07XG4gICAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcmd1bWVudHNbMF0gPSBuZXcgKChtZXRob2QgPT09ICdhZGRJY2VDYW5kaWRhdGUnKSA/XG4gICAgICAgICAgICAgICAgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA6XG4gICAgICAgICAgICAgICAgd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKTtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgIC8vIHN1cHBvcnQgZm9yIGFkZEljZUNhbmRpZGF0ZShudWxsIG9yIHVuZGVmaW5lZClcbiAgICB2YXIgbmF0aXZlQWRkSWNlQ2FuZGlkYXRlID1cbiAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghYXJndW1lbnRzWzBdKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBhcmd1bWVudHNbMV0uYXBwbHkobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZUFkZEljZUNhbmRpZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0sXG5cbiAgZml4TmVnb3RpYXRpb25OZWVkZWQ6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ25lZ290aWF0aW9ubmVlZGVkJywgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBjID0gZS50YXJnZXQ7XG4gICAgICBpZiAocGMuc2lnbmFsaW5nU3RhdGUgIT09ICdzdGFibGUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9LFxuXG4gIHNoaW1HZXREaXNwbGF5TWVkaWE6IGZ1bmN0aW9uKHdpbmRvdywgZ2V0U291cmNlSWQpIHtcbiAgICBpZiAoIXdpbmRvdy5uYXZpZ2F0b3IgfHwgIXdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8XG4gICAgICAgICdnZXREaXNwbGF5TWVkaWEnIGluIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGdldFNvdXJjZUlkIGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aFxuICAgIC8vIHRoZSBzb3VyY2VJZCBvZiB0aGUgc2NyZWVuL3dpbmRvdy90YWIgdG8gYmUgc2hhcmVkLlxuICAgIGlmICh0eXBlb2YgZ2V0U291cmNlSWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3NoaW1HZXREaXNwbGF5TWVkaWE6IGdldFNvdXJjZUlkIGFyZ3VtZW50IGlzIG5vdCAnICtcbiAgICAgICAgICAnYSBmdW5jdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cykge1xuICAgICAgcmV0dXJuIGdldFNvdXJjZUlkKGNvbnN0cmFpbnRzKVxuICAgICAgICAudGhlbihmdW5jdGlvbihzb3VyY2VJZCkge1xuICAgICAgICAgIHZhciB3aWR0aFNwZWNpZmllZCA9IGNvbnN0cmFpbnRzLnZpZGVvICYmIGNvbnN0cmFpbnRzLnZpZGVvLndpZHRoO1xuICAgICAgICAgIHZhciBoZWlnaHRTcGVjaWZpZWQgPSBjb25zdHJhaW50cy52aWRlbyAmJiBjb25zdHJhaW50cy52aWRlby5oZWlnaHQ7XG4gICAgICAgICAgdmFyIGZyYW1lUmF0ZVNwZWNpZmllZCA9IGNvbnN0cmFpbnRzLnZpZGVvICYmXG4gICAgICAgICAgICBjb25zdHJhaW50cy52aWRlby5mcmFtZVJhdGU7XG4gICAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSB7XG4gICAgICAgICAgICBtYW5kYXRvcnk6IHtcbiAgICAgICAgICAgICAgY2hyb21lTWVkaWFTb3VyY2U6ICdkZXNrdG9wJyxcbiAgICAgICAgICAgICAgY2hyb21lTWVkaWFTb3VyY2VJZDogc291cmNlSWQsXG4gICAgICAgICAgICAgIG1heEZyYW1lUmF0ZTogZnJhbWVSYXRlU3BlY2lmaWVkIHx8IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICh3aWR0aFNwZWNpZmllZCkge1xuICAgICAgICAgICAgY29uc3RyYWludHMudmlkZW8ubWFuZGF0b3J5Lm1heFdpZHRoID0gd2lkdGhTcGVjaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoZWlnaHRTcGVjaWZpZWQpIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvLm1hbmRhdG9yeS5tYXhIZWlnaHQgPSBoZWlnaHRTcGVjaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMpIHtcbiAgICAgIHV0aWxzLmRlcHJlY2F0ZWQoJ25hdmlnYXRvci5nZXREaXNwbGF5TWVkaWEnLFxuICAgICAgICAgICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYScpO1xuICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShjb25zdHJhaW50cyk7XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlXG4gKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlXG4gKiAgdHJlZS5cbiAqL1xuIC8qIGVzbGludC1lbnYgbm9kZSAqL1xuJ3VzZSBzdHJpY3QnO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMuanMnKTtcbnZhciBsb2dnaW5nID0gdXRpbHMubG9nO1xuXG4vLyBFeHBvc2UgcHVibGljIG1ldGhvZHMuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgYnJvd3NlckRldGFpbHMgPSB1dGlscy5kZXRlY3RCcm93c2VyKHdpbmRvdyk7XG4gIHZhciBuYXZpZ2F0b3IgPSB3aW5kb3cgJiYgd2luZG93Lm5hdmlnYXRvcjtcblxuICB2YXIgY29uc3RyYWludHNUb0Nocm9tZV8gPSBmdW5jdGlvbihjKSB7XG4gICAgaWYgKHR5cGVvZiBjICE9PSAnb2JqZWN0JyB8fCBjLm1hbmRhdG9yeSB8fCBjLm9wdGlvbmFsKSB7XG4gICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgdmFyIGNjID0ge307XG4gICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZXF1aXJlJyB8fCBrZXkgPT09ICdhZHZhbmNlZCcgfHwga2V5ID09PSAnbWVkaWFTb3VyY2UnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByID0gKHR5cGVvZiBjW2tleV0gPT09ICdvYmplY3QnKSA/IGNba2V5XSA6IHtpZGVhbDogY1trZXldfTtcbiAgICAgIGlmIChyLmV4YWN0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHIuZXhhY3QgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHIubWluID0gci5tYXggPSByLmV4YWN0O1xuICAgICAgfVxuICAgICAgdmFyIG9sZG5hbWVfID0gZnVuY3Rpb24ocHJlZml4LCBuYW1lKSB7XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICByZXR1cm4gcHJlZml4ICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuYW1lID09PSAnZGV2aWNlSWQnKSA/ICdzb3VyY2VJZCcgOiBuYW1lO1xuICAgICAgfTtcbiAgICAgIGlmIChyLmlkZWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2Mub3B0aW9uYWwgPSBjYy5vcHRpb25hbCB8fCBbXTtcbiAgICAgICAgdmFyIG9jID0ge307XG4gICAgICAgIGlmICh0eXBlb2Ygci5pZGVhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBvY1tvbGRuYW1lXygnbWluJywga2V5KV0gPSByLmlkZWFsO1xuICAgICAgICAgIGNjLm9wdGlvbmFsLnB1c2gob2MpO1xuICAgICAgICAgIG9jID0ge307XG4gICAgICAgICAgb2Nbb2xkbmFtZV8oJ21heCcsIGtleSldID0gci5pZGVhbDtcbiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvY1tvbGRuYW1lXygnJywga2V5KV0gPSByLmlkZWFsO1xuICAgICAgICAgIGNjLm9wdGlvbmFsLnB1c2gob2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiByLmV4YWN0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICBjYy5tYW5kYXRvcnkgPSBjYy5tYW5kYXRvcnkgfHwge307XG4gICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lXygnJywga2V5KV0gPSByLmV4YWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgWydtaW4nLCAnbWF4J10uZm9yRWFjaChmdW5jdGlvbihtaXgpIHtcbiAgICAgICAgICBpZiAoclttaXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNjLm1hbmRhdG9yeSA9IGNjLm1hbmRhdG9yeSB8fCB7fTtcbiAgICAgICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lXyhtaXgsIGtleSldID0gclttaXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGMuYWR2YW5jZWQpIHtcbiAgICAgIGNjLm9wdGlvbmFsID0gKGNjLm9wdGlvbmFsIHx8IFtdKS5jb25jYXQoYy5hZHZhbmNlZCk7XG4gICAgfVxuICAgIHJldHVybiBjYztcbiAgfTtcblxuICB2YXIgc2hpbUNvbnN0cmFpbnRzXyA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzLCBmdW5jKSB7XG4gICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPj0gNjEpIHtcbiAgICAgIHJldHVybiBmdW5jKGNvbnN0cmFpbnRzKTtcbiAgICB9XG4gICAgY29uc3RyYWludHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7XG4gICAgaWYgKGNvbnN0cmFpbnRzICYmIHR5cGVvZiBjb25zdHJhaW50cy5hdWRpbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciByZW1hcCA9IGZ1bmN0aW9uKG9iaiwgYSwgYikge1xuICAgICAgICBpZiAoYSBpbiBvYmogJiYgIShiIGluIG9iaikpIHtcbiAgICAgICAgICBvYmpbYl0gPSBvYmpbYV07XG4gICAgICAgICAgZGVsZXRlIG9ialthXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0cmFpbnRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpO1xuICAgICAgcmVtYXAoY29uc3RyYWludHMuYXVkaW8sICdhdXRvR2FpbkNvbnRyb2wnLCAnZ29vZ0F1dG9HYWluQ29udHJvbCcpO1xuICAgICAgcmVtYXAoY29uc3RyYWludHMuYXVkaW8sICdub2lzZVN1cHByZXNzaW9uJywgJ2dvb2dOb2lzZVN1cHByZXNzaW9uJyk7XG4gICAgICBjb25zdHJhaW50cy5hdWRpbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWVfKGNvbnN0cmFpbnRzLmF1ZGlvKTtcbiAgICB9XG4gICAgaWYgKGNvbnN0cmFpbnRzICYmIHR5cGVvZiBjb25zdHJhaW50cy52aWRlbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIFNoaW0gZmFjaW5nTW9kZSBmb3IgbW9iaWxlICYgc3VyZmFjZSBwcm8uXG4gICAgICB2YXIgZmFjZSA9IGNvbnN0cmFpbnRzLnZpZGVvLmZhY2luZ01vZGU7XG4gICAgICBmYWNlID0gZmFjZSAmJiAoKHR5cGVvZiBmYWNlID09PSAnb2JqZWN0JykgPyBmYWNlIDoge2lkZWFsOiBmYWNlfSk7XG4gICAgICB2YXIgZ2V0U3VwcG9ydGVkRmFjaW5nTW9kZUxpZXMgPSBicm93c2VyRGV0YWlscy52ZXJzaW9uIDwgNjY7XG5cbiAgICAgIGlmICgoZmFjZSAmJiAoZmFjZS5leGFjdCA9PT0gJ3VzZXInIHx8IGZhY2UuZXhhY3QgPT09ICdlbnZpcm9ubWVudCcgfHxcbiAgICAgICAgICAgICAgICAgICAgZmFjZS5pZGVhbCA9PT0gJ3VzZXInIHx8IGZhY2UuaWRlYWwgPT09ICdlbnZpcm9ubWVudCcpKSAmJlxuICAgICAgICAgICEobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGUgJiZcbiAgICAgICAgICAgICFnZXRTdXBwb3J0ZWRGYWNpbmdNb2RlTGllcykpIHtcbiAgICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzLnZpZGVvLmZhY2luZ01vZGU7XG4gICAgICAgIHZhciBtYXRjaGVzO1xuICAgICAgICBpZiAoZmFjZS5leGFjdCA9PT0gJ2Vudmlyb25tZW50JyB8fCBmYWNlLmlkZWFsID09PSAnZW52aXJvbm1lbnQnKSB7XG4gICAgICAgICAgbWF0Y2hlcyA9IFsnYmFjaycsICdyZWFyJ107XG4gICAgICAgIH0gZWxzZSBpZiAoZmFjZS5leGFjdCA9PT0gJ3VzZXInIHx8IGZhY2UuaWRlYWwgPT09ICd1c2VyJykge1xuICAgICAgICAgIG1hdGNoZXMgPSBbJ2Zyb250J107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAvLyBMb29rIGZvciBtYXRjaGVzIGluIGxhYmVsLCBvciB1c2UgbGFzdCBjYW0gZm9yIGJhY2sgKHR5cGljYWwpLlxuICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRldmljZXMpIHtcbiAgICAgICAgICAgIGRldmljZXMgPSBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09ICd2aWRlb2lucHV0JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGRldiA9IGRldmljZXMuZmluZChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzLnNvbWUoZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobWF0Y2gpICE9PSAtMTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZGV2ICYmIGRldmljZXMubGVuZ3RoICYmIG1hdGNoZXMuaW5kZXhPZignYmFjaycpICE9PSAtMSkge1xuICAgICAgICAgICAgICBkZXYgPSBkZXZpY2VzW2RldmljZXMubGVuZ3RoIC0gMV07IC8vIG1vcmUgbGlrZWx5IHRoZSBiYWNrIGNhbVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRldikge1xuICAgICAgICAgICAgICBjb25zdHJhaW50cy52aWRlby5kZXZpY2VJZCA9IGZhY2UuZXhhY3QgPyB7ZXhhY3Q6IGRldi5kZXZpY2VJZH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWRlYWw6IGRldi5kZXZpY2VJZH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWVfKGNvbnN0cmFpbnRzLnZpZGVvKTtcbiAgICAgICAgICAgIGxvZ2dpbmcoJ2Nocm9tZTogJyArIEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuYyhjb25zdHJhaW50cyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gY29uc3RyYWludHNUb0Nocm9tZV8oY29uc3RyYWludHMudmlkZW8pO1xuICAgIH1cbiAgICBsb2dnaW5nKCdjaHJvbWU6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpO1xuICAgIHJldHVybiBmdW5jKGNvbnN0cmFpbnRzKTtcbiAgfTtcblxuICB2YXIgc2hpbUVycm9yXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA+PSA2NCkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIFBlcm1pc3Npb25EZW5pZWRFcnJvcjogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgIFBlcm1pc3Npb25EaXNtaXNzZWRFcnJvcjogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgIEludmFsaWRTdGF0ZUVycm9yOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICAgICAgRGV2aWNlc05vdEZvdW5kRXJyb3I6ICdOb3RGb3VuZEVycm9yJyxcbiAgICAgICAgQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yOiAnT3ZlcmNvbnN0cmFpbmVkRXJyb3InLFxuICAgICAgICBUcmFja1N0YXJ0RXJyb3I6ICdOb3RSZWFkYWJsZUVycm9yJyxcbiAgICAgICAgTWVkaWFEZXZpY2VGYWlsZWREdWVUb1NodXRkb3duOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICAgICAgTWVkaWFEZXZpY2VLaWxsU3dpdGNoT246ICdOb3RBbGxvd2VkRXJyb3InLFxuICAgICAgICBUYWJDYXB0dXJlRXJyb3I6ICdBYm9ydEVycm9yJyxcbiAgICAgICAgU2NyZWVuQ2FwdHVyZUVycm9yOiAnQWJvcnRFcnJvcicsXG4gICAgICAgIERldmljZUNhcHR1cmVFcnJvcjogJ0Fib3J0RXJyb3InXG4gICAgICB9W2UubmFtZV0gfHwgZS5uYW1lLFxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgY29uc3RyYWludDogZS5jb25zdHJhaW50IHx8IGUuY29uc3RyYWludE5hbWUsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyAodGhpcy5tZXNzYWdlICYmICc6ICcpICsgdGhpcy5tZXNzYWdlO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldFVzZXJNZWRpYV8gPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgc2hpbUNvbnN0cmFpbnRzXyhjb25zdHJhaW50cywgZnVuY3Rpb24oYykge1xuICAgICAgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShjLCBvblN1Y2Nlc3MsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICBvbkVycm9yKHNoaW1FcnJvcl8oZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhXztcblxuICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgZ2V0VXNlck1lZGlhIGFzIGEgUHJvbWlzZS5cbiAgdmFyIGdldFVzZXJNZWRpYVByb21pc2VfID0gZnVuY3Rpb24oY29uc3RyYWludHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykge1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7XG4gICAgICBnZXRVc2VyTWVkaWE6IGdldFVzZXJNZWRpYVByb21pc2VfLFxuICAgICAgZW51bWVyYXRlRGV2aWNlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgdmFyIGtpbmRzID0ge2F1ZGlvOiAnYXVkaW9pbnB1dCcsIHZpZGVvOiAndmlkZW9pbnB1dCd9O1xuICAgICAgICAgIHJldHVybiB3aW5kb3cuTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKGZ1bmN0aW9uKGRldmljZXMpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZGV2aWNlcy5tYXAoZnVuY3Rpb24oZGV2aWNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7bGFiZWw6IGRldmljZS5sYWJlbCxcbiAgICAgICAgICAgICAgICBraW5kOiBraW5kc1tkZXZpY2Uua2luZF0sXG4gICAgICAgICAgICAgICAgZGV2aWNlSWQ6IGRldmljZS5pZCxcbiAgICAgICAgICAgICAgICBncm91cElkOiAnJ307XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFN1cHBvcnRlZENvbnN0cmFpbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXZpY2VJZDogdHJ1ZSwgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSwgZmFjaW5nTW9kZTogdHJ1ZSxcbiAgICAgICAgICBmcmFtZVJhdGU6IHRydWUsIGhlaWdodDogdHJ1ZSwgd2lkdGg6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQSBzaGltIGZvciBnZXRVc2VyTWVkaWEgbWV0aG9kIG9uIHRoZSBtZWRpYURldmljZXMgb2JqZWN0LlxuICAvLyBUT0RPKEthcHRlbkphbnNzb24pIHJlbW92ZSBvbmNlIGltcGxlbWVudGVkIGluIENocm9tZSBzdGFibGUuXG4gIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICByZXR1cm4gZ2V0VXNlck1lZGlhUHJvbWlzZV8oY29uc3RyYWludHMpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gRXZlbiB0aG91Z2ggQ2hyb21lIDQ1IGhhcyBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIGFuZCBhIGdldFVzZXJNZWRpYVxuICAgIC8vIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSBQcm9taXNlLCBpdCBkb2VzIG5vdCBhY2NlcHQgc3BlYy1zdHlsZVxuICAgIC8vIGNvbnN0cmFpbnRzLlxuICAgIHZhciBvcmlnR2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuXG4gICAgICAgIGJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjcykge1xuICAgICAgcmV0dXJuIHNoaW1Db25zdHJhaW50c18oY3MsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdHZXRVc2VyTWVkaWEoYykudGhlbihmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICBpZiAoYy5hdWRpbyAmJiAhc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoIHx8XG4gICAgICAgICAgICAgIGMudmlkZW8gJiYgIXN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCcnLCAnTm90Rm91bmRFcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHNoaW1FcnJvcl8oZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICAvLyBEdW1teSBkZXZpY2VjaGFuZ2UgZXZlbnQgbWV0aG9kcy5cbiAgLy8gVE9ETyhLYXB0ZW5KYW5zc29uKSByZW1vdmUgb25jZSBpbXBsZW1lbnRlZCBpbiBDaHJvbWUgc3RhYmxlLlxuICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxvZ2dpbmcoJ0R1bW15IG1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyIGNhbGxlZC4nKTtcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyID09PSAndW5kZWZpbmVkJykge1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgbG9nZ2luZygnRHVtbXkgbWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgY2FsbGVkLicpO1xuICAgIH07XG4gIH1cbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNyBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFNEUFV0aWxzID0gcmVxdWlyZSgnc2RwJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzaGltUlRDSWNlQ2FuZGlkYXRlOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICAvLyBmb3VuZGF0aW9uIGlzIGFyYml0cmFyaWx5IGNob3NlbiBhcyBhbiBpbmRpY2F0b3IgZm9yIGZ1bGwgc3VwcG9ydCBmb3JcbiAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vd2VicnRjLXBjLyNydGNpY2VjYW5kaWRhdGUtaW50ZXJmYWNlXG4gICAgaWYgKCF3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlIHx8ICh3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlICYmICdmb3VuZGF0aW9uJyBpblxuICAgICAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgTmF0aXZlUlRDSWNlQ2FuZGlkYXRlID0gd2luZG93LlJUQ0ljZUNhbmRpZGF0ZTtcbiAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24oYXJncykge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBhPSB3aGljaCBzaG91bGRuJ3QgYmUgcGFydCBvZiB0aGUgY2FuZGlkYXRlIHN0cmluZy5cbiAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcgJiYgYXJncy5jYW5kaWRhdGUgJiZcbiAgICAgICAgICBhcmdzLmNhbmRpZGF0ZS5pbmRleE9mKCdhPScpID09PSAwKSB7XG4gICAgICAgIGFyZ3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgYXJncy5jYW5kaWRhdGUgPSBhcmdzLmNhbmRpZGF0ZS5zdWJzdHIoMik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmdzLmNhbmRpZGF0ZSAmJiBhcmdzLmNhbmRpZGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gQXVnbWVudCB0aGUgbmF0aXZlIGNhbmRpZGF0ZSB3aXRoIHRoZSBwYXJzZWQgZmllbGRzLlxuICAgICAgICB2YXIgbmF0aXZlQ2FuZGlkYXRlID0gbmV3IE5hdGl2ZVJUQ0ljZUNhbmRpZGF0ZShhcmdzKTtcbiAgICAgICAgdmFyIHBhcnNlZENhbmRpZGF0ZSA9IFNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlKGFyZ3MuY2FuZGlkYXRlKTtcbiAgICAgICAgdmFyIGF1Z21lbnRlZENhbmRpZGF0ZSA9IE9iamVjdC5hc3NpZ24obmF0aXZlQ2FuZGlkYXRlLFxuICAgICAgICAgICAgcGFyc2VkQ2FuZGlkYXRlKTtcblxuICAgICAgICAvLyBBZGQgYSBzZXJpYWxpemVyIHRoYXQgZG9lcyBub3Qgc2VyaWFsaXplIHRoZSBleHRyYSBhdHRyaWJ1dGVzLlxuICAgICAgICBhdWdtZW50ZWRDYW5kaWRhdGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZTogYXVnbWVudGVkQ2FuZGlkYXRlLmNhbmRpZGF0ZSxcbiAgICAgICAgICAgIHNkcE1pZDogYXVnbWVudGVkQ2FuZGlkYXRlLnNkcE1pZCxcbiAgICAgICAgICAgIHNkcE1MaW5lSW5kZXg6IGF1Z21lbnRlZENhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuICAgICAgICAgICAgdXNlcm5hbWVGcmFnbWVudDogYXVnbWVudGVkQ2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGF1Z21lbnRlZENhbmRpZGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTmF0aXZlUlRDSWNlQ2FuZGlkYXRlKGFyZ3MpO1xuICAgIH07XG4gICAgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGUgPSBOYXRpdmVSVENJY2VDYW5kaWRhdGUucHJvdG90eXBlO1xuXG4gICAgLy8gSG9vayB1cCB0aGUgYXVnbWVudGVkIGNhbmRpZGF0ZSBpbiBvbmljZWNhbmRpZGF0ZSBhbmRcbiAgICAvLyBhZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCAuLi4pXG4gICAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAnaWNlY2FuZGlkYXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuY2FuZGlkYXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAnY2FuZGlkYXRlJywge1xuICAgICAgICAgIHZhbHVlOiBuZXcgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZSksXG4gICAgICAgICAgd3JpdGFibGU6ICdmYWxzZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgfSxcblxuICAvLyBzaGltQ3JlYXRlT2JqZWN0VVJMIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBzaGltU291cmNlT2JqZWN0IHRvIGF2b2lkIGxvb3AuXG5cbiAgc2hpbUNyZWF0ZU9iamVjdFVSTDogZnVuY3Rpb24od2luZG93KSB7XG4gICAgdmFyIFVSTCA9IHdpbmRvdyAmJiB3aW5kb3cuVVJMO1xuXG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LkhUTUxNZWRpYUVsZW1lbnQgJiZcbiAgICAgICAgICAnc3JjT2JqZWN0JyBpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUgJiZcbiAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTCAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKSkge1xuICAgICAgLy8gT25seSBzaGltIENyZWF0ZU9iamVjdFVSTCB1c2luZyBzcmNPYmplY3QgaWYgc3JjT2JqZWN0IGV4aXN0cy5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFyIG5hdGl2ZUNyZWF0ZU9iamVjdFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwuYmluZChVUkwpO1xuICAgIHZhciBuYXRpdmVSZXZva2VPYmplY3RVUkwgPSBVUkwucmV2b2tlT2JqZWN0VVJMLmJpbmQoVVJMKTtcbiAgICB2YXIgc3RyZWFtcyA9IG5ldyBNYXAoKSwgbmV3SWQgPSAwO1xuXG4gICAgVVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgaWYgKCdnZXRUcmFja3MnIGluIHN0cmVhbSkge1xuICAgICAgICB2YXIgdXJsID0gJ3BvbHlibG9iOicgKyAoKytuZXdJZCk7XG4gICAgICAgIHN0cmVhbXMuc2V0KHVybCwgc3RyZWFtKTtcbiAgICAgICAgdXRpbHMuZGVwcmVjYXRlZCgnVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pJyxcbiAgICAgICAgICAgICdlbGVtLnNyY09iamVjdCA9IHN0cmVhbScpO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuICAgIH07XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgbmF0aXZlUmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICBzdHJlYW1zLmRlbGV0ZSh1cmwpO1xuICAgIH07XG5cbiAgICB2YXIgZHNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NyYycpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsICdzcmMnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZHNjLmdldC5hcHBseSh0aGlzKTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB0aGlzLnNyY09iamVjdCA9IHN0cmVhbXMuZ2V0KHVybCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIGRzYy5zZXQuYXBwbHkodGhpcywgW3VybF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIG5hdGl2ZVNldEF0dHJpYnV0ZSA9IHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XG4gICAgd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAoJycgKyBhcmd1bWVudHNbMF0pLnRvTG93ZXJDYXNlKCkgPT09ICdzcmMnKSB7XG4gICAgICAgIHRoaXMuc3JjT2JqZWN0ID0gc3RyZWFtcy5nZXQoYXJndW1lbnRzWzFdKSB8fCBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVNldEF0dHJpYnV0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0sXG5cbiAgc2hpbU1heE1lc3NhZ2VTaXplOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAod2luZG93LlJUQ1NjdHBUcmFuc3BvcnQgfHwgIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYnJvd3NlckRldGFpbHMgPSB1dGlscy5kZXRlY3RCcm93c2VyKHdpbmRvdyk7XG5cbiAgICBpZiAoISgnc2N0cCcgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCAnc2N0cCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX3NjdHAgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHRoaXMuX3NjdHA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzY3RwSW5EZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICB2YXIgc2VjdGlvbnMgPSBTRFBVdGlscy5zcGxpdFNlY3Rpb25zKGRlc2NyaXB0aW9uLnNkcCk7XG4gICAgICBzZWN0aW9ucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHNlY3Rpb25zLnNvbWUoZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gICAgICAgIHZhciBtTGluZSA9IFNEUFV0aWxzLnBhcnNlTUxpbmUobWVkaWFTZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIG1MaW5lICYmIG1MaW5lLmtpbmQgPT09ICdhcHBsaWNhdGlvbidcbiAgICAgICAgICAgICYmIG1MaW5lLnByb3RvY29sLmluZGV4T2YoJ1NDVFAnKSAhPT0gLTE7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFJlbW90ZUZpcmVmb3hWZXJzaW9uID0gZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgIC8vIFRPRE86IElzIHRoZXJlIGEgYmV0dGVyIHNvbHV0aW9uIGZvciBkZXRlY3RpbmcgRmlyZWZveD9cbiAgICAgIHZhciBtYXRjaCA9IGRlc2NyaXB0aW9uLnNkcC5tYXRjaCgvbW96aWxsYS4uLlRISVNfSVNfU0RQQVJUQS0oXFxkKykvKTtcbiAgICAgIGlmIChtYXRjaCA9PT0gbnVsbCB8fCBtYXRjaC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciB2ZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgIC8vIFRlc3QgZm9yIE5hTiAoeWVzLCB0aGlzIGlzIHVnbHkpXG4gICAgICByZXR1cm4gdmVyc2lvbiAhPT0gdmVyc2lvbiA/IC0xIDogdmVyc2lvbjtcbiAgICB9O1xuXG4gICAgdmFyIGdldENhblNlbmRNYXhNZXNzYWdlU2l6ZSA9IGZ1bmN0aW9uKHJlbW90ZUlzRmlyZWZveCkge1xuICAgICAgLy8gRXZlcnkgaW1wbGVtZW50YXRpb24gd2Uga25vdyBjYW4gc2VuZCBhdCBsZWFzdCA2NCBLaUIuXG4gICAgICAvLyBOb3RlOiBBbHRob3VnaCBDaHJvbWUgaXMgdGVjaG5pY2FsbHkgYWJsZSB0byBzZW5kIHVwIHRvIDI1NiBLaUIsIHRoZVxuICAgICAgLy8gICAgICAgZGF0YSBkb2VzIG5vdCByZWFjaCB0aGUgb3RoZXIgcGVlciByZWxpYWJseS5cbiAgICAgIC8vICAgICAgIFNlZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3dlYnJ0Yy9pc3N1ZXMvZGV0YWlsP2lkPTg0MTlcbiAgICAgIHZhciBjYW5TZW5kTWF4TWVzc2FnZVNpemUgPSA2NTUzNjtcbiAgICAgIGlmIChicm93c2VyRGV0YWlscy5icm93c2VyID09PSAnZmlyZWZveCcpIHtcbiAgICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1Nykge1xuICAgICAgICAgIGlmIChyZW1vdGVJc0ZpcmVmb3ggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBGRiA8IDU3IHdpbGwgc2VuZCBpbiAxNiBLaUIgY2h1bmtzIHVzaW5nIHRoZSBkZXByZWNhdGVkIFBQSURcbiAgICAgICAgICAgIC8vIGZyYWdtZW50YXRpb24uXG4gICAgICAgICAgICBjYW5TZW5kTWF4TWVzc2FnZVNpemUgPSAxNjM4NDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSG93ZXZlciwgb3RoZXIgRkYgKGFuZCBSQVdSVEMpIGNhbiByZWFzc2VtYmxlIFBQSUQtZnJhZ21lbnRlZFxuICAgICAgICAgICAgLy8gbWVzc2FnZXMuIFRodXMsIHN1cHBvcnRpbmcgfjIgR2lCIHdoZW4gc2VuZGluZy5cbiAgICAgICAgICAgIGNhblNlbmRNYXhNZXNzYWdlU2l6ZSA9IDIxNDc0ODM2Mzc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA2MCkge1xuICAgICAgICAgIC8vIEN1cnJlbnRseSwgYWxsIEZGID49IDU3IHdpbGwgcmVzZXQgdGhlIHJlbW90ZSBtYXhpbXVtIG1lc3NhZ2Ugc2l6ZVxuICAgICAgICAgIC8vIHRvIHRoZSBkZWZhdWx0IHZhbHVlIHdoZW4gYSBkYXRhIGNoYW5uZWwgaXMgY3JlYXRlZCBhdCBhIGxhdGVyXG4gICAgICAgICAgLy8gc3RhZ2UuIDooXG4gICAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI2ODMxXG4gICAgICAgICAgY2FuU2VuZE1heE1lc3NhZ2VTaXplID1cbiAgICAgICAgICAgIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPT09IDU3ID8gNjU1MzUgOiA2NTUzNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGRiA+PSA2MCBzdXBwb3J0cyBzZW5kaW5nIH4yIEdpQlxuICAgICAgICAgIGNhblNlbmRNYXhNZXNzYWdlU2l6ZSA9IDIxNDc0ODM2Mzc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjYW5TZW5kTWF4TWVzc2FnZVNpemU7XG4gICAgfTtcblxuICAgIHZhciBnZXRNYXhNZXNzYWdlU2l6ZSA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uLCByZW1vdGVJc0ZpcmVmb3gpIHtcbiAgICAgIC8vIE5vdGU6IDY1NTM2IGJ5dGVzIGlzIHRoZSBkZWZhdWx0IHZhbHVlIGZyb20gdGhlIFNEUCBzcGVjLiBBbHNvLFxuICAgICAgLy8gICAgICAgZXZlcnkgaW1wbGVtZW50YXRpb24gd2Uga25vdyBzdXBwb3J0cyByZWNlaXZpbmcgNjU1MzYgYnl0ZXMuXG4gICAgICB2YXIgbWF4TWVzc2FnZVNpemUgPSA2NTUzNjtcblxuICAgICAgLy8gRkYgNTcgaGFzIGEgc2xpZ2h0bHkgaW5jb3JyZWN0IGRlZmF1bHQgcmVtb3RlIG1heCBtZXNzYWdlIHNpemUsIHNvXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFkanVzdCBpdCBoZXJlIHRvIGF2b2lkIGEgZmFpbHVyZSB3aGVuIHNlbmRpbmcuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0MjU2OTdcbiAgICAgIGlmIChicm93c2VyRGV0YWlscy5icm93c2VyID09PSAnZmlyZWZveCdcbiAgICAgICAgICAgJiYgYnJvd3NlckRldGFpbHMudmVyc2lvbiA9PT0gNTcpIHtcbiAgICAgICAgbWF4TWVzc2FnZVNpemUgPSA2NTUzNTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1hdGNoID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoZGVzY3JpcHRpb24uc2RwLCAnYT1tYXgtbWVzc2FnZS1zaXplOicpO1xuICAgICAgaWYgKG1hdGNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWF4TWVzc2FnZVNpemUgPSBwYXJzZUludChtYXRjaFswXS5zdWJzdHIoMTkpLCAxMCk7XG4gICAgICB9IGVsc2UgaWYgKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdmaXJlZm94JyAmJlxuICAgICAgICAgICAgICAgICAgcmVtb3RlSXNGaXJlZm94ICE9PSAtMSkge1xuICAgICAgICAvLyBJZiB0aGUgbWF4aW11bSBtZXNzYWdlIHNpemUgaXMgbm90IHByZXNlbnQgaW4gdGhlIHJlbW90ZSBTRFAgYW5kXG4gICAgICAgIC8vIGJvdGggbG9jYWwgYW5kIHJlbW90ZSBhcmUgRmlyZWZveCwgdGhlIHJlbW90ZSBwZWVyIGNhbiByZWNlaXZlXG4gICAgICAgIC8vIH4yIEdpQi5cbiAgICAgICAgbWF4TWVzc2FnZVNpemUgPSAyMTQ3NDgzNjM3O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1heE1lc3NhZ2VTaXplO1xuICAgIH07XG5cbiAgICB2YXIgb3JpZ1NldFJlbW90ZURlc2NyaXB0aW9uID1cbiAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgcGMuX3NjdHAgPSBudWxsO1xuXG4gICAgICBpZiAoc2N0cEluRGVzY3JpcHRpb24oYXJndW1lbnRzWzBdKSkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcmVtb3RlIGlzIEZGLlxuICAgICAgICB2YXIgaXNGaXJlZm94ID0gZ2V0UmVtb3RlRmlyZWZveFZlcnNpb24oYXJndW1lbnRzWzBdKTtcblxuICAgICAgICAvLyBHZXQgdGhlIG1heGltdW0gbWVzc2FnZSBzaXplIHRoZSBsb2NhbCBwZWVyIGlzIGNhcGFibGUgb2Ygc2VuZGluZ1xuICAgICAgICB2YXIgY2FuU2VuZE1NUyA9IGdldENhblNlbmRNYXhNZXNzYWdlU2l6ZShpc0ZpcmVmb3gpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgbWF4aW11bSBtZXNzYWdlIHNpemUgb2YgdGhlIHJlbW90ZSBwZWVyLlxuICAgICAgICB2YXIgcmVtb3RlTU1TID0gZ2V0TWF4TWVzc2FnZVNpemUoYXJndW1lbnRzWzBdLCBpc0ZpcmVmb3gpO1xuXG4gICAgICAgIC8vIERldGVybWluZSBmaW5hbCBtYXhpbXVtIG1lc3NhZ2Ugc2l6ZVxuICAgICAgICB2YXIgbWF4TWVzc2FnZVNpemU7XG4gICAgICAgIGlmIChjYW5TZW5kTU1TID09PSAwICYmIHJlbW90ZU1NUyA9PT0gMCkge1xuICAgICAgICAgIG1heE1lc3NhZ2VTaXplID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9IGVsc2UgaWYgKGNhblNlbmRNTVMgPT09IDAgfHwgcmVtb3RlTU1TID09PSAwKSB7XG4gICAgICAgICAgbWF4TWVzc2FnZVNpemUgPSBNYXRoLm1heChjYW5TZW5kTU1TLCByZW1vdGVNTVMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1heE1lc3NhZ2VTaXplID0gTWF0aC5taW4oY2FuU2VuZE1NUywgcmVtb3RlTU1TKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIGR1bW15IFJUQ1NjdHBUcmFuc3BvcnQgb2JqZWN0IGFuZCB0aGUgJ21heE1lc3NhZ2VTaXplJ1xuICAgICAgICAvLyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBzY3RwID0ge307XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY3RwLCAnbWF4TWVzc2FnZVNpemUnLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXhNZXNzYWdlU2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYy5fc2N0cCA9IHNjdHA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmlnU2V0UmVtb3RlRGVzY3JpcHRpb24uYXBwbHkocGMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSxcblxuICBzaGltU2VuZFRocm93VHlwZUVycm9yOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAoISh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiZcbiAgICAgICAgJ2NyZWF0ZURhdGFDaGFubmVsJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IEFsdGhvdWdoIEZpcmVmb3ggPj0gNTcgaGFzIGEgbmF0aXZlIGltcGxlbWVudGF0aW9uLCB0aGUgbWF4aW11bVxuICAgIC8vICAgICAgIG1lc3NhZ2Ugc2l6ZSBjYW4gYmUgcmVzZXQgZm9yIGFsbCBkYXRhIGNoYW5uZWxzIGF0IGEgbGF0ZXIgc3RhZ2UuXG4gICAgLy8gICAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI2ODMxXG5cbiAgICBmdW5jdGlvbiB3cmFwRGNTZW5kKGRjLCBwYykge1xuICAgICAgdmFyIG9yaWdEYXRhQ2hhbm5lbFNlbmQgPSBkYy5zZW5kO1xuICAgICAgZGMuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoIHx8IGRhdGEuc2l6ZSB8fCBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChkYy5yZWFkeVN0YXRlID09PSAnb3BlbicgJiZcbiAgICAgICAgICAgIHBjLnNjdHAgJiYgbGVuZ3RoID4gcGMuc2N0cC5tYXhNZXNzYWdlU2l6ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01lc3NhZ2UgdG9vIGxhcmdlIChjYW4gc2VuZCBhIG1heGltdW0gb2YgJyArXG4gICAgICAgICAgICBwYy5zY3RwLm1heE1lc3NhZ2VTaXplICsgJyBieXRlcyknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ0RhdGFDaGFubmVsU2VuZC5hcHBseShkYywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBvcmlnQ3JlYXRlRGF0YUNoYW5uZWwgPVxuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgdmFyIGRhdGFDaGFubmVsID0gb3JpZ0NyZWF0ZURhdGFDaGFubmVsLmFwcGx5KHBjLCBhcmd1bWVudHMpO1xuICAgICAgd3JhcERjU2VuZChkYXRhQ2hhbm5lbCwgcGMpO1xuICAgICAgcmV0dXJuIGRhdGFDaGFubmVsO1xuICAgIH07XG4gICAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAnZGF0YWNoYW5uZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICB3cmFwRGNTZW5kKGUuY2hhbm5lbCwgZS50YXJnZXQpO1xuICAgICAgcmV0dXJuIGU7XG4gICAgfSk7XG4gIH1cbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBmaWx0ZXJJY2VTZXJ2ZXJzID0gcmVxdWlyZSgnLi9maWx0ZXJpY2VzZXJ2ZXJzJyk7XG52YXIgc2hpbVJUQ1BlZXJDb25uZWN0aW9uID0gcmVxdWlyZSgncnRjcGVlcmNvbm5lY3Rpb24tc2hpbScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2hpbUdldFVzZXJNZWRpYTogcmVxdWlyZSgnLi9nZXR1c2VybWVkaWEnKSxcbiAgc2hpbVBlZXJDb25uZWN0aW9uOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgYnJvd3NlckRldGFpbHMgPSB1dGlscy5kZXRlY3RCcm93c2VyKHdpbmRvdyk7XG5cbiAgICBpZiAod2luZG93LlJUQ0ljZUdhdGhlcmVyKSB7XG4gICAgICBpZiAoIXdpbmRvdy5SVENJY2VDYW5kaWRhdGUpIHtcbiAgICAgICAgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICghd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikge1xuICAgICAgICB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uID0gZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBhZGRzIGFuIGFkZGl0aW9uYWwgZXZlbnQgbGlzdGVuZXIgdG8gTWVkaWFTdHJhY2tUcmFjayB0aGF0IHNpZ25hbHNcbiAgICAgIC8vIHdoZW4gYSB0cmFja3MgZW5hYmxlZCBwcm9wZXJ0eSB3YXMgY2hhbmdlZC4gV29ya2Fyb3VuZCBmb3IgYSBidWcgaW5cbiAgICAgIC8vIGFkZFN0cmVhbSwgc2VlIGJlbG93LiBObyBsb25nZXIgcmVxdWlyZWQgaW4gMTUwMjUrXG4gICAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDE1MDI1KSB7XG4gICAgICAgIHZhciBvcmlnTVNURW5hYmxlZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgICB3aW5kb3cuTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsICdlbmFibGVkJyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsICdlbmFibGVkJywge1xuICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIG9yaWdNU1RFbmFibGVkLnNldC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHZhciBldiA9IG5ldyBFdmVudCgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgZXYuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9SVEMgZGVmaW5lcyB0aGUgRFRNRiBzZW5kZXIgYSBiaXQgZGlmZmVyZW50LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2Mvb3J0Yy9pc3N1ZXMvNzE0XG4gICAgaWYgKHdpbmRvdy5SVENSdHBTZW5kZXIgJiYgISgnZHRtZicgaW4gd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsICdkdG1mJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aGlzLl9kdG1mID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrLmtpbmQgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgICAgdGhpcy5fZHRtZiA9IG5ldyB3aW5kb3cuUlRDRHRtZlNlbmRlcih0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50cmFjay5raW5kID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5fZHRtZjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEVkZ2UgY3VycmVudGx5IG9ubHkgaW1wbGVtZW50cyB0aGUgUlRDRHRtZlNlbmRlciwgbm90IHRoZVxuICAgIC8vIFJUQ0RUTUZTZW5kZXIgYWxpYXMuIFNlZSBodHRwOi8vZHJhZnQub3J0Yy5vcmcvI3J0Y2R0bWZzZW5kZXIyKlxuICAgIGlmICh3aW5kb3cuUlRDRHRtZlNlbmRlciAmJiAhd2luZG93LlJUQ0RUTUZTZW5kZXIpIHtcbiAgICAgIHdpbmRvdy5SVENEVE1GU2VuZGVyID0gd2luZG93LlJUQ0R0bWZTZW5kZXI7XG4gICAgfVxuXG4gICAgdmFyIFJUQ1BlZXJDb25uZWN0aW9uU2hpbSA9IHNoaW1SVENQZWVyQ29ubmVjdGlvbih3aW5kb3csXG4gICAgICAgIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24pO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaWNlU2VydmVycykge1xuICAgICAgICBjb25maWcuaWNlU2VydmVycyA9IGZpbHRlckljZVNlcnZlcnMoY29uZmlnLmljZVNlcnZlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSVENQZWVyQ29ubmVjdGlvblNoaW0oY29uZmlnKTtcbiAgICB9O1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUgPSBSVENQZWVyQ29ubmVjdGlvblNoaW0ucHJvdG90eXBlO1xuICB9LFxuICBzaGltUmVwbGFjZVRyYWNrOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICAvLyBPUlRDIGhhcyByZXBsYWNlVHJhY2sgLS0gaHR0cHM6Ly9naXRodWIuY29tL3czYy9vcnRjL2lzc3Vlcy82MTRcbiAgICBpZiAod2luZG93LlJUQ1J0cFNlbmRlciAmJlxuICAgICAgICAhKCdyZXBsYWNlVHJhY2snIGluIHdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlKSkge1xuICAgICAgd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrID1cbiAgICAgICAgICB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5zZXRUcmFjaztcbiAgICB9XG4gIH0sXG4gIHNoaW1HZXREaXNwbGF5TWVkaWE6IGZ1bmN0aW9uKHdpbmRvdywgcHJlZmVycmVkTWVkaWFTb3VyY2UpIHtcbiAgICBpZiAoISgnZ2V0RGlzcGxheU1lZGlhJyBpbiB3aW5kb3cubmF2aWdhdG9yKSB8fFxuICAgICAgICAhd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMgfHxcbiAgICAgICAgJ2dldERpc3BsYXlNZWRpYScgaW4gd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9yaWdHZXREaXNwbGF5TWVkaWEgPSB3aW5kb3cubmF2aWdhdG9yLmdldERpc3BsYXlNZWRpYTtcbiAgICB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cykge1xuICAgICAgcmV0dXJuIG9yaWdHZXREaXNwbGF5TWVkaWEuY2FsbCh3aW5kb3cubmF2aWdhdG9yLCBjb25zdHJhaW50cyk7XG4gICAgfTtcbiAgICB3aW5kb3cubmF2aWdhdG9yLmdldERpc3BsYXlNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICB1dGlscy5kZXByZWNhdGVkKCduYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhJyxcbiAgICAgICAgICAnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEnKTtcbiAgICAgIHJldHVybiBvcmlnR2V0RGlzcGxheU1lZGlhLmNhbGwod2luZG93Lm5hdmlnYXRvciwgY29uc3RyYWludHMpO1xuICAgIH07XG4gIH1cbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxOCBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbi8vIEVkZ2UgZG9lcyBub3QgbGlrZVxuLy8gMSkgc3R1bjogZmlsdGVyZWQgYWZ0ZXIgMTQzOTMgdW5sZXNzID90cmFuc3BvcnQ9dWRwIGlzIHByZXNlbnRcbi8vIDIpIHR1cm46IHRoYXQgZG9lcyBub3QgaGF2ZSBhbGwgb2YgdHVybjpob3N0OnBvcnQ/dHJhbnNwb3J0PXVkcFxuLy8gMykgdHVybjogd2l0aCBpcHY2IGFkZHJlc3Nlc1xuLy8gNCkgdHVybjogb2NjdXJyaW5nIG11bGlwbGUgdGltZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaWNlU2VydmVycywgZWRnZVZlcnNpb24pIHtcbiAgdmFyIGhhc1R1cm4gPSBmYWxzZTtcbiAgaWNlU2VydmVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaWNlU2VydmVycykpO1xuICByZXR1cm4gaWNlU2VydmVycy5maWx0ZXIoZnVuY3Rpb24oc2VydmVyKSB7XG4gICAgaWYgKHNlcnZlciAmJiAoc2VydmVyLnVybHMgfHwgc2VydmVyLnVybCkpIHtcbiAgICAgIHZhciB1cmxzID0gc2VydmVyLnVybHMgfHwgc2VydmVyLnVybDtcbiAgICAgIGlmIChzZXJ2ZXIudXJsICYmICFzZXJ2ZXIudXJscykge1xuICAgICAgICB1dGlscy5kZXByZWNhdGVkKCdSVENJY2VTZXJ2ZXIudXJsJywgJ1JUQ0ljZVNlcnZlci51cmxzJyk7XG4gICAgICB9XG4gICAgICB2YXIgaXNTdHJpbmcgPSB0eXBlb2YgdXJscyA9PT0gJ3N0cmluZyc7XG4gICAgICBpZiAoaXNTdHJpbmcpIHtcbiAgICAgICAgdXJscyA9IFt1cmxzXTtcbiAgICAgIH1cbiAgICAgIHVybHMgPSB1cmxzLmZpbHRlcihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgdmFyIHZhbGlkVHVybiA9IHVybC5pbmRleE9mKCd0dXJuOicpID09PSAwICYmXG4gICAgICAgICAgICB1cmwuaW5kZXhPZigndHJhbnNwb3J0PXVkcCcpICE9PSAtMSAmJlxuICAgICAgICAgICAgdXJsLmluZGV4T2YoJ3R1cm46WycpID09PSAtMSAmJlxuICAgICAgICAgICAgIWhhc1R1cm47XG5cbiAgICAgICAgaWYgKHZhbGlkVHVybikge1xuICAgICAgICAgIGhhc1R1cm4gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwuaW5kZXhPZignc3R1bjonKSA9PT0gMCAmJiBlZGdlVmVyc2lvbiA+PSAxNDM5MyAmJlxuICAgICAgICAgICAgdXJsLmluZGV4T2YoJz90cmFuc3BvcnQ9dWRwJykgPT09IC0xO1xuICAgICAgfSk7XG5cbiAgICAgIGRlbGV0ZSBzZXJ2ZXIudXJsO1xuICAgICAgc2VydmVyLnVybHMgPSBpc1N0cmluZyA/IHVybHNbMF0gOiB1cmxzO1xuICAgICAgcmV0dXJuICEhdXJscy5sZW5ndGg7XG4gICAgfVxuICB9KTtcbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIG5hdmlnYXRvciA9IHdpbmRvdyAmJiB3aW5kb3cubmF2aWdhdG9yO1xuXG4gIHZhciBzaGltRXJyb3JfID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB7UGVybWlzc2lvbkRlbmllZEVycm9yOiAnTm90QWxsb3dlZEVycm9yJ31bZS5uYW1lXSB8fCBlLm5hbWUsXG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICBjb25zdHJhaW50OiBlLmNvbnN0cmFpbnQsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBnZXRVc2VyTWVkaWEgZXJyb3Igc2hpbS5cbiAgdmFyIG9yaWdHZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5cbiAgICAgIGJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7XG4gIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBvcmlnR2V0VXNlck1lZGlhKGMpLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChzaGltRXJyb3JfKGUpKTtcbiAgICB9KTtcbiAgfTtcbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNoaW1HZXRVc2VyTWVkaWE6IHJlcXVpcmUoJy4vZ2V0dXNlcm1lZGlhJyksXG4gIHNoaW1PblRyYWNrOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmICEoJ29udHJhY2snIGluXG4gICAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ29udHJhY2snLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29udHJhY2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oZikge1xuICAgICAgICAgIGlmICh0aGlzLl9vbnRyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb250cmFjayk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29udHJhY2sgPSBmKTtcbiAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7XG4gICAgICAgICAgICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7XG4gICAgICAgICAgICAgIGV2ZW50LnJlY2VpdmVyID0ge3RyYWNrOiB0cmFja307XG4gICAgICAgICAgICAgIGV2ZW50LnRyYW5zY2VpdmVyID0ge3JlY2VpdmVyOiBldmVudC5yZWNlaXZlcn07XG4gICAgICAgICAgICAgIGV2ZW50LnN0cmVhbXMgPSBbZS5zdHJlYW1dO1xuICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1RyYWNrRXZlbnQgJiZcbiAgICAgICAgKCdyZWNlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSAmJlxuICAgICAgICAhKCd0cmFuc2NlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENUcmFja0V2ZW50LnByb3RvdHlwZSwgJ3RyYW5zY2VpdmVyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7cmVjZWl2ZXI6IHRoaXMucmVjZWl2ZXJ9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc2hpbVNvdXJjZU9iamVjdDogZnVuY3Rpb24od2luZG93KSB7XG4gICAgLy8gRmlyZWZveCBoYXMgc3VwcG9ydGVkIG1velNyY09iamVjdCBzaW5jZSBGRjIyLCB1bnByZWZpeGVkIGluIDQyLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50ICYmXG4gICAgICAgICEoJ3NyY09iamVjdCcgaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICAvLyBTaGltIHRoZSBzcmNPYmplY3QgcHJvcGVydHksIG9uY2UsIHdoZW4gSFRNTE1lZGlhRWxlbWVudCBpcyBmb3VuZC5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgJ3NyY09iamVjdCcsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW96U3JjT2JqZWN0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICAgIHRoaXMubW96U3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHNoaW1QZWVyQ29ubmVjdGlvbjogZnVuY3Rpb24od2luZG93KSB7XG4gICAgdmFyIGJyb3dzZXJEZXRhaWxzID0gdXRpbHMuZGV0ZWN0QnJvd3Nlcih3aW5kb3cpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICdvYmplY3QnIHx8ICEod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uIHx8XG4gICAgICAgIHdpbmRvdy5tb3pSVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICAgIHJldHVybjsgLy8gcHJvYmFibHkgbWVkaWEucGVlcmNvbm5lY3Rpb24uZW5hYmxlZD1mYWxzZSBpbiBhYm91dDpjb25maWdcbiAgICB9XG4gICAgLy8gVGhlIFJUQ1BlZXJDb25uZWN0aW9uIG9iamVjdC5cbiAgICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHtcbiAgICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCAzOCkge1xuICAgICAgICAgIC8vIC51cmxzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRkYgPCAzOC5cbiAgICAgICAgICAvLyBjcmVhdGUgUlRDSWNlU2VydmVycyB3aXRoIGEgc2luZ2xlIHVybC5cbiAgICAgICAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlU2VydmVycykge1xuICAgICAgICAgICAgdmFyIG5ld0ljZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGNDb25maWcuaWNlU2VydmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgc2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTtcbiAgICAgICAgICAgICAgaWYgKHNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXJ2ZXIudXJscy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgdmFyIG5ld1NlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIudXJsc1tqXVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIudXJsc1tqXS5pbmRleE9mKCd0dXJuJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2VydmVyLnVzZXJuYW1lID0gc2VydmVyLnVzZXJuYW1lO1xuICAgICAgICAgICAgICAgICAgICBuZXdTZXJ2ZXIuY3JlZGVudGlhbCA9IHNlcnZlci5jcmVkZW50aWFsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKG5ld1NlcnZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0ljZVNlcnZlcnMucHVzaChwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGNDb25maWcuaWNlU2VydmVycyA9IG5ld0ljZVNlcnZlcnM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID1cbiAgICAgICAgICB3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO1xuXG4gICAgICAvLyB3cmFwIHN0YXRpYyBtZXRob2RzLiBDdXJyZW50bHkganVzdCBnZW5lcmF0ZUNlcnRpZmljYXRlLlxuICAgICAgaWYgKHdpbmRvdy5tb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sICdnZW5lcmF0ZUNlcnRpZmljYXRlJywge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IHdpbmRvdy5tb3pSVENTZXNzaW9uRGVzY3JpcHRpb247XG4gICAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gd2luZG93Lm1velJUQ0ljZUNhbmRpZGF0ZTtcbiAgICB9XG5cbiAgICAvLyBzaGltIGF3YXkgbmVlZCBmb3Igb2Jzb2xldGUgUlRDSWNlQ2FuZGlkYXRlL1JUQ1Nlc3Npb25EZXNjcmlwdGlvbi5cbiAgICBbJ3NldExvY2FsRGVzY3JpcHRpb24nLCAnc2V0UmVtb3RlRGVzY3JpcHRpb24nLCAnYWRkSWNlQ2FuZGlkYXRlJ11cbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICAgICAgdmFyIG5hdGl2ZU1ldGhvZCA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTtcbiAgICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IG5ldyAoKG1ldGhvZCA9PT0gJ2FkZEljZUNhbmRpZGF0ZScpID9cbiAgICAgICAgICAgICAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlIDpcbiAgICAgICAgICAgICAgICB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZU1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgYWRkSWNlQ2FuZGlkYXRlKG51bGwgb3IgdW5kZWZpbmVkKVxuICAgIHZhciBuYXRpdmVBZGRJY2VDYW5kaWRhdGUgPVxuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1sxXSkge1xuICAgICAgICAgIGFyZ3VtZW50c1sxXS5hcHBseShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlQWRkSWNlQ2FuZGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIC8vIHNoaW0gZ2V0U3RhdHMgd2l0aCBtYXBsaWtlIHN1cHBvcnRcbiAgICB2YXIgbWFrZU1hcFN0YXRzID0gZnVuY3Rpb24oc3RhdHMpIHtcbiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICBPYmplY3Qua2V5cyhzdGF0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgbWFwLnNldChrZXksIHN0YXRzW2tleV0pO1xuICAgICAgICBtYXBba2V5XSA9IHN0YXRzW2tleV07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfTtcblxuICAgIHZhciBtb2Rlcm5TdGF0c1R5cGVzID0ge1xuICAgICAgaW5ib3VuZHJ0cDogJ2luYm91bmQtcnRwJyxcbiAgICAgIG91dGJvdW5kcnRwOiAnb3V0Ym91bmQtcnRwJyxcbiAgICAgIGNhbmRpZGF0ZXBhaXI6ICdjYW5kaWRhdGUtcGFpcicsXG4gICAgICBsb2NhbGNhbmRpZGF0ZTogJ2xvY2FsLWNhbmRpZGF0ZScsXG4gICAgICByZW1vdGVjYW5kaWRhdGU6ICdyZW1vdGUtY2FuZGlkYXRlJ1xuICAgIH07XG5cbiAgICB2YXIgbmF0aXZlR2V0U3RhdHMgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbihcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgb25TdWNjLFxuICAgICAgb25FcnJcbiAgICApIHtcbiAgICAgIHJldHVybiBuYXRpdmVHZXRTdGF0cy5hcHBseSh0aGlzLCBbc2VsZWN0b3IgfHwgbnVsbF0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHN0YXRzKSB7XG4gICAgICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA0OCkge1xuICAgICAgICAgICAgc3RhdHMgPSBtYWtlTWFwU3RhdHMoc3RhdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDUzICYmICFvblN1Y2MpIHtcbiAgICAgICAgICAgIC8vIFNoaW0gb25seSBwcm9taXNlIGdldFN0YXRzIHdpdGggc3BlYy1oeXBoZW5zIGluIHR5cGUgbmFtZXNcbiAgICAgICAgICAgIC8vIExlYXZlIGNhbGxiYWNrIHZlcnNpb24gYWxvbmU7IG1pc2Mgb2xkIHVzZXMgb2YgZm9yRWFjaCBiZWZvcmUgTWFwXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdGF0cy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXQpIHtcbiAgICAgICAgICAgICAgICBzdGF0LnR5cGUgPSBtb2Rlcm5TdGF0c1R5cGVzW3N0YXQudHlwZV0gfHwgc3RhdC50eXBlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKGUubmFtZSAhPT0gJ1R5cGVFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIEF2b2lkIFR5cGVFcnJvcjogXCJ0eXBlXCIgaXMgcmVhZC1vbmx5LCBpbiBvbGQgdmVyc2lvbnMuIDM0LTQzaXNoXG4gICAgICAgICAgICAgIHN0YXRzLmZvckVhY2goZnVuY3Rpb24oc3RhdCwgaSkge1xuICAgICAgICAgICAgICAgIHN0YXRzLnNldChpLCBPYmplY3QuYXNzaWduKHt9LCBzdGF0LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBtb2Rlcm5TdGF0c1R5cGVzW3N0YXQudHlwZV0gfHwgc3RhdC50eXBlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0YXRzO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihvblN1Y2MsIG9uRXJyKTtcbiAgICB9O1xuICB9LFxuXG4gIHNoaW1TZW5kZXJHZXRTdGF0czogZnVuY3Rpb24od2luZG93KSB7XG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmXG4gICAgICAgIHdpbmRvdy5SVENSdHBTZW5kZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh3aW5kb3cuUlRDUnRwU2VuZGVyICYmICdnZXRTdGF0cycgaW4gd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9yaWdHZXRTZW5kZXJzID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO1xuICAgIGlmIChvcmlnR2V0U2VuZGVycykge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgIHZhciBzZW5kZXJzID0gb3JpZ0dldFNlbmRlcnMuYXBwbHkocGMsIFtdKTtcbiAgICAgICAgc2VuZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHNlbmRlcikge1xuICAgICAgICAgIHNlbmRlci5fcGMgPSBwYztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZW5kZXJzO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ0FkZFRyYWNrID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztcbiAgICBpZiAob3JpZ0FkZFRyYWNrKSB7XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZW5kZXIgPSBvcmlnQWRkVHJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgc2VuZGVyLl9wYyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgICB9O1xuICAgIH1cbiAgICB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhY2sgPyB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKSA6XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKG5ldyBNYXAoKSk7XG4gICAgfTtcbiAgfSxcblxuICBzaGltUmVjZWl2ZXJHZXRTdGF0czogZnVuY3Rpb24od2luZG93KSB7XG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmXG4gICAgICAgIHdpbmRvdy5SVENSdHBTZW5kZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh3aW5kb3cuUlRDUnRwU2VuZGVyICYmICdnZXRTdGF0cycgaW4gd2luZG93LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb3JpZ0dldFJlY2VpdmVycyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO1xuICAgIGlmIChvcmlnR2V0UmVjZWl2ZXJzKSB7XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVjZWl2ZXJzID0gb3JpZ0dldFJlY2VpdmVycy5hcHBseShwYywgW10pO1xuICAgICAgICByZWNlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihyZWNlaXZlcikge1xuICAgICAgICAgIHJlY2VpdmVyLl9wYyA9IHBjO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlY2VpdmVycztcbiAgICAgIH07XG4gICAgfVxuICAgIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ3RyYWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5yZWNlaXZlci5fcGMgPSBlLnNyY0VsZW1lbnQ7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgICB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayk7XG4gICAgfTtcbiAgfSxcblxuICBzaGltUmVtb3ZlU3RyZWFtOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fFxuICAgICAgICAncmVtb3ZlU3RyZWFtJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgdXRpbHMuZGVwcmVjYXRlZCgncmVtb3ZlU3RyZWFtJywgJ3JlbW92ZVRyYWNrJyk7XG4gICAgICB0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKHNlbmRlcikge1xuICAgICAgICBpZiAoc2VuZGVyLnRyYWNrICYmIHN0cmVhbS5nZXRUcmFja3MoKS5pbmRleE9mKHNlbmRlci50cmFjaykgIT09IC0xKSB7XG4gICAgICAgICAgcGMucmVtb3ZlVHJhY2soc2VuZGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSxcblxuICBzaGltUlRDRGF0YUNoYW5uZWw6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIC8vIHJlbmFtZSBEYXRhQ2hhbm5lbCB0byBSVENEYXRhQ2hhbm5lbCAobmF0aXZlIGZpeCBpbiBGRjYwKTpcbiAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTczODUxXG4gICAgaWYgKHdpbmRvdy5EYXRhQ2hhbm5lbCAmJiAhd2luZG93LlJUQ0RhdGFDaGFubmVsKSB7XG4gICAgICB3aW5kb3cuUlRDRGF0YUNoYW5uZWwgPSB3aW5kb3cuRGF0YUNoYW5uZWw7XG4gICAgfVxuICB9LFxuXG4gIHNoaW1HZXREaXNwbGF5TWVkaWE6IGZ1bmN0aW9uKHdpbmRvdywgcHJlZmVycmVkTWVkaWFTb3VyY2UpIHtcbiAgICBpZiAoIXdpbmRvdy5uYXZpZ2F0b3IgfHwgIXdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8XG4gICAgICAgICdnZXREaXNwbGF5TWVkaWEnIGluIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICBpZiAoIShjb25zdHJhaW50cyAmJiBjb25zdHJhaW50cy52aWRlbykpIHtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBET01FeGNlcHRpb24oJ2dldERpc3BsYXlNZWRpYSB3aXRob3V0IHZpZGVvICcgK1xuICAgICAgICAgICAgJ2NvbnN0cmFpbnRzIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICBlcnIubmFtZSA9ICdOb3RGb3VuZEVycm9yJztcbiAgICAgICAgLy8gZnJvbSBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtRE9NRXhjZXB0aW9uLWVycm9yLW5hbWVzXG4gICAgICAgIGVyci5jb2RlID0gODtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICBpZiAoY29uc3RyYWludHMudmlkZW8gPT09IHRydWUpIHtcbiAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSB7bWVkaWFTb3VyY2U6IHByZWZlcnJlZE1lZGlhU291cmNlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvLm1lZGlhU291cmNlID0gcHJlZmVycmVkTWVkaWFTb3VyY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9O1xuICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMpIHtcbiAgICAgIHV0aWxzLmRlcHJlY2F0ZWQoJ25hdmlnYXRvci5nZXREaXNwbGF5TWVkaWEnLFxuICAgICAgICAgICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYScpO1xuICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShjb25zdHJhaW50cyk7XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlXG4gKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlXG4gKiAgdHJlZS5cbiAqL1xuIC8qIGVzbGludC1lbnYgbm9kZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIGxvZ2dpbmcgPSB1dGlscy5sb2c7XG5cbi8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kcy5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBicm93c2VyRGV0YWlscyA9IHV0aWxzLmRldGVjdEJyb3dzZXIod2luZG93KTtcbiAgdmFyIG5hdmlnYXRvciA9IHdpbmRvdyAmJiB3aW5kb3cubmF2aWdhdG9yO1xuICB2YXIgTWVkaWFTdHJlYW1UcmFjayA9IHdpbmRvdyAmJiB3aW5kb3cuTWVkaWFTdHJlYW1UcmFjaztcblxuICB2YXIgc2hpbUVycm9yXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZToge1xuICAgICAgICBJbnRlcm5hbEVycm9yOiAnTm90UmVhZGFibGVFcnJvcicsXG4gICAgICAgIE5vdFN1cHBvcnRlZEVycm9yOiAnVHlwZUVycm9yJyxcbiAgICAgICAgUGVybWlzc2lvbkRlbmllZEVycm9yOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICAgICAgU2VjdXJpdHlFcnJvcjogJ05vdEFsbG93ZWRFcnJvcidcbiAgICAgIH1bZS5uYW1lXSB8fCBlLm5hbWUsXG4gICAgICBtZXNzYWdlOiB7XG4gICAgICAgICdUaGUgb3BlcmF0aW9uIGlzIGluc2VjdXJlLic6ICdUaGUgcmVxdWVzdCBpcyBub3QgYWxsb3dlZCBieSB0aGUgJyArXG4gICAgICAgICd1c2VyIGFnZW50IG9yIHRoZSBwbGF0Zm9ybSBpbiB0aGUgY3VycmVudCBjb250ZXh0LidcbiAgICAgIH1bZS5tZXNzYWdlXSB8fCBlLm1lc3NhZ2UsXG4gICAgICBjb25zdHJhaW50OiBlLmNvbnN0cmFpbnQsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyAodGhpcy5tZXNzYWdlICYmICc6ICcpICsgdGhpcy5tZXNzYWdlO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uXG4gIHZhciBnZXRVc2VyTWVkaWFfID0gZnVuY3Rpb24oY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBjb25zdHJhaW50c1RvRkYzN18gPSBmdW5jdGlvbihjKSB7XG4gICAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMucmVxdWlyZSkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cbiAgICAgIHZhciByZXF1aXJlID0gW107XG4gICAgICBPYmplY3Qua2V5cyhjKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAncmVxdWlyZScgfHwga2V5ID09PSAnYWR2YW5jZWQnIHx8IGtleSA9PT0gJ21lZGlhU291cmNlJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IGNba2V5XSA9ICh0eXBlb2YgY1trZXldID09PSAnb2JqZWN0JykgP1xuICAgICAgICAgICAgY1trZXldIDoge2lkZWFsOiBjW2tleV19O1xuICAgICAgICBpZiAoci5taW4gIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgci5tYXggIT09IHVuZGVmaW5lZCB8fCByLmV4YWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXF1aXJlLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByLmV4YWN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgci4gbWluID0gci5tYXggPSByLmV4YWN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjW2tleV0gPSByLmV4YWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgci5leGFjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYy5hZHZhbmNlZCA9IGMuYWR2YW5jZWQgfHwgW107XG4gICAgICAgICAgdmFyIG9jID0ge307XG4gICAgICAgICAgaWYgKHR5cGVvZiByLmlkZWFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgb2Nba2V5XSA9IHttaW46IHIuaWRlYWwsIG1heDogci5pZGVhbH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9jW2tleV0gPSByLmlkZWFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjLmFkdmFuY2VkLnB1c2gob2MpO1xuICAgICAgICAgIGRlbGV0ZSByLmlkZWFsO1xuICAgICAgICAgIGlmICghT2JqZWN0LmtleXMocikubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWxldGUgY1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocmVxdWlyZS5sZW5ndGgpIHtcbiAgICAgICAgYy5yZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjO1xuICAgIH07XG4gICAgY29uc3RyYWludHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7XG4gICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCAzOCkge1xuICAgICAgbG9nZ2luZygnc3BlYzogJyArIEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7XG4gICAgICBpZiAoY29uc3RyYWludHMuYXVkaW8pIHtcbiAgICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvRkYzN18oY29uc3RyYWludHMuYXVkaW8pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gY29uc3RyYWludHNUb0ZGMzdfKGNvbnN0cmFpbnRzLnZpZGVvKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dpbmcoJ2ZmMzc6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpO1xuICAgIH1cbiAgICByZXR1cm4gbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYShjb25zdHJhaW50cywgb25TdWNjZXNzLCBmdW5jdGlvbihlKSB7XG4gICAgICBvbkVycm9yKHNoaW1FcnJvcl8oZSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBnZXRVc2VyTWVkaWEgYXMgYSBQcm9taXNlLlxuICB2YXIgZ2V0VXNlck1lZGlhUHJvbWlzZV8gPSBmdW5jdGlvbihjb25zdHJhaW50cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGdldFVzZXJNZWRpYV8oY29uc3RyYWludHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gU2hpbSBmb3IgbWVkaWFEZXZpY2VzIG9uIG9sZGVyIHZlcnNpb25zLlxuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzID0ge2dldFVzZXJNZWRpYTogZ2V0VXNlck1lZGlhUHJvbWlzZV8sXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbigpIHsgfSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKCkgeyB9XG4gICAgfTtcbiAgfVxuICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMgPVxuICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgIHZhciBpbmZvcyA9IFtcbiAgICAgICAgICAgIHtraW5kOiAnYXVkaW9pbnB1dCcsIGRldmljZUlkOiAnZGVmYXVsdCcsIGxhYmVsOiAnJywgZ3JvdXBJZDogJyd9LFxuICAgICAgICAgICAge2tpbmQ6ICd2aWRlb2lucHV0JywgZGV2aWNlSWQ6ICdkZWZhdWx0JywgbGFiZWw6ICcnLCBncm91cElkOiAnJ31cbiAgICAgICAgICBdO1xuICAgICAgICAgIHJlc29sdmUoaW5mb3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA0MSkge1xuICAgIC8vIFdvcmsgYXJvdW5kIGh0dHA6Ly9idWd6aWwubGEvMTE2OTY2NVxuICAgIHZhciBvcmdFbnVtZXJhdGVEZXZpY2VzID1cbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gb3JnRW51bWVyYXRlRGV2aWNlcygpLnRoZW4odW5kZWZpbmVkLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDQ5KSB7XG4gICAgdmFyIG9yaWdHZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5cbiAgICAgICAgYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGMpIHtcbiAgICAgIHJldHVybiBvcmlnR2V0VXNlck1lZGlhKGMpLnRoZW4oZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIC8vIFdvcmsgYXJvdW5kIGh0dHBzOi8vYnVnemlsLmxhLzgwMjMyNlxuICAgICAgICBpZiAoYy5hdWRpbyAmJiAhc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoIHx8XG4gICAgICAgICAgICBjLnZpZGVvICYmICFzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oJ1RoZSBvYmplY3QgY2FuIG5vdCBiZSBmb3VuZCBoZXJlLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm90Rm91bmRFcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChzaGltRXJyb3JfKGUpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgaWYgKCEoYnJvd3NlckRldGFpbHMudmVyc2lvbiA+IDU1ICYmXG4gICAgICAnYXV0b0dhaW5Db250cm9sJyBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkpKSB7XG4gICAgdmFyIHJlbWFwID0gZnVuY3Rpb24ob2JqLCBhLCBiKSB7XG4gICAgICBpZiAoYSBpbiBvYmogJiYgIShiIGluIG9iaikpIHtcbiAgICAgICAgb2JqW2JdID0gb2JqW2FdO1xuICAgICAgICBkZWxldGUgb2JqW2FdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgbmF0aXZlR2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuXG4gICAgICAgIGJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjKSB7XG4gICAgICBpZiAodHlwZW9mIGMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjLmF1ZGlvID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSk7XG4gICAgICAgIHJlbWFwKGMuYXVkaW8sICdhdXRvR2FpbkNvbnRyb2wnLCAnbW96QXV0b0dhaW5Db250cm9sJyk7XG4gICAgICAgIHJlbWFwKGMuYXVkaW8sICdub2lzZVN1cHByZXNzaW9uJywgJ21vek5vaXNlU3VwcHJlc3Npb24nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVHZXRVc2VyTWVkaWEoYyk7XG4gICAgfTtcblxuICAgIGlmIChNZWRpYVN0cmVhbVRyYWNrICYmIE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmdldFNldHRpbmdzKSB7XG4gICAgICB2YXIgbmF0aXZlR2V0U2V0dGluZ3MgPSBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5nZXRTZXR0aW5ncztcbiAgICAgIE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmdldFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvYmogPSBuYXRpdmVHZXRTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICByZW1hcChvYmosICdtb3pBdXRvR2FpbkNvbnRyb2wnLCAnYXV0b0dhaW5Db250cm9sJyk7XG4gICAgICAgIHJlbWFwKG9iaiwgJ21vek5vaXNlU3VwcHJlc3Npb24nLCAnbm9pc2VTdXBwcmVzc2lvbicpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoTWVkaWFTdHJlYW1UcmFjayAmJiBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzKSB7XG4gICAgICB2YXIgbmF0aXZlQXBwbHlDb25zdHJhaW50cyA9IE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM7XG4gICAgICBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzID0gZnVuY3Rpb24oYykge1xuICAgICAgICBpZiAodGhpcy5raW5kID09PSAnYXVkaW8nICYmIHR5cGVvZiBjID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGMpKTtcbiAgICAgICAgICByZW1hcChjLCAnYXV0b0dhaW5Db250cm9sJywgJ21vekF1dG9HYWluQ29udHJvbCcpO1xuICAgICAgICAgIHJlbWFwKGMsICdub2lzZVN1cHByZXNzaW9uJywgJ21vek5vaXNlU3VwcHJlc3Npb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF0aXZlQXBwbHlDb25zdHJhaW50cy5hcHBseSh0aGlzLCBbY10pO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDQ0KSB7XG4gICAgICByZXR1cm4gZ2V0VXNlck1lZGlhXyhjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9XG4gICAgLy8gUmVwbGFjZSBGaXJlZm94IDQ0KydzIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2l0aCB1bnByZWZpeGVkIHZlcnNpb24uXG4gICAgdXRpbHMuZGVwcmVjYXRlZCgnbmF2aWdhdG9yLmdldFVzZXJNZWRpYScsXG4gICAgICAgICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYScpO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH07XG59O1xuIiwiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2hpbUxvY2FsU3RyZWFtc0FQSTogZnVuY3Rpb24od2luZG93KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICdvYmplY3QnIHx8ICF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEoJ2dldExvY2FsU3RyZWFtcycgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxTdHJlYW1zKSB7XG4gICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW1zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsU3RyZWFtcztcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghKCdnZXRTdHJlYW1CeUlkJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdHJlYW1CeUlkID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbFN0cmVhbXMpIHtcbiAgICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlU3RyZWFtcykge1xuICAgICAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEoJ2FkZFN0cmVhbScgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIHZhciBfYWRkVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbFN0cmVhbXMpIHtcbiAgICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMucHVzaChzdHJlYW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgX2FkZFRyYWNrLmNhbGwocGMsIHRyYWNrLCBzdHJlYW0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbih0cmFjaywgc3RyZWFtKSB7XG4gICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsU3RyZWFtcykge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW1zID0gW3N0cmVhbV07XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb2NhbFN0cmVhbXMuaW5kZXhPZihzdHJlYW0pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9hZGRUcmFjay5jYWxsKHRoaXMsIHRyYWNrLCBzdHJlYW0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEoJ3JlbW92ZVN0cmVhbScgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxTdHJlYW1zKSB7XG4gICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW1zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdmFyIHBjID0gdGhpcztcbiAgICAgICAgdmFyIHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbihzZW5kZXIpIHtcbiAgICAgICAgICBpZiAodHJhY2tzLmluZGV4T2Yoc2VuZGVyLnRyYWNrKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBjLnJlbW92ZVRyYWNrKHNlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBzaGltUmVtb3RlU3RyZWFtc0FQSTogZnVuY3Rpb24od2luZG93KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICdvYmplY3QnIHx8ICF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEoJ2dldFJlbW90ZVN0cmVhbXMnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXMgPyB0aGlzLl9yZW1vdGVTdHJlYW1zIDogW107XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoISgnb25hZGRzdHJlYW0nIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ29uYWRkc3RyZWFtJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9vbmFkZHN0cmVhbTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX29uYWRkc3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29uYWRkc3RyZWFtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbmFkZHN0cmVhbSA9IGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBvcmlnU2V0UmVtb3RlRGVzY3JpcHRpb24gPVxuICAgICAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fb25hZGRzdHJlYW1wb2x5KSB7XG4gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29uYWRkc3RyZWFtcG9seSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgICAgICBpZiAoIXBjLl9yZW1vdGVTdHJlYW1zKSB7XG4gICAgICAgICAgICAgICAgcGMuX3JlbW90ZVN0cmVhbXMgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocGMuX3JlbW90ZVN0cmVhbXMuaW5kZXhPZihzdHJlYW0pID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGMuX3JlbW90ZVN0cmVhbXMucHVzaChzdHJlYW0pO1xuICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2FkZHN0cmVhbScpO1xuICAgICAgICAgICAgICBldmVudC5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICAgIHBjLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdTZXRSZW1vdGVEZXNjcmlwdGlvbi5hcHBseShwYywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBzaGltQ2FsbGJhY2tzQVBJOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcgfHwgIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvdG90eXBlID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtcbiAgICB2YXIgY3JlYXRlT2ZmZXIgPSBwcm90b3R5cGUuY3JlYXRlT2ZmZXI7XG4gICAgdmFyIGNyZWF0ZUFuc3dlciA9IHByb3RvdHlwZS5jcmVhdGVBbnN3ZXI7XG4gICAgdmFyIHNldExvY2FsRGVzY3JpcHRpb24gPSBwcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtcbiAgICB2YXIgc2V0UmVtb3RlRGVzY3JpcHRpb24gPSBwcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247XG4gICAgdmFyIGFkZEljZUNhbmRpZGF0ZSA9IHByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7XG5cbiAgICBwcm90b3R5cGUuY3JlYXRlT2ZmZXIgPSBmdW5jdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgdmFyIG9wdGlvbnMgPSAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSA/IGFyZ3VtZW50c1syXSA6IGFyZ3VtZW50c1swXTtcbiAgICAgIHZhciBwcm9taXNlID0gY3JlYXRlT2ZmZXIuYXBwbHkodGhpcywgW29wdGlvbnNdKTtcbiAgICAgIGlmICghZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlLmNyZWF0ZUFuc3dlciA9IGZ1bmN0aW9uKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IChhcmd1bWVudHMubGVuZ3RoID49IDIpID8gYXJndW1lbnRzWzJdIDogYXJndW1lbnRzWzBdO1xuICAgICAgdmFyIHByb21pc2UgPSBjcmVhdGVBbnN3ZXIuYXBwbHkodGhpcywgW29wdGlvbnNdKTtcbiAgICAgIGlmICghZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgdmFyIHdpdGhDYWxsYmFjayA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uLCBzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgdmFyIHByb21pc2UgPSBzZXRMb2NhbERlc2NyaXB0aW9uLmFwcGx5KHRoaXMsIFtkZXNjcmlwdGlvbl0pO1xuICAgICAgaWYgKCFmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgICBwcm9taXNlLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPSB3aXRoQ2FsbGJhY2s7XG5cbiAgICB3aXRoQ2FsbGJhY2sgPSBmdW5jdGlvbihkZXNjcmlwdGlvbiwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICAgIHZhciBwcm9taXNlID0gc2V0UmVtb3RlRGVzY3JpcHRpb24uYXBwbHkodGhpcywgW2Rlc2NyaXB0aW9uXSk7XG4gICAgICBpZiAoIWZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIHByb21pc2UudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjayk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBwcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPSB3aXRoQ2FsbGJhY2s7XG5cbiAgICB3aXRoQ2FsbGJhY2sgPSBmdW5jdGlvbihjYW5kaWRhdGUsIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGFkZEljZUNhbmRpZGF0ZS5hcHBseSh0aGlzLCBbY2FuZGlkYXRlXSk7XG4gICAgICBpZiAoIWZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIHByb21pc2UudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjayk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBwcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlID0gd2l0aENhbGxiYWNrO1xuICB9LFxuICBzaGltR2V0VXNlck1lZGlhOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgbmF2aWdhdG9yID0gd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3I7XG5cbiAgICBpZiAoIW5hdmlnYXRvci5nZXRVc2VyTWVkaWEpIHtcbiAgICAgIGlmIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKSB7XG4gICAgICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTtcbiAgICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJlxuICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgY2IsIGVycmNiKSB7XG4gICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpXG4gICAgICAgICAgLnRoZW4oY2IsIGVycmNiKTtcbiAgICAgICAgfS5iaW5kKG5hdmlnYXRvcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzaGltUlRDSWNlU2VydmVyVXJsczogZnVuY3Rpb24od2luZG93KSB7XG4gICAgLy8gbWlncmF0ZSBmcm9tIG5vbi1zcGVjIFJUQ0ljZVNlcnZlci51cmwgdG8gUlRDSWNlU2VydmVyLnVybHNcbiAgICB2YXIgT3JpZ1BlZXJDb25uZWN0aW9uID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7XG4gICAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlU2VydmVycykge1xuICAgICAgICB2YXIgbmV3SWNlU2VydmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBjQ29uZmlnLmljZVNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTtcbiAgICAgICAgICBpZiAoIXNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpICYmXG4gICAgICAgICAgICAgIHNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJsJykpIHtcbiAgICAgICAgICAgIHV0aWxzLmRlcHJlY2F0ZWQoJ1JUQ0ljZVNlcnZlci51cmwnLCAnUlRDSWNlU2VydmVyLnVybHMnKTtcbiAgICAgICAgICAgIHNlcnZlciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VydmVyKSk7XG4gICAgICAgICAgICBzZXJ2ZXIudXJscyA9IHNlcnZlci51cmw7XG4gICAgICAgICAgICBkZWxldGUgc2VydmVyLnVybDtcbiAgICAgICAgICAgIG5ld0ljZVNlcnZlcnMucHVzaChzZXJ2ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdJY2VTZXJ2ZXJzLnB1c2gocGNDb25maWcuaWNlU2VydmVyc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBjQ29uZmlnLmljZVNlcnZlcnMgPSBuZXdJY2VTZXJ2ZXJzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBPcmlnUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpO1xuICAgIH07XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSA9IE9yaWdQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU7XG4gICAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS5cbiAgICBpZiAoJ2dlbmVyYXRlQ2VydGlmaWNhdGUnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwgJ2dlbmVyYXRlQ2VydGlmaWNhdGUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIE9yaWdQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHNoaW1UcmFja0V2ZW50VHJhbnNjZWl2ZXI6IGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIC8vIEFkZCBldmVudC50cmFuc2NlaXZlciBtZW1iZXIgb3ZlciBkZXByZWNhdGVkIGV2ZW50LnJlY2VpdmVyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgICAoJ3JlY2VpdmVyJyBpbiB3aW5kb3cuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpICYmXG4gICAgICAgIC8vIGNhbid0IGNoZWNrICd0cmFuc2NlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLCBhcyBpdCBpc1xuICAgICAgICAvLyBkZWZpbmVkIGZvciBzb21lIHJlYXNvbiBldmVuIHdoZW4gd2luZG93LlJUQ1RyYW5zY2VpdmVyIGlzIG5vdC5cbiAgICAgICAgIXdpbmRvdy5SVENUcmFuc2NlaXZlcikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENUcmFja0V2ZW50LnByb3RvdHlwZSwgJ3RyYW5zY2VpdmVyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7cmVjZWl2ZXI6IHRoaXMucmVjZWl2ZXJ9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc2hpbUNyZWF0ZU9mZmVyTGVnYWN5OiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgb3JpZ0NyZWF0ZU9mZmVyID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24ob2ZmZXJPcHRpb25zKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzO1xuICAgICAgaWYgKG9mZmVyT3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIHN1cHBvcnQgYml0IHZhbHVlc1xuICAgICAgICAgIG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvID0gISFvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9UcmFuc2NlaXZlciA9IHBjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrICYmXG4gICAgICAgICAgICAgIHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5raW5kID09PSAnYXVkaW8nO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvID09PSBmYWxzZSAmJiBhdWRpb1RyYW5zY2VpdmVyKSB7XG4gICAgICAgICAgaWYgKGF1ZGlvVHJhbnNjZWl2ZXIuZGlyZWN0aW9uID09PSAnc2VuZHJlY3YnKSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgYXVkaW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24oJ3NlbmRvbmx5Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhdWRpb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9ICdzZW5kb25seSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChhdWRpb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9PT0gJ3JlY3Zvbmx5Jykge1xuICAgICAgICAgICAgaWYgKGF1ZGlvVHJhbnNjZWl2ZXIuc2V0RGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhbnNjZWl2ZXIuc2V0RGlyZWN0aW9uKCdpbmFjdGl2ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXVkaW9UcmFuc2NlaXZlci5kaXJlY3Rpb24gPSAnaW5hY3RpdmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgIWF1ZGlvVHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgICBwYy5hZGRUcmFuc2NlaXZlcignYXVkaW8nKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKHR5cGVvZiBvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBzdXBwb3J0IGJpdCB2YWx1ZXNcbiAgICAgICAgICBvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyA9ICEhb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlVmlkZW87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZGVvVHJhbnNjZWl2ZXIgPSBwYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayAmJlxuICAgICAgICAgICAgICB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2sua2luZCA9PT0gJ3ZpZGVvJztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyA9PT0gZmFsc2UgJiYgdmlkZW9UcmFuc2NlaXZlcikge1xuICAgICAgICAgIGlmICh2aWRlb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2Jykge1xuICAgICAgICAgICAgdmlkZW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24oJ3NlbmRvbmx5Jyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWRlb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9PT0gJ3JlY3Zvbmx5Jykge1xuICAgICAgICAgICAgdmlkZW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24oJ2luYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvID09PSB0cnVlICYmXG4gICAgICAgICAgICAhdmlkZW9UcmFuc2NlaXZlcikge1xuICAgICAgICAgIHBjLmFkZFRyYW5zY2VpdmVyKCd2aWRlbycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ0NyZWF0ZU9mZmVyLmFwcGx5KHBjLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbn07XG4iLCIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbiAvKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGxvZ0Rpc2FibGVkXyA9IHRydWU7XG52YXIgZGVwcmVjYXRpb25XYXJuaW5nc18gPSB0cnVlO1xuXG4vKipcbiAqIEV4dHJhY3QgYnJvd3NlciB2ZXJzaW9uIG91dCBvZiB0aGUgcHJvdmlkZWQgdXNlciBhZ2VudCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHshc3RyaW5nfSB1YXN0cmluZyB1c2VyQWdlbnQgc3RyaW5nLlxuICogQHBhcmFtIHshc3RyaW5nfSBleHByIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIGFzIG1hdGNoIGNyaXRlcmlhLlxuICogQHBhcmFtIHshbnVtYmVyfSBwb3MgcG9zaXRpb24gaW4gdGhlIHZlcnNpb24gc3RyaW5nIHRvIGJlIHJldHVybmVkLlxuICogQHJldHVybiB7IW51bWJlcn0gYnJvd3NlciB2ZXJzaW9uLlxuICovXG5mdW5jdGlvbiBleHRyYWN0VmVyc2lvbih1YXN0cmluZywgZXhwciwgcG9zKSB7XG4gIHZhciBtYXRjaCA9IHVhc3RyaW5nLm1hdGNoKGV4cHIpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IHBvcyAmJiBwYXJzZUludChtYXRjaFtwb3NdLCAxMCk7XG59XG5cbi8vIFdyYXBzIHRoZSBwZWVyY29ubmVjdGlvbiBldmVudCBldmVudE5hbWVUb1dyYXAgaW4gYSBmdW5jdGlvblxuLy8gd2hpY2ggcmV0dXJucyB0aGUgbW9kaWZpZWQgZXZlbnQgb2JqZWN0IChvciBmYWxzZSB0byBwcmV2ZW50XG4vLyB0aGUgZXZlbnQpLlxuZnVuY3Rpb24gd3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCBldmVudE5hbWVUb1dyYXAsIHdyYXBwZXIpIHtcbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHByb3RvID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIgPSBwcm90by5hZGRFdmVudExpc3RlbmVyO1xuICBwcm90by5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24obmF0aXZlRXZlbnROYW1lLCBjYikge1xuICAgIGlmIChuYXRpdmVFdmVudE5hbWUgIT09IGV2ZW50TmFtZVRvV3JhcCkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgdmFyIHdyYXBwZWRDYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBtb2RpZmllZEV2ZW50ID0gd3JhcHBlcihlKTtcbiAgICAgIGlmIChtb2RpZmllZEV2ZW50KSB7XG4gICAgICAgIGNiKG1vZGlmaWVkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fZXZlbnRNYXAgPSB0aGlzLl9ldmVudE1hcCB8fCB7fTtcbiAgICB0aGlzLl9ldmVudE1hcFtjYl0gPSB3cmFwcGVkQ2FsbGJhY2s7XG4gICAgcmV0dXJuIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgW25hdGl2ZUV2ZW50TmFtZSxcbiAgICAgIHdyYXBwZWRDYWxsYmFja10pO1xuICB9O1xuXG4gIHZhciBuYXRpdmVSZW1vdmVFdmVudExpc3RlbmVyID0gcHJvdG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgcHJvdG8ucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKG5hdGl2ZUV2ZW50TmFtZSwgY2IpIHtcbiAgICBpZiAobmF0aXZlRXZlbnROYW1lICE9PSBldmVudE5hbWVUb1dyYXAgfHwgIXRoaXMuX2V2ZW50TWFwXG4gICAgICAgIHx8ICF0aGlzLl9ldmVudE1hcFtjYl0pIHtcbiAgICAgIHJldHVybiBuYXRpdmVSZW1vdmVFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHZhciB1bndyYXBwZWRDYiA9IHRoaXMuX2V2ZW50TWFwW2NiXTtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRNYXBbY2JdO1xuICAgIHJldHVybiBuYXRpdmVSZW1vdmVFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMsIFtuYXRpdmVFdmVudE5hbWUsXG4gICAgICB1bndyYXBwZWRDYl0pO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgJ29uJyArIGV2ZW50TmFtZVRvV3JhcCwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpc1snX29uJyArIGV2ZW50TmFtZVRvV3JhcF07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKGNiKSB7XG4gICAgICBpZiAodGhpc1snX29uJyArIGV2ZW50TmFtZVRvV3JhcF0pIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZVRvV3JhcCxcbiAgICAgICAgICAgIHRoaXNbJ19vbicgKyBldmVudE5hbWVUb1dyYXBdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbJ19vbicgKyBldmVudE5hbWVUb1dyYXBdO1xuICAgICAgfVxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWVUb1dyYXAsXG4gICAgICAgICAgICB0aGlzWydfb24nICsgZXZlbnROYW1lVG9XcmFwXSA9IGNiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBVdGlsaXR5IG1ldGhvZHMuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZXh0cmFjdFZlcnNpb246IGV4dHJhY3RWZXJzaW9uLFxuICB3cmFwUGVlckNvbm5lY3Rpb25FdmVudDogd3JhcFBlZXJDb25uZWN0aW9uRXZlbnQsXG4gIGRpc2FibGVMb2c6IGZ1bmN0aW9uKGJvb2wpIHtcbiAgICBpZiAodHlwZW9mIGJvb2wgIT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJndW1lbnQgdHlwZTogJyArIHR5cGVvZiBib29sICtcbiAgICAgICAgICAnLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi4nKTtcbiAgICB9XG4gICAgbG9nRGlzYWJsZWRfID0gYm9vbDtcbiAgICByZXR1cm4gKGJvb2wpID8gJ2FkYXB0ZXIuanMgbG9nZ2luZyBkaXNhYmxlZCcgOlxuICAgICAgICAnYWRhcHRlci5qcyBsb2dnaW5nIGVuYWJsZWQnO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIG9yIGVuYWJsZSBkZXByZWNhdGlvbiB3YXJuaW5nc1xuICAgKiBAcGFyYW0geyFib29sZWFufSBib29sIHNldCB0byB0cnVlIHRvIGRpc2FibGUgd2FybmluZ3MuXG4gICAqL1xuICBkaXNhYmxlV2FybmluZ3M6IGZ1bmN0aW9uKGJvb2wpIHtcbiAgICBpZiAodHlwZW9mIGJvb2wgIT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJndW1lbnQgdHlwZTogJyArIHR5cGVvZiBib29sICtcbiAgICAgICAgICAnLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi4nKTtcbiAgICB9XG4gICAgZGVwcmVjYXRpb25XYXJuaW5nc18gPSAhYm9vbDtcbiAgICByZXR1cm4gJ2FkYXB0ZXIuanMgZGVwcmVjYXRpb24gd2FybmluZ3MgJyArIChib29sID8gJ2Rpc2FibGVkJyA6ICdlbmFibGVkJyk7XG4gIH0sXG5cbiAgbG9nOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChsb2dEaXNhYmxlZF8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5sb2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNob3dzIGEgZGVwcmVjYXRpb24gd2FybmluZyBzdWdnZXN0aW5nIHRoZSBtb2Rlcm4gYW5kIHNwZWMtY29tcGF0aWJsZSBBUEkuXG4gICAqL1xuICBkZXByZWNhdGVkOiBmdW5jdGlvbihvbGRNZXRob2QsIG5ld01ldGhvZCkge1xuICAgIGlmICghZGVwcmVjYXRpb25XYXJuaW5nc18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKG9sZE1ldGhvZCArICcgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSAnICsgbmV3TWV0aG9kICtcbiAgICAgICAgJyBpbnN0ZWFkLicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCcm93c2VyIGRldGVjdG9yLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHJlc3VsdCBjb250YWluaW5nIGJyb3dzZXIgYW5kIHZlcnNpb25cbiAgICogICAgIHByb3BlcnRpZXMuXG4gICAqL1xuICBkZXRlY3RCcm93c2VyOiBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgbmF2aWdhdG9yID0gd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3I7XG5cbiAgICAvLyBSZXR1cm5lZCByZXN1bHQgb2JqZWN0LlxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuYnJvd3NlciA9IG51bGw7XG4gICAgcmVzdWx0LnZlcnNpb24gPSBudWxsO1xuXG4gICAgLy8gRmFpbCBlYXJseSBpZiBpdCdzIG5vdCBhIGJyb3dzZXJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5uYXZpZ2F0b3IpIHtcbiAgICAgIHJlc3VsdC5icm93c2VyID0gJ05vdCBhIGJyb3dzZXIuJztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHsgLy8gRmlyZWZveC5cbiAgICAgIHJlc3VsdC5icm93c2VyID0gJ2ZpcmVmb3gnO1xuICAgICAgcmVzdWx0LnZlcnNpb24gPSBleHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgIC9GaXJlZm94XFwvKFxcZCspXFwuLywgMSk7XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKSB7XG4gICAgICAvLyBDaHJvbWUsIENocm9taXVtLCBXZWJ2aWV3LCBPcGVyYS5cbiAgICAgIC8vIFZlcnNpb24gbWF0Y2hlcyBDaHJvbWUvV2ViUlRDIHZlcnNpb24uXG4gICAgICByZXN1bHQuYnJvd3NlciA9ICdjaHJvbWUnO1xuICAgICAgcmVzdWx0LnZlcnNpb24gPSBleHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgIC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLCAyKTtcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS4oXFxkKykkLykpIHsgLy8gRWRnZS5cbiAgICAgIHJlc3VsdC5icm93c2VyID0gJ2VkZ2UnO1xuICAgICAgcmVzdWx0LnZlcnNpb24gPSBleHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgIC9FZGdlXFwvKFxcZCspLihcXGQrKSQvLCAyKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pKSB7IC8vIFNhZmFyaS5cbiAgICAgIHJlc3VsdC5icm93c2VyID0gJ3NhZmFyaSc7XG4gICAgICByZXN1bHQudmVyc2lvbiA9IGV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywgMSk7XG4gICAgfSBlbHNlIHsgLy8gRGVmYXVsdCBmYWxsdGhyb3VnaDogbm90IHN1cHBvcnRlZC5cbiAgICAgIHJlc3VsdC5icm93c2VyID0gJ05vdCBhIHN1cHBvcnRlZCBicm93c2VyLic7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG4iLCJleHBvcnQgY29uc3QgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCc7XG5leHBvcnQgY29uc3QgRENWX1NUUkFURUdZICA9ICdEQ1ZTdHJhdGVneSc7XG5leHBvcnQgY29uc3QgQVVESU8gPSAnYXVkaW8nO1xuZXhwb3J0IGNvbnN0ICBBTlNXRVIgPSAnYW5zd2VyJztcbmV4cG9ydCBjb25zdCBDSFJPTUUgPSAnY2hyb21lJzsiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIExpY2Vuc2UgaW5mbyBmb3Igd2VicnRjLWFkYXB0ZXIgbW9kdWxlIGFzc2VtYmxlZCBpbnRvIGpzIGJ1bmRsZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBMaWNlbnNlIGluZm8gZm9yIHNkcCBtb2R1bGUgYXNzZW1ibGVkIGludG8ganMgYnVuZGxlOlxuICpcbiAqIFNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9zZHBcbiAqL1xuaW1wb3J0ICd3ZWJydGMtYWRhcHRlcic7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBMaWNlbnNlIGluZm8gZm9yIHV1aWQgbW9kdWxlIGFzc2VtYmxlZCBpbnRvIGpzIGJ1bmRsZTpcbiAqXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxNiBSb2JlcnQgS2llZmZlciBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0IFJ0Y1Nlc3Npb24gZnJvbSAnLi9ydGNfc2Vzc2lvbic7XG5pbXBvcnQge1JUQ19FUlJPUlN9IGZyb20gJy4vcnRjX2NvbnN0JztcbmltcG9ydCBSdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkgZnJvbSAnLi9ydGNfcGVlcl9jb25uZWN0aW9uX2ZhY3RvcnknXG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkL3Y0JztcbmltcG9ydCBTdGFuZGFyZFN0cmF0ZWd5IGZyb20gXCIuL3N0cmF0ZWdpZXMvU3RhbmRhcmRTdHJhdGVneVwiO1xuaW1wb3J0IENpdHJpeFZESVN0cmF0ZWd5IGZyb20gXCIuL3N0cmF0ZWdpZXMvQ2l0cml4VkRJU3RyYXRlZ3lcIjtcbmltcG9ydCBEQ1ZXZWJSVENTdHJhdGVneSBmcm9tIFwiLi9zdHJhdGVnaWVzL0RDVldlYlJUQ1N0cmF0ZWd5XCI7XG5pbXBvcnQgT21uaXNzYVZESVN0cmF0ZWd5IGZyb20gXCIuL3N0cmF0ZWdpZXMvT21uaXNzYVZESVN0cmF0ZWd5XCI7XG5pbXBvcnQgUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGZyb20gXCIuL3J0Y19wZWVyX2Nvbm5lY3Rpb25fbWFuYWdlclwiO1xuXG5nbG9iYWwuY29ubmVjdCA9IGdsb2JhbC5jb25uZWN0IHx8IHt9O1xuZ2xvYmFsLmNvbm5lY3QuUlRDU2Vzc2lvbiA9IFJ0Y1Nlc3Npb247XG5nbG9iYWwuY29ubmVjdC5SVENFcnJvcnMgPSBSVENfRVJST1JTO1xuZ2xvYmFsLmNvbm5lY3QuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5ID0gUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5O1xuZ2xvYmFsLmNvbm5lY3QuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyID0gUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyO1xuZ2xvYmFsLmNvbm5lY3QudXVpZCA9IHV1aWQ7XG5nbG9iYWwuY29ubmVjdC5TdGFuZGFyZFN0cmF0ZWd5ID0gU3RhbmRhcmRTdHJhdGVneTtcbmdsb2JhbC5jb25uZWN0LkNpdHJpeFZESVN0cmF0ZWd5ID0gQ2l0cml4VkRJU3RyYXRlZ3k7XG5nbG9iYWwuY29ubmVjdC5EQ1ZXZWJSVENTdHJhdGVneSA9IERDVldlYlJUQ1N0cmF0ZWd5O1xuZ2xvYmFsLmNvbm5lY3QuT21uaXNzYVZESVN0cmF0ZWd5ID0gT21uaXNzYVZESVN0cmF0ZWd5O1xuXG5nbG9iYWwubGlseSA9IGdsb2JhbC5saWx5IHx8IHt9O1xuZ2xvYmFsLmxpbHkuUlRDU2Vzc2lvbiA9IFJ0Y1Nlc3Npb247XG5nbG9iYWwubGlseS5SVENFcnJvcnMgPSBSVENfRVJST1JTO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmV4cG9ydCBjb25zdCBUaW1lb3V0RXhjZXB0aW9uTmFtZSA9ICdUaW1lb3V0JztcbmV4cG9ydCBjbGFzcyBUaW1lb3V0IGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLm5hbWUgPSBUaW1lb3V0RXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBHdW1UaW1lb3V0RXhjZXB0aW9uTmFtZSA9ICdHdW1UaW1lb3V0JztcbmV4cG9ydCBjbGFzcyBHdW1UaW1lb3V0IGV4dGVuZHMgVGltZW91dCB7XG4gICAgY29uc3RydWN0b3IobXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMubmFtZSA9IEd1bVRpbWVvdXRFeGNlcHRpb25OYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IElsbGVnYWxQYXJhbWV0ZXJzRXhjZXB0aW9uTmFtZSA9ICdJbGxlZ2FsUGFyYW1ldGVycyc7XG5leHBvcnQgY2xhc3MgSWxsZWdhbFBhcmFtZXRlcnMgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMubmFtZSA9IElsbGVnYWxQYXJhbWV0ZXJzRXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBJbGxlZ2FsU3RhdGVFeGNlcHRpb25OYW1lID0gJ0lsbGVnYWxTdGF0ZSc7XG5leHBvcnQgY2xhc3MgSWxsZWdhbFN0YXRlIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLm5hbWUgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb25OYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uTmFtZSA9ICdVbnN1cHBvcnRlZE9wZXJhdGlvbic7XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRPcGVyYXRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMubmFtZSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBCdXN5RXhjZXB0aW9uTmFtZSA9ICdCdXN5RXhjZXB0aW9uJztcbmV4cG9ydCBjbGFzcyBCdXN5RXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLm5hbWUgPSBCdXN5RXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBDYWxsTm90Rm91bmRFeGNlcHRpb25OYW1lID0gJ0NhbGxOb3RGb3VuZEV4Y2VwdGlvbic7XG5leHBvcnQgY2xhc3MgQ2FsbE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLm5hbWUgPSBDYWxsTm90Rm91bmRFeGNlcHRpb25OYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uTmFtZSA9ICdSZXF1ZXN0VGltZW91dEV4Y2VwdGlvbic7XG5leHBvcnQgY2xhc3MgUmVxdWVzdFRpbWVvdXRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbk5hbWUgPSAnSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24nO1xuZXhwb3J0IGNsYXNzIEludGVybmFsU2VydmVyRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbk5hbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQmFkUmVxdWVzdEV4Y2VwdGlvbk5hbWUgPSAnQmFkUmVxdWVzdEV4Y2VwdGlvbic7XG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihtc2cpIHtcbiAgICAgICAgc3VwZXIobXNnKTtcbiAgICAgICAgdGhpcy5uYW1lID0gQmFkUmVxdWVzdEV4Y2VwdGlvbk5hbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSWRlbXBvdGVuY3lFeGNlcHRpb25OYW1lID0gJ0lkZW1wb3RlbmN5RXhjZXB0aW9uJztcbmV4cG9ydCBjbGFzcyBJZGVtcG90ZW5jeUV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gSWRlbXBvdGVuY3lFeGNlcHRpb25OYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFVua25vd25TaWduYWxpbmdFcnJvck5hbWUgPSAnVW5rbm93blNpZ25hbGluZ0Vycm9yJztcbmV4cG9ydCBjbGFzcyBVbmtub3duU2lnbmFsaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFVua25vd25TaWduYWxpbmdFcnJvck5hbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgQWNjZXNzRGVuaWVkRXhjZXB0aW9uTmFtZSA9ICdBY2Nlc3NEZW5pZWRFeGNlcHRpb24nO1xuZXhwb3J0IGNsYXNzIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gQWNjZXNzRGVuaWVkRXhjZXB0aW9uTmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBTaWduYWxpbmdDaGFubmVsRG93bkVycm9yTmFtZSA9ICdTaWduYWxpbmdDaGFubmVsRG93bkVycm9yJztcbmV4cG9ydCBjbGFzcyBTaWduYWxpbmdDaGFubmVsRG93bkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBTaWduYWxpbmdDaGFubmVsRG93bkVycm9yTmFtZTtcbiAgICB9XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBUaW1lb3V0IHdhaXRpbmcgZm9yIHNlcnZlciByZXNwb25zZSB0byBhY2NlcHQvaGFuZ3VwIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfQUNDRVBUX0JZRV9ERUxBWV9NUyA9IDIwMDA7XG4vKipcbiAqIFRpbWVvdXQgd2FpdGluZyBmb3Igc2VydmVyIHJlc3BvbnNlIHRvIGludml0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9JTlZJVEVfREVMQVlfTVMgPSA1MDAwO1xuLyoqXG4gKiAgRGVmYXVsdCB0aW1lb3V0IG9uIG9wZW5pbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTk5FQ1RfVElNRU9VVF9NUyA9IDEwMDAwO1xuLyoqXG4gKiBEZWZhdWx0IGljZSBjb2xsZWN0aW9uIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9JQ0VfVElNRU9VVF9NUyA9IDgwMDA7XG4vKipcbiAqIERlZmF1bHQgZ3VtIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGJlIGVuZm9yY2VkIGR1cmluZyBzdGFydCBvZiBhIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0dVTV9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBTT0ZUUEhPTkVfUk9VVEVfS0VZID0gXCJhd3Mvc29mdHBob25lXCI7XG5cbmV4cG9ydCBjb25zdCBJTlZJVEVfTUVUSE9EX05BTUUgPSBcImludml0ZVwiO1xuZXhwb3J0IGNvbnN0IEFDQ0VQVF9NRVRIT0RfTkFNRSA9IFwiYWNjZXB0XCI7XG5leHBvcnQgY29uc3QgQllFX01FVEhPRF9OQU1FID0gXCJieWVcIjtcbmV4cG9ydCBjb25zdCBQQ19CWUVfTUVUSE9EX05BTUUgPSBcIlBDQnllXCI7XG5leHBvcnQgY29uc3QgQ09OTkVDVF9DT05UQUNUX01FVEhPRF9OQU1FID0gXCJjb25uZWN0Q29udGFjdFwiO1xuZXhwb3J0IGNvbnN0IERJU0NPTk5FQ1RfQ09OVEFDVF9NRVRIT0RfTkFNRSA9IFwiZGlzY29ubmVjdENvbnRhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFJUQ19QRUVSX0NPTk5FQ1RJT05fQ09ORklHID0ge1xuICAgIGljZVRyYW5zcG9ydFBvbGljeTogJ3JlbGF5JyxcbiAgICBydGNwTXV4UG9saWN5OiAncmVxdWlyZScsXG4gICAgYnVuZGxlUG9saWN5OiAnYmFsYW5jZWQnLFxuICAgIHNkcFNlbWFudGljczogJ3VuaWZpZWQtcGxhbicsXG4gICAgZW5hYmxlRHRsc1NydHA6IHRydWVcbn07XG5cbmV4cG9ydCBjb25zdCBSVENfUEVFUl9DT05ORUNUSU9OX09QVElPTkFMX0NPTkZJRyA9IHtcbiAgICBvcHRpb25hbDogW1xuICAgICAgICB7XG4gICAgICAgICAgICBnb29nRHNjcDogdHJ1ZVxuXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIER0bHNTcnRwS2V5QWdyZWVtZW50OiB0cnVlXG4gICAgICAgIH1cbiAgICBdXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9JQ0VfQ0FORElEQVRFX1BPT0xfU0laRSA9IDE7XG5cbmV4cG9ydCBjb25zdCBSVENfUEVFUl9DT05ORUNUSU9OX0lETEVfVElNRU9VVF9NUyA9IDEqNjAqMTAwMDtcblxuZXhwb3J0IGNvbnN0IE5FVFdPUktfQ09OTkVDVElWSVRZX0NIRUNLX0lOVEVSVkFMX01TID0gMjUwO1xuXG5leHBvcnQgY29uc3QgQ0hST01FX1NVUFBPUlRFRF9WRVJTSU9OID0gNTk7XG5cbi8qKlxuICogUlRDIGVycm9yIG5hbWVzLlxuICovXG5leHBvcnQgY29uc3QgUlRDX0VSUk9SUyA9IHtcbiAgICBJQ0VfQ09MTEVDVElPTl9USU1FT1VUIDogJ0ljZSBDb2xsZWN0aW9uIFRpbWVvdXQnLFxuICAgIFVTRVJfQlVTWSA6ICdVc2VyIEJ1c3knLFxuICAgIFNJR05BTExJTkdfQ09OTkVDVElPTl9GQUlMVVJFIDogJ1NpZ25hbGxpbmcgQ29ubmVjdGlvbiBGYWlsdXJlJyxcbiAgICBTSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFIDogJ1NpZ25hbGxpbmcgSGFuZHNoYWtlIEZhaWx1cmUnLFxuICAgIFNFVF9SRU1PVEVfREVTQ1JJUFRJT05fRkFJTFVSRSA6ICdTZXQgUmVtb3RlIERlc2NyaXB0aW9uIEZhaWx1cmUnLFxuICAgIENSRUFURV9PRkZFUl9GQUlMVVJFIDogJ0NyZWF0ZSBPZmZlciBGYWlsdXJlJyxcbiAgICBTRVRfTE9DQUxfREVTQ1JJUFRJT05fRkFJTFVSRSA6ICdTZXQgTG9jYWwgRGVzY3JpcHRpb24gRmFpbHVyZScsXG4gICAgSU5WQUxJRF9SRU1PVEVfU0RQIDogJ0ludmFsaWQgUmVtb3RlIFNEUCcsXG4gICAgTk9fUkVNT1RFX0lDRV9DQU5ESURBVEUgOiAnTm8gUmVtb3RlIElDRSBDYW5kaWRhdGUnLFxuICAgIEdVTV9USU1FT1VUX0ZBSUxVUkUgOiAnR1VNIFRpbWVvdXQgRmFpbHVyZScsXG4gICAgR1VNX09USEVSX0ZBSUxVUkUgOiAnR1VNIE90aGVyIEZhaWx1cmUnLFxuICAgIENBTExfTk9UX0ZPVU5EOiAnQ2FsbCBOb3QgRm91bmQnLFxuICAgIEFDQ0VTU19ERU5JRUQ6ICdBY2Nlc3MgRGVuaWVkJ1xufTtcblxuZXhwb3J0IGNvbnN0IElDRV9DT05ORUNUSU9OX1NUQVRFID0ge1xuICAgIE5FVyA6ICduZXcnLFxuICAgIENIRUNLSU5HIDogJ2NoZWNraW5nJyxcbiAgICBDT05ORUNURUQgOiAnY29ubmVjdGVkJyxcbiAgICBDT01QTEVURUQgOiAnY29tcGxldGVkJyxcbiAgICBGQUlMRUQgOiAnZmFpbGVkJyxcbiAgICBESVNDT05ORUNURUQgOiAnZGlzY29ubmVjdGVkJyxcbiAgICBDTE9TRUQgOiAnY2xvc2VkJ1xufTtcblxuZXhwb3J0IGNvbnN0IFBFRVJfQ09OTkVDVElPTl9TVEFURSA9IHtcbiAgICBORVcgOiAnbmV3JyxcbiAgICBDT05ORUNUSU5HIDogJ2Nvbm5lY3RpbmcnLFxuICAgIENPTk5FQ1RFRCA6ICdjb25uZWN0ZWQnLFxuICAgIEZBSUxFRCA6ICdmYWlsZWQnLFxuICAgIERJU0NPTk5FQ1RFRCA6ICdkaXNjb25uZWN0ZWQnLFxuICAgIENMT1NFRCA6ICdjbG9zZWQnXG59O1xuXG5leHBvcnQgY29uc3QgUlRDX1NFU1NJT05fU1RBVEUgPSB7XG4gICAgVEFMS0lOR19TVEFURTogJ1RhbGtpbmdTdGF0ZScsXG4gICAgR1JBQl9MT0NBTF9NRURJQV9TVEFURTogJ0dyYWJMb2NhbE1lZGlhU3RhdGUnLFxuICAgIENSRUFURV9PRkZFUl9TVEFURTogJ0NyZWF0ZU9mZmVyU3RhdGUnLFxuICAgIFNFVF9MT0NBTF9TRVNTSU9OX0RFU0NSSVBUSU9OX1NUQVRFOiAnU2V0TG9jYWxTZXNzaW9uRGVzY3JpcHRpb25TdGF0ZScsXG4gICAgQ09OTkVDVF9TSUdOQUxJTkdfQU5EX0lDRV9DT0xMRUNUSU9OX1NUQVRFOiAnQ29ubmVjdFNpZ25hbGluZ0FuZEljZUNvbGxlY3Rpb25TdGF0ZScsXG4gICAgSU5WSVRFX0FOU1dFUl9TVEFURTogJ0ludml0ZUFuc3dlclN0YXRlJyxcbiAgICBBQ0NFUFRfU1RBVEU6ICdBY2NlcHRTdGF0ZScsXG4gICAgQ09OTkVDVF9DT05UQUNUX1NUQVRFOiAnQ29ubmVjdENvbnRhY3RTdGF0ZScsXG4gICAgQ0xFQU5fVVBfU1RBVEU6ICdDbGVhblVwU3RhdGUnLFxuICAgIERJU0NPTk5FQ1RFRF9TVEFURTogJ0Rpc2Nvbm5lY3RlZFN0YXRlJ1xufVxuXG5leHBvcnQgY29uc3QgQlJPV1NFUl9MSVNUID0gWydHb29nbGUgQ2hyb21lJywgJ01pY3Jvc29mdCBFZGdlJywgJ0ZpcmVmb3gnXTtcblxuZXhwb3J0IGNvbnN0IEZJUkVGT1ggPSBcIkZpcmVmb3hcIjtcbmV4cG9ydCBjb25zdCBBQ0lUVkVfU09GVFBIT05FX1RBQiA9IFwiQWN0aXZlIFNvZnRwaG9uZSBUYWJcIjsiLCJpbXBvcnQge2Fzc2VydFRydWUsIGhpdGNoLCBpc0Z1bmN0aW9ufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gICAgREVGQVVMVF9JQ0VfQ0FORElEQVRFX1BPT0xfU0laRSxcbiAgICBORVRXT1JLX0NPTk5FQ1RJVklUWV9DSEVDS19JTlRFUlZBTF9NUyxcbiAgICBSVENfUEVFUl9DT05ORUNUSU9OX0NPTkZJRyxcbiAgICBSVENfUEVFUl9DT05ORUNUSU9OX0lETEVfVElNRU9VVF9NUyxcbiAgICBSVENfUEVFUl9DT05ORUNUSU9OX09QVElPTkFMX0NPTkZJRyxcbiAgICBTT0ZUUEhPTkVfUk9VVEVfS0VZXG59IGZyb20gJy4vcnRjX2NvbnN0J1xuaW1wb3J0IENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSBmcm9tIFwiLi9zdHJhdGVnaWVzL0NDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IFN0YW5kYXJkU3RyYXRlZ3kgZnJvbSBcIi4vc3RyYXRlZ2llcy9TdGFuZGFyZFN0cmF0ZWd5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSB7XG5cbiAgICAvL3RyYW5zcG9ydEhhbmRsZSBtdXN0IGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggc2hvdWxkIHJldHVybiBhIHByb21pc2Ugd2hpY2ggaXMgZ29pbmcgdG8gcmV0dXJuIHRoZSBpY2VTZXJ2ZXJzLiBQbGVhc2UgcmVmZXIgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYnJ0Yy8jcnRjaWNlc2VydmVyLWRpY3Rpb25hcnkgZm9yIGljZVNlcnZlciBleGFtcGxlXG4gICAgLy9wdWJsaXNoRXJyb3IoZXJyb3JUeXBlLCBlcnJvck1lc3NhZ2UpIG11c3QgYmUgYSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCB3aWxsIHB1Ymxpc2ggdGhlIHBhc3NlZCBlcnJvciBtZXNzYWdlIHRvIGNsaWVudCBicm93c2VyXG4gICAgY29uc3RydWN0b3IobG9nZ2VyLCB3c3NNYW5hZ2VyLCBjbGllbnRJZCwgdHJhbnNwb3J0SGFuZGxlLCBwdWJsaXNoRXJyb3IsIHN0cmF0ZWd5ID0gbmV3IFN0YW5kYXJkU3RyYXRlZ3koKSkge1xuICAgICAgICBpZiAoIShzdHJhdGVneSBpbnN0YW5jZW9mIENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYSBzdHJhdGVneSBvZiB0eXBlIENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZScpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFRydWUoaXNGdW5jdGlvbih0cmFuc3BvcnRIYW5kbGUpLCAndHJhbnNwb3J0SGFuZGxlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICBhc3NlcnRUcnVlKGlzRnVuY3Rpb24ocHVibGlzaEVycm9yKSwgJ3B1Ymxpc2hFcnJvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgdGhpcy5fc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLl9jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLl93c3NNYW5hZ2VyID0gd3NzTWFuYWdlcjtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEljZUFjY2VzcyA9IHRyYW5zcG9ydEhhbmRsZTtcbiAgICAgICAgdGhpcy5fcHVibGlzaEVycm9yID0gcHVibGlzaEVycm9yO1xuICAgICAgICB0aGlzLl9lYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCA9IHRoaXMuX2lzRWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVdlYlNvY2tldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICB0aGlzLl9uZXR3b3JrQ29ubmVjdGl2aXR5Q2hlY2tlcigpO1xuXG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coXCJSVEMuanMgaXMgdXNpbmcgXCIgKyBzdHJhdGVneS5nZXRTdHJhdGVneU5hbWUoKSk7XG4gICAgfVxuXG4gICAgX2lzRWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJhdGVneS5faXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCgpO1xuICAgIH1cblxuICAgIC8vVGhpcyB3aWxsIGhhbmRsZSB0aGUgaWRsZUNvbm5lY3Rpb24gYW5kIHF1b3RhIGxpbWl0cyBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyXG4gICAgX3dlYlNvY2tldE1hbmFnZXJPbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQ7XG4gICAgICAgIGlmIChldmVudC5jb250ZW50KSB7XG4gICAgICAgICAgICBjb250ZW50ID0gSlNPTi5wYXJzZShldmVudC5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGVudCAmJiB0aGlzLl9jbGllbnRJZCA9PT0gY29udGVudC5jbGllbnRJZCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQuanNvblJwY01zZy5tZXRob2QgPT09IFwiaWRsZUNvbm5lY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQuanNvblJwY01zZy5tZXRob2QgPT09IFwicXVvdGFCcmVhY2hlZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhcIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0IGZvciB0aGUgY2xpZW50IFwiICsgdGhpcy5fY2xpZW50SWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlUlRDUGVlckNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wdWJsaXNoRXJyb3IoXCJtdWx0aXBsZV9zb2Z0cGhvbmVfYWN0aXZlX3Nlc3Npb25zXCIsIFwiTnVtYmVyIG9mIGFjdGl2ZSBzZXNzaW9ucyBhcmUgbW9yZSB0aGVuIGFsbG93ZWQgbGltaXQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2luaXRpYWxpemVXZWJTb2NrZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fd3NzTWFuYWdlci5zdWJzY3JpYmVUb3BpY3MoW1NPRlRQSE9ORV9ST1VURV9LRVldKTtcbiAgICAgICAgdGhpcy5fdW5TdWJzY3JpYmUgPSB0aGlzLl93c3NNYW5hZ2VyLm9uTWVzc2FnZShTT0ZUUEhPTkVfUk9VVEVfS0VZLCBoaXRjaCh0aGlzLCB0aGlzLl93ZWJTb2NrZXRNYW5hZ2VyT25NZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBtZXRob2Qgd2lsbCBjcmVhdGUgYW5kIHJldHVybiBuZXcgcGVlciBjb25uZWN0aW9uIGlmIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRpbmcgZWFybHkgaWNlIGNvbGxlY3Rpb24uXG4gICAgLy8gRm9yIHRoZSBzdXBwb3J0ZWQgYnJvd3NlciwgdGhpcyBtZXRob2Qgd2lsbCByZXF1ZXN0IGZvciBuZXcgcGVlckNvbm5lY3Rpb24gYWZ0ZXIgcmV0dXJuaW5nIHRoZSBleGlzdGluZyBwZWVyQ29ubmVjdGlvblxuICAgIGdldChpY2VTZXJ2ZXJzKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHBjID0gc2VsZi5faWRsZVBjO1xuICAgICAgICBzZWxmLl9pZGxlUGMgPSBudWxsO1xuICAgICAgICBpZiAocGMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcGMgPSBzZWxmLl9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbihpY2VTZXJ2ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpO1xuICAgICAgICBzZWxmLl9yZXF1ZXN0UGVlckNvbm5lY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIHBjO1xuICAgIH1cblxuICAgIGNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5faWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX2lkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQpO1xuICAgICAgICAgICAgc2VsZi5faWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVxdWVzdFBlZXJDb25uZWN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICghc2VsZi5fcGVlckNvbm5lY3Rpb25SZXF1ZXN0SW5GbGlnaHQgJiYgc2VsZi5fZWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHNlbGYuX3BlZXJDb25uZWN0aW9uUmVxdWVzdEluRmxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuX3JlcXVlc3RJY2VBY2Nlc3MoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9pZGxlUGMgPSBzZWxmLl9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3BlZXJDb25uZWN0aW9uUmVxdWVzdEluRmxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2lkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQgPSBzZXRUaW1lb3V0KGhpdGNoKHNlbGYsIHNlbGYuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbiksIFJUQ19QRUVSX0NPTk5FQ1RJT05fSURMRV9USU1FT1VUX01TKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcGVlckNvbm5lY3Rpb25SZXF1ZXN0SW5GbGlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9uZXR3b3JrQ29ubmVjdGl2aXR5Q2hlY2tlcigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5vbkxpbmUgJiYgc2VsZi5faWRsZVBjKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fbG9nZ2VyLmxvZyhcIk5ldHdvcmsgb2ZmbGluZS4gQ2xlYW5pbmcgdXAgZWFybHkgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9pZGxlUGMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9pZGxlUGMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBORVRXT1JLX0NPTk5FQ1RJVklUWV9DSEVDS19JTlRFUlZBTF9NUyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVJ0Y1BlZXJDb25uZWN0aW9uKGljZVNlcnZlcnMpIHtcbiAgICAgICAgdmFyIHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShSVENfUEVFUl9DT05ORUNUSU9OX0NPTkZJRykpO1xuICAgICAgICBydGNQZWVyQ29ubmVjdGlvbkNvbmZpZy5pY2VTZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICAgICAgcnRjUGVlckNvbm5lY3Rpb25Db25maWcuaWNlQ2FuZGlkYXRlUG9vbFNpemUgPSBERUZBVUxUX0lDRV9DQU5ESURBVEVfUE9PTF9TSVpFO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuX2NyZWF0ZVJ0Y1BlZXJDb25uZWN0aW9uKHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnLCBSVENfUEVFUl9DT05ORUNUSU9OX09QVElPTkFMX0NPTkZJRyk7XG4gICAgfVxuXG4gICAgX2NsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uKCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKFwic2Vzc2lvbiBpcyBpZGxlIGZyb20gbG9uZyB0aW1lLiBjbG9zaW5nIHRoZSBwZWVyIGNvbm5lY3Rpb24gZm9yIGNsaWVudCBcIiArIHRoaXMuX2NsaWVudElkKTtcbiAgICAgICAgdGhpcy5fY2xvc2VSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgIH1cblxuICAgIF9yZWZyZXNoUnRjUGVlckNvbm5lY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2lkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKFwiUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5IGlzIHJlZnJlc2hpbmcgcGVlciBjb25uZWN0aW9uIGZvciBjbGllbnQgXCIgKyB0aGlzLl9jbGllbnRJZCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RQZWVyQ29ubmVjdGlvbigpO1xuICAgIH1cblxuICAgIF9jbG9zZVJUQ1BlZXJDb25uZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faWRsZVBjKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGxlUGMuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2lkbGVQYyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGVhciBpZGxlIHBlZXIgY29ubmVjdGlvbiB0aW1lciBmaXJzdCBhbmQgdGhlbiBjbG9zZSB0aGUgaWRsZSBwZWVyIGNvbm5lY3Rpb24uXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coXCJjbG9zZSBtZXRob2QgaW52b2tlZC4gQ2xlYXIgdGltZXIgYW5kIGNsb3NlIGlkbGUgcGVlciBjb25uZWN0aW9uIFwiICsgdGhpcy5fY2xpZW50SWQpO1xuICAgICAgICB0aGlzLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpO1xuICAgICAgICB0aGlzLl9jbG9zZVJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgfVxufSIsImltcG9ydCB1dWlkIGZyb20gXCJ1dWlkL3Y0XCI7XG5pbXBvcnQgU3RhbmRhcmRTdHJhdGVneSBmcm9tIFwiLi9zdHJhdGVnaWVzL1N0YW5kYXJkU3RyYXRlZ3lcIjtcbmltcG9ydCBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UgZnJvbSBcIi4vc3RyYXRlZ2llcy9DQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2VcIjtcbmltcG9ydCBSdGNTZXNzaW9uIGZyb20gXCIuL3J0Y19zZXNzaW9uXCI7XG5pbXBvcnQge0lsbGVnYWxQYXJhbWV0ZXJzfSBmcm9tIFwiLi9leGNlcHRpb25zXCI7XG5pbXBvcnQge2Fzc2VydFRydWUsIGdldFVzZXJBZ2VudERhdGEsIGhpdGNoLCBpc0Z1bmN0aW9uLCBpc0ZpcmVmb3hCcm93c2VyLCB3cmFwTG9nZ2VyfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHtcbiAgICBERUZBVUxUX0lDRV9DQU5ESURBVEVfUE9PTF9TSVpFLFxuICAgIE5FVFdPUktfQ09OTkVDVElWSVRZX0NIRUNLX0lOVEVSVkFMX01TLCBSVENfUEVFUl9DT05ORUNUSU9OX0NPTkZJRyxcbiAgICBSVENfUEVFUl9DT05ORUNUSU9OX0lETEVfVElNRU9VVF9NUywgUlRDX1BFRVJfQ09OTkVDVElPTl9PUFRJT05BTF9DT05GSUcsXG4gICAgUlRDX1NFU1NJT05fU1RBVEUsXG4gICAgU09GVFBIT05FX1JPVVRFX0tFWSxcbiAgICBJQ0VfQ09OTkVDVElPTl9TVEFURVxufSBmcm9tIFwiLi9ydGNfY29uc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFBlZXJDb25uZWN0aW9uTWFuYWdlciB3aGljaCBtYW5hZ2VzIHRoZSBsaWZlIGN5Y2xlIG9mIFJUQ1Nlc3Npb24gYW5kIHBlZXIgY29ubmVjdGlvblxuICAgICAqIEl0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2hlbiBhZ2VudCBsb2dzIGludG8gdGhlIENDUCBhbmQgYmUgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGFuZCBjbG9zaW5nIHBlZXIgY29ubmVjdGlvbiBhbmQgUlRDU2Vzc2lvblxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hbGluZ1VyaSAtIHNpZ25hbGluZ1VyaSBnZXQgZnJvbSBjYWxsIGNvbmZpZy4gKG9wdGlvbmFsLCBwYXJhbSBmb3IgQ0NQdjEpXG4gICAgICogQHBhcmFtIHsqfSBpY2VTZXJ2ZXJzIC0gaWNlIHNlcnZlciBjcmVkZW50aWFsc1xuICAgICAqIEBwYXJhbSB7Kn0gdHJhbnNwb3J0SGFuZGxlIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyBnb2luZyB0byByZXR1cm4gdGhlIGljZVNlcnZlcnMuXG4gICAgICogQHBhcmFtIHsqfSBwdWJsaXNoRXJyb3IgLSBhIGZ1bmN0aW9uIHdoaWNoIHB1Ymxpc2hzIGVycm9ycyBvbiBDQ1AuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudElkIC0gdXVpZCBmb3Igc29mdHBob25lIGNsaWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWN0VG9rZW4gLSBjb250YWN0b2tlbiBzZW50IGZyb20gc2VydmljZSBzaWRlICAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxvZ2dlciAtIEFuIG9iamVjdCBwcm92aWRlcyBsb2dnaW5nIGZ1bmN0aW9ucywgc3VjaCBhcyBjb25zb2xlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RJZCAtIENvbnRhY3RJZCB3aGljaCB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSBzZXNzaW9uLiAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3Rpb25JZCAtIFJlcHJlc2VudHMgbWVkaWEgY29ubmVjdGlvbiBpZCAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHdzc01hbmFnZXIgLSB3ZWJzb2NrZXQgbWFuYWdlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHJhdGVneSAtIFZESSBzdHJhdGVneSBpbmRpY2F0ZXMgd2hpY2ggV2ViUlRDIFNESyB0byB1c2U6IHN0YW5kYXJkLCBDaXRyaXgsIFdvcmtTcGFjZSAob3B0aW9uYWwsIGRlZmF1bHQgdG8gYmUgc3RhbmRhcmRTdHJhdGVneSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUFBDRW5hYmxlZCAtIGZsYWcgaW5kaWNhdGVzIGlmIHBlcnNpc3RlbnQgY29ubmVjdGlvbiBpcyBlbmFibGVkIGluIGFnZW50IGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnJvd3NlcklkIC0gYnJvd3NlciBpZGVudGlmaWVyIHJlYWQgZnJvbSBsb2NhbCBzdG9yYWdlIGFuZCBpcyB1c2VkIGZvciBicm93c2VyIHJlZnJlc2ggYW5kIElDRSByZXN0YXJ0XG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nVXJpLCBpY2VTZXJ2ZXJzLCB0cmFuc3BvcnRIYW5kbGUsIHB1Ymxpc2hFcnJvciwgY2xpZW50SWQsIGNvbnRhY3RUb2tlbiwgbG9nZ2VyLCBjb250YWN0SWQsIGNvbm5lY3Rpb25JZCwgd3NzTWFuYWdlciwgc3RyYXRlZ3kgPSBuZXcgU3RhbmRhcmRTdHJhdGVneSgpLCBpc1BQQ0VuYWJsZWQsIGJyb3dzZXJJZCkge1xuICAgICAgICAvLyBDaGVjayBpZiBhIHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyIGhhcyBhbHJlYWR5IGV4aXN0ZWRcbiAgICAgICAgaWYgKCFSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRyYW5zcG9ydEhhbmRsZSBpcyBmdW5jdGlvblxuICAgICAgICAgICAgYXNzZXJ0VHJ1ZShpc0Z1bmN0aW9uKHRyYW5zcG9ydEhhbmRsZSksICd0cmFuc3BvcnRIYW5kbGUgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBwdWJsaXNoRXJyb3IgaXMgZnVuY3Rpb25cbiAgICAgICAgICAgIGFzc2VydFRydWUoaXNGdW5jdGlvbihwdWJsaXNoRXJyb3IpLCAncHVibGlzaEVycm9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgbG9nZ2VyIGlzIHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAoIWxvZ2dlciB8fCB0eXBlb2YgbG9nZ2VyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsUGFyYW1ldGVycygnbG9nZ2VyIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjb250YWN0SWQgaXMgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmICghY29udGFjdElkKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm90IHByb3ZpZGVkIHdpbGwgY3JlYXRlIGFuIHV1aWRcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsSWQgPSB1dWlkKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxJZCA9IGNvbnRhY3RJZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBub3QgcHJvdmlkZWQgd2lsbCBjcmVhdGUgYW4gdXVpZFxuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25JZCA9IHV1aWQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvbklkID0gY29ubmVjdGlvbklkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShzdHJhdGVneSBpbnN0YW5jZW9mIENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGEgc3RyYXRlZ3kgb2YgdHlwZSBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICAgICAgICAgIHRoaXMuX3dzc01hbmFnZXIgPSB3c3NNYW5hZ2VyO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nVXJpID0gc2lnbmFsaW5nVXJpO1xuICAgICAgICAgICAgdGhpcy5faWNlU2VydmVycyA9IGljZVNlcnZlcnM7XG4gICAgICAgICAgICB0aGlzLl9jb250YWN0VG9rZW4gPSBjb250YWN0VG9rZW47XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbExvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlciA9IHdyYXBMb2dnZXIodGhpcy5fb3JpZ2luYWxMb2dnZXIsICcnLCAnUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJyk7XG4gICAgICAgICAgICB0aGlzLl9pc1BQQ0VuYWJsZWQgPSBpc1BQQ0VuYWJsZWQ7XG4gICAgICAgICAgICB0aGlzLl9pc1JUUFNBbGxvd2xpc3RlZCA9IGZhbHNlOyAvLyBSVFBTQWxsb3dsaXN0ZWQgZmxhZyBpcyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2Jyb3dzZXJJZCA9IGJyb3dzZXJJZDtcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudElkID0gY2xpZW50SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJY2VBY2Nlc3MgPSB0cmFuc3BvcnRIYW5kbGU7XG4gICAgICAgICAgICB0aGlzLl9wdWJsaXNoRXJyb3IgPSBwdWJsaXNoRXJyb3I7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplV2ViU29ja2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFBlZXJDb25uZWN0aW9uKCkudGhlbigoKSA9PiB7IC8vIHJlcXVlc3QgcGVlciBjb25uZWN0aW9uIHdoZW4gaW5pdGlhbGl6aW5nIFJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkgJiYgIXRoaXMuX2NvbnRhY3RUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbkNvbm5lY3RQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9uZXR3b3JrQ29ubmVjdGl2aXR5Q2hlY2tlcigpO1xuICAgICAgICAgICAgUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmluc3RhbmNlID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKFwiSW5pdGlhbGl6aW5nIFBlZXIgQ29ubmVjdGlvbiBNYW5hZ2VyLi4uXCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhcIlJUQy5qcyBpcyB1c2luZyBcIiArIHN0cmF0ZWd5LmdldFN0cmF0ZWd5TmFtZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiUGVlciBDb25uZWN0aW9uIE1hbmFnZXIgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJyb3dzZXJUYWJDbG9zZUV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgcmV0dXJuIFJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICAvKiogQ2hlY2sgaWYgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIHN0YW5kYnkvZWFybHkgcGVlciBjb25uZWN0aW9uIG9yIG5vdC5cbiAgICAgKiBJZiBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiBpcyBlbmFibGVkLCBzdGFuZGJ5IHBlZXIgd2lsbCBiZSBkaXNhYmxlZC5cbiAgICAgKiBAcmV0dXJucyB7Knxib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzRWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1BlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuX2lzRWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyB0aGUgaWRsZUNvbm5lY3Rpb24gYW5kIHF1b3RhIGxpbWl0cyBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF93ZWJTb2NrZXRNYW5hZ2VyT25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICAgIGxldCBjb250ZW50O1xuICAgICAgICBpZiAoZXZlbnQuY29udGVudCkge1xuICAgICAgICAgICAgY29udGVudCA9IEpTT04ucGFyc2UoZXZlbnQuY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgdGhpcy5fY2xpZW50SWQgPT09IGNvbnRlbnQuY2xpZW50SWQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50Lmpzb25ScGNNc2cubWV0aG9kID09PSBcImlkbGVDb25uZWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50Lmpzb25ScGNNc2cubWV0aG9kID09PSBcInF1b3RhQnJlYWNoZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2coXCJOdW1iZXIgb2YgYWN0aXZlIHNlc3Npb25zIGFyZSBtb3JlIHRoZW4gYWxsb3dlZCBsaW1pdCBmb3IgdGhlIGNsaWVudCBcIiArIHRoaXMuX2NsaWVudElkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUlkbGVSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3B1Ymxpc2hFcnJvcihcIm11bHRpcGxlX3NvZnRwaG9uZV9hY3RpdmVfc2Vzc2lvbnNcIiwgXCJOdW1iZXIgb2YgYWN0aXZlIHNlc3Npb25zIGFyZSBtb3JlIHRoZW4gYWxsb3dlZCBsaW1pdC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1vbml0b3JzIHRoZSBTb2Z0cGhvbmUgd2ViU29ja2V0IGV2ZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVXZWJTb2NrZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fd3NzTWFuYWdlci5zdWJzY3JpYmVUb3BpY3MoW1NPRlRQSE9ORV9ST1VURV9LRVldKTtcbiAgICAgICAgdGhpcy5fdW5TdWJzY3JpYmUgPSB0aGlzLl93c3NNYW5hZ2VyLm9uTWVzc2FnZShTT0ZUUEhPTkVfUk9VVEVfS0VZLCBoaXRjaCh0aGlzLCB0aGlzLl93ZWJTb2NrZXRNYW5hZ2VyT25NZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZ2V0IFJUQ1BlZXJDb25uZWN0aW9uLlxuICAgICAqIFdoZW4gcGVyc2lzdGVudCBjb25uZWN0aW9uIGlzIGVuYWJsZWQuIElmIG5vIFJUQ1BlZXJDb25uZWN0aW9uIGV4aXN0cywgaXQgd2lsbCBjcmVhdGUgYSBuZXcgUlRDUGVlckNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtSVENQZWVyQ29ubmVjdGlvbn1cbiAgICAgKi9cbiAgICBnZXRQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgcGM7XG4gICAgICAgIGlmIChzZWxmLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHBjID0gc2VsZi5fcGM7XG4gICAgICAgICAgICBpZiAocGMgPT09IG51bGwgfHwgcGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBjID0gc2VsZi5fY3JlYXRlUnRjUGVlckNvbm5lY3Rpb24odGhpcy5faWNlU2VydmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYyA9IHNlbGYuX2lkbGVQYztcbiAgICAgICAgICAgIHNlbGYuX2lkbGVQYyA9IG51bGw7XG4gICAgICAgICAgICBpZiAocGMgPT09IG51bGwgfHwgcGMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBjID0gc2VsZi5fY3JlYXRlUnRjUGVlckNvbm5lY3Rpb24odGhpcy5faWNlU2VydmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpO1xuICAgICAgICAgICAgc2VsZi5yZXF1ZXN0UGVlckNvbm5lY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9wYyA9IHBjO1xuICAgICAgICByZXR1cm4gcGM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgc3RhbmRieS9pZGxlIHBlZXIgY29ubmVjdGlvbiByZWZyZXNoIHRpbWVyXG4gICAgICovXG4gICAgY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLl9pZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5faWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCk7XG4gICAgICAgICAgICBzZWxmLl9pZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGVyc2lzdGVudCBjb25uZWN0aW9uIGlzIGVuYWJsZWQsIGl0IGNyZWF0ZXMgdGhlIHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uXG4gICAgICogV2hlbiBwZXJzaXN0ZW50IGNvbm5lY3Rpb24gaXMgZGlzYWJsZWQgYW5kIGVhcmx5IG1lZGlhIGNvbm5lY3Rpb24gaXMgc3VwcG9ydGVkLFxuICAgICAqIGl0IGNyZWF0ZXMgYSBzdGFuZGJ5L2lkZWFsIHBlZXIgY29ubmVjdGlvbiB3aGljaCBjYW4gYmUgdXNlZCB3aGVuIGEgY2FsbCBhcnJpdmVzXG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdFBlZXJDb25uZWN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX2Vhcmx5TWVkaWFDb25uZWN0aW9uU3VwcG9ydGVkID0gc2VsZi5faXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCgpO1xuICAgICAgICBpZiAoc2VsZi5pc1BlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZCgpICYmICFzZWxmLl9jb250YWN0VG9rZW4pIHtcbiAgICAgICAgICAgIC8vIFdoZW4gcmVxdWVzdGluZyBhIHBlZXIgY29ubmVjdGlvbiB3aXRoIHBlcnNpc3RlbnQgY29ubmVjdGlvbiBlbmFibGVkLCBpdCBvbmx5IGNyZWF0ZXMgbmV3IHBjIGlmIG5vIGNvbnRhY3QgZXhpc3QuXG4gICAgICAgICAgICBzZWxmLl9sb2dnZXIuaW5mbyhcIlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciBpbml0aWF0ZXMgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbGYuX3JlcXVlc3RJY2VBY2Nlc3MoKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9sb2dnZXIuaW5mbyhcIlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciByZXF1ZXN0IElDRSBhY2Nlc3MgZmFpbGVkIGZvciBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiBjcmVhdGlvbi4gXCIsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZi5faWNlU2VydmVycyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgc2VsZi5fcGMgPSBzZWxmLl9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbihyZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKCFzZWxmLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkpICYmICFzZWxmLl9wZWVyQ29ubmVjdGlvblJlcXVlc3RJbkZsaWdodCAmJiBzZWxmLl9lYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCkge1xuICAgICAgICAgICAgc2VsZi5fbG9nZ2VyLmluZm8oXCJSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIgaW5pdGlhdGVzIGlkbGUgcGVlciBjb25uZWN0aW9uIGZvciBub24tcGVyc2lzdGVudCBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgc2VsZi5fcGVlckNvbm5lY3Rpb25SZXF1ZXN0SW5GbGlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5fcmVxdWVzdEljZUFjY2VzcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5faWRsZVBjID0gc2VsZi5fY3JlYXRlUnRjUGVlckNvbm5lY3Rpb24ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHNlbGYuX3BlZXJDb25uZWN0aW9uUmVxdWVzdEluRmxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi5faWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCA9IHNldFRpbWVvdXQoaGl0Y2goc2VsZiwgc2VsZi5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uKSwgUlRDX1BFRVJfQ09OTkVDVElPTl9JRExFX1RJTUVPVVRfTVMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIHNlbGYuX3BlZXJDb25uZWN0aW9uUmVxdWVzdEluRmxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9sb2dnZXIuaW5mbyhcIlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciByZXF1ZXN0IElDRSBhY2Nlc3MgZmFpbGVkIGZvciBpZGxlIHBlZXIgY29ubmVjdGlvbiBjcmVhdGlvbi4gXCIsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgbmV0d29yayBjb25uZWN0aXZpdHkgaW4gZXZlcnkgMjUwIG1zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbmV0d29ya0Nvbm5lY3Rpdml0eUNoZWNrZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lICYmIHNlbGYuX2lkbGVQYykge1xuICAgICAgICAgICAgICAgIHNlbGYuX2xvZ2dlci5sb2coXCJOZXR3b3JrIG9mZmxpbmUuIENsZWFuaW5nIHVwIGVhcmx5IGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgc2VsZi5faWRsZVBjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5faWRsZVBjID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgTkVUV09SS19DT05ORUNUSVZJVFlfQ0hFQ0tfSU5URVJWQUxfTVMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBSVENQZWVyQ29ubmVjdGlvbiB2aWEgV2ViUlRDIEFQSSBvciBWREkgV2ViUlRDIHJlZGlyZWN0aW9uIFNES1xuICAgICAqIEBwYXJhbSBpY2VTZXJ2ZXJzXG4gICAgICogQHJldHVybnMge1JUQ1BlZXJDb25uZWN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZVJ0Y1BlZXJDb25uZWN0aW9uKGljZVNlcnZlcnMpIHtcbiAgICAgICAgdmFyIHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShSVENfUEVFUl9DT05ORUNUSU9OX0NPTkZJRykpO1xuICAgICAgICBydGNQZWVyQ29ubmVjdGlvbkNvbmZpZy5pY2VTZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICAgICAgcnRjUGVlckNvbm5lY3Rpb25Db25maWcuaWNlQ2FuZGlkYXRlUG9vbFNpemUgPSBERUZBVUxUX0lDRV9DQU5ESURBVEVfUE9PTF9TSVpFO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuX2NyZWF0ZVJ0Y1BlZXJDb25uZWN0aW9uKHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnLCBSVENfUEVFUl9DT05ORUNUSU9OX09QVElPTkFMX0NPTkZJRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIHN0YW5kYnkvSWRsZSBwZWVyIGNvbm5lY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZyhcInNlc3Npb24gaXMgaWRsZSBmcm9tIGxvbmcgdGltZS4gY2xvc2luZyB0aGUgcGVlciBjb25uZWN0aW9uIGZvciBjbGllbnQgXCIgKyB0aGlzLl9jbGllbnRJZCk7XG4gICAgICAgIHRoaXMuX2Nsb3NlSWRsZVJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBzdGFuZGJ5L2lkZWFsIHBlZXIgY29ubmVjdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5faWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coXCJSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIgaXMgcmVmcmVzaGluZyBwZWVyIGNvbm5lY3Rpb24gZm9yIGNsaWVudCBcIiArIHRoaXMuX2NsaWVudElkKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UGVlckNvbm5lY3Rpb24oKTtcbiAgICB9XG5cblxuICAgIF9jbG9zZUlkbGVSVENQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lkbGVQYykge1xuICAgICAgICAgICAgdGhpcy5faWRsZVBjLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9pZGxlUGMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgaWRsZSBwZWVyIGNvbm5lY3Rpb24gdGltZXIgZmlyc3QgYW5kIHRoZW4gY2xvc2UgdGhlIGlkbGUgcGVlciBjb25uZWN0aW9uLlxuICAgIGNsb3NlRWFybHlNZWRpYUNvbm5lY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2coXCJjbG9zZSBtZXRob2QgaW52b2tlZC4gQ2xlYXIgdGltZXIgYW5kIGNsb3NlIGlkbGUgcGVlciBjb25uZWN0aW9uIFwiICsgdGhpcy5fY2xpZW50SWQpO1xuICAgICAgICB0aGlzLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpO1xuICAgICAgICB0aGlzLl9jbG9zZUlkbGVSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgIH1cblxuICAgIGdldCBzaWduYWxpbmdVcmkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmdVcmk7XG4gICAgfVxuICAgIHNldCBzaWduYWxpbmdVcmkoc2lnbmFsaW5nVXJpKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ1VyaSA9IHNpZ25hbGluZ1VyaTtcbiAgICB9XG5cbiAgICBnZXQgaWNlU2VydmVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljZVNlcnZlcnM7XG4gICAgfVxuICAgIHNldCBpY2VTZXJ2ZXJzKGljZVNlcnZlcnMpIHtcbiAgICAgICAgdGhpcy5faWNlU2VydmVycyA9IGljZVNlcnZlcnM7XG4gICAgfVxuXG4gICAgZ2V0IGNvbnRhY3RUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhY3RUb2tlbjtcbiAgICB9XG4gICAgc2V0IGNvbnRhY3RUb2tlbihjb250YWN0VG9rZW4pIHtcbiAgICAgICAgdGhpcy5fY29udGFjdFRva2VuID0gY29udGFjdFRva2VuO1xuICAgIH1cblxuICAgIGdldCBsb2dnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2dnZXI7XG4gICAgfVxuICAgIHNldCBsb2dnZXIobG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IGxvZ2dlcjtcbiAgICB9XG5cbiAgICBnZXQgY2FsbElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbElkO1xuICAgIH1cbiAgICBzZXQgY2FsbElkKGNhbGxJZCkge1xuICAgICAgICB0aGlzLl9jYWxsSWQgPSBjYWxsSWQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbm5lY3Rpb25JZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25JZDtcbiAgICB9XG4gICAgc2V0IGNvbm5lY3Rpb25JZChjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbklkID0gY29ubmVjdGlvbklkO1xuICAgIH1cblxuICAgIGdldCB3c3NNYW5hZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd3NzTWFuYWdlcjtcbiAgICB9XG4gICAgc2V0IHdzc01hbmFnZXIod3NzTWFuYWdlcikge1xuICAgICAgICB0aGlzLl93c3NNYW5hZ2VyID0gd3NzTWFuYWdlcjtcbiAgICB9XG5cbiAgICBnZXQgc3RyYXRlZ3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJhdGVneTtcbiAgICB9XG4gICAgc2V0IHN0cmF0ZWd5KHN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuX3N0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgfVxuXG4gICAgZ2V0IGlzUFBDRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUFBDRW5hYmxlZDtcbiAgICB9XG4gICAgc2V0IGlzUFBDRW5hYmxlZChpc1BQQ0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5faXNQUENFbmFibGVkID0gaXNQUENFbmFibGVkO1xuICAgIH1cblxuICAgIGdldCBpc1JUUFNBbGxvd2xpc3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUlRQU0FsbG93bGlzdGVkO1xuICAgIH1cbiAgICBzZXQgaXNSVFBTQWxsb3dsaXN0ZWQoaXNSVFBTQWxsb3dsaXN0ZWQpIHtcbiAgICAgICAgdGhpcy5faXNSVFBTQWxsb3dsaXN0ZWQgPSBpc1JUUFNBbGxvd2xpc3RlZDtcbiAgICB9XG5cblxuICAgIGdldCBicm93c2VySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9icm93c2VySWQ7XG4gICAgfVxuICAgIHNldCBicm93c2VySWQoYnJvd3NlcklkKSB7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJJZCA9IGJyb3dzZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgcGVlckNvbm5lY3Rpb25JZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uSWQ7XG4gICAgfVxuXG4gICAgc2V0IHBlZXJDb25uZWN0aW9uSWQocGVlckNvbm5lY3Rpb25JZCkge1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbklkID0gcGVlckNvbm5lY3Rpb25JZDtcbiAgICB9XG5cbiAgICBnZXQgcGVlckNvbm5lY3Rpb25Ub2tlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uVG9rZW47XG4gICAgfVxuXG4gICAgc2V0IHBlZXJDb25uZWN0aW9uVG9rZW4ocGVlckNvbm5lY3Rpb25Ub2tlbikge1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvblRva2VuID0gcGVlckNvbm5lY3Rpb25Ub2tlbjtcbiAgICB9XG5cbiAgICBnZXQgaW5hY3Rpdml0eUR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5hY3Rpdml0eUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHNldCBpbmFjdGl2aXR5RHVyYXRpb24oaW5hY3Rpdml0eUR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuX2luYWN0aXZpdHlEdXJhdGlvbiA9IGluYWN0aXZpdHlEdXJhdGlvbjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSBhIHJ0Y1Nlc3Npb24gb2JqZWN0IGlmIG5vbmUgZXhpc3RzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSdGNTZXNzaW9ufSBydGNTZXNzaW9uXG4gICAgICovXG4gICAgY3JlYXRlU2Vzc2lvbihjYWxsSWQsIGljZVNlcnZlcnMsIGNvbnRhY3RUb2tlbiwgY29ubmVjdGlvbklkLCB3c3NNYW5hZ2VyLCBydGNKc1N0cmF0ZWd5ID0gbmV3IFN0YW5kYXJkU3RyYXRlZ3koKSkge1xuICAgICAgICB0aGlzLl9jYWxsSWQgPSBjYWxsSWQgPyBjYWxsSWQgOiB0aGlzLl9jYWxsSWQ7XG4gICAgICAgIHRoaXMuX2ljZVNlcnZlcnMgPSBpY2VTZXJ2ZXJzID8gaWNlU2VydmVycyA6IHRoaXMuX2ljZVNlcnZlcnM7XG4gICAgICAgIHRoaXMuX2NvbnRhY3RUb2tlbiA9IGNvbnRhY3RUb2tlbiA/IGNvbnRhY3RUb2tlbiA6IHRoaXMuX2NvbnRhY3RUb2tlbjtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbklkID0gY29ubmVjdGlvbklkID8gY29ubmVjdGlvbklkIDogdGhpcy5fY29ubmVjdGlvbklkO1xuICAgICAgICB0aGlzLl93c3NNYW5hZ2VyID0gd3NzTWFuYWdlciA/IHdzc01hbmFnZXIgOiB0aGlzLl93c3NNYW5hZ2VyO1xuICAgICAgICB0aGlzLl9zdHJhdGVneSA9IHJ0Y0pzU3RyYXRlZ3kgPyBydGNKc1N0cmF0ZWd5IDogdGhpcy5fc3RyYXRlZ3k7XG5cbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJQZWVyQ29ubmVjdGlvbk1hbmFnZXIgY3JlYXRlcyBSdGNTZXNzaW9uXCIpO1xuICAgICAgICB0aGlzLl9sb2dnZXIgPSB3cmFwTG9nZ2VyKHRoaXMuX29yaWdpbmFsTG9nZ2VyLCB0aGlzLl9jYWxsSWQsICdSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXInKTtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbiA9IG5ldyBSdGNTZXNzaW9uKFxuICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nVXJpLFxuICAgICAgICAgICAgdGhpcy5faWNlU2VydmVycyxcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhY3RUb2tlbixcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlcixcbiAgICAgICAgICAgIHRoaXMuX2NhbGxJZCxcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25JZCxcbiAgICAgICAgICAgIHRoaXMuX3dzc01hbmFnZXIsXG4gICAgICAgICAgICB0aGlzLl9zdHJhdGVneSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBvbnRyYWNrIGV2ZW50IHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgb25jZSBkdXJpbmcgdGhlIHByb2Nlc3Mgb2YgZXN0YWJsaXNoaW5nIHRoZSBwZXJzaXN0ZW50IGNvbm5lY3Rpb24uXG4gICAgICAgIC8vIFRoaXMgZXZlbnQgd29uJ3QgYmUgdHJpZ2dlciB3aGVuIGEgY2FsbCBhcnJpdmVzIGF0IENDUCB3aXRoIHBlcnNpc3RlbnQgY29ubmVjdGlvbiBlbmFibGVkXG4gICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gYXR0YWNoIHJlbW90ZUF1ZGlvRWxlbWVudCB3aGVuIHdlIGluaXRpYXRlIHRoZSBwZXJzaXN0ZW50IGNvbm5lY3Rpb24uIFRPRE86IFdlIGNhbiBtb3ZlIHRoaXMgdG8gU3RyZWFtc0pTIGFzIGEgZm9sbG93dXAgQ1JcbiAgICAgICAgaWYgKHRoaXMuaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5yZW1vdGVBdWRpb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLWF1ZGlvJykgfHwgd2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZS1hdWRpbycpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3RlQXVkaW9FbGVtZW50ID0gdGhpcy5fcnRjU2Vzc2lvbi5yZW1vdGVBdWRpb0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHJ0Y1Nlc3Npb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSdGNTZXNzaW9ufSBydGNTZXNzaW9uIG1hbmFnZXMgYnkgdGhlIHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyXG4gICAgICovXG4gICAgZ2V0U2Vzc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWltcyB0byBjcmVhdGUgYSBuZXcgcGVlciBjb25uZWN0aW9uIG9yIGNvbm5lY3QgdG8gdGhlIGV4aXN0aW5nIHBlZXIgY29ubmVjdGlvblxuICAgICAqIHdoaWNoIHdpbGwgc3RhcnQgdGhlIHNpZ25hbGluZyBwcm9jZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JUQ1BlZXJDb25uZWN0aW9ufSBwYyAtIEFuIGV4aXN0aW5nIHBlZXIgY29ubmVjdGlvbiwgaXQgY291bGQgYmUgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb25cbiAgICAgKiBvciBhIHN0YW5kYnkgcGVlciBjb25uZWN0aW9uIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBwcmV2aW91cyBydGNTZXNzaW9uLmNvbm5lY3QgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb3Igbm90XG4gICAgICAgIGlmIChzZWxmLl9ydGNTZXNzaW9uQ29ubmVjdFByb21pc2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5fcnRjU2Vzc2lvbkNvbm5lY3RQcm9taXNlO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IHNvZnRwaG9uZU1hbmdlciB0aGUgY3VycmVudCBydGNTZXNzaW9uIGlzIGZhaWxlZCB0byB0cmlnZ2VyIHRoZSByZXRyeSBzdHJhdGVneSBvbiBTb2Z0cGhvbmVNYW5hZ2VyIHNpZGVcbiAgICAgICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9vblNlc3Npb25GYWlsZWQodGhpcy5fcnRjU2Vzc2lvbiwgZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9jb250YWN0VG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGYuX2ljZVNlcnZlcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGYuX2NhbGxJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uQ29ubmVjdFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgaW5hY3Rpdml0eSB0aW1lciBiZWZvcmUgUlRDU2Vzc2lvbiBzdGF0ZSB0cmFuc2l0aW9uXG4gICAgICAgIGlmIChzZWxmLl9pbmFjdGl2aXR5VGltZXIpIHtcbiAgICAgICAgICAgIHNlbGYuY2xlYXJJbmFjdGl2aXR5VGltZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBzZXNzaW9uIGZhaWxlZCBldmVudCBoYW5kbGVyXG4gICAgICAgIGNvbnN0IG9uU2Vzc2lvbkZhaWxlZEhhbmRsZXIgPSBzZWxmLl9ydGNTZXNzaW9uLl9vblNlc3Npb25GYWlsZWQ7XG4gICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24ub25TZXNzaW9uRmFpbGVkID0gZnVuY3Rpb24gKHJ0Y1Nlc3Npb24sIHJlYXNvbikge1xuICAgICAgICAgICAgc2VsZi5sb2dnZXIuZXJyb3IoXCJQZWVyIGNvbm5lY3Rpb24gbWFuYWdlciBkZXRlY3RzIFJ0Y1Nlc3Npb24gZmFpbHVyZTogXCIgKyByZWFzb24pO1xuICAgICAgICAgICAgLy8gd3JhcCB0aGUgZXhpc3RpbmcgaGFuZGxlciB3aGljaCBpcyBjcmVhdGVkIGluIHNvZnRwaG9uZSBtYW5hZ2VyXG4gICAgICAgICAgICBpZiAob25TZXNzaW9uRmFpbGVkSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIG9uU2Vzc2lvbkZhaWxlZEhhbmRsZXIocnRjU2Vzc2lvbiwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIGxvY2FsIFJ0Y1Nlc3Npb25cbiAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgc2VsZi5faWNlU2VydmVycyA9IG51bGw7XG4gICAgICAgICAgICAvLyBjbG9zZSBzaWduYWxpbmcgY2hhbm5lbCBhbmQgcGVlciBjb25uZWN0aW9uXG4gICAgICAgICAgICBzZWxmLmRlc3Ryb3koKTsgLy8gY2FsbCBkZXN0cm95IG1ldGhvZCBiZWZvcmUgY2xlYW4gY29udGFjdFRva2VuIGFuZCBjYWxsSWRcbiAgICAgICAgICAgIHNlbGYuX2NvbnRhY3RUb2tlbiA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLl9jYWxsSWQgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZCBzZXNzaW9uIGNvbXBsZXRlZCBldmVudCBoYW5kbGVyXG4gICAgICAgIGNvbnN0IG9uU2Vzc2lvbkNvbXBsZXRlZEhhbmRsZXIgPSBzZWxmLl9ydGNTZXNzaW9uLl9vblNlc3Npb25Db21wbGV0ZWQ7XG4gICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24ub25TZXNzaW9uQ29tcGxldGVkID0gZnVuY3Rpb24gKHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oXCJQZWVyIGNvbm5lY3Rpb24gbWFuYWdlciBkZXRlY3RzIFJ0Y1Nlc3Npb24gY29tcGxldGVkLiBQZXJmb3JtaW5nIGhlYWx0aCBjaGVjayB0byBkZWNpZGUgaWYgd2Ugd2FudCB0byBrZWVwIHRoZSBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAvLyB3cmFwIHRoZSBleGlzdGluZyBoYW5kbGVyIHdoaWNoIGlzIGNyZWF0ZWQgaW4gc29mdHBob25lIG1hbmFnZXJcbiAgICAgICAgICAgIGlmIChvblNlc3Npb25Db21wbGV0ZWRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgb25TZXNzaW9uQ29tcGxldGVkSGFuZGxlcihydGNTZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxmLl9zaWduYWxpbmdDaGFubmVsLl9zdGF0ZS5uYW1lID09PSBcIkZhaWxlZFN0YXRlXCJcbiAgICAgICAgICAgICAgICB8fCBzZWxmLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFLkZBSUxFRFxuICAgICAgICAgICAgICAgIHx8IHNlbGYuX3BjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEUuRElTQ09OTkVDVEVEXG4gICAgICAgICAgICAgICAgfHwgc2VsZi5fcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURS5DTE9TRURcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKFwiUGVlciBjb25uZWN0aW9uIG1hbmFnZXIgZGV0ZWN0ZWQgdW5oZWFsdGh5IGNvbm5lY3Rpb24gYXQgY2FsbCBlbmRzLCB0ZWFyaW5nIGRvd24gdGhlIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgbG9jYWwgUnRjU2Vzc2lvblxuICAgICAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGYuX2ljZVNlcnZlcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHNpZ25hbGluZyBjaGFubmVsIGFuZCBwZWVyIGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9jb250YWN0VG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGYuX2NhbGxJZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWRkIHNpZ25hbGluZyByZW1vdGUgaGFuZ3VwIGxpc3RlbmVyXG4gICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3NpZ25hbGluZ1JlbW90ZUh1bmd1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZ3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3VzZXJBZ2VudERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJBZ2VudERhdGEgPSBhd2FpdCBnZXRVc2VyQWdlbnREYXRhKCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKFwiUGVlciBjb25uZWN0aW9uIG1hbmFnZXIgZmFpbGVkIHRvIGdldCB1c2VyIGFnZW50IGRhdGFcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdXNlcmFnZW50IHRvIHJ0Y1Nlc3Npb24gcmVwb3J0XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQudXNlckFnZW50RGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuX3VzZXJBZ2VudERhdGEpO1xuXG5cbiAgICAgICAgY29uc3QgcGMgPSB0aGlzLmdldFBlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uY29ubmVjdChwYyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIHJlc29sdmUgdGhlIFByb21pc2Ugd2hlbiBzaWduYWxpbmcgaGFuZHNoYWtlIGlzIGNvbXBsZXRlZFxuICAgICAgICAgICAgY29uc3Qgc2lnbmFsaW5nSGFuZHNoYWtlZCA9IGhpdGNoKHNlbGYuX3J0Y1Nlc3Npb24sIHNlbGYuX3J0Y1Nlc3Npb24uX3NpZ25hbGluZ0hhbmRzaGFrZWQpO1xuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc2lnbmFsaW5nSGFuZHNoYWtlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBzaWduYWxpbmdIYW5kc2hha2VkKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gcmVqZWN0IHRoZSBQcm9taXNlIHdoZW4gc2lnbmFsaW5nIGhhbmRzaGFrZSBpcyBmYWlsZWRcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbGluZ0ZhaWxlZCA9IGhpdGNoKHNlbGYuX3J0Y1Nlc3Npb24sIHNlbGYuX3J0Y1Nlc3Npb24uX3NpZ25hbGluZ0ZhaWxlZCk7XG4gICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9zaWduYWxpbmdGYWlsZWQgPSBhc3luYyAoZXhjZXB0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgc2lnbmFsaW5nRmFpbGVkKGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhbiBpbmFjdGl2aXR5IHRpbWVyIGZvciBwZXJzaXN0ZW50IGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXJ0SW5hY3Rpdml0eVRpbWVyKCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhcIlBlZXJDb25uZWN0aW9uTWFuYWdlciBzdGFydCBpbmFjdGl2aXR5IHRpbWVyXCIpO1xuICAgICAgICB0aGlzLl9pbmFjdGl2aXR5VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCdJbmFjdGl2aXR5IHRpbWVyIGJyZWFjaGVkLCB0ZWFyZG93biBwZWVyIGNvbm5lY3Rpb24gJyk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSwgdGhpcy5faW5hY3Rpdml0eUR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBpbmFjdGl2aXR5IHRpbWVyIGZvciBwZXJzaXN0ZW50IGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjbGVhckluYWN0aXZpdHlUaW1lcigpIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJQZWVyQ29ubmVjdGlvbk1hbmFnZXIgY2xlYXIgaW5hY3Rpdml0eSB0aW1lclwiKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2luYWN0aXZpdHlUaW1lcik7XG4gICAgICAgIHRoaXMuX2luYWN0aXZpdHlUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZyB1cCB0aGUgUnRjU2Vzc2lvblxuICAgICAqL1xuICAgIGhhbmd1cCgpIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJQZWVyQ29ubmVjdGlvbk1hbmFnZXIgaGFuZ3MgdXAgUnRjU2Vzc2lvblwiKTtcbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5oYW5ndXAoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKFwiRXJyb3Igb2NjdXJyZWQgd2hpbGUgaGFuZ2luZyB1cCBSdGNTZXNzaW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGFjdFRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2FsbElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5pc1BlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWxpbmdDaGFubmVsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ljZVNlcnZlcnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcGMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvblRva2VuID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ljZVJlc3RhcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleGlzdGluZyBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gcGVlckNvbm5lY3Rpb25JZCAtIFRoZSBJRCBvZiB0aGUgcGVlciBjb25uZWN0aW9uIHRvIGRlc3Ryb3kuIFxuICAgICAqICAgICAgICBJZiBwcm92aWRlZCwgaW5kaWNhdGVzIHRoYXQgdGhlIG1ldGhvZCBpcyB0cmlnZ2VyZWQgYnkgYSBzZXJ2ZXItc2lkZSBQQ0J5ZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjcnVjaWFsIGZvciBib3RoIFJUUFMgYWxsb3dsaXN0ZWQgYW5kIG5vdCBhbGxvd2xpc3RlZCBwYXRocy5cbiAgICAgKiBJdCBlbnN1cmVzIHByb3BlciBjbGVhbnVwIG9mIHRoZSBzaWduYWxpbmcgY2hhbm5lbCwgd2hpY2ggaXMgZXNzZW50aWFsIGJlY2F1c2UgcGNtLmhhbmd1cCBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBpbnZva2VkLlxuICAgICAqIFRPRE86IHJlZmFjdG9yIGRlc3Ryb3kocGVlckNvbm5lY3Rpb25JZCkgdG8gZGVzdHJveShzaG91bGRTZW5kQnllVG9TZXJ2ZXJCb29sPXRydWUpLFxuICAgICAqIFxuICAgICAqIFVzYWdlOlxuICAgICAqIC0gQ2FsbCB3aXRoIG5vIGFyZ3VtZW50cyBmb3IgY2xpZW50LWluaXRpYXRlZCBkZXN0cnVjdGlvbiAod2lsbCBzZW5kIEJZRSB0byBzZXJ2ZXIpLlxuICAgICAqIC0gQ2FsbCB3aXRoIGEgcGVlckNvbm5lY3Rpb25JZCBmb3Igc2VydmVyLWluaXRpYXRlZCBkZXN0cnVjdGlvbiAod2lsbCBub3Qgc2VuZCBCWUUpLlxuICAgICAqIFxuICAgICAqIE5vdGU6IFRoZSBwcmVzZW5jZSBvZiBwZWVyQ29ubmVjdGlvbklkIGlzIHVzZWQgdG8gaW5mZXIgaWYgdGhlIGRlc3Ryb3kgbWV0aG9kIFxuICAgICAqIGlzIHRyaWdnZXJlZCBieSBhIHNlcnZlci1zaWRlIGV2ZW50LCBpbiB3aGljaCBjYXNlIHdlIGRvIG5vdCBzZW5kIGEgQllFIHNpZ25hbC5cbiAgICAgKiBcbiAgICAgKiBUT0RPOiBSZWZhY3RvciBwZWVyQ29ubmVjdGlvbklkIHBhcmFtZXRlciB0byBiZSBhIGJvb2xlYW4gJ3Nob3VsZFNlbmRCeWVUb1NlcnZlcicgd2l0aCBhIGRlZmF1bHQgdmFsdWUgb2YgdHJ1ZS5cbiAgICAgKiAgICAgICBUaGlzIHNob3VsZCBiZSBzZXQgdG8gZmFsc2UgZm9yIEFaIGV2YWN1YXRpb24gYW5kIHNlcnZlci1zaWRlIGRyYWluaW5nIHNjZW5hcmlvcy5cbiAgICAgKiAgICAgICBJbiB0aGVzZSBjYXNlcywgd2UgcmVjZWl2ZSBhIFBDQllFIGZyb20gdGhlIHNlcnZlciwgc28gd2UgZG9uJ3Qgd2FudCB0byBzZW5kIGFub3RoZXIgQllFLlxuICAgICAqL1xuICAgIGRlc3Ryb3kocGVlckNvbm5lY3Rpb25JZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24gJiYgKHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLm5hbWUgPT09IFJUQ19TRVNTSU9OX1NUQVRFLlRBTEtJTkdfU1RBVEUgfHwgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUubmFtZSA9PT0gUlRDX1NFU1NJT05fU1RBVEUuQ09OTkVDVF9DT05UQUNUX1NUQVRFKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKFwiUGVlciBjb25uZWN0aW9uIGlzIGluIHVzZSwgUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGNhbiBOT1QgZGVzdHJveSBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fcGMpIHsgICAvLyBpZiBwZWVyIGNvbm5lY3Rpb24gZXhpc3RzLCBkZXN0cm95IHRoZSBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKFwiUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRlc3Ryb3kgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKCFwZWVyQ29ubmVjdGlvbklkICYmIHRoaXMuX3NpZ25hbGluZ0NoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgcGVlckNvbm5lY3Rpb25JZCBkb2Vzbid0IGV4aXN0LCB3ZSBuZWVkIHRvIHNlbmQgYSBieWUgdG8gdGhlIHNlcnZlci4gT3RoZXJ3aXNlLCBpdCBkb2Vzbid0IG5lZWQgdG8gc2VuZCBhIGJ5ZSBzaW5jZSBpdCByZWNlaXZlcyB0aGUgUENCeWUgZnJvbSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ0NoYW5uZWwuYnllKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGJ5ZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dnZXIuZXJyb3IoXCJFcnJvciBvY2N1cnJlZCB3aGlsZSBzZW5kaW5nIGJ5ZTpcIiwgYnllRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ0NoYW5uZWwgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uVG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ljZVJlc3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyByZWxlYXNlIG1lZGlhIHN0cmVhbSB3aGVuIGV4aXN0aW5nIHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggcmVtb3RlIGF1ZGlvIHN0cmVhbVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdGVBdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3RlQXVkaW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW90ZUF1ZGlvU3RyZWFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckluYWN0aXZpdHlUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKFwiRXJyb3Igb2NjdXJyZWQgaW4gUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRlc3Ryb3kgbWV0aG9kOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGhhbmRsZVBlcnNpc3RlbnRQZWVyQ29ubmVjdGlvblRvZ2dsZShpc1BQQ0VuYWJsZWQpIHtcbiAgICAgICAgLy8gY2hhbmdlIFBQQ0VuYWJsZWQgb25seSB3aGVuIGFnZW50IGlzIG5vdCBpbiBhIGNhbGxcbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24gPT09IG51bGwgJiYgdGhpcy5pc1BQQ0VuYWJsZWQgIT09IGlzUFBDRW5hYmxlZCAmJiB0aGlzLmlzUlRQU0FsbG93bGlzdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzUFBDRW5hYmxlZCA9IGlzUFBDRW5hYmxlZDtcbiAgICAgICAgICAgIC8vIGlmIHNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uIGNoYW5nZWQgdG8gdHJ1ZSwgdXNlIHJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciB0byBpbml0aWF0ZSBhIG5ldyBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQUENFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJzb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiBjaGFuZ2VkIHRvIHR1cmUsIGluaXRpYXRlIGEgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb25cIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uTW9kZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBzb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiBjaGFuZ2VkIHRvIGZhbHNlLCB1c2UgcnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIHRvIHRlYXIgZG93biB0aGUgY3VycmVudHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oXCJzb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiBjaGFuZ2VkIHRvIGZhbHNlLCBkZXN0cm95IHRoZSBleGlzdGluZyBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvblwiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZVBlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbk1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFjdGl2YXRlIHBlcnNpc3RlbnQgY29ubmVjdGlvbiBtb2RlIGJ5IGNyZWF0aW5nIHRoZSBwZXJzaXN0ZW50IGNvbm5lY3Rpb24gYW5kIGNsb3NlIHN0YW5kYnkgcGVlciBjb25uZWN0aW9uXG4gICAgYWN0aXZhdGVQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb25Nb2RlKCkge1xuICAgICAgICAvLyB0aGlzLnJ0Y0pzU3RyYXRlZ3kgPSB0aGlzLnJ0Y0pzU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuY2xvc2VFYXJseU1lZGlhQ29ubmVjdGlvbigpOyAvLyBjbG9zZSBzdGFuZGJ5IHBlZXIgY29ubmVjdGlvblxuICAgICAgICB0aGlzLnJlcXVlc3RQZWVyQ29ubmVjdGlvbigpLnRoZW4oKCkgPT4geyAvLyByZXF1ZXN0IGEgbmV3IHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNlc3Npb24oKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb25Db25uZWN0UHJvbWlzZSA9IHRoaXMuY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkZWFjdGl2YXRlIHBlcnNpc3RlbnQgY29ubmVjdGlvbiBtb2RlIGJ5IGRlc3Ryb3lpbmcgdGhlIGV4aXN0aW5nIHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uIGFuZCByZXF1ZXN0IGZvciBzdGFuZGJ5IHBlZXIgY29ubmVjdGlvblxuICAgIGRlYWN0aXZhdGVQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb25Nb2RlKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UGVlckNvbm5lY3Rpb24oKTtcbiAgICB9XG5cblxuICAgIC8vIGZ1bmN0aW9uIHdoaWNoIGNoZWNrcyBpZiBwZXJzaXN0ZW50IGNvbm5lY3Rpb24gZmVhdHVyZSBpcyBlbmFibGVkIGFuZCBhbGxvd2xpc3RlZCwgYW5kIGJyb3dzZXIgaXMgTk9UIEZpcmVmb3hcbiAgICBpc1BlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUFBDRW5hYmxlZCAmJiB0aGlzLl9pc1JUUFNBbGxvd2xpc3RlZCAmJiAhaXNGaXJlZm94QnJvd3Nlcih0aGlzLl91c2VyQWdlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGNsb3NlcyB0aGUgRWFybHkgbWVkaWEgY29ubmVjdGlvbiBhbmQgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb25cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRWFybHlNZWRpYUNvbm5lY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBUaGlzIGZ1bmN0aW9uIGlzIHRvIGxpc3RlbiBiZWZvcmV1bmxvYWQgZXZlbnQuIFdoZW4gd2UgcmVjZWl2ZSBiZWZvcmV1bmxvYWRcbiAgICAgKiB3ZSB3aWxsIHNlbmQgYSBieWUgZnJvbSBDQ1AgdG8gQW1hem9uIENvbm5lY3QsIGJ1dCB0aGlzIGlzIHZlcnkgdW5zdGFibGUsIHdlIGNhbm5vdFxuICAgICAqIGd1YXJhbnRlZSBzZW5kIGJ5ZSBldmVyeSB0aW1lIHdoZW4gYWdlbnQgY2xvc2UgdGhlIGJyb3dzZXIgdGFiXG4gICAgICpcbiAgICAgKi9cbiAgICBicm93c2VyVGFiQ2xvc2VFdmVudExpc3RlbmVyKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oJ1VzZXIgbGVhdmVzIHRoZSBwYWdlLCBkZXN0cm95IHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyJyk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7Y2xvc2VTdHJlYW0sIGhpdGNoLCBTZHBPcHRpb25zLCB0cmFuc2Zvcm1TZHAsIHdyYXBMb2dnZXJ9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtTZXNzaW9uUmVwb3J0fSBmcm9tICcuL3Nlc3Npb25fcmVwb3J0JztcbmltcG9ydCB7XG4gICAgREVGQVVMVF9HVU1fVElNRU9VVF9NUyxcbiAgICBERUZBVUxUX0lDRV9USU1FT1VUX01TLFxuICAgIFJUQ19FUlJPUlMsXG4gICAgUlRDX1BFRVJfQ09OTkVDVElPTl9DT05GSUcsXG4gICAgUlRDX1BFRVJfQ09OTkVDVElPTl9PUFRJT05BTF9DT05GSUcsXG4gICAgSUNFX0NPTk5FQ1RJT05fU1RBVEUsXG4gICAgUEVFUl9DT05ORUNUSU9OX1NUQVRFLFxuICAgIERFRkFVTFRfSUNFX0NBTkRJREFURV9QT09MX1NJWkVcbn0gZnJvbSAnLi9ydGNfY29uc3QnO1xuaW1wb3J0IHtcbiAgICBCdXN5RXhjZXB0aW9uTmFtZSxcbiAgICBDYWxsTm90Rm91bmRFeGNlcHRpb25OYW1lLFxuICAgIEd1bVRpbWVvdXQsXG4gICAgSWxsZWdhbFBhcmFtZXRlcnMsXG4gICAgSWxsZWdhbFN0YXRlLFxuICAgIFVuc3VwcG9ydGVkT3BlcmF0aW9uLFxuICAgIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbk5hbWVcbn0gZnJvbSAnLi9leGNlcHRpb25zJztcbmltcG9ydCBSdGNTaWduYWxpbmcgZnJvbSAnLi9zaWduYWxpbmcnO1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92NCc7XG5pbXBvcnQge2V4dHJhY3RNZWRpYVN0YXRzRnJvbVN0YXRzfSBmcm9tICcuL3J0cC1zdGF0cyc7XG5pbXBvcnQge3BhcnNlQ2FuZGlkYXRlfSBmcm9tICdzZHAnO1xuaW1wb3J0IENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSBmcm9tIFwiLi9zdHJhdGVnaWVzL0NDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IFN0YW5kYXJkU3RyYXRlZ3kgZnJvbSBcIi4vc3RyYXRlZ2llcy9TdGFuZGFyZFN0cmF0ZWd5XCI7XG5pbXBvcnQge1xuICAgIENvbm5lY3RlZFN1YnN0YXRlXG59IGZyb20gJy4vcnRjX3Nlc3Npb25fdGFsa2luZ19zdWJzdGF0ZXMnO1xuXG5leHBvcnQgY2xhc3MgUlRDU2Vzc2lvblN0YXRlIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UnRjU2Vzc2lvbn0gcnRjU2Vzc2lvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbiA9IHJ0Y1Nlc3Npb247XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgfVxuICAgIG9uRXhpdCgpIHtcbiAgICB9XG4gICAgX2lzQ3VycmVudFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUgPT09IHRoaXM7XG4gICAgfVxuICAgIHRyYW5zaXQobmV4dFN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0N1cnJlbnRTdGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLnRyYW5zaXQobmV4dFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbG9nZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnRjU2Vzc2lvbi5fbG9nZ2VyO1xuICAgIH1cbiAgICBoYW5ndXAoKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpO1xuICAgIH1cbiAgICBvbkljZUNhbmRpZGF0ZShldnQpIHsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAgIC8vaWdub3JlIGNhbmRpZGF0ZSBieSBkZWZhdWx0LCBDb25uZWN0U2lnbmFsaW5nQW5kSWNlQ29sbGVjdGlvblN0YXRlIHdpbGwgb3ZlcnJpZGUgdG8gY29sbGVjdCBjYW5kaWRhdGVzLCBidXQgY29sbGVjdGluZyBwcm9jZXNzIGNvdWxkIGxhc3QgbXVjaCBsb25nZXIgdGhhbiBDb25uZWN0U2lnbmFsaW5nQW5kSWNlQ29sbGVjdGlvblN0YXRlXG4gICAgICAgIC8vd2UgZG9uJ3Qgd2FudCB0byBzcGFtIHRoZSBjb25zb2xlIGxvZ1xuICAgIH1cbiAgICBvblJlbW90ZUh1bmd1cCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uKCdvblJlbW90ZUh1bmd1cCBub3QgaW1wbGVtZW50ZWQgYnkgJyArIHRoaXMubmFtZSk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJSVENTZXNzaW9uU3RhdGVcIjtcbiAgICB9XG4gICAgb25TaWduYWxpbmdDb25uZWN0ZWQoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbignb25TaWduYWxpbmdDb25uZWN0ZWQgbm90IGltcGxlbWVudGVkIGJ5ICcgKyB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBvblNpZ25hbGluZ0hhbmRzaGFrZWQoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbignb25TaWduYWxpbmdIYW5kc2hha2VkIG5vdCBpbXBsZW1lbnRlZCBieSAnICsgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgb25TaWduYWxpbmdGYWlsZWQoZSkgey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uKCdvblNpZ25hbGluZ0ZhaWxlZCBub3QgaW1wbGVtZW50ZWQgYnkgJyArIHRoaXMubmFtZSk7XG4gICAgfVxuICAgIG9uSWNlU3RhdGVDaGFuZ2UoZXZ0KSB7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBHcmFiTG9jYWxNZWRpYVN0YXRlIGV4dGVuZHMgUlRDU2Vzc2lvblN0YXRlIHtcbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoc2VsZi5fcnRjU2Vzc2lvbi5faXNVc2VyUHJvdmlkZWRTdHJlYW0pIHtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgQ3JlYXRlT2ZmZXJTdGF0ZShzZWxmLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZ3VtVGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgR3VtVGltZW91dCgnTG9jYWwgbWVkaWEgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldC4nKSk7XG4gICAgICAgICAgICAgICAgfSwgc2VsZi5fcnRjU2Vzc2lvbi5fZ3VtVGltZW91dE1pbGxpcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uR3VtUHJvbWlzZSA9IHNlbGYuX2dVTShzZWxmLl9ydGNTZXNzaW9uLl9idWlsZE1lZGlhQ29uc3RyYWludHMoKSk7XG5cbiAgICAgICAgICAgIFByb21pc2UucmFjZShbc2Vzc2lvbkd1bVByb21pc2UsIGd1bVRpbWVvdXRQcm9taXNlXSlcbiAgICAgICAgICAgICAgICAudGhlbihzdHJlYW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0Lmd1bVRpbWVNaWxsaXMgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9vbkd1bVN1Y2Nlc3Moc2VsZi5fcnRjU2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX2xvY2FsU3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fcnRjU2Vzc2lvbi5fcGNtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9wY20uX21lZGlhU3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuZ3VtT3RoZXJGYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuZ3VtVGltZW91dEZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc2l0KG5ldyBDcmVhdGVPZmZlclN0YXRlKHNlbGYuX3J0Y1Nlc3Npb24pKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0Lmd1bVRpbWVNaWxsaXMgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclJlYXNvbjtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEd1bVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JSZWFzb24gPSBSVENfRVJST1JTLkdVTV9USU1FT1VUX0ZBSUxVUkU7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuZ3VtVGltZW91dEZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0Lmd1bU90aGVyRmFpbHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yUmVhc29uID0gUlRDX0VSUk9SUy5HVU1fT1RIRVJfRkFJTFVSRTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5ndW1PdGhlckZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0Lmd1bVRpbWVvdXRGYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdMb2NhbCBtZWRpYSBpbml0aWFsaXphdGlvbiBmYWlsZWQnLCBlKTtcbiAgICAgICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9vbkd1bUVycm9yKHNlbGYuX3J0Y1Nlc3Npb24pO1xuICAgICAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUoc2VsZi5fcnRjU2Vzc2lvbiwgZXJyb3JSZWFzb24pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJHcmFiTG9jYWxNZWRpYVN0YXRlXCI7XG4gICAgfVxuICAgIF9nVU0oY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX3N0cmF0ZWd5Ll9nVU0oY29uc3RyYWludHMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDcmVhdGVPZmZlclN0YXRlIGV4dGVuZHMgUlRDU2Vzc2lvblN0YXRlIHtcbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdHJlYW0gPSBzZWxmLl9ydGNTZXNzaW9uLl9sb2NhbFN0cmVhbTtcbiAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc3RyYXRlZ3kuYWRkU3RyZWFtKHNlbGYuX3J0Y1Nlc3Npb24uX3BjLCBzdHJlYW0pO1xuICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9vbkxvY2FsU3RyZWFtQWRkZWQoc2VsZi5fcnRjU2Vzc2lvbiwgc3RyZWFtKTtcbiAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fcGMuY3JlYXRlT2ZmZXIoKS50aGVuKHJ0Y1Nlc3Npb25EZXNjcmlwdGlvbiA9PiB7XG4gICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9sb2NhbFNlc3Npb25EZXNjcmlwdGlvbiA9IHJ0Y1Nlc3Npb25EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuY3JlYXRlT2ZmZXJGYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IFNldExvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uU3RhdGUoc2VsZi5fcnRjU2Vzc2lvbikpO1xuICAgICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdDcmVhdGVPZmZlciBmYWlsZWQnLCBlKTtcbiAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuY3JlYXRlT2ZmZXJGYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUoc2VsZi5fcnRjU2Vzc2lvbiwgUlRDX0VSUk9SUy5DUkVBVEVfT0ZGRVJfRkFJTFVSRSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNyZWF0ZU9mZmVyU3RhdGVcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2V0TG9jYWxTZXNzaW9uRGVzY3JpcHRpb25TdGF0ZSBleHRlbmRzIFJUQ1Nlc3Npb25TdGF0ZSB7XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIGZpeC9tb2RpZnkgU0RQIGFzIG5lZWRlZCBoZXJlLCBiZWZvcmUgc2V0TG9jYWxEZXNjcmlwdGlvblxuICAgICAgICB2YXIgbG9jYWxEZXNjcmlwdGlvbiA9IHNlbGYuX3J0Y1Nlc3Npb24uX2xvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uO1xuICAgICAgICB2YXIgc2RwT3B0aW9ucyA9IG5ldyBTZHBPcHRpb25zKCk7XG4gICAgICAgIC8vIFNldCBhdWRpbyBjb2RlYy5cbiAgICAgICAgaWYgKHNlbGYuX3J0Y1Nlc3Npb24uX2ZvcmNlQXVkaW9Db2RlYykge1xuICAgICAgICAgICAgc2RwT3B0aW9ucy5mb3JjZUNvZGVjWydhdWRpbyddID0gc2VsZi5fcnRjU2Vzc2lvbi5fZm9yY2VBdWRpb0NvZGVjO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB2aWRlbyBjb2RlYy5cbiAgICAgICAgaWYgKHNlbGYuX3J0Y1Nlc3Npb24uX2ZvcmNlVmlkZW9Db2RlYykge1xuICAgICAgICAgICAgc2RwT3B0aW9ucy5mb3JjZUNvZGVjWyd2aWRlbyddID0gc2VsZi5fcnRjU2Vzc2lvbi5fZm9yY2VWaWRlb0NvZGVjO1xuICAgICAgICB9XG4gICAgICAgIHNkcE9wdGlvbnMuZW5hYmxlT3B1c0R0eCA9IHNlbGYuX3J0Y1Nlc3Npb24uX2VuYWJsZU9wdXNEdHg7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkU2RwID0gdHJhbnNmb3JtU2RwKGxvY2FsRGVzY3JpcHRpb24uc2RwLCBzZHBPcHRpb25zKTtcbiAgICAgICAgbG9jYWxEZXNjcmlwdGlvbi5zZHAgPSB0cmFuc2Zvcm1lZFNkcC5zZHA7XG4gICAgICAgIGxvY2FsRGVzY3JpcHRpb24uc2RwICs9ICdhPXB0aW1lOjIwXFxyXFxuJztcbiAgICAgICAgbG9jYWxEZXNjcmlwdGlvbi5zZHAgKz0gJ2E9bWF4cHRpbWU6MjBcXHJcXG4nO1xuICAgICAgICBsb2NhbERlc2NyaXB0aW9uLnNkcCA9IGxvY2FsRGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoXCJtaW5wdGltZT0xMFwiLCBcIm1pbnB0aW1lPTIwXCIpO1xuXG4gICAgICAgIHNlbGYubG9nZ2VyLmluZm8oJ0xvY2FsU0QnLCBzZWxmLl9ydGNTZXNzaW9uLl9sb2NhbFNlc3Npb25EZXNjcmlwdGlvbik7XG4gICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3BjLnNldExvY2FsRGVzY3JpcHRpb24oc2VsZi5fcnRjU2Vzc2lvbi5fbG9jYWxTZXNzaW9uRGVzY3JpcHRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGluaXRpYWxpemF0aW9uVGltZSA9IERhdGUubm93KCkgLSBzZWxmLl9ydGNTZXNzaW9uLl9jb25uZWN0VGltZVN0YW1wO1xuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pbml0aWFsaXphdGlvblRpbWVNaWxsaXMgPSBpbml0aWFsaXphdGlvblRpbWU7XG4gICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9vblNlc3Npb25Jbml0aWFsaXplZChzZWxmLl9ydGNTZXNzaW9uLCBpbml0aWFsaXphdGlvblRpbWUpO1xuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5zZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi50cmFuc2l0KG5ldyBDb25uZWN0U2lnbmFsaW5nQW5kSWNlQ29sbGVjdGlvblN0YXRlKHNlbGYuX3J0Y1Nlc3Npb24sIHRyYW5zZm9ybWVkU2RwLm1MaW5lcykpO1xuICAgICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdTZXRMb2NhbERlc2NyaXB0aW9uIGZhaWxlZCcsIGUpO1xuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5zZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHNlbGYuX3J0Y1Nlc3Npb24sIFJUQ19FUlJPUlMuU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX0ZBSUxVUkUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTZXRMb2NhbFNlc3Npb25EZXNjcmlwdGlvblN0YXRlXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIEtpY2sgb2ZmIHNpZ25hbGluZyBjb25uZWN0aW9uLiBXYWl0IHVudGlsIHNpZ25hbGluZyBjb25uZWN0cyBhbmQgSUNFIGNvbGxlY3Rpb24gKHdoaWNoIGFscmVhZHkgc3RhcnRlZCBpbiBwcmV2aW91cyBzdGF0ZSkgY29tcGxldGVzLlxuICogSUNFIGNvbGxlY3Rpb24gdGltZXMgb3V0IGFmdGVyIHVzZXIgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIChkZWZhdWx0IHRvIERFRkFVTFRfSUNFX1RJTUVPVVRfTVMpIGluIGNhc2UgdXNlciBoYXMgY29tcGxleCBuZXR3b3JrIGVudmlyb25tZW50IHRoYXQgYmxhY2tob2xlcyBTVFVOL1RVUk4gcmVxdWVzdHMuIEluIHRoaXMgY2FzZSBhdCBsZWFzdCBvbmUgY2FuZGlkYXRlIGlzIHJlcXVpcmVkIHRvIG1vdmUgZm9yd2FyZC5cbiAqIElDRSBjb2xsZWN0aW9uIGNvdWxkIGFsc28gd3JhcCB1cCBiZWZvcmUgdGltZW91dCBpZiBpdCdzIGRldGVybWluZWQgdGhhdCBSVFAgY2FuZGlkYXRlcyBmcm9tIHNhbWUgVFVSTiBzZXJ2ZXIgaGF2ZSBiZWVuIGNvbGxlY3RlZCBmb3IgYWxsIG0gbGluZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0U2lnbmFsaW5nQW5kSWNlQ29sbGVjdGlvblN0YXRlIGV4dGVuZHMgUlRDU2Vzc2lvblN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQ29ubmVjdFNpZ25hbGluZ0FuZEljZUNvbGxlY3Rpb25TdGF0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSdGNTZXNzaW9ufSBydGNTZXNzaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1MaW5lcyBOdW1iZXIgb2YgbSBsaW5lcyBpbiBTRFBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihydGNTZXNzaW9uLCBtTGluZXMpIHtcbiAgICAgICAgc3VwZXIocnRjU2Vzc2lvbik7XG4gICAgICAgIHRoaXMuX2ljZUNhbmRpZGF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5faWNlQ2FuZGlkYXRlRm91bmRhdGlvbnNNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5fbUxpbmVzID0gbUxpbmVzO1xuICAgIH1cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlbGYuX2lzQ3VycmVudFN0YXRlKCkgJiYgIXNlbGYuX2ljZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLndhcm4oJ0lDRSBjb2xsZWN0aW9uIHRpbWVkIG91dCcpO1xuICAgICAgICAgICAgICAgIHNlbGYuX3JlcG9ydEljZUNvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgc2VsZi5fcnRjU2Vzc2lvbi5faWNlVGltZW91dE1pbGxpcyk7XG5cbiAgICAgICAgLy9pZiBwZWVyIGNvbm5lY3Rpb24gbWFuYWdlciBvciBzaWduYWxpbmdDaGFubmVsIGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBhIG5ldyBzaWduYWxpbmcgY2hhbm5lbFxuICAgICAgICBpZiAoIXNlbGYuX3J0Y1Nlc3Npb24uX3BjbSB8fCAhc2VsZi5fcnRjU2Vzc2lvbi5fcGNtLl9zaWduYWxpbmdDaGFubmVsKSB7XG4gICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9jcmVhdGVTaWduYWxpbmdDaGFubmVsKCkuY29ubmVjdCgpO1xuICAgICAgICB9IGVsc2UgeyAvLyBpZiBzaWduYWxpbmdDaGFubmVsIGV4aXN0cywgcmVzZXQgdGhlIGNvbnRhY3QgaWQsIGNvbm5lY3Rpb25pZCBhbmQgY29udGFjdCB0b2tlblxuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fYmluZFNpZ25hbGluZ0NoYW5uZWwoKTsgLy8gYmluZGluZyB0aGUgZXhpc3Rpbmcgc2lnbmFsaW5nIGNoYW5uZWxcbiAgICAgICAgICAgIHNlbGYuX3J0Y1Nlc3Npb24uX3BjbS5fc2lnbmFsaW5nQ2hhbm5lbC5fd3NzLl9jb25ubmVjdGlvbklkID0gc2VsZi5fcnRjU2Vzc2lvbi5fY29ubmVjdGlvbklkO1xuICAgICAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fcGNtLl9zaWduYWxpbmdDaGFubmVsLl9jb250YWN0VG9rZW4gPSBzZWxmLl9ydGNTZXNzaW9uLl9jb250YWN0VG9rZW47XG4gICAgICAgICAgICBzZWxmLl9ydGNTZXNzaW9uLl9wY20uX3NpZ25hbGluZ0NoYW5uZWwuX2NhbGxJZCA9IHNlbGYuX3J0Y1Nlc3Npb24uX2NhbGxJZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblNpZ25hbGluZ0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2lnbmFsbGluZ0Nvbm5lY3RUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcyA9IHRoaXMuX3J0Y1Nlc3Npb24uX3NpZ25hbGxpbmdDb25uZWN0VGltZXN0YW1wIC0gdGhpcy5fc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmdDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9vblNpZ25hbGluZ0Nvbm5lY3RlZCh0aGlzLl9ydGNTZXNzaW9uKTtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgfVxuICAgIG9uU2lnbmFsaW5nRmFpbGVkKGUpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5zaWduYWxsaW5nQ29ubmVjdFRpbWVNaWxsaXMgPSBEYXRlLm5vdygpIC0gdGhpcy5fc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIGNvbm5lY3RpbmcgdG8gc2lnbmFsaW5nIHNlcnZlcicsIGUpO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZSA9IHRydWU7XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fcnRjU2Vzc2lvbiwgUlRDX0VSUk9SUy5TSUdOQUxMSU5HX0NPTk5FQ1RJT05fRkFJTFVSRSkpO1xuICAgIH1cbiAgICBfY3JlYXRlTG9jYWxDYW5kaWRhdGUoaW5pdERpY3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSVENJY2VDYW5kaWRhdGUoaW5pdERpY3QpO1xuICAgIH1cbiAgICBvbkljZUNhbmRpZGF0ZShldnQpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGV2dC5jYW5kaWRhdGU7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnb25pY2VjYW5kaWRhdGUgJyArIEpTT04uc3RyaW5naWZ5KGNhbmRpZGF0ZSkpO1xuICAgICAgICBpZiAoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlLmNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ljZUNhbmRpZGF0ZXMucHVzaCh0aGlzLl9jcmVhdGVMb2NhbENhbmRpZGF0ZShjYW5kaWRhdGUpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ljZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0NhbmRpZGF0ZXNTdWZmaWNpZW50KGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBvcnRJY2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jaGVja0NhbmRpZGF0ZXNTdWZmaWNpZW50KGNhbmRpZGF0ZSkge1xuICAgICAgICAvL2NoZWNrIGlmIHdlIGNvbGxlY3RlZCBzdWZmaWNpZW50IGNhbmRpZGF0ZXMgZnJvbSBzaW5nbGUgbWVkaWEgc2VydmVyIHRvIHN0YXJ0IHRoZSBjYWxsXG4gICAgICAgIHZhciBjYW5kaWRhdGVPYmogPSBwYXJzZUNhbmRpZGF0ZShjYW5kaWRhdGUuY2FuZGlkYXRlKTtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZU9iai5jb21wb25lbnQgIT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW5kaWRhdGVGb3VuZGF0aW9uID0gY2FuZGlkYXRlT2JqLmZvdW5kYXRpb247XG4gICAgICAgIHZhciBjYW5kaWRhdGVNTGluZUluZGV4ID0gY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXg7XG4gICAgICAgIGlmIChjYW5kaWRhdGVGb3VuZGF0aW9uICYmIGNhbmRpZGF0ZU1MaW5lSW5kZXggPj0gMCAmJiBjYW5kaWRhdGVNTGluZUluZGV4IDwgdGhpcy5fbUxpbmVzKSB7XG4gICAgICAgICAgICB2YXIgbUluZGV4TGlzdCA9IHRoaXMuX2ljZUNhbmRpZGF0ZUZvdW5kYXRpb25zTWFwW2NhbmRpZGF0ZUZvdW5kYXRpb25dIHx8IFtdO1xuICAgICAgICAgICAgaWYgKCFtSW5kZXhMaXN0LmluY2x1ZGVzKGNhbmRpZGF0ZU1MaW5lSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgbUluZGV4TGlzdC5wdXNoKGNhbmRpZGF0ZU1MaW5lSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faWNlQ2FuZGlkYXRlRm91bmRhdGlvbnNNYXBbY2FuZGlkYXRlRm91bmRhdGlvbl0gPSBtSW5kZXhMaXN0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbUxpbmVzID09IG1JbmRleExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0SWNlQ29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVwb3J0SWNlQ29tcGxldGVkKGlzVGltZW91dCkge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LmljZUNvbGxlY3Rpb25UaW1lTWlsbGlzID0gRGF0ZS5ub3coKSAtIHRoaXMuX3N0YXJ0VGltZTtcbiAgICAgICAgdGhpcy5faWNlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fb25JY2VDb2xsZWN0aW9uQ29tcGxldGUodGhpcy5fcnRjU2Vzc2lvbiwgaXNUaW1lb3V0LCB0aGlzLl9pY2VDYW5kaWRhdGVzLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLl9pY2VDYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuaWNlQ29sbGVjdGlvbkZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrQW5kVHJhbnNpdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ05vIElDRSBjYW5kaWRhdGUnKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuaWNlQ29sbGVjdGlvbkZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9ydGNTZXNzaW9uLCBSVENfRVJST1JTLklDRV9DT0xMRUNUSU9OX1RJTUVPVVQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hlY2tBbmRUcmFuc2l0KCkge1xuICAgICAgICBpZiAodGhpcy5faWNlQ29tcGxldGVkICYmIHRoaXMuX3NpZ25hbGluZ0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBJbnZpdGVBbnN3ZXJTdGF0ZSh0aGlzLl9ydGNTZXNzaW9uLCB0aGlzLl9pY2VDYW5kaWRhdGVzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2ljZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdQZW5kaW5nIElDRSBjb2xsZWN0aW9uJyk7XG4gICAgICAgIH0gZWxzZSB7Ly9pbXBsaWVzIF9zaWduYWxpbmdDb25uZWN0ZWQgPT0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnUGVuZGluZyBzaWduYWxpbmcgY29ubmVjdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDb25uZWN0U2lnbmFsaW5nQW5kSWNlQ29sbGVjdGlvblN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW52aXRlQW5zd2VyU3RhdGUgZXh0ZW5kcyBSVENTZXNzaW9uU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHJ0Y1Nlc3Npb24sIGljZUNhbmRpZGF0ZXMpIHtcbiAgICAgICAgc3VwZXIocnRjU2Vzc2lvbik7XG4gICAgICAgIHRoaXMuX2ljZUNhbmRpZGF0ZXMgPSBpY2VDYW5kaWRhdGVzO1xuICAgIH1cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgcnRjU2Vzc2lvbiA9IHRoaXMuX3J0Y1Nlc3Npb247XG4gICAgICAgIHJ0Y1Nlc3Npb24uX29uU2lnbmFsaW5nU3RhcnRlZChydGNTZXNzaW9uKTtcblxuICAgICAgICBydGNTZXNzaW9uLl9zaWduYWxpbmdDaGFubmVsLmludml0ZShydGNTZXNzaW9uLl9sb2NhbFNlc3Npb25EZXNjcmlwdGlvbi5zZHAsXG4gICAgICAgICAgICB0aGlzLl9pY2VDYW5kaWRhdGVzKTtcbiAgICB9XG4gICAgb25TaWduYWxpbmdBbnN3ZXJlZChzZHAsIGNhbmRpZGF0ZXMsIGluYWN0aXZpdHlEdXJhdGlvbiwgcGVlckNvbm5lY3Rpb25JZCwgcGVlckNvbm5lY3Rpb25Ub2tlbikge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnVzZXJCdXN5RmFpbHVyZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LmhhbmRzaGFraW5nRmFpbHVyZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHNpZ25hbGluZyBhbnN3ZXJlZCwgc2V0IHRoZSBpbmFjdGl2aXR5RHVyYXRpb24sIHBlZXJDb25uZWN0aW9uSWQgYW5kIHBlZXJDb25uZWN0aW9uVG9rZW5cbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbSkge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fcGNtLmluYWN0aXZpdHlEdXJhdGlvbiA9IGluYWN0aXZpdHlEdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5wZWVyQ29ubmVjdGlvbklkID0gcGVlckNvbm5lY3Rpb25JZDtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5wZWVyQ29ubmVjdGlvblRva2VuID0gcGVlckNvbm5lY3Rpb25Ub2tlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgQWNjZXB0U3RhdGUodGhpcy5fcnRjU2Vzc2lvbiwgc2RwLCBjYW5kaWRhdGVzKSk7XG4gICAgfVxuICAgIG9uU2lnbmFsaW5nRmFpbGVkKGUpIHtcbiAgICAgICAgdmFyIHJlYXNvbjtcbiAgICAgICAgaWYgKGUubmFtZSA9PSBCdXN5RXhjZXB0aW9uTmFtZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1VzZXIgQnVzeSwgcG9zc2libHkgbXVsdGlwbGUgQ0NQIHdpbmRvd3Mgb3BlbicsIGUpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC51c2VyQnVzeUZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5oYW5kc2hha2luZ0ZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgcmVhc29uID0gUlRDX0VSUk9SUy5VU0VSX0JVU1k7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5uYW1lID09IENhbGxOb3RGb3VuZEV4Y2VwdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDYWxsIG5vdCBmb3VuZC4gT25lIG9mIHRoZSBwYXJ0aWNpcGFudCBwcm9iYWJseSBodW5ndXAuJywgZSk7XG4gICAgICAgICAgICByZWFzb24gPSBSVENfRVJST1JTLkNBTExfTk9UX0ZPVU5EO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5oYW5kc2hha2luZ0ZhaWx1cmUgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCBoYW5kc2hha2luZyB3aXRoIHNpZ25hbGluZyBzZXJ2ZXInLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQudXNlckJ1c3lGYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LmhhbmRzaGFraW5nRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICByZWFzb24gPSBSVENfRVJST1JTLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9ydGNTZXNzaW9uLCByZWFzb24pKTtcbiAgICB9XG4gICAgaGFuZ3VwKCkge1xuICAgICAgICBpZiAodGhpcy5fcnRjU2Vzc2lvbi5fcGNtKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24sIFwiQWdlbnQgY2xpY2tzIGhhbmdzIHVwXCIpKVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJJbnZpdGVBbnN3ZXJTdGF0ZVwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NlcHRTdGF0ZSBleHRlbmRzIFJUQ1Nlc3Npb25TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IocnRjU2Vzc2lvbiwgc2RwLCBjYW5kaWRhdGVzKSB7XG4gICAgICAgIHN1cGVyKHJ0Y1Nlc3Npb24pO1xuICAgICAgICB0aGlzLl9zZHAgPSBzZHA7XG4gICAgICAgIHRoaXMuX2NhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzO1xuICAgIH1cbiAgICBfY3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uKGluaXREaWN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGluaXREaWN0KTtcbiAgICB9XG4gICAgX2NyZWF0ZVJlbW90ZUNhbmRpZGF0ZShpbml0RGljdCkge1xuICAgICAgICByZXR1cm4gbmV3IFJUQ0ljZUNhbmRpZGF0ZShpbml0RGljdCk7XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJ0Y1Nlc3Npb24gPSBzZWxmLl9ydGNTZXNzaW9uO1xuXG4gICAgICAgIGlmICghc2VsZi5fc2RwKSB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcignSW52YWxpZCByZW1vdGUgU0RQJyk7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9zdG9wU2Vzc2lvbigpO1xuICAgICAgICAgICAgcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pbnZhbGlkUmVtb3RlU0RQRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHJ0Y1Nlc3Npb24sIFJUQ19FUlJPUlMuSU5WQUxJRF9SRU1PVEVfU0RQKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoIXNlbGYuX2NhbmRpZGF0ZXMgfHwgc2VsZi5fY2FuZGlkYXRlcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcignTm8gcmVtb3RlIElDRSBjYW5kaWRhdGUnKTtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3N0b3BTZXNzaW9uKCk7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0Lm5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHJ0Y1Nlc3Npb24sIFJUQ19FUlJPUlMuTk9fUkVNT1RFX0lDRV9DQU5ESURBVEUpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuaW52YWxpZFJlbW90ZVNEUEZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5ub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5fcnRjU2Vzc2lvbi5fc3RyYXRlZ3kuc2V0UmVtb3RlRGVzY3JpcHRpb24oc2VsZiwgcnRjU2Vzc2lvbik7XG4gICAgfVxuICAgIG9uU2lnbmFsaW5nSGFuZHNoYWtlZCgpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5oYW5kc2hha2luZ1RpbWVNaWxsaXMgPSBEYXRlLm5vdygpIC0gdGhpcy5fcnRjU2Vzc2lvbi5fc2lnbmFsbGluZ0Nvbm5lY3RUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ0hhbmRzaGFrZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaGVja0FuZFRyYW5zaXQoKTtcbiAgICB9XG4gICAgX2NoZWNrQW5kVHJhbnNpdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NpZ25hbGluZ0hhbmRzaGFrZWQgJiYgdGhpcy5fcmVtb3RlRGVzY3JpcHRpb25TZXQpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gcGVlckNvbm5lY3Rpb25NYW5hZ2VyIGluaXRpYWxpemVkIGFuZCBjb250YWN0VG9rZW4gZG9lc24ndCBleGlzdCwgcnRjU2Vzc2lvbiB3aWxsIG1vdmUgdG8gRGlzY29ubmVjdGVkU3RhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLl9ydGNTZXNzaW9uLl9wY20gJiYgIXRoaXMuX3J0Y1Nlc3Npb24uX2NvbnRhY3RUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5fcnRjU2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBEaXNjb25uZWN0ZWRTdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgVGFsa2luZ1N0YXRlKHRoaXMuX3J0Y1Nlc3Npb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fc2lnbmFsaW5nSGFuZHNoYWtlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdQZW5kaW5nIGhhbmRzaGFraW5nJyk7XG4gICAgICAgIH0gZWxzZSB7IC8vaW1wbGllcyBfcmVtb3RlRGVzY3JpcHRpb25TZXQgPT0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnUGVuZGluZyBzZXR0aW5nIHJlbW90ZSBkZXNjcmlwdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQWNjZXB0U3RhdGVcIjtcbiAgICB9XG59XG5cbi8qKlxuICogQ29ubmVjdENvbnRhY3RTdGF0ZVxuICogd2hlbiBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiBpcyBlbmFibGVkIGZvciB0aGUgYWdlbnQsIENDUCByZXVzZXMgdGhlIGV4aXN0aW5nIHNpZ25hbGluZyBjaGFubmVsIHRvIHNlbmRcbiAqIENvbm5lY3RDb250YWN0IHJlcXVlc3QgdG8gQW1hem9uQ29ubmVjdCBhbmQgY29ubmVjdHMgdGhlIGNhbGwuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdENvbnRhY3RTdGF0ZSBleHRlbmRzIFJUQ1Nlc3Npb25TdGF0ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihydGNTZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKHJ0Y1Nlc3Npb24pO1xuICAgIH1cblxuICAgIG9uRW50ZXIoKXtcbiAgICAgICAgdmFyIHJ0Y1Nlc3Npb24gPSB0aGlzLl9ydGNTZXNzaW9uO1xuICAgICAgICB2YXIgbG9nZ2VyID0gdGhpcy5sb2dnZXI7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pc0V4aXN0aW5nUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgcnRjU2Vzc2lvbi5fcGNtLl9zaWduYWxpbmdDaGFubmVsLmNvbm5lY3RDb250YWN0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9wY20uX21lZGlhU3RyZWFtID0gc2VsZi5fY3JlYXRlTWVkaWFTdHJlYW0ocnRjU2Vzc2lvbi5fcGMuZ2V0U2VuZGVycygpWzBdLnRyYWNrKSA7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9vbkxvY2FsU3RyZWFtQWRkZWQocnRjU2Vzc2lvbiwgcnRjU2Vzc2lvbi5fcGNtLl9tZWRpYVN0cmVhbSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJbY29ubmVjdENvbnRhY3RdIEZhaWxlZCB0byBnZXQgYXVkaW8gdHJhY2sgZnJvbSBleGlzdGluZyBwZWVyIGNvbm5lY3Rpb25cIikud2l0aEV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBUYWxraW5nU3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpO1xuXG4gICAgICAgIC8vIGlmIHRoZSBydGNTZXNzaW9uIGlzIHVzaW5nIFVzZXJQcm92aWRlZFN0cmVhbSwgd2UgZG8gbm90IG92ZXJyaWRlIGl0XG4gICAgICAgIGlmIChydGNTZXNzaW9uLl9pc1VzZXJQcm92aWRlZFN0cmVhbSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vdCByZXNldHRpbmcgbWVkaWEgc3RyZWFtIGFzIHVzZXIgcHJvdmlkZWQgc3RyZWFtIGlzIGJlaW5nIHVzZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbkd1bVByb21pc2UgPSB0aGlzLl9nVU0ocnRjU2Vzc2lvbi5fYnVpbGRNZWRpYUNvbnN0cmFpbnRzKCkpO1xuICAgICAgICAgICAgc2Vzc2lvbkd1bVByb21pc2UudGhlbihmdW5jdGlvbiAobmV3TWljcm9waG9uZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdNaWNyb3Bob25lVHJhY2sgPSBuZXdNaWNyb3Bob25lU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIGF1ZGlvIHRyYWNrIGluIHRoZSBSdGNQZWVyQ29ubmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAocnRjU2Vzc2lvbi5faXNVc2VyUHJvdmlkZWRTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJOb3QgcmVzZXR0aW5nIG1lZGlhIHN0cmVhbSBhcyB1c2VyIHByb3ZpZGVkIHN0cmVhbSB3YXMgc2V0IGFmdGVyIHJ0Y0pzIEdVTVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3BjLmdldFNlbmRlcnMoKVswXS5yZXBsYWNlVHJhY2sobmV3TWljcm9waG9uZVRyYWNrKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydGNTZXNzaW9uLl9wY20uX21lZGlhU3RyZWFtID0gc2VsZi5fY3JlYXRlTWVkaWFTdHJlYW0ocnRjU2Vzc2lvbi5fcGMuZ2V0U2VuZGVycygpWzBdLnRyYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydGNTZXNzaW9uLl9vbkxvY2FsU3RyZWFtQWRkZWQocnRjU2Vzc2lvbiwgcnRjU2Vzc2lvbi5fcGNtLl9tZWRpYVN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIltjb25uZWN0Q29udGFjdF0gQXVkaW8gZGV2aWNlIHNldCBzdWNjZXNzZnVsbHkgYW5kIF9vbkxvY2FsU3RyZWFtQWRkZWQgdHJpZ2dlcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIltjb25uZWN0Q29udGFjdF0gRmFpbGVkIHRvIHVwZGF0ZSBhdWRpbyB0cmFjayBmb3IgdGhlIHBlZXIgY29ubmVjdGlvblwiKS53aXRoRXhjZXB0aW9uKGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJbY29ubmVjdENvbnRhY3RdIEZhaWxlZCB0byBnZXQgbWljcm9waG9uZSBzdHJlYW0gZnJvbSBnZXRVc2VyTWVkaWFcIikud2l0aEV4Y2VwdGlvbihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX2dVTShjb25zdHJhaW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnRjU2Vzc2lvbi5fc3RyYXRlZ3kuX2dVTShjb25zdHJhaW50cyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1lZGlhU3RyZWFtKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydGNTZXNzaW9uLl9zdHJhdGVneS5fY3JlYXRlTWVkaWFTdHJlYW0odHJhY2spO1xuICAgIH1cblxuICAgIG9uU2lnbmFsaW5nSGFuZHNoYWtlZCgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDb25uZWN0Q29udGFjdFN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFsa2luZ1N0YXRlIGV4dGVuZHMgUlRDU2Vzc2lvblN0YXRlIHtcblxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQucHJlVGFsa2luZ1RpbWVNaWxsaXMgPSB0aGlzLl9zdGFydFRpbWUgLSB0aGlzLl9ydGNTZXNzaW9uLl9jb25uZWN0VGltZVN0YW1wO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LmlzTWVkaWFDbHVzdGVyUGF0aCA9IHRoaXMuX3J0Y1Nlc3Npb24uX3NpZ25hbGluZ0NoYW5uZWwuX2lzTWVkaWFDbHVzdGVyUGF0aDtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pc1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbiA9ICEhKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbSAmJiB0aGlzLl9ydGNTZXNzaW9uLl9wY20uaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbSkge1xuICAgICAgICAgICAgLy8gRm9yIHBlcnNpc3RuZXQgY29ubmVjdGlvbiwgcmVzdW1lIHRoZSBsb2NhbCBhdWRpbyB3aGljaCB3YXMgcGF1c2VkIHdoZW4gdGhlIHByZXZpb3VzIFJ0Y1Nlc3Npb24gd2FzIGRlc3Ryb3llZFxuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5yZXN1bWVMb2NhbEF1ZGlvKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fb25TZXNzaW9uQ29ubmVjdGVkKHRoaXMuX3J0Y1Nlc3Npb24pO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIHRha2VuIHRvIHJlY2VpdmUgdGhlIGZpcnN0IFJUUCBwYWNrZXRcbiAgICAgICAgbGV0IGludGVydmFsO1xuICAgICAgICBsZXQgdGltZW91dDtcbiAgICAgICAgY29uc3QgZ2V0U3luY2hyb25pemF0aW9uU291cmNlc0FuZFByb2Nlc3MgPSBhc3luYygpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ydGNTZXNzaW9uICYmIHRoaXMuX3J0Y1Nlc3Npb24uX3BjICYmIHRoaXMuX3J0Y1Nlc3Npb24uX3BjLmdldFJlY2VpdmVycygpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ0Y1J0cFJlY2VpdmVyID0gdGhpcy5fcnRjU2Vzc2lvbi5fcGMuZ2V0UmVjZWl2ZXJzKClbMF07XG4gICAgICAgICAgICAgICAgaWYocnRjUnRwUmVjZWl2ZXIgaW5zdGFuY2VvZiBSVENSdHBSZWNlaXZlcil7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNocm9uaXphdGlvblNvdXJjZXMgPSBydGNSdHBSZWNlaXZlci5nZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXphdGlvblNvdXJjZXMuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFJUUFRpbWVNaWxsaXMgPSBzb3VyY2UudGltZXN0YW1wIC0gdGhpcy5fcnRjU2Vzc2lvbi5fY29ubmVjdFRpbWVTdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpcnN0UlRQVGltZU1pbGxpcyA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuZmlyc3RSVFBUaW1lTWlsbGlzID0gZmlyc3RSVFBUaW1lTWlsbGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYnJlYWsgb3V0IGFuZCBzdG9wIGNoZWNraW5nIGZvciBSVFAgcGFja2V0cyBhcyBzb29uIGFzIHdlIHJlY2VpdmUgdGhlIGZpcnN0IHBhY2tldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHVwIHRpbWVvdXQgdG8gc3RvcCB0aGUgaW50ZXJ2YWwgYWZ0ZXIgMSBzZWNvbmRzXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RpbWVvdXQgcmVhY2hlZCwgc3RvcHBpbmcgdGhlIGludGVydmFsJyk7XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZ2V0U3luY2hyb25pemF0aW9uU291cmNlc0FuZFByb2Nlc3MsIDIwKTtcbiAgICAgICAgdGhpcy5zZXRTdWJTdGF0ZShuZXcgQ29ubmVjdGVkU3Vic3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpO1xuICAgIH1cbiAgICBvblNpZ25hbGluZ1JlY29ubmVjdGVkKCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IGFmdGVyIHVwZ3JhZGluZyBlc2xpbnQsIHVzZSBvcHRpb25hbCBjaGFpbmluZ1xuICAgICAqICBjb25zdCBzaWduYWxpbmdDaGFubmVsID0gdGhpcy5fcnRjU2Vzc2lvbi5fcGNtPy5fc2lnbmFsaW5nQ2hhbm5lbCB8fCB0aGlzLl9ydGNTZXNzaW9uLl9zaWduYWxpbmdDaGFubmVsO1xuICAgICAqICAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5oYW5ndXAoKTtcbiAgICAgKi9cbiAgICBvblJlbW90ZUh1bmd1cCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbSkge1xuICAgICAgICAgICAgLy9VbnJlYWNoYWJsZSBjb2RlLlxuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fcGNtLl9zaWduYWxpbmdDaGFubmVsLmhhbmd1cCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2lnbmFsaW5nQ2hhbm5lbC5oYW5ndXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zaXQobmV3IERpc2Nvbm5lY3RlZFN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBhZnRlciB1cGdyYWRpbmcgZXNsaW50LCB1c2Ugb3B0aW9uYWwgY2hhaW5pbmdcbiAgICAgKiAgY29uc3Qgc2lnbmFsaW5nQ2hhbm5lbCA9IHRoaXMuX3J0Y1Nlc3Npb24uX3BjbT8uX3NpZ25hbGluZ0NoYW5uZWwgfHwgdGhpcy5fcnRjU2Vzc2lvbi5fc2lnbmFsaW5nQ2hhbm5lbDtcbiAgICAgKiAgICAgICAgIHNpZ25hbGluZ0NoYW5uZWwuaGFuZ3VwKCk7XG4gICAgICovXG4gICAgaGFuZ3VwKCkge1xuICAgICAgICBpZiAodGhpcy5fcnRjU2Vzc2lvbi5fcGNtKSB7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wY20uX3NpZ25hbGluZ0NoYW5uZWwuaGFuZ3VwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zaWduYWxpbmdDaGFubmVsLmhhbmd1cCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgRGlzY29ubmVjdGVkU3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpO1xuICAgIH1cbiAgICBvbkljZVN0YXRlQ2hhbmdlKGV2dCkge1xuICAgICAgICB2YXIgaWNlU3RhdGUgPSB0aGlzLl9ydGNTZXNzaW9uLl9zdHJhdGVneS5vbkljZVN0YXRlQ2hhbmdlKGV2dCwgdGhpcy5fcnRjU2Vzc2lvbi5fcGMpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdJQ0UgQ29ubmVjdGlvbiBTdGF0ZTogJywgaWNlU3RhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdWJTdGF0ZSAmJiB0eXBlb2YgdGhpcy5fc3ViU3RhdGUub25JY2VTdGF0ZUNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fc3ViU3RhdGUub25JY2VTdGF0ZUNoYW5nZShldnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGljZVN0YXRlID09IElDRV9DT05ORUNUSU9OX1NUQVRFLkRJU0NPTk5FQ1RFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTG9zdCBJQ0UgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pY2VDb25uZWN0aW9uc0xvc3QgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpY2VTdGF0ZSA9PSBJQ0VfQ09OTkVDVElPTl9TVEFURS5GQUlMRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuaWNlQ29ubmVjdGlvbnNGYWlsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TaWduYWxpbmdDb25uZWN0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJTdGF0ZSAmJiB0eXBlb2YgdGhpcy5fc3ViU3RhdGUub25TaWduYWxpbmdDb25uZWN0ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlN0YXRlLm9uU2lnbmFsaW5nQ29ubmVjdGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25TaWduYWxpbmdGYWlsZWQoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3ViU3RhdGUgJiYgdHlwZW9mIHRoaXMuX3N1YlN0YXRlLm9uU2lnbmFsaW5nRmFpbGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJTdGF0ZS5vblNpZ25hbGluZ0ZhaWxlZChlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVhc29uO1xuICAgICAgICBpZiAoZS5uYW1lID09IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbVGFsa2luZ1N0YXRlXSBBY2Nlc3MgRGVuaWVkIGJ5IHNlcnZlcicsIGUpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5oYW5kc2hha2luZ0ZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgcmVhc29uID0gUlRDX0VSUk9SUy5TSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9ydGNTZXNzaW9uLCByZWFzb24pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbVGFsa2luZ1N0YXRlXSBGYWlsZWQgaGFuZHNoYWtpbmcgd2l0aCBzaWduYWxpbmcgc2VydmVyJywgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25TaWduYWxpbmdBbnN3ZXJlZChzZHAsIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N1YlN0YXRlICYmIHR5cGVvZiB0aGlzLl9zdWJTdGF0ZS5vblNpZ25hbGluZ0Fuc3dlcmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJTdGF0ZS5vblNpZ25hbGluZ0Fuc3dlcmVkKHNkcCwgY2FuZGlkYXRlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25TaWduYWxpbmdIYW5kc2hha2VkKCkge1xuICAgICAgICBpZiAodGhpcy5fc3ViU3RhdGUgJiYgdHlwZW9mIHRoaXMuX3N1YlN0YXRlLm9uU2lnbmFsaW5nSGFuZHNoYWtlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fc3ViU3RhdGUub25TaWduYWxpbmdIYW5kc2hha2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25JY2VDYW5kaWRhdGUoZXZ0KSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJTdGF0ZSAmJiB0eXBlb2YgdGhpcy5fc3ViU3RhdGUub25JY2VDYW5kaWRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlN0YXRlLm9uSWNlQ2FuZGlkYXRlKGV2dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkljZVJlc3RhcnRGYWlsdXJlKCkge1xuICAgICAgICBpZiAodGhpcy5fc3ViU3RhdGUgJiYgdHlwZW9mIHRoaXMuX3N1YlN0YXRlLm9uSWNlUmVzdGFydEZhaWx1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlN0YXRlLm9uSWNlUmVzdGFydEZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jaGVja0FuZFRyYW5zaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJTdGF0ZSAmJiB0eXBlb2YgdGhpcy5fc3ViU3RhdGUuX2NoZWNrQW5kVHJhbnNpdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fc3ViU3RhdGUuX2NoZWNrQW5kVHJhbnNpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3ViU3RhdGUobmV4dFN0YXRlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1N1YnN0YXRlOiAnICsgKHRoaXMuX3N1YlN0YXRlID8gdGhpcy5fc3ViU3RhdGUubmFtZSA6ICdudWxsJykgKyAnID0+ICcgKyBuZXh0U3RhdGUubmFtZSk7XG4gICAgICAgIGlmICh0aGlzLl9zdWJTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3ViU3RhdGUub25FeGl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ViU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgIHRoaXMuX3N1YlN0YXRlLm9uRW50ZXIoKTtcbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBwZWVyQ29ubmVjdGlvblN0YXRlID0gdGhpcy5fcnRjU2Vzc2lvbi5fc3RyYXRlZ3kub25QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlKHRoaXMuX3J0Y1Nlc3Npb24uX3BjKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnUGVlciBDb25uZWN0aW9uIFN0YXRlOiAnLCBwZWVyQ29ubmVjdGlvblN0YXRlKTtcblxuICAgICAgICBpZiAocGVlckNvbm5lY3Rpb25TdGF0ZSA9PSBQRUVSX0NPTk5FQ1RJT05fU1RBVEUuRkFJTEVEKSB7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnBlZXJDb25uZWN0aW9uRmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRXhpdCgpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC50YWxraW5nVGltZU1pbGxpcyA9IERhdGUubm93KCkgLSB0aGlzLl9zdGFydFRpbWU7XG4gICAgICAgIGlmICghdGhpcy5fcnRjU2Vzc2lvbi5fcGNtIHx8ICF0aGlzLl9ydGNTZXNzaW9uLl9wY20uaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fZGV0YWNoTWVkaWEoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnNlc3Npb25FbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fb25TZXNzaW9uQ29tcGxldGVkKHRoaXMuX3J0Y1Nlc3Npb24pO1xuICAgICAgICBpZiAodGhpcy5fc3ViU3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlN0YXRlLm9uRXhpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlRhbGtpbmdTdGF0ZVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFuVXBTdGF0ZSBleHRlbmRzIFJUQ1Nlc3Npb25TdGF0ZSB7XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBydGNTZXNzaW9uLl9wY20uX21lZGlhU3RyZWFtIHdvdWxkIGJlIG91dCBvZiBzeW5jIGlmIHRoZSBhdWRpbyBkZXZpY2UgY2hhbmdlZCBkdXJpbmcgdGhlIGNhbGxcbiAgICAgICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wY20uX21lZGlhU3RyZWFtID0gdGhpcy5fcnRjU2Vzc2lvbi5fc3RyYXRlZ3kuX2NyZWF0ZU1lZGlhU3RyZWFtKHRoaXMuX3J0Y1Nlc3Npb24uX3BjLmdldFNlbmRlcnMoKVswXS50cmFjayk7XG4gICAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJDcmVhdGluZyBNZWRpYVN0cmVhbSBlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBwZXJzaXN0ZW50IGNvbm5lY3Rpb24sIHBhdXNlIHRoZSBsb2NhbCBhdWRpbyB3aGVuIHdlIGRlc3Ryb3kgdGhlIFJ0Y1Nlc3Npb24sIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byB0cmFuc21pdCBhbnkgYXVkaW8gd2hlbiBhZ2VudCBpcyBpZGxlXG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLnBhdXNlTG9jYWxBdWRpbygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0b3BTZXNzaW9uKCk7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuY2xlYW51cFRpbWVNaWxsaXMgPSBEYXRlLm5vdygpIC0gdGhpcy5fc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9vblNlc3Npb25EZXN0cm95ZWQodGhpcy5fcnRjU2Vzc2lvbiwgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydCk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDbGVhblVwU3RhdGVcIjtcbiAgICB9XG4gICAgaGFuZ3VwKCkge1xuICAgICAgICAvL2RvIG5vdGhpbmcsIGFscmVhZHkgYXQgdGhlIGVuZCBvZiBsaWZlY3ljbGVcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGlzY29ubmVjdGVkU3RhdGUgZXh0ZW5kcyBDbGVhblVwU3RhdGUge1xuICAgIG9uU2lnbmFsaW5nSGFuZHNoYWtlZCgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cblxuICAgIG9uUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJEaXNjb25uZWN0ZWRTdGF0ZVwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGYWlsZWRTdGF0ZSBleHRlbmRzIENsZWFuVXBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IocnRjU2Vzc2lvbiwgZmFpbHVyZVJlYXNvbikge1xuICAgICAgICBzdXBlcihydGNTZXNzaW9uKTtcbiAgICAgICAgdGhpcy5fZmFpbHVyZVJlYXNvbiA9IGZhaWx1cmVSZWFzb247XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2Vzc2lvbkVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9vblNlc3Npb25GYWlsZWQodGhpcy5fcnRjU2Vzc2lvbiwgdGhpcy5fZmFpbHVyZVJlYXNvbik7XG4gICAgICAgIGlmICh0aGlzLl9ydGNTZXNzaW9uLl9wY20pIHtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIub25FbnRlcigpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRmFpbGVkU3RhdGVcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ0Y1Nlc3Npb24ge1xuICAgIC8qKlxuICAgICAqIEJ1aWxkIGFuIEFtYXpvbkNvbm5lY3QgUlRDIHNlc3Npb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hbGluZ1VyaSAob3B0aW9uYWwsIGFwcGxpZXMgdG8gQ0NQdjEpXG4gICAgICogQHBhcmFtIHsqfSBpY2VTZXJ2ZXJzIEFycmF5IG9mIGljZSBzZXJ2ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RUb2tlbiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGNvbnRhY3QgdG9rZW4gKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsb2dnZXIgQW4gb2JqZWN0IHByb3ZpZGVzIGxvZ2dpbmcgZnVuY3Rpb25zLCBzdWNoIGFzIGNvbnNvbGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdElkIE11c3QgYmUgVVVJRCwgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdGlvbklkIFJlZmVycyB0byBtZWRpYSBsZWcgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd3NzTWFuYWdlciAtIHdlYnNvY2tldCBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0cmF0ZWd5IC0gVkRJIHN0cmF0ZWd5IGluZGljYXRlcyB3aGljaCBXZWJSVEMgU0RLIHRvIHVzZTogc3RhbmRhcmQsIENpdHJpeCwgV29ya1NwYWNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBlZXJDb25uZWN0aW9uTWFuYWdlciAtIHJlZmVycyB0byB0aGUgcGVlckNvbm5lY3Rpb25NYW5hZ2VyIG9iamVjdCB3aGljaCBtYW5hZ2VzIHJ0Y1Nlc3Npb24gYW5kIHBlZXIgY29ubmVjdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZ1VyaSwgaWNlU2VydmVycywgY29udGFjdFRva2VuLCBsb2dnZXIsIGNvbnRhY3RJZCwgY29ubmVjdGlvbklkLCB3c3NNYW5hZ2VyLCBzdHJhdGVneSA9IG5ldyBTdGFuZGFyZFN0cmF0ZWd5KCksIHBlZXJDb25uZWN0aW9uTWFuYWdlciA9IG51bGwpIHtcbiAgICAgICAgaWYgKCEoc3RyYXRlZ3kgaW5zdGFuY2VvZiBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGEgc3RyYXRlZ3kgb2YgdHlwZSBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aHJvdyBJbGxlZ2FsUGFyYW1ldGVycyBlcnJvciB3aGVuIHNpZ25hbGluZ1VyaSBpcyBtaXNzaW5nIGFuZCBwZWVyIGNvbm5lY3Rpb24gbWFuYWdlciBpcyBub3QgZGVmaW5lZFxuICAgICAgICBpZiAoIXBlZXJDb25uZWN0aW9uTWFuYWdlciAmJiB0eXBlb2Ygc2lnbmFsaW5nVXJpICE9PSAnc3RyaW5nJyB8fCAoc2lnbmFsaW5nVXJpICYmIHNpZ25hbGluZ1VyaS50cmltKCkubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxQYXJhbWV0ZXJzKCdzaWduYWxpbmdVcmkgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWljZVNlcnZlcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsUGFyYW1ldGVycygnaWNlU2VydmVycyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbG9nZ2VyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxQYXJhbWV0ZXJzKCdsb2dnZXIgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRhY3RJZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FsbElkID0gdXVpZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FsbElkID0gY29udGFjdElkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25JZCA9IGNvbm5lY3Rpb25JZDtcbiAgICAgICAgdGhpcy5fd3NzTWFuYWdlciA9IHdzc01hbmFnZXI7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25SZXBvcnQgPSBuZXcgU2Vzc2lvblJlcG9ydCgpO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmdVcmkgPSBzaWduYWxpbmdVcmk7XG4gICAgICAgIHRoaXMuX2ljZVNlcnZlcnMgPSBpY2VTZXJ2ZXJzO1xuICAgICAgICB0aGlzLl9jb250YWN0VG9rZW4gPSBjb250YWN0VG9rZW47XG4gICAgICAgIHRoaXMuX29yaWdpbmFsTG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLl9sb2dnZXIgPSB3cmFwTG9nZ2VyKHRoaXMuX29yaWdpbmFsTG9nZ2VyLCB0aGlzLl9jYWxsSWQsICdTRVNTSU9OJyk7XG4gICAgICAgIHRoaXMuX3BjbSA9IHBlZXJDb25uZWN0aW9uTWFuYWdlcjtcbiAgICAgICAgdGhpcy5faWNlVGltZW91dE1pbGxpcyA9IERFRkFVTFRfSUNFX1RJTUVPVVRfTVM7XG4gICAgICAgIHRoaXMuX2d1bVRpbWVvdXRNaWxsaXMgPSBERUZBVUxUX0dVTV9USU1FT1VUX01TO1xuXG4gICAgICAgIHRoaXMuX2VuYWJsZUF1ZGlvID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5hYmxlVmlkZW8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZmFjaW5nTW9kZSA9ICd1c2VyJztcbiAgICAgICAgdGhpcy5fbGVnYWN5U3RhdHNSZXBvcnRTdXBwb3J0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VyIG1heSBwcm92aWRlIHRoZSBzdHJlYW0gdG8gdGhlIFJ0Y1Nlc3Npb24gZGlyZWN0bHkgdG8gY29ubmVjdCB0byB0aGUgb3RoZXIgZW5kLlxuICAgICAgICAgKiB1c2VyIG1heSBhbHNvIGFjcXVpcmUgdGhlIHN0cmVhbSBmcm9tIHRoZSBsb2NhbCBkZXZpY2UuXG4gICAgICAgICAqIFRoaXMgZmxhZyBpcyB1c2VkIHRvIHRyYWNrIHdoZXJlIHRoZSBzdHJlYW0gaXMgYWNxdWlyZWQuXG4gICAgICAgICAqIElmIGl0J3MgYWNxdWlyZWQgZnJvbSBsb2NhbCBkZXZpY2VzLCB0aGVuIHdlIG11c3QgY2xvc2UgdGhlIHN0cmVhbSB3aGVuIHRoZSBzZXNzaW9uIGVuZHMuXG4gICAgICAgICAqIElmIGl0J3MgcHJvdmlkZWQgYnkgdXNlciAocmF0aGVyIHRoYW4gbG9jYWwgY2FtZXJhL21pY3JvcGhvbmUpLCB0aGVuIHdlIHNob3VsZCBsZWF2ZSBpdCBvcGVuIHdoZW4gdGhlXG4gICAgICAgICAqIHNlc3Npb24gZW5kcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lzVXNlclByb3ZpZGVkU3RyZWFtID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fb25HdW1FcnJvciA9XG4gICAgICAgICAgICB0aGlzLl9vbkd1bVN1Y2Nlc3MgPVxuICAgICAgICAgICAgICAgIHRoaXMuX29uTG9jYWxTdHJlYW1BZGRlZCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU2Vzc2lvbkZhaWxlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblNlc3Npb25Jbml0aWFsaXplZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TaWduYWxpbmdDb25uZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkljZUNvbGxlY3Rpb25Db21wbGV0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblNpZ25hbGluZ1N0YXJ0ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU2Vzc2lvbkNvbm5lY3RlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUmVtb3RlU3RyZWFtQWRkZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TZXNzaW9uQ29tcGxldGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblNlc3Npb25EZXN0cm95ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHNlc3Npb25SZXBvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uUmVwb3J0O1xuICAgIH1cbiAgICBnZXQgY2FsbElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRNZWRpYVN0cmVhbSByZXR1cm5zIHRoZSBsb2NhbCBzdHJlYW0sIHdoaWNoIG1heSBiZSBhY3F1aXJlZCBmcm9tIGxvY2FsIGRldmljZSBvciBmcm9tIHVzZXIgcHJvdmlkZWQgc3RyZWFtLlxuICAgICAqIFJhdGhlciB0aGFuIGdldHRpbmcgYSBzdHJlYW0gYnkgY2FsbGluZyBnZXRVc2VyTWVkaWEgKHdoaWNoIGdldHMgYSBzdHJlYW0gZnJvbSBsb2NhbCBkZXZpY2Ugc3VjaCBhcyBjYW1lcmEpLFxuICAgICAqIHVzZXIgY291bGQgYWxzbyBwcm92aWRlIHRoZSBzdHJlYW0gdG8gdGhlIFJ0Y1Nlc3Npb24gZGlyZWN0bHkgdG8gY29ubmVjdCB0byB0aGUgb3RoZXIgZW5kLlxuICAgICAqL1xuICAgIGdldCBtZWRpYVN0cmVhbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsU3RyZWFtO1xuICAgIH1cbiAgICBnZXQgcmVtb3RlVmlkZW9TdHJlYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdGVWaWRlb1N0cmVhbTtcbiAgICB9XG4gICAgcGF1c2VMb2NhbFZpZGVvKCkge1xuICAgICAgICBpZih0aGlzLl9sb2NhbFN0cmVhbSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvVHJhY2sgPSB0aGlzLl9sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICAgICAgaWYodmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICAgIHZpZGVvVHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VtZUxvY2FsVmlkZW8oKSB7XG4gICAgICAgIGlmKHRoaXMuX2xvY2FsU3RyZWFtKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9UcmFjayA9IHRoaXMuX2xvY2FsU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgICAgICBpZih2aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9UcmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXVzZVJlbW90ZVZpZGVvKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVtb3RlVmlkZW9TdHJlYW0pIHtcbiAgICAgICAgICAgIHZhciB2aWRlb1RyYWNrID0gdGhpcy5fcmVtb3RlVmlkZW9TdHJlYW0uZ2V0VHJhY2tzKClbMV07XG4gICAgICAgICAgICBpZih2aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9UcmFjay5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdW1lUmVtb3RlVmlkZW8oKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdGVWaWRlb1N0cmVhbSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvVHJhY2sgPSB0aGlzLl9yZW1vdGVWaWRlb1N0cmVhbS5nZXRUcmFja3MoKVsxXTtcbiAgICAgICAgICAgIGlmKHZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgICAgICB2aWRlb1RyYWNrLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogZml4IGVzbGludCB2ZXJzaW9uIHRvIHVzZSBvcHRpb25hbCBjaGFpbmluZ1xuICAgICAqIGNvbnN0IGF1ZGlvVHJhY2sgPSB0aGlzLl9wY20/Ll9tZWRpYVN0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKVswXSB8fCB0aGlzLl9sb2NhbFN0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgKiAgICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgKiAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgICAqICAgICB9XG4gICAgICovXG4gICAgcGF1c2VMb2NhbEF1ZGlvKCkge1xuICAgICAgICB2YXIgYXVkaW9UcmFjaztcbiAgICAgICAgaWYgKHRoaXMuX3BjbSkge1xuICAgICAgICAgICAgaWYodGhpcy5fcGNtLl9tZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2sgPSB0aGlzLl9wY20uX21lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgICAgICAgICAgaWYoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9jYWxTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrID0gdGhpcy5fbG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgICAgICBpZihhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRPRE86IGZpeCBlc2xpbnQgdmVyc2lvbiB0byB1c2Ugb3B0aW9uYWwgY2hhaW5pbmdcbiAgICAgKiBjb25zdCBhdWRpb1RyYWNrID0gdGhpcy5fcGNtPy5fbWVkaWFTdHJlYW0/LmdldEF1ZGlvVHJhY2tzKClbMF0gfHwgdGhpcy5fbG9jYWxTdHJlYW0/LmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICogICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICogICAgICAgICBhdWRpb1RyYWNrLmVuYWJsZWQgPSB0cnVlO1xuICAgICAqICAgICB9XG4gICAgICovXG4gICAgcmVzdW1lTG9jYWxBdWRpbygpIHtcbiAgICAgICAgdmFyIGF1ZGlvVHJhY2s7XG4gICAgICAgIGlmKHRoaXMuX3BjbSl7XG4gICAgICAgICAgICBpZih0aGlzLl9wY20uX21lZGlhU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9UcmFjayA9IHRoaXMuX3BjbS5fbWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgICAgICBpZihhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2FsU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9UcmFjayA9IHRoaXMuX2xvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9UcmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGF1c2VSZW1vdGVBdWRpbygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbW90ZUF1ZGlvU3RyZWFtKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9UcmFjayA9IHRoaXMuX3JlbW90ZUF1ZGlvU3RyZWFtLmdldFRyYWNrcygpWzBdO1xuICAgICAgICAgICAgaWYoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VtZVJlbW90ZUF1ZGlvKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVtb3RlQXVkaW9TdHJlYW0pIHtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy5fcmVtb3RlQXVkaW9TdHJlYW0uZ2V0VHJhY2tzKClbMF07XG4gICAgICAgICAgICBpZihhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9UcmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIGdVTSBzdWNjZWVkcy5cbiAgICAgKiBGaXJzdCBwYXJhbSBpcyBSdGNTZXNzaW9uIG9iamVjdC5cbiAgICAgKi9cbiAgICBzZXQgb25HdW1TdWNjZXNzKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fb25HdW1TdWNjZXNzID0gaGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgd2hlbiBnVU0gZmFpbHMuXG4gICAgICogRmlyc3QgcGFyYW0gaXMgUnRjU2Vzc2lvbiBvYmplY3QuXG4gICAgICogU2Vjb25kIHBhcmFtIGlzIHRoZSBlcnJvci5cbiAgICAgKi9cbiAgICBzZXQgb25HdW1FcnJvcihoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX29uR3VtRXJyb3IgPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBpZiBmYWlsZWQgaW5pdGlhbGl6aW5nIGxvY2FsIHJlc291cmNlc1xuICAgICAqIEZpcnN0IHBhcmFtIGlzIFJ0Y1Nlc3Npb24gb2JqZWN0LlxuICAgICAqL1xuICAgIHNldCBvblNlc3Npb25GYWlsZWQoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9vblNlc3Npb25GYWlsZWQgPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBhZnRlciBsb2NhbCB1c2VyIG1lZGlhIHN0cmVhbSBpcyBhZGRlZCB0byB0aGUgc2Vzc2lvbi5cbiAgICAgKiBGaXJzdCBwYXJhbSBpcyBSdGNTZXNzaW9uIG9iamVjdC5cbiAgICAgKiBTZWNvbmQgcGFyYW0gaXMgbWVkaWEgc3RyZWFtXG4gICAgICovXG4gICAgc2V0IG9uTG9jYWxTdHJlYW1BZGRlZChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX29uTG9jYWxTdHJlYW1BZGRlZCA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHdoZW4gYWxsIGxvY2FsIHJlc291cmNlcyBhcmUgcmVhZHkuIEVzdGFibGlzaGluZyBzaWduYWxpbmcgY2hhbmVsIGFuZCBJQ0UgY29sbGVjdGlvbiBoYXBwZW5zIGF0IHRoZSBzYW1lIHRpbWUgYWZ0ZXIgdGhpcy5cbiAgICAgKiBGaXJzdCBwYXJhbSBpcyBSdGNTZXNzaW9uIG9iamVjdC5cbiAgICAgKi9cbiAgICBzZXQgb25TZXNzaW9uSW5pdGlhbGl6ZWQoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9vblNlc3Npb25Jbml0aWFsaXplZCA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHdoZW4gc2lnbmFsaW5nIGNoYW5uZWwgaXMgZXN0YWJsaXNoZWQuXG4gICAgICogUlRDIHNlc3Npb24gd2lsbCBtb3ZlIGZvcndhcmQgb25seSBpZiBvblNpZ25hbGluZ0Nvbm5lY3RlZCBhbmQgb25JY2VDb2xsZWN0aW9uQ29tcGxldGUgYXJlIGJvdGggY2FsbGVkLlxuICAgICAqXG4gICAgICogRmlyc3QgcGFyYW0gaXMgUnRjU2Vzc2lvbiBvYmplY3QuXG4gICAgICovXG4gICAgc2V0IG9uU2lnbmFsaW5nQ29ubmVjdGVkKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fb25TaWduYWxpbmdDb25uZWN0ZWQgPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIElDRSBjb2xsZWN0aW9uIGNvbXBsZXRlcyBlaXRoZXIgYmVjYXVzZSB0aGVyZSBpcyBubyBtb3JlIGNhbmRpZGF0ZSBvciBjb2xsZWN0aW9uIHRpbWVkIG91dC5cbiAgICAgKiBSVEMgc2Vzc2lvbiB3aWxsIG1vdmUgZm9yd2FyZCBvbmx5IGlmIG9uU2lnbmFsaW5nQ29ubmVjdGVkIGFuZCBvbkljZUNvbGxlY3Rpb25Db21wbGV0ZSBhcmUgYm90aCBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGaXJzdCBwYXJhbSBpcyBSdGNTZXNzaW9uIG9iamVjdC5cbiAgICAgKiBTZWNvbmQgcGFyYW0gaXMgYm9vbGVhbiwgVFJVRSAtIElDRSBjb2xsZWN0aW9uIHRpbWVkIG91dC5cbiAgICAgKiBUaGlyZCBwYXJhbSBpcyBudW1iZXIgb2YgY2FuZGlkYXRlcyBjb2xsZWN0ZWQuXG4gICAgICovXG4gICAgc2V0IG9uSWNlQ29sbGVjdGlvbkNvbXBsZXRlKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fb25JY2VDb2xsZWN0aW9uQ29tcGxldGUgPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIHNpZ25hbGluZyBjaGFubmVsIGlzIGVzdGFibGlzaGVkIGFuZCBJQ0UgY29sbGVjdGlvbiBjb21wbGV0ZWQgd2l0aCBhdCBsZWFzdCBvbmUgY2FuZGlkYXRlLlxuICAgICAqIEZpcnN0IHBhcmFtIGlzIFJ0Y1Nlc3Npb24gb2JqZWN0LlxuICAgICAqL1xuICAgIHNldCBvblNpZ25hbGluZ1N0YXJ0ZWQoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9vblNpZ25hbGluZ1N0YXJ0ZWQgPSBoYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIHRoZSBjYWxsIGlzIGVzdGFibGlzaGVkIChoYW5kc2hha2VkIGFuZCBtZWRpYSBzdHJlYW0gc2hvdWxkIGJlIGZsb3dpbmcpXG4gICAgICogRmlyc3QgcGFyYW0gaXMgUnRjU2Vzc2lvbiBvYmplY3QuXG4gICAgICovXG4gICAgc2V0IG9uU2Vzc2lvbkNvbm5lY3RlZChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX29uU2Vzc2lvbkNvbm5lY3RlZCA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGFmdGVyIHJlbW90ZSBtZWRpYSBzdHJlYW0gaXMgYWRkZWQgdG8gdGhlIHNlc3Npb24uXG4gICAgICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aCB0aGUgc2FtZSBzdHJlYW0gaWYgbXVsdGlwbGUgdHJhY2tzIGFyZSBpbmNsdWRlZCBpbiB0aGUgc2FtZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBGaXJzdCBwYXJhbSBpcyBSdGNTZXNzaW9uIG9iamVjdC5cbiAgICAgKiBTZWNvbmQgcGFyYW0gaXMgbWVkaWEgc3RyZWFtIHRyYWNrLlxuICAgICAqL1xuICAgIHNldCBvblJlbW90ZVN0cmVhbUFkZGVkKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fb25SZW1vdGVTdHJlYW1BZGRlZCA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHdoZW4gdGhlIGhhbmd1cCBpcyBpbml0aWF0ZWQgKGltcGxpZXMgdGhlIGNhbGwgd2FzIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCkuXG4gICAgICogRmlyc3QgcGFyYW0gaXMgUnRjU2Vzc2lvbiBvYmplY3QuXG4gICAgICovXG4gICAgc2V0IG9uU2Vzc2lvbkNvbXBsZXRlZChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX29uU2Vzc2lvbkNvbXBsZXRlZCA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGFmdGVyIHNlc3Npb24gaXMgY2xlYW5lZCB1cCwgbm8gbWF0dGVyIGlmIHRoZSBjYWxsIHdhcyBzdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgb3Igbm90LlxuICAgICAqIEZpcnN0IHBhcmFtIGlzIFJ0Y1Nlc3Npb24gb2JqZWN0LlxuICAgICAqIFNlY29uZCBwYXJhbSBpcyBTZXNzaW9uUmVwb3J0IG9iamVjdC5cbiAgICAgKi9cbiAgICBzZXQgb25TZXNzaW9uRGVzdHJveWVkKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fb25TZXNzaW9uRGVzdHJveWVkID0gaGFuZGxlcjtcbiAgICB9XG4gICAgc2V0IGVuYWJsZUF1ZGlvKGZsYWcpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlQXVkaW8gPSBmbGFnO1xuICAgIH1cbiAgICBzZXQgZWNob0NhbmNlbGxhdGlvbihmbGFnKSB7XG4gICAgICAgIHRoaXMuX2VjaG9DYW5jZWxsYXRpb24gPSBmbGFnO1xuICAgIH1cbiAgICBzZXQgZW5hYmxlVmlkZW8oZmxhZykge1xuICAgICAgICB0aGlzLl9lbmFibGVWaWRlbyA9IGZsYWc7XG4gICAgfVxuICAgIHNldCBtYXhWaWRlb0ZyYW1lUmF0ZShmcmFtZVJhdGUpIHtcbiAgICAgICAgdGhpcy5fbWF4VmlkZW9GcmFtZVJhdGUgPSBmcmFtZVJhdGU7XG4gICAgfVxuICAgIHNldCBtaW5WaWRlb0ZyYW1lUmF0ZShmcmFtZVJhdGUpIHtcbiAgICAgICAgdGhpcy5fbWluVmlkZW9GcmFtZVJhdGUgPSBmcmFtZVJhdGU7XG4gICAgfVxuICAgIHNldCB2aWRlb0ZyYW1lUmF0ZShmcmFtZVJhdGUpIHtcbiAgICAgICAgdGhpcy5fdmlkZW9GcmFtZVJhdGUgPSBmcmFtZVJhdGU7XG4gICAgfVxuICAgIHNldCBtYXhWaWRlb1dpZHRoKHdpZHRoKSB7XG4gICAgICAgIHRoaXMuX21heFZpZGVvV2lkdGggPSB3aWR0aDtcbiAgICB9XG4gICAgc2V0IG1pblZpZGVvV2lkdGgod2lkdGgpIHtcbiAgICAgICAgdGhpcy5fbWluVmlkZW9XaWR0aCA9IHdpZHRoO1xuICAgIH1cbiAgICBzZXQgaWRlYWxWaWRlb1dpZHRoKHdpZHRoKSB7XG4gICAgICAgIHRoaXMuX2lkZWFsVmlkZW9XaWR0aCA9IHdpZHRoO1xuICAgIH1cbiAgICBzZXQgbWF4VmlkZW9IZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX21heFZpZGVvSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgICBzZXQgbWluVmlkZW9IZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX21pblZpZGVvSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgICBzZXQgaWRlYWxWaWRlb0hlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5faWRlYWxWaWRlb0hlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgc2V0IGZhY2luZ01vZGUobW9kZSkge1xuICAgICAgICB0aGlzLl9mYWNpbmdNb2RlID0gbW9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwuIFJ0Y1Nlc3Npb24gd2lsbCBncmFiIGlucHV0IGRldmljZSBpZiB0aGlzIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICogUGxlYXNlIG5vdGU6IHRoaXMgUnRjU2Vzc2lvbiBjbGFzcyBvbmx5IHN1cHBvcnQgc2luZ2xlIGF1ZGlvIHRyYWNrIGFuZC9vciBzaW5nbGUgdmlkZW8gdHJhY2suXG4gICAgICovXG4gICAgc2V0IG1lZGlhU3RyZWFtKGlucHV0KSB7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtID0gaW5wdXQ7XG4gICAgICAgIGlmICh0aGlzLl9wY20pIHtcbiAgICAgICAgICAgIHRoaXMuX3BjbS5fbWVkaWFTdHJlYW0gPSBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1VzZXJQcm92aWRlZFN0cmVhbSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5lZWRlZCwgZXhwZWN0IGFuIGF1ZGlvIGVsZW1lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBwbGF5IHJlbW90ZSBhdWRpbyBzdHJlYW0uXG4gICAgICovXG4gICAgc2V0IHJlbW90ZUF1ZGlvRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3JlbW90ZUF1ZGlvRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIHNldCByZW1vdGVWaWRlb0VsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9yZW1vdGVWaWRlb0VsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzaWduYWxpbmcgY29ubmVjdCB0aW1lIG91dC5cbiAgICAgKi9cbiAgICBzZXQgc2lnbmFsaW5nQ29ubmVjdFRpbWVvdXQobXMpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nQ29ubmVjdFRpbWVvdXQgPSBtcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgSUNFIGNvbGxlY3Rpb24gdGltZSBsaW1pdC5cbiAgICAgKi9cbiAgICBzZXQgaWNlVGltZW91dE1pbGxpcyh0aW1lb3V0TWlsbGlzKSB7XG4gICAgICAgIHRoaXMuX2ljZVRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0TWlsbGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBHVU0gdGltZW91dCB0aW1lIGxpbWl0LlxuICAgICAqL1xuICAgIHNldCBndW1UaW1lb3V0TWlsbGlzKHRpbWVvdXRNaWxsaXMpIHtcbiAgICAgICAgdGhpcy5fZ3VtVGltZW91dE1pbGxpcyA9IHRpbWVvdXRNaWxsaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbm5lY3QtcnRjLWpzIGluaXRpYXRlIHRoZSBoYW5kc2hha2luZyB3aXRoIGFsbCBicm93c2VyIHN1cHBvcnRlZCBjb2RlYyBieSBkZWZhdWx0LCBBbWF6b24gQ29ubmVjdCBzZXJ2aWNlIHdpbGwgY2hvb3NlIHRoZSBjb2RlYyBhY2NvcmRpbmcgdG8gaXRzIHByZWZlcmVuY2Ugc2V0dGluZy5cbiAgICAgKiBTZXR0aW5nIHRoaXMgYXR0cmlidXRlIHdpbGwgZm9yY2UgY29ubmVjdC1ydGMtanMgdG8gb25seSB1c2Ugc3BlY2lmaWVkIGNvZGVjLlxuICAgICAqIFdBUk5JTkc6IFNldHRpbmcgdGhpcyB0byB1bnN1cHBvcnRlZCBjb2RlYyB3aWxsIGNhdXNlIHRoZSBmYWlsdXJlIG9mIGhhbmRzaGFraW5nLlxuICAgICAqIFN1cHBvcnRlZCBhdWRpbyBjb2RlY3M6IG9wdXMuXG4gICAgICovXG4gICAgc2V0IGZvcmNlQXVkaW9Db2RlYyhhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRoaXMuX2ZvcmNlQXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29ubmVjdC1ydGMtanMgaW5pdGlhdGUgdGhlIGhhbmRzaGFraW5nIHdpdGggYWxsIGJyb3dzZXIgc3VwcG9ydGVkIGNvZGVjIGJ5IGRlZmF1bHQsIEFtYXpvbiBDb25uZWN0IHNlcnZpY2Ugd2lsbCBjaG9vc2UgdGhlIGNvZGVjIGFjY29yZGluZyB0byBpdHMgcHJlZmVyZW5jZSBzZXR0aW5nLlxuICAgICAqIFNldHRpbmcgdGhpcyBhdHRyaWJ1dGUgd2lsbCBmb3JjZSBjb25uZWN0LXJ0Yy1qcyB0byBvbmx5IHVzZSBzcGVjaWZpZWQgY29kZWMuXG4gICAgICogV0FSTklORzogU2V0dGluZyB0aGlzIHRvIHVuc3VwcG9ydGVkIGNvZGVjIHdpbGwgY2F1c2UgdGhlIGZhaWx1cmUgb2YgaGFuZHNoYWtpbmcuXG4gICAgICogU3VwcG9ydGVkIHZpZGVvIGNvZGVjczogVlA4LCBWUDksIEgyNjQuXG4gICAgICovXG4gICAgc2V0IGZvcmNlVmlkZW9Db2RlYyh2aWRlb0NvZGVjKSB7XG4gICAgICAgIHRoaXMuX2ZvcmNlVmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29ubmVjdC1ydGMtanMgZGlzYWJsZXMgT1BVUyBEVFggYnkgZGVmYXVsdCBiZWNhdXNlIGl0IGhhcm1zIGF1ZGlvIHF1YWxpdHkuXG4gICAgICogQHBhcmFtIGZsYWcgYm9vbGVhblxuICAgICAqL1xuICAgIHNldCBlbmFibGVPcHVzRHR4KGZsYWcpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlT3B1c0R0eCA9IGZsYWc7XG4gICAgfVxuXG4gICAgdHJhbnNpdChuZXh0U3RhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKCh0aGlzLl9zdGF0ZSA/IHRoaXMuX3N0YXRlLm5hbWUgOiAnbnVsbCcpICsgJyA9PiAnICsgbmV4dFN0YXRlLm5hbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlICYmIHRoaXMuX3N0YXRlLm9uRXhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlLm9uRXhpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICBpZiAobmV4dFN0YXRlLm9uRW50ZXIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUub25FbnRlcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLndhcm4obmV4dFN0YXRlLm5hbWUgKyAnI29uRW50ZXIgZmFpbGVkJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlU2lnbmFsaW5nQ2hhbm5lbCgpIHtcbiAgICAgICAgdmFyIHNpZ25hbGluZ0NoYW5uZWwgPSBuZXcgUnRjU2lnbmFsaW5nKHRoaXMuX2NhbGxJZCwgdGhpcy5fc2lnbmFsaW5nVXJpLCB0aGlzLl9jb250YWN0VG9rZW4sIHRoaXMuX29yaWdpbmFsTG9nZ2VyLCB0aGlzLl9zaWduYWxpbmdDb25uZWN0VGltZW91dCwgdGhpcy5fY29ubmVjdGlvbklkLCB0aGlzLl93c3NNYW5hZ2VyLCB0aGlzLl9pY2VSZXN0YXJ0LCB0aGlzLl9wY20pO1xuICAgICAgICBzaWduYWxpbmdDaGFubmVsLm9uQ29ubmVjdGVkID0gaGl0Y2godGhpcywgdGhpcy5fc2lnbmFsaW5nQ29ubmVjdGVkKTtcbiAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5vbkFuc3dlcmVkID0gaGl0Y2godGhpcywgdGhpcy5fc2lnbmFsaW5nQW5zd2VyZWQpO1xuICAgICAgICBzaWduYWxpbmdDaGFubmVsLm9uSGFuZHNoYWtlZCA9IGhpdGNoKHRoaXMsIHRoaXMuX3NpZ25hbGluZ0hhbmRzaGFrZWQpO1xuICAgICAgICBzaWduYWxpbmdDaGFubmVsLm9uUmVtb3RlSHVuZ3VwID0gaGl0Y2godGhpcywgdGhpcy5fc2lnbmFsaW5nUmVtb3RlSHVuZ3VwKTtcbiAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5vbkZhaWxlZCA9IGhpdGNoKHRoaXMsIHRoaXMuX3NpZ25hbGluZ0ZhaWxlZCk7XG4gICAgICAgIHNpZ25hbGluZ0NoYW5uZWwub25EaXNjb25uZWN0ZWQgPSBoaXRjaCh0aGlzLCB0aGlzLl9zaWduYWxpbmdEaXNjb25uZWN0ZWQpO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ0NoYW5uZWwgPSBzaWduYWxpbmdDaGFubmVsO1xuICAgICAgICBpZiAodGhpcy5fcGNtKXtcbiAgICAgICAgICAgIHRoaXMuX3BjbS5fc2lnbmFsaW5nQ2hhbm5lbCA9IHNpZ25hbGluZ0NoYW5uZWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ25hbGluZ0NoYW5uZWw7XG4gICAgfVxuXG4gICAgX2JpbmRTaWduYWxpbmdDaGFubmVsKCkge1xuICAgICAgICB2YXIgc2lnbmFsaW5nQ2hhbm5lbCA9IHRoaXMuX3BjbS5fc2lnbmFsaW5nQ2hhbm5lbDtcbiAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5vbkNvbm5lY3RlZCA9IGhpdGNoKHRoaXMsIHRoaXMuX3NpZ25hbGluZ0Nvbm5lY3RlZCk7XG4gICAgICAgIHNpZ25hbGluZ0NoYW5uZWwub25BbnN3ZXJlZCA9IGhpdGNoKHRoaXMsIHRoaXMuX3NpZ25hbGluZ0Fuc3dlcmVkKTtcbiAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5vbkhhbmRzaGFrZWQgPSBoaXRjaCh0aGlzLCB0aGlzLl9zaWduYWxpbmdIYW5kc2hha2VkKTtcbiAgICAgICAgc2lnbmFsaW5nQ2hhbm5lbC5vblJlbW90ZUh1bmd1cCA9IGhpdGNoKHRoaXMsIHRoaXMuX3NpZ25hbGluZ1JlbW90ZUh1bmd1cCk7XG4gICAgICAgIHNpZ25hbGluZ0NoYW5uZWwub25GYWlsZWQgPSBoaXRjaCh0aGlzLCB0aGlzLl9zaWduYWxpbmdGYWlsZWQpO1xuICAgICAgICBzaWduYWxpbmdDaGFubmVsLm9uRGlzY29ubmVjdGVkID0gaGl0Y2godGhpcywgdGhpcy5fc2lnbmFsaW5nRGlzY29ubmVjdGVkKTtcblxuICAgICAgICB0aGlzLl9zaWduYWxpbmdDaGFubmVsID0gc2lnbmFsaW5nQ2hhbm5lbDtcbiAgICAgICAgcmV0dXJuIHNpZ25hbGluZ0NoYW5uZWw7XG4gICAgfVxuXG4gICAgX3NpZ25hbGluZ0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25TaWduYWxpbmdDb25uZWN0ZWQoKTtcbiAgICB9XG4gICAgX3NpZ25hbGluZ0Fuc3dlcmVkKHNkcCwgY2FuZGlkYXRlcywgaW5hY3Rpdml0eUR1cmF0aW9uLCBwZWVyQ29ubmVjdGlvbklkLCBwZWVyQ29ubmVjdGlvblRva2VuKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLm9uU2lnbmFsaW5nQW5zd2VyZWQoc2RwLCBjYW5kaWRhdGVzLCBpbmFjdGl2aXR5RHVyYXRpb24sIHBlZXJDb25uZWN0aW9uSWQsIHBlZXJDb25uZWN0aW9uVG9rZW4pO1xuICAgIH1cbiAgICBfc2lnbmFsaW5nSGFuZHNoYWtlZCgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25TaWduYWxpbmdIYW5kc2hha2VkKCk7XG4gICAgfVxuICAgIF9zaWduYWxpbmdSZW1vdGVIdW5ndXAoKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLm9uUmVtb3RlSHVuZ3VwKCk7XG4gICAgfVxuICAgIF9zaWduYWxpbmdGYWlsZWQoZSkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5vblNpZ25hbGluZ0ZhaWxlZChlKTtcbiAgICB9XG4gICAgX3NpZ25hbGluZ0Rpc2Nvbm5lY3RlZCgpIHtcbiAgICB9XG4gICAgX2NyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsQ29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuX2NyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsQ29uZmlndXJhdGlvbik7XG4gICAgfVxuICAgIGNvbm5lY3QocGMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgc2VsZi5fc2Vzc2lvblJlcG9ydC5zZXNzaW9uU3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZWxmLl9jb25uZWN0VGltZVN0YW1wID0gbm93LmdldFRpbWUoKTtcbiAgICAgICAgaWYgKHBjICYmIHBjLnNpZ25hbGluZ1N0YXRlICE9ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICBzZWxmLl9wYyA9IHBjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBjKSB7XG4gICAgICAgICAgICAgICAgcGMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBwYyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBSVENfUEVFUl9DT05ORUNUSU9OX0NPTkZJRy5pY2VTZXJ2ZXJzID0gc2VsZi5faWNlU2VydmVycztcbiAgICAgICAgICAgIFJUQ19QRUVSX0NPTk5FQ1RJT05fQ09ORklHLmljZUNhbmRpZGF0ZVBvb2xTaXplID0gREVGQVVMVF9JQ0VfQ0FORElEQVRFX1BPT0xfU0laRTtcbiAgICAgICAgICAgIHNlbGYuX3BjID0gc2VsZi5fY3JlYXRlUGVlckNvbm5lY3Rpb24oUlRDX1BFRVJfQ09OTkVDVElPTl9DT05GSUcsIFJUQ19QRUVSX0NPTk5FQ1RJT05fT1BUSU9OQUxfQ09ORklHKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9wYy5vbnRyYWNrID0gaGl0Y2goc2VsZiwgc2VsZi5fb250cmFjayk7XG4gICAgICAgIHNlbGYuX3BjLm9uaWNlY2FuZGlkYXRlID0gaGl0Y2goc2VsZiwgc2VsZi5fb25JY2VDYW5kaWRhdGUpO1xuICAgICAgICBzZWxmLl9wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IGhpdGNoKHNlbGYsIHNlbGYuX29uUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk7XG4gICAgICAgIHNlbGYuX3BjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gaGl0Y2goc2VsZiwgc2VsZi5fb25JY2VTdGF0ZUNoYW5nZSk7XG5cbiAgICAgICAgLy8gUGVyc2lzdGVudENvbm5lY3Rpb24gZW5hYmxlZCB0cmFuc2l0IHRvIENvbm5lY3RDb250YWN0U3RhdGVcbiAgICAgICAgaWYgKHNlbGYuX3BjbSAmJiBzZWxmLl9wY20uaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSAmJiBzZWxmLl9wY20uX3NpZ25hbGluZ0NoYW5uZWwpIHtcbiAgICAgICAgICAgIHNlbGYuX2JpbmRTaWduYWxpbmdDaGFubmVsKCk7IC8vIGJpbmRpbmcgdGhlIGV4aXN0aW5nIHNpZ25hbGluZyBjaGFubmVsXG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IENvbm5lY3RDb250YWN0U3RhdGUoc2VsZikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi50cmFuc2l0KG5ldyBHcmFiTG9jYWxNZWRpYVN0YXRlKHNlbGYpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY2NlcHQoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbignYWNjZXB0IGRvZXMgbm90IGdvIHRocm91Z2ggc2lnbmFsaW5nIGNoYW5uZWwgYXQgdGhpcyBtb21lbnQnKTtcbiAgICB9XG4gICAgaGFuZ3VwKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5oYW5ndXAoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIGNvbnRhaW5pbmcgYW4gb2JqZWN0IHdpdGggdHdvIG5hbWVkIGxpc3RzIG9mIGF1ZGlvIHN0YXRzLCBvbmUgZm9yIGVhY2ggY2hhbm5lbCBvbiBlYWNoXG4gICAgICogbWVkaWEgdHlwZSBvZiAndmlkZW8nIGFuZCAnYXVkaW8nLlxuICAgICAqIEByZXR1cm4gUmVqZWN0ZWQgcHJvbWlzZSBpZiBmYWlsZWQgdG8gZ2V0IE1lZGlhUnRwU3RhdHMuIFRoZSBwcm9taXNlIGlzIG5ldmVyIHJlc29sdmVkIHdpdGggbnVsbCB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTdGF0cygpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKTtcblxuICAgICAgICBjb25zdCBnZXRTdGF0c0ZvclR5cGUgPSBhc3luYyAoc3RyZWFtVHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmF3U3RhdHMgPSBhd2FpdCB0aGlzLl9wYy5nZXRTdGF0cygpO1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3RNZWRpYVN0YXRzRnJvbVN0YXRzKHRpbWVzdGFtcCwgcmF3U3RhdHMsIHN0cmVhbVR5cGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9wYyAmJiB0aGlzLl9wYy5zaWduYWxpbmdTdGF0ZSA9PT0gJ3N0YWJsZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvSW5wdXRTdGF0cyA9IGF3YWl0IGdldFN0YXRzRm9yVHlwZSgnYXVkaW9faW5wdXQnKTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvT3V0cHV0U3RhdHMgPSBhd2FpdCBnZXRTdGF0c0ZvclR5cGUoJ2F1ZGlvX291dHB1dCcpO1xuXG4gICAgICAgICAgICAvLyBGb3IgY29uc2lzdGVuY3kncyBzYWtlLCBjb2FsZXNjZSBydHRNaWxsaXNlY29uZHMgaW50byB0aGUgb3V0cHV0IGZvciBhdWRpb1xuICAgICAgICAgICAgaWYgKGF1ZGlvSW5wdXRTdGF0cyAmJiBhdWRpb0lucHV0U3RhdHMucnR0TWlsbGlzZWNvbmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9PdXRwdXRTdGF0cy5fcnR0TWlsbGlzZWNvbmRzID0gYXVkaW9JbnB1dFN0YXRzLnJ0dE1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhdWRpb0lucHV0U3RhdHMsXG4gICAgICAgICAgICAgICAgYXVkaW9PdXRwdXRTdGF0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IElsbGVnYWxTdGF0ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgcHJvbWlzZSBvZiBNZWRpYVJ0cFN0YXRzIG9iamVjdCBmb3IgcmVtb3RlIGF1ZGlvIChmcm9tIEFtYXpvbiBDb25uZWN0IHRvIGNsaWVudCkuXG4gICAgICogQHJldHVybiBSZWplY3RlZCBwcm9taXNlIGlmIGZhaWxlZCB0byBnZXQgTWVkaWFSdHBTdGF0cy4gVGhlIHByb21pc2UgaXMgbmV2ZXIgcmVzb2x2ZWQgd2l0aCBudWxsIHZhbHVlLlxuICAgICAqIEBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFN0YXRzKClcbiAgICAgKi9cbiAgICBnZXRSZW1vdGVBdWRpb1N0YXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0cygpLnRoZW4oKHN0YXRzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdHMuYXVkaW9PdXRwdXRTdGF0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0cy5hdWRpb091dHB1dFN0YXRzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IElsbGVnYWxTdGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIG9mIE1lZGlhUnRwU3RhdHMgb2JqZWN0IGZvciB1c2VyIGF1ZGlvIChmcm9tIGNsaWVudCB0byBBbWF6b24gQ29ubmVjdCkuXG4gICAgICogQHJldHVybiBSZWplY3RlZCBwcm9taXNlIGlmIGZhaWxlZCB0byBnZXQgTWVkaWFSdHBTdGF0cy4gVGhlIHByb21pc2UgaXMgbmV2ZXIgcmVzb2x2ZWQgd2l0aCBudWxsIHZhbHVlLlxuICAgICAqIEBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFN0YXRzKClcbiAgICAgKi9cbiAgICBnZXRVc2VyQXVkaW9TdGF0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdHMoKS50aGVuKChzdGF0cykgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXRzLmF1ZGlvSW5wdXRTdGF0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0cy5hdWRpb0lucHV0U3RhdHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgSWxsZWdhbFN0YXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIF9vbkljZUNhbmRpZGF0ZShldnQpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25JY2VDYW5kaWRhdGUoZXZ0KTtcbiAgICB9XG5cbiAgICBfb25QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5vblBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBfb25JY2VTdGF0ZUNoYW5nZShldnQpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25JY2VTdGF0ZUNoYW5nZShldnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaCByZW1vdGUgbWVkaWEgc3RyZWFtIHRvIHdlYiBlbGVtZW50LlxuICAgICAqL1xuICAgIF9vbnRyYWNrKGV2dCkge1xuICAgICAgICB0aGlzLl9zdHJhdGVneS5fb250cmFjayh0aGlzLCBldnQpO1xuICAgICAgICB0aGlzLl9vblJlbW90ZVN0cmVhbUFkZGVkKHRoaXMsIGV2dC5zdHJlYW1zWzBdKTtcbiAgICB9XG4gICAgX2RldGFjaE1lZGlhKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVtb3RlVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdGVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3RlQXVkaW9FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdGVBdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW90ZUF1ZGlvU3RyZWFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc3RvcFNlc3Npb24oKSB7XG4gICAgICAgIC8vIFdoZW4gcGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRvZXMgbm90IGV4aXN0IG9yIFBlcnNpc3RlbnRDb25uZWN0aW9uIGZsYWcgaWYgZmFsc2UsIHdlIHdpbGwgY2xvc2UgbG9jYWwgIG1lZGlhIHN0cmVhbVxuICAgICAgICBpZiAoIXRoaXMuX3BjbSB8fCAhdGhpcy5fcGNtLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2FsU3RyZWFtICYmICF0aGlzLl9pc1VzZXJQcm92aWRlZFN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZVN0cmVhbSh0aGlzLl9sb2NhbFN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNVc2VyUHJvdmlkZWRTdHJlYW0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlYXQgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2J1aWxkTWVkaWFDb25zdHJhaW50cygpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgbWVkaWFDb25zdHJhaW50cyA9IHt9O1xuXG4gICAgICAgIHNlbGYuX3N0cmF0ZWd5Ll9idWlsZE1lZGlhQ29uc3RyYWludHMoc2VsZiwgbWVkaWFDb25zdHJhaW50cyk7XG5cbiAgICAgICAgaWYgKHNlbGYuX2VuYWJsZVZpZGVvKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9Db25zdHJhaW50cyA9IHt9O1xuICAgICAgICAgICAgdmFyIHdpZHRoQ29uc3RyYWludHMgPSB7fTtcbiAgICAgICAgICAgIHZhciBoZWlnaHRDb25zdHJhaW50cyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZyYW1lUmF0ZUNvbnN0cmFpbnRzID0ge307XG5cbiAgICAgICAgICAgIC8vYnVpbGQgdmlkZW8gd2lkdGggY29uc3RyYWludHNcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5faWRlYWxWaWRlb1dpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpZHRoQ29uc3RyYWludHMuaWRlYWwgPSBzZWxmLl9pZGVhbFZpZGVvV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuX21heFZpZGVvV2lkdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2lkdGhDb25zdHJhaW50cy5tYXggPSBzZWxmLl9tYXhWaWRlb1dpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9taW5WaWRlb1dpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpZHRoQ29uc3RyYWludHMubWluID0gc2VsZi5fbWluVmlkZW9XaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJ1aWxkIHZpZGVvIGhlaWdodCBjb25zdHJhaW50c1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9pZGVhbFZpZGVvSGVpZ2h0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGhlaWdodENvbnN0cmFpbnRzLmlkZWFsID0gc2VsZi5faWRlYWxWaWRlb0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fbWF4VmlkZW9IZWlnaHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0Q29uc3RyYWludHMubWF4ID0gc2VsZi5fbWF4VmlkZW9IZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuX21pblZpZGVvSGVpZ2h0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGhlaWdodENvbnN0cmFpbnRzLm1pbiA9IHNlbGYuX21pblZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoT2JqZWN0LmtleXMod2lkdGhDb25zdHJhaW50cykubGVuZ3RoID4gMCAmJiBPYmplY3Qua2V5cyhoZWlnaHRDb25zdHJhaW50cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMud2lkdGggPSB3aWR0aENvbnN0cmFpbnRzO1xuICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMuaGVpZ2h0ID0gaGVpZ2h0Q29uc3RyYWludHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBidWlsZCBmcmFtZSByYXRlIGNvbnN0cmFpbnRzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuX3ZpZGVvRnJhbWVSYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGZyYW1lUmF0ZUNvbnN0cmFpbnRzLmlkZWFsID0gc2VsZi5fdmlkZW9GcmFtZVJhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuX21pblZpZGVvRnJhbWVSYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGZyYW1lUmF0ZUNvbnN0cmFpbnRzLm1pbiA9IHNlbGYuX21pblZpZGVvRnJhbWVSYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9tYXhWaWRlb0ZyYW1lUmF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBmcmFtZVJhdGVDb25zdHJhaW50cy5tYXggPSBzZWxmLl9tYXhWaWRlb0ZyYW1lUmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKGZyYW1lUmF0ZUNvbnN0cmFpbnRzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9Db25zdHJhaW50cy5mcmFtZVJhdGUgPSBmcmFtZVJhdGVDb25zdHJhaW50cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYnVpbGQgZmFjaW5nIG1vZGUgY29uc3RyYWludHNcbiAgICAgICAgICAgIGlmKHNlbGYuX2ZhY2luZ01vZGUgIT09ICd1c2VyJyAmJiBzZWxmLl9mYWNpbmdNb2RlICE9PSBcImVudmlyb25tZW50XCIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9mYWNpbmdNb2RlID0gJ3VzZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlkZW9Db25zdHJhaW50cy5mYWNpbmdNb2RlID0gc2VsZi5fZmFjaW5nTW9kZTtcblxuICAgICAgICAgICAgLy8gc2V0IHZpZGVvIGNvbnN0cmFpbnRzXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModmlkZW9Db25zdHJhaW50cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG1lZGlhQ29uc3RyYWludHMudmlkZW8gPSB2aWRlb0NvbnN0cmFpbnRzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZWRpYUNvbnN0cmFpbnRzLnZpZGVvID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZWRpYUNvbnN0cmFpbnRzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgUlRDX1BFRVJfQ09OTkVDVElPTl9DT05GSUcsXG4gICAgSUNFX0NPTk5FQ1RJT05fU1RBVEUsXG4gICAgREVGQVVMVF9JQ0VfQ0FORElEQVRFX1BPT0xfU0laRVxufSBmcm9tICcuL3J0Y19jb25zdCc7XG5pbXBvcnQgeyBTZHBPcHRpb25zLCB0cmFuc2Zvcm1TZHAgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gICAgQnVzeUV4Y2VwdGlvbk5hbWUsXG4gICAgQ2FsbE5vdEZvdW5kRXhjZXB0aW9uTmFtZSxcbiAgICBCYWRSZXF1ZXN0RXhjZXB0aW9uTmFtZVxufSBmcm9tICcuL2V4Y2VwdGlvbnMnO1xuaW1wb3J0IHsgcGFyc2VDYW5kaWRhdGUgfSBmcm9tICdzZHAnO1xuaW1wb3J0IHsgUGVuZGluZ0ludml0ZVN0YXRlIH0gZnJvbSAnLi9zaWduYWxpbmcnO1xuXG4vKipcbiAqIENvbm5lY3RlZFN1YnN0YXRlIGlzIHRoZSBkZWZhdWx0IHN1YnN0YXRlIG9mIHRoZSBydGNTZXNzaW9uIHRhbGtpbmcgc3RhdGVcbiAqIEl0IG1vbml0b3JzIHRoZSBwZWVyIGNvbm5lY3Rpb24gSUNFIGNvbm5lY3Rpb24gc3RhdGUgYW5kIGF0dGVtcHRzIHRvIHJlY29ubmVjdCBpZiBkaXNjb25uZWN0ZWQuXG4gKiBJZiB0aGUgSUNFIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlcyB0byAnRElTQ09OTkVDVEVEJyBtb3JlIHRoYW4gMyBzZWNvbmRzLCBpdCB0cmlnZ2VycyBhbiBJQ0UgcmVzdGFydC5cbiAqL1xuXG5leHBvcnQgY2xhc3MgQ29ubmVjdGVkU3Vic3RhdGUge1xuICAgIGdldCBsb2dnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydGNTZXNzaW9uLl9sb2dnZXI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbiA9IHJ0Y1Nlc3Npb247XG4gICAgICAgIHRoaXMucmV0cnlJbnRlcnZhbCA9IDMwMDA7IC8vIFJldHJ5IGludGVydmFsIHNldCB0byAzIHNlY29uZHNcbiAgICB9XG4gICAgb25FbnRlcigpIHtcbiAgICB9XG4gICAgLy8gb25JY2VTdGF0ZUNoYW5nZSB3aWxsIGJlIGludm9rZWQgd2hlbiBwZWVyIGNvbm5lY3Rpb24gSWNlIENvbm5lY3Rpb24gc3RhdGUgY2hhbmdlXG4gICAgb25JY2VTdGF0ZUNoYW5nZShldnQpIHtcbiAgICAgICAgY29uc3QgaWNlU3RhdGUgPSB0aGlzLl9ydGNTZXNzaW9uLl9zdHJhdGVneS5vbkljZVN0YXRlQ2hhbmdlKGV2dCwgdGhpcy5fcnRjU2Vzc2lvbi5fcGMpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdJQ0UgQ29ubmVjdGlvbiBTdGF0ZTogJywgaWNlU3RhdGUpO1xuXG4gICAgICAgIGlmIChpY2VTdGF0ZSA9PSBJQ0VfQ09OTkVDVElPTl9TVEFURS5ESVNDT05ORUNURUQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBydGNTZXNzaW9uIHN1cHBvcnRzIElDRSByZXN0YXJ0XG4gICAgICAgICAgICBpZiAodGhpcy5fcnRjU2Vzc2lvbi5fcGNtICYmIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5fcGVlckNvbm5lY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RldGVjdGVkIExvc3QgSUNFIGNvbm5lY3Rpb24sIHBlbmRpbmcgSWNlUmVzdGFydCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuSWNlUmVzdGFydFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcnRjU2Vzc2lvbi5fcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURS5ESVNDT05ORUNURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1RyeWluZyB0byByZXN0YXJ0IElDRSBjb25uZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LmljZVJlc3RhcnRBdHRlbXB0cyArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IEljZVJlc3RhcnRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdUaGUgbmV0d29yayByZWNvdmVyZWQsIEljZVJlc3RhcnQgY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB0aGlzLnJldHJ5SW50ZXJ2YWwpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RldGVjdGVkIExvc3QgSUNFIGNvbm5lY3Rpb24sIEljZVJlc3RhcnQgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TaWduYWxpbmdGYWlsZWQoZSkge1xuICAgICAgICBpZiAodGhpcy5fcnRjU2Vzc2lvbi5fcGNtICYmIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5fcGVlckNvbm5lY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gQmFkUmVxdWVzdEV4Y2VwdGlvbk5hbWUgJiYgZS5tZXNzYWdlLmluY2x1ZGVzKFwiU3RhbGUgUGVlciBDb25uZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1NlcnZlciBkZXRlY3QgcGVlciBjb25uZWN0aW9uIGJlaW5nIHVuaGVhbHRoeSwgcGVyZm9ybWluZyBJY2VSZXN0YXJ0JywgZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pY2VSZXN0YXJ0QXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zdGF0ZS5zZXRTdWJTdGF0ZShuZXcgSWNlUmVzdGFydFN1YnN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NlcnZlciBkZXRlY3QgcGVlciBjb25uZWN0aW9uIGJlaW5nIHVuaGVhbHRoeSwgSWNlUmVzdGFydCBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkV4aXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkljZVJlc3RhcnRUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4aXRpbmcsIGNsZWFuaW5nIHVwIEljZVJlc3RhcnQgdGltZW91dCcpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuSWNlUmVzdGFydFRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNvbm5lY3RlZFN1YnN0YXRlXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIEljZVJlc3RhcnRTdWJzdGF0ZSBtYW5hZ2VzIHRoZSBwcm9jZXNzIG9mIHJlcXVlc3RpbmcgSUNFIGFjY2VzcyBhbmQgaW5pdGlhdGluZyBhbiBJQ0UgcmVzdGFydC5cbiAqIEl0IGF0dGVtcHRzIHRvIHJlc3RhcnQgdGhlIElDRSBjb25uZWN0aW9uIHdpdGhvdXQgcmV0cnlpbmcgb24gZmFpbHVyZS5cbiAqXG4gKiBQb3NzaWJsZSBmYWlsdXJlcyBpbmNsdWRlOlxuICpcbiAqIDEuIFRoZSBgX3JlcXVlc3RJY2VBY2Nlc3NgIEFQSSBjYWxsIGZhaWxzIGR1ZSB0byB0aGUgbmV0d29yayBub3QgcmVjb3ZlcmluZyB3aXRoaW4gYXBwcm94aW1hdGVseSAxMyBzZWNvbmRzLlxuICogICAgVGhpcyBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSB0aW1lIGZyb20gbmV0d29yayBsb3NzIHRvIElDRSBjb25uZWN0aW9uIGZhaWx1cmUgKGFyb3VuZCAxMCBzZWNvbmRzKSxcbiAqICAgIHBsdXMgdGhlIDMtc2Vjb25kIGByZXRyeUludGVydmFsYCBpbiB0aGUgYENvbm5lY3RlZFN1YlN0YXRlYC5cbiAqXG4gKiAyLiBUaGUgYF9yZXF1ZXN0SWNlQWNjZXNzYCBBUEkgY2FsbCBpcyB0aHJvdHRsZWQuXG4gKlxuICogSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgSUNFIHJlc3RhcnQgcHJvY2VzcyBpcyBub3QgcmV0cmllZCwgYW5kIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucyBiYWNrIHRvIGNvbm5lY3RlZCBzdWIgc3RhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIEljZVJlc3RhcnRTdWJzdGF0ZSB7XG4gICAgZ2V0IGxvZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX2xvZ2dlcjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocnRjU2Vzc2lvbikge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uID0gcnRjU2Vzc2lvbjtcbiAgICB9XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtSWNlUmVzdGFydCgpO1xuICAgIH1cblxuICAgIHBlcmZvcm1JY2VSZXN0YXJ0KCkge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wY20uX2ljZVJlc3RhcnQgPSB0cnVlXG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5fcmVxdWVzdEljZUFjY2VzcygpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB2YXIgcnRjUGVlckNvbm5lY3Rpb25Db25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFJUQ19QRUVSX0NPTk5FQ1RJT05fQ09ORklHKSk7XG4gICAgICAgICAgICBydGNQZWVyQ29ubmVjdGlvbkNvbmZpZy5pY2VTZXJ2ZXJzID0gcmVzcG9uc2U7XG4gICAgICAgICAgICBydGNQZWVyQ29ubmVjdGlvbkNvbmZpZy5pY2VDYW5kaWRhdGVQb29sU2l6ZSA9IERFRkFVTFRfSUNFX0NBTkRJREFURV9QT09MX1NJWkU7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wYy5zZXRDb25maWd1cmF0aW9uKHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ydGNTZXNzaW9uLl9wYy5jcmVhdGVPZmZlcih7IGljZVJlc3RhcnQ6IHRydWUgfSk7XG4gICAgICAgIH0pLnRoZW4oKHJ0Y1Nlc3Npb25EZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fbG9jYWxTZXNzaW9uRGVzY3JpcHRpb24gPSBydGNTZXNzaW9uRGVzY3JpcHRpb247XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiSUNFIHJlc3RhcnQgb2ZmZXIgY3JlYXRlZCBhbmQgc2V0IGFzIGxvY2FsIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IFNldExvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uU3Vic3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSUNFIHJlc3RhcnQgZmFpbGVkXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgb25FeGl0KCkge1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSWNlUmVzdGFydFN1YnN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0TG9jYWxTZXNzaW9uRGVzY3JpcHRpb25TdWJzdGF0ZSB7XG4gICAgZ2V0IGxvZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX2xvZ2dlcjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocnRjU2Vzc2lvbikge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uID0gcnRjU2Vzc2lvbjtcbiAgICB9XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgY29uc3QgbG9jYWxEZXNjcmlwdGlvbiA9IHRoaXMuX3J0Y1Nlc3Npb24uX2xvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBzZHBPcHRpb25zID0gbmV3IFNkcE9wdGlvbnMoKTtcbiAgICAgICAgc2RwT3B0aW9ucy5lbmFibGVPcHVzRHR4ID0gdGhpcy5fcnRjU2Vzc2lvbi5fZW5hYmxlT3B1c0R0eDtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtZWRTZHAgPSB0cmFuc2Zvcm1TZHAobG9jYWxEZXNjcmlwdGlvbi5zZHAsIHNkcE9wdGlvbnMpO1xuICAgICAgICBsb2NhbERlc2NyaXB0aW9uLnNkcCA9IHRyYW5zZm9ybWVkU2RwLnNkcDtcbiAgICAgICAgbG9jYWxEZXNjcmlwdGlvbi5zZHAgKz0gJ2E9cHRpbWU6MjBcXHJcXG4nO1xuICAgICAgICBsb2NhbERlc2NyaXB0aW9uLnNkcCArPSAnYT1tYXhwdGltZToyMFxcclxcbic7XG4gICAgICAgIGxvY2FsRGVzY3JpcHRpb24uc2RwID0gbG9jYWxEZXNjcmlwdGlvbi5zZHAucmVwbGFjZShcIm1pbnB0aW1lPTEwXCIsIFwibWlucHRpbWU9MjBcIik7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTG9jYWxTRCcsIHRoaXMuX3J0Y1Nlc3Npb24uX2xvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uKTtcblxuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuX3J0Y1Nlc3Npb24uX2xvY2FsU2Vzc2lvbkRlc2NyaXB0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJMb2NhbCBkZXNjcmlwdGlvbiBzZXQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IENvbm5lY3RTaWduYWxpbmdBbmRJY2VDb2xsZWN0aW9uU3Vic3RhdGUodGhpcy5fcnRjU2Vzc2lvbiwgdHJhbnNmb3JtZWRTZHAubUxpbmVzKSk7XG5cbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gc2V0IGxvY2FsIGRlc2NyaXB0aW9uXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSlcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBvbkV4aXQoKSB7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTZXRMb2NhbFNlc3Npb25EZXNjcmlwdGlvblN1YnN0YXRlXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbm5lY3RTaWduYWxpbmdBbmRJY2VDb2xsZWN0aW9uU3Vic3RhdGUgbWFuYWdlcyB0aGUgc2lnbmFsaW5nIGNvbm5lY3Rpb24gYW5kIElDRSBjYW5kaWRhdGUgY29sbGVjdGlvbi5cbiAqIEl0IHBlcmZvcm1zIHRoZSBmb2xsb3dpbmcgdGFza3M6XG4gKlxuICogMS4gQmluZHMgdGhlIFJUQ1Nlc3Npb24ncyBzaWduYWxpbmcgY2hhbm5lbCB0byB0aGUgcGVlciBjb25uZWN0aW9uIG1hbmFnZXIncyBzaWduYWxpbmcgY2hhbm5lbCxcbiAqXG4gKiAyLiBDb2xsZWN0cyBJQ0UgY2FuZGlkYXRlcyBhbmQgbW9uaXRvcnMgZm9yIHN1ZmZpY2llbnQgY2FuZGlkYXRlcyB0byBwcm9jZWVkIHdpdGggdGhlIElDRSByZXN0YXJ0LlxuICpcbiAqIDMuIFRyYW5zaXRpb25zIHRvIHRoZSBuZXh0IHN0YXRlIChJbnZpdGVBbnN3ZXJTdWJzdGF0ZSkgdXBvbiBzdWNjZXNzZnVsIElDRSBjYW5kaWRhdGUgY29sbGVjdGlvbi5cbiAqICAgIElmIG5vIElDRSBjYW5kaWRhdGVzIGFyZSBjb2xsZWN0ZWQsIGl0IHRyYW5zaXRpb25zIHRvIHRoZSBDb25uZWN0ZWRTdWJzdGF0ZSBhbmQgcmVwb3J0cyBhbiBJQ0VcbiAqICAgIGNvbGxlY3Rpb24gZmFpbHVyZS5cbiAqXG4gKiA0LiBTZXRzIGEgdGltZW91dCBmb3IgSUNFIGNvbGxlY3Rpb24gdG8gaGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBJQ0UgZ2F0aGVyaW5nIHByb2Nlc3MgZ2V0cyBzdHVjay5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3RTaWduYWxpbmdBbmRJY2VDb2xsZWN0aW9uU3Vic3RhdGUge1xuICAgIGdldCBsb2dnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydGNTZXNzaW9uLl9sb2dnZXI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHJ0Y1Nlc3Npb24sIG1MaW5lcykge1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uID0gcnRjU2Vzc2lvbjtcbiAgICAgICAgdGhpcy5faWNlQ2FuZGlkYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLl9pY2VDYW5kaWRhdGVGb3VuZGF0aW9uc01hcCA9IHt9O1xuICAgICAgICB0aGlzLl9tTGluZXMgPSBtTGluZXM7XG4gICAgICAgIHRoaXMuX2ljZUNvbXBsZXRlZEZvckljZVJlc3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAvLyBBcyB0aGUgcGVlciBjb25uZWN0aW9uIG1hbmFnZXIgaXMgZW5hYmxlZCwgdGhlIFJUQ1Nlc3Npb24gaXMgY3JlYXRlZCB3aXRob3V0IGEgc2lnbmFsaW5nIGNoYW5uZWwuXG4gICAgICAgIC8vIFRvIHV0aWxpemUgdGhlIGV4aXN0aW5nIHNpZ25hbGluZyBzdGF0ZSBtYWNoaW5lIGZvciBTRFAgZXhjaGFuZ2UsIHRoZSBSVENTZXNzaW9uJ3Mgc2lnbmFsaW5nIGNoYW5uZWxcbiAgICAgICAgLy8gaXMgYm91bmQgdG8gdGhlIHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyJ3Mgc2lnbmFsaW5nIGNoYW5uZWwuXG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX2JpbmRTaWduYWxpbmdDaGFubmVsKCk7XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudFN0YXRlKCkgJiYgIXRoaXMuX2ljZUNvbXBsZXRlZEZvckljZVJlc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdJQ0UgY29sbGVjdGlvbiB0aW1lZCBvdXQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRJY2VDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX3J0Y1Nlc3Npb24uX2ljZVRpbWVvdXRNaWxsaXMpO1xuICAgIH1cblxuICAgIF9pc0N1cnJlbnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLl9zdWJTdGF0ZSA9PT0gdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlTG9jYWxDYW5kaWRhdGUoaW5pdERpY3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSVENJY2VDYW5kaWRhdGUoaW5pdERpY3QpO1xuICAgIH1cblxuICAgIG9uSWNlQ2FuZGlkYXRlKGV2dCkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBldnQuY2FuZGlkYXRlO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ29uaWNlY2FuZGlkYXRlICcgKyBKU09OLnN0cmluZ2lmeShjYW5kaWRhdGUpKTtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5jYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pY2VDYW5kaWRhdGVzLnB1c2godGhpcy5fY3JlYXRlTG9jYWxDYW5kaWRhdGUoY2FuZGlkYXRlKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pY2VDb21wbGV0ZWRGb3JJY2VSZXN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrQ2FuZGlkYXRlc1N1ZmZpY2llbnQoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEljZUNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tDYW5kaWRhdGVzU3VmZmljaWVudChjYW5kaWRhdGUpIHtcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBjb2xsZWN0ZWQgc3VmZmljaWVudCBjYW5kaWRhdGVzIGZyb20gc2luZ2xlIG1lZGlhIHNlcnZlciB0byByZXN0YXJ0IHRoZSBjYWxsXG4gICAgICAgIHZhciBjYW5kaWRhdGVPYmogPSBwYXJzZUNhbmRpZGF0ZShjYW5kaWRhdGUuY2FuZGlkYXRlKTtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZU9iai5jb21wb25lbnQgIT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW5kaWRhdGVGb3VuZGF0aW9uID0gY2FuZGlkYXRlT2JqLmZvdW5kYXRpb247XG4gICAgICAgIHZhciBjYW5kaWRhdGVNTGluZUluZGV4ID0gY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXg7XG4gICAgICAgIGlmIChjYW5kaWRhdGVGb3VuZGF0aW9uICYmIGNhbmRpZGF0ZU1MaW5lSW5kZXggPj0gMCAmJiBjYW5kaWRhdGVNTGluZUluZGV4IDwgdGhpcy5fbUxpbmVzKSB7XG4gICAgICAgICAgICB2YXIgbUluZGV4TGlzdCA9IHRoaXMuX2ljZUNhbmRpZGF0ZUZvdW5kYXRpb25zTWFwW2NhbmRpZGF0ZUZvdW5kYXRpb25dIHx8IFtdO1xuICAgICAgICAgICAgaWYgKCFtSW5kZXhMaXN0LmluY2x1ZGVzKGNhbmRpZGF0ZU1MaW5lSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgbUluZGV4TGlzdC5wdXNoKGNhbmRpZGF0ZU1MaW5lSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faWNlQ2FuZGlkYXRlRm91bmRhdGlvbnNNYXBbY2FuZGlkYXRlRm91bmRhdGlvbl0gPSBtSW5kZXhMaXN0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbUxpbmVzID09IG1JbmRleExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0SWNlQ29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXBvcnRJY2VDb21wbGV0ZWQoaXNUaW1lb3V0KSB7XG4gICAgICAgIHRoaXMuX2ljZUNvbXBsZXRlZEZvckljZVJlc3RhcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9vbkljZUNvbGxlY3Rpb25Db21wbGV0ZSh0aGlzLl9ydGNTZXNzaW9uLCBpc1RpbWVvdXQsIHRoaXMuX2ljZUNhbmRpZGF0ZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ljZUNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignTm8gSUNFIGNhbmRpZGF0ZScpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5pY2VDb2xsZWN0aW9uRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9zdGF0ZS5zZXRTdWJTdGF0ZShuZXcgQ29ubmVjdGVkU3Vic3RhdGUodGhpcy5fcnRjU2Vzc2lvbikpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tBbmRUcmFuc2l0KCkge1xuICAgICAgICBpZiAodGhpcy5faWNlQ29tcGxldGVkRm9ySWNlUmVzdGFydCkge1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IEludml0ZUFuc3dlclN1YnN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24sIHRoaXMuX2ljZUNhbmRpZGF0ZXMpKVxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pY2VDb21wbGV0ZWRGb3JJY2VSZXN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ1BlbmRpbmcgSUNFIGNvbGxlY3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRXhpdCgpIHtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ29ubmVjdFNpZ25hbGluZ0FuZEljZUNvbGxlY3Rpb25TdWJzdGF0ZVwiO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbnZpdGVBbnN3ZXJTdWJzdGF0ZSBoYW5kbGVzIHRoZSBpbnZpdGF0aW9uIGFuZCByZXNwb25zZSBkdXJpbmcgc2lnbmFsaW5nLlxuICogSXQgcmV0cmllcyB0aGUgaW52aXRlIHByb2Nlc3MgaWYgaXQgZmFpbHMgZHVlIHRvIGNlcnRhaW4gZXJyb3JzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBJbnZpdGVBbnN3ZXJTdWJzdGF0ZSB7XG4gICAgZ2V0IGxvZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX2xvZ2dlcjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihydGNTZXNzaW9uLCBpY2VDYW5kaWRhdGVzKSB7XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24gPSBydGNTZXNzaW9uO1xuICAgICAgICB0aGlzLl9pY2VDYW5kaWRhdGVzID0gaWNlQ2FuZGlkYXRlcztcbiAgICAgICAgdGhpcy5yZXRyeUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMzsgLy8gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBmb3IgdGhlIGludml0ZSBwcm9jZXNzXG4gICAgICAgIC8vIFRoZSByZXRyeSBpbnRlcnZhbCBpcyBzZXQgdG8gMSBzZWNvbmQuIFRoZSBhY3R1YWwgaW50ZXJ2YWwgYmV0d2VlbiBlYWNoIGludml0ZSBhdHRlbXB0XG4gICAgICAgIC8vIHdpbGwgYmUgdGhlIHN1bSBvZiB0aGUgTUFYX0lOVklURV9ERUxBWV9NUyAoNSBzZWNvbmRzKSBhbmQgdGhlIHJldHJ5IGludGVydmFsICgxIHNlY29uZCkuXG4gICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgdGltaW5nIGZvciB0aGUgdGhyZWUgaW52aXRlIGF0dGVtcHRzIHdvdWxkIGJlOlxuICAgICAgICAvLyAxLiBGaXJzdCBpbnZpdGU6IDAgc2Vjb25kc1xuICAgICAgICAvLyAyLiBTZWNvbmQgaW52aXRlIChhZnRlciB0aGUgZmlyc3QgaW52aXRlIHRpbWVvdXQpOiA2IHNlY29uZHNcbiAgICAgICAgLy8gMy4gVGhpcmQgaW52aXRlIChhZnRlciB0aGUgc2Vjb25kIGludml0ZSB0aW1lb3V0KTogMTIgc2Vjb25kc1xuICAgICAgICB0aGlzLnJldHJ5SW50ZXJ2YWwgPSAxMDAwOyBcbiAgICB9XG5cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB0aGlzLmF0dGVtcHRJbnZpdGUoKVxuICAgIH1cblxuICAgIGF0dGVtcHRJbnZpdGUoKSB7XG4gICAgICAgIC8vIEF0dGVtcHQgdG8gc2VuZCBhbiBpbnZpdGUsIGFzIHdlIGRvIG5vdCBrbm93IGlmIHRoZSBzaWduYWxpbmcgKHdlYnNvY2tldCBjb25uZWN0aW9uKSBpcyBkb3duIG9yIG5vdFxuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9jcmVhdGVTaWduYWxpbmdDaGFubmVsKCkuY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wY20uX3NpZ25hbGluZ0NoYW5uZWwudHJhbnNpdChuZXcgUGVuZGluZ0ludml0ZVN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24uX3BjbS5fc2lnbmFsaW5nQ2hhbm5lbCkpO1xuICAgICAgICB0aGlzLl9ydGNTZXNzaW9uLl9wY20uX3NpZ25hbGluZ0NoYW5uZWwuaW52aXRlKFxuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fbG9jYWxTZXNzaW9uRGVzY3JpcHRpb24uc2RwLFxuICAgICAgICAgICAgdGhpcy5faWNlQ2FuZGlkYXRlcyk7XG4gICAgfVxuXG4gICAgcmV0cnlJbnZpdGUoKSB7XG4gICAgICAgIC8vIFJldHJ5IGxvZ2ljIGZvciBpbnZpdGUgYXR0ZW1wdHNcbiAgICAgICAgaWYgKHRoaXMucmV0cnlDb3VudCA8IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgICAgdGhpcy5yZXRyeUNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBSZXRyeWluZyBpbnZpdGUgaW4gJHt0aGlzLnJldHJ5SW50ZXJ2YWwgLyAxMDAwfSBzZWNvbmRzLiBBdHRlbXB0ICR7dGhpcy5yZXRyeUNvdW50fWApO1xuICAgICAgICAgICAgdGhpcy5zaWduYWxpbmdSZXRyeVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hdHRlbXB0SW52aXRlKCksIHRoaXMucmV0cnlJbnRlcnZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIk1heCBpbnZpdGUgYXR0ZW1wdHMgcmVhY2hlZC4gUmV0dXJuaW5nIHRvIENvbm5lY3RlZFN1YnN0YXRlLlwiKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblNpZ25hbGluZ0ZhaWxlZChlKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzaWduYWxpbmcgZmFpbHVyZXNcbiAgICAgICAgaWYgKGUubmFtZSA9PT0gQnVzeUV4Y2VwdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdVc2VyIEJ1c3ksIHBvc3NpYmx5IG11bHRpcGxlIENDUCB3aW5kb3dzIG9wZW4nLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5uYW1lID09PSBDYWxsTm90Rm91bmRFeGNlcHRpb25OYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignQ2FsbCBub3QgZm91bmQuIE9uZSBvZiB0aGUgcGFydGljaXBhbnQgcHJvYmFibHkgaHVuZyB1cC4nLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIGhhbmRzaGFraW5nIHdpdGggc2lnbmFsaW5nIHNlcnZlcicsIGUpO1xuICAgICAgICAgICAgdGhpcy5yZXRyeUludml0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TaWduYWxpbmdBbnN3ZXJlZChzZHAsIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IEFjY2VwdFN1YnN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24sIHNkcCwgY2FuZGlkYXRlcykpO1xuICAgIH1cblxuICAgIG9uRXhpdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2lnbmFsaW5nUmV0cnlUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0V4aXRpbmcsIGNsZWFuaW5nIHVwIGludml0ZSByZXRyeSB0aW1lb3V0Jyk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zaWduYWxpbmdSZXRyeVRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSW52aXRlQW5zd2VyU3Vic3RhdGVcIjtcbiAgICB9XG59XG5cbi8qKlxuICogQWNjZXB0U3Vic3RhdGUgaGFuZGxlcyB0aGUgcmVtb3RlIFNEUCBhbmQgcmVtb3RlIElDRSBjYW5kaWRhdGVzLlxuICogSXQgdmVyaWZpZXMgdGhlIHJlbW90ZSBTRFAgYW5kIElDRSBjYW5kaWRhdGVzIGJlZm9yZSBwcm9jZWVkaW5nLlxuICovXG5leHBvcnQgY2xhc3MgQWNjZXB0U3Vic3RhdGUge1xuXG4gICAgZ2V0IGxvZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y1Nlc3Npb24uX2xvZ2dlcjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihydGNTZXNzaW9uLCBzZHAsIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbiA9IHJ0Y1Nlc3Npb247XG4gICAgICAgIHRoaXMuX3NkcCA9IHNkcDtcbiAgICAgICAgdGhpcy5fY2FuZGlkYXRlcyA9IGNhbmRpZGF0ZXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbihpbml0RGljdCkge1xuICAgICAgICByZXR1cm4gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihpbml0RGljdCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVJlbW90ZUNhbmRpZGF0ZShpbml0RGljdCkge1xuICAgICAgICByZXR1cm4gbmV3IFJUQ0ljZUNhbmRpZGF0ZShpbml0RGljdCk7XG4gICAgfVxuXG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZHApIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdJbnZhbGlkIHJlbW90ZSBTRFAnKTtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSlcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2FuZGlkYXRlcyB8fCB0aGlzLl9jYW5kaWRhdGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdObyByZW1vdGUgSUNFIGNhbmRpZGF0ZScpO1xuICAgICAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IENvbm5lY3RlZFN1YnN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24pKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0cmF0ZWd5LnNldFJlbW90ZURlc2NyaXB0aW9uRm9ySWNlUmVzdGFydCh0aGlzLCB0aGlzLl9ydGNTZXNzaW9uKTtcbiAgICB9XG5cbiAgICBvblNpZ25hbGluZ0hhbmRzaGFrZWQoKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ0hhbmRzaGFrZWRGb3JJY2VSZXN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgfVxuXG4gICAgb25JY2VSZXN0YXJ0RmFpbHVyZSgpIHtcbiAgICAgICAgdGhpcy5fcnRjU2Vzc2lvbi5fc3RhdGUuc2V0U3ViU3RhdGUobmV3IENvbm5lY3RlZFN1YnN0YXRlKHRoaXMuX3J0Y1Nlc3Npb24pKVxuICAgIH1cblxuICAgIF9jaGVja0FuZFRyYW5zaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaWduYWxpbmdIYW5kc2hha2VkRm9ySWNlUmVzdGFydCAmJiB0aGlzLl9yZW1vdGVEZXNjcmlwdGlvblNldEZvckljZVJlc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3J0Y1Nlc3Npb24uX3N0YXRlLnNldFN1YlN0YXRlKG5ldyBDb25uZWN0ZWRTdWJzdGF0ZSh0aGlzLl9ydGNTZXNzaW9uKSlcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fc2lnbmFsaW5nSGFuZHNoYWtlZEZvckljZVJlc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnUGVuZGluZyBoYW5kc2hha2luZycpO1xuICAgICAgICB9IGVsc2UgeyAvL2ltcGxpZXMgX3JlbW90ZURlc2NyaXB0aW9uU2V0ID09IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ1BlbmRpbmcgc2V0dGluZyByZW1vdGUgZGVzY3JpcHRpb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkV4aXQoKSB7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJBY2NlcHRTdWJzdGF0ZVwiO1xuICAgIH1cbn1cbiIsIi8qKlxuICogRXh0cmFjdCBydHAgc3RhdHMgb2Ygc3BlY2lmaWVkIHN0cmVhbSBmcm9tIFJUQ1N0YXRzUmVwb3J0XG4gKiBDaHJvbWUgcmVwb3J0cyBhbGwgc3RyZWFtIHN0YXRzIGluIHN0YXRzUmVwb3J0cyB3aGVyZWFzIGZpcmVmb3ggcmVwb3J0cyBvbmx5IHNpbmdsZSBzdHJlYW0gc3RhdHMgaW4gcmVwb3J0XG4gKiBTdHJlYW1UeXBlIGlzIHBhc3NlZCBvbmx5IHRvIHB1bGwgcmlnaHQgc3RyZWFtIHN0YXRzIGF1ZGlvX2lucHV0IG9yIGF1ZGlvX291dHB1dC5cbiAqL1xuXG5pbXBvcnQgeyBpc19kZWZpbmVkLCB3aGVuX2RlZmluZWQgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0TWVkaWFTdGF0c0Zyb21TdGF0cyh0aW1lc3RhbXAsIHN0YXRzLCBzdHJlYW1UeXBlKSB7XG4gICAgdmFyIGV4dHJhY3RlZFN0YXRzID0gbnVsbDtcbiAgICB2YXIgcmVwb3J0VHlwZSA9IG51bGw7XG5cbiAgICBzdGF0cy5mb3JFYWNoKHN0YXRzUmVwb3J0ID0+IHtcbiAgICAgICAgaWYgKHN0YXRzUmVwb3J0KSB7XG4gICAgICAgICAgICBpZiAoc3RhdHNSZXBvcnQudHlwZSA9PT0gJ2luYm91bmQtcnRwJyAmJiBzdHJlYW1UeXBlID09PSAnYXVkaW9faW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5ib3VuZC1ydHA6IFN0YXRzIGZvciBzdHJlYW0gZnJvbSBTZXJ2ZXIgdG8gQ0NQLCBhcyBzZWVuIG9uIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgcmVwb3J0VHlwZSA9IHN0YXRzUmVwb3J0LnR5cGU7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RhdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBwYWNrZXRzTG9zdDogc3RhdHNSZXBvcnQucGFja2V0c0xvc3QsXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhY2tldHNDb3VudDogbnVtYmVyIG9mIHBhY2tldCByZWNlaXZlZCBieSBDQ1AsIGFzIHNlZW4gb24gdGhlIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0c0NvdW50OiBzdGF0c1JlcG9ydC5wYWNrZXRzUmVjZWl2ZWQsXG4gICAgICAgICAgICAgICAgICAgIGpiTWlsbGlzZWNvbmRzOiBNYXRoLmZsb29yKHdoZW5fZGVmaW5lZChzdGF0c1JlcG9ydC5qaXR0ZXIsIDApICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGx5aW5nIGF1ZGlvTGV2ZWwgYnkgMzI3NjggYWxpZ25zIGl0cyB2YWx1ZSB3aXRoIHRoZSBsZWdhY3kgZ2V0U3RhdHMgQVBJLlxuICAgICAgICAgICAgICAgICAgICBhdWRpb0xldmVsOiBpc19kZWZpbmVkKHN0YXRzUmVwb3J0LmF1ZGlvTGV2ZWwpID8gTWF0aC5mbG9vcihzdGF0c1JlcG9ydC5hdWRpb0xldmVsICogMzI3NjgpIDogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRzUmVwb3J0LnR5cGUgPT09ICdvdXRib3VuZC1ydHAnICYmIHN0cmVhbVR5cGUgPT09ICdhdWRpb19vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgLy8gb3V0Ym91bmQtcnRwOiBTdGF0cyBmb3Igc3RyZWFtIGZyb20gQ0NQIHRvIFNlcnZlciwgYXMgc2VlbiBvbiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFN0YXRzID0gZXh0cmFjdGVkU3RhdHMgfHwge307XG4gICAgICAgICAgICAgICAgLy8gcGFja2V0c0NvdW50OiBudW1iZXIgb2YgcGFja2V0IHNlbnQgYnkgQ0NQLCBhcyBzZWVuIG9uIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RhdHMucGFja2V0c0NvdW50ID0gc3RhdHNSZXBvcnQucGFja2V0c1NlbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRzUmVwb3J0LnR5cGUgPT09ICdtZWRpYS1zb3VyY2UnICYmIHN0cmVhbVR5cGUgPT09ICdhdWRpb19vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RhdHMgPSBleHRyYWN0ZWRTdGF0cyB8fCB7fTtcbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBseWluZyBhdWRpb0xldmVsIGJ5IDMyNzY4IGFsaWducyBpdHMgdmFsdWUgd2l0aCB0aGUgbGVnYWN5IGdldFN0YXRzIEFQSS5cbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRTdGF0cy5hdWRpb0xldmVsID0gaXNfZGVmaW5lZChzdGF0c1JlcG9ydC5hdWRpb0xldmVsKSA/IE1hdGguZmxvb3Ioc3RhdHNSZXBvcnQuYXVkaW9MZXZlbCAqIDMyNzY4KSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRzUmVwb3J0LnR5cGUgPT09ICdyZW1vdGUtaW5ib3VuZC1ydHAnICYmIHN0cmVhbVR5cGUgPT09ICdhdWRpb19vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3RlLWluYm91bmQtcnRwOiBTdGF0cyBmb3Igc3RyZWFtIGZyb20gQ0NQIHRvIFNlcnZlciwgYXMgc2VlbiBvbiBTZXJ2ZXIgc2lkZVxuICAgICAgICAgICAgICAgIHJlcG9ydFR5cGUgPSBzdGF0c1JlcG9ydC50eXBlO1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFN0YXRzID0gZXh0cmFjdGVkU3RhdHMgfHwge307XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RhdHMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFN0YXRzLnBhY2tldHNMb3N0ID0gc3RhdHNSZXBvcnQucGFja2V0c0xvc3Q7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RhdHMucnR0TWlsbGlzZWNvbmRzID0gaXNfZGVmaW5lZChzdGF0c1JlcG9ydC5yb3VuZFRyaXBUaW1lKSA/IE1hdGguZmxvb3Ioc3RhdHNSZXBvcnQucm91bmRUcmlwVGltZSAqIDEwMDApIDogbnVsbDtcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRTdGF0cy5qYk1pbGxpc2Vjb25kcyA9IE1hdGguZmxvb3Iod2hlbl9kZWZpbmVkKHN0YXRzUmVwb3J0LmppdHRlciwgMCkgKiAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGV4dHJhY3RlZFN0YXRzID8gbmV3IE1lZGlhUnRwU3RhdHMoZXh0cmFjdGVkU3RhdHMsIHJlcG9ydFR5cGUsIHN0cmVhbVR5cGUpIDogbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNpYyBSVFAgc3RhdGlzdGljcyBvYmplY3QsIHJlcHJlc2VudHMgc3RhdGlzdGljcyBvZiBhbiBhdWRpbyBvciB2aWRlbyBzdHJlYW0uXG4gKi9cbmNsYXNzIE1lZGlhUnRwU3RhdHMge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtc0luLCBzdGF0c1JlcG9ydFR5cGUsIHN0cmVhbVR5cGUpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHBhcmFtc0luIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCAgICAgICAgID0gcGFyYW1zLnRpbWVzdGFtcCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5fcGFja2V0c0xvc3QgICAgICAgPSB3aGVuX2RlZmluZWQocGFyYW1zLnBhY2tldHNMb3N0KTtcbiAgICAgICAgdGhpcy5fcGFja2V0c0NvdW50ICAgICAgPSB3aGVuX2RlZmluZWQocGFyYW1zLnBhY2tldHNDb3VudCk7XG4gICAgICAgIHRoaXMuX2F1ZGlvTGV2ZWwgICAgICAgID0gd2hlbl9kZWZpbmVkKHBhcmFtcy5hdWRpb0xldmVsKTtcbiAgICAgICAgdGhpcy5fcHJvY01pbGxpc2Vjb25kcyAgPSB3aGVuX2RlZmluZWQocGFyYW1zLnByb2NNaWxsaXNlY29uZHMpO1xuICAgICAgICB0aGlzLl9ydHRNaWxsaXNlY29uZHMgICA9IHdoZW5fZGVmaW5lZChwYXJhbXMucnR0TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5famJNaWxsaXNlY29uZHMgICAgPSB3aGVuX2RlZmluZWQocGFyYW1zLmpiTWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fYnl0ZXNTZW50ICAgICAgICAgPSB3aGVuX2RlZmluZWQocGFyYW1zLmJ5dGVzU2VudCk7XG4gICAgICAgIHRoaXMuX2J5dGVzUmVjZWl2ZWQgICAgID0gd2hlbl9kZWZpbmVkKHBhcmFtcy5ieXRlc1JlY2VpdmVkKTtcbiAgICAgICAgdGhpcy5fZnJhbWVzRW5jb2RlZCAgICAgPSB3aGVuX2RlZmluZWQocGFyYW1zLmZyYW1lc0VuY29kZWQpO1xuICAgICAgICB0aGlzLl9mcmFtZXNEZWNvZGVkICAgICA9IHdoZW5fZGVmaW5lZChwYXJhbXMuZnJhbWVzRGVjb2RlZCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lUmF0ZVNlbnQgICAgID0gd2hlbl9kZWZpbmVkKHBhcmFtcy5mcmFtZVJhdGVTZW50KTtcbiAgICAgICAgdGhpcy5fZnJhbWVSYXRlUmVjZWl2ZWQgPSB3aGVuX2RlZmluZWQocGFyYW1zLmZyYW1lUmF0ZVJlY2VpdmVkKTtcbiAgICAgICAgdGhpcy5fc3RhdHNSZXBvcnRUeXBlICAgPSBzdGF0c1JlcG9ydFR5cGUgfHwgcGFyYW1zLl9zdGF0c1JlcG9ydFR5cGUgfHwgXCJ1bmtub3duXCI7XG4gICAgICAgIHRoaXMuX3N0cmVhbVR5cGUgICAgICAgID0gc3RyZWFtVHlwZSB8fCBwYXJhbXMuc3RyZWFtVHlwZSB8fCBcInVua25vd25cIjtcbiAgICB9XG5cbiAgICAvKioge251bWJlcn0gbnVtYmVyIG9mIHBhY2tldHMgc2VudCB0byB0aGUgY2hhbm5lbCAqL1xuICAgIGdldCBwYWNrZXRzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWNrZXRzQ291bnQ7XG4gICAgfVxuICAgIC8qKiB7bnVtYmVyfSBudW1iZXIgb2YgcGFja2V0cyBsb3N0IGFmdGVyIHRyYXZlbGxpbmcgdGhyb3VnaCB0aGUgY2hhbm5lbCAqL1xuICAgIGdldCBwYWNrZXRzTG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhY2tldHNMb3N0O1xuICAgIH1cbiAgICAvKioge251bWJlcn0gbnVtYmVyIG9mIHBhY2tldHMgbG9zdCBhZnRlciB0cmF2ZWxsaW5nIHRocm91Z2ggdGhlIGNoYW5uZWwgKi9cbiAgICBnZXQgcGFja2V0TG9zc1BlcmNlbnRhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWNrZXRzQ291bnQgPiAwID8gdGhpcy5fcGFja2V0c0xvc3QgLyB0aGlzLl9wYWNrZXRzQ291bnQgOiAwO1xuICAgIH1cbiAgICAvKiogQXVkaW8gdm9sdW1lIGxldmVsXG4gICAgICogQ3VycmVudGx5IGZpcmVmb3ggZG9lc24ndCBwcm92aWRlIGF1ZGlvIGxldmVsIGluIHJ0cCBzdGF0cy5cbiAgICAgKi9cbiAgICBnZXQgYXVkaW9MZXZlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvTGV2ZWw7XG4gICAgfVxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBzdGF0cyBhcmUgY29sbGVjdGVkLiAqL1xuICAgIGdldCB0aW1lc3RhbXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lc3RhbXA7XG4gICAgfVxuICAgIC8qKiB7bnVtYmVyfSBQcm9jZXNzaW5nIGRlbGF5IGNhbGN1bGF0ZWQgYnkgdGltZSB0byBwcm9jZXNzIHBhY2tldCBoZWFkZXIgKi9cbiAgICBnZXQgcHJvY01pbGxpc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2NNaWxsaXNlY29uZHNcbiAgICB9XG4gICAgLyoqIHtudW1iZXJ9IFJvdW5kIHRyaXAgdGltZSBjYWxjdWxhdGVkIHdpdGggUlRDUCByZXBvcnRzICovXG4gICAgZ2V0IHJ0dE1pbGxpc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0dE1pbGxpc2Vjb25kcztcbiAgICB9XG4gICAgLyoqIHtudW1iZXJ9IFN0YXRpc3RpY2FsIHZhcmlhbmNlIG9mIFJUUCBkYXRhIHBhY2tldCBpbnRlci1hcnJpdmFsIHRpbWUgKi9cbiAgICBnZXQgamJNaWxsaXNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9qYk1pbGxpc2Vjb25kcztcbiAgICB9XG4gICAgLyoqIHtudW1iZXJ9IG51bWJlciBvZiBieXRlcyBzZW50IHRvIHRoZSBjaGFubmVsKi9cbiAgICBnZXQgYnl0ZXNTZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZXNTZW50O1xuICAgIH1cbiAgICAvKioge251bWJlcn0gbnVtYmVyIG9mIGJ5dGVzIHJlY2VpdmVkIGZyb20gdGhlIGNoYW5uZWwqL1xuICAgIGdldCBieXRlc1JlY2VpdmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZXNSZWNlaXZlZDtcbiAgICB9XG4gICAgLyoqIHtudW1iZXJ9IG51bWJlciBvZiB2aWRlbyBmcmFtZXMgZW5jb2RlZCovXG4gICAgZ2V0IGZyYW1lc0VuY29kZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZXNFbmNvZGVkO1xuICAgIH1cbiAgICAvKioge251bWJlcn0gbnVtYmVyIG9mIHZpZGVvIGZyYW1lcyBkZWNvZGVkKi9cbiAgICBnZXQgZnJhbWVzRGVjb2RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lc0RlY29kZWQ7XG4gICAgfVxuICAgIC8qKiB7bnVtYmVyfSBmcmFtZXMgcGVyIHNlY29uZCBzZW50IHRvIHRoZSBjaGFubmVsKi9cbiAgICBnZXQgZnJhbWVSYXRlU2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lUmF0ZVNlbnQ7XG4gICAgfVxuICAgIC8qKiB7bnVtYmVyfSBmcmFtZXMgcGVyIHNlY29uZCByZWNlaXZlZCBmcm9tIHRoZSBjaGFubmVsKi9cbiAgICBnZXQgZnJhbWVSYXRlUmVjZWl2ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZVJhdGVSZWNlaXZlZDtcbiAgICB9XG4gICAgLyoqIHtzdHJpbmd9IHRoZSB0eXBlIG9mIHRoZSBzdGF0cyByZXBvcnQgKi9cbiAgICBnZXQgc3RhdHNSZXBvcnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHNSZXBvcnRUeXBlO1xuICAgIH1cbiAgICAvKioge3N0cmluZ30gdGhlIHR5cGUgb2YgdGhlIHN0cmVhbSAqL1xuICAgIGdldCBzdHJlYW1UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyZWFtVHlwZTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5leHBvcnQgY2xhc3MgU2Vzc2lvblJlcG9ydCB7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFByb3RvdHlwZSBmb3IgdHJhY2tpbmcgdmFyaW91cyBSVEMgc2Vzc2lvbiByZXBvcnRcbiAgICAgKiBAY29uc3RydWN0c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zZXNzaW9uU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbkVuZFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9ndW1UaW1lTWlsbGlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWNlQ29sbGVjdGlvblRpbWVNaWxsaXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zaWduYWxsaW5nQ29ubmVjdFRpbWVNaWxsaXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9oYW5kc2hha2luZ1RpbWVNaWxsaXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmVUYWxraW5nVGltZU1pbGxpcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RhbGtpbmdUaW1lTWlsbGlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWNlQ29ubmVjdGlvbnNMb3N0ID0gMDtcbiAgICAgICAgdGhpcy5faWNlQ29ubmVjdGlvbnNGYWlsZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbkZhaWxlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NsZWFudXBUaW1lTWlsbGlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWNlQ29sbGVjdGlvbkZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9oYW5kc2hha2luZ0ZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9ndW1PdGhlckZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9ndW1UaW1lb3V0RmFpbHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU9mZmVyRmFpbHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXNlckJ1c3lGYWlsdXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW52YWxpZFJlbW90ZVNEUEZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9ub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdHJlYW1TdGF0cyA9IFtdO1xuICAgICAgICB0aGlzLl9ydGNKc1ZlcnNpb24gPSBcIkBAUlRDX0pTX1ZFUlNJT05cIjtcbiAgICAgICAgdGhpcy5fdXNlckFnZW50RGF0YSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqVGltZXN0YW1wIHdoZW4gUlRDU2Vzc2lvbiBzdGFydGVkLlxuICAgICAqL1xuICAgIGdldCBzZXNzaW9uU3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvblN0YXJ0VGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gUlRDU2Vzc2lvbiBlbmRlZC5cbiAgICAgKi9cbiAgICBnZXQgc2Vzc2lvbkVuZFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRW5kVGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZSB0YWtlbiBmb3IgZ3JhYmJpbmcgdXNlciBtaWNyb3Bob25lIGF0IHRoZSB0aW1lIG9mIGNvbm5lY3RpbmcgUlRDU2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgZ3VtVGltZU1pbGxpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2d1bVRpbWVNaWxsaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRpbWUgdGFrZW4gZm9yIHNlc3Npb24gaW5pdGlhbGl6YXRpb24gaW4gbWlsbGlzLiBJbmNsdWRlcyB0aW1lIHNwZW50IGluIEdyYWJMb2NhbE1lZGlhLCBTZXRMb2NhbFNEUCBzdGF0ZXMuXG4gICAgICovXG4gICAgZ2V0IGluaXRpYWxpemF0aW9uVGltZU1pbGxpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemF0aW9uVGltZU1pbGxpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZSBzcGVudCBvbiBJQ0VDb2xsZWN0aW9uIGluIG1pbGxpcy5cbiAgICAgKi9cbiAgICBnZXQgaWNlQ29sbGVjdGlvblRpbWVNaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pY2VDb2xsZWN0aW9uVGltZU1pbGxpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZSB0YWtlbiBmb3IgY29ubmVjdGluZyB0aGUgc2lnbmFsbGluZyBpbiBtaWxsaXMuXG4gICAgICovXG4gICAgZ2V0IHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZXMgc3BlbnQgZnJvbSBSVENTZXNzaW9uIGNvbm5lY3Rpb24gdW50aWwgZW50ZXJpbmcgVGFsa2luZyBzdGF0ZSBpbiBtaWxsaXMuXG4gICAgICovXG4gICAgZ2V0IHByZVRhbGtpbmdUaW1lTWlsbGlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJlVGFsa2luZ1RpbWVNaWxsaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBUaW1lcyBzcGVudCBpbiBjb21wbGV0aW5nIGhhbmRzaGFraW5nIHByb2Nlc3Mgb2YgdGhlIFJUQ1Nlc3Npb24gaW4gbWlsbGlzLlxuICAgICAqL1xuICAgIGdldCBoYW5kc2hha2luZ1RpbWVNaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kc2hha2luZ1RpbWVNaWxsaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBUaW1lcyBzcGVudCBpbiBUYWxraW5nIHN0YXRlIGluIG1pbGxpcy5cbiAgICAgKi9cbiAgICBnZXQgdGFsa2luZ1RpbWVNaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YWxraW5nVGltZU1pbGxpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSG93IG1hbnkgdGltZXMgdGhlIFJUQ1Nlc3Npb24gaGFzIGxvc3QgSUNFIGNvbm5lY3Rpb24gaW4gdGFsa2luZyBzdGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgaWNlQ29ubmVjdGlvbnNMb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWNlQ29ubmVjdGlvbnNMb3N0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGUgUlRDU2Vzc2lvbiBoYXMgZmFpbGVkIFJUQ1BlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZVxuICAgICAqL1xuICAgIGdldCBpY2VDb25uZWN0aW9uc0ZhaWxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljZUNvbm5lY3Rpb25zRmFpbGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGUgUlRDU2Vzc2lvbiBoYXMgZmFpbGVkIFJUQ1BlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZVxuICAgICAqL1xuICAgIGdldCBwZWVyQ29ubmVjdGlvbkZhaWxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uRmFpbGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaW1lcyBzcGVudCBpbiBDbGVhbnVwIHN0YXRlIGluIG1pbGxpc1xuICAgICAqL1xuICAgIGdldCBjbGVhbnVwVGltZU1pbGxpcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsZWFudXBUaW1lTWlsbGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGUgUlRDU2Vzc2lvbiBmYWlscyBpbiBJQ0VDb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBpY2VDb2xsZWN0aW9uRmFpbHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljZUNvbGxlY3Rpb25GYWlsdXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGUgUlRDU2Vzc2lvbiBmYWlsZWQgaW4gc2lnbmFsbGluZyBjb25uZWN0IHN0YWdlLlxuICAgICAqL1xuICAgIGdldCBzaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRzaGFraW5nIGZhaWx1cmUgb2YgdGhlIFJUQ1Nlc3Npb25cbiAgICAgKi9cbiAgICBnZXQgaGFuZHNoYWtpbmdGYWlsdXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZHNoYWtpbmdGYWlsdXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHdW0gZmFpbGVkIGR1ZSB0byB0aW1lb3V0IGF0IHRoZSB0aW1lIG9mIG5ldyBSVENTZXNzaW9uIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBnZXQgZ3VtVGltZW91dEZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ndW1UaW1lb3V0RmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR3VtIGZhaWxlZCBkdWUgdG8gb3RoZXIgcmVhc29ucyAob3RoZXIgdGhhbiBUaW1lb3V0KVxuICAgICAqL1xuICAgIGdldCBndW1PdGhlckZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ndW1PdGhlckZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJUQyBTZXNzaW9uIGZhaWxlZCBpbiBjcmVhdGUgT2ZmZXIgc3RhdGUuXG4gICAgICovXG4gICAgZ2V0IGNyZWF0ZU9mZmVyRmFpbHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU9mZmVyRmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgc2V0TG9jYWxEZXNjcmlwdGlvbiBmYWlsZWQgZm9yIHRoZSBSVEMgU2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgaGFuZHNoYWtpbmcgZmFpbGVkIGR1ZSB0byB1c2VyIGJ1c3kgY2FzZSxcbiAgICAgKiBoYXBwZW5zIHdoZW4gbXVsdGlwbGUgc29mdHBob25lIGNhbGxzIGFyZSBpbml0aWF0ZWQgYXQgc2FtZSB0aW1lLlxuICAgICAqL1xuICAgIGdldCB1c2VyQnVzeUZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyQnVzeUZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbGxzIGl0IHJlbW90ZSBTRFAgaXMgaW52YWxpZC5cbiAgICAgKi9cbiAgICBnZXQgaW52YWxpZFJlbW90ZVNEUEZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgdGhlIHNldFJlbW90ZURlc2NyaXB0aW9uIGZhaWxlZCBmb3IgdGhlIFJUQyBTZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZmFpbHVyZSBjYXNlIHdoZW4gdGhlcmUgaXMgbm8gUmVtb3RlSWNlQ2FuZGlkYXRlLlxuICAgICAqL1xuICAgIGdldCBub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpc3RpY3MgZm9yIGVhY2ggc3RyZWFtKGF1ZGlvLWluLCBhdWRpby1vdXQsIHZpZGVvLWluLCB2aWRlby1vdXQpIG9mIHRoZSBSVENTZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBzdHJlYW1TdGF0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbVN0YXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXQgY3VycmVudCBjb25uZWN0LXJ0Yy1qcyB2ZXJzaW9uXG4gICAgICovXG4gICAgZ2V0IHJ0Y0pzVmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J0Y0pzVmVyc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB1c2VyQWdlbnQgZGF0YVxuICAgICAqL1xuICAgIGdldCB1c2VyQWdlbnREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXNlckFnZW50RGF0YTtcbiAgICB9XG5cbiAgICBzZXQgc2Vzc2lvblN0YXJ0VGltZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXNzaW9uU3RhcnRUaW1lID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBzZXNzaW9uRW5kVGltZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXNzaW9uRW5kVGltZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgZ3VtVGltZU1pbGxpcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9ndW1UaW1lTWlsbGlzID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpbml0aWFsaXphdGlvblRpbWVNaWxsaXModmFsdWUpIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpY2VDb2xsZWN0aW9uVGltZU1pbGxpcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pY2VDb2xsZWN0aW9uVGltZU1pbGxpcyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgcHJlVGFsa2luZ1RpbWVNaWxsaXModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcHJlVGFsa2luZ1RpbWVNaWxsaXMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGhhbmRzaGFraW5nVGltZU1pbGxpcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9oYW5kc2hha2luZ1RpbWVNaWxsaXMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHRhbGtpbmdUaW1lTWlsbGlzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3RhbGtpbmdUaW1lTWlsbGlzID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpY2VDb25uZWN0aW9uc0xvc3QodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faWNlQ29ubmVjdGlvbnNMb3N0ID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpY2VDb25uZWN0aW9uc0ZhaWxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pY2VDb25uZWN0aW9uc0ZhaWxlZCA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgcGVlckNvbm5lY3Rpb25GYWlsZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb25GYWlsZWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGNsZWFudXBUaW1lTWlsbGlzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXBUaW1lTWlsbGlzID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpY2VDb2xsZWN0aW9uRmFpbHVyZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pY2VDb2xsZWN0aW9uRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgc2lnbmFsbGluZ0Nvbm5lY3Rpb25GYWlsdXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgaGFuZHNoYWtpbmdGYWlsdXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2hhbmRzaGFraW5nRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgZ3VtVGltZW91dEZhaWx1cmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZ3VtVGltZW91dEZhaWx1cmUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGd1bU90aGVyRmFpbHVyZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9ndW1PdGhlckZhaWx1cmUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IGNyZWF0ZU9mZmVyRmFpbHVyZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9jcmVhdGVPZmZlckZhaWx1cmUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCB1c2VyQnVzeUZhaWx1cmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdXNlckJ1c3lGYWlsdXJlID0gdmFsdWU7XG4gICAgfVxuICAgIHNldCBpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkUmVtb3RlU0RQRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX25vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgc3RyZWFtU3RhdHModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc3RyZWFtU3RhdHMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHJ0Y0pzVmVyc2lvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9ydGNKc1ZlcnNpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IHVzZXJBZ2VudERhdGEodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdXNlckFnZW50RGF0YSA9IHZhbHVlO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IGdldFJlZGFjdGVkU2RwLCBoaXRjaCwgd3JhcExvZ2dlcn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICAgIE1BWF9JTlZJVEVfREVMQVlfTVMsXG4gICAgTUFYX0FDQ0VQVF9CWUVfREVMQVlfTVMsXG4gICAgREVGQVVMVF9DT05ORUNUX1RJTUVPVVRfTVMsXG4gICAgSU5WSVRFX01FVEhPRF9OQU1FLFxuICAgIEFDQ0VQVF9NRVRIT0RfTkFNRSxcbiAgICBCWUVfTUVUSE9EX05BTUUsXG4gICAgQ09OTkVDVF9DT05UQUNUX01FVEhPRF9OQU1FLFxuICAgIERJU0NPTk5FQ1RfQ09OVEFDVF9NRVRIT0RfTkFNRSxcbiAgICBQQ19CWUVfTUVUSE9EX05BTUVcbn0gZnJvbSAnLi9ydGNfY29uc3QnO1xuaW1wb3J0IHtcbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbixcbiAgICBUaW1lb3V0LFxuICAgIEJ1c3lFeGNlcHRpb24sXG4gICAgQ2FsbE5vdEZvdW5kRXhjZXB0aW9uLFxuICAgIFVua25vd25TaWduYWxpbmdFcnJvcixcbiAgICBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbixcbiAgICBCYWRSZXF1ZXN0RXhjZXB0aW9uLFxuICAgIFJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uLFxuICAgIElkZW1wb3RlbmN5RXhjZXB0aW9uLFxuICAgIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbixcbiAgICBBY2Nlc3NEZW5pZWRFeGNlcHRpb25OYW1lLFxuICAgIFNpZ25hbGluZ0NoYW5uZWxEb3duRXJyb3Jcbn0gZnJvbSAnLi9leGNlcHRpb25zJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjQnO1xuaW1wb3J0IFZpcnR1YWxXc3NDb25uZWN0aW9uTWFuYWdlciBmcm9tIFwiLi92aXJ0dWFsX3dzc19jb25uZWN0aW9uX21hbmFnZXJcIjtcblxuY29uc3QgQ09OTkVDVF9NQVhfUkVUUklFUyA9IDM7XG4vLyBUT0RPOiBOZWVkIHRvIGRpc2N1c3Mgd2l0aCB0ZWFtIHRoZSByZXRyeSBzdHJhdGVneSBmb3IgaW52aXRlL2FjY2VwdC9jb25uZWN0Q29udGFjdCBlcnJvcnNcbmNvbnN0IElOVklURV9NQVhfUkVUUklFUyA9IDA7XG5jb25zdCBBQ0NFUFRfTUFYX1JFVFJJRVMgPSAwO1xuY29uc3QgQ09OTkVDVF9DT05UQUNUX01BWF9SRVRSSUVTID0gMDtcblxuLyoqXG4gKiBBYnN0cmFjdCBzaWduYWxpbmcgc3RhdGUgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxpbmdTdGF0ZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBbXpuUnRjU2lnbmFsaW5nfSBzaWduYWxpbmcgU2lnbmFsaW5nIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaWduYWxpbmcpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nID0gc2lnbmFsaW5nO1xuICAgICAgICB0aGlzLl9jcmVhdGVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIHNldFN0YXRlVGltZW91dCh0aW1lb3V0TXMpIHtcbiAgICAgICAgc2V0VGltZW91dChoaXRjaCh0aGlzLCB0aGlzLl9vblRpbWVvdXRDaGVja2VkKSwgdGltZW91dE1zKTtcbiAgICB9XG4gICAgZ2V0IGlzQ3VycmVudFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcyA9PT0gdGhpcy5fc2lnbmFsaW5nLnN0YXRlO1xuICAgIH1cbiAgICBvbkVudGVyKCkge31cbiAgICBfb25UaW1lb3V0Q2hlY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25UaW1lb3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25UaW1lb3V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb24oKTtcbiAgICB9XG4gICAgdHJhbnNpdChuZXdTdGF0ZSkge1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcudHJhbnNpdChuZXdTdGF0ZSk7XG4gICAgfVxuICAgIG9uRXhpdCgpIHt9XG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb24oJ29uT3BlbiBub3Qgc3VwcG9ydGVkIGJ5ICcgKyB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBvbkVycm9yKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxEb3duKCk7XG4gICAgfVxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbERvd24oKTtcbiAgICB9XG4gICAgY2hhbm5lbERvd24oKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbignY2hhbm5lbERvd24gbm90IHN1cHBvcnRlZCBieSAnICsgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgb25ScGNNc2cocnBjTXNnKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uKCdvblJwY01zZyBub3Qgc3VwcG9ydGVkIGJ5ICcgKyB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBpbnZpdGUoc2RwLCBpY2VDYW5kaWRhdGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uKCdpbnZpdGUgbm90IHN1cHBvcnRlZCBieSAnICsgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgYWNjZXB0KCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb24oJ2FjY2VwdCBub3Qgc3VwcG9ydGVkIGJ5ICcgKyB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBjb25uZWN0Q29udGFjdCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uKCdjb25uZWN0Q29udGFjdCBub3Qgc3VwcG9ydGVkIGJ5ICcgKyB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBoYW5ndXAoKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgYnllKCkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTaWduYWxpbmdTdGF0ZVwiO1xuICAgIH1cbiAgICBnZXQgbG9nZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsaW5nLl9sb2dnZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmFpbE9uVGltZW91dFN0YXRlIGV4dGVuZHMgU2lnbmFsaW5nU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZywgdGltZW91dE1zKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZyk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRNcyA9IHRpbWVvdXRNcztcbiAgICB9XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZVRpbWVvdXQodGhpcy5fdGltZW91dE1zKTtcbiAgICB9XG4gICAgb25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHRoaXMuX3NpZ25hbGluZywgbmV3IFRpbWVvdXQoKSkpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRmFpbE9uVGltZW91dFN0YXRlXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBlbmRpbmdDb25uZWN0U3RhdGUgZXh0ZW5kcyBGYWlsT25UaW1lb3V0U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZywgdGltZW91dE1zLCBpbml0aWFsU3RhcnRUaW1lSW4sIHJldHJpZXNJbikge1xuICAgICAgICBzdXBlcihzaWduYWxpbmcsIHRpbWVvdXRNcyk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxTdGFydFRpbWUgPSBpbml0aWFsU3RhcnRUaW1lSW4gfHwgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuX3JldHJpZXMgPSByZXRyaWVzSW4gfHwgMDtcbiAgICB9XG4gICAgb25PcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20gJiYgdGhpcy5fc2lnbmFsaW5nLl9wY20uY29udGFjdFRva2VuICYmIHRoaXMuX3NpZ25hbGluZy5fcGNtLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkgJiYgIXRoaXMuX3NpZ25hbGluZy5faXNGaXJzdFRpbWVTZXR1cCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nQ29ubmVjdENvbnRhY3RTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgUGVuZGluZ0ludml0ZVN0YXRlKHRoaXMuX3NpZ25hbGluZykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hhbm5lbERvd24oKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIHVudGlsVGltZW91dE1zID0gKHRoaXMuX2luaXRpYWxTdGFydFRpbWUgKyB0aGlzLl90aW1lb3V0TXMpIC0gbm93O1xuICAgICAgICBpZiAodW50aWxUaW1lb3V0TXMgPiAwICYmICsrdGhpcy5fcmV0cmllcyA8IENPTk5FQ1RfTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZy5fY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nQ29ubmVjdFN0YXRlKHRoaXMuX3NpZ25hbGluZywgdW50aWxUaW1lb3V0TXMsIHRoaXMuX2luaXRpYWxTdGFydFRpbWUsIHRoaXMuX3JldHJpZXMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fc2lnbmFsaW5nLCBuZXcgU2lnbmFsaW5nQ2hhbm5lbERvd25FcnJvcigpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlBlbmRpbmdDb25uZWN0U3RhdGVcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQZW5kaW5nSW52aXRlU3RhdGUgZXh0ZW5kcyBTaWduYWxpbmdTdGF0ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihzaWduYWxpbmcsIHJldGlyZXNJbikge1xuICAgICAgICBzdXBlcihzaWduYWxpbmcpO1xuICAgICAgICB0aGlzLl9yZXRyaWVzID0gcmV0aXJlc0luO1xuICAgIH1cblxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gbm90aWZ5Q29ubmVjdGVkKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fY29ubmVjdGVkSGFuZGxlcigpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIFJUQyBpbnZpdGUgdG8gYmFja2VuZCBzZXJ2aWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2RwXG4gICAgICogQHBhcmFtIGljZUNhbmRpZGF0ZXNcbiAgICAgKi9cbiAgICBpbnZpdGUoc2RwLCBpY2VDYW5kaWRhdGVzKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGludml0ZUlkID0gdXVpZCgpO1xuXG4gICAgICAgIHZhciBpbnZpdGVQYXJhbXM7XG5cbiAgICAgICAgaWYgKHNlbGYuX3NpZ25hbGluZy5fcGNtKSB7XG4gICAgICAgICAgICBpbnZpdGVQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2RwOiBzZHAsXG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlczogaWNlQ2FuZGlkYXRlcyxcbiAgICAgICAgICAgICAgICBjYWxsQ29udGV4dFRva2VuOiBzZWxmLl9zaWduYWxpbmcuX2NvbnRhY3RUb2tlbiwgLy8gY291bGQgYmUgbnVsbFxuICAgICAgICAgICAgICAgIGNvbnRhY3RJZDogdHlwZW9mIHNlbGYuX3NpZ25hbGluZy5jYWxsSWQgPT09IFwidW5kZWZpbmVkXCIgPyBcIlwiIDogc2VsZi5fc2lnbmFsaW5nLmNhbGxJZCwgLy8gY291bGQgYmUgbnVsbFxuICAgICAgICAgICAgICAgIGJyb3dzZXJJZDogc2VsZi5fc2lnbmFsaW5nLl9wY20uYnJvd3NlcklkLCAvLyBpZGVudGljYWwgaWQgZm9yIGJyb3dzZXJcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZW50Q29ubmVjdGlvbjogc2VsZi5fc2lnbmFsaW5nLl9wY20uaXNQUENFbmFibGVkLCAvLyBmbGFnIHdoaWNoIGluZGljYXRlcyBpZiBwZXJzaXN0ZW50IGNvbm5lY3Rpb24gaXMgZW5hYmxlZCBpbiBhZ2VudCBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25JZDogc2VsZi5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25JZCwgLy8gZ2VuZXJhdGUgYnkgcGVlcmNvbm5lY3Rpb24gZmFjdG9yeVxuICAgICAgICAgICAgICAgIGljZVJlc3RhcnQ6IHNlbGYuX3NpZ25hbGluZy5fcGNtLl9pY2VSZXN0YXJ0LCAvLyB3aWxsIGJlIHRydWUsIGlmIGljZSBjb25uZWN0aW9uIGZhaWxlZFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uVG9rZW46IHNlbGYuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uVG9rZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnZpdGVQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2RwOiBzZHAsXG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlczogaWNlQ2FuZGlkYXRlcyxcbiAgICAgICAgICAgICAgICBjYWxsQ29udGV4dFRva2VuIDogc2VsZi5fc2lnbmFsaW5nLl9jb250YWN0VG9rZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmxvZ2dlci5sb2coJ1NlbmRpbmcgU0RQJywgZ2V0UmVkYWN0ZWRTZHAoc2RwKSk7XG5cbiAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl93c3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgIG1ldGhvZDogSU5WSVRFX01FVEhPRF9OQU1FLFxuICAgICAgICAgICAgcGFyYW1zOiBpbnZpdGVQYXJhbXMsXG4gICAgICAgICAgICBpZDogaW52aXRlSWQsXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2VsZi50cmFuc2l0KG5ldyBQZW5kaW5nQW5zd2VyU3RhdGUoc2VsZi5fc2lnbmFsaW5nLCBpbnZpdGVJZCwgdGhpcy5fcmV0cmllcykpO1xuICAgIH1cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIG5ldyBTaWduYWxpbmdDaGFubmVsRG93bkVycm9yKCkpKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlBlbmRpbmdJbnZpdGVTdGF0ZVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBlbmRpbmdBbnN3ZXJTdGF0ZSBleHRlbmRzIEZhaWxPblRpbWVvdXRTdGF0ZSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIFBlbmRpbmdBbnN3ZXJTdGF0ZSB3aGljaCByZXNvbHZlcyB0aGUgYW5zd2VyIG9mIGludml0ZSByZXF1ZXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2lnbmFsaW5nXG4gICAgICogQHBhcmFtIGludml0ZUlkXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nLCBpbnZpdGVJZCwgcmV0cmllc0luKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZywgTUFYX0lOVklURV9ERUxBWV9NUyk7XG4gICAgICAgIHRoaXMuX2ludml0ZUlkID0gaW52aXRlSWQ7XG4gICAgICAgIHRoaXMuX3JldHJpZXMgPSByZXRyaWVzSW4gfHwgMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSUEMgbWVzc2FnZSBldmVudCBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIHJlc3BvbnNlIG9mIGludml0ZSByZXF1ZXN0IHNlbnQgYnkgYmFja2VuZCBzZXJ2aWNlXG4gICAgICogXCJyZXN1bHRcIjoge1xuICAgICAqICAgICAgICAgICAgICAgICBcImNhbmRpZGF0ZXNcIjogW1wiTGlzdCBvZiBJQ0UgY2FuZGlkYXRlc1wiXVxuICAgICAqICAgICAgICAgICAgICAgICBcInNkcFwiOiBcIlNEUCBPYmplY3RcIixcbiAgICAgKiAgICAgICAgICAgICAgICAgXCJpbmFjdGl2aXR5RHVyYXRpb25cIjogNjAwMDAwIG9yIDAsXG4gICAgICogICAgICAgICAgICAgICAgIFwicGVlckNvbm5lY3Rpb25JZFwiOiBcIlBlZXIgQ29ubmVjdGlvbiBJRFwiLFxuICAgICAqICAgICAgICAgICAgICAgICBcInBlZXJDb25uZWN0aW9uVG9rZW5cIjogXCJQZWVyIENvbm5lY3Rpb24gVG9rZW4gZnJvbSBSVFBTXCJcbiAgICAgKiAgICAgICAgICAgICB9XG4gICAgICovXG4gICAgb25ScGNNc2cobXNnKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKG1zZy5pZCA9PT0gdGhpcy5faW52aXRlSWQpIHsgLy8gVE9ETzogY2hlY2sgcGVlciBjb25uZWN0aW9uIGlkIGhlcmVcbiAgICAgICAgICAgIGlmIChtc2cuZXJyb3IgfHwgIW1zZy5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXRyeSBsb2dpYyBmb3IgaW52aXRlIGVycm9yLCBjdXJyZW50bHkgaXMgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoKyt0aGlzLl9yZXRyaWVzIDwgSU5WSVRFX01BWF9SRVRSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgUGVuZGluZ0ludml0ZVN0YXRlKHRoaXMuX3NpZ25hbGluZywgdGhpcy5fcmV0cmllcykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLnRyYW5zbGF0ZUludml0ZUVycm9yKG1zZykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIG5vdGlmeUFuc3dlcmVkKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIubG9nKCdSZWNlaXZlZCBTRFAnLCBnZXRSZWRhY3RlZFNkcChtc2cucmVzdWx0LnNkcCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fc2lnbmFsaW5nLl9wY20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uVG9rZW4gPSBtc2cucmVzdWx0LnBlZXJDb25uZWN0aW9uVG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zaWduYWxpbmcuX3BjbS5wZWVyQ29ubmVjdGlvbklkID0gbXNnLnJlc3VsdC5wZWVyQ29ubmVjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNSVFBTQWxsb3dsaXN0ZWQgPSAhIW1zZy5yZXN1bHQucGVlckNvbm5lY3Rpb25JZDsvLyBpZiBwZWVyQ29ubmVjdGlvbklkIGlzIGRlZmluZWQsIGlzUlRQU0FsbG93bGlzdGVkIHdpbGwgYmUgc2V0IHRvIHRydWUsIG90aGVyd2lzZSwgaXQgd2lsbCByZW1haW4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gaXNSVFBTQWxsb3dsaXN0ZWQgZmxpcCBmcm9tIGZhbHNlIHRvIHRydWUsIHdlIG5lZWQgdG8gY2xvc2Ugc3RhbmRieS9lYXJseSBtZWRpYSBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSVFBTQWxsb3dsaXN0ZWQgIT09IHNlbGYuX3NpZ25hbGluZy5fcGNtLmlzUlRQU0FsbG93bGlzdGVkICYmIGlzUlRQU0FsbG93bGlzdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9wY20uY2xvc2VFYXJseU1lZGlhQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9wY20uaXNSVFBTQWxsb3dsaXN0ZWQgPSBpc1JUUFNBbGxvd2xpc3RlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fYW5zd2VyZWRIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5yZXN1bHQuc2RwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5yZXN1bHQuY2FuZGlkYXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cucmVzdWx0LmluYWN0aXZpdHlEdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cucmVzdWx0LnBlZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLnJlc3VsdC5wZWVyQ29ubmVjdGlvblRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9hbnN3ZXJlZEhhbmRsZXIobXNnLnJlc3VsdC5zZHAsIG1zZy5yZXN1bHQuY2FuZGlkYXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9pc01lZGlhQ2x1c3RlclBhdGggPSAhKG1zZy5yZXN1bHQuc2RwLmluY2x1ZGVzKCdBbWF6b25Db25uZWN0JykgJiYgbXNnLnJlc3VsdC5zZHAuaW5jbHVkZXMoJ3NpbGVuY2VTdXBwJykpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nQWNjZXB0U3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLl9zaWduYWxpbmcuX2F1dG9BbnN3ZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYW5zbGF0ZUludml0ZUVycm9yKG1zZykge1xuICAgICAgICBpZiAobXNnLmVycm9yICYmIG1zZy5lcnJvci5jb2RlID09IDQwMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0ODYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVzeUV4Y2VwdGlvbihtc2cuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobXNnLmVycm9yICYmIG1zZy5lcnJvci5jb2RlID09IDQwNCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYWxsTm90Rm91bmRFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICAgIH0gZWxzZSBpZiAobXNnLmVycm9yICYmIG1zZy5lcnJvci5jb2RlID09IDQwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKG1zZy5lcnJvci5tZXNzYWdlKTsgLy8gQmFkUmVxdWVzdEV4Y2VwdGlvblxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0MDgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVxdWVzdFRpbWVvdXRFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBSZXF1ZXN0VGltZW91dEV4Y2VwdGlvblxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0MDkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSWRlbXBvdGVuY3lFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBJZGVtcG90ZW5jeUV4Y2VwdGlvblxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA1MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmtub3duU2lnbmFsaW5nRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmd1cCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIFwiSGFuZ3MgdXAgaW4gUGVuZGluZ0Fuc3dlclN0YXRlXCIpKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUGVuZGluZ0Fuc3dlclN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGVuZGluZ0FjY2VwdFN0YXRlIGV4dGVuZHMgU2lnbmFsaW5nU3RhdGUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBQZW5kaW5nQWNjZXB0U3RhdGUgd2hpY2ggc2VuZHMgYWNjcGV0IHJlcXVlc3QgdG8gYmFja2VuZCBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaWduYWxpbmcgLSBzaWduYWxpbmcgT2JqZWN0XG4gICAgICogQHBhcmFtIGF1dG9BbnN3ZXIgLSBib29sZWFuIG9iamVjdFxuICAgICAqIEBwYXJhbSByZXRyaWVzSW4gLSB0aGUgbnVtYmVyIG9mIHJldHJ5IHRpbWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nLCBhdXRvQW5zd2VyLCByZXRyaWVzSW4pIHtcbiAgICAgICAgc3VwZXIoc2lnbmFsaW5nKTtcbiAgICAgICAgdGhpcy5fYXV0b0Fuc3dlciA9IGF1dG9BbnN3ZXI7XG4gICAgICAgIHRoaXMuX3JldHJpZXMgPSByZXRyaWVzSW47XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvQW5zd2VyKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjY2VwdCgpIHtcbiAgICAgICAgdGhpcy5zZW5kQWNjZXB0UmVxdWVzdCgpO1xuICAgICAgICAvLyBpZiBjb250YWN0VG9rZW4gZXhpc3RzLCBzaWduYWxpbmcgbW92ZSB0byB0YWxraW5nIHN0YXRlLiBPdGhlcndpc2UsIG1vdmUgdG8gSWRsZSBzdGF0ZVxuICAgICAgICBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20gJiYgdGhpcy5fc2lnbmFsaW5nLl9wY20uaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSAmJiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jb250YWN0VG9rZW4gPT09IG51bGwgJiYgdGhpcy5fc2lnbmFsaW5nLl9pc0ZpcnN0VGltZVNldHVwKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IElkbGVTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIHRoaXMuX2FjY2VwdElkLCB0aGlzLl9yZXRyaWVzLCBBQ0NFUFRfTUVUSE9EX05BTUUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgVGFsa2luZ1N0YXRlKHRoaXMuX3NpZ25hbGluZywgdGhpcy5fYWNjZXB0SWQsIHRoaXMuX3JldHJpZXMsIEFDQ0VQVF9NRVRIT0RfTkFNRSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoYW5uZWxEb3duKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHRoaXMuX3NpZ25hbGluZywgbmV3IFNpZ25hbGluZ0NoYW5uZWxEb3duRXJyb3IoKSkpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUGVuZGluZ0FjY2VwdFN0YXRlXCI7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRBY2NlcHRSZXF1ZXN0KCkge1xuICAgICAgICB0aGlzLl9hY2NlcHRJZCA9IHV1aWQoKTtcbiAgICAgICAgdmFyIGFjY2VwdFBhcmFtcyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20pIHtcbiAgICAgICAgICAgIGFjY2VwdFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBjb250YWN0SWQ6IHR5cGVvZiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jYWxsSWQgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogdGhpcy5fc2lnbmFsaW5nLl9wY20uY2FsbElkLFxuICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRDb25uZWN0aW9uOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5pc1BQQ0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25JZDogdGhpcy5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25JZCxcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvblRva2VuOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5wZWVyQ29ubmVjdGlvblRva2VuXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl93c3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgIG1ldGhvZDogQUNDRVBUX01FVEhPRF9OQU1FLFxuICAgICAgICAgICAgcGFyYW1zOiBhY2NlcHRQYXJhbXMsXG4gICAgICAgICAgICBpZDogdGhpcy5fYWNjZXB0SWRcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQZW5kaW5nQ29ubmVjdENvbnRhY3RTdGF0ZSBzZW5kcyBjb25uZWN0Q29udGFjdCByZXF1ZXN0IHRvIGJhY2tlbmQgc2VydmljZVxuICogd2hlbiB0aGUgcGVlciBjb25uZWN0aW9uIGhhcyBhbHJlYWR5IGVzdGFibGlzaGVkIGluc3RlYWQgb2Ygc2VuZGluZyBhIG5ldyBpbnZpdGUgcmVxdWVzdC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBQZW5kaW5nQ29ubmVjdENvbnRhY3RTdGF0ZSBleHRlbmRzIFNpZ25hbGluZ1N0YXRlIHtcblxuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZywgcmV0cmllc0luKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZyk7XG4gICAgICAgIHRoaXMuX3JldHJpZXMgPSByZXRyaWVzSW47XG4gICAgfVxuXG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgc3VwZXIub25FbnRlcigpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuY29ubmVjdENvbnRhY3QoKTtcbiAgICB9XG5cbiAgICBjb25uZWN0Q29udGFjdCgpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdENvbnRhY3RJZCA9IHV1aWQoKTtcbiAgICAgICAgdmFyIGNvbm5lY3RDb250YWN0UGFyYW1zID0ge1xuICAgICAgICAgICAgY29udGFjdElkOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jYWxsSWQsXG4gICAgICAgICAgICBwZXJzaXN0ZW50Q29ubmVjdGlvbjogdGhpcy5fc2lnbmFsaW5nLl9wY20uaXNQUENFbmFibGVkLFxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25JZDogdGhpcy5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25JZCxcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uVG9rZW46IHRoaXMuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uVG9rZW4sXG4gICAgICAgICAgICBjYWxsQ29udGV4dFRva2VuOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jb250YWN0VG9rZW4sXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl93c3MuX2Nvbm5lY3Rpb25JZCA9IHRoaXMuX3NpZ25hbGluZy5fcGNtLmNvbm5lY3Rpb25JZDtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl9jb25uZWN0aW9uSWQgPSB0aGlzLl9zaWduYWxpbmcuX3BjbS5jb25uZWN0aW9uSWQ7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZy5fd3NzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICBtZXRob2Q6IENPTk5FQ1RfQ09OVEFDVF9NRVRIT0RfTkFNRSxcbiAgICAgICAgICAgIHBhcmFtczogY29ubmVjdENvbnRhY3RQYXJhbXMsXG4gICAgICAgICAgICBpZDogdGhpcy5fY29ubmVjdENvbnRhY3RJZFxuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgVGFsa2luZ1N0YXRlKHRoaXMuX3NpZ25hbGluZywgdGhpcy5fY29ubmVjdENvbnRhY3RJZCwgdGhpcy5fcmV0cmllcywgQ09OTkVDVF9DT05UQUNUX01FVEhPRF9OQU1FKSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlBlbmRpbmdDb25uZWN0Q29udGFjdFN0YXRlXCI7XG4gICAgfVxufVxuXG4vLyBUaGlzIFN0YXRlIGhhcyBuZXZlciBiZWVuIGluaXRpYWxpemVkLiAoQ2FuIGJlIGRlbGV0ZWQpXG5leHBvcnQgY2xhc3MgUGVuZGluZ0FjY2VwdEFja1N0YXRlIGV4dGVuZHMgRmFpbE9uVGltZW91dFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzaWduYWxpbmcsIGFjY2VwdElkKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZywgTUFYX0FDQ0VQVF9CWUVfREVMQVlfTVMpO1xuICAgICAgICB0aGlzLl9hY2NlcHRJZCA9IGFjY2VwdElkO1xuICAgIH1cbiAgICBvblJwY01zZyhtc2cpIHtcbiAgICAgICAgaWYgKG1zZy5pZCA9PT0gdGhpcy5fYWNjZXB0SWQpIHtcbiAgICAgICAgICAgIGlmIChtc2cuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHRoaXMuX3NpZ25hbGluZywgbmV3IFNpZ25hbGluZ0NoYW5uZWxEb3duRXJyb3IoKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmcuX2NsaWVudFRva2VuID0gbXNnLnJlc3VsdC5jbGllbnRUb2tlbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IFRhbGtpbmdTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUGVuZGluZ0FjY2VwdEFja1N0YXRlXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIEFmdGVyIHNpZ25hbGluZyBoYW5kc2hha2UgY29tcGxldGVzLCBpZiBwZXJzaXN0ZW50IGNvbm5lY3Rpb24gaXMgZW5hYmxlZCwgc2lnbmFsaW5nIGNoYW5uZWwgbW92ZXMgdG8gSWRsZSBzdGF0ZVxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIElkbGVTdGF0ZSBleHRlbmRzIFNpZ25hbGluZ1N0YXRlIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25hbGluZyAtIHNpZ25hbGluZyBjaGFubmVsXG4gICAgICogQHBhcmFtIG1ldGhvZElkIC0gdGhlIGlkIGZvciB0aGUgYWNjZXB0IHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gcmV0cmllc0luIC0gdGhlIG51bWJlciBvZiByZXRyeSB0aW1lc1xuICAgICAqIEBwYXJhbSByZXRyeU1ldGhvZCAtIHRoZSBtZXRob2Qgd2Ugd2FudCB0byByZXRyeVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZywgbWV0aG9kSWQsIHJldHJpZXNJbiwgcmV0cnlNZXRob2QpIHtcbiAgICAgICAgc3VwZXIoc2lnbmFsaW5nKTtcbiAgICAgICAgdGhpcy5fbWV0aG9kSWQgPSBtZXRob2RJZDtcbiAgICAgICAgdGhpcy5fcmV0cmllcyA9IHJldHJpZXNJbiB8fCAwO1xuICAgICAgICB0aGlzLl9yZXRyeU1ldGhvZCA9IHJldHJ5TWV0aG9kO1xuICAgIH1cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIG5vdGlmeUhhbmRzaGFrZWQocmVzb2x2ZSkge1xuICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9oYW5kc2hha2VkSGFuZGxlcigpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9wY20uc3RhcnRJbmFjdGl2aXR5VGltZXIoKTtcbiAgICB9XG5cbiAgICBjb25uZWN0Q29udGFjdCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nQ29ubmVjdENvbnRhY3RTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICB9XG5cbiAgICBoYW5ndXAoKSB7XG4gICAgICAgIHRoaXMuYnllKCk7XG4gICAgfVxuXG4gICAgYnllKCkge1xuICAgICAgICB0aGlzLl9ieWVJZCA9IHV1aWQoKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl93c3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgIG1ldGhvZDogQllFX01FVEhPRF9OQU1FLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY29udGFjdElkOiB0eXBlb2YgdGhpcy5fc2lnbmFsaW5nLl9wY20uY2FsbElkID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IHRoaXMuX3NpZ25hbGluZy5fcGNtLmNhbGxJZCxcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZW50Q29ubmVjdGlvbjogdGhpcy5fc2lnbmFsaW5nLl9wY20uaXNQUENFbmFibGVkLFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uSWQ6IHRoaXMuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25Ub2tlbjogdGhpcy5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25Ub2tlbixcbiAgICAgICAgICAgICAgICBjYWxsQ29udGV4dFRva2VuOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jb250YWN0VG9rZW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2J5ZUlkXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLnRyYW5zaXQobmV3IFBlbmRpbmdSZW1vdGVIYW5ndXBTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIHRoaXMuX2J5ZUlkKSk7XG4gICAgfVxuXG4gICAgb25ScGNNc2cobXNnKSB7XG4gICAgICAgIGlmIChtc2cubWV0aG9kID09PSBQQ19CWUVfTUVUSE9EX05BTUUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlJlY2VpdmVkIFBDIGJ5ZSBmcm9tIHNlcnZlciwgdGVhciBkb3duIHRoZSBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICB0aGlzLnRlYXJEb3duUGVlckNvbm5lY3Rpb24obXNnLnBlZXJDb25uZWN0aW9uSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5tZXRob2QgPT09IEJZRV9NRVRIT0RfTkFNRSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nTG9jYWxIYW5ndXBTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIG1zZy5pZCkpO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5tZXRob2QgPT09ICdyZW5ld0NsaWVudFRva2VuJykge1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl9jbGllbnRUb2tlbiA9IG1zZy5wYXJhbXMuY2xpZW50VG9rZW47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20gJiYgbXNnLmVycm9yICYmIG1zZy5pZCA9PT0gdGhpcy5fbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIGlmICggdGhpcy5fcmV0cnlNZXRob2QgPT09IEFDQ0VQVF9NRVRIT0RfTkFNRSAmJiArK3RoaXMuX3JldHJpZXMgPCBBQ0NFUFRfTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IFBlbmRpbmdBY2NlcHRTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIHRoaXMuX3JldHJpZXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20uX3J0Y1Nlc3Npb24pIHsgLy8gZGVzdHJveSBzaWduYWxpbmcgY2hhbm5lbCBhbmQgcGVlciBjb25uZWN0aW9uIHdoZW4gcmVjZWl2ZXMgRGlzY29ubmVjdENvbnRhY3QgZXJyb3JcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3BjbS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLnRyYW5zbGF0ZVJlc3BvbnNlRXJyb3IobXNnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGVhckRvd25QZWVyQ29ubmVjdGlvbihwZWVyQ29ubmVjdGlvbklkKSB7XG4gICAgICAgIGlmIChwZWVyQ29ubmVjdGlvbklkID09PSB0aGlzLl9zaWduYWxpbmcuX3BjbS5wZWVyQ29ubmVjdGlvbklkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3BjbS5kZXN0cm95KHBlZXJDb25uZWN0aW9uSWQpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBEaXNjb25uZWN0ZWRTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInBlZXJDb25uZWN0aW9uSWQgaW4gdGhlIFBDQnllIHJlcXVlc3QgZG9lcyBOT1QgbWF0Y2ggdGhlIHBlZXJDb25uZWN0aW9uSWQgb2YgdGhlIGV4aXN0aW5nIHBlZXIgY29ubmVjdGlvbiwgZmFpbGVkIHRvIHRlYXIgZG93biBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSZXNwb25zZUVycm9yKG1zZykge1xuICAgICAgICBpZiAobXNnLmVycm9yICYmIG1zZy5lcnJvci5jb2RlID09IDQwMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FsbE5vdEZvdW5kRXhjZXB0aW9uKG1zZy5lcnJvci5tZXNzYWdlKTsgLy8gUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbihtc2cuZXJyb3IubWVzc2FnZSk7IC8vIEJhZFJlcXVlc3RFeGNlcHRpb25cbiAgICAgICAgfSBlbHNlIGlmIChtc2cuZXJyb3IgJiYgbXNnLmVycm9yLmNvZGUgPT0gNDA4KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uKG1zZy5lcnJvci5tZXNzYWdlKTsgLy8gUmVxdWVzdFRpbWVvdXRFeGNlcHRpb25cbiAgICAgICAgfWVsc2UgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA1MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmtub3duU2lnbmFsaW5nRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoYW5uZWxEb3duKCkge1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3JlY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcudHJhbnNpdChuZXcgUGVuZGluZ1JlY29ubmVjdFN0YXRlKHRoaXMuX3NpZ25hbGluZykpO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJJZGxlU3RhdGVcIjtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIFRhbGtpbmdTdGF0ZSBleHRlbmRzIFNpZ25hbGluZ1N0YXRlIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25hbGluZyAtIHNpZ25hbGluZyBjaGFubmVsXG4gICAgICogQHBhcmFtIG1ldGhvZElkIC0gdGhlIGlkIGZvciB0aGUgYWNjZXB0IHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gcmV0cmllc0luIC0gdGhlIG51bWJlciBvZiByZXRyeSB0aW1lc1xuICAgICAqIEBwYXJhbSByZXRyeU1ldGhvZCAtIHRoZSBtZXRob2Qgd2Ugd2FudCB0byByZXRyeVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNpZ25hbGluZywgbWV0aG9kSWQsIHJldHJpZXNJbiwgcmV0cnlNZXRob2QpIHtcbiAgICAgICAgc3VwZXIoc2lnbmFsaW5nKTtcbiAgICAgICAgdGhpcy5fbWV0aG9kSWQgPSBtZXRob2RJZDtcbiAgICAgICAgdGhpcy5fcmV0cmllcyA9IHJldHJpZXNJbiB8fCAwO1xuICAgICAgICB0aGlzLl9yZXRyeU1ldGhvZCA9IHJldHJ5TWV0aG9kO1xuICAgIH1cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICghc2VsZi5fc2lnbmFsaW5nLl9wY20gfHwgIXNlbGYuX3NpZ25hbGluZy5fcGNtLmlzUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkKCkgfHwgc2VsZi5fc2lnbmFsaW5nLl9pc0ZpcnN0VGltZVNldHVwKSB7XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiBub3RpZnlIYW5kc2hha2VkKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zaWduYWxpbmcuX2hhbmRzaGFrZWRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9pc0ZpcnN0VGltZVNldHVwID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaGFuZ3VwKCkge1xuICAgICAgICBpZiAodGhpcy5fc2lnbmFsaW5nLl9wY20gJiYgdGhpcy5fc2lnbmFsaW5nLl9wY20uaXNQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0Q29udGFjdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ieWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJ5ZSgpIHtcbiAgICAgICAgdGhpcy5fYnllSWQgPSB1dWlkKCk7XG4gICAgICAgIHZhciBieWVQYXJhbXMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuX3NpZ25hbGluZy5fcGNtKSB7XG4gICAgICAgICAgICBieWVQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgY29udGFjdElkOiB0eXBlb2YgdGhpcy5fc2lnbmFsaW5nLl9wY20uY2FsbElkID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IHRoaXMuX3NpZ25hbGluZy5fcGNtLmNhbGxJZCxcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZW50Q29ubmVjdGlvbjogdGhpcy5fc2lnbmFsaW5nLl9wY20uaXNQUENFbmFibGVkLFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uSWQ6IHRoaXMuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25Ub2tlbjogdGhpcy5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25Ub2tlbixcbiAgICAgICAgICAgICAgICBjYWxsQ29udGV4dFRva2VuOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jb250YWN0VG9rZW4sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBieWVQYXJhbXMgPSB7Y2FsbENvbnRleHRUb2tlbjogdGhpcy5fc2lnbmFsaW5nLl9jb250YWN0VG9rZW59XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3dzcy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgbWV0aG9kOiBCWUVfTUVUSE9EX05BTUUsXG4gICAgICAgICAgICBwYXJhbXM6IGJ5ZVBhcmFtcyxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9ieWVJZFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBQZW5kaW5nUmVtb3RlSGFuZ3VwU3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLl9ieWVJZCkpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RDb250YWN0KCkge1xuICAgICAgICB0aGlzLl9kaXNjb25uZWN0Q29udGFjdElkID0gdXVpZCgpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZy5fd3NzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICBtZXRob2Q6IERJU0NPTk5FQ1RfQ09OVEFDVF9NRVRIT0RfTkFNRSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RJZDogc2VsZi5fc2lnbmFsaW5nLl9wY20uY2FsbElkLFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uSWQ6IHNlbGYuX3NpZ25hbGluZy5fcGNtLnBlZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25Ub2tlbjogc2VsZi5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25Ub2tlbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogdGhpcy5fZGlzY29ubmVjdENvbnRhY3RJZFxuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgSWRsZVN0YXRlKHRoaXMuX3NpZ25hbGluZywgdGhpcy5fZGlzY29ubmVjdENvbnRhY3RJZCkpO1xuICAgIH1cblxuICAgIG9uUnBjTXNnKG1zZykge1xuICAgICAgICBpZiAobXNnLm1ldGhvZCA9PT0gQllFX01FVEhPRF9OQU1FKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IFBlbmRpbmdMb2NhbEhhbmd1cFN0YXRlKHRoaXMuX3NpZ25hbGluZywgbXNnLmlkKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobXNnLm1ldGhvZCA9PT0gJ3JlbmV3Q2xpZW50VG9rZW4nKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWxpbmcuX2NsaWVudFRva2VuID0gbXNnLnBhcmFtcy5jbGllbnRUb2tlbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zaWduYWxpbmcuX3BjbSAmJiBtc2cuZXJyb3IgJiYgbXNnLmlkID09PSB0aGlzLl9tZXRob2RJZCkge1xuICAgICAgICAgICAgaWYgKCB0aGlzLl9yZXRyeU1ldGhvZCA9PT0gQ09OTkVDVF9DT05UQUNUX01FVEhPRF9OQU1FICYmICsrdGhpcy5fcmV0cmllcyA8IENPTk5FQ1RfQ09OVEFDVF9NQVhfUkVUUklFUykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgUGVuZGluZ0Nvbm5lY3RDb250YWN0U3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLl9yZXRyaWVzKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLl9yZXRyeU1ldGhvZCA9PT0gQUNDRVBUX01FVEhPRF9OQU1FICYmICsrdGhpcy5fcmV0cmllcyA8IEFDQ0VQVF9NQVhfUkVUUklFUykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgUGVuZGluZ0FjY2VwdFN0YXRlKHRoaXMuX3NpZ25hbGluZyx0aGlzLl9yZXRyaWVzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUodGhpcy5fc2lnbmFsaW5nLCB0aGlzLnRyYW5zbGF0ZVJlc3BvbnNlRXJyb3IobXNnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlUmVzcG9uc2VFcnJvcihtc2cpIHtcbiAgICAgICAgaWYgKG1zZy5lcnJvciAmJiBtc2cuZXJyb3IuY29kZSA9PSA0MDMpIHsgLy8gQWNjZXNzRGVuaWVkRXhjZXB0aW9uXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbihtc2cuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobXNnLmVycm9yLmNvZGUgPT0gNDA0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxOb3RGb3VuZEV4Y2VwdGlvbihtc2cuZXJyb3IubWVzc2FnZSk7IC8vIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cbiAgICAgICAgfSBlbHNlIGlmIChtc2cuZXJyb3IuY29kZSA9PSA0MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbihtc2cuZXJyb3IubWVzc2FnZSk7IC8vIEJhZFJlcXVlc3RFeGNlcHRpb25cbiAgICAgICAgfSBlbHNlIGlmIChtc2cuZXJyb3IuY29kZSA9PSA0MDgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVxdWVzdFRpbWVvdXRFeGNlcHRpb24obXNnLmVycm9yLm1lc3NhZ2UpOyAvLyBSZXF1ZXN0VGltZW91dEV4Y2VwdGlvblxuICAgICAgICB9ZWxzZSBpZiAobXNnLmVycm9yLmNvZGUgPT0gNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVybmFsU2VydmVyRXhjZXB0aW9uKG1zZy5lcnJvci5tZXNzYWdlKTsgLy8gSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5rbm93blNpZ25hbGluZ0Vycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsaW5nLnRyYW5zaXQobmV3IFBlbmRpbmdSZWNvbm5lY3RTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlRhbGtpbmdTdGF0ZVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBlbmRpbmdSZWNvbm5lY3RTdGF0ZSBleHRlbmRzIEZhaWxPblRpbWVvdXRTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZywgREVGQVVMVF9DT05ORUNUX1RJTUVPVVRfTVMpO1xuICAgIH1cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdChuZXcgVGFsa2luZ1N0YXRlKHRoaXMuX3NpZ25hbGluZykpO1xuICAgIH1cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBGYWlsZWRTdGF0ZSh0aGlzLl9zaWduYWxpbmcsIG5ldyBTaWduYWxpbmdDaGFubmVsRG93bkVycm9yKCkpKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlBlbmRpbmdSZWNvbm5lY3RTdGF0ZVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBlbmRpbmdSZW1vdGVIYW5ndXBTdGF0ZSBleHRlbmRzIEZhaWxPblRpbWVvdXRTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nLCBieWVJZCkge1xuICAgICAgICBzdXBlcihzaWduYWxpbmcsIE1BWF9BQ0NFUFRfQllFX0RFTEFZX01TKTtcbiAgICAgICAgdGhpcy5fYnllSWQgPSBieWVJZDtcbiAgICB9XG4gICAgLy8gcmVzcG9uc2VcbiAgICBvblJwY01zZyhtc2cpIHtcbiAgICAgICAgaWYgKG1zZy5pZCA9PT0gdGhpcy5fYnllSWQgfHwgbXNnLm1ldGhvZCA9PT0gQllFX01FVEhPRF9OQU1FKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXQobmV3IERpc2Nvbm5lY3RlZFN0YXRlKHRoaXMuX3NpZ25hbGluZykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJQZW5kaW5nUmVtb3RlSGFuZ3VwU3RhdGVcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQZW5kaW5nTG9jYWxIYW5ndXBTdGF0ZSBleHRlbmRzIFNpZ25hbGluZ1N0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzaWduYWxpbmcsIGJ5ZUlkKSB7XG4gICAgICAgIHN1cGVyKHNpZ25hbGluZyk7XG4gICAgICAgIHRoaXMuX2J5ZUlkID0gYnllSWQ7XG4gICAgfVxuICAgIG9uRW50ZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gbm90aWZ5UmVtb3RlSHVuZ3VwKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fcmVtb3RlSHVuZ3VwSGFuZGxlcigpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZ3VwKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX3NpZ25hbGluZy5fd3NzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICByZXN1bHQ6IHt9LFxuICAgICAgICAgICAgaWQ6IHNlbGYuX2J5ZUlkXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2VsZi50cmFuc2l0KG5ldyBEaXNjb25uZWN0ZWRTdGF0ZShzZWxmLl9zaWduYWxpbmcpKTtcbiAgICB9XG4gICAgb25ScGNNc2coKSB7XG4gICAgICAgIC8vRG8gbm90aGluZ1xuICAgIH1cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0KG5ldyBEaXNjb25uZWN0ZWRTdGF0ZSh0aGlzLl9zaWduYWxpbmcpKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlBlbmRpbmdMb2NhbEhhbmd1cFN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzY29ubmVjdGVkU3RhdGUgZXh0ZW5kcyBTaWduYWxpbmdTdGF0ZSB7XG4gICAgb25FbnRlcigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiBub3RpZnlEaXNjb25uZWN0ZWQocmVzb2x2ZSkge1xuICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl9kaXNjb25uZWN0ZWRIYW5kbGVyKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3dzcy5jbG9zZSgpO1xuICAgIH1cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgLy9EbyBub3RoaW5nXG4gICAgfVxuICAgIG9uUnBjTXNnKCkge1xuICAgICAgICAvL0RvIG5vdGhpbmdcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkRpc2Nvbm5lY3RlZFN0YXRlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmFpbGVkU3RhdGUgZXh0ZW5kcyBTaWduYWxpbmdTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Ioc2lnbmFsaW5nLCBleGNlcHRpb24pIHtcbiAgICAgICAgc3VwZXIoc2lnbmFsaW5nKTtcbiAgICAgICAgdGhpcy5fZXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICBvbkVudGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIG5vdGlmeUZhaWxlZChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc2lnbmFsaW5nLl9wY20gJiYgc2VsZi5fZXhjZXB0aW9uLm5hbWUgPT09IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9zaWduYWxpbmcuX3BjbS5pc1JUUFNBbGxvd2xpc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fcGNtLmNsb3NlRWFybHlNZWRpYUNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuX3NpZ25hbGluZy5fZmFpbGVkSGFuZGxlcihzZWxmLl9leGNlcHRpb24pO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFzZWxmLl9zaWduYWxpbmcuX3BjbSkge1xuICAgICAgICAgICAgc2VsZi5fc2lnbmFsaW5nLl93c3MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBieWUoKSB7XG4gICAgICAgIHRoaXMuX2J5ZUlkID0gdXVpZCgpO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcuX3dzcy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgbWV0aG9kOiBCWUVfTUVUSE9EX05BTUUsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBjb250YWN0SWQ6IHR5cGVvZiB0aGlzLl9zaWduYWxpbmcuX3BjbS5jYWxsSWQgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogdGhpcy5fc2lnbmFsaW5nLl9wY20uY2FsbElkLFxuICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRDb25uZWN0aW9uOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5pc1BQQ0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25JZDogdGhpcy5fc2lnbmFsaW5nLl9wY20ucGVlckNvbm5lY3Rpb25JZCxcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvblRva2VuOiB0aGlzLl9zaWduYWxpbmcuX3BjbS5wZWVyQ29ubmVjdGlvblRva2VuLFxuICAgICAgICAgICAgICAgIGNhbGxDb250ZXh0VG9rZW46IHRoaXMuX3NpZ25hbGluZy5fcGNtLmNvbnRhY3RUb2tlbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogdGhpcy5fYnllSWRcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGhhbmd1cCgpIHtcbiAgICAgICAgdGhpcy5ieWUoKTtcbiAgICB9XG5cbiAgICBvblJwY01zZygpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgIH1cbiAgICBjaGFubmVsRG93bigpIHtcbiAgICAgICAgLy9EbyBub3RoaW5nXG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJGYWlsZWRTdGF0ZVwiO1xuICAgIH1cbiAgICBnZXQgZXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXhjZXB0aW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW16blJ0Y1NpZ25hbGluZyB7XG4gICAgLy8gVE9ETzogYWRkIGphdmFTY3JpcHQgZG9jIGhlcmVcbiAgICBjb25zdHJ1Y3RvcihjYWxsSWQsIHNpZ25hbGluZ1VyaSwgY29udGFjdFRva2VuLCBsb2dnZXIsIGNvbm5lY3RUaW1lb3V0TXMsIGNvbm5lY3Rpb25JZCwgd3NzTWFuYWdlciwgaWNlUmVzdGFydCA9IGZhbHNlLCBwZXJzaXN0ZW50Q29ubmVjdGlvbk1hbmFnZXIgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2NhbGxJZCA9IGNhbGxJZDtcbiAgICAgICAgdGhpcy5fY29ubmVjdFRpbWVvdXRNcyA9IGNvbm5lY3RUaW1lb3V0TXMgfHwgREVGQVVMVF9DT05ORUNUX1RJTUVPVVRfTVM7XG4gICAgICAgIHRoaXMuX2F1dG9BbnN3ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zaWduYWxpbmdVcmkgPSBzaWduYWxpbmdVcmk7XG4gICAgICAgIHRoaXMuX2NvbnRhY3RUb2tlbiA9IGNvbnRhY3RUb2tlbjtcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gd3JhcExvZ2dlcihsb2dnZXIsIGNhbGxJZCwgJ1NJR05BTElORycpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uSWQgPSBjb25uZWN0aW9uSWQ7XG4gICAgICAgIHRoaXMuX3dzc01hbmFnZXIgPSB3c3NNYW5hZ2VyO1xuICAgICAgICB0aGlzLl9pY2VSZXN0YXJ0ID0gaWNlUmVzdGFydDtcbiAgICAgICAgdGhpcy5fcGNtID0gcGVyc2lzdGVudENvbm5lY3Rpb25NYW5hZ2VyO1xuICAgICAgICB0aGlzLl9pc0ZpcnN0VGltZVNldHVwID0gdHJ1ZTtcblxuICAgICAgICAvL2VtcHR5IGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZEhhbmRsZXIgPVxuICAgICAgICAgICAgdGhpcy5fYW5zd2VyZWRIYW5kbGVyID1cbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kc2hha2VkSGFuZGxlciA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGVkSGFuZGxlciA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdGVIdW5ndXBIYW5kbGVyID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNjb25uZWN0ZWRIYW5kbGVyID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmFpbGVkSGFuZGxlciA9IGZ1bmN0aW9uIG5vT3AoKSB7fTtcbiAgICB9XG4gICAgZ2V0IGNhbGxJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxJZDtcbiAgICB9XG5cbiAgICBnZXQgaWNlUmVzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljZVJlc3RhcnQ7XG4gICAgfVxuXG4gICAgc2V0IG9uQ29ubmVjdGVkKGNvbm5lY3RlZEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkSGFuZGxlciA9IGNvbm5lY3RlZEhhbmRsZXI7XG4gICAgfVxuICAgIHNldCBvbkFuc3dlcmVkKGFuc3dlcmVkSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9hbnN3ZXJlZEhhbmRsZXIgPSBhbnN3ZXJlZEhhbmRsZXI7XG4gICAgfVxuICAgIHNldCBvbkhhbmRzaGFrZWQoaGFuZHNoYWtlZEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faGFuZHNoYWtlZEhhbmRsZXIgPSBoYW5kc2hha2VkSGFuZGxlcjtcbiAgICB9XG4gICAgc2V0IG9uUmVjb25uZWN0ZWQocmVjb25uZWN0ZWRIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGVkSGFuZGxlciA9IHJlY29ubmVjdGVkSGFuZGxlcjtcbiAgICB9XG4gICAgc2V0IG9uUmVtb3RlSHVuZ3VwKHJlbW90ZUh1bmd1cEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fcmVtb3RlSHVuZ3VwSGFuZGxlciA9IHJlbW90ZUh1bmd1cEhhbmRsZXI7XG4gICAgfVxuICAgIHNldCBvbkRpc2Nvbm5lY3RlZChkaXNjb25uZWN0ZWRIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RlZEhhbmRsZXIgPSBkaXNjb25uZWN0ZWRIYW5kbGVyO1xuICAgIH1cbiAgICBzZXQgb25GYWlsZWQoZmFpbGVkSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9mYWlsZWRIYW5kbGVyID0gZmFpbGVkSGFuZGxlcjtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnRyYW5zaXQobmV3IFBlbmRpbmdDb25uZWN0U3RhdGUodGhpcywgdGhpcy5fY29ubmVjdFRpbWVvdXRNcykpO1xuICAgIH1cblxuICAgIF9jb25uZWN0KCkge1xuICAgICAgICB0aGlzLl93c3MgPSB0aGlzLl9jb25uZWN0V2ViU29ja2V0KHRoaXMuX2J1aWxkSW52aXRlVXJpKCkpO1xuICAgIH1cbiAgICB0cmFuc2l0KG5leHRTdGF0ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8oKHRoaXMuX3N0YXRlID8gdGhpcy5fc3RhdGUubmFtZSA6ICdudWxsJykgKyAnID0+ICcgKyBuZXh0U3RhdGUubmFtZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLm9uRXhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUub25FeGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZS5vbkVudGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUub25FbnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jb25uZWN0V2ViU29ja2V0KHVyaSkge1xuICAgICAgICBsZXQgd3NDb25uZWN0aW9uO1xuICAgICAgICBpZiAodGhpcy5fd3NzTWFuYWdlcikge1xuICAgICAgICAgICAgd3NDb25uZWN0aW9uID0gbmV3IFZpcnR1YWxXc3NDb25uZWN0aW9uTWFuYWdlcih0aGlzLl9sb2dnZXIsIHRoaXMuX2Nvbm5lY3Rpb25JZCwgdGhpcy5fd3NzTWFuYWdlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3c0Nvbm5lY3Rpb24gPSBuZXcgV2ViU29ja2V0KHVyaSk7XG4gICAgICAgIH1cbiAgICAgICAgd3NDb25uZWN0aW9uLm9ub3BlbiA9IGhpdGNoKHRoaXMsIHRoaXMuX29uT3Blbik7XG4gICAgICAgIHdzQ29ubmVjdGlvbi5vbm1lc3NhZ2UgPSBoaXRjaCh0aGlzLCB0aGlzLl9vbk1lc3NhZ2UpO1xuICAgICAgICB3c0Nvbm5lY3Rpb24ub25lcnJvciA9IGhpdGNoKHRoaXMsIHRoaXMuX29uRXJyb3IpO1xuICAgICAgICB3c0Nvbm5lY3Rpb24ub25jbG9zZSA9IGhpdGNoKHRoaXMsIHRoaXMuX29uQ2xvc2UpO1xuICAgICAgICByZXR1cm4gd3NDb25uZWN0aW9uO1xuICAgIH1cbiAgICBfYnVpbGRJbnZpdGVVcmkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250YWN0VG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWlsZFVyaUJhc2UoKSArICcmY29udGFjdEN0eD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX2NvbnRhY3RUb2tlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRVcmlCYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2J1aWxkUmVjb25uZWN0VXJpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRVcmlCYXNlKCkgKyAnJmNsaWVudFRva2VuPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5fY2xpZW50VG9rZW4pO1xuICAgIH1cbiAgICBfYnVpbGRVcmlCYXNlKCkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJz8nO1xuICAgICAgICBpZiAoIXRoaXMuX3BjbSAmJiB0aGlzLl9zaWduYWxpbmdVcmkuaW5kZXhPZihzZXBhcmF0b3IpID4gLTEpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9ICcmJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsaW5nVXJpICsgc2VwYXJhdG9yICsgJ2NhbGxJZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX2NhbGxJZCk7XG4gICAgfVxuICAgIF9vbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUub25ScGNNc2coSlNPTi5wYXJzZShldnQuZGF0YSkpO1xuICAgIH1cbiAgICBfb25PcGVuKGV2dCkge1xuICAgICAgICB0aGlzLnN0YXRlLm9uT3BlbihldnQpO1xuICAgIH1cbiAgICBfb25FcnJvcihldnQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5vbkVycm9yKGV2dCk7XG4gICAgfVxuICAgIF9vbkNsb3NlKGV2dCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nKCdXZWJTb2NrZXQgb25jbG9zZSBjb2RlPScgKyBldnQuY29kZSArICcsIHJlYXNvbj0nICsgZXZ0LnJlYXNvbik7XG4gICAgICAgIHRoaXMuc3RhdGUub25DbG9zZShldnQpO1xuICAgIH1cbiAgICBfcmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl93c3MgPSB0aGlzLl9jb25uZWN0V2ViU29ja2V0KHRoaXMuX2J1aWxkUmVjb25uZWN0VXJpKCkpO1xuICAgIH1cbiAgICBpbnZpdGUoc2RwLCBpY2VDYW5kaWRhdGVzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaW52aXRlKHNkcCwgaWNlQ2FuZGlkYXRlcyk7XG4gICAgfVxuXG4gICAgY29ubmVjdENvbnRhY3QoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuY29ubmVjdENvbnRhY3QoKTtcbiAgICB9XG5cbiAgICBhY2NlcHQoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuYWNjZXB0KCk7XG4gICAgfVxuICAgIGhhbmd1cCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5oYW5ndXAoKTtcbiAgICB9XG5cbiAgICBieWUoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuYnllKCk7XG4gICAgfVxufSIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ0NQSW5pdGlhdGlvblN0cmF0ZWd5SW50ZXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UgaW5pdGlhbGl6ZWRcIik7XG4gICAgfVxuXG4gICAgZ2V0U3RyYXRlZ3lOYW1lKCl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJnZXRTdHJhdGVneU5hbWUgbmVlZHMgdG8gYmUgb3ZlcnJpZGRlblwiKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBhcmUgcnRjX3BlZXJfY29ubmVjdGlvbl9mYWN0b3J5IHJlbGF0ZWQgZnVuY3Rpb25zXG4gICAgLy8gY2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgZWFybHkgbWVkaWEgY29ubmVjdGlvblxuICAgIF9pc0Vhcmx5TWVkaWFDb25uZWN0aW9uU3VwcG9ydGVkKCl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJfaXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCBuZWVkcyB0byBiZSBvdmVycmlkZGVuXCIpO1xuICAgIH1cblxuICAgIF9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIl9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbiBuZWVkcyB0byBiZSBvdmVycmlkZGVuXCIpO1xuICAgIH1cblxuICAgIC8vIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBydGNfc2Vzc2lvbiByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIF9nVU0oKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJfZ1VNIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgLy8gdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIHJ0Y19zZXNzaW9uIHJlbGF0ZWQgZnVuY3Rpb25zXG4gICAgX2NyZWF0ZU1lZGlhU3RyZWFtKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiX2NyZWF0ZU1lZGlhU3RyZWFtIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgYWRkU3RyZWFtKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiYWRkU3RyZWFtIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb24oKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJzZXRSZW1vdGVEZXNjcmlwdGlvbiBuZWVkcyB0byBiZSBvdmVycmlkZGVuXCIpO1xuICAgIH1cblxuICAgIHNldFJlbW90ZURlc2NyaXB0aW9uRm9ySWNlUmVzdGFydCgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcInNldFJlbW90ZURlc2NyaXB0aW9uRm9ySWNlUmVzdGFydCBuZWVkcyB0byBiZSBvdmVycmlkZGVuXCIpO1xuICAgIH1cblxuICAgIG9uSWNlU3RhdGVDaGFuZ2UoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvbkljZVN0YXRlQ2hhbmdlIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgb25QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwib25QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVBlZXJDb25uZWN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiX2NyZWF0ZVBlZXJDb25uZWN0aW9uIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNvbm5lY3QgbmVlZHMgdG8gYmUgb3ZlcnJpZGRlblwiKTtcbiAgICB9XG5cbiAgICBfb250cmFjaygpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIl9vbnRyYWNrIG5lZWRzIHRvIGJlIG92ZXJyaWRkZW5cIik7XG4gICAgfVxuXG4gICAgX2J1aWxkTWVkaWFDb25zdHJhaW50cygpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIl9idWlsZE1lZGlhQ29uc3RyYWludHMgbmVlZHMgdG8gYmUgb3ZlcnJpZGRlblwiKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEJ5IHVzaW5nIHRoZSBDaXRyaXggdWNzZGsgKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL0BjaXRyaXgvdWNzZGspLCB5b3UgYXJlIGFjY2VwdGluZyB0aGUgQ2l0cml4IERldmVsb3BlciBUZXJtcyBvZiBVc2UgIGxvY2F0ZWQgaGVyZTogaHR0cHM6Ly93d3cuY2xvdWQuY29tL3Rlcm1zLW9mLXVzZS5cbiAqL1xuXG5pbXBvcnQgQ0NQSW5pdGlhdGlvblN0cmF0ZWd5SW50ZXJmYWNlIGZyb20gXCIuL0NDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IHtGYWlsZWRTdGF0ZX0gZnJvbSBcIi4uL3J0Y19zZXNzaW9uXCI7XG5pbXBvcnQge1JUQ19FUlJPUlN9IGZyb20gXCIuLi9ydGNfY29uc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2l0cml4VkRJU3RyYXRlZ3kgZXh0ZW5kcyBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2Uge1xuXG4gICAgY29uc3RydWN0b3IodXNlUmVhbENpdHJpeCA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYodXNlUmVhbENpdHJpeCl7XG4gICAgICAgICAgICByZXF1aXJlKFwiQGNpdHJpeC91Y3Nkay9DaXRyaXhXZWJSVENcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJDaXRyaXhWRElTdHJhdGVneSBpbml0aWFsaXppbmdcIik7XG4gICAgICAgIHRoaXMuaW5pdENpdHJpeFdlYlJUQygpO1xuICAgICAgICB0aGlzLmluaXRHZXRDaXRyaXhXZWJydGNSZWRpcigpO1xuICAgICAgICB0aGlzLmluaXRMb2coKTtcbiAgICAgICAgLy8gdmVyc2lvbiBpcyBhbiBDaXRyaXggb2JqZWN0IGluIGZvbGxvd2luZyBmb3JtYXRcbiAgICAgICAgLy8gXCJ2ZXJzaW9uXCI6IHtcbiAgICAgICAgLy8gICAgIFwidHlwZV9zY3JpcHRcIjogXCIzLjEuMFwiLFxuICAgICAgICAvLyAgICAgICAgIFwid2VicnBjXCI6IFwiMS43LjAuMFwiLFxuICAgICAgICAvLyAgICAgICAgIFwid2VicnRjX2NvZGVjc1wiOiBcIjAuMC4wLjBcIixcbiAgICAgICAgLy8gICAgICAgICBcInJlY2VpdmVyXCI6IFwiMjQuMTEuMC41MVwiLFxuICAgICAgICAvLyAgICAgICAgIFwidmRhXCI6IFwiMC4wLjAuMFwiLFxuICAgICAgICAvLyAgICAgICAgIFwiZW5kcG9pbnRcIjogXCIwLjAuMC4wXCIsXG4gICAgICAgIC8vICAgICAgICAgXCJvc2luZm9cIjoge1xuICAgICAgICAvLyAgICAgICAgIFwiZmFtaWx5XCI6IFwiQnJvd3NlclwiLFxuICAgICAgICAvLyAgICAgICAgICAgICBcInZlcnNpb25cIjogXCIxNS4zLjFcIixcbiAgICAgICAgLy8gICAgICAgICAgICAgXCJhcmNoaXRlY3R1cmVcIjogXCJcIixcbiAgICAgICAgLy8gICAgICAgICAgICAgXCJkaXN0cm9cIjogXCJcIixcbiAgICAgICAgLy8gICAgICAgICAgICAgXCJlZGl0aW9uXCI6IFwiTWFjLUNocm9tZSh2ZXJzaW9uOjEzMy4wLjAuMCwgdXNlckFnZW50Ok1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzMuMC4wLjAgU2FmYXJpLzUzNy4zNilcIlxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIFwiY2xpZW50UGxhdGZvcm1cIjogXCJCcm93c2VyXCJcbiAgICAgICAgLy8gfVxuICAgICAgICB0aGlzLnZlcnNpb24gPSBcIlVOS05PV05cIlxuICAgIH1cblxuICAgIGluaXRDaXRyaXhXZWJSVEMoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgd2luZG93LkNpdHJpeFdlYlJUQy5zZXRWTUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZXZlbnQgPT09ICd2ZGlDbGllbnRDb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuQ2l0cml4V2ViUlRDLmlzRmVhdHVyZU9uKFwid2VicnRjMS4wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2l0cml4IFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2l0cml4VkRJU3RyYXRlZ3kgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgICAgICAgICAgc2VsZi52ZXJzaW9uID0gZXZlbnQudmVyc2lvbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZXZlbnQgPT09ICd2ZGlDbGllbnREaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2ZGlDbGllbnREaXNjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuQ2l0cml4V2ViUlRDLmluaXRVQ1NESyhcIkFtYXpvbkNvbm5lY3RcIik7XG4gICAgfVxuICAgIGluaXRHZXRDaXRyaXhXZWJydGNSZWRpcigpIHtcbiAgICAgICAgd2luZG93LmdldENpdHJpeFdlYnJ0Y1JlZGlyID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKDEpO1xuICAgIH1cblxuICAgIGluaXRMb2coKSB7XG4gICAgICAgIHdpbmRvdy5DaXRyaXhXZWJSVEMuaW5pdExvZyhnbG9iYWwuY29ubmVjdC5nZXRMb2coKSk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIHJ0Y19wZWVyX2Nvbm5lY3Rpb25fZmFjdG9yeSByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIC8vIGNoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGVhcmx5IG1lZGlhIGNvbm5lY3Rpb25cbiAgICBfaXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCgpIHtcbiAgICAgICAgLy8gQ2l0cml4IFdlYlJUQyBTREsgZG9lc24ndCBzdXBwb3J0IGVhcmx5IG1lZGlhIGNvbm5lY3Rpb25cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9jcmVhdGVSdGNQZWVyQ29ubmVjdGlvbihydGNQZWVyQ29ubmVjdGlvbkNvbmZpZywgcnRjUGVlckNvbm5lY3Rpb25PcHRpb25hbENvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5DaXRyaXhXZWJSVEMuQ2l0cml4UGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpO1xuICAgIH1cblxuICAgIC8vIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBydGNfc2Vzc2lvbiByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIF9nVU0oY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DaXRyaXhXZWJSVEMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlTWVkaWFTdHJlYW0odHJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DaXRyaXhXZWJSVEMuY3JlYXRlTWVkaWFTdHJlYW0oW3RyYWNrXSk7XG4gICAgfVxuXG4gICAgYWRkU3RyZWFtKF9wYywgc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIF9wYy5hZGRUcmFuc2NlaXZlcih0cmFjaywge30pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRSZW1vdGVEZXNjcmlwdGlvbihzZWxmLCBydGNTZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb24gJiYgdGhpcy52ZXJzaW9uLmNsaWVudFBsYXRmb3JtID09PSBcIkJyb3dzZXJcIikge1xuICAgICAgICAgICAgLy8gQ2hyb21lT1MgZG9lcyBub3Qgc3VwcG9ydCBhZGRJY2VDYW5kaWRhdGUgeWV0LlxuICAgICAgICAgICAgc2VsZi5fY2FuZGlkYXRlcy5mb3JFYWNoKGNhbmRpZGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAmJiB0eXBlb2YgY2FuZGlkYXRlLmNhbmRpZGF0ZSA9PT0gJ3N0cmluZycgJiYgY2FuZGlkYXRlLmNhbmRpZGF0ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3NkcCArPSBgYT0ke2NhbmRpZGF0ZS5jYW5kaWRhdGV9XFxuYDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygnVXBkYXRlZCBTRFAgZm9yIENocm9tZU9TJywgYGE9JHtjYW5kaWRhdGUuY2FuZGlkYXRlfVxcbmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYW5zd2VyU2Vzc2lvbkRlc2NyaXB0aW9uID0gc2VsZi5fY3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOiAnYW5zd2VyJywgc2RwOiBzZWxmLl9zZHB9KTtcblxuICAgICAgICBydGNTZXNzaW9uLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXJTZXNzaW9uRGVzY3JpcHRpb24sICgpID0+IHtcbiAgICAgICAgICAgIHZhciByZW1vdGVDYW5kaWRhdGVQcm9taXNlcyA9IFByb21pc2UuYWxsKHNlbGYuX2NhbmRpZGF0ZXMubWFwKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlID0gc2VsZi5fY3JlYXRlUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygnQWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydGNTZXNzaW9uLl9wYy5hZGRJY2VDYW5kaWRhdGUocmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIud2FybignRXJyb3IgYWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5fcmVtb3RlRGVzY3JpcHRpb25TZXQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3N0b3BTZXNzaW9uKCk7XG4gICAgICAgICAgICBydGNTZXNzaW9uLl9zZXNzaW9uUmVwb3J0LnNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXQobmV3IEZhaWxlZFN0YXRlKHJ0Y1Nlc3Npb24sIFJUQ19FUlJPUlMuU0VUX1JFTU9URV9ERVNDUklQVElPTl9GQUlMVVJFKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRvZG86IG1vZGlmeSB0aGUgc2RwIGZvciBDaHJvbWVPUyBoZXJlIGJ5IGFkZGluZyBhPWNhbmRpZGF0ZSBsaW5lLCBvbmNlIHBjLnNldENvbmZpZ3VyYXRpb24gaXMgc3VwcG9ydGVkIGZvciBJY2VSZXN0YXJ0XG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Gb3JJY2VSZXN0YXJ0KHNlbGYsIHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgY29uc3QgYW5zd2VyU2Vzc2lvbkRlc2NyaXB0aW9uID0gc2VsZi5fY3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOiAnYW5zd2VyJywgc2RwOiBzZWxmLl9zZHB9KTtcblxuICAgICAgICBydGNTZXNzaW9uLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXJTZXNzaW9uRGVzY3JpcHRpb24sICgpID0+IHtcbiAgICAgICAgICAgIHZhciByZW1vdGVDYW5kaWRhdGVQcm9taXNlcyA9IFByb21pc2UuYWxsKHNlbGYuX2NhbmRpZGF0ZXMubWFwKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlID0gc2VsZi5fY3JlYXRlUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygnQWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydGNTZXNzaW9uLl9wYy5hZGRJY2VDYW5kaWRhdGUocmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIud2FybignRXJyb3IgYWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVEZXNjcmlwdGlvblNldEZvckljZVJlc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHNlbGYub25JY2VSZXN0YXJ0RmFpbHVyZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkljZVN0YXRlQ2hhbmdlKGV2dCwgX3BjKSB7XG4gICAgICAgIHJldHVybiBfcGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIH1cblxuICAgIG9uUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZShfcGMpIHtcbiAgICAgICAgcmV0dXJuIF9wYy5jb25uZWN0aW9uU3RhdGVfO1xuICAgIH1cblxuICAgIF9jcmVhdGVQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uLCBvcHRpb25hbENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuQ2l0cml4V2ViUlRDLkNpdHJpeFBlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsQ29uZmlndXJhdGlvbik7XG4gICAgfVxuXG4gICAgX29udHJhY2soc2VsZiwgZXZ0KSB7XG4gICAgICAgIHdpbmRvdy5DaXRyaXhXZWJSVEMubWFwQXVkaW9FbGVtZW50KHNlbGYuX3JlbW90ZUF1ZGlvRWxlbWVudCk7XG4gICAgICAgIGlmIChldnQuc3RyZWFtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2dnZXIud2FybignRm91bmQgbW9yZSB0aGFuIDEgc3RyZWFtcyBmb3IgJyArIGV2dC50cmFjay5raW5kICsgJyB0cmFjayAnICsgZXZ0LnRyYWNrLmlkICsgJyA6ICcgK1xuICAgICAgICAgICAgICAgIGV2dC5zdHJlYW1zLm1hcChzdHJlYW0gPT4gc3RyZWFtLmlkKS5qb2luKCcsJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldnQudHJhY2sua2luZCA9PT0gJ3ZpZGVvJyAmJiBzZWxmLl9yZW1vdGVWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHNlbGYuX3JlbW90ZVZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBldnQuc3RyZWFtc1swXTtcbiAgICAgICAgICAgIHNlbGYuX3JlbW90ZVZpZGVvU3RyZWFtID0gZXZ0LnN0cmVhbXNbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LnRyYWNrLmtpbmQgPT09ICdhdWRpbycgJiYgc2VsZi5fcmVtb3RlQXVkaW9FbGVtZW50KSB7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gZXZ0LnN0cmVhbXNbMF07XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb1N0cmVhbSA9IGV2dC5zdHJlYW1zWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX3JlbW90ZUF1ZGlvRWxlbWVudC5wbGF5KCk7XG4gICAgfVxuXG4gICAgX2J1aWxkTWVkaWFDb25zdHJhaW50cyhzZWxmLCBtZWRpYUNvbnN0cmFpbnRzKSB7XG4gICAgICAgIGlmIChzZWxmLl9lbmFibGVBdWRpbykge1xuICAgICAgICAgICAgdmFyIGF1ZGlvQ29uc3RyYWludHMgPSB7fTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fZWNob0NhbmNlbGxhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBhdWRpb0NvbnN0cmFpbnRzLmVjaG9DYW5jZWxsYXRpb24gPSAhIXNlbGYuX2VjaG9DYW5jZWxsYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2luZG93LmF1ZGlvX2lucHV0KSB7XG4gICAgICAgICAgICAgICAgYXVkaW9Db25zdHJhaW50cy5kZXZpY2VJZCA9IHdpbmRvdy5hdWRpb19pbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdWRpb0NvbnN0cmFpbnRzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGF1ZGlvQ29uc3RyYWludHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGlhQ29uc3RyYWludHMuYXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RyYXRlZ3lOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0NpdHJpeFZESVN0cmF0ZWd5JztcbiAgICB9XG59IiwiaW1wb3J0IENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSBmcm9tIFwiLi9DQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2VcIjtcbmltcG9ydCB7RmFpbGVkU3RhdGV9IGZyb20gXCIuLi9ydGNfc2Vzc2lvblwiO1xuaW1wb3J0IHtSVENfRVJST1JTfSBmcm9tIFwiLi4vcnRjX2NvbnN0XCI7XG5pbXBvcnQge0FOU1dFUiwgQVVESU8sIENIUk9NRSwgRENWX1NUUkFURUdZLCBVTkRFRklORUR9IGZyb20gXCIuLi9jb25maWcvY29uc3RhbnRzXCI7XG5jb25zdCBDSFJPTUVfU1VQUE9SVEVEX1ZFUlNJT04gPSA1OTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENWV2ViUlRDU3RyYXRlZ3kgZXh0ZW5kcyBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmICh3aW5kb3cuRENWV2ViUlRDUGVlckNvbm5lY3Rpb25Qcm94eSkge1xuICAgICAgICAgICAgd2luZG93LkRDVldlYlJUQ1BlZXJDb25uZWN0aW9uUHJveHkuc2V0SW5pdENhbGxiYWNrKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgY3JlYXRlZCB3aGVuOlxuICAgICAgICAgICAgICAgICAgICAvLyAxKSB0aGUgZGN2IHdlYnJ0YyBjaHJvbWUgZXh0ZW5zaW9uIGlzIGluc3RhbGxlZCBhbmQgZW5hYmxlZCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gMikgdGhpcyBicm93c2VyIGlzIHJ1bm5pbmcgd2l0aGluIGEgRENWIHNlcnZlciBlbnZpcm9ubWVudCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gMykgdGhlIGRjdiBzZXJ2ZXIgaXMgY29ubmVjdGVkIGZyb20gYSBXZWJSVEMgcmVkaXJlY3Rpb24tZW5hYmxlZCBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eSA9IHdpbmRvdy5EQ1ZXZWJSVENSZWRpclByb3h5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3h5Lm92ZXJyaWRlV2ViUlRDKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEQ1ZTdHJhdGVneSBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRENWIFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LCA1MDAwKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEQ1YgV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ2hyb21lQnJvd3NlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuY2xpZW50SW5mby5icm93c2VyRGV0YWlscy5icm93c2VyID09PSBDSFJPTUU7XG4gICAgfVxuXG4gICAgZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmNsaWVudEluZm8uYnJvd3NlckRldGFpbHMudmVyc2lvbjtcbiAgICB9XG5cbiAgICBfaXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDaHJvbWVCcm93c2VyKCkgJiYgdGhpcy5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbigpID49IENIUk9NRV9TVVBQT1JURURfVkVSU0lPTjtcbiAgICB9XG5cbiAgICBfY3JlYXRlUnRjUGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuY3JlYXRlUGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpO1xuICAgIH1cblxuICAgIF9idWlsZE1lZGlhQ29uc3RyYWludHMoc2VsZiwgbWVkaWFDb25zdHJhaW50cykge1xuICAgICAgICBpZiAoc2VsZi5fZW5hYmxlQXVkaW8pIHtcbiAgICAgICAgICAgIHZhciBhdWRpb0NvbnN0cmFpbnRzID0ge307XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VjaG9DYW5jZWxsYXRpb24gIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgIGF1ZGlvQ29uc3RyYWludHMuZWNob0NhbmNlbGxhdGlvbiA9ICEhc2VsZi5fZWNob0NhbmNlbGxhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdWRpb0NvbnN0cmFpbnRzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGF1ZGlvQ29uc3RyYWludHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGlhQ29uc3RyYWludHMuYXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dVTShjb25zdHJhaW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVNZWRpYVN0cmVhbSh0cmFjaykge1xuICAgICAgICByZXR1cm4gbmV3IE1lZGlhU3RyZWFtKFt0cmFja10pXG4gICAgfVxuXG4gICAgX2NyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsQ29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5jcmVhdGVQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uLCBvcHRpb25hbENvbmZpZ3VyYXRpb24pO1xuICAgIH1cblxuICAgIGFkZFN0cmVhbShfcGMsIHN0cmVhbSkge1xuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgICBsZXQgdHJhbnNjZWl2ZXIgPSBfcGMuYWRkVHJhbnNjZWl2ZXIodHJhY2sua2luZCwge1xuICAgICAgICAgICAgICAgIHN0cmVhbXM6IFtzdHJlYW1dXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRSZW1vdGVEZXNjcmlwdGlvbihzZWxmLCBydGNTZXNzaW9uKSB7XG4gICAgICAgIHZhciBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UgPSBydGNTZXNzaW9uLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihzZWxmLl9jcmVhdGVTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICAgICAgdHlwZTogQU5TV0VSLFxuICAgICAgICAgICAgc2RwOiBzZWxmLl9zZHBcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcignU2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbGVkJywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlUHJvbWlzZXMgPSBQcm9taXNlLmFsbChzZWxmLl9jYW5kaWRhdGVzLm1hcChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW90ZUNhbmRpZGF0ZSA9IHNlbGYuX2NyZWF0ZVJlbW90ZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oJ0FkZGluZyByZW1vdGUgY2FuZGlkYXRlJywgcmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRjU2Vzc2lvbi5fcGMuYWRkSWNlQ2FuZGlkYXRlKHJlbW90ZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZW1vdGVDYW5kaWRhdGVQcm9taXNlcy5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLndhcm4oJ0Vycm9yIGFkZGluZyByZW1vdGUgY2FuZGlkYXRlJywgcmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzO1xuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVEZXNjcmlwdGlvblNldCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLl9jaGVja0FuZFRyYW5zaXQoKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgcnRjU2Vzc2lvbi5fc3RvcFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUocnRjU2Vzc2lvbiwgUlRDX0VSUk9SUy5TRVRfUkVNT1RFX0RFU0NSSVBUSU9OX0ZBSUxVUkUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Gb3JJY2VSZXN0YXJ0KHNlbGYsIHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgdmFyIHNldFJlbW90ZURlc2NyaXB0aW9uUHJvbWlzZSA9IHJ0Y1Nlc3Npb24uX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHNlbGYuX2NyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICAgICAgICB0eXBlOiBBTlNXRVIsXG4gICAgICAgICAgICBzZHA6IHNlbGYuX3NkcFxuICAgICAgICB9KSk7XG4gICAgICAgIHNldFJlbW90ZURlc2NyaXB0aW9uUHJvbWlzZS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdTZXRSZW1vdGVEZXNjcmlwdGlvbiBmYWlsZWQnLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFJlbW90ZURlc2NyaXB0aW9uUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHZhciByZW1vdGVDYW5kaWRhdGVQcm9taXNlcyA9IFByb21pc2UuYWxsKHNlbGYuX2NhbmRpZGF0ZXMubWFwKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlID0gc2VsZi5fY3JlYXRlUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygnQWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydGNTZXNzaW9uLl9wYy5hZGRJY2VDYW5kaWRhdGUocmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIud2FybignRXJyb3IgYWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlQ2FuZGlkYXRlUHJvbWlzZXM7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5fcmVtb3RlRGVzY3JpcHRpb25TZXRGb3JJY2VSZXN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuX2NoZWNrQW5kVHJhbnNpdCgpO1xuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLm9uSWNlUmVzdGFydEZhaWx1cmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25JY2VTdGF0ZUNoYW5nZShldnQsIF9wYykge1xuICAgICAgICByZXR1cm4gX3BjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UoX3BjKSB7XG4gICAgICAgIHJldHVybiBfcGMuY29ubmVjdGlvblN0YXRlO1xuICAgIH1cblxuICAgIF9vbnRyYWNrKHNlbGYsIGV2dCkge1xuICAgICAgICBpZiAoZXZ0LnN0cmVhbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb3VuZCBtb3JlIHRoYW4gMSBzdHJlYW1zIGZvciAnICsgZXZ0LnRyYWNrLmtpbmQgKyAnIHRyYWNrICcgKyBldnQudHJhY2suaWQgKyAnIDogJyArXG4gICAgICAgICAgICAgICAgZXZ0LnN0cmVhbXMubWFwKHN0cmVhbSA9PiBzdHJlYW0uaWQpLmpvaW4oJywnKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cmVhbSA9IGV2dC5zdHJlYW1zWzBdO1xuICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb0VsZW1lbnQgPSB0aGlzLmNyZWF0ZU1lZGlhRWxlbWVudChzdHJlYW0pO1xuICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb1N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgc2VsZi5fcmVtb3RlQXVkaW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZWRpYUVsZW1lbnQoc3RyZWFtKSB7XG4gICAgICAgIGxldCBwcm9wcyA9IHtcbiAgICAgICAgICAgIGtpbmQ6IEFVRElPLFxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBlbGVtZW50ID0gc3RyZWFtLmNyZWF0ZU1lZGlhRWxlbWVudChwcm9wcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgcHJveGllZCBtZWRpYSBlbGVtZW50LlwiKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0U3RyYXRlZ3lOYW1lKCkge1xuICAgICAgICByZXR1cm4gRENWX1NUUkFURUdZO1xuICAgIH1cbn1cbiIsImltcG9ydCBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2UgZnJvbSBcIi4vQ0NQSW5pdGlhdGlvblN0cmF0ZWd5SW50ZXJmYWNlXCI7XG5pbXBvcnQge0ZhaWxlZFN0YXRlfSBmcm9tIFwiLi4vcnRjX3Nlc3Npb25cIjtcbmltcG9ydCB7UlRDX0VSUk9SUywgQUNJVFZFX1NPRlRQSE9ORV9UQUJ9IGZyb20gXCIuLi9ydGNfY29uc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT21uaXNzYVZESVN0cmF0ZWd5IGV4dGVuZHMgQ0NQSW5pdGlhdGlvblN0cmF0ZWd5SW50ZXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLnRvcFdpbmRvd05hbWUgPSBcIlVOS05PV05cIjtcbiAgICAgICAgc2VsZi5oYXNSZXF1ZXN0ZWRUaXRsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgT21uaXNzYSBTREsgZGVwZW5kZW5jaWVzXG4gICAgICAgIGNvbnN0IEhvcml6b25XZWJSVENFeHRlbnNpb24gPSByZXF1aXJlKCdAZXVjLXJlbGVhc2VzL2hvcml6b24td2VicnRjLXJlZGlyLXNkay9Ib3Jpem9uV2ViUlRDRXh0ZW5zaW9uJyk7XG4gICAgICAgIGNvbnN0IEhvcml6b25XZWJSdGNSZWRpcmVjdGlvbkFQSSA9IHJlcXVpcmUoJ0BldWMtcmVsZWFzZXMvaG9yaXpvbi13ZWJydGMtcmVkaXItc2RrL0hvcml6b25TREtmb3JXZWJSVENSZWRpcicpO1xuXG4gICAgICAgIC8vIEF0dGFjaCBTREsgaW5zdGFuY2VzIHRvIHdpbmRvdyBmb3IgZ2xvYmFsIGFjY2Vzc1xuICAgICAgICB3aW5kb3cuSG9yaXpvbldlYlJUQ0V4dGVuc2lvbiA9IEhvcml6b25XZWJSVENFeHRlbnNpb247XG4gICAgICAgIHdpbmRvdy5Ib3Jpem9uV2ViUnRjUmVkaXJlY3Rpb25BUEkgPSBIb3Jpem9uV2ViUnRjUmVkaXJlY3Rpb25BUEk7XG5cbiAgICAgICAgdGhpcy5nbG9iYWxXaW5kb3dSZWZlcmVuY2UgPSBudWxsO1xuXG4gICAgICAgIHdpbmRvdy5nZXRIb3Jpem9uQ2xpZW50SUQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5Ib3Jpem9uV2ViUlRDRXh0ZW5zaW9uLmdldEhvcml6b25DbGllbnRJRCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChjbGllbnRJRCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXRIb3Jpem9uQ2xpZW50SUQgcmVzb2x2ZWQgd2l0aDpcIiwgY2xpZW50SUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjbGllbnRJRCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBnZXQgY2xpZW50IElEOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGBGYWlsZWQgdG8gZ2V0IGNsaWVudCBJRDogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuZ2V0SG9yaXpvbldTU1BvcnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5Ib3Jpem9uV2ViUlRDRXh0ZW5zaW9uLmdldEhvcml6b25XU1NQb3J0KClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHdzc1BvcnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0SG9yaXpvbldTU1BvcnQgcmVzb2x2ZWQgd2l0aDpcIiwgd3NzUG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdzc1BvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZ2V0IFdTUyBwb3J0OiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGBGYWlsZWQgdG8gZ2V0IFdTUyBwb3J0OiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgd2luZG93LmdldEhvcml6b25XaW5kb3dUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKHNlbGYudG9wV2luZG93TmFtZS5lbmRzV2l0aChBQ0lUVkVfU09GVFBIT05FX1RBQikpe1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnRvcFdpbmRvd05hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gc2VsZi5nZXRDdXJyZW50VGltZVN0cmluZygpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zZXRUb3BXaW5kb3dOYW1lKHRvcC5kb2N1bWVudC50aXRsZSArIGN1cnJlbnRUaW1lICsgQUNJVFZFX1NPRlRQSE9ORV9UQUIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldHVwTWVzc2FnZUxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYudG9wV2luZG93TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIFNESyB3aXRoIGxvZ2dpbmcgYW5kIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgIGNvbnN0IHByZWZpeCA9IFwiT21uaXNzYVZESVwiO1xuICAgICAgICBjb25zdCBhcHBMb2dnZXIgPSB7XG4gICAgICAgICAgICBlcnJvcjogKG1zZykgPT4gZ2xvYmFsLmNvbm5lY3QuZ2V0TG9nKCkuZXJyb3IocHJlZml4ICsgXCI6IFwiICsgbXNnKSxcbiAgICAgICAgICAgIGluZm86IChtc2cpID0+IGdsb2JhbC5jb25uZWN0LmdldExvZygpLmluZm8ocHJlZml4ICsgXCI6IFwiICsgbXNnKSxcbiAgICAgICAgICAgIHdhcm46IChtc2cpID0+IGdsb2JhbC5jb25uZWN0LmdldExvZygpLndhcm4ocHJlZml4ICsgXCI6IFwiICsgbXNnKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhcHBOYW1lID0gXCJBbWF6b25Db25uZWN0XCI7XG4gICAgICAgIGNvbnN0IGluaXRSZXN1bHQgPSB3aW5kb3cuSG9yaXpvbldlYlJ0Y1JlZGlyZWN0aW9uQVBJLmluaXRTREsoYXBwTG9nZ2VyLCBhcHBOYW1lLCB0aGlzLnZtRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgaWYgKCFpbml0UmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09tbmlzc2EgV2ViUlRDIFJlZGlyZWN0aW9uIEFQSSBmYWlsZWQgdG8gaW5pdGlhbGl6ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB2bUV2ZW50SGFuZGxlcihldmVudCkge1xuICAgICAgICBsZXQgZXZlbnRUeXBlID0gZXZlbnQuZXZlbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSG9yaXpvbiBXZWJSVENSZWRpclNESyBFdmVudDpcIiwgSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICAgICAgc3dpdGNoIChldmVudFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ2ZGlDbGllbnRDb25uZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdvdCBldmVudCBmcm9tIFdlYlJUQ1JlZGlyU0RLOiB2ZGlDbGllbnRDb25uZWN0ZWRcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2ZGlDbGllbnREaXNjb25uZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdvdCBldmVudCBmcm9tIFdlYlJUQ1JlZGlyU0RLOiB2ZGlDbGllbnREaXNjb25uZWN0ZWRcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJHb3QgYW4gdW5rbm93biBldmVudCBmcm9tIFdlYlJUQ1JlZGlyU0RLOiBcIiArIEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBlYXJseS9zdGFuZGJ5IG1lZGlhIGNvbm5lY3Rpb24gaXMgc3VwcG9ydGVkXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEFsd2F5cyByZXR1cm5zIGZhbHNlIGFzIGVhcmx5IG1lZGlhIGNvbm5lY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBPbW5pc3NhIFZESVxuICAgICAqXG4gICAgICogTm90ZTogU2V0IHRvIGZhbHNlIGJhc2VkIG9uIHRlc3RpbmcgLSB3aGVuIHNldCB0byB0cnVlLCBjYWxscyBnbyB0byBtaXNzZWQgc3RhdGUuXG4gICAgICogVGhpcyBpbmRpY2F0ZXMgT21uaXNzYSBTREsgZG9lcyBub3Qgc3VwcG9ydCBlYXJseSBtZWRpYSBjb25uZWN0aW9ucy5cbiAgICAgKiBBbnkgY2hhbmdlcyB0byB0aGlzIHZhbHVlIHNob3VsZCBiZSBjb29yZGluYXRlZCB3aXRoIE9tbmlzc2EgdGVhbSBhbmQgdGhvcm91Z2hseSB0ZXN0ZWQuXG4gICAgICovXG4gICAgX2lzRWFybHlNZWRpYUNvbm5lY3Rpb25TdXBwb3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUnRjUGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5Ib3Jpem9uV2ViUnRjUmVkaXJlY3Rpb25BUEkubmV3UGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpXG4gICAgfVxuXG4gICAgX2dVTShjb25zdHJhaW50cykge1xuICAgICAgICByZXR1cm4gd2luZG93Lkhvcml6b25XZWJSdGNSZWRpcmVjdGlvbkFQSS5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVNZWRpYVN0cmVhbSh0cmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93Lkhvcml6b25XZWJSdGNSZWRpcmVjdGlvbkFQSS5uZXdNZWRpYVN0cmVhbShbdHJhY2tdKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbiwgb3B0aW9uYWxDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuSG9yaXpvbldlYlJ0Y1JlZGlyZWN0aW9uQVBJLm5ld1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsQ29uZmlndXJhdGlvbik7XG4gICAgfVxuXG4gICAgb25JY2VTdGF0ZUNoYW5nZShldnQsIF9wYykge1xuICAgICAgICByZXR1cm4gX3BjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UoX3BjKSB7XG4gICAgICAgIHJldHVybiBfcGMuY29ubmVjdGlvblN0YXRlO1xuICAgIH1cblxuICAgIF9idWlsZE1lZGlhQ29uc3RyYWludHMoc2VsZiwgbWVkaWFDb25zdHJhaW50cykge1xuICAgICAgICBpZiAoc2VsZi5fZW5hYmxlQXVkaW8pIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29uc3RyYWludHMgPSB7fTtcblxuICAgICAgICAgICAgLy8gVmVyaWZpZWQgd2l0aCBPbW5pc3NhOiBVc2luZyBXZWJSVEMgZGVmYXVsdCBlY2hvIGNhbmNlbGxhdGlvbiBzZXR0aW5nc1xuICAgICAgICAgICAgLy8gV2ViUlRDIGVjaG8gY2FuY2VsbGF0aW9uIGlzIGVuYWJsZWQgYnkgZGVmYXVsdFxuXG4gICAgICAgICAgICBpZiAod2luZG93LmF1ZGlvX2lucHV0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgZGV2aWNlSWQgdG86Jywgd2luZG93LmF1ZGlvX2lucHV0KTtcbiAgICAgICAgICAgICAgICBhdWRpb0NvbnN0cmFpbnRzLmRldmljZUlkID0gd2luZG93LmF1ZGlvX2lucHV0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gYXVkaW8gaW5wdXQgZGV2aWNlIHNwZWNpZmllZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbnkgYXVkaW8gY29uc3RyYWludHMsIHVzZSB0aGVtOyBvdGhlcndpc2UganVzdCBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGF1ZGlvQ29uc3RyYWludHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgc3BlY2lmaWMgYXVkaW8gY29uc3RyYWludHM6JywgYXVkaW9Db25zdHJhaW50cyk7XG4gICAgICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGF1ZGlvQ29uc3RyYWludHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBzcGVjaWZpYyBjb25zdHJhaW50cywgc2V0dGluZyBhdWRpbyB0byB0cnVlJyk7XG4gICAgICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXVkaW8gaXMgZGlzYWJsZWQsIHNldHRpbmcgYXVkaW8gdG8gZmFsc2UnKTtcbiAgICAgICAgICAgIG1lZGlhQ29uc3RyYWludHMuYXVkaW8gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYWRkU3RyZWFtKF9wYywgc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgX3BjLmFkZFRyYWNrKHRyYWNrLCBzdHJlYW0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRSZW1vdGVEZXNjcmlwdGlvbihzZWxmLCBydGNTZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IHNldFJlbW90ZURlc2NyaXB0aW9uUHJvbWlzZSA9IHJ0Y1Nlc3Npb24uX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHNlbGYuX2NyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICAgICAgICB0eXBlOiAnYW5zd2VyJyxcbiAgICAgICAgICAgIHNkcDogc2VsZi5fc2RwXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Qcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdGVDYW5kaWRhdGVQcm9taXNlcyA9IFByb21pc2UuYWxsKHNlbGYuX2NhbmRpZGF0ZXMubWFwKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlID0gc2VsZi5fY3JlYXRlUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuaW5mbygnQWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydGNTZXNzaW9uLl9wYy5hZGRJY2VDYW5kaWRhdGUocmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIud2FybignRXJyb3IgYWRkaW5nIHJlbW90ZSBjYW5kaWRhdGUnLCByZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlQ2FuZGlkYXRlUHJvbWlzZXM7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcnRjU2Vzc2lvbi5fc2Vzc2lvblJlcG9ydC5zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuX3JlbW90ZURlc2NyaXB0aW9uU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuX2NoZWNrQW5kVHJhbnNpdCgpO1xuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcignU3RvcHBpbmcgc2Vzc2lvbiBkdWUgdG8gc2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbHVyZScpO1xuICAgICAgICAgICAgcnRjU2Vzc2lvbi5fc3RvcFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUocnRjU2Vzc2lvbiwgUlRDX0VSUk9SUy5TRVRfUkVNT1RFX0RFU0NSSVBUSU9OX0ZBSUxVUkUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Gb3JJY2VSZXN0YXJ0KHNlbGYsIHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGZvciBIb3Jpem9uIGNsaWVudCB2ZXJzaW9uIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICpcbiAgICAgICAgICogQmFja2dyb3VuZDpcbiAgICAgICAgICogLSBPbW5pc3NhIGNyZWF0ZXMgc2V0Q29uZmlndXJhdGlvbigpIG1ldGhvZCBvbmx5IGluIG5ld2VyIEhvcml6b24gY2xpZW50c1xuICAgICAgICAgKiAtIE9sZGVyIGNsaWVudHMgd29uJ3QgaGF2ZSB0aGlzIG1ldGhvZCBvbiB0aGUgcGVlckNvbm5lY3Rpb24gb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIFdoeSB0aGlzIGNoZWNrOlxuICAgICAgICAgKiAxLiBEaWZmZXJlbnQgSG9yaXpvbiBjbGllbnQgdmVyc2lvbnMgaGF2ZSBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzXG4gICAgICAgICAqIDIuIElDRSByZXN0YXJ0IGZlYXR1cmUgaXMgb25seSBhdmFpbGFibGUgaW4gbmV3ZXIgdmVyc2lvbnMgKDI1MDMgYW5kIGFib3ZlKVxuICAgICAgICAgKiAzLiBBdHRlbXB0aW5nIElDRSByZXN0YXJ0IG9uIG9sZGVyIGNsaWVudHMgY291bGQgY2F1c2UgZXJyb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEJlaGF2aW9yOlxuICAgICAgICAgKiAtIElmIHNldENvbmZpZ3VyYXRpb24gZXhpc3RzOiBDbGllbnQgc3VwcG9ydHMgSUNFIHJlc3RhcnQgKHByb2NlZWQpXG4gICAgICAgICAqIC0gSWYgbm90OiBPbGRlciBjbGllbnQgdmVyc2lvbiAoc2tpcCBJQ0UgcmVzdGFydClcbiAgICAgICAgICovXG4gICAgICAgIGlmIChydGNTZXNzaW9uLl9wYy5zZXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCdNb2Rlcm4gSG9yaXpvbiBjbGllbnQgZGV0ZWN0ZWQsIHByb2NlZWRpbmcgd2l0aCBJQ0UgcmVzdGFydCcpO1xuXG4gICAgICAgICAgICBjb25zdCBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UgPSBydGNTZXNzaW9uLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihzZWxmLl9jcmVhdGVTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgICAgICAgICAgIHNkcDogc2VsZi5fc2RwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzID0gUHJvbWlzZS5hbGwoc2VsZi5fY2FuZGlkYXRlcy5tYXAoZnVuY3Rpb24gKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlID0gc2VsZi5fY3JlYXRlUmVtb3RlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oJ0FkZGluZyByZW1vdGUgY2FuZGlkYXRlJywgcmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ0Y1Nlc3Npb24uX3BjLmFkZEljZUNhbmRpZGF0ZShyZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZW1vdGVDYW5kaWRhdGVQcm9taXNlcy5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci53YXJuKCdFcnJvciBhZGRpbmcgcmVtb3RlIGNhbmRpZGF0ZScsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzO1xuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5fcmVtb3RlRGVzY3JpcHRpb25TZXRGb3JJY2VSZXN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLl9jaGVja0FuZFRyYW5zaXQoKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdJQ0UgcmVzdGFydCBmYWlsZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25TdGF0ZTogcnRjU2Vzc2lvbi5fcGMuY29ubmVjdGlvblN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBpY2VDb25uZWN0aW9uU3RhdGU6IHJ0Y1Nlc3Npb24uX3BjLmljZUNvbm5lY3Rpb25TdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsaW5nU3RhdGU6IHJ0Y1Nlc3Npb24uX3BjLnNpZ25hbGluZ1N0YXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2VsZi5vbkljZVJlc3RhcnRGYWlsdXJlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdMZWdhY3kgSG9yaXpvbiBjbGllbnQgZGV0ZWN0ZWQsIHNraXBwaW5nIElDRSByZXN0YXJ0Jyk7XG4gICAgICAgICAgICBzZWxmLm9uSWNlUmVzdGFydEZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb250cmFjayhzZWxmLCBldnQpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGVtcHR5IHN0cmVhbXNcbiAgICAgICAgaWYgKGV2dC5zdHJlYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2VsZi5fbG9nZ2VyLndhcm4oJ05vIHN0cmVhbXMgZm91bmQgaW4gdGhlIGV2ZW50Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHN0cmVhbXNcbiAgICAgICAgaWYgKGV2dC5zdHJlYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHNlbGYuX2xvZ2dlci53YXJuKCdGb3VuZCBtb3JlIHRoYW4gMSBzdHJlYW1zIGZvciAnICsgZXZ0LnRyYWNrLmtpbmQgKyAnIHRyYWNrICcgKyBldnQudHJhY2suaWQgKyAnIDogJyArXG4gICAgICAgICAgICAgICAgZXZ0LnN0cmVhbXMubWFwKHN0cmVhbSA9PiBzdHJlYW0uaWQpLmpvaW4oJywnKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cmVhbSA9IGV2dC5zdHJlYW1zWzBdO1xuICAgICAgICBsZXQgYXVkaW9UcmFjayA9IHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gVHJhY2s6XCIsIGF1ZGlvVHJhY2spO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIHZhbHVlIG9mIHN0cmVhbTogXCIsIEpTT04uc3RyaW5naWZ5KHN0cmVhbSwgbnVsbCwgMikpO1xuXG4gICAgICAgIC8vIFNldCB1cCByZW1vdGUgYXVkaW8gZWxlbWVudFxuICAgICAgICBpZiAoc3RyZWFtLnRyYWNrWzBdLmtpbmQgPT09ICdhdWRpbycgJiYgc2VsZi5fcmVtb3RlQXVkaW9FbGVtZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE9wdGltaXplIGF1ZGlvIGVsZW1lbnQgY3JlYXRpb24uIEVpdGhlciB1c2UgdGhlIHNhbWUgYXVkaW8gZWxlbWVudCBvciBpbXBsZW1lbnQgYSBjbGVhbnVwIG1lY2hhbmlzbVxuICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRseSBjcmVhdGluZyBhIG5ldyBlbGVtZW50IGZvciBlYWNoIGNhbGwuXG5cbiAgICAgICAgICAgICAgICBsZXQgcmVtb3RlQXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIHJlbW90ZUF1ZGlvLmlkID0gXCJyZW1vdGVBdWRpb0VsZW1lbnRcIiArIDA7XG4gICAgICAgICAgICAgICAgd2luZG93Lkhvcml6b25XZWJSdGNSZWRpcmVjdGlvbkFQSS5vbkF1ZGlvQ3JlYXRlZChyZW1vdGVBdWRpbywgdGhpcy5nbG9iYWxXaW5kb3dSZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgIHJlbW90ZUF1ZGlvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb0VsZW1lbnQgPSByZW1vdGVBdWRpbztcbiAgICAgICAgICAgICAgICBzZWxmLl9yZW1vdGVBdWRpb1N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNldCBzcmNPYmplY3Qgb24gX3JlbW90ZUF1ZGlvRWxlbWVudDpcIiwgZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAgLy8gUmV0dXJuIGFmdGVyIGVycm9yIHNpbmNlIHdlIGNhbid0IHByb2NlZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX3JlbW90ZUF1ZGlvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIHNlbGYuX3JlbW90ZUF1ZGlvRWxlbWVudC5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0U3RyYXRlZ3lOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ09tbmlzc2FWRElTdHJhdGVneSc7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFRpbWVTdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGAgJHtjdXJyZW50VGltZS5nZXRIb3VycygpfSR7Y3VycmVudFRpbWUuZ2V0TWludXRlcygpfSR7Y3VycmVudFRpbWUuZ2V0U2Vjb25kcygpfSBgO1xuICAgIH1cblxuICAgIHNldFRvcFdpbmRvd05hbWUodGl0bGUpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRvcC5kb2N1bWVudC50aXRsZSA9IHRpdGxlO1xuICAgICAgICBzZWxmLnRvcFdpbmRvd05hbWUgPSB0aXRsZTtcbiAgICAgICAgcmV0dXJuIHNlbGYudG9wV2luZG93TmFtZTtcbiAgICB9XG5cbiAgICBzZXR1cE1lc3NhZ2VMaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5oYW5kbGVNZXNzYWdlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICghc2VsZi5oYXNSZXF1ZXN0ZWRUaXRsZSkge1xuICAgICAgICAgICAgc2VsZi5oYXNSZXF1ZXN0ZWRUaXRsZSA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHsgdHlwZTogJ2dldF9ob3Jpem9uX3dpbmRvd190aXRsZScgfSwgJyonKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdob3Jpem9uX3dpbmRvd190aXRsZV9yZXNwb25zZScpIHtcbiAgICAgICAgICAgIHNlbGYudG9wV2luZG93TmFtZSA9IGV2ZW50LmRhdGEudGl0bGU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IENDUEluaXRpYXRpb25TdHJhdGVneUludGVyZmFjZSBmcm9tIFwiLi9DQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2VcIjtcbmltcG9ydCB7Q0hST01FX1NVUFBPUlRFRF9WRVJTSU9OLCBSVENfRVJST1JTfSBmcm9tIFwiLi4vcnRjX2NvbnN0XCI7XG5pbXBvcnQge2dldENocm9tZUJyb3dzZXJWZXJzaW9uLCBpc0Nocm9tZUJyb3dzZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtGYWlsZWRTdGF0ZX0gZnJvbSBcIi4uL3J0Y19zZXNzaW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YW5kYXJkU3RyYXRlZ3kgZXh0ZW5kcyBDQ1BJbml0aWF0aW9uU3RyYXRlZ3lJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YW5kYXJkU3RyYXRlZ3kgaW5pdGlhbGl6ZWRcIik7XG4gICAgfVxuXG4gICAgLy8gdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIHJ0Y19wZWVyX2Nvbm5lY3Rpb25fZmFjdG9yeSByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIC8vIGNoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGVhcmx5IG1lZGlhIGNvbm5lY3Rpb25cbiAgICBfaXNFYXJseU1lZGlhQ29ubmVjdGlvblN1cHBvcnRlZCgpe1xuICAgICAgICByZXR1cm4gaXNDaHJvbWVCcm93c2VyKCkgJiYgZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKSA+PSBDSFJPTUVfU1VQUE9SVEVEX1ZFUlNJT047XG4gICAgfVxuXG4gICAgX2NyZWF0ZVJ0Y1BlZXJDb25uZWN0aW9uKHJ0Y1BlZXJDb25uZWN0aW9uQ29uZmlnLCBydGNQZWVyQ29ubmVjdGlvbk9wdGlvbmFsQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUlRDUGVlckNvbm5lY3Rpb24ocnRjUGVlckNvbm5lY3Rpb25Db25maWcsIHJ0Y1BlZXJDb25uZWN0aW9uT3B0aW9uYWxDb25maWcpO1xuICAgIH1cblxuICAgIC8vIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBydGNfc2Vzc2lvbiByZWxhdGVkIGZ1bmN0aW9uc1xuICAgIF9nVU0oY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlTWVkaWFTdHJlYW0odHJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZWRpYVN0cmVhbShbdHJhY2tdKVxuICAgIH1cblxuICAgIGFkZFN0cmVhbShfcGMsIHN0cmVhbSkge1xuICAgICAgICBfcGMuYWRkU3RyZWFtKHN0cmVhbSk7XG4gICAgfVxuXG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb24oc2VsZiwgcnRjU2Vzc2lvbikge1xuICAgICAgICB2YXIgc2V0UmVtb3RlRGVzY3JpcHRpb25Qcm9taXNlID0gcnRjU2Vzc2lvbi5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oc2VsZi5fY3JlYXRlU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgICAgICAgc2RwOiBzZWxmLl9zZHBcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcignU2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbGVkJywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZW1vdGVEZXNjcmlwdGlvblByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlQ2FuZGlkYXRlUHJvbWlzZXMgPSBQcm9taXNlLmFsbChzZWxmLl9jYW5kaWRhdGVzLm1hcChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW90ZUNhbmRpZGF0ZSA9IHNlbGYuX2NyZWF0ZVJlbW90ZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLmluZm8oJ0FkZGluZyByZW1vdGUgY2FuZGlkYXRlJywgcmVtb3RlQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRjU2Vzc2lvbi5fcGMuYWRkSWNlQ2FuZGlkYXRlKHJlbW90ZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZW1vdGVDYW5kaWRhdGVQcm9taXNlcy5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYubG9nZ2VyLndhcm4oJ0Vycm9yIGFkZGluZyByZW1vdGUgY2FuZGlkYXRlJywgcmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzO1xuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVEZXNjcmlwdGlvblNldCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLl9jaGVja0FuZFRyYW5zaXQoKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgcnRjU2Vzc2lvbi5fc3RvcFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJ0Y1Nlc3Npb24uX3Nlc3Npb25SZXBvcnQuc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdChuZXcgRmFpbGVkU3RhdGUocnRjU2Vzc2lvbiwgUlRDX0VSUk9SUy5TRVRfUkVNT1RFX0RFU0NSSVBUSU9OX0ZBSUxVUkUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Gb3JJY2VSZXN0YXJ0KHNlbGYsIHJ0Y1Nlc3Npb24pIHtcbiAgICAgICAgdmFyIHNldFJlbW90ZURlc2NyaXB0aW9uUHJvbWlzZSA9IHJ0Y1Nlc3Npb24uX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHNlbGYuX2NyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICAgICAgICB0eXBlOiAnYW5zd2VyJyxcbiAgICAgICAgICAgIHNkcDogc2VsZi5fc2RwXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Qcm9taXNlLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgc2VsZi5sb2dnZXIuZXJyb3IoJ1NldFJlbW90ZURlc2NyaXB0aW9uIGZhaWxlZCcsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb25Qcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIHJlbW90ZUNhbmRpZGF0ZVByb21pc2VzID0gUHJvbWlzZS5hbGwoc2VsZi5fY2FuZGlkYXRlcy5tYXAoZnVuY3Rpb24gKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdGVDYW5kaWRhdGUgPSBzZWxmLl9jcmVhdGVSZW1vdGVDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci5pbmZvKCdBZGRpbmcgcmVtb3RlIGNhbmRpZGF0ZScsIHJlbW90ZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0Y1Nlc3Npb24uX3BjLmFkZEljZUNhbmRpZGF0ZShyZW1vdGVDYW5kaWRhdGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmVtb3RlQ2FuZGlkYXRlUHJvbWlzZXMuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci53YXJuKCdFcnJvciBhZGRpbmcgcmVtb3RlIGNhbmRpZGF0ZScsIHJlYXNvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVDYW5kaWRhdGVQcm9taXNlcztcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVEZXNjcmlwdGlvblNldEZvckljZVJlc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5fY2hlY2tBbmRUcmFuc2l0KCk7XG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHNlbGYub25JY2VSZXN0YXJ0RmFpbHVyZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkljZVN0YXRlQ2hhbmdlKGV2dCwgX3BjKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgcmV0dXJuIGV2dC5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9XG5cbiAgICBvblBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UoX3BjKSB7XG4gICAgICAgIHJldHVybiBfcGMuY29ubmVjdGlvblN0YXRlO1xuICAgIH1cblxuICAgIF9jcmVhdGVQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uLCBvcHRpb25hbENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uLCBvcHRpb25hbENvbmZpZ3VyYXRpb24pO1xuICAgIH1cblxuICAgIF9vbnRyYWNrKHNlbGYsIGV2dCkge1xuICAgICAgICBpZiAoZXZ0LnN0cmVhbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgc2VsZi5fbG9nZ2VyLndhcm4oJ0ZvdW5kIG1vcmUgdGhhbiAxIHN0cmVhbXMgZm9yICcgKyBldnQudHJhY2sua2luZCArICcgdHJhY2sgJyArIGV2dC50cmFjay5pZCArICcgOiAnICtcbiAgICAgICAgICAgICAgICBldnQuc3RyZWFtcy5tYXAoc3RyZWFtID0+IHN0cmVhbS5pZCkuam9pbignLCcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZ0LnRyYWNrLmtpbmQgPT09ICd2aWRlbycgJiYgc2VsZi5fcmVtb3RlVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gZXZ0LnN0cmVhbXNbMF07XG4gICAgICAgICAgICBzZWxmLl9yZW1vdGVWaWRlb1N0cmVhbSA9IGV2dC5zdHJlYW1zWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC50cmFjay5raW5kID09PSAnYXVkaW8nICYmIHNlbGYuX3JlbW90ZUF1ZGlvRWxlbWVudCkge1xuICAgICAgICAgICAgc2VsZi5fcmVtb3RlQXVkaW9FbGVtZW50LnNyY09iamVjdCA9IGV2dC5zdHJlYW1zWzBdO1xuICAgICAgICAgICAgc2VsZi5fcmVtb3RlQXVkaW9TdHJlYW0gPSBldnQuc3RyZWFtc1swXTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9wY20pIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9wY20uX3JlbW90ZUF1ZGlvU3RyZWFtID0gc2VsZi5fcmVtb3RlQXVkaW9TdHJlYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYnVpbGRNZWRpYUNvbnN0cmFpbnRzKHNlbGYsIG1lZGlhQ29uc3RyYWludHMpIHtcbiAgICAgICAgaWYgKHNlbGYuX2VuYWJsZUF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Db25zdHJhaW50cyA9IHt9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLl9lY2hvQ2FuY2VsbGF0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGF1ZGlvQ29uc3RyYWludHMuZWNob0NhbmNlbGxhdGlvbiA9ICEhc2VsZi5fZWNob0NhbmNlbGxhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdWRpb0NvbnN0cmFpbnRzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGF1ZGlvQ29uc3RyYWludHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGlhQ29uc3RyYWludHMuYXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RyYXRlZ3lOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ1N0YW5kYXJkU3RyYXRlZ3knO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVXNlckFnZW50RGF0YSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLl9wbGF0Zm9ybVZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLl9hcmNoaXRlY3R1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9iaXRuZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnJvd3NlckJyYW5kID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnJvd3NlclZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLl9tb2JpbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgcGxhdGZvcm0gdGhlIHVzZXIgYWdlbnQgaXMgcnVubmluZyBvbiwgbGlrZSBcIldpbmRvd3NcIlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHBsYXRmb3JtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxhdGZvcm07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgY29udGFpbmluZyB0aGUgcGxhdGZvcm0gdmVyc2lvbi4gRm9yIGV4YW1wbGUsIFwiMTAuMFwiLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHBsYXRmb3JtVmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXRmb3JtVmVyc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyBjb250YWluaW5nIHRoZSBwbGF0Zm9ybSBhcmNoaXRlY3R1cmUuIEZvciBleGFtcGxlLCBcIng4NlwiXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgYXJjaGl0ZWN0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJjaGl0ZWN0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGFyY2hpdGVjdHVyZSBiaXRuZXNzLiBGb3IgZXhhbXBsZSwgXCIzMlwiIG9yIFwiNjRcIi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBiaXRuZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYml0bmVzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGJyb3dzZXIgYnJhbmRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBicm93c2VyQnJhbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9icm93c2VyQnJhbmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBicm93c2VyIHZlcnNpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBicm93c2VyVmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jyb3dzZXJWZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlciBhZ2VudCBpcyBydW5uaW5nIG9uIGEgbW9iaWxlIGRldmljZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IG1vYmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vYmlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyBjb250YWluaW5nIHRoZSBtb2RlbCBvZiBtb2JpbGUgZGV2aWNlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XG4gICAgfVxuXG5cbiAgICBzZXQgcGxhdGZvcm0odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXQgcGxhdGZvcm1WZXJzaW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtVmVyc2lvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldCBhcmNoaXRlY3R1cmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXJjaGl0ZWN0dXJlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IGJpdG5lc3ModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYml0bmVzcyA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldCBicm93c2VyQnJhbmQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYnJvd3NlckJyYW5kID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IGJyb3dzZXJWZXJzaW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJWZXJzaW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IG1vYmlsZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tb2JpbGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXQgbW9kZWwodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSB2YWx1ZTtcbiAgICB9XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtJbGxlZ2FsUGFyYW1ldGVyc30gZnJvbSAnLi9leGNlcHRpb25zJztcbmltcG9ydCB7Z2V0S2luZCwgcGFyc2VSdHBNYXAsIHBhcnNlUnRwUGFyYW1ldGVycywgc3BsaXRMaW5lcywgc3BsaXRTZWN0aW9ucywgd3JpdGVGbXRwfSBmcm9tICdzZHAnO1xuaW1wb3J0IHtVc2VyQWdlbnREYXRhfSBmcm9tIFwiLi91c2VyX2FnZW50X2RhdGFcIjtcbmltcG9ydCB7QlJPV1NFUl9MSVNULCBGSVJFRk9YfSBmcm9tIFwiLi9ydGNfY29uc3RcIjtcbmltcG9ydCBVQVBhcnNlciBmcm9tICd1YS1wYXJzZXItanMnO1xuXG4vKipcbiAqIEFsbCBsb2dnaW5nIG1ldGhvZHMgdXNlZCBieSBjb25uZWN0LXJ0Yy5cbiAqL1xudmFyIGxvZ01ldGhvZHMgPSBbJ2xvZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgZ2l2ZW4gaW5zdGFuY2Ugb2JqZWN0IGFzIHRoZSBjb250ZXh0IGZvclxuICogdGhlIG1ldGhvZCBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gc2NvcGUgVGhlIGluc3RhbmNlIG9iamVjdCB0byBiZSBzZXQgYXMgdGhlIHNjb3BlXG4gKiAgICBvZiB0aGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0gbWV0aG9kIFRoZSBtZXRob2QgdG8gYmUgZW5jYXBzdWxhdGVkLlxuICpcbiAqIEFsbCBvdGhlciBhcmd1bWVudHMsIGlmIGFueSwgYXJlIGJvdW5kIHRvIHRoZSBtZXRob2RcbiAqIGludm9jYXRpb24gaW5zaWRlIHRoZSBjbG9zdXJlLlxuICpcbiAqIEByZXR1cm4gQSBjbG9zdXJlIGVuY2Fwc3VsYXRpbmcgdGhlIGludm9jYXRpb24gb2YgdGhlXG4gKiAgICBtZXRob2QgcHJvdmlkZWQgaW4gY29udGV4dCBvZiB0aGUgZ2l2ZW4gaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaXRjaCgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdmFyIHNjb3BlID0gYXJncy5zaGlmdCgpO1xuICAgIHZhciBtZXRob2QgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgICBpZiAoIXNjb3BlKSB7XG4gICAgICAgIHRocm93IG5ldyBJbGxlZ2FsUGFyYW1ldGVycygndXRpbHMuaGl0Y2goKTogc2NvcGUgaXMgcmVxdWlyZWQhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxQYXJhbWV0ZXJzKCd1dGlscy5oaXRjaCgpOiBtZXRob2QgaXMgcmVxdWlyZWQhJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxQYXJhbWV0ZXJzKCd1dGlscy5oaXRjaCgpOiBtZXRob2QgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9oaXRjaGVkRnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjbG9zdXJlQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoc2NvcGUsIGFyZ3MuY29uY2F0KGNsb3N1cmVBcmdzKSk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBMb2dnZXIobG9nZ2VyLCBjYWxsSWQsIGxvZ0NhdGVnb3J5KSB7XG4gICAgdmFyIF9sb2dnZXIgPSB7fTtcbiAgICBsb2dNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKGxvZ01ldGhvZCkge1xuICAgICAgICBpZiAoIWxvZ2dlcltsb2dNZXRob2RdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvZ2dpbmcgbWV0aG9kICcgKyBsb2dNZXRob2QgKyAnIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2xvZ2dlcltsb2dNZXRob2RdID0gaGl0Y2gobG9nZ2VyLCBsb2dnZXJbbG9nTWV0aG9kXSwgY2FsbElkLCBsb2dDYXRlZ29yeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF9sb2dnZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZVN0cmVhbShzdHJlYW0pIHtcbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgIHZhciB0cmFja3MgPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBlYXQgZXhjZXB0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQSBwYXJhbWV0ZXIgb2YgdHJhbnNmb3JtU2RwLlxuICogVGhpcyBkZWZpbmVzIGFsbCB0aGUgU0RQIG9wdGlvbnMgY29ubmVjdC1ydGMtanMgc3VwcG9ydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZHBPcHRpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZm9yY2VDb2RlYyA9IHt9O1xuICAgIH1cblxuICAgIGdldCBlbmFibGVPcHVzRHR4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlT3B1c0R0eDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0IHRyYW5zZm9ybVNkcCBkaXNhYmxlcyBkdHggZm9yIE9QVVMgY29kZWMuXG4gICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd291bGQgZm9yY2UgaXQgdG8gdHVybiBvbiBEVFguXG4gICAgICovXG4gICAgc2V0IGVuYWJsZU9wdXNEdHgoZmxhZykge1xuICAgICAgICB0aGlzLl9lbmFibGVPcHVzRHR4ID0gZmxhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBmcm9tIG1lZGlhIHR5cGUgKGF1ZGlvL3ZpZGVvKSB0byBjb2RlYyAoY2FzZSBpbnNlbnNpdGl2ZSkuXG4gICAgICogQWRkIGVudHJ5IGZvciBmb3JjZSBjb25uZWN0LXJ0Yy1qcyB0byB1c2Ugc3BlY2lmaWVkIGNvZGVjIGZvciBjZXJ0YWluIG1lZGlhIHR5cGUuXG4gICAgICogRm9yIGV4YW1wbGU6IHNkcE9wdGlvbnMuZm9yY2VDb2RlY1snYXVkaW8nXSA9ICdvcHVzJztcbiAgICAgKi9cbiAgICBnZXQgZm9yY2VDb2RlYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmNlQ29kZWM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBnaXZlbiBjb2RlYyBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIFNEUC5cbiAgICAgKiBAcGFyYW0gbWVkaWFUeXBlIGF1ZGlvfHZpZGVvXG4gICAgICogQHBhcmFtIGNvZGVjTmFtZSBjYXNlIGluc2Vuc2l0aXZlXG4gICAgICogQHJldHVybiBUUlVFIC0gc2hvdWxkIHJlbW92ZVxuICAgICAqL1xuICAgIF9zaG91bGREZWxldGVDb2RlYyhtZWRpYVR5cGUsIGNvZGVjTmFtZSkge1xuICAgICAgICB2YXIgdXBwZXJDYXNlQ29kZWNOYW1lID0gY29kZWNOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JjZUNvZGVjW21lZGlhVHlwZV0gJiYgdXBwZXJDYXNlQ29kZWNOYW1lICE9PSB0aGlzLl9mb3JjZUNvZGVjW21lZGlhVHlwZV0udG9VcHBlckNhc2UoKSAmJiB1cHBlckNhc2VDb2RlY05hbWUgIT09ICdURUxFUEhPTkUtRVZFTlQnO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNb2RpZmllcyBpbnB1dCBTRFAgYWNjb3JkaW5nIHRvIHNkcE9wdGlvbnMuXG4gKiBTZWUgU2RwT3B0aW9ucyBmb3IgYXZhaWxhYmxlIG9wdGlvbnMuXG4gKiBAcGFyYW0gc2RwIG9yaWdpbmFsIFNEUFxuICogQHBhcmFtIHNkcE9wdGlvbnMgZGVmaW5lcyBjaGFuZ2VzIHRvIGJlIGFwcGxpZWQgdG8gU0RQXG4gKiBAcmV0dXJucyBhIG1hcCB3aXRoICdzZHAnIGNvbnRhaW5pbmcgdGhlIHRyYW5zZm9ybWVkIFNEUCBhbmQgJ21MaW5lcycgY29udGFpbmluZyB0aGUgbnVtYmVyIG9mIG0gbGluZXMgaW4gU0RQXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1TZHAoc2RwLCBzZHBPcHRpb25zKSB7XG4gICAgdmFyIHNlY3Rpb25zID0gc3BsaXRTZWN0aW9ucyhzZHApO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG1lZGlhVHlwZSA9IGdldEtpbmQoc2VjdGlvbnNbaV0pO1xuICAgICAgICB2YXIgcnRwUGFyYW1zID0gcGFyc2VSdHBQYXJhbWV0ZXJzKHNlY3Rpb25zW2ldKTtcbiAgICAgICAgLy8gYSBtYXAgZnJvbSBwYXlsb2FkIHR5cGUgKHN0cmluZykgdG8gY29kZWMgb2JqZWN0XG4gICAgICAgIHZhciBjb2RlY01hcCA9IHJ0cFBhcmFtcy5jb2RlY3MucmVkdWNlKChtYXAsIGNvZGVjKSA9PiB7XG4gICAgICAgICAgICBtYXBbJycgKyBjb2RlYy5wYXlsb2FkVHlwZV0gPSBjb2RlYztcbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgc2VjdGlvbnNbaV0gPSBzcGxpdExpbmVzKHNlY3Rpb25zW2ldKS5tYXAobGluZSA9PiB7XG4gICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdtPScpKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9kaWZ5IG09IGxpbmUgaWYgU2RwT3B0aW9ucyNmb3JjZUNvZGVjIHNwZWNpZmllcyBjb2RlYyBmb3IgY3VycmVudCBtZWRpYSB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKHNkcE9wdGlvbnMuZm9yY2VDb2RlY1ttZWRpYVR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRDb2RlY1B0cyA9IE9iamVjdC5rZXlzKGNvZGVjTWFwKS5maWx0ZXIocHQgPT4gIXNkcE9wdGlvbnMuX3Nob3VsZERlbGV0ZUNvZGVjKG1lZGlhVHlwZSwgY29kZWNNYXBbcHRdLm5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC8uKlJUUFxcL1M/QVZQRj8gLy5leGVjKGxpbmUpICsgdGFyZ2V0Q29kZWNQdHMuam9pbignICcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdhPXJ0cG1hcDonKSkge1xuICAgICAgICAgICAgICAgIHZhciBydHBNYXAgPSBwYXJzZVJ0cE1hcChsaW5lKTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudENvZGVjID0gY29kZWNNYXBbcnRwTWFwLnBheWxvYWRUeXBlXTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGlzIGNvZGVjIGlmIFNkcE9wdGlvbnMjZm9yY2VDb2RlYyBzcGVjaWZpZXMgYSBkaWZmZXJlbnQgY29kZWMgZm9yIGN1cnJlbnQgbWVkaWEgdHlwZVxuICAgICAgICAgICAgICAgIGlmIChpc19kZWZpbmVkKGN1cnJlbnRDb2RlYykgJiYgc2RwT3B0aW9ucy5fc2hvdWxkRGVsZXRlQ29kZWMobWVkaWFUeXBlLCBjdXJyZW50Q29kZWMubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIGE9Zm10cCBsaW5lIGltbWVkaWF0ZWx5IGlmIGN1cnJlbnQgY29kZWMgaXMgT1BVUyAodG8gZXhwbGljaXRseSBzcGVjaWZ5IE9QVVMgcGFyYW1ldGVycylcbiAgICAgICAgICAgICAgICBpZiAoaXNfZGVmaW5lZChjdXJyZW50Q29kZWMpICYmIGN1cnJlbnRDb2RlYy5uYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdPUFVTJykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29kZWMucGFyYW1ldGVycy51c2VkdHggPSBzZHBPcHRpb25zLmVuYWJsZU9wdXNEdHggPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZSBmbXRwIGxpbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgcnRwbWFwIGxpbmUsIGFuZCByZW1vdmUgb3JpZ2luYWwgZm10cCBsaW5lIG9uY2Ugd2Ugc2VlIGl0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobGluZSArIFwiXFxyXFxuXCIgKyB3cml0ZUZtdHAoY3VycmVudENvZGVjKSkudHJpbSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdhPWZtdHA6JykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHQgPSBsaW5lLnN1YnN0cmluZygnYT1mbXRwOicubGVuZ3RoLCBsaW5lLmluZGV4T2YoJyAnKSk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2RlYyA9IGNvZGVjTWFwW3B0XTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlZGVjbGFyZVxuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoaXMgY29kZWMgaWYgU2RwT3B0aW9ucyNmb3JjZUNvZGVjIHNwZWNpZmllcyBhIGRpZmZlcmVudCBjb2RlYyBmb3IgY3VycmVudCBtZWRpYSB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKGlzX2RlZmluZWQoY3VycmVudENvZGVjKSAmJiBzZHBPcHRpb25zLl9zaG91bGREZWxldGVDb2RlYyhtZWRpYVR5cGUsIGN1cnJlbnRDb2RlYy5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNfZGVmaW5lZChjdXJyZW50Q29kZWMpICYmIGN1cnJlbnRDb2RlYy5uYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdPUFVTJykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgbGluZSBmb3IgT1BVUywgcmVtb3ZlIGl0IGJlY2F1c2UgRk1UUCBsaW5lIGlzIGFscmVhZHkgZ2VuZXJhdGVkIHdoZW4gcnRwbWFwIGxpbmUgaXMgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdhPXJ0Y3AtZmI6JykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHQgPSBsaW5lLnN1YnN0cmluZyhsaW5lLmluZGV4T2YoJzonKSArIDEsIGxpbmUuaW5kZXhPZignICcpKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlZGVjbGFyZVxuICAgICAgICAgICAgICAgIGlmIChwdCA9PT0gJyonKSB7IC8vYWx3YXlzIGFsbG93IHdpbGRjYXJkIGluIHJ0Yy1mYlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudENvZGVjID0gY29kZWNNYXBbcHRdOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVkZWNsYXJlXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoaXMgY29kZWMgaWYgU2RwT3B0aW9ucyNmb3JjZUNvZGVjIHNwZWNpZmllcyBhIGRpZmZlcmVudCBjb2RlYyBmb3IgY3VycmVudCBtZWRpYSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19kZWZpbmVkKGN1cnJlbnRDb2RlYykgJiYgc2RwT3B0aW9ucy5fc2hvdWxkRGVsZXRlQ29kZWMobWVkaWFUeXBlLCBjdXJyZW50Q29kZWMubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5maWx0ZXIobGluZSA9PiBsaW5lICE9PSBudWxsKS5qb2luKCdcXHJcXG4nKTtcblxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZHA6IHNlY3Rpb25zLm1hcChzZWN0aW9uID0+IHNlY3Rpb24udHJpbSgpKS5qb2luKCdcXHJcXG4nKSArICdcXHJcXG4nLFxuICAgICAgICBtTGluZXM6IHNlY3Rpb25zLmxlbmd0aCAtIDEgLy8gZmlyc3Qgc2VjdGlvbiBpcyBzZXNzaW9uIGRlc2NyaXB0aW9uLCB0aGUgcmVzdCBhcmUgbWVkaWEgZGVzY3JpcHRpb25zXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX2RlZmluZWQodikge1xuICAgIHJldHVybiB0eXBlb2YgdiAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aGVuX2RlZmluZWQodiwgYWx0ZXJuYXRpdmVJbikge1xuICAgIHZhciBhbHRlcm5hdGl2ZSA9IGlzX2RlZmluZWQoYWx0ZXJuYXRpdmVJbikgPyBhbHRlcm5hdGl2ZUluIDogbnVsbDtcbiAgICByZXR1cm4gaXNfZGVmaW5lZCh2KSA/IHYgOiBhbHRlcm5hdGl2ZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgY2FsbGFibGUgZnVuY3Rpb24gdHlwZS5cbiAqIEJvcnJvd2VkIGZyb20gVW5kZXJzY29yZS5qcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNhbGwgJiYgb2JqLmFwcGx5KTtcbn1cblxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgYSBwcmVtaXNlIGlzIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHByZW1pc2UsIG1lc3NhZ2UpIHtcbiAgICBpZiAoIXByZW1pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hyb21lQnJvd3Nlcigpe1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikgIT09IC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKXtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB2YXIgY2hyb21lVmVyc2lvbiA9IHVzZXJBZ2VudC5zdWJzdHJpbmcodXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikrNyk7XG4gICAgaWYgKGNocm9tZVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoY2hyb21lVmVyc2lvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZGFjdGVkU2RwKHNkcCkge1xuICAgIC8vIHBhdHRlcm4gdG8gZmluZCBhbmQgcmVkYWN0IHRoZSB2YWx1ZSBhZnRlciAnYT1pY2UtcHdkOidcbiAgICB2YXIgcGF0dGVybiA9IC9hPWljZS1wd2Q6W15cXHJcXG5dKi87XG5cbiAgICAvLyBVc2UgdGhlIHJlcGxhY2UgbWV0aG9kIHRvIHJlZGFjdCB0aGUgdmFsdWUgd2l0aCAnW3JlZGFjdGVkXSdcbiAgICByZXR1cm4gc2RwLnJlcGxhY2UocGF0dGVybiwgJ2E9aWNlLXB3ZDpbcmVkYWN0ZWRdJyk7XG59XG5cbi8qKlxuICogTWV0aG9kIHRvIGdldCB1c2VyQWdlbnQgZGF0YVxuICovXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQWdlbnREYXRhKCkge1xuICAgIGNvbnN0IHVzZXJBZ2VudERhdGEgPSBuZXcgVXNlckFnZW50RGF0YSgpO1xuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAgIC8vIHVzZSBVc2VyLUFnZW50IENsaWVudCBIaW50cyBBUElcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoW1xuICAgICAgICAgICAgJ3BsYXRmb3JtJyxcbiAgICAgICAgICAgICdwbGF0Zm9ybVZlcnNpb24nLFxuICAgICAgICAgICAgJ2FyY2hpdGVjdHVyZScsXG4gICAgICAgICAgICAnYml0bmVzcycsXG4gICAgICAgICAgICAnbW9iaWxlJyxcbiAgICAgICAgICAgICdtb2RlbCcsXG4gICAgICAgICAgICAnZnVsbFZlcnNpb25MaXN0JyxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdXNlckFnZW50RGF0YS5wbGF0Zm9ybSA9IHJlc3VsdC5wbGF0Zm9ybTtcbiAgICAgICAgdXNlckFnZW50RGF0YS5wbGF0Zm9ybVZlcnNpb24gPSByZXN1bHQucGxhdGZvcm1WZXJzaW9uO1xuICAgICAgICB1c2VyQWdlbnREYXRhLmFyY2hpdGVjdHVyZSA9IHJlc3VsdC5hcmNoaXRlY3R1cmU7XG4gICAgICAgIHVzZXJBZ2VudERhdGEuYml0bmVzcyA9IHJlc3VsdC5iaXRuZXNzO1xuICAgICAgICB1c2VyQWdlbnREYXRhLm1vYmlsZSA9IHJlc3VsdC5tb2JpbGU7XG4gICAgICAgIHVzZXJBZ2VudERhdGEubW9kZWwgPSByZXN1bHQubW9kZWw7XG5cbiAgICAgICAgY29uc3QgYnJvd3NlciA9IHJlc3VsdC5mdWxsVmVyc2lvbkxpc3QuZmluZChlbnRyeSA9PlxuICAgICAgICAgICAgQlJPV1NFUl9MSVNULmluY2x1ZGVzKGVudHJ5LmJyYW5kKVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChicm93c2VyKSB7XG4gICAgICAgICAgICB1c2VyQWdlbnREYXRhLmJyb3dzZXJCcmFuZCA9IGJyb3dzZXIuYnJhbmQ7XG4gICAgICAgICAgICB1c2VyQWdlbnREYXRhLmJyb3dzZXJWZXJzaW9uID0gYnJvd3Nlci52ZXJzaW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gdGhlIGZpcnN0IGF2YWlsYWJsZSBicm93c2VyIGJyYW5kXG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja0Jyb3dzZXIgPSByZXN1bHQuZnVsbFZlcnNpb25MaXN0LmZpbmQoZW50cnkgPT4gZW50cnkuYnJhbmQgIT09ICdOb3QgQSBCcmFuZCcpO1xuICAgICAgICAgICAgdXNlckFnZW50RGF0YS5icm93c2VyQnJhbmQgPSBmYWxsYmFja0Jyb3dzZXIgPyBmYWxsYmFja0Jyb3dzZXIuYnJhbmQgOiAnVW5rbm93bic7XG4gICAgICAgICAgICB1c2VyQWdlbnREYXRhLmJyb3dzZXJWZXJzaW9uID0gZmFsbGJhY2tCcm93c2VyID8gZmFsbGJhY2tCcm93c2VyLnZlcnNpb24gOiAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGYWxsYmFjayB0byB1c2VyLWFnZW50IHN0cmluZyBwYXJzaW5nXG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBVQVBhcnNlcih1c2VyQWdlbnQpO1xuICAgICAgICBjb25zdCBwYXJzZXJSZXN1bHQgPSBwYXJzZXIuZ2V0UmVzdWx0KCk7XG5cbiAgICAgICAgdXNlckFnZW50RGF0YS5icm93c2VyQnJhbmQgPSBwYXJzZXJSZXN1bHQuYnJvd3Nlci5uYW1lIHx8ICdVbmtub3duJztcbiAgICAgICAgdXNlckFnZW50RGF0YS5icm93c2VyVmVyc2lvbiA9IHBhcnNlclJlc3VsdC5icm93c2VyLnZlcnNpb24gfHwgJ1Vua25vd24nO1xuICAgICAgICB1c2VyQWdlbnREYXRhLnBsYXRmb3JtID0gcGFyc2VyUmVzdWx0Lm9zLm5hbWUgfHwgJ1Vua25vd24nO1xuICAgICAgICB1c2VyQWdlbnREYXRhLnBsYXRmb3JtVmVyc2lvbiA9IHBhcnNlclJlc3VsdC5vcy52ZXJzaW9uIHx8ICdVbmtub3duJztcbiAgICAgICAgdXNlckFnZW50RGF0YS5hcmNoaXRlY3R1cmUgPSBwYXJzZXJSZXN1bHQuY3B1LmFyY2hpdGVjdHVyZSB8fCAnVW5rbm93bic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZXJBZ2VudERhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpcmVmb3hCcm93c2VyKHVzZXJBZ2VudERhdGEpIHtcbiAgICBpZiAodXNlckFnZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdXNlckFnZW50RGF0YS5icm93c2VyQnJhbmQudG9VcHBlckNhc2UoKSA9PT0gRklSRUZPWC50b1VwcGVyQ2FzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoRklSRUZPWCkgIT09IC0xO1xuICAgIH1cbn0iLCJpbXBvcnQge2hpdGNofSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7U09GVFBIT05FX1JPVVRFX0tFWX0gZnJvbSAnLi9ydGNfY29uc3QnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpcnR1YWxXc3NDb25uZWN0aW9uTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IobG9nZ2VyLCBjb25uZWN0aW9uSWQsIHdzc01hbmFnZXIpIHtcbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uSWQgPSBjb25uZWN0aW9uSWQ7XG4gICAgICAgIHRoaXMuX3dzc01hbmFnZXIgPSB3c3NNYW5hZ2VyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVXZWJTb2NrZXRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIF9pbml0aWFsaXplV2ViU29ja2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3dzc01hbmFnZXIuc3Vic2NyaWJlVG9waWNzKFtTT0ZUUEhPTkVfUk9VVEVfS0VZXSk7XG4gICAgICAgIHRoaXMuX3VuU3Vic2NyaWJlID0gdGhpcy5fd3NzTWFuYWdlci5vbk1lc3NhZ2UoU09GVFBIT05FX1JPVVRFX0tFWSwgaGl0Y2godGhpcywgdGhpcy5fd2ViU29ja2V0TWFuYWdlck9uTWVzc2FnZSkpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uT3BlbigpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICBfd2ViU29ja2V0TWFuYWdlck9uTWVzc2FnZShldmVudCkge1xuICAgICAgICBsZXQgY29udGVudDtcbiAgICAgICAgaWYgKGV2ZW50LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBKU09OLnBhcnNlKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vbk1lc3NhZ2UgJiYgY29udGVudCAmJiB0aGlzLl9jb25uZWN0aW9uSWQgPT09IGNvbnRlbnQuY29ubmVjdGlvbklkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbk1lc3NhZ2Uoe2RhdGE6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQuanNvblJwY01zZyl9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldCBvbm1lc3NhZ2UoY2FsbEJhY2spIHtcbiAgICAgICAgdGhpcy5fb25NZXNzYWdlID0gY2FsbEJhY2s7XG4gICAgfVxuXG4gICAgc2V0IG9ub3BlbihjYWxsQmFjaykge1xuICAgICAgICB0aGlzLl9vbk9wZW4gPSBjYWxsQmFjaztcbiAgICB9XG5cbiAgICBzZW5kKHdlYlNvY2tldFBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGF5bG9hZC50b3BpYyA9IFNPRlRQSE9ORV9ST1VURV9LRVk7XG4gICAgICAgICAgICBwYXlsb2FkLmNvbm5lY3Rpb25JZCA9IHRoaXMuX2Nvbm5lY3Rpb25JZDtcbiAgICAgICAgICAgIHBheWxvYWQuanNvblJwY01zZyA9IEpTT04ucGFyc2Uod2ViU29ja2V0UGF5bG9hZCk7XG4gICAgICAgICAgICB0aGlzLl93c3NNYW5hZ2VyLnNlbmRNZXNzYWdlKHBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmVycm9yKFwiRXJyb3IgaW4gc2VuZE1lc3NhZ2UgXCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIuaW5mbyhcImNsb3NpbmcgdmlydHVhbCBjb25uZWN0aW9uXCIpO1xuICAgICAgICB0aGlzLl91blN1YnNjcmliZSgpO1xuICAgIH1cbn0iXX0=
